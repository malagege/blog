<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>如何避免程式組 URL 出錯 - 程式狂想筆記</title><meta name="Description" content="記錄著我接觸程式藝文"><meta property="og:title" content="如何避免程式組 URL 出錯" />
<meta property="og:description" content="前正子專案因為設定檔有人網址會多 / 導致程式一些狀況，公司有人有特別寫組語法方法，這邊我思考正常內建方法可不可以解決這個問題，怎麼沒有人寫好 Library 分享給別人使用？探討有什麼更好方式去解這個問題。
心智圖 mindmap (程式組 Url 方法) 操作 Url 方法 .Net UriBuilder 物件 Java Uri 物件 JavaScript URL 物件 設定 QueryString 方法 .Net NameValueCollection Java MultiValuedMap 非原生 JavaScript URLSearchParams .Net 實作方法 使用 UriBuilder UriBuilder 是一個用於建立和操作 URI 的類別，適用於需要動態生成或修改 URI 的場景。它的用途包括構建 API 請求、處理用戶輸入的 URL、以及在應用程序中動態生成鏈接。相較於單純使用字串來紀錄 URI，它有以下的優點：
安全性：UriBuilder 會自動處理 URI 中的特殊字元和編碼問題，避免了手動操作可能產生的錯誤。 1 2 3 4 5 6 7 8 9 UriBuilder uriBuilder = new UriBuilder { Scheme = &#34;https&#34;, Host = &#34;example." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://malagege.github.io/blog/posts/how_to_avoid_url_errors/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2025-01-12T21:30:11+08:00" />
<meta property="article:modified_time" content="2025-04-27T01:36:50+08:00" /><meta property="og:site_name" content="程式狂想筆記" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="如何避免程式組 URL 出錯"/>
<meta name="twitter:description" content="前正子專案因為設定檔有人網址會多 / 導致程式一些狀況，公司有人有特別寫組語法方法，這邊我思考正常內建方法可不可以解決這個問題，怎麼沒有人寫好 Library 分享給別人使用？探討有什麼更好方式去解這個問題。
心智圖 mindmap (程式組 Url 方法) 操作 Url 方法 .Net UriBuilder 物件 Java Uri 物件 JavaScript URL 物件 設定 QueryString 方法 .Net NameValueCollection Java MultiValuedMap 非原生 JavaScript URLSearchParams .Net 實作方法 使用 UriBuilder UriBuilder 是一個用於建立和操作 URI 的類別，適用於需要動態生成或修改 URI 的場景。它的用途包括構建 API 請求、處理用戶輸入的 URL、以及在應用程序中動態生成鏈接。相較於單純使用字串來紀錄 URI，它有以下的優點：
安全性：UriBuilder 會自動處理 URI 中的特殊字元和編碼問題，避免了手動操作可能產生的錯誤。 1 2 3 4 5 6 7 8 9 UriBuilder uriBuilder = new UriBuilder { Scheme = &#34;https&#34;, Host = &#34;example."/>
<meta name="application-name" content="程式狂想筆記">
<meta name="apple-mobile-web-app-title" content="程式狂想筆記"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://malagege.github.io/blog/posts/how_to_avoid_url_errors/" /><link rel="prev" href="https://malagege.github.io/blog/posts/Playwright_code_running_out_of_memory_error/" /><link rel="next" href="https://malagege.github.io/blog/posts/how-to-test-raspberry-pi-performance/" /><link rel="stylesheet" href="/blog/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "如何避免程式組 URL 出錯",
        "inLanguage": "zh-tw",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/malagege.github.io\/blog\/posts\/how_to_avoid_url_errors\/"
        },"genre": "posts","keywords": "url, error-handling, best-practices, java, javascript, .net","wordcount":  925 ,
        "url": "https:\/\/malagege.github.io\/blog\/posts\/how_to_avoid_url_errors\/","datePublished": "2025-01-12T21:30:11+08:00","dateModified": "2025-04-27T01:36:50+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "malagege"
            },"description": "前正子專案因為設定檔有人網址會多 / 導致程式一些狀況，公司有人有特別寫組語法方法，這邊我思考正常內建方法可不可以解決這個問題，怎麼沒有人寫好 Library 分享給別人使用？探討有什麼更好方式去解這個問題。\n心智圖 mindmap (程式組 Url 方法) 操作 Url 方法 .Net UriBuilder 物件 Java Uri 物件 JavaScript URL 物件 設定 QueryString 方法 .Net NameValueCollection Java MultiValuedMap 非原生 JavaScript URLSearchParams .Net 實作方法 使用 UriBuilder UriBuilder 是一個用於建立和操作 URI 的類別，適用於需要動態生成或修改 URI 的場景。它的用途包括構建 API 請求、處理用戶輸入的 URL、以及在應用程序中動態生成鏈接。相較於單純使用字串來紀錄 URI，它有以下的優點：\n安全性：UriBuilder 會自動處理 URI 中的特殊字元和編碼問題，避免了手動操作可能產生的錯誤。 1 2 3 4 5 6 7 8 9 UriBuilder uriBuilder = new UriBuilder { Scheme = \u0026#34;https\u0026#34;, Host = \u0026#34;example."
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/blog/" title="程式狂想筆記">程式狂想筆記</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/blog/"> 首頁 </a><a class="menu-item" href="/blog/posts/"> 文章 </a><a class="menu-item" href="/blog/tags/"> 標籤 </a><a class="menu-item" href="/blog/categories/"> 分類 </a><a class="menu-item" href="/blog/links/" title="覺得不錯好站都會放在這邊"> 好站連結 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/blog/" title="程式狂想筆記">程式狂想筆記</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/blog/" title="">首頁</a><a class="menu-item" href="/blog/posts/" title="">文章</a><a class="menu-item" href="/blog/tags/" title="">標籤</a><a class="menu-item" href="/blog/categories/" title="">分類</a><a class="menu-item" href="/blog/links/" title="覺得不錯好站都會放在這邊">好站連結</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
            <div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="4661282975"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">如何避免程式組 URL 出錯</h1>

        <div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="2236653478"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  <div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/blog/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>malagege</a></span>&nbsp;<span class="post-category">included in <a href="/blog/categories/%E7%A8%8B%E5%BC%8F%E5%BF%83%E6%B3%95/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>程式心法</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2025-01-12">2025-01-12</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;925 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;5 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://gist.github.com/user-attachments/assets/42c20617-076d-45c2-b876-a7f663bf2ec5"
        data-srcset="https://gist.github.com/user-attachments/assets/42c20617-076d-45c2-b876-a7f663bf2ec5, https://gist.github.com/user-attachments/assets/42c20617-076d-45c2-b876-a7f663bf2ec5 1.5x, https://gist.github.com/user-attachments/assets/42c20617-076d-45c2-b876-a7f663bf2ec5 2x"
        data-sizes="auto"
        alt="https://gist.github.com/user-attachments/assets/42c20617-076d-45c2-b876-a7f663bf2ec5"
        title="https://gist.github.com/user-attachments/assets/42c20617-076d-45c2-b876-a7f663bf2ec5" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#心智圖">心智圖</a></li>
    <li><a href="#net-實作方法">.Net 實作方法</a>
      <ul>
        <li><a href="#使用-uribuilder">使用 UriBuilder</a></li>
      </ul>
    </li>
    <li><a href="#參考資料">參考資料</a>
      <ul>
        <li><a href="#解決-url-多餘的--問題-">解決 URL 多餘的 / 問題 &quot;</a></li>
      </ul>
    </li>
    <li><a href="#java">Java</a>
      <ul>
        <li><a href="#java-類似-net-的-namevaluecollection-物件">Java 類似 .Net 的 NameValueCollection 物件</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>前正子專案因為設定檔有人網址會多 <code>/</code> 導致程式一些狀況，公司有人有特別寫組語法方法，這邊我思考正常內建方法可不可以解決這個問題，怎麼沒有人寫好 Library 分享給別人使用？探討有什麼更好方式去解這個問題。</p>
<h2 id="心智圖">心智圖</h2>
<div class="mermaid">mindmap
  (程式組 Url 方法)
    操作 Url 方法
        .Net 
            UriBuilder 物件
        Java 
            Uri 物件
        JavaScript
            URL 物件
    設定 QueryString 方法
        .Net
            NameValueCollection
        Java
            MultiValuedMap 非原生
        JavaScript
            URLSearchParams 
</div><h2 id="net-實作方法">.Net 實作方法</h2>
<h3 id="使用-uribuilder">使用 UriBuilder</h3>
<p><code>UriBuilder</code> 是一個用於建立和操作 URI 的類別，適用於需要動態生成或修改 URI 的場景。它的用途包括構建 API 請求、處理用戶輸入的 URL、以及在應用程序中動態生成鏈接。相較於單純使用字串來紀錄 URI，它有以下的優點：</p>
<ol>
<li>安全性：<code>UriBuilder</code> 會自動處理 URI 中的特殊字元和編碼問題，避免了手動操作可能產生的錯誤。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">UriBuilder</span> <span class="n">uriBuilder</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UriBuilder</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Scheme</span> <span class="p">=</span> <span class="s">&#34;https&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Host</span> <span class="p">=</span> <span class="s">&#34;example.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Path</span> <span class="p">=</span> <span class="s">&#34;/api/values&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Query</span> <span class="p">=</span> <span class="s">&#34;name=&#34;</span> <span class="p">+</span> <span class="n">Uri</span><span class="p">.</span><span class="n">EscapeDataString</span><span class="p">(</span><span class="s">&#34;John Doe&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>易於操作：<code>UriBuilder</code> 提供了許多方法和屬性來操作 URI 的各個部分（例如 scheme、host、path、query 等），比起手動解析和組裝字串來得方便。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">UriBuilder</span> <span class="n">uriBuilder</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UriBuilder</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">Scheme</span> <span class="p">=</span> <span class="s">&#34;https&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">Host</span> <span class="p">=</span> <span class="s">&#34;example.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">Path</span> <span class="p">=</span> <span class="s">&#34;/api/values&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">Query</span> <span class="p">=</span> <span class="s">&#34;name=&#34;</span> <span class="p">+</span> <span class="n">Uri</span><span class="p">.</span><span class="n">EscapeDataString</span><span class="p">(</span><span class="s">&#34;John Doe&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Dump</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">uri</span><span class="p">.</span><span class="n">ToString</span><span class="p">().</span><span class="n">Dump</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="參考資料">參考資料</h2>
<p>可以看到 Query 的 <code>?name=John%20Doe</code>，在 <code>ToString()</code> 會自動進行 URL 解碼，通常用於使用者輸入的 encodeUrl，不需要自己處理。<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://gist.github.com/assets/75846914/1e96f789-8a56-4b34-be65-b58406ee81b6"
        data-srcset="https://gist.github.com/assets/75846914/1e96f789-8a56-4b34-be65-b58406ee81b6, https://gist.github.com/assets/75846914/1e96f789-8a56-4b34-be65-b58406ee81b6 1.5x, https://gist.github.com/assets/75846914/1e96f789-8a56-4b34-be65-b58406ee81b6 2x"
        data-sizes="auto"
        alt="https://gist.github.com/assets/75846914/1e96f789-8a56-4b34-be65-b58406ee81b6"
        title="image" /><br>
可以看到 Query 的<code>?name=John%20Doe</code>，在 <code>ToString()</code> 會自動做 urldecode 動作，通常用於<code>使用者輸入encodeUrl</code> 可以做這個動作，不需要自己做這個處理。</p>
<ol start="3">
<li>可讀性：使用 <code>UriBuilder</code> 可以讓程式碼更具可讀性，因為它明確地表達了你正在操作 URI，而不僅僅是操作字串。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">UriBuilder</span> <span class="n">uriBuilder</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UriBuilder</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Scheme</span> <span class="p">=</span> <span class="s">&#34;https&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Host</span> <span class="p">=</span> <span class="s">&#34;example.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Path</span> <span class="p">=</span> <span class="s">&#34;/api/values&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri1</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Query</span> <span class="p">=</span> <span class="s">&#34;id=123&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri2</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Query</span> <span class="p">=</span> <span class="s">&#34;id=456&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri3</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>可重用性：<code>UriBuilder</code> 可以重複使用來建立具有相同基礎的多個 URI，這在需要建立許多相似 URI 的情況下非常有用。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">UriBuilder</span> <span class="n">uriBuilder</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UriBuilder</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Scheme</span> <span class="p">=</span> <span class="s">&#34;https&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Host</span> <span class="p">=</span> <span class="s">&#34;example.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Path</span> <span class="p">=</span> <span class="s">&#34;/api/values&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri1</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Query</span> <span class="p">=</span> <span class="s">&#34;id=123&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri2</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Query</span> <span class="p">=</span> <span class="s">&#34;id=456&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri3</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw" aria-hidden="true"></i>Info<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><blockquote>
<p>UriBuilder 和 Uri 使用方是哪裡不一樣?</p>
</blockquote>
<p>UriBuilder 和 Uri 兩者都是用於處理 URI 的，但它們的使用方式和目的有所不同。</p>
<p>Uri 是一個不可變的類別，代表一個 Uniform Resource Identifier (URI)。一旦 Uri 物件被建立，其內容就不能更改。Uri 物件通常用於存儲和傳遞 URI。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span><span class="p">(</span><span class="s">&#34;https://example.com/api/values?id=123&#34;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>UriBuilder</code> 則是一個可變的類別，用於建立和修改 URI。你可以使用 <code>UriBuilder</code> 的各種屬性（例如 Scheme、Host、Path、Query 等）來設定 URI 的各個部分，然後使用 Uri 屬性或 <code>ToString</code> 方法來獲取最終的 URI。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">UriBuilder</span> <span class="n">uriBuilder</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UriBuilder</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Scheme</span> <span class="p">=</span> <span class="s">&#34;https&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Host</span> <span class="p">=</span> <span class="s">&#34;example.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Path</span> <span class="p">=</span> <span class="s">&#34;/api/values&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Query</span> <span class="p">=</span> <span class="s">&#34;id=123&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">uri</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>  <span class="c1">// 從 UriBuilder 獲取 Uri</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>總的來說，如果你需要建立或修改 <code>URI</code>，則應使用 <code>UriBuilder</code>。如果你只需要存儲或傳遞 <code>URI</code>，則應使用 <code>Uri</code>。</p>
</div>
        </div>
    </div>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw" aria-hidden="true"></i>Info<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><blockquote>
<p>那我通常要改 <code>Uri</code> 資料要怎麼做?</p>
</blockquote>
<p>由於 <code>Uri</code> 是不可變的，所以你不能直接修改 <code>Uri</code> 物件的內容。如果你需要修改 URI，你應該使用 <code>UriBuilder</code>。</p>
<p>以下是一個範例，展示如何使用 <code>UriBuilder</code> 修改 URI：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">originalUri</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span><span class="p">(</span><span class="s">&#34;https://example.com/api/values?id=123&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 使用原始的 Uri 建立 UriBuilder</span>
</span></span><span class="line"><span class="cl"><span class="n">UriBuilder</span> <span class="n">uriBuilder</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UriBuilder</span><span class="p">(</span><span class="n">originalUri</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 修改 UriBuilder 的內容</span>
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Path</span> <span class="p">=</span> <span class="s">&#34;/api/items&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Query</span> <span class="p">=</span> <span class="s">&#34;id=456&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 從 UriBuilder 獲取新的 Uri</span>
</span></span><span class="line"><span class="cl"><span class="n">Uri</span> <span class="n">newUri</span> <span class="p">=</span> <span class="n">uriBuilder</span><span class="p">.</span><span class="n">Uri</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在這個範例中，我們首先使用原始的 <code>Uri</code> 建立了一個 <code>UriBuilder</code>。然後，我們修改了 <code>UriBuilder</code> 的 Path 和 Query。最後，我們從 <code>UriBuilder</code> 獲取了新的 <code>Uri</code>。新的 <code>Uri</code> 是 &ldquo;<a href="https://example.com/api/items?id=456%22%e3%80%82" target="_blank" rel="noopener noreffer ">https://example.com/api/items?id=456"。</a></p>
</div>
        </div>
    </div>
<h3 id="解決-url-多餘的--問題-">解決 URL 多餘的 / 問題 &quot;</h3>
<p><strong>可以用 <code>Path.Combine</code> 解決這個問題。</strong></p>
<p>組 URL 和 Query 使用 <code>UriBuilder</code> 和 <code>NameValueCollection</code> 來解決這個問題。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">UriBuilder</span> <span class="n">uriBuilder</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UriBuilder</span><span class="p">(</span><span class="s">&#34;http&#34;</span><span class="p">,</span> <span class="s">&#34;example.com&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">NameValueCollection</span> <span class="n">query</span> <span class="p">=</span> <span class="n">HttpUtility</span><span class="p">.</span><span class="n">ParseQueryString</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="p">[</span><span class="s">&#34;param1&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;value1&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="p">[</span><span class="s">&#34;param2&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;value2&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">string</span> <span class="n">path1</span> <span class="p">=</span> <span class="s">&#34;/path&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">string</span> <span class="n">path2</span> <span class="p">=</span> <span class="s">&#34;/to/resource&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Path</span> <span class="p">=</span> <span class="n">Path</span><span class="p">.</span><span class="n">Combine</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">path2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">uriBuilder</span><span class="p">.</span><span class="n">Query</span> <span class="p">=</span> <span class="n">query</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">uriBuilder</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="c1">// path2 前面根目錄會把 path1 路徑去掉，所以串接時候不要把 path2 前面加 /</span>
</span></span><span class="line"><span class="cl"><span class="c1">//  http://localhost/to/resource</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://share.linqpad.net/qrnpjhvl.linq" target="_blank" rel="noopener noreffer ">LinqPad 範例</a></p>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw" aria-hidden="true"></i>Info<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><code>HttpUtility.ParseQueryString(string.Empty);</code> 和 <code>NameValueCollection query = new NameValueCollection();</code> 差異?</p>
<p><code>NameValueCollection query = HttpUtility.ParseQueryString(string.Empty);</code> 和 <code>NameValueCollection query = new NameValueCollection();</code> 兩者的主要差別在於他們的初始化方式。</p>
<p><code>HttpUtility.ParseQueryString(string.Empty)</code> 會返回一個 NameValueCollection，並且這個集合的 ToString 方法被覆蓋以返回一個 URL 編碼的查詢字符串。這對於創建查詢字符串非常有用。<br>
詳細可以參考 <code>HttpQSCollection</code> 這個類別。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">NameValueCollection</span> <span class="n">query</span> <span class="p">=</span> <span class="n">HttpUtility</span><span class="p">.</span><span class="n">ParseQueryString</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="p">[</span><span class="s">&#34;param1&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;value1&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="p">[</span><span class="s">&#34;param2&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;value2&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">query</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>  <span class="c1">// 輸出 &#34;param1=value1&amp;param2=value2&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>另一方面，創建一個新的 NameValueCollection，但是它的 ToString 方法並未被覆蓋，所以它只會返回類型名稱。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">NameValueCollection</span> <span class="n">query</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NameValueCollection</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="p">[</span><span class="s">&#34;param1&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;value1&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">query</span><span class="p">[</span><span class="s">&#34;param2&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;value2&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">query</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>  <span class="c1">// 輸出 &#34;System.Collections.Specialized.NameValueCollection&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>因此，如果你需要創建一個查詢字符串，使用 <code>HttpUtility.ParseQueryString(string.Empty)</code> 會更方便。<br>
{{&lt;/admonition&gt;}}</p>
<h1 id="javascript">Javascript</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">&#39;http://localhost//example/author/admin///&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">parts</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">cleanedParts</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">part</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">index</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">part</span> <span class="o">!==</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">cleanUrl</span> <span class="o">=</span> <span class="nx">cleanedParts</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">cleanUrl</span><span class="p">);</span> <span class="c1">// 輸出: http://localhost/example/author/admin/
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>new URL()</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;https://example.com&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">=</span> <span class="s1">&#39;/newpath&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span> <span class="c1">// 輸出: https://example.com/newpath
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>QueryString</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">myUrl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;https://example.com&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">myUrl</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">=</span> <span class="s1">&#39;/mypage&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">myUrl</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;Rome&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myUrl</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span> <span class="c1">// 輸出: https://example.com/mypage?city=Rome
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreffer ">URLSearchParams - Web API | MDN</a></li>
</ul>
<p>{{&lt;admonition type=&ldquo;info&rdquo;&gt;}}<br>
在 Node.js 中，你可以使用 <code>path</code> 模組的 <code>join</code> 方法來組合路徑，並自動處理多餘的 <code>/</code>。以下是一個範例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">combinedPath</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;/foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;/baz/asdf&#39;</span><span class="p">,</span> <span class="s1">&#39;quux&#39;</span><span class="p">,</span> <span class="s1">&#39;..&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">combinedPath</span><span class="p">);</span>  <span class="c1">// 輸出: &#39;/foo/bar/baz/asdf&#39;
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>在這個範例中，<code>path.join</code> 方法將多個路徑片段組合成一個路徑，並自動處理多餘的 <code>/</code> 和 <code>..</code>。</p>
<p>請注意，這個方法是 Node.js 特有的，並不適用於在瀏覽器中運行的 JavaScript。在瀏覽器中，你可能需要自己寫函數來處理路徑的組合和正規化。</p>
</div>
        </div>
    </div>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw" aria-hidden="true"></i>Info<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>在瀏覽器中運行的 JavaScript 沒有內建的路徑組合函數，但你可以自己寫一個簡單的函數來實現這個功能。以下是一個範例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">combinePaths</span><span class="p">(...</span><span class="nx">paths</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">paths</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\/+/g</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>  <span class="c1">// 將多個連續的 &#39;/&#39; 替換為單個 &#39;/&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\/+$/</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>  <span class="c1">// 移除結尾的 &#39;/&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">combinedPath</span> <span class="o">=</span> <span class="nx">combinePaths</span><span class="p">(</span><span class="s1">&#39;/foo/&#39;</span><span class="p">,</span> <span class="s1">&#39;/bar&#39;</span><span class="p">,</span> <span class="s1">&#39;/baz/asdf/&#39;</span><span class="p">,</span> <span class="s1">&#39;/quux&#39;</span><span class="p">,</span> <span class="s1">&#39;..&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">combinedPath</span><span class="p">);</span>  <span class="c1">// 輸出: &#39;/foo/bar/baz/asdf/quux/..&#39;
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>這個 <code>combinePaths</code> 函數接受任意數量的路徑片段，將它們組合成一個路徑，並自動處理多餘的 <code>/</code>。</p>
</div>
        </div>
    </div>
<h2 id="java">Java</h2>
<p>相對 .Net 的 <code>Path.Combine</code> 方法，Java 有 <code>Paths.get</code> 方法可以使用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.URI</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.net.URISyntaxException</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.nio.file.Paths</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">HelloWorld</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;//path&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;/to&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;///resource&#34;</span><span class="p">).</span><span class="na">toString</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.http.client.utils.URIBuilder</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">URIBuilder</span><span class="w"> </span><span class="n">uriBuilder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">URIBuilder</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">uriBuilder</span><span class="p">.</span><span class="na">setScheme</span><span class="p">(</span><span class="s">&#34;http&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="na">setHost</span><span class="p">(</span><span class="s">&#34;example.com&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="na">setPath</span><span class="p">(</span><span class="s">&#34;/path/to/resource&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="na">setParameter</span><span class="p">(</span><span class="s">&#34;param1&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;value1&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="na">setParameter</span><span class="p">(</span><span class="s">&#34;param2&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;value2&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">uriBuilder</span><span class="p">.</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.http.NameValuePair</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.http.client.utils.URLEncodedUtils</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.http.message.BasicNameValuePair</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.nio.charset.Charset</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">NameValuePair</span><span class="o">&gt;</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">params</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicNameValuePair</span><span class="p">(</span><span class="s">&#34;param1&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;value1&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">params</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BasicNameValuePair</span><span class="p">(</span><span class="s">&#34;param2&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;value2&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">queryString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">URLEncodedUtils</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">params</span><span class="p">,</span><span class="w"> </span><span class="n">Charset</span><span class="p">.</span><span class="na">forName</span><span class="p">(</span><span class="s">&#34;UTF-8&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">queryString</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="java-類似-net-的-namevaluecollection-物件">Java 類似 .Net 的 NameValueCollection 物件</h3>
<p>在 Java 中，對應 .Net 的 HTTP QueryString 可以用 NameValueCollection 去組合字串，但 Java 沒有原生方法。</p>
<p>在 Java 中，您可以使用 Multimap 來存儲具有重複鍵的值。以下是一些選項：</p>
<p>Apache Commons Collections：<br>
使用 Multimap，它支持重複的鍵和值對。<br>
您可以使用 org.apache.commons.collections4.MultiMap 來實現。<br>
Java 8+：<br>
使用 <code>Map&lt;K, List&lt;V&gt;&gt;</code>，其中每個鍵都對應到一個值列表。<br>
您可以使用 computeIfAbsent 方法來簡化操作。<br>
總之，如果您需要一個類似於 NameValueCollection 的物件，您可以使用 Java 中的 Multimap 或 <code>Map&lt;K, List&lt;V&gt;&gt;</code>。🌟</p>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw" aria-hidden="true"></i>Info<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">詳細可以參考以下連結：<br>
<a href="https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html" target="_blank" rel="noopener noreffer ">https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html</a><br>
<a href="https://www.baeldung.com/apache-commons-multi-valued-map" target="_blank" rel="noopener noreffer ">https://www.baeldung.com/apache-commons-multi-valued-map</a></div>
        </div>
    </div>
<div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="2236653478"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
        </div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2025-04-27</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://malagege.github.io/blog/posts/how_to_avoid_url_errors/" data-title="如何避免程式組 URL 出錯" data-hashtags="url,error-handling,best-practices,java,javascript,.net"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://malagege.github.io/blog/posts/how_to_avoid_url_errors/" data-hashtag="url"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://malagege.github.io/blog/posts/how_to_avoid_url_errors/" data-title="如何避免程式組 URL 出錯"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://malagege.github.io/blog/posts/how_to_avoid_url_errors/" data-title="如何避免程式組 URL 出錯"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://malagege.github.io/blog/posts/how_to_avoid_url_errors/" data-title="如何避免程式組 URL 出錯" data-image="https://gist.github.com/user-attachments/assets/42c20617-076d-45c2-b876-a7f663bf2ec5"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/blog/tags/url/">Url</a>,&nbsp;<a href="/blog/tags/error-handling/">Error-Handling</a>,&nbsp;<a href="/blog/tags/best-practices/">Best-Practices</a>,&nbsp;<a href="/blog/tags/java/">Java</a>,&nbsp;<a href="/blog/tags/javascript/">Javascript</a>,&nbsp;<a href="/blog/tags/.net/">.Net</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/blog/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/posts/Playwright_code_running_out_of_memory_error/" class="prev" rel="prev" title="Playwright 程式碼執行時發生記憶體不足錯誤"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Playwright 程式碼執行時發生記憶體不足錯誤</a>
            <a href="/blog/posts/how-to-test-raspberry-pi-performance/" class="next" rel="next" title="樹梅派怎麼簡單測試效能">樹梅派怎麼簡單測試效能<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.123.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/blog/" target="_blank">malagege</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://malagege-blog.disqus.com/embed.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.1/dist/mermaid.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"search":{"algoliaAppID":"4LYONZIY18","algoliaIndex":"malagege_blog","algoliaSearchKey":"30dc05f673e702e0701b9b40cfa44eac","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/blog/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-105195903-2', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-105195903-2" async></script></body>
</html>
