<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Blog 從 Hexo 移轉 Hugo 主題 LoveIt - 程式狂想筆記</title><meta name="Description" content="從 Hexo 移轉 Hugo，也有調整相關設定，如: MermaidJS、Algolia Search...，還有自動化設定上傳到 Github Pages。相關設定可以讓你從 Hexo 到 Hugo 做參考"><meta property="og:title" content="Blog 從 Hexo 移轉 Hugo 主題 LoveIt" />
<meta property="og:description" content="從 Hexo 移轉 Hugo，也有調整相關設定，如: MermaidJS、Algolia Search...，還有自動化設定上傳到 Github Pages。相關設定可以讓你從 Hexo 到 Hugo 做參考" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://malagege.github.io/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/" /><meta property="og:image" content="https://user-images.githubusercontent.com/6058558/196389102-106394c8-387e-4dcf-974d-6d0f00e9e1e4.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-18T16:38:43+08:00" />
<meta property="article:modified_time" content="2022-10-18T16:38:43+08:00" /><meta property="og:site_name" content="程式狂想筆記" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://user-images.githubusercontent.com/6058558/196389102-106394c8-387e-4dcf-974d-6d0f00e9e1e4.png" /><meta name="twitter:title" content="Blog 從 Hexo 移轉 Hugo 主題 LoveIt"/>
<meta name="twitter:description" content="從 Hexo 移轉 Hugo，也有調整相關設定，如: MermaidJS、Algolia Search...，還有自動化設定上傳到 Github Pages。相關設定可以讓你從 Hexo 到 Hugo 做參考"/>
<meta name="application-name" content="程式狂想筆記">
<meta name="apple-mobile-web-app-title" content="程式狂想筆記"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://malagege.github.io/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/" /><link rel="prev" href="https://malagege.github.io/blog/posts/Java-HashMap-foreach-loop/" /><link rel="next" href="https://malagege.github.io/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/" /><link rel="stylesheet" href="/blog/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Blog 從 Hexo 移轉 Hugo 主題 LoveIt",
        "inLanguage": "zh-tw",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/malagege.github.io\/blog\/posts\/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt\/"
        },"genre": "posts","keywords": "blog, hexo, hugo, loveit","wordcount":  2102 ,
        "url": "https:\/\/malagege.github.io\/blog\/posts\/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt\/","datePublished": "2022-10-18T16:38:43+08:00","dateModified": "2022-10-18T16:38:43+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "malagege"
            },"description": "從 Hexo 移轉 Hugo，也有調整相關設定，如: MermaidJS、Algolia Search...，還有自動化設定上傳到 Github Pages。相關設定可以讓你從 Hexo 到 Hugo 做參考"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/blog/" title="程式狂想筆記">程式狂想筆記</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/blog/"> 首頁 </a><a class="menu-item" href="/blog/posts/"> 文章 </a><a class="menu-item" href="/blog/tags/"> 標籤 </a><a class="menu-item" href="/blog/categories/"> 分類 </a><a class="menu-item" href="/blog/links/" title="覺得不錯好站都會放在這邊"> 好站連結 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/blog/" title="程式狂想筆記">程式狂想筆記</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/blog/" title="">首頁</a><a class="menu-item" href="/blog/posts/" title="">文章</a><a class="menu-item" href="/blog/tags/" title="">標籤</a><a class="menu-item" href="/blog/categories/" title="">分類</a><a class="menu-item" href="/blog/links/" title="覺得不錯好站都會放在這邊">好站連結</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
            <div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="4661282975"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Blog 從 Hexo 移轉 Hugo 主題 LoveIt</h1>

        <div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="2236653478"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  <div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/blog/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>malagege</a></span>&nbsp;<span class="post-category">included in <a href="/blog/categories/Hugo/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Hugo</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2022-10-18">2022-10-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;2102 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;10 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://user-images.githubusercontent.com/6058558/196389102-106394c8-387e-4dcf-974d-6d0f00e9e1e4.png"
        data-srcset="https://user-images.githubusercontent.com/6058558/196389102-106394c8-387e-4dcf-974d-6d0f00e9e1e4.png, https://user-images.githubusercontent.com/6058558/196389102-106394c8-387e-4dcf-974d-6d0f00e9e1e4.png 1.5x, https://user-images.githubusercontent.com/6058558/196389102-106394c8-387e-4dcf-974d-6d0f00e9e1e4.png 2x"
        data-sizes="auto"
        alt="https://user-images.githubusercontent.com/6058558/196389102-106394c8-387e-4dcf-974d-6d0f00e9e1e4.png"
        title="從 Hexo 移轉 Hugo，也有調整相關設定，如: MermaidJS、Algolia Search...，還有自動化設定上傳到 Github Pages。相關設定可以讓你從 Hexo 到 Hugo 做參考" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#建立-hugo">建立 Hugo</a></li>
    <li><a href="#visual-studio-code-設定圖片方法">Visual Studio Code 設定圖片方法</a>
      <ul>
        <li><a href="#設定在-blog-裡面">設定在 blog 裡面</a></li>
        <li><a href="#使用圖床空間">使用圖床空間</a></li>
      </ul>
    </li>
    <li><a href="#搜尋文章工具選擇">搜尋文章工具選擇</a>
      <ul>
        <li><a href="#loveit-支援搜尋">LoveIt 支援搜尋</a></li>
        <li><a href="#前面準備事情">前面準備事情</a></li>
        <li><a href="#設定-algolia-網站">設定 Algolia 網站</a></li>
      </ul>
    </li>
    <li><a href="#主題選擇">主題選擇</a></li>
    <li><a href="#hexo-調整-hugo-內容">Hexo 調整 Hugo 內容</a>
      <ul>
        <li><a href="#解決文章沒換行問題">解決文章沒換行問題</a></li>
        <li><a href="#文章錯誤排除">文章錯誤排除</a></li>
        <li><a href="#mermaid-套用問題">mermaid 套用問題</a></li>
        <li><a href="#舊文章網頁完整搬移">舊文章網頁完整搬移</a></li>
      </ul>
    </li>
    <li><a href="#檢查網站連結程式">檢查網站連結程式</a>
      <ul>
        <li><a href="#hugo-子目錄-url-調整">hugo 子目錄 URL 調整</a></li>
        <li><a href="#抓取路徑">抓取路徑</a></li>
        <li><a href="#檢查網站路徑程式">檢查網站路徑程式</a></li>
        <li><a href="#更換-github-pages-專案網址">更換 Github Pages 專案網址</a></li>
        <li><a href="#google-adsense-設定">Google Adsense 設定</a></li>
        <li><a href="#部署-github-pages">部署 Github Pages</a></li>
        <li><a href="#google-search-console">Google Search Console</a></li>
        <li><a href="#相關選單設定">相關選單設定</a></li>
        <li><a href="#links-文章搬移">links 文章搬移</a></li>
      </ul>
    </li>
    <li><a href="#結論">結論</a></li>
    <li><a href="#其他文章">其他文章</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>從過去用 Logdown 到現在用 Hexo 做程式筆記，我覺得他們都是很好用工具。再更久以前有用過 Blogspot，不過那時候沒有寫 Blog。最近因為文章大概700多個，Hexo build程式都要3~5分鐘，上個廁所回來還沒跑完，我覺得太久了，有時候我覺得還卡住。以前也有觀察 Hugo 這個東西，但發現沒有像 hexo 自動 deploy 到 Github Page上面，現在 Github Action 也能做到，所以也沒有這個問題。最近想換換 Hugo 看看，build 網頁只要 3~10 秒就完成，讓我很驚訝。</p>
<h2 id="建立-hugo">建立 Hugo</h2>
<p>這邊可以參考官網安裝 hugo，<a href="https://gohugo.io/getting-started/installing/" target="_blank" rel="noopener noreffer ">Install Hugo | Hugo</a>。我是用 <code>choco</code> 來安裝的。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 新增站台</span>
</span></span><span class="line"><span class="cl">hugo new site Blog
</span></span><span class="line"><span class="cl"><span class="c1"># Add a Theme</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> Blog
</span></span><span class="line"><span class="cl">git init
</span></span><span class="line"><span class="cl">git submodule add https://github.com/malagege/LoveIt.git themes/LoveIt
</span></span><span class="line"><span class="cl"><span class="c1"># config.toml 下加入 theme = &#34;LoveIt&#34;</span>
</span></span><span class="line"><span class="cl">vim config.toml
</span></span><span class="line"><span class="cl"><span class="c1"># 從 LoveIt 的 config.toml 內容複製到 hugo 的config.toml 下</span>
</span></span><span class="line"><span class="cl">themes<span class="se">\L</span>oveIt<span class="se">\c</span>onfig.toml <span class="o">=</span>&gt; config.toml
</span></span><span class="line"><span class="cl"><span class="c1"># 新增一筆文章</span>
</span></span><span class="line"><span class="cl">hugo new posts/my-first-post.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="visual-studio-code-設定圖片方法">Visual Studio Code 設定圖片方法</h2>
<p>這邊查看有什麼套件可以用圖片，但沒有完美方法，因為 Hugo 顯示圖片要放在資料夾上面，但你的<code>markdown</code>文件不在裡面，你放圖片只能<code>[](xxxx)</code>，不能加圖片錄徑。這邊就沒法在 vsCode預覽，但可以在 <code>Hugo</code> 預覽。</p>
<h3 id="設定在-blog-裡面">設定在 blog 裡面</h3>
<p>參考:</p>
<ul>
<li><a href="https://blog.happyhacker.fun/post/config-hugo-image-path/" target="_blank" rel="noopener noreffer ">配置Hugo的图片路径 - happyhacker的公开日志</a></li>
<li><a href="https://zahui.fan/posts/2a39e018/#%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98" target="_blank" rel="noopener noreffer ">使用vscode来写hugo博客并处理图片插入问题 - 张理坤的博客 - 运维技术分享</a></li>
</ul>
<p>有兩種方法</p>
<ul>
<li>一種設定 static 資料夾</li>
<li>在文章旁邊設定資料夾(我選擇這種)</li>
</ul>
<p>安裝 <code>Paste Image</code>套件。</p>
<p>Paste Image: Path<br>
<code>${currentFileDir}/${currentFileNameWithoutExt}</code></p>
<p>Paste Image: Insert Pattern<br>
<code>${imageSyntaxPrefix}${imageFileName}${imageSyntaxSuffix}</code></p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/wsKFiIo.png"
        data-srcset="https://i.imgur.com/wsKFiIo.png, https://i.imgur.com/wsKFiIo.png 1.5x, https://i.imgur.com/wsKFiIo.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/wsKFiIo.png"
        title="https://i.imgur.com/wsKFiIo.png" /></p>
<p>接下來你可以在 VSCode 編輯文字上面按下<code>Ctrl + Alt + v</code> 可以貼上圖片。對應路徑會參照上方設定。但相對缺點會如上。</p>
<h3 id="使用圖床空間">使用圖床空間</h3>
<p>可以使用<a href="https://picgo.github.io/PicGo-Doc/" target="_blank" rel="noopener noreffer ">PicGo</a>，但我沒用過。因為我現在很常先在 HakMD 先編寫內容再貼到 Blog 上面，所以圖片貼上都會幫我用 Imgur圖床空間，之前保哥也有建議使用 Github Gist之類東西。</p>
<h2 id="搜尋文章工具選擇">搜尋文章工具選擇</h2>
<p>官方能用搜尋的可參考<a href="https://gohugo.io/tools/search/" target="_blank" rel="noopener noreffer ">Search for your Hugo Website | Hugo</a>文章。</p>
<h3 id="loveit-支援搜尋">LoveIt 支援搜尋</h3>
<ul>
<li>lunr</li>
<li>Algolia</li>
</ul>
<p>這邊我會以 Algolia 為主。</p>
<h3 id="前面準備事情">前面準備事情</h3>
<p>簡單寫個重點。</p>
<ol>
<li>需要注冊 Algolia 帳號。</li>
<li>在 Algolia 新增一個 Index。</li>
<li>需手動或自動產生 Index 上傳到 Algolia。這一部分好像也能用爬蟲?，但我擺在部署到 Github Pages 在研究。</li>
<li>LoveIt 主題有幫我們用好 <code>index.json</code>，但需要設定打開才會產生。</li>
</ol>
<p>參考文章:</p>
<ul>
<li><a href="https://guzhongren.github.io/2022/01/%E6%9E%84%E5%BB%BA%E6%9B%B4%E4%BC%98%E7%9A%84github-action%E5%AE%8C%E6%88%90algolia%E6%95%B0%E6%8D%AE%E4%B8%8A%E4%BC%A0/" target="_blank" rel="noopener noreffer ">构建更优的 GitHub Action 完成 Algolia 数据上传 - 谷中仁的博客</a></li>
<li><a href="https://wlizhi.cc/posts/experience/replace-the-search-with-algolia-at-two-days-later/" target="_blank" rel="noopener noreffer ">两天后 - 还是决定将搜索更换为algolia - 暗夜零星</a></li>
<li><a href="https://ttys3.dev/post/how-to-update-hugo-blog-algolia-index/" target="_blank" rel="noopener noreffer ">Hugo 博客如何更新 Algolia 索引 :: /dev/ttyS3 — 回首向来萧瑟处 也无荒野也无灯</a></li>
<li><a href="https://xuanwo.io/2021/02-docsearch-on-blog/" target="_blank" rel="noopener noreffer ">Hugo 基于 DocSearch 实现全文搜索</a></li>
<li><a href="https://www.gaojila.red/hugo%E4%BD%BF%E7%94%A8algolia%E6%90%9C%E7%B4%A2/" target="_blank" rel="noopener noreffer ">Hugo使用algolia搜索 - 哥斯拉的小站</a></li>
<li><a href="https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/" target="_blank" rel="noopener noreffer ">博客迁移 - Raven</a></li>
<li><a href="https://blog.fakev.cn/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/" target="_blank" rel="noopener noreffer ">Hugo使用添加algolia搜索 - FAKEV</a></li>
<li><a href="https://isouthrain.github.io/2022-05-04-hugo%E6%B7%BB%E5%8A%A0algolia/#%E8%8E%B7%E5%8F%96-searchkey" target="_blank" rel="noopener noreffer ">Hugo添加Algolia搜索 - ISouthRain</a></li>
</ul>
<h3 id="設定-algolia-網站">設定 Algolia 網站</h3>
<p>這邊可能會隨者網站更新有所不同。</p>
<h4 id="註冊登入">註冊/登入</h4>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/ZXJMT7G.png"
        data-srcset="https://i.imgur.com/ZXJMT7G.png, https://i.imgur.com/ZXJMT7G.png 1.5x, https://i.imgur.com/ZXJMT7G.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/ZXJMT7G.png"
        title="https://i.imgur.com/ZXJMT7G.png" /></p>
<p>填寫相關資訊。</p>
<h4 id="新增-index">新增 Index</h4>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/uR1SVvN.png"
        data-srcset="https://i.imgur.com/uR1SVvN.png, https://i.imgur.com/uR1SVvN.png 1.5x, https://i.imgur.com/uR1SVvN.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/uR1SVvN.png"
        title="https://i.imgur.com/uR1SVvN.png" /></p>
<h4 id="上傳-index">上傳 Index</h4>
<p>這邊部分有很種方法，官方用 API 上傳方法可以看<a href="https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/how-to/importing-with-the-api/?utm_medium=page_link&amp;utm_source=dashboard&amp;client=csharp" target="_blank" rel="noopener noreffer ">Importing with the API | Algolia</a>。這邊我們 LoveIt 主題可以產生 Index.json。我們把那個設定打開。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">outputs</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">home</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;HTML&#34;</span><span class="p">,</span> <span class="s2">&#34;RSS&#34;</span><span class="p">,</span> <span class="s2">&#34;JSON&#34;</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>參考: <a href="https://hugoloveit.com/zh-cn/theme-documentation-basics/#51-%E8%BE%93%E5%87%BA%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreffer ">主题文档 - 基本概念 - LoveIt</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hugo
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>public/index.json</code>就會產生 index.json。</p>
<p>這邊上傳限制有 10000。我 Blog 有 700多篇，但是<code>http://localhost:1313/blog/index.json</code>看有 3101，應該還夠用吧??<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/zg7lVGd.png"
        data-srcset="https://i.imgur.com/zg7lVGd.png, https://i.imgur.com/zg7lVGd.png 1.5x, https://i.imgur.com/zg7lVGd.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/zg7lVGd.png"
        title="https://i.imgur.com/zg7lVGd.png" /></p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/6vrthA0.png"
        data-srcset="https://i.imgur.com/6vrthA0.png, https://i.imgur.com/6vrthA0.png 1.5x, https://i.imgur.com/6vrthA0.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/6vrthA0.png"
        title="https://i.imgur.com/6vrthA0.png" /></p>
<p>上傳完成會倒去 Dashbord。<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/belKXCV.png"
        data-srcset="https://i.imgur.com/belKXCV.png, https://i.imgur.com/belKXCV.png 1.5x, https://i.imgur.com/belKXCV.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/belKXCV.png"
        title="https://i.imgur.com/belKXCV.png" /></p>
<h4 id="繼續設定搜尋">繼續設定搜尋</h4>
<p>這些步驟還沒好。請點擊火箭圖案。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/000zlev.png"
        data-srcset="https://i.imgur.com/000zlev.png, https://i.imgur.com/000zlev.png 1.5x, https://i.imgur.com/000zlev.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/000zlev.png"
        title="https://i.imgur.com/000zlev.png" /></p>
<p>這邊我大概設定這樣。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/bbxQTeq.png"
        data-srcset="https://i.imgur.com/bbxQTeq.png, https://i.imgur.com/bbxQTeq.png 1.5x, https://i.imgur.com/bbxQTeq.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/bbxQTeq.png"
        title="https://i.imgur.com/bbxQTeq.png" /></p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/faBZNiw.png"
        data-srcset="https://i.imgur.com/faBZNiw.png, https://i.imgur.com/faBZNiw.png 1.5x, https://i.imgur.com/faBZNiw.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/faBZNiw.png"
        title="https://i.imgur.com/faBZNiw.png" /></p>
<p>排序設定我設定這樣。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/nvNHnEE.png"
        data-srcset="https://i.imgur.com/nvNHnEE.png, https://i.imgur.com/nvNHnEE.png 1.5x, https://i.imgur.com/nvNHnEE.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/nvNHnEE.png"
        title="https://i.imgur.com/nvNHnEE.png" /></p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/bKjuNiw.png"
        data-srcset="https://i.imgur.com/bKjuNiw.png, https://i.imgur.com/bKjuNiw.png 1.5x, https://i.imgur.com/bKjuNiw.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/bKjuNiw.png"
        title="https://i.imgur.com/bKjuNiw.png" /></p>
<h4 id="設定-loveit-主題">設定 LoveIt 主題</h4>
<p>注意，這顛要看你的主題有支援那些搜尋，依照設定做調整。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[params.search.algolia]
</span></span><span class="line"><span class="cl">index
</span></span><span class="line"><span class="cl">appID
</span></span><span class="line"><span class="cl">searchKey
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>
<p>index<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/AdfBX0f.png"
        data-srcset="https://i.imgur.com/AdfBX0f.png, https://i.imgur.com/AdfBX0f.png 1.5x, https://i.imgur.com/AdfBX0f.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/AdfBX0f.png"
        title="https://i.imgur.com/AdfBX0f.png" /></p>
</li>
<li>
<p>appId<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/ED24QYN.png"
        data-srcset="https://i.imgur.com/ED24QYN.png, https://i.imgur.com/ED24QYN.png 1.5x, https://i.imgur.com/ED24QYN.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/ED24QYN.png"
        title="https://i.imgur.com/ED24QYN.png" /></p>
</li>
<li>
<p>searchKey<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/p2PYGeF.png"
        data-srcset="https://i.imgur.com/p2PYGeF.png, https://i.imgur.com/p2PYGeF.png 1.5x, https://i.imgur.com/p2PYGeF.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/p2PYGeF.png"
        title="https://i.imgur.com/p2PYGeF.png" /></p>
</li>
</ol>
<p>自動更新就放在<code>部署 Github Pages</code>。</p>
<h2 id="主題選擇">主題選擇</h2>
<p>試用主題</p>
<ul>
<li>ananke</li>
<li>eureka</li>
<li>maupassant</li>
<li>PaperMode   普通還可以看</li>
<li>next   我的文章會bluid 失敗，所以就放棄使用</li>
<li>loveit  讚讚讚!!</li>
<li>even 精簡，但對我覺得太少功能了</li>
</ul>
<p>所以我最後選擇 <code>LoveIt</code>。</p>
<p><a href="https://lewky.cn/posts/hugo-3.html/" target="_blank" rel="noopener noreffer ">Hugo系列(3.0) - LoveIt主题美化与博客功能增强 · 第一章 - Yulin Lewis&rsquo; Blog</a></p>
<h2 id="hexo-調整-hugo-內容">Hexo 調整 Hugo 內容</h2>
<p>我這邊盡量讓我的舊網頁還能繼續用，雖然網站有放廣告，一個月下來大概最多才1美元，剛開始的時候每個月 <code>0.01</code> 美元，不太想回到過去那時候，想說讓舊網頁不引響情況下使用。最近看 LoveIt 主題有做很多優化搜尋東西，這邊也順便設定，看以後新網址搜尋分數也很高的話，再把舊網址移除也不遲。</p>
<p>這邊後來有看到<a href="https://sunqi.site/posts/%E5%B0%86%E5%8D%9A%E5%AE%A2%E4%BB%8Ehexo%E8%BF%81%E7%A7%BB%E8%87%B3hugo/#%E4%BB%8Ehexo%E8%BF%81%E7%A7%BB%E8%87%B3hugo" target="_blank" rel="noopener noreffer ">将博客从Hexo迁移至Hugo - 老孙正经胡说</a>，裡面有 python 程式做文章轉換，假如想用程式處理的話，可以試試看，我這邊是用 VSCode 做正規化取代掉。</p>
<h3 id="解決文章沒換行問題">解決文章沒換行問題</h3>
<p>早期文章我沒很寫文章句子，近期有改正，但是面對以前那些文章不太想去調整，hugo預設不是 <code>Hard Break Line</code>，好在我找到修改方式。</p>
<p>config.toml</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">markup</span><span class="p">.</span><span class="nx">goldmark</span><span class="p">.</span><span class="nx">renderer</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">hardWraps</span> <span class="p">=</span> <span class="kc">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>可參考:</p>
<ul>
<li><a href="https://omeletwithoutegg.github.io/2020/11/25/hugo-framework/" target="_blank" rel="noopener noreffer ">Hugo Framework | 蛋餅的競程隨筆</a></li>
<li><a href="https://discourse.gohugo.io/t/markdown-not-adding-a-br-when-adding-a-line-break/28263/12" target="_blank" rel="noopener noreffer ">Markdown not adding a <!-- raw HTML omitted --> when adding a line break - support - HUGO</a></li>
</ul>
<h3 id="文章錯誤排除">文章錯誤排除</h3>
<p>Hexo 文章有寫 bug 不會嚴格檢查格式。但換成 hugo 可能會有些編譯錯誤狀況，可能以前相關標籤寫錯之類，調整掉就能解決。這邊放上我一些錯誤調整搜尋，可以用 vsCode 或 Sublime 取代。Hugo 的 <code>tags</code> 和 <code>categories</code> 是要放陣列。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># regex</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="l">([^\[ ].+)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">$1]</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># regex</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">categories:\s+(.+)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">$1]</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># regex </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">```(.+)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">```$1</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>早期 logdown 日期時間格式調整</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># regex</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l">(\d{4}-\d+-\d+ \d+:\d+)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="l">$1:00</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>hexo 特製mermaid tag 手動更換。還好不多&hellip;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">\{% ?asset_img (.+) \[?(.+?)\]? *%\}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>!<span class="p">[</span><span class="l">$2]($1)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">\{% ?asset_link &#34;?([^&#34;]+)&#34;? \[?&#34;?(.+?)\]?&#34;? *%\}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="l">$2]($1)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="mermaid-套用問題">mermaid 套用問題</h3>
<p>官方有使用 MermaidJS教學，這邊官網友教學<a href="https://gohugo.io/content-management/diagrams/#graphics" target="_blank" rel="noopener noreffer ">Diagrams | Hugo</a>。但我後來用 LoveIt 主題，裡面有內建</p>
<p><a href="http://localhost:1313/posts/test/hexo-next-theme-%E5%8A%A0%E5%85%A5-mermaid-%E5%9C%96%E7%A4%BA-diagrams/" target="_blank" rel="noopener noreffer ">Hexo Next theme 加入 mermaid 圖示(Diagrams) | 中文測試222</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nested-copy-line-height lh-copy {{ $.Param &#34;</span><span class="na">post_content_classes</span><span class="err">&#34;</span>  <span class="err">|</span> <span class="na">default</span> <span class="err">&#34;</span><span class="na">serif</span><span class="err">&#34;}}</span> <span class="na">f4</span> <span class="na">nested-links</span> <span class="err">{{</span> <span class="err">$.</span><span class="na">Param</span> <span class="err">&#34;</span><span class="na">text_color</span><span class="err">&#34;</span> <span class="err">|</span> <span class="na">default</span> <span class="err">&#34;</span><span class="na">mid-gray</span><span class="err">&#34;</span> <span class="err">}}</span> <span class="err">{{</span> <span class="na">cond</span> <span class="err">(</span><span class="na">eq</span> <span class="err">$.</span><span class="na">Site</span><span class="err">.</span><span class="na">Language</span><span class="err">.</span><span class="na">LanguageDirection</span> <span class="err">&#34;</span><span class="na">rtl</span><span class="err">&#34;)</span> <span class="err">&#34;</span><span class="na">pl4-l</span><span class="err">&#34;</span> <span class="err">&#34;</span><span class="na">pr4-l</span><span class="err">&#34;</span> <span class="err">}}</span> <span class="na">w-two-thirds-l</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      {{- .Content -}}
</span></span><span class="line"><span class="cl">      {{ if .Page.Store.Get &#34;hasMermaid&#34; }}
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">mermaid</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span> <span class="nx">startOnLoad</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      {{ end }}
</span></span></code></pre></td></tr></table>
</div>
</div><p>不過可以直接用我的 Fork 修改主題就能用了。<a href="https://github.com/malagege/LoveIt" target="_blank" rel="noopener noreffer ">malagege/LoveIt: ❤️A clean, elegant but advanced blog theme for Hugo 一个简洁、优雅且高效的 Hugo 主题</a></p>
<p>官方有說後續會調可以用，但我先用萬用方法去調整。可前後相容。</p>
<h3 id="舊文章網頁完整搬移">舊文章網頁完整搬移</h3>
<p>有看到網址改成 Next 文章渲染網址，但是我發現我部分網站連結會跟之前不一樣，試了很多種方式，</p>
<p>因為 hexo 產生 url 規則完全不相容，嘗試很多設定。和無法解決問題，不如就直接靜態網頁搬過來繼續使用，測試上是可以的，所以考慮就聞張先這樣用。以後SEO比較好說不定可以把就網站刪掉。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/m67UXs6.png"
        data-srcset="https://i.imgur.com/m67UXs6.png, https://i.imgur.com/m67UXs6.png 1.5x, https://i.imgur.com/m67UXs6.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/m67UXs6.png"
        title="https://i.imgur.com/m67UXs6.png" /></p>
<p>此方法非完美解決方法，最後殺手鐧可以試試。</p>
<h2 id="檢查網站連結程式">檢查網站連結程式</h2>
<p>簡單就是用來檢查之前文章 url，是不是轉移網址還能正常瀏覽。如果不在意這點可以不用做。</p>
<h3 id="hugo-子目錄-url-調整">hugo 子目錄 URL 調整</h3>
<p>要順利開啟 <code>http://localhost:1313/blog/</code>要下面這樣設定。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="nx">baseURL</span> <span class="p">=</span> <span class="s1">&#39;http://example.org/blog&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="抓取路徑">抓取路徑</h3>
<p>參考: <a href="https://igouist.github.io/post/2022/06/angle-sharp/" target="_blank" rel="noopener noreffer ">C#: 使用 AngleSharp 爬蟲工具來抓取網頁內容吧 | 伊果的沒人看筆記本</a></p>
<p><del>不要說我程式怎麼寫得不好，可以跑就 100分。</del></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">url</span> <span class="p">=</span> <span class="s">$&#34;https://malagege.github.io/blog/&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">config</span> <span class="p">=</span> <span class="n">AngleSharp</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">WithDefaultLoader</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"><span class="k">new</span> <span class="n">LoaderOptions</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">IsResourceLoadingEnabled</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">browser</span> <span class="p">=</span> <span class="n">BrowsingContext</span><span class="p">.</span><span class="n">New</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">document</span> <span class="p">=</span> <span class="k">await</span> <span class="n">browser</span><span class="p">.</span><span class="n">OpenAsync</span><span class="p">(</span><span class="n">url</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">data</span> <span class="p">=</span> <span class="n">document</span><span class="p">?.</span><span class="n">QuerySelectorAll</span><span class="p">(</span><span class="s">&#34;.post-title-link&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">document</span><span class="p">.</span><span class="n">Close</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">matchString</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">GetAttribute</span><span class="p">(</span><span class="s">&#34;Href&#34;</span><span class="p">)).</span><span class="n">ToList</span><span class="p">();</span><span class="c1">//(s =&gt; s.BaseUrl.Origin + s.GetAttribute(&#34;Href&#34;)).ToList();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">result</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">matchString</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="m">75</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">3000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">document</span> <span class="p">=</span> <span class="k">await</span> <span class="n">browser</span><span class="p">.</span><span class="n">OpenAsync</span><span class="p">(</span><span class="n">url</span> <span class="p">+</span> <span class="s">&#34;page/&#34;</span> <span class="p">+</span> <span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">data</span> <span class="p">=</span> <span class="n">document</span><span class="p">?.</span><span class="n">QuerySelectorAll</span><span class="p">(</span><span class="s">&#34;.post-title-link&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">document</span><span class="p">.</span><span class="n">Close</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">matchString</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">GetAttribute</span><span class="p">(</span><span class="s">&#34;Href&#34;</span><span class="p">)).</span><span class="n">ToList</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">result</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">matchString</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;i:{i}, cnt: {matchString.Count}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">result</span><span class="p">.</span><span class="n">Dump</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>結果還發現我有些頁面會有問題。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/oSJBfth.png"
        data-srcset="https://i.imgur.com/oSJBfth.png, https://i.imgur.com/oSJBfth.png 1.5x, https://i.imgur.com/oSJBfth.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/oSJBfth.png"
        title="https://i.imgur.com/oSJBfth.png" /></p>
<h3 id="檢查網站路徑程式">檢查網站路徑程式</h3>
<p>參考:</p>
<ul>
<li><a href="https://stackoverflow.com/questions/61621375/bash-script-using-curl-to-hit-urls-provided-by-txt-file" target="_blank" rel="noopener noreffer ">Bash script using curl to hit urls provided by txt file - Stack Overflow</a></li>
<li><a href="https://alexwlchan.net/2022/04/checking-with-curl/" target="_blank" rel="noopener noreffer ">Checking lots of URLs with curl – alexwlchan</a></li>
</ul>
<p>準備路徑 <code>urls.txt</code> 就可以執行。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="nv">BASE_URL</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">BASE_URL</span><span class="k">:-</span><span class="nv">http</span><span class="p">://localhost:</span><span class="nv">8080</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">ERRORS</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> path in <span class="k">$(</span>grep ^/ urls.txt<span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="k">do</span>
</span></span><span class="line"><span class="cl">  <span class="nv">url</span><span class="o">=</span><span class="s2">&#34;</span><span class="nv">$BASE_URL$path</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> -n <span class="s2">&#34;Checking </span><span class="nv">$url</span><span class="s2">... &#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nv">STATUS_CODE</span><span class="o">=</span><span class="k">$(</span>curl <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --output /dev/null <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --silent <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --write-out <span class="s2">&#34;%{http_code}&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      <span class="s2">&#34;</span><span class="nv">$url</span><span class="s2">&#34;</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="o">((</span> <span class="nv">STATUS_CODE</span> <span class="o">==</span> <span class="m">200</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl">  <span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$STATUS_CODE</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;\033[0;31m</span><span class="nv">$STATUS_CODE</span><span class="s2"> !!!\033[m&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">ERRORS</span><span class="o">=</span><span class="k">$((</span> ERRORS <span class="o">+</span> <span class="m">1</span> <span class="k">))</span>
</span></span><span class="line"><span class="cl">  <span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="o">((</span> ERRORS !<span class="o">=</span> <span class="m">0</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> -e <span class="s2">&#34;\033[0;31m!!! Errors checking URLs!\033[m&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nb">exit</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="更換-github-pages-專案網址">更換 Github Pages 專案網址</h3>
<p>更改專案就能改網址，可先設定別的名子把 blog 上傳上去，當設定錯誤還能救回來。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/Z1eIQh4.png"
        data-srcset="https://i.imgur.com/Z1eIQh4.png, https://i.imgur.com/Z1eIQh4.png 1.5x, https://i.imgur.com/Z1eIQh4.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/Z1eIQh4.png"
        title="https://i.imgur.com/Z1eIQh4.png" /></p>
<h3 id="google-adsense-設定">Google Adsense 設定</h3>
<p>網路上看到很多都是在 <code>theme</code> 設定的，但我認為不應該在上面設定。之前這篇<a href="https://malagege.github.io/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%EF%BC%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/" target="_blank" rel="noopener noreffer ">Hexo NexT 主題遇到連結 %20 空白問題，新版設定 Google Adsense 方法 | 程式狂想筆記</a>有紀錄在主blog 裡面設定。我找了很久看到某日本大大文章這樣做，大部分文章都是在 theme 修改，但在未來更新上會比較麻煩，我用 Google 翻譯免強看得懂。</p>
<p>參考文章</p>
<ul>
<li><a href="https://www.inomaso.com/post/2020/08/hugo-google-adsense/" target="_blank" rel="noopener noreffer ">[Hugo][Zzo]Google AdSenseの広告設定に苦戦したお話 – Inomaso Blog</a></li>
<li><a href="https://achang.tw/google-auto-ad-setting/" target="_blank" rel="noopener noreffer ">如何開啟或關閉Google AdSense自動廣告？ - 阿腸網頁設計</a></li>
</ul>
<h4 id="設定">設定</h4>
<p>我把以前設定拿來用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">align</span><span class="o">=</span><span class="s">&#34;center&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span>
</span></span><span class="line"><span class="cl">    <span class="na">async</span>
</span></span><span class="line"><span class="cl">    <span class="na">src</span><span class="o">=</span><span class="s">&#34;//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">ins</span>
</span></span><span class="line"><span class="cl">    <span class="na">class</span><span class="o">=</span><span class="s">&#34;adsbygoogle&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">style</span><span class="o">=</span><span class="s">&#34;display:block; text-align:center;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">data-ad-layout</span><span class="o">=</span><span class="s">&#34;in-article&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">data-ad-format</span><span class="o">=</span><span class="s">&#34;fluid&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">data-ad-client</span><span class="o">=</span><span class="s">&#34;ca-pub-xxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">data-ad-slot</span><span class="o">=</span><span class="s">&#34;xxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&gt;&lt;/</span><span class="nt">ins</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nx">adsbygoogle</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">adsbygoogle</span> <span class="o">||</span> <span class="p">[]).</span><span class="nx">push</span><span class="p">({});</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>我看日本那篇對應檔案跟我主題不一樣，所以我這邊自己看<code>LoveIt</code>主題，發現<code>themes\LoveIt\i18n\zh-TW.toml</code>這個檔案有大概寫那些檔案是什麼。這邊挑個幾個去 Include。</p>
<ul>
<li>partials/header.html</li>
<li>posts/single.html (建議)</li>
<li>partials/footer.html</li>
<li>partials/comment.html</li>
<li>layouts_default\summary.html</li>
</ul>
<p>在你想加的地方加上</p>
<ul>
<li>layouts\posts\single.html</li>
<li>layouts_default\summary.html</li>
</ul>
<h4 id="adstxt">ads.txt</h4>
<p><code>ads.txt</code> 設定。因為我日誌設定 <code>/blog</code>，所以不用設定這個。</p>
<h4 id="廣告類型番外">廣告類型(番外)</h4>
<p>一直都不知道廣告類型要怎麼調整，結果查資料有找到廣告類型名稱。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/3IYSnrw.png"
        data-srcset="https://i.imgur.com/3IYSnrw.png, https://i.imgur.com/3IYSnrw.png 1.5x, https://i.imgur.com/3IYSnrw.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/3IYSnrw.png"
        title="https://i.imgur.com/3IYSnrw.png" /></p>
<p>但我花很多時間，可能之後做廣告優化可以再回來看這篇，再額外寫一篇筆記筆記。尤其<code>錨定廣告</code>看很多網站都有用，還有用手機點連結會看到的廣告，這邊都可以做很多優化。</p>
<p>參考:</p>
<ul>
<li><a href="https://achang.tw/google-auto-ad-setting/" target="_blank" rel="noopener noreffer ">如何開啟或關閉Google AdSense自動廣告？ - 阿腸網頁設計</a></li>
</ul>
<h3 id="部署-github-pages">部署 Github Pages</h3>
<h4 id="參考文章">參考文章</h4>
<p>搜尋一些網路解決方法，最終實作出來。</p>
<p><a href="https://houugen.fun/posts/blog%E8%BF%81%E7%A7%BB.html" target="_blank" rel="noopener noreffer ">Blog From Hexo To Hugo -</a></p>
<p><a href="https://sujingjhong.com/posts/how-to-deploy-hugo-automatically-with-github-actions/#%e6%9b%b4%e6%96%b0%e6%96%87%e7%ab%a0%e6%b5%81%e7%a8%8b%e8%87%aa%e5%8b%95%e5%8c%96" target="_blank" rel="noopener noreffer ">Hugo / 如何使用 Github Actions 自動部署 Hugo | sujingjhong.com</a></p>
<blockquote>
<p>For newbies of GitHub Actions: Note that the GITHUB_TOKEN is NOT a personal access token. A GitHub Actions runner automatically creates a GITHUB_TOKEN secret to authenticate in your workflow. So, you can start to deploy immediately without any configuration.</p>
</blockquote>
<p>相關文章:</p>
<ul>
<li><a href="https://tomial.github.io/posts/hugo%E4%BD%BF%E7%94%A8github-action%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2%E5%88%B0github-pages/" target="_blank" rel="noopener noreffer ">Hugo使用Github Action自动部署博客到Github Pages - Tomial&rsquo;s Blog</a></li>
<li><a href="https://www.pseudoyu.com/en/2022/05/29/deploy_your_blog_using_hugo_and_github_action/" target="_blank" rel="noopener noreffer ">Hugo + GitHub Action，搭建你的博客自动发布系统 · Pseudoyu</a></li>
<li><a href="https://houugen.fun/posts/blog%E8%BF%81%E7%A7%BB.html" target="_blank" rel="noopener noreffer ">Blog From Hexo To Hugo -</a></li>
</ul>
<h4 id="實作">實作</h4>
<p>網路上主要很多種做法，這邊主要參考這篇<a href="https://www.pseudoyu.com/en/2022/05/29/deploy_your_blog_using_hugo_and_github_action/" target="_blank" rel="noopener noreffer ">Hugo + GitHub Action，搭建你的博客自动发布系统 · Pseudoyu</a>修改。</p>
<p>準備:</p>
<ul>
<li>一個 hugo-blog Github Repo(private)</li>
<li>一個 blog Github Repo(public)</li>
<li>設定 ACTION_ACCESS_TOKEN</li>
<li>在 secrets 設定 ACTION_ACCESS_TOKEN</li>
<li>設定 <code>.github\workflows\deploy.yml</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">deploy</span><span class="w"> </span><span class="c"># 名字自取</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">master </span><span class="w"> </span><span class="c"># 这里的意思是当 main分支发生push的时候，运行下面的jobs，这里先改为github-actions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">deploy</span><span class="p">:</span><span class="w"> </span><span class="c"># 任务名自取</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-18.04	# 在什么环境运行任务</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2	# 引用actions/checkout这个action，与所在的github仓库同名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># Fetch Hugo themes (true OR recursive) 获取submodule主题</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">    </span><span class="c"># Fetch all history for .GitInfo and .Lastmod</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Hugo	# 步骤名自取</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v2	# hugo官方提供的action，用于在任务环境中获取hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;latest&#39;</span><span class="w">	</span><span class="c"># 获取最新版本的hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">extended</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">          </span><span class="c"># 最新版沒有extended，因為 LoveIt 有用到 SCSS，新版要加上去</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo --minify	# 使用hugo构建静态网页</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v3	# 一个自动发布github pages的action</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># github_token: ${{ secrets.GITHUB_TOKEN }} 该项适用于发布到源码相同repo的情况，不能用于发布到其他repo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">external_repository</span><span class="p">:</span><span class="w"> </span><span class="l">malagege/blog	# 发布到哪个repo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">personal_token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.ACTION_ACCESS_TOKEN }}	# 发布到其他repo需要提供上面生成的personal access token</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./public	# 注意这里指的是要发布哪个文件夹的内容，而不是指发布到目的仓库的什么位置，因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_branch</span><span class="p">:</span><span class="w"> </span><span class="l">master	# 发布到哪个branch</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Personal Access Token 要怎麼取得，可以看這篇<a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" target="_blank" rel="noopener noreffer ">Creating a personal access token - GitHub Docs</a>。</p>
<h3 id="google-search-console">Google Search Console</h3>
<p><a href="https://annkuoq.github.io/blog/2020-03-15-how-to-find-my-blog-on-google-search/" target="_blank" rel="noopener noreffer ">如何讓 Google 搜尋到自己的部落格 | AnnKuoQ Blog</a>， <a href="https://i.imgur.com/DWTbOwZ.jpg" target="_blank" rel="noopener noreffer ">備份圖</a>，我參照這個教學做的，老實多寫這篇有點累了，一樣東西就不繼續用。orz</p>
<p><del>我看到有 <code>Google Analytics</code> 驗證，因為我 Blog 之前就有用，所以我使用這個方法。</del> LoveIt設定在 Body下面，所以我就不用這個方式，我用檔案方式驗證，這邊只要放在<code>static</code>裡面就可以，驗證檔案也不能刪掉。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/QvU166n.png"
        data-srcset="https://i.imgur.com/QvU166n.png, https://i.imgur.com/QvU166n.png 1.5x, https://i.imgur.com/QvU166n.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/QvU166n.png"
        title="https://i.imgur.com/QvU166n.png" /></p>
<blockquote>
<p>提交 Sitemap</p>
<p>前往 Search Console 主控台<br>
點擊左側欄位中的 Sitemap<br>
輸入 sitemap.xml<br>
點擊 提交</p>
</blockquote>
<p>LoveIt 主題也幫你搞定 <code>sitemap.xml</code> 這個東西，你直接設定就可以了。</p>
<h4 id="更新自動-ping-google-search">更新自動 ping google Search</h4>
<p><a href="https://github.com/lisez/sujingjhong.com/blob/master/.github/workflows/dispatch-sitemap.yml" target="_blank" rel="noopener noreffer ">sujingjhong.com/dispatch-sitemap.yml at master · lisez/sujingjhong.com</a>，看到這個還滿有趣的，有空再看看要不要試試。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Dispatch sitemap to google</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">master</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">upload_sitemap</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Wait / Sleep</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">jakejarvis/wait-action@v0.1.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">time</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;30s&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">curl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">wei/curl@v1.1.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="l">http://www.google.com/ping?sitemap=https://sujingjhong.com/sitemap.xml</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="相關選單設定">相關選單設定</h3>
<p>參考:<a href="https://hugoloveit.com/zh-cn/theme-documentation-basics/" target="_blank" rel="noopener noreffer ">主题文档 - 基本概念 - LoveIt</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># 是否使用 robots.txt</span>
</span></span><span class="line"><span class="cl"><span class="nx">enableRobotsTXT</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="c"># 是否使用 git 信息</span>
</span></span><span class="line"><span class="cl"><span class="nx">enableGitInfo</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="c"># 是否使用 emoji 代碼</span>
</span></span><span class="line"><span class="cl"><span class="nx">enableEmoji</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># 忽略一些構建錯誤</span>
</span></span><span class="line"><span class="cl"><span class="c"># ignoreErrors = [&#34;error-remote-getjson&#34;, &#34;error-missing-instagram-accesstoken&#34;]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># 作者配置</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">author</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;malagege&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">email</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">link</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># 菜單配置</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">menu</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;posts&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 你可以在名稱 (允許 HTML 格式) 之前添加其他信息, 例如圖標</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 你可以在名稱 (允許 HTML 格式) 之後添加其他信息, 例如圖標</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;文章&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/posts/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 當你將鼠標懸停在此菜單鏈接上時, 將顯示的標題</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;tags&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;標籤&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/tags/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;categories&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;分類&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/categories/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="algolia-自動更新-index">Algolia 自動更新 Index</h4>
<p>前面有手動上傳 index，但這邊我看網路上很多種方法都不太一樣，這邊要注意的事我們已經有<code>index.json</code>，所以怎麼讓 <code>index.json</code> 上傳到 Algolia 是一個重要課題。</p>
<p>嘗試</p>
<ul>
<li>Algolia Docsearch Uploader</li>
<li><a href="https://github.com/guzhongren/algolia-docsearch-upload-action" target="_blank" rel="noopener noreffer ">guzhongren/algolia-docsearch-upload-action: An especially small &amp; quick &amp; simple Algolia docsearch Indices upload action</a></li>
</ul>
<p>星星數最高都不能用，後來有看到官網出<code>algolia/setup-algolia-cli@v1.0.0</code>就嘗試看看，用官網方式也比較讓人安心。卡個好幾個問題最後解決了。官網上傳不能用 json格式。這邊要用 <code>jsonl</code>或 <code>ndjson</code> 才能上傳，好險有找到轉 <code>ndjson</code>方法，不然我也無法度。</p>
<p>最後測試一個文章上去有順利解決問題。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">deploy</span><span class="w"> </span><span class="c"># 名字自取</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">master </span><span class="w"> </span><span class="c"># 这里的意思是当 main分支发生push的时候，运行下面的jobs，这里先改为github-actions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">deploy</span><span class="p">:</span><span class="w"> </span><span class="c"># 任务名自取</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-18.04	# 在什么环境运行任务</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2	# 引用actions/checkout这个action，与所在的github仓库同名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># Fetch Hugo themes (true OR recursive) 获取submodule主题</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">    </span><span class="c"># Fetch all history for .GitInfo and .Lastmod</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Hugo	# 步骤名自取</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v2	# hugo官方提供的action，用于在任务环境中获取hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;latest&#39;</span><span class="w">	</span><span class="c"># 获取最新版本的hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># extended: true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo --minify	# 使用hugo构建静态网页</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v3	# 一个自动发布github pages的action</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># github_token: ${{ secrets.GITHUB_TOKEN }} 该项适用于发布到源码相同repo的情况，不能用于发布到其他repo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">external_repository</span><span class="p">:</span><span class="w"> </span><span class="l">malagege/blog	# 发布到哪个repo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">personal_token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.ACTION_ACCESS_TOKEN }}	# 发布到其他repo需要提供上面生成的personal access token</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./public	# 注意这里指的是要发布哪个文件夹的内容，而不是指发布到目的仓库的什么位置，因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_branch</span><span class="p">:</span><span class="w"> </span><span class="l">master	# 发布到哪个branch</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">algolia/setup-algolia-cli@v1.0.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Algolia Set Profile</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">ALGOLIA_APPLICATION_ID</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.ALGOLIA_APPLICATION_ID }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">ALGOLIA_ADMIN_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.ALGOLIA_ADMIN_API_KEY }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">algolia profile add --name &#34;my-profile&#34; --app-id $ALGOLIA_APPLICATION_ID --admin-api-key $ALGOLIA_ADMIN_API_KEY --default</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">json2nd</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">go install github.com/draxil/json2nd@latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">json to ndjson(jsonl)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          ~/go/bin/json2nd ./public/index.json &gt; ./public/index.ndjson</span><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Algolia Upload Index</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">FILE_PATH</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;./public/index.ndjson&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">INDEX_NAME</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;malagege_blog&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="l">algolia objects import $INDEX_NAME -F $FILE_PATH</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">sarisia/actions-status-discord@v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l">always()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">webhook</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.DISCORD_WEBHOOK }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;deploy&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Blog Build and deploy to GitHub Pages!&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l">GitHub Actions</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>去 Github Actions 等待奇蹟。<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/twM6kjd.png"
        data-srcset="https://i.imgur.com/twM6kjd.png, https://i.imgur.com/twM6kjd.png 1.5x, https://i.imgur.com/twM6kjd.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/twM6kjd.png"
        title="https://i.imgur.com/twM6kjd.png" /></p>
<p>這邊特別說明一下，我前面失敗是主題忘記做 commit。git submodule還是需要把 module 再 commit一次才抓地到，修改完就成功了。</p>
<p>我看到官方 cli 工具要用 ndjson 或 jsonl 來上傳，json 不能用，不知道這個<a href="https://houugen.fun/posts/blog%E8%BF%81%E7%A7%BB.html" target="_blank" rel="noopener noreffer ">文章</a>能不能跑?<br>
最後我看到這篇， <a href="https://issuecloser.com/blog/how-to-convert-json-to-ndjson" target="_blank" rel="noopener noreffer ">ndjson - How to Convert JSON to NDJSON?</a>這幾個方法也能轉，這邊就不嘗試了。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/j8mTl5Z.png"
        data-srcset="https://i.imgur.com/j8mTl5Z.png, https://i.imgur.com/j8mTl5Z.png 1.5x, https://i.imgur.com/j8mTl5Z.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/j8mTl5Z.png"
        title="https://i.imgur.com/j8mTl5Z.png" /></p>
<h3 id="links-文章搬移">links 文章搬移</h3>
<p>跟 Hexo 一樣，直接搬移就可以。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/iY5ygNe.png"
        data-srcset="https://i.imgur.com/iY5ygNe.png, https://i.imgur.com/iY5ygNe.png 1.5x, https://i.imgur.com/iY5ygNe.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/iY5ygNe.png"
        title="https://i.imgur.com/iY5ygNe.png" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 你可以在名稱 (允許 HTML 格式) 之前添加其他信息, 例如圖標</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 你可以在名稱 (允許 HTML 格式) 之後添加其他信息, 例如圖標</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;首頁&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 當你將鼠標懸停在此菜單鏈接上時, 將顯示的標題</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;links&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;好站連結&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/links/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;覺得不錯好站都會放在這邊&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>整個選單設定</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">menu</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 你可以在名稱 (允許 HTML 格式) 之前添加其他信息, 例如圖標</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 你可以在名稱 (允許 HTML 格式) 之後添加其他信息, 例如圖標</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;首頁&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 當你將鼠標懸停在此菜單鏈接上時, 將顯示的標題</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;posts&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 你可以在名稱 (允許 HTML 格式) 之前添加其他信息, 例如圖標</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 你可以在名稱 (允許 HTML 格式) 之後添加其他信息, 例如圖標</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;文章&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/posts/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c"># 當你將鼠標懸停在此菜單鏈接上時, 將顯示的標題</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;tags&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;標籤&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/tags/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;categories&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;分類&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/categories/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;links&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pre</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;好站連結&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/links/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;覺得不錯好站都會放在這邊&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="結論">結論</h2>
<p>雖然花了很多時間寫這篇，最近雖然沒以往更新 Blog 頻率沒這麼高，一部分最近都在 HackMD 寫筆記，一部分最近也在囤文章，由於最近換工作，工作都是接觸 ASP.NET Core，所以把之前 Java 筆記區沒寫完的文章丟出來，因為工作上不會用到，所以應該不會在更新。在把 ASP.NET Core 文章 PO 出來前，我打算把 Hexo 換到 Hugo，但一直沒時間處理，用假日時間搞了2~3個禮拜，今天終於用好了。</p>
<p>Hexo 我覺得還是很好的工具，用他在 Next 我很少花時間在調整 Blog 設定，但 Hugo 真的花很多，Hexo 部署到 Github Pages 一行程式可以搞定，就算少許時間我都能接受。但文章到700多篇就真的開始會卡，然後我看到有些 Blog 也開始用 Hugo，所以才決定轉向 Hugo。</p>
<p>Hugo 也沒想像中難，但花的時間真的還滿多，尤其部署 Github Pages 每一篇寫的都不太一樣，搜尋功能也花滿多時間參考大大寫的文章，加以調整內容執行。原本想找 Next 主題用，但我使用執行文章會有問題，到處找找推薦的主題文章，最後找到 LoveIt主題，我的文章 Mermaid 流程圖也支援，程式碼也有快速複製快捷鍵，但竟然不支援 markdown 顯示，所以我 Fork 出來使用，最後調整成功。開始執行我要轉換 Blog 計畫。</p>
<p>希望看的這篇的你也能順利轉換:D</p>
<h2 id="其他文章">其他文章</h2>
<p><a href="https://ithelp.ithome.com.tw/users/20106430/ironman/3613" target="_blank" rel="noopener noreffer ">Hugo 貼身打造個人部落格 :: 第 12 屆 iThome 鐵人賽</a></p>
<p><a href="https://kiosk007.top/post/%E5%86%8D%E8%A7%81hexo%E4%BD%A0%E5%A5%BDhugo/" target="_blank" rel="noopener noreffer ">再见Hexo，你好Hugo - Kiosk&rsquo;s 个人编程技术分享</a></p>
<p><a href="https://cloud.tencent.com/developer/article/1561288" target="_blank" rel="noopener noreffer ">Hexo 迁移至 Hugo - 腾讯云开发者社区-腾讯云</a></p><div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="2236653478"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
        </div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2022-10-18</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://malagege.github.io/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/" data-title="Blog 從 Hexo 移轉 Hugo 主題 LoveIt" data-hashtags="blog,hexo,hugo,loveit"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://malagege.github.io/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/" data-hashtag="blog"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://malagege.github.io/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/" data-title="Blog 從 Hexo 移轉 Hugo 主題 LoveIt"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://malagege.github.io/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/" data-title="Blog 從 Hexo 移轉 Hugo 主題 LoveIt"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://malagege.github.io/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/" data-title="Blog 從 Hexo 移轉 Hugo 主題 LoveIt" data-image="https://user-images.githubusercontent.com/6058558/196389102-106394c8-387e-4dcf-974d-6d0f00e9e1e4.png"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/blog/tags/blog/">blog</a>,&nbsp;<a href="/blog/tags/hexo/">hexo</a>,&nbsp;<a href="/blog/tags/hugo/">hugo</a>,&nbsp;<a href="/blog/tags/loveit/">loveit</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/blog/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/posts/Java-HashMap-foreach-loop/" class="prev" rel="prev" title="Java HashMap 使用 Foreach 迴圈"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Java HashMap 使用 Foreach 迴圈</a>
            <a href="/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/" class="next" rel="next" title="Blog 文章封面產生器">Blog 文章封面產生器<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.121.1">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/blog/" target="_blank">malagege</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://malagege-blog.disqus.com/embed.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"search":{"algoliaAppID":"4LYONZIY18","algoliaIndex":"malagege_blog","algoliaSearchKey":"30dc05f673e702e0701b9b40cfa44eac","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/blog/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-105195903-2', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-105195903-2" async></script></body>
</html>
