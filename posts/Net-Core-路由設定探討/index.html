<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Net Core 路由設定探討 - 程式狂想筆記</title><meta name="Description" content="記錄著我接觸程式藝文"><meta property="og:title" content="Net Core 路由設定探討" />
<meta property="og:description" content="之前寫.NET Core MVC裡面探討Services.AddMvc 和Services.AddMvcCore方法差異。
這邊只有簡單紀錄重點。

addMvcCore: 只包含MVC功能。所以Controller 用到JSON 回傳會錯誤。
addMvc: 包含MVC Core和相關第三方常用服務方法。

最近建立空白專案，發現所有 Startup.cs 都是空的。瞬間不知道要放什麼&hellip;
還是了解一下這些事做什麼，主要記錄這篇以後使用知道自己在幹嘛" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://malagege.github.io/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-21T23:28:53+08:00" />
<meta property="article:modified_time" content="2022-12-21T23:28:53+08:00" /><meta property="og:site_name" content="程式狂想筆記" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Net Core 路由設定探討"/>
<meta name="twitter:description" content="之前寫.NET Core MVC裡面探討Services.AddMvc 和Services.AddMvcCore方法差異。
這邊只有簡單紀錄重點。

addMvcCore: 只包含MVC功能。所以Controller 用到JSON 回傳會錯誤。
addMvc: 包含MVC Core和相關第三方常用服務方法。

最近建立空白專案，發現所有 Startup.cs 都是空的。瞬間不知道要放什麼&hellip;
還是了解一下這些事做什麼，主要記錄這篇以後使用知道自己在幹嘛"/>
<meta name="application-name" content="程式狂想筆記">
<meta name="apple-mobile-web-app-title" content="程式狂想筆記"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://malagege.github.io/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/" /><link rel="prev" href="https://malagege.github.io/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/" /><link rel="next" href="https://malagege.github.io/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/" /><link rel="stylesheet" href="/blog/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Net Core 路由設定探討",
        "inLanguage": "zh-tw",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/malagege.github.io\/blog\/posts\/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E\/"
        },"genre": "posts","keywords": ".netcore, router","wordcount":  799 ,
        "url": "https:\/\/malagege.github.io\/blog\/posts\/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E\/","datePublished": "2022-12-21T23:28:53+08:00","dateModified": "2022-12-21T23:28:53+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "malagege"
            },"description": "\u003cp\u003e之前寫\u003ccode\u003e.NET Core MVC\u003c/code\u003e裡面探討\u003ccode\u003eServices.AddMvc\u003c/code\u003e 和\u003ccode\u003eServices.AddMvcCore\u003c/code\u003e方法差異。\u003cbr\u003e\n這邊只有簡單紀錄重點。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eaddMvcCore: 只包含MVC功能。所以Controller 用到JSON 回傳會錯誤。\u003cbr\u003e\naddMvc: 包含MVC Core和相關第三方常用服務方法。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e最近建立空白專案，發現所有 \u003ccode\u003eStartup.cs\u003c/code\u003e 都是空的。瞬間不知道要放什麼\u0026hellip;\u003cbr\u003e\n還是了解一下這些事做什麼，主要記錄這篇以後使用知道自己在幹嘛\u003c/p\u003e"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/blog/" title="程式狂想筆記">程式狂想筆記</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/blog/"> 首頁 </a><a class="menu-item" href="/blog/posts/"> 文章 </a><a class="menu-item" href="/blog/tags/"> 標籤 </a><a class="menu-item" href="/blog/categories/"> 分類 </a><a class="menu-item" href="/blog/links/" title="覺得不錯好站都會放在這邊"> 好站連結 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/blog/" title="程式狂想筆記">程式狂想筆記</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/blog/" title="">首頁</a><a class="menu-item" href="/blog/posts/" title="">文章</a><a class="menu-item" href="/blog/tags/" title="">標籤</a><a class="menu-item" href="/blog/categories/" title="">分類</a><a class="menu-item" href="/blog/links/" title="覺得不錯好站都會放在這邊">好站連結</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
            <div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="4661282975"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Net Core 路由設定探討</h1>

        <div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="2236653478"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  <div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/blog/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>malagege</a></span>&nbsp;<span class="post-category">included in <a href="/blog/categories/.Net-Core/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>.Net Core</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2022-12-21">2022-12-21</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;799 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://user-images.githubusercontent.com/6058558/208943359-1edf9009-571f-494b-b385-2c2b4faa6bfc.png"
        data-srcset="https://user-images.githubusercontent.com/6058558/208943359-1edf9009-571f-494b-b385-2c2b4faa6bfc.png, https://user-images.githubusercontent.com/6058558/208943359-1edf9009-571f-494b-b385-2c2b4faa6bfc.png 1.5x, https://user-images.githubusercontent.com/6058558/208943359-1edf9009-571f-494b-b385-2c2b4faa6bfc.png 2x"
        data-sizes="auto"
        alt="https://user-images.githubusercontent.com/6058558/208943359-1edf9009-571f-494b-b385-2c2b4faa6bfc.png"
        title="https://user-images.githubusercontent.com/6058558/208943359-1edf9009-571f-494b-b385-2c2b4faa6bfc.png" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#service-註冊設定">Service 註冊設定</a>
      <ul>
        <li><a href="#addrazorpages-vs-addcontrollerswithviews">AddRazorPages vs AddControllersWithViews</a></li>
        <li><a href="#apiexplorer-是什麼">ApiExplorer 是什麼?</a></li>
      </ul>
    </li>
    <li><a href="#路由設定">路由設定</a>
      <ul>
        <li><a href="#useendpoints-vs-userouting">UseEndpoints vs UseRouting</a></li>
        <li><a href="#endpoints-有哪些可以用">Endpoints 有哪些可以用?</a></li>
      </ul>
    </li>
    <li><a href="#apicontroller-attribute">ApiController Attribute</a></li>
    <li><a href="#其他文章">其他文章</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>之前寫<code>.NET Core MVC</code>裡面探討<code>Services.AddMvc</code> 和<code>Services.AddMvcCore</code>方法差異。<br>
這邊只有簡單紀錄重點。</p>
<blockquote>
<p>addMvcCore: 只包含MVC功能。所以Controller 用到JSON 回傳會錯誤。<br>
addMvc: 包含MVC Core和相關第三方常用服務方法。</p>
</blockquote>
<p>最近建立空白專案，發現所有 <code>Startup.cs</code> 都是空的。瞬間不知道要放什麼&hellip;<br>
還是了解一下這些事做什麼，主要記錄這篇以後使用知道自己在幹嘛</p>
<h2 id="service-註冊設定">Service 註冊設定</h2>
<p>其實我後來發現 Visual Studio 會建議你設定 <code>Services.AddMvc</code>。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/UM8Xb1x.png"
        data-srcset="https://i.imgur.com/UM8Xb1x.png, https://i.imgur.com/UM8Xb1x.png 1.5x, https://i.imgur.com/UM8Xb1x.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/UM8Xb1x.png"
        title="https://i.imgur.com/UM8Xb1x.png" /></p>
<p>這個功能是最多的</p>
<p><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/routing?view=aspnetcore-6.0" target="_blank" rel="noopener noreffer ">Routing in ASP.NET Core | Microsoft Docs</a></p>
<p>設定我發現還滿多的</p>
<ul>
<li>services.AddMvcCore()</li>
<li>services.AddControllers()</li>
<li>services.AddControllersWithViews()</li>
<li>services.AddRazorPages()</li>
<li>services.AddMvc()</li>
</ul>
<p>這邊小記<a href="https://blog.darkthread.net/blog/add-mvc-to-razor-project/" target="_blank" rel="noopener noreffer ">ASP.NET Core 練習 - 在 Razor Pages 專案加入 MVC-黑暗執行緒</a>內容。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">services.AddMvcCore()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">只註冊運行 Controller/~~Razor Pages~~ 必要的核心服務，確保 Pipeline 程序可動作，其餘如像 Data Annotation Model Validation、身分驗證等服務要自己加掛，除有特殊客製需求，一般不太常用。
</span></span><span class="line"><span class="cl">services.AddControllers()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">包含 AddMvcCore() 所做的動作外，再加上：
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   身分驗證服務
</span></span><span class="line"><span class="cl">   Swagger/Open API 等 API 文件動態產生功能
</span></span><span class="line"><span class="cl">   Data Annotation 支援 Attribute 資料檢核及 IValidateObject
</span></span><span class="line"><span class="cl">   Formatter Mapping - 依 Request 需求提供不同格式(JSON/XML)內容
</span></span><span class="line"><span class="cl">   CORS - 支援跨網域整合
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">要用 Controller 但不會用到 View，例如純 WebAPI，可以選這個。
</span></span><span class="line"><span class="cl">services.AddControllersWithViews()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">包含 AddControllers() 的所有項目，再加上：
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   cshtml Razor View
</span></span><span class="line"><span class="cl">   Cache Tag Helper
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">要使用標準 Model + View + Controller 架構，通常就選這個。
</span></span><span class="line"><span class="cl">services.AddRazorPages()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">包含 AddMvcCore() 所有功能，再加上：
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   Razor Pages 功能
</span></span><span class="line"><span class="cl">   身分驗證服務
</span></span><span class="line"><span class="cl">   Data Annotation - 支援 Attribute 資料檢核及 IValidateObject
</span></span><span class="line"><span class="cl">   Cache Tag Helper
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">services.AddMvc()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">等於 AddControllersWithViews() 加 AddRazorPages()，不想漏掉功能發揮 ASP.NET Core 最大威力，選這個就對了。
</span></span></code></pre></td></tr></table>
</div>
</div><p>這邊我懷疑只註冊運行 Controller/<strong><del>Razor Pages</del></strong> 必要的核心服務 寫錯了。</p>
<p>順便問 AI 大神。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://user-images.githubusercontent.com/6058558/208949525-0f3b3742-b7a0-4596-8a69-59f41470abf1.png"
        data-srcset="https://user-images.githubusercontent.com/6058558/208949525-0f3b3742-b7a0-4596-8a69-59f41470abf1.png, https://user-images.githubusercontent.com/6058558/208949525-0f3b3742-b7a0-4596-8a69-59f41470abf1.png 1.5x, https://user-images.githubusercontent.com/6058558/208949525-0f3b3742-b7a0-4596-8a69-59f41470abf1.png 2x"
        data-sizes="auto"
        alt="https://user-images.githubusercontent.com/6058558/208949525-0f3b3742-b7a0-4596-8a69-59f41470abf1.png"
        title="https://user-images.githubusercontent.com/6058558/208949525-0f3b3742-b7a0-4596-8a69-59f41470abf1.png" /></p>
<p>最後再做個確認，可以推薦看一下 <a href="https://blog.yowko.com/aspdotnet-core-addmvc-addmvccore/" target="_blank" rel="noopener noreffer ">ASP.NET Core 中 AddMvc() 與 AddMvcCore() 的差別 - Yowko&rsquo;s Notes</a>這篇，真的去爬程式跑什麼。<br>
<del>現在老了看條列式有點吃力</del>，我依照上面內文簡單用類別圖整理這個。方便以後查詢。</p>
<div class="mermaid">classDiagram 
    AddMvcCore方法 <|-- AddControllers方法
    AddControllers方法 <|-- AddControllersWithViews方法
    AddMvcCore方法 <|-- AddRazorPages方法
    AddRazorPages方法 <|-- AddMvc方法
    AddControllersWithViews方法 <|-- AddMvc方法
    class AddMvcCore方法{
        - 只註冊運行 Controller 必要的核心服務
        - 確保 Pipeline 程序可動作
    }
    class AddControllers方法{
        - 身分驗證服務
        - Swagger/Open API 等 API 文件動態產生功能
        - Data Annotation - 支援 Attribute 資料檢核及 IValidateObject
        - Formatter Mapping - 依 Request 需求提供不同格式[JSON/XML]內容
        - CORS - 支援跨網域整合
    }
    class AddControllersWithViews方法{
        - cshtml Razor View
        - Cache Tag Helper
    }
    class AddRazorPages方法{
        - Razor Pages 功能
        - 身分驗證服務
        - Data Annotation - 支援 Attribute 資料檢核及 IValidateObject
        - Cache Tag Helper
    }
    class AddMvc方法{
        - AddControllersWithViews方法 加 AddRazorPages
    }   
            
</div><p>前陣子看微軟範例，我找不到 Controller 對應 View 的方法，後來發現他使用 Razor Pages，<code>cshtml</code>。因為我最近轉寫<code>.Net Core</code>不知道有這玩意，他方法大概有 GET,POST 方法，不過我朋友說現在很少在用。</p>
<p>可以看:</p>
<ul>
<li><a href="https://github.com/dotnet/AspNetCore.Docs/blob/main/aspnetcore/security/authentication/cookie/samples/3.x/CookieSample/Pages/Index.cshtml.cs" target="_blank" rel="noopener noreffer ">AspNetCore.Docs/Index.cshtml.cs at main · dotnet/AspNetCore.Docs</a></li>
<li><a href="https://github.com/dotnet/AspNetCore.Docs/blob/main/aspnetcore/security/authentication/cookie/samples/3.x/CookieSample/Startup.cs" target="_blank" rel="noopener noreffer ">AspNetCore.Docs/Startup.cs at main · dotnet/AspNetCore.Docs</a></li>
</ul>
<p>我後來仔細看<code>AddRazorPages</code>和<code>AddControllersWithViews</code>方法的東西好像都有包含，看不出來兩者差異，我後來有爬到</p>
<ol>
<li><a href="https://ddochea.tistory.com/160" target="_blank" rel="noopener noreffer ">[ASP.NET Core] AddController(), AddMvc(), AddControllersWithViews(), AddRazorPages() 차이점 :: 또치의 삽질 보관함</a></li>
<li><a href="https://dotnettutorials.net/lesson/difference-between-addmvc-and-addmvccore-method/" target="_blank" rel="noopener noreffer ">AddController vs AddMvc vs AddControllersWithViews vs AddRazorPages</a></li>
</ol>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/gvkbSCZ.png"
        data-srcset="https://i.imgur.com/gvkbSCZ.png, https://i.imgur.com/gvkbSCZ.png 1.5x, https://i.imgur.com/gvkbSCZ.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/gvkbSCZ.png"
        title="https://i.imgur.com/gvkbSCZ.png" /></p>
<h3 id="addrazorpages-vs-addcontrollerswithviews">AddRazorPages vs AddControllersWithViews</h3>
<p>這邊先了解<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://user-images.githubusercontent.com/6058558/208950891-53237f45-8e2e-4853-a860-71cdf1275abf.png"
        data-srcset="https://user-images.githubusercontent.com/6058558/208950891-53237f45-8e2e-4853-a860-71cdf1275abf.png, https://user-images.githubusercontent.com/6058558/208950891-53237f45-8e2e-4853-a860-71cdf1275abf.png 1.5x, https://user-images.githubusercontent.com/6058558/208950891-53237f45-8e2e-4853-a860-71cdf1275abf.png 2x"
        data-sizes="auto"
        alt="https://user-images.githubusercontent.com/6058558/208950891-53237f45-8e2e-4853-a860-71cdf1275abf.png"
        title="圖片" /></p>
<p>在看上面問題。</p>
<p>就能看出<code>AddRazorPages</code>和<code>AddControllersWithViews</code> 差在API Explorer和 CORS和Formatter Mapping 。</p>
<p>這邊有問 AI 大大。<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://user-images.githubusercontent.com/6058558/208946803-f5909cb4-4ba3-44c4-946b-70f6c9f7548c.png"
        data-srcset="https://user-images.githubusercontent.com/6058558/208946803-f5909cb4-4ba3-44c4-946b-70f6c9f7548c.png, https://user-images.githubusercontent.com/6058558/208946803-f5909cb4-4ba3-44c4-946b-70f6c9f7548c.png 1.5x, https://user-images.githubusercontent.com/6058558/208946803-f5909cb4-4ba3-44c4-946b-70f6c9f7548c.png 2x"
        data-sizes="auto"
        alt="https://user-images.githubusercontent.com/6058558/208946803-f5909cb4-4ba3-44c4-946b-70f6c9f7548c.png"
        title="https://user-images.githubusercontent.com/6058558/208946803-f5909cb4-4ba3-44c4-946b-70f6c9f7548c.png" /><br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://user-images.githubusercontent.com/6058558/208947528-ec6a3c63-0d1e-4ea5-88dd-6c01861b8660.png"
        data-srcset="https://user-images.githubusercontent.com/6058558/208947528-ec6a3c63-0d1e-4ea5-88dd-6c01861b8660.png, https://user-images.githubusercontent.com/6058558/208947528-ec6a3c63-0d1e-4ea5-88dd-6c01861b8660.png 1.5x, https://user-images.githubusercontent.com/6058558/208947528-ec6a3c63-0d1e-4ea5-88dd-6c01861b8660.png 2x"
        data-sizes="auto"
        alt="https://user-images.githubusercontent.com/6058558/208947528-ec6a3c63-0d1e-4ea5-88dd-6c01861b8660.png"
        title="https://user-images.githubusercontent.com/6058558/208947528-ec6a3c63-0d1e-4ea5-88dd-6c01861b8660.png" /></p>
<ul>
<li><a href="https://docs.microsoft.com/zh-tw/aspnet/core/web-api/advanced/custom-formatters?view=aspnetcore-6.0" target="_blank" rel="noopener noreffer ">ASP.NET Core Web API 中的自訂格式器 | Microsoft Docs</a></li>
<li><a href="https://dotblogs.com.tw/yc421206/2022/03/13/support_multiple_versions_of_asp_net_core_web_api" target="_blank" rel="noopener noreffer ">[ASP.NET Core 6] 讓你的 ASP.NET Core Web API + Swashbuckle.AspNetCore 支援多個版本 | 余小章 @ 大內殿堂 - 點部落</a></li>
</ul>
<p>API Explorer找出文章跟 swagger 有關係，不知道是不是指找 API URL 給 swagger 用?</p>
<h3 id="apiexplorer-是什麼">ApiExplorer 是什麼?</h3>
<blockquote>
<p>為瞭解決這個問題，我需要深入研究Swashbuckle的工作原理。事實證明，它在內部使用 ApiExplorer，這是ASP.NET Core附帶的API元數據層。特別是，它使用該ApiDescription.GroupName屬性來確定將哪些方法放入哪些文件中。如果該屬性是null或它和文檔名稱（例如「client-v1」）相等，則Swashbuckle將其包括在內。並且，默認設置是null，這就是兩個Swagger文件都相同的原因。</p>
<p>有兩種方法設置GroupName。我可以通過在控制器的每個方法上設置ApiExplorerSettings屬性來進行設置，但這將是乏味且難以維護的。相反，我選擇了神奇的路由。</p>
</blockquote>
<p>參考: <a href="https://blog.csdn.net/mzl87/article/details/106982319" target="_blank" rel="noopener noreffer ">使用Swagger，ApiExplorer和NSwag掌握ASP.NET Core和ABP中的外部Web API_寒冰屋的博客-CSDN博客</a></p>
<h2 id="路由設定">路由設定</h2>
<p>其實我看官方 <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/routing?view=aspnetcore-6.0" target="_blank" rel="noopener noreffer ">Routing in ASP.NET Core | Microsoft Docs</a> 講得滿多東西，但大部分實務上可能只會用幾個方法。<br>
這邊建議看中間件概念，在看這段，不然有些在做什麼會不知道在幹嘛。</p>
<h3 id="useendpoints-vs-userouting">UseEndpoints vs UseRouting</h3>
<p><a href="https://q.cnblogs.com/q/115276/" target="_blank" rel="noopener noreffer ">ASP.NET Core 3.0 中 app.UseRouting 与 app.UseEndpoints 的区别是什么_已解决_博问_博客园</a></p>
<p>先記錄我發現的現象，放下 endpoints 時候前面需要放<code>UseRouting</code>。沒放的話就不能執行，因為會有問題。我看到有篇說 <code>UseRouting</code> 是類似做初始化動作。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/ARvlukV.png"
        data-srcset="https://i.imgur.com/ARvlukV.png, https://i.imgur.com/ARvlukV.png 1.5x, https://i.imgur.com/ARvlukV.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/ARvlukV.png"
        title="https://i.imgur.com/ARvlukV.png" /></p>
<p>我看官網文件也說到順序要這樣用。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/80ye3mo.png"
        data-srcset="https://i.imgur.com/80ye3mo.png, https://i.imgur.com/80ye3mo.png 1.5x, https://i.imgur.com/80ye3mo.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/80ye3mo.png"
        title="https://i.imgur.com/80ye3mo.png" /></p>
<p>原來 Endpoints是重點。</p>
<p>後來我看到這篇<a href="https://zhuanlan.zhihu.com/p/112507925" target="_blank" rel="noopener noreffer ">Asp.Net Core EndPoint 終結點路由工作原理解讀 - 知乎</a>有提到</p>
<blockquote>
<ol start="3">
<li>UseRouting() 、UseAuthorization()、UseEndpoints() 這三個中間件的關係是什麼呢？</li>
</ol>
<p>答：UseRouing 中間件主要是路由匹配，找到匹配的終結者路由Endpoint ；UseEndpoints 中間件主要針對UseRouting 中間件匹配到的路由進行 委託方法的執行等操作。 UseAuthorization 中間件主要針對 UseRouting 中間件中匹配到的路由進行攔截 做授權驗證操作等，通過則執行下一個中間件UseEndpoints()</p>
</blockquote>
<h3 id="endpoints-有哪些可以用">Endpoints 有哪些可以用?</h3>
<p>平常我看到 Endpoints 看不出來在做什麼?稍微看一下文件有寫這些方法可以用。</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/onfCmS1.png"
        data-srcset="https://i.imgur.com/onfCmS1.png, https://i.imgur.com/onfCmS1.png 1.5x, https://i.imgur.com/onfCmS1.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/onfCmS1.png"
        title="https://i.imgur.com/onfCmS1.png" /></p>
<p>其實黑暗執行續那篇也有小記</p>
<blockquote>
<p>MapDefaultControllerRoute<br>
註冊 //{id?}<br>
MapControllerRoute<br>
使用 Pattern、Constraint 自訂路由<br>
MapControllers<br>
在 Controller Action 透過 [Rount(&ldquo;Home/About&rdquo;)] 等 Attribute 指定路由。<br>
MapAreaControllerRoute<br>
支援 Area 路由<br>
MapDynamicControllerRoute<br>
使用自訂類別動態決定路由<br>
MapFallbackToController、MapFallbackToAreaController<br>
指定無吻合規則時的預設路由</p>
</blockquote>
<p>這個我有看半懂，大致上應該是定義列別的 class 方法的<code>Route()</code>規則去註冊 endpoints。</p>
<h4 id="mapdefaultcontrollerroute">MapDefaultControllerRoute</h4>
<p>這篇<a href="https://www.cnblogs.com/lwqlun/p/11461657.html" target="_blank" rel="noopener noreffer ">ASP.NET Core 3.0中使用動態控制器路由 - LamondLu - 博客園</a>有提到。<br>
<img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="https://i.imgur.com/3H4fU1o.png"
        data-srcset="https://i.imgur.com/3H4fU1o.png, https://i.imgur.com/3H4fU1o.png 1.5x, https://i.imgur.com/3H4fU1o.png 2x"
        data-sizes="auto"
        alt="https://i.imgur.com/3H4fU1o.png"
        title="https://i.imgur.com/3H4fU1o.png" /></p>
<p>使用<code>MapDefaultControllerRoute</code>等於寫</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">app</span><span class="p">.</span><span class="n">UseEndpoints</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">endpoints</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">endpoints</span><span class="p">.</span><span class="n">MapControllerRoute</span><span class="p">(</span><span class="s">&#34;default&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                  <span class="s">&#34;{controller=Home}/{action=Index}/{id?}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>就不需要寫</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">   [Route(&#34;&#34;)]
</span></span><span class="line"><span class="cl">   [Route(&#34;Home&#34;)]
</span></span><span class="line"><span class="cl">   [Route(&#34;Home/Index&#34;)]
</span></span></code></pre></td></tr></table>
</div>
</div><p>但相對Controller</p>
<h4 id="mapdynamiccontrollerroute">MapDynamicControllerRoute</h4>
<p><a href="https://www.cnblogs.com/lwqlun/p/11461657.html" target="_blank" rel="noopener noreffer ">ASP.NET Core 3.0中使用动态控制器路由 - LamondLu - 博客园</a></p>
<h4 id="mapcontrollerroute-mapcontrollers-mapdefaultcontrollerroute">MapControllerRoute MapControllers MapDefaultControllerRoute</h4>
<p><a href="https://www.cnblogs.com/JulianHuang/p/15190007.html" target="_blank" rel="noopener noreffer ">ASP.NET Core端点路由中三种让人困惑的路由函数 - 博客猿马甲哥 - 博客园</a></p>
<p>主要 MapControllerRoute MapControllers 剛學看到這兩個都不知道在幹嘛</p>
<p><code>endpoints.MapControllers();</code> 會透過Controller下<code>[Route(&quot;/&quot;)]</code>規則去套。<br>
但是<code>MapControllerRoute</code>是在定義路由，跟<code>[Route(&quot;/&quot;)]</code>沒有關係，有點在宣告路由意思差不多。向下面這樣。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="n">endpoints</span><span class="p">.</span><span class="n">MapControllerRoute</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="s">&#34;blog&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">pattern</span><span class="p">:</span> <span class="s">&#34;blog/{*article}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">defaults</span><span class="p">:</span> <span class="k">new</span> <span class="p">{</span> <span class="n">controller</span> <span class="p">=</span> <span class="s">&#34;Blog&#34;</span><span class="p">,</span> <span class="n">action</span> <span class="p">=</span> <span class="s">&#34;Article&#34;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="n">endpoints</span><span class="p">.</span><span class="n">MapControllerRoute</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="s">&#34;default&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">pattern</span><span class="p">:</span> <span class="s">&#34;{controller=Home}/{action=Index}/{id?}&#34;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="區域area">區域(Area)</h4>
<p>實務上我還沒看過有人這樣用，看到文件有這個紀錄一下。</p>
<p><a href="https://www.dotblogs.com.tw/Null/2020/06/02/151018" target="_blank" rel="noopener noreffer ">[ASP.NET Core] 為專案加上 Area | Ian Chen - 點部落</a></p>
<h2 id="apicontroller-attribute">ApiController Attribute</h2>
<p><code>[ApiController]</code>常常複製程式來改，最近思考這個是做什麼用。從保哥這篇得知如下。<br>
連結:<a href="https://blog.miniasp.com/post/2019/09/16/ASPNET-Core-22-Web-API-Tips-and-Tricks" target="_blank" rel="noopener noreffer ">使用 ASP.NET Core 2.2 開發 Web API 的注意事項 | The Will Will Web</a>。我發現滿多必看的</p>
<blockquote>
<p>必須使用屬性路由(Attribute Routing)</p>
<p>只要發生模型驗證失敗，就會自動回應 HTTP 400 (Bad Request)，並且以 ValidationProblemDetails 型別回應，預設的 JSON 結構如下：<br>
&hellip;</p>
</blockquote>
<p>我這邊找官網文件 <a href="https://learn.microsoft.com/zh-tw/aspnet/core/web-api/?view=aspnetcore-7.0#apicontroller-attribute-1" target="_blank" rel="noopener noreffer ">使用 ASP.NET Core 建立 Web API | Microsoft Learn</a>大概有五項。</p>
<ul>
<li>
<p>屬性路由需求<br>
<code>[Route(&quot;[controller]&quot;)]</code>必需要加這一段，程式才可以跑。</p>
</li>
<li>
<p>HTTP 400 自動回應<br>
<code>[ApiController]</code> 屬性會讓模型驗證錯誤自動觸發 HTTP 400 回應。</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(!</span><span class="n">ModelState</span><span class="p">.</span><span class="n">IsValid</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">BadRequest</span><span class="p">(</span><span class="n">ModelState</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>繫結來源參數推斷<br>
就是指一般 Get, Post 會針對參數是<code>[FormQuery]</code>,<code>[FormBody]</code>這篇推薦看文件。</p>
</li>
<li>
<p>多部分/表單資料要求推斷<br>
屬性 [ApiController] 會針對 型 IFormFile 別和 IFormFileCollection 的動作參數套用推斷規則。 系統會 <code>multipart/form-data</code> 針對這些類型推斷要求內容類型。</p>
</li>
<li>
<p>錯誤狀態碼的問題詳細資料<br>
MVC 會將錯誤結果 (狀態碼為 400 或更新版本的結果，) 轉換為具有 的結果 ProblemDetails 。 以 RFC 7807 規格為基礎的 ProblemDetails 類型，在 HTTP 回應中提供電腦可讀取的錯誤詳細資料。</p>
</li>
</ul>
<p>建議點進去看。</p>
<div class="details admonition tip">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>問 CHATGPT 不加[apicontroller]和一般controller差異在哪?<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>不加[apicontroller]和一般controller差異在哪?</p>
<p>在 ASP.NET Core 中，[ApiController] 和普通的 Controller 類別有一些差異，包括：</p>
<p>[ApiController] 特性只能用於 Web API 控制器中。如果您想在 MVC 控制器中使用該特性，將會出現錯誤。</p>
<p>[ApiController] 特性會啟用一些默認的行為，以便更方便地在 Web API 中工作。例如，如果您在控制器中使用了 [ApiController] 特性，則您可以在控制器中使用 [FromBody] 和 [FromQuery] 屬性，而無需手動配置模型綁定。</p>
<p>[ApiController] 特性會啟用一些默認的錯誤處理行為，以便更方便地在 Web API 中工作。例如，如果您在控制器中使用了 [ApiController] 特性，則您的控制器將會自動回應 HTTP 400 錯誤（Bad Request），如果模型綁定失敗。</p>
<p>[ApiController] 特性會啟用一些默認的路由行為，以便更方便地在 Web API 中工作。例如，如果您在控制器中使用了 [ApiController] 特性，則您的控制器將會自動選擇基於 HTTP 請求類型的路由模板（例如 GET、POST 等）。<br>
總之，[ApiController] 特性是一種方便的工具，可以幫助您更方便地在 Web API 中工作。然而，請注意，如果您在 MVC 控制器中使用了 [ApiController] 特性，則可能會出現一些問題，因為 MVC 控制器和 Web API 控制器的工作方式有所不同。因此，建議您只在 Web API 控制器中使用 [ApiController] 特性。</p>
<p>如果您想了解更多關於 [ApiController] 特性的信息，請參考 ASP.NET Core 文檔。</p>
</div>
        </div>
    </div>
<p>回去看還真的官方文章是在寫 WebAPI。</p>
<div class="details admonition tip">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>除了 ControllerBase  ，那些 Controller Class 開發人員需要知道的東西?<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>除了 ControllerBase  ，那些 Controller Class 開發人員需要知道的東西?</p>
<p>在 ASP.NET Core 中，除了 ControllerBase 之外，還有其他幾種常用的 Controller 類別，包括：</p>
<p>Controller：這是最常用的 Controller 類別，可以用於實現 MVC 控制器。Controller 類別繼承自 ControllerBase 類別，並且提供了許多方便的功能，例如视图支持、模型綁定、模型驗證等。</p>
<p>ApiController：這是用於實現 Web API 控制器的類別，繼承自 ControllerBase 類別。ApiController 類別提供了許多方便的功能，例如自動模型綁定、自動錯誤處理、自動路由等。</p>
<p>ControllerBase：這是所有 Controller 類別的基類，包括 Controller 和 ApiController。ControllerBase 類別提供了許多基本的功能，例如 HTTP 請求處理、控制器生命週期等。</p>
<p>總之，開發人員需要知道這些 Controller 類別，以便在適當的情況下使用它們。請注意，每種類別都有自己的用途，</p>
</div>
        </div>
    </div>
<p><a href="https://www.huanlintalk.com/2013/01/aspnet-web-api-and-json.html" target="_blank" rel="noopener noreffer ">ASP.NET Web API 入門常用技巧 - Huan-Lin 學習筆記</a></p>
<p>其實寫完這章節發現這根路由沒關係，不過也了解一些東西就順便記。會不會再拆出來寫再看看。</p>
<h2 id="其他文章">其他文章</h2>
<p><a href="https://dotblogs.com.tw/%E9%80%99%E6%98%AF%E4%B8%80%E9%9A%BB%E9%96%93%E8%AB%9C%E7%A8%8B%E5%BC%8F/2020/03/26/221249" target="_blank" rel="noopener noreffer ">Vue Router 搭配 ASP.NET Core 3.1 時 設定history mode | 這是一隻間諜程式 - 點部落</a></p><div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="2236653478"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
        </div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2022-12-21</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://malagege.github.io/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/" data-title="Net Core 路由設定探討" data-hashtags=".netcore,router"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://malagege.github.io/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/" data-hashtag=".netcore"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://malagege.github.io/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/" data-title="Net Core 路由設定探討"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://malagege.github.io/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/" data-title="Net Core 路由設定探討"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://malagege.github.io/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/" data-title="Net Core 路由設定探討" data-image="https://user-images.githubusercontent.com/6058558/208943359-1edf9009-571f-494b-b385-2c2b4faa6bfc.png"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/blog/tags/.netcore/">.netcore</a>,&nbsp;<a href="/blog/tags/router/">router</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/blog/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/" class="prev" rel="prev" title="LocalDB 開發程式使用的資料庫"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>LocalDB 開發程式使用的資料庫</a>
            <a href="/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/" class="next" rel="next" title=".Net Core 和 Visual Studio 2022 安裝設定與使用技巧">.Net Core 和 Visual Studio 2022 安裝設定與使用技巧<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.120.4">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/blog/" target="_blank">malagege</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://malagege-blog.disqus.com/embed.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@9.4.3/dist/mermaid.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"search":{"algoliaAppID":"4LYONZIY18","algoliaIndex":"malagege_blog","algoliaSearchKey":"30dc05f673e702e0701b9b40cfa44eac","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/blog/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-105195903-2', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-105195903-2" async></script></body>
</html>
