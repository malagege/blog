<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç† - ç¨‹å¼ç‹‚æƒ³ç­†è¨˜</title><meta name="Description" content="è¨˜éŒ„è‘—æˆ‘æ¥è§¸ç¨‹å¼è—æ–‡"><meta property="og:title" content="docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç†" />
<meta property="og:description" content="åŸºæœ¬æ•™å­¸ç¶²ç«™
twtrubiks/docker-swarm-tutorial: Docker Swarm åŸºæœ¬æ•™å­¸ - å¾ç„¡åˆ°æœ‰ Docker-Swarm-Beginners-GuideğŸ“
Docker Swarm ç®¡ç†èŠ‚ç‚¹é«˜å¯ç”¨åˆ†æ â€” outmanzzq
ç”±æ–¼ä¸Šé¢ç¶²ç«™éƒ½æ•™çš„éå¸¸æ¸…æ¥š
æˆ‘é€™é‚Šåªè¨˜éŒ„å¦‚ä½•æ“ä½œè·Ÿå°ç­†è¨˜(æˆ–æˆ‘è¦ºå¾—é‡è¦çš„)
ä¸æœƒè©³ç´°ä»‹ç´¹ï¼Œæˆ‘è¦ºå¾—ä»¥ä¸Šéƒ½èªªå¾—å¾ˆç´°" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://malagege.github.io/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-12-07T20:06:28+00:00" />
<meta property="article:modified_time" content="2019-12-07T20:06:28+00:00" /><meta property="og:site_name" content="ç¨‹å¼ç‹‚æƒ³ç­†è¨˜" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç†"/>
<meta name="twitter:description" content="åŸºæœ¬æ•™å­¸ç¶²ç«™
twtrubiks/docker-swarm-tutorial: Docker Swarm åŸºæœ¬æ•™å­¸ - å¾ç„¡åˆ°æœ‰ Docker-Swarm-Beginners-GuideğŸ“
Docker Swarm ç®¡ç†èŠ‚ç‚¹é«˜å¯ç”¨åˆ†æ â€” outmanzzq
ç”±æ–¼ä¸Šé¢ç¶²ç«™éƒ½æ•™çš„éå¸¸æ¸…æ¥š
æˆ‘é€™é‚Šåªè¨˜éŒ„å¦‚ä½•æ“ä½œè·Ÿå°ç­†è¨˜(æˆ–æˆ‘è¦ºå¾—é‡è¦çš„)
ä¸æœƒè©³ç´°ä»‹ç´¹ï¼Œæˆ‘è¦ºå¾—ä»¥ä¸Šéƒ½èªªå¾—å¾ˆç´°"/>
<meta name="application-name" content="ç¨‹å¼ç‹‚æƒ³ç­†è¨˜">
<meta name="apple-mobile-web-app-title" content="ç¨‹å¼ç‹‚æƒ³ç­†è¨˜"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://malagege.github.io/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/" /><link rel="prev" href="https://malagege.github.io/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/" /><link rel="next" href="https://malagege.github.io/blog/posts/%E5%BF%AB%E9%80%9F%E8%AA%BF%E6%95%B4-INERT-UPDATE-SQL-%E8%AA%9E%E6%B3%95/" /><link rel="stylesheet" href="/blog/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç†",
        "inLanguage": "zh-tw",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/malagege.github.io\/blog\/posts\/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86\/"
        },"genre": "posts","keywords": "docker, swarm","wordcount":  794 ,
        "url": "https:\/\/malagege.github.io\/blog\/posts\/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86\/","datePublished": "2019-12-07T20:06:28+00:00","dateModified": "2019-12-07T20:06:28+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "malagege"
            },"description": "\u003ch2 id=\"åŸºæœ¬æ•™å­¸ç¶²ç«™\"\u003eåŸºæœ¬æ•™å­¸ç¶²ç«™\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/twtrubiks/docker-swarm-tutorial\" target=\"_blank\" rel=\"noopener noreffer \"\u003etwtrubiks/docker-swarm-tutorial: Docker Swarm åŸºæœ¬æ•™å­¸ - å¾ç„¡åˆ°æœ‰ Docker-Swarm-Beginners-GuideğŸ“\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://outmanzzq.github.io/2019/06/18/docker-swarm-manager-ha/\" target=\"_blank\" rel=\"noopener noreffer \"\u003eDocker Swarm ç®¡ç†èŠ‚ç‚¹é«˜å¯ç”¨åˆ†æ â€” outmanzzq\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eç”±æ–¼ä¸Šé¢ç¶²ç«™éƒ½æ•™çš„éå¸¸æ¸…æ¥š\u003cbr\u003e\næˆ‘é€™é‚Šåªè¨˜éŒ„å¦‚ä½•æ“ä½œè·Ÿå°ç­†è¨˜(æˆ–æˆ‘è¦ºå¾—é‡è¦çš„)\u003cbr\u003e\nä¸æœƒè©³ç´°ä»‹ç´¹ï¼Œæˆ‘è¦ºå¾—ä»¥ä¸Šéƒ½èªªå¾—å¾ˆç´°\u003c/p\u003e"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/blog/" title="ç¨‹å¼ç‹‚æƒ³ç­†è¨˜">ç¨‹å¼ç‹‚æƒ³ç­†è¨˜</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/blog/"> é¦–é  </a><a class="menu-item" href="/blog/posts/"> æ–‡ç«  </a><a class="menu-item" href="/blog/tags/"> æ¨™ç±¤ </a><a class="menu-item" href="/blog/categories/"> åˆ†é¡ </a><a class="menu-item" href="/blog/links/" title="è¦ºå¾—ä¸éŒ¯å¥½ç«™éƒ½æœƒæ”¾åœ¨é€™é‚Š"> å¥½ç«™é€£çµ </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/blog/" title="ç¨‹å¼ç‹‚æƒ³ç­†è¨˜">ç¨‹å¼ç‹‚æƒ³ç­†è¨˜</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/blog/" title="">é¦–é </a><a class="menu-item" href="/blog/posts/" title="">æ–‡ç« </a><a class="menu-item" href="/blog/tags/" title="">æ¨™ç±¤</a><a class="menu-item" href="/blog/categories/" title="">åˆ†é¡</a><a class="menu-item" href="/blog/links/" title="è¦ºå¾—ä¸éŒ¯å¥½ç«™éƒ½æœƒæ”¾åœ¨é€™é‚Š">å¥½ç«™é€£çµ</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
            <div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="4661282975"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç†</h1>

        <div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="2236653478"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  <div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/blog/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>malagege</a></span>&nbsp;<span class="post-category">included in <a href="/blog/categories/Docker/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Docker</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2019-12-07">2019-12-07</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;794 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#åŸºæœ¬æ•™å­¸ç¶²ç«™">åŸºæœ¬æ•™å­¸ç¶²ç«™</a>
      <ul>
        <li><a href="#managers">managers</a></li>
        <li><a href="#worker">worker</a></li>
      </ul>
    </li>
    <li><a href="#åŸºæœ¬é€£ç·š">åŸºæœ¬é€£ç·š</a></li>
    <li><a href="#docker-node">docker node</a></li>
    <li><a href="#docker-service">docker service</a>
      <ul>
        <li><a href="#scale">scale</a></li>
        <li><a href="#å…©ç¨®æ¨¡å¼">å…©ç¨®æ¨¡å¼</a></li>
        <li><a href="#é—œæ‰-service">é—œæ‰ service</a></li>
        <li><a href="#docker-æŸ¥çœ‹">docker æŸ¥çœ‹</a></li>
        <li><a href="#æŸ¥çœ‹æ—¥èªŒ">æŸ¥çœ‹æ—¥èªŒ</a></li>
      </ul>
    </li>
    <li><a href="#docker-stack">docker stack</a></li>
    <li><a href="#portainer">portainer</a>
      <ul>
        <li><a href="#agent">agent</a></li>
        <li><a href="#agent-è·Ÿ-docker-å·®ç•°">agent è·Ÿ docker å·®ç•°</a></li>
      </ul>
    </li>
    <li><a href="#ä½¿ç”¨-play-with-docker">ä½¿ç”¨ play with docker</a></li>
    <li><a href="#history">history</a></li>
    <li><a href="#ä½¿ç”¨-swarm-volume-å¯èƒ½å•é¡Œ">ä½¿ç”¨ swarm volume å¯èƒ½å•é¡Œ</a></li>
    <li><a href="#swarm-conjob">swarm conjob</a>
      <ul>
        <li><a href="#å®‰è£-swarm-cronjob">å®‰è£ swarm-cronjob</a></li>
        <li><a href="#åŸ·è¡Œæ³¨æ„">åŸ·è¡Œæ³¨æ„</a></li>
        <li><a href="#agent-mode-global">agent mode global</a></li>
      </ul>
    </li>
    <li><a href="#ç›¸é—œé€£çµ">ç›¸é—œé€£çµ</a></li>
    <li><a href="#é‡å°-cpu-æ¶æ§‹é¸æ“‡-image">é‡å° CPU æ¶æ§‹é¸æ“‡ image</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="åŸºæœ¬æ•™å­¸ç¶²ç«™">åŸºæœ¬æ•™å­¸ç¶²ç«™</h2>
<p><a href="https://github.com/twtrubiks/docker-swarm-tutorial" target="_blank" rel="noopener noreffer ">twtrubiks/docker-swarm-tutorial: Docker Swarm åŸºæœ¬æ•™å­¸ - å¾ç„¡åˆ°æœ‰ Docker-Swarm-Beginners-GuideğŸ“</a></p>
<p><a href="https://outmanzzq.github.io/2019/06/18/docker-swarm-manager-ha/" target="_blank" rel="noopener noreffer ">Docker Swarm ç®¡ç†èŠ‚ç‚¹é«˜å¯ç”¨åˆ†æ â€” outmanzzq</a></p>
<p>ç”±æ–¼ä¸Šé¢ç¶²ç«™éƒ½æ•™çš„éå¸¸æ¸…æ¥š<br>
æˆ‘é€™é‚Šåªè¨˜éŒ„å¦‚ä½•æ“ä½œè·Ÿå°ç­†è¨˜(æˆ–æˆ‘è¦ºå¾—é‡è¦çš„)<br>
ä¸æœƒè©³ç´°ä»‹ç´¹ï¼Œæˆ‘è¦ºå¾—ä»¥ä¸Šéƒ½èªªå¾—å¾ˆç´°</p>
<h3 id="managers">managers</h3>
<p>å¾ŒçºŒæœ‰ç›¸é—œæŒ‡ä»¤ managers æ‰å¯ä»¥åŸ·è¡Œ (EX: docker service, docker node)<br>
ä¹‹å¾Œä¸‹çš„æŒ‡ä»¤æ˜¯è¦åœ¨ manager ç”¨</p>
<h3 id="worker">worker</h3>
<p>manager æœƒåˆ†é… task çµ¦ work ç”¨</p>
<h2 id="åŸºæœ¬é€£ç·š">åŸºæœ¬é€£ç·š</h2>
<p>è¦å¦‚ä½•åŠ å…¥ manger æˆ– worker å‘¢?</p>
<p>å…¶å¯¦åªè¦çœ‹<br>
<code>docker swarm join-token manager</code><br>
æˆ–<br>
<code>docker swarm join-token worker</code><br>
å°±èƒ½çœ‹åˆ°è¦åŠ å…¥ manager / worker æŒ‡ä»¤</p>
<h2 id="docker-node">docker node</h2>
<p>docker node ls</p>
<p>å¯ä»¥çœ‹åˆ°æ‰€æœ‰åŠ å…¥çš„ node</p>
<h2 id="docker-service">docker service</h2>
<p>docker service ç°¡å–®ä¾†èªªå°±åƒ docker run çš„ swarm ç‰ˆã€‚</p>
<p>åªèƒ½åœ¨ manager åŸ·è¡Œï¼Œæœƒè‡ªå‹•åˆ†é…åœ¨ node åŸ·è¡Œ<br>
docker service create &ndash;name=my_nginx nginx<br>
docker service create &ndash;detach=false &ndash;name my_nginx &ndash;mode replicated nginx</p>
<p>docker service update<br>
docker service update &ndash;publish-add 80 my_nginx</p>
<h3 id="scale">scale</h3>
<p>docker service scale my_nginx=5</p>
<h3 id="å…©ç¨®æ¨¡å¼">å…©ç¨®æ¨¡å¼</h3>
<p>replicated:ç°¡å–®èªªå°±æ˜¯è‡ªå‹•åˆ†é…<br>
global   :ç°¡å–®èªªå°±æ˜¯å…¨éƒ¨ node éƒ½è£</p>
<p>é è¨­ replicated</p>
<p><a href="https://note.qidong.name/2018/11/docker-swarm/" target="_blank" rel="noopener noreffer ">Docker Swarmæ¦‚å¿µä¸åŸºæœ¬ç”¨æ³• Â· é›¶å£¹è»’Â·ç¬”è®°</a></p>
<h3 id="é—œæ‰-service">é—œæ‰ service</h3>
<p>docker dervice scale my_xxx=0</p>
<p>docker service rm  my_xxx</p>
<h3 id="docker-æŸ¥çœ‹">docker æŸ¥çœ‹</h3>
<p>docker service ps</p>
<h3 id="æŸ¥çœ‹æ—¥èªŒ">æŸ¥çœ‹æ—¥èªŒ</h3>
<p>docker service log</p>
<h2 id="docker-stack">docker stack</h2>
<p>ç°¡å–®ä¾†èªªï¼Œ docker stack å°±æ˜¯ docker compose çš„ swarm ç‰ˆæœ¬ã€‚</p>
<p>docker stack deploy &ndash;compose-file=portainer-agent-stack.yml portainer</p>
<h2 id="portainer">portainer</h2>
<p>åœ¨ä½¿ç”¨ portainer æ–°å¢æ©Ÿå™¨(endpoint)<br>
æœƒæœ‰ agent è·Ÿ docker<br>
é¸æ“‡ docker ï¼Œç”±æ–¼ docker swarm æ˜¯å¢é›†ï¼Œæ‰€ä»¥éƒ¨ä»½å»ºç«‹ container è¦å»ä¸åŒ endpint (node) çœ‹æ±è¥¿</p>
<p>ä½¿ç”¨ agent åŒä¸€å° endpoint å°±èƒ½çœ‹åˆ°å…¨éƒ¨</p>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="./img1.png"
        data-srcset="./img1.png, ./img1.png 1.5x, ./img1.png 2x"
        data-sizes="auto"
        alt="./img1.png"
        title="agentå’Œdocker" /></p>
<p>ä¸éå“ªå€‹æ¯”è¼ƒå¥½ï¼Œæˆ‘é‚„æ²’æœ‰ç¢ºå®šï¼Œæˆ‘å€‘å…¬å¸æ˜¯ç”¨ docker</p>
<p>è¨­å®š agent æ²’æœ‰å¾ˆé †åˆ©ï¼Œå¾Œä¾†ç”¨å®Œåœ¨æ­¤ç´€éŒ„</p>
<h3 id="agent">agent</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ curl -L https://downloads.portainer.io/portainer-agent-stack.yml -o portainer-agent-stack.yml
</span></span><span class="line"><span class="cl">$ docker stack deploy --compose-file=portainer-agent-stack.yml portainer
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®˜ç¶²è¨­å®šæœƒæœ‰å¾ˆå¤§å•é¡Œï¼Œå¾Œä¾†ç™¼ç¾åªè¦æ˜¯ portainer ç”¨ stack éƒ¨å±¬å°±æœƒæœ‰å•é¡Œ(å¡åœ¨ä¸€é–‹å§‹ Load ç™»å…¥é é¢)<br>
ä¸éå–®ç¨ä½¿ç”¨ portainer container å°±æ²’é€™å€‹å•é¡Œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#docker run -d -p 9000:9000 -p 8000:8000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock portainer/portainer</span>
</span></span><span class="line"><span class="cl"><span class="c1"># å¯ä½¿ç”¨ docker swarm æ³¨æ„ æˆ‘æŠŠ volume æ‹¿æ‰äº†</span>
</span></span><span class="line"><span class="cl">docker service create <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --name portainer <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --publish 9000:9000 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --publish 8000:8000 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --replicas<span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --constraint <span class="s1">&#39;node.role == manager&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="c1">#    --mount type=bind,src=//path/on/host/data,dst=/data \    ##æ¸¬è©¦ç”¨ï¼Œæ‰€ä»¥é€™å€‹æ‹¿æ‰</span>
</span></span><span class="line"><span class="cl">    portainer/portainer
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -L https://downloads.portainer.io/agent-stack.yml -o agent-stack.yml <span class="o">&amp;&amp;</span> docker stack deploy --compose-file<span class="o">=</span>agent-stack.yml portainer-agent
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨éš¨ä¾¿åŠ å…¥ä¸€å€‹åˆ° endpoint å°±å¯ä»¥äº†<br>
è‡³æ–¼å®˜æ–¹çš„ä¸çŸ¥é“ç‚ºä»€éº¼ä¸èƒ½ç”¨?<br>
ç›®å‰æ‰¾ä¸åˆ°æ–¹æ³•&hellip;(æˆ‘æ˜¯åœ¨ play with docker è·‘çš„)<br>
ä¹Ÿæœ‰å¯èƒ½è·Ÿç’°å¢ƒå•é¡Œ</p>
<h3 id="agent-è·Ÿ-docker-å·®ç•°">agent è·Ÿ docker å·®ç•°</h3>
<p><img
        class="lazyload"
        src="/blog/svg/loading.min.svg"
        data-src="./img2.png"
        data-srcset="./img2.png, ./img2.png 1.5x, ./img2.png 2x"
        data-sizes="auto"
        alt="./img2.png"
        title="agentèˆ‡dockerå·®ç•°" /></p>
<p>192.168.1.17 æœ‰å…©å€‹ï¼Œæœ‰ä¸€å€‹æ˜¯ agent è·Ÿ docker<br>
ä½ æœƒç™¼ç¾ agent è·Ÿåˆ¥çš„ agent æ•¸é‡æ˜¯ä¸€æ¨£çš„<br>
ç…§é“ç†å¯èƒ½åŠ ä¸€å€‹ agent å°±å¯ä»¥äº†</p>
<p><a href="https://www.kubernetes.org.cn/5883.html" target="_blank" rel="noopener noreffer ">Portainerä¸€ä¸ªè½»é‡çº§çš„Dockerç¯å¢ƒç®¡ç†UI_Kubernetesä¸­æ–‡ç¤¾åŒº</a><br>
<a href="https://yylin1.github.io/2019/01/28/portainer-set-tls/" target="_blank" rel="noopener noreffer ">Portainer é€é TLS èªè­‰ - Yi Yang&rsquo;s Blog</a></p>
<h2 id="ä½¿ç”¨-play-with-docker">ä½¿ç”¨ play with docker</h2>
<p>åš manager å’Œ worker æœ‰é è¨­ä¸‰å€‹ template<br>
æˆ‘å¾Œä¾†ç™¼ç¾ä¸æ˜¯æ¯ä¸€å€‹ template éƒ½æœ‰å¹«ä½ åš swarm join<br>
æ‰€ä»¥å»ºè­°è‰¯å¥½ç¿’æ…£ä½¿ç”¨ <code>docker node ls</code> æŸ¥çœ‹æœ‰å“ªäº›åŠ å…¥</p>
<h2 id="history">history</h2>
<p>é è¨­æ˜¯ 5 å€‹</p>
<p><a href="https://stackoverflow.com/questions/42364695/how-to-clear-docker-task-history" target="_blank" rel="noopener noreffer ">linux - How to clear Docker task history - Stack Overflow</a></p>
<p>docker swarm update &ndash;task-history-limit 5</p>
<h2 id="ä½¿ç”¨-swarm-volume-å¯èƒ½å•é¡Œ">ä½¿ç”¨ swarm volume å¯èƒ½å•é¡Œ</h2>
<p>æœ‰æ™‚é–“ç ”ç©¶å†è¨˜éŒ„</p>
<p><a href="https://www.cnblogs.com/bigberg/p/8795265.html" target="_blank" rel="noopener noreffer ">Dockeré›†ç¾¤ç®¡ç†Swarmæ•°æ®æŒä¹…åŒ– - Bigberg - åšå®¢å›­</a><br>
<a href="https://blog.51cto.com/ganbing/2091292" target="_blank" rel="noopener noreffer ">&ldquo;ä¸‰å‰‘å®¢â€ä¹‹Swarmåº”ç”¨æ•°æ®æŒä¹…åŒ–ç®¡ç†ï¼ˆvolume ã€bind ã€ nfsï¼‰-DevOps(ç”˜å…µ)-51CTOåšå®¢</a></p>
<h2 id="swarm-conjob">swarm conjob</h2>
<p>è½èªª swarm å¯ä»¥è¨­å®šæ’ç¨‹<br>
æˆ‘æœå°‹ä¸€ä¸‹å®Œå…¨æ²’æœ‰çœ‹åˆ°<br>
çœ‹åˆ°ä»‹ç´¹æœ‰ schedule ï¼Œæˆ‘ä»¥ç‚ºå…§å»ºæ‡‰è©²æœƒæœ‰æ’ç¨‹æ±è¥¿ï¼Œä¸éæˆ‘çŒœé€™å€‹è·Ÿ docker service å¯èƒ½æœ‰é—œä¿‚<br>
ä¸éæœ€å¾Œé‚„æ˜¯æ‰¾åˆ° <a href="https://github.com/crazy-max/swarm-cronjob" target="_blank" rel="noopener noreffer ">crazy-max/swarm-cronjob: ğŸ“… Create jobs on a time-based schedule on Docker ğŸ³ Swarm</a><br>
å¥½åƒæ–°å¢ label å°±èƒ½è¨­å®šæ’ç¨‹</p>
<p>ä¸éæœ‰çœ‹åˆ°é¡ä¼¼çœ‹åˆ°æ¯æœˆæœ€å¾Œä¸€å¤©åŸ·è¡Œç¨‹å¼<br>
çœ‹åˆ°æœ‰äººå»ºè­°ç”¨ æ¯æœˆç¬¬ä¸€å¤©<br>
ä¹‹å‰æœ‰å¯«éé€™ç¯‡è§£æ±º<a href="https://malagege.github.io/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/" target="_blank" rel="noopener noreffer ">æ’ç¨‹ crontab æ™‚é–“è¨­å®šæœˆåº•åŸ·è¡Œæ–¹æ³• | ç¨‹å¼ç‹‚æƒ³ç­†è¨˜</a><br>
ç”±æ–¼æˆ‘å…¬å¸çš„ä¸»æ©Ÿç”¨UTCæ™‚é–“ï¼Œä½†è¨­å®šè·Ÿç¨‹å¼æ’ç¨‹ä¸æ˜¯UTCæ™‚é–“<br>
æ‰€ä»¥å¿…é ˆä½¿ç”¨é€™å€‹æ–¹å¼å®Œæˆ</p>
<p><del>æœ‰ç©ºåœ¨è£œé€™å€‹</del></p>
<p><strong>2019-12-09</strong></p>
<p>ä»Šå¤©å˜—è©¦äº†ä¸€å¤swarm-job<br>
æ¶è¨­ä¸Šéå¸¸æ–¹ä¾¿<br>
ä½†æœ‰å¹¾é»è¦ç‰¹åˆ¥æ³¨æ„</p>
<h3 id="å®‰è£-swarm-cronjob">å®‰è£ swarm-cronjob</h3>
<p>å¯ä»¥ç”¨ play wtih docker æ¸¬è©¦ï¼Œé–‹ template 3 å€‹ manager 2 å€‹ worker<br>
æ–¹æ³•è·Ÿä¸Šé¢ä¸€æ¨£</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker service create <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --name portainer <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --publish 9000:9000 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --publish 8000:8000 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --replicas<span class="o">=</span><span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --constraint <span class="s1">&#39;node.role == manager&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    portainer/portainer
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -L https://downloads.portainer.io/agent-stack.yml -o agent-stack.yml <span class="o">&amp;&amp;</span> docker stack deploy --compose-file<span class="o">=</span>agent-stack.yml portainer-agent
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## å®‰è£ swarm-cronjob</span>
</span></span><span class="line"><span class="cl">docker service create --name swarm_cronjob <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --mount <span class="nv">type</span><span class="o">=</span>bind,source<span class="o">=</span>/var/run/docker.sock,target<span class="o">=</span>/var/run/docker.sock <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="s2">&#34;LOG_LEVEL=info&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --env <span class="s2">&#34;LOG_JSON=false&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --constraint <span class="s2">&#34;node.role == manager&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  crazymax/swarm-cronjob
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶ä»–æ›´å¤šæ–¹å¼çœ‹å®˜æ–¹æ–‡ä»¶</p>
<h3 id="åŸ·è¡Œæ³¨æ„">åŸ·è¡Œæ³¨æ„</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Set command to run the task command éœ€è¦ä¸‹ command 
</span></span><span class="line"><span class="cl">Set mode to replicated (default)  ä½¿ç”¨ replicated mode
</span></span><span class="line"><span class="cl">Set replicas to 0 to avoid running task as soon as the service is deployed  ä¸€é–‹å§‹è¨­å®šreplicas=0ï¼Œå¦å‰‡æœƒè­°é–‹å§‹å°±æœƒè·‘
</span></span><span class="line"><span class="cl">Set restart_policy.condition to none. This is needed for a cronjob, otherwise the task will restart automatically restart_policy è«‹è¨­å®š none ï¼Œå¦å‰‡ä¸€é–‹å§‹æœƒä¸€ç›´åŸ·è¡Œ
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker service create --name=my_hello --replicas=0 --restart-condition=none --label  swarm.cronjob.enable=&#34;true&#34; --label swarm.cronjob.schedule=&#34;*/2 * * * *&#34; hello-world ./hello 
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®˜æ–¹å¯ä»¥å¸¶çš„ labelï¼Œå‰é¢å…©å€‹æ˜¯å¿…å¸¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">swarm.cronjob.enable : Set to true to enable the cronjob (required)
</span></span><span class="line"><span class="cl">swarm.cronjob.schedule : CRON expression format to use. (required)
</span></span><span class="line"><span class="cl">swarm.cronjob.skip-running : Do not start a job if the service is currently running (optional)
</span></span><span class="line"><span class="cl">swarm.cronjob.replicas : Number of replicas to set on schedule in replicated mode. (optional, default 1)
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœ‰ç©ºå†æ”¾ stack yml</p>
<h3 id="agent-mode-global">agent mode global</h3>
<p>æˆ‘ç™¼ç¾æˆ‘åªè¦æ–°å¢ node åŠ å…¥ swarmï¼Œå°±æœƒè‡ªå‹•å®‰è£ agent<br>
portainer ä»€éº¼è¨­å®šéƒ½ä¸ç”¨åš!!!!å¤ªçŒ›å•¦</p>
<h2 id="ç›¸é—œé€£çµ">ç›¸é—œé€£çµ</h2>
<p>åŠ å…¥æœ€æ„›çš„é€£çµï¼Œä½†æˆ‘æ²’æ•´ç†ï¼Œæˆ‘å°±æ”¾ä¸€äº›å½©è›‹å§XD</p>
<ul>
<li><a href="https://ithelp.ithome.com.tw/articles/10196261" target="_blank" rel="noopener noreffer ">[Day 19] åœ¨ Kubernetes ä¸­å¯¦ç¾è² è¼‰å¹³è¡¡ - Ingress Controller - iT é‚¦å¹«å¿™::ä¸€èµ·å¹«å¿™è§£æ±ºé›£é¡Œï¼Œæ‹¯æ•‘ IT äººçš„ä¸€å¤©</a></li>
<li><a href="https://objcoding.com/2018/09/03/docker-stack/" target="_blank" rel="noopener noreffer ">Docker Stackå¤šæœåŠ¡ç¼–æ’</a></li>
<li><a href="https://super9.space/archives/1653" target="_blank" rel="noopener noreffer ">Docker Swarm é€²éšå¯¦æˆ° (1) - Super9</a></li>
<li><a href="https://blog.toright.com/posts/5598/%E7%94%A8-docker-swarm-%E9%83%A8%E7%BD%B2%E4%BD%A0%E7%9A%84%E9%9B%B2%E6%9C%8D%E5%8B%99-%E5%AF%A6%E4%BD%9C%E7%AF%87.html" target="_blank" rel="noopener noreffer ">ç”¨ Docker Swarm éƒ¨ç½²ä½ çš„é›²æœå‹™ (å¯¦ä½œç¯‡) - Soul &amp; Shell Blog</a></li>
<li><a href="https://tingsyuanwang.github.io/blogs/2017/08/01/docker-%E5%BF%AB%E9%80%9F%E5%AD%B8%E7%BF%92%E8%87%AA%E6%88%91%E6%8C%91%E6%88%B0-Day7/" target="_blank" rel="noopener noreffer ">docker å¿«é€Ÿå­¸ç¿’è‡ªæˆ‘æŒ‘æˆ° Day7 | Vincent&rsquo;s Corner</a></li>
<li><a href="https://blog.tiger-workshop.com/docker-notes-how-to-run-compose-swarm-mode/" target="_blank" rel="noopener noreffer ">[Docker å­¸ç¿’ç­†è¨˜] Run/Compose/Swarm Mode å¹¾å€‹é‹è¡Œæ–¹å¼åŸºæœ¬æ¦‚å¿µ â€“ Tiger-Workshop Blog</a></li>
<li><a href="https://www.cnblogs.com/Java3y/p/11982381.html" target="_blank" rel="noopener noreffer ">å…¨ç½‘æœ€é€šä¿—æ˜“æ‡‚çš„Kafkaå…¥é—¨ï¼ - Java3y - åšå®¢å›­</a></li>
<li><a href="https://www.cnblogs.com/bigberg/p/8795265.html" target="_blank" rel="noopener noreffer ">Dockeré›†ç¾¤ç®¡ç†Swarmæ•°æ®æŒä¹…åŒ– - Bigberg - åšå®¢å›­</a></li>
<li><a href="https://www.itread01.com/content/1547272631.html" target="_blank" rel="noopener noreffer ">Docker Swarmå¢é›†å¯¦è¸â€”â€”éƒ¨ç½²ç¯‡ - ITé–±è®€</a></li>
<li><a href="https://www.hkposts.com/55989/apache%E7%9A%84%E4%B8%89%E7%A8%AE%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F%EF%BC%88prefork-worker-event%EF%BC%89/" target="_blank" rel="noopener noreffer ">Apacheçš„ä¸‰ç¨®å·¥ä½œæ¨¡å¼ï¼ˆprefork/worker/Eventï¼‰</a></li>
<li><a href="https://collabnix.com/running-cron-jobs-container-on-5-node-docker-swarm-mode-cluster/" target="_blank" rel="noopener noreffer ">Running Cron Jobs container on 5-Node Docker Swarm Mode Cluster â€“ Collabnix</a></li>
<li><a href="https://www.itread01.com/content/1548180022.html" target="_blank" rel="noopener noreffer ">dockerå¢é›†ç®¡ç†å·¥å…·&ndash;Swarmä»¥åŠPortainerå®‰è£ - ITé–±è®€</a></li>
<li><a href="https://github.com/robfig/cron/issues/234" target="_blank" rel="noopener noreffer ">How to set the last day of the month? Â· Issue #234 Â· robfig/cron</a></li>
<li><a href="https://www.kubernetes.org.cn/5883.html" target="_blank" rel="noopener noreffer ">Portainerä¸€ä¸ªè½»é‡çº§çš„Dockerç¯å¢ƒç®¡ç†UI_Kubernetesä¸­æ–‡ç¤¾åŒº</a></li>
<li><a href="https://blog.coding.net/blog/Haproxy&amp;Keepalived" target="_blank" rel="noopener noreffer ">ä½¿ç”¨ Haproxy + Keepalived æ„å»ºåŸºäº Docker çš„é«˜å¯ç”¨è´Ÿè½½å‡è¡¡æœåŠ¡ï¼ˆä¸€ï¼‰ - CODING åšå®¢</a></li>
<li><a href="https://blog.51cto.com/dengaosky/2129856" target="_blank" rel="noopener noreffer ">Haproxy+Keepalivedé«˜å¯ç”¨ç¯å¢ƒéƒ¨ç½²æ¢³ç†ï¼ˆä¸»ä¸»å’Œä¸»ä»æ¨¡å¼ï¼‰-çœ¼çœ¸åˆ»ç€ä½ çš„å¾®ç¬‘-51CTOåšå®¢</a></li>
<li><a href="https://stackoverflow.com/questions/41705134/how-can-i-remove-shutdown-docker-service-tasks-after-a-rolling-update" target="_blank" rel="noopener noreffer ">containers - How can I remove shutdown Docker Service tasks after a rolling update? - Stack Overflow</a></li>
<li><a href="https://blog.rj-bai.com/post/150.html" target="_blank" rel="noopener noreffer ">Docker Swarm å®æˆ˜ - rj-bai &rsquo;s Blog</a></li>
</ul>
<h2 id="é‡å°-cpu-æ¶æ§‹é¸æ“‡-image">é‡å° CPU æ¶æ§‹é¸æ“‡ image</h2>
<ol>
<li></li>
</ol>
<p>docker pull [OPTIONS] NAME[:TAG|@DIGEST]</p>
<p>å¦‚ï¼š<br>
docker pull ubuntu@sha256:45b23dee08af5e43a7fea6c4cf9c25ccf269ee113168c19722f8787</p>
<ol start="2">
<li></li>
</ol>
<p>// é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŒ‡å®šarch:<br>
docker run -it &ndash;rm <!-- raw HTML omitted -->:<!-- raw HTML omitted -->  arch=linux/arm64</p>
<p>æ–¹æ³•ä¸‰å°±ä¸å¯«äº†ï¼Œçœ‹èµ·ä¾†å¾ˆéº»ç…©</p>
<p>åƒè€ƒ:<a href="https://blog.csdn.net/u010918487/article/details/107067224" target="_blank" rel="noopener noreffer ">docker pull æŒ‡å®š os/arch_Yuçš„åšå®¢-CSDNåšå®¢</a></p><div align="center">
    <script
      async
      src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865" crossorigin="anonymous"
    ></script>
    <ins
      class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-layout="in-article"
      data-ad-format="fluid"
      data-ad-client="ca-pub-1439458814178865"
      data-ad-slot="2236653478"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  
        </div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2019-12-07</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://malagege.github.io/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/" data-title="docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç†" data-hashtags="docker,swarm"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://malagege.github.io/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/" data-hashtag="docker"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://malagege.github.io/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/" data-title="docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç†"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://malagege.github.io/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/" data-title="docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç†"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on å¾®åš" data-sharer="weibo" data-url="https://malagege.github.io/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/" data-title="docker swarm ä¸€äº›æŒ‡ä»¤ç›¸é—œæ•´ç†"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/blog/tags/docker/">docker</a>,&nbsp;<a href="/blog/tags/swarm/">swarm</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/blog/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/" class="prev" rel="prev" title="php pcntl_fork å¤šç¨‹åºå°è¨˜"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>php pcntl_fork å¤šç¨‹åºå°è¨˜</a>
            <a href="/blog/posts/%E5%BF%AB%E9%80%9F%E8%AA%BF%E6%95%B4-INERT-UPDATE-SQL-%E8%AA%9E%E6%B3%95/" class="next" rel="next" title="å¿«é€Ÿèª¿æ•´ INERT / UPDATE SQL èªæ³•">å¿«é€Ÿèª¿æ•´ INERT / UPDATE SQL èªæ³•<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.114.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/blog/" target="_blank">malagege</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://malagege-blog.disqus.com/embed.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"search":{"algoliaAppID":"4LYONZIY18","algoliaIndex":"malagege_blog","algoliaSearchKey":"30dc05f673e702e0701b9b40cfa44eac","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/blog/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-105195903-2', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-105195903-2" async></script></body>
</html>
